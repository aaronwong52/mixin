(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))t(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const c of p.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function o(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerpolicy&&(p.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?p.credentials="include":h.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function t(h){if(h.ep)return;h.ep=!0;const p=o(h);fetch(h.href,p)}})();var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function k_(n){var r=n.default;if(typeof r=="function"){var o=function(){return r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(n).forEach(function(t){var h=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(o,t,h.get?h:{enumerable:!0,get:function(){return n[t]}})}),o}var Gc={exports:{}},wo={},Ot={exports:{}},br={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var g0=Object.getOwnPropertySymbols,R_=Object.prototype.hasOwnProperty,O_=Object.prototype.propertyIsEnumerable;function P_(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function I_(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var r={},o=0;o<10;o++)r["_"+String.fromCharCode(o)]=o;var t=Object.getOwnPropertyNames(r).map(function(p){return r[p]});if(t.join("")!=="0123456789")return!1;var h={};return"abcdefghijklmnopqrst".split("").forEach(function(p){h[p]=p}),Object.keys(Object.assign({},h)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var d1=I_()?Object.assign:function(n,r){for(var o,t=P_(n),h,p=1;p<arguments.length;p++){o=Object(arguments[p]);for(var c in o)R_.call(o,c)&&(t[c]=o[c]);if(g0){h=g0(o);for(var a=0;a<h.length;a++)O_.call(o,h[a])&&(t[h[a]]=o[h[a]])}}return t};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf=d1,Lo=typeof Symbol=="function"&&Symbol.for,Ll=Lo?Symbol.for("react.element"):60103,D_=Lo?Symbol.for("react.portal"):60106,L_=Lo?Symbol.for("react.fragment"):60107,N_=Lo?Symbol.for("react.strict_mode"):60108,B_=Lo?Symbol.for("react.profiler"):60114,F_=Lo?Symbol.for("react.provider"):60109,U_=Lo?Symbol.for("react.context"):60110,V_=Lo?Symbol.for("react.forward_ref"):60112,G_=Lo?Symbol.for("react.suspense"):60113,z_=Lo?Symbol.for("react.memo"):60115,H_=Lo?Symbol.for("react.lazy"):60116,v0=typeof Symbol=="function"&&Symbol.iterator;function Nl(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f1={};function wa(n,r,o){this.props=n,this.context=r,this.refs=f1,this.updater=o||h1}wa.prototype.isReactComponent={};wa.prototype.setState=function(n,r){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error(Nl(85));this.updater.enqueueSetState(this,n,r,"setState")};wa.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function p1(){}p1.prototype=wa.prototype;function jf(n,r,o){this.props=n,this.context=r,this.refs=f1,this.updater=o||h1}var Ef=jf.prototype=new p1;Ef.constructor=jf;Tf(Ef,wa.prototype);Ef.isPureReactComponent=!0;var Cf={current:null},m1=Object.prototype.hasOwnProperty,y1={key:!0,ref:!0,__self:!0,__source:!0};function g1(n,r,o){var t,h={},p=null,c=null;if(r!=null)for(t in r.ref!==void 0&&(c=r.ref),r.key!==void 0&&(p=""+r.key),r)m1.call(r,t)&&!y1.hasOwnProperty(t)&&(h[t]=r[t]);var a=arguments.length-2;if(a===1)h.children=o;else if(1<a){for(var s=Array(a),d=0;d<a;d++)s[d]=arguments[d+2];h.children=s}if(n&&n.defaultProps)for(t in a=n.defaultProps,a)h[t]===void 0&&(h[t]=a[t]);return{$$typeof:Ll,type:n,key:p,ref:c,props:h,_owner:Cf.current}}function W_(n,r){return{$$typeof:Ll,type:n.type,key:r,ref:n.ref,props:n.props,_owner:n._owner}}function Mf(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ll}function q_(n){var r={"=":"=0",":":"=2"};return"$"+(""+n).replace(/[=:]/g,function(o){return r[o]})}var v1=/\/+/g,zu=[];function _1(n,r,o,t){if(zu.length){var h=zu.pop();return h.result=n,h.keyPrefix=r,h.func=o,h.context=t,h.count=0,h}return{result:n,keyPrefix:r,func:o,context:t,count:0}}function b1(n){n.result=null,n.keyPrefix=null,n.func=null,n.context=null,n.count=0,10>zu.length&&zu.push(n)}function ch(n,r,o,t){var h=typeof n;(h==="undefined"||h==="boolean")&&(n=null);var p=!1;if(n===null)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(n.$$typeof){case Ll:case D_:p=!0}}if(p)return o(t,n,r===""?"."+Fd(n,0):r),1;if(p=0,r=r===""?".":r+":",Array.isArray(n))for(var c=0;c<n.length;c++){h=n[c];var a=r+Fd(h,c);p+=ch(h,a,o,t)}else if(n===null||typeof n!="object"?a=null:(a=v0&&n[v0]||n["@@iterator"],a=typeof a=="function"?a:null),typeof a=="function")for(n=a.call(n),c=0;!(h=n.next()).done;)h=h.value,a=r+Fd(h,c++),p+=ch(h,a,o,t);else if(h==="object")throw o=""+n,Error(Nl(31,o==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":o,""));return p}function dh(n,r,o){return n==null?0:ch(n,"",r,o)}function Fd(n,r){return typeof n=="object"&&n!==null&&n.key!=null?q_(n.key):r.toString(36)}function X_(n,r){n.func.call(n.context,r,n.count++)}function Y_(n,r,o){var t=n.result,h=n.keyPrefix;n=n.func.call(n.context,r,n.count++),Array.isArray(n)?hh(n,t,o,function(p){return p}):n!=null&&(Mf(n)&&(n=W_(n,h+(!n.key||r&&r.key===n.key?"":(""+n.key).replace(v1,"$&/")+"/")+o)),t.push(n))}function hh(n,r,o,t,h){var p="";o!=null&&(p=(""+o).replace(v1,"$&/")+"/"),r=_1(r,p,t,h),dh(n,Y_,r),b1(r)}var x1={current:null};function ws(){var n=x1.current;if(n===null)throw Error(Nl(321));return n}var $_={ReactCurrentDispatcher:x1,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Cf,IsSomeRendererActing:{current:!1},assign:Tf};br.Children={map:function(n,r,o){if(n==null)return n;var t=[];return hh(n,t,null,r,o),t},forEach:function(n,r,o){if(n==null)return n;r=_1(null,null,r,o),dh(n,X_,r),b1(r)},count:function(n){return dh(n,function(){return null},null)},toArray:function(n){var r=[];return hh(n,r,null,function(o){return o}),r},only:function(n){if(!Mf(n))throw Error(Nl(143));return n}};br.Component=wa;br.Fragment=L_;br.Profiler=B_;br.PureComponent=jf;br.StrictMode=N_;br.Suspense=G_;br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$_;br.cloneElement=function(n,r,o){if(n==null)throw Error(Nl(267,n));var t=Tf({},n.props),h=n.key,p=n.ref,c=n._owner;if(r!=null){if(r.ref!==void 0&&(p=r.ref,c=Cf.current),r.key!==void 0&&(h=""+r.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(s in r)m1.call(r,s)&&!y1.hasOwnProperty(s)&&(t[s]=r[s]===void 0&&a!==void 0?a[s]:r[s])}var s=arguments.length-2;if(s===1)t.children=o;else if(1<s){a=Array(s);for(var d=0;d<s;d++)a[d]=arguments[d+2];t.children=a}return{$$typeof:Ll,type:n.type,key:h,ref:p,props:t,_owner:c}};br.createContext=function(n,r){return r===void 0&&(r=null),n={$$typeof:U_,_calculateChangedBits:r,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider={$$typeof:F_,_context:n},n.Consumer=n};br.createElement=g1;br.createFactory=function(n){var r=g1.bind(null,n);return r.type=n,r};br.createRef=function(){return{current:null}};br.forwardRef=function(n){return{$$typeof:V_,render:n}};br.isValidElement=Mf;br.lazy=function(n){return{$$typeof:H_,_ctor:n,_status:-1,_result:null}};br.memo=function(n,r){return{$$typeof:z_,type:n,compare:r===void 0?null:r}};br.useCallback=function(n,r){return ws().useCallback(n,r)};br.useContext=function(n,r){return ws().useContext(n,r)};br.useDebugValue=function(){};br.useEffect=function(n,r){return ws().useEffect(n,r)};br.useImperativeHandle=function(n,r,o){return ws().useImperativeHandle(n,r,o)};br.useLayoutEffect=function(n,r){return ws().useLayoutEffect(n,r)};br.useMemo=function(n,r){return ws().useMemo(n,r)};br.useReducer=function(n,r,o){return ws().useReducer(n,r,o)};br.useRef=function(n){return ws().useRef(n)};br.useState=function(n){return ws().useState(n)};br.version="16.14.0";(function(n){n.exports=br})(Ot);const zc=Sf(Ot.exports);var w1={exports:{}},S1={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){var r,o,t,h,p;if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,a=null,s=function(){if(c!==null)try{var j=n.unstable_now();c(!0,j),c=null}catch(F){throw setTimeout(s,0),F}},d=Date.now();n.unstable_now=function(){return Date.now()-d},r=function(j){c!==null?setTimeout(r,0,j):(c=j,setTimeout(s,0))},o=function(j,F){a=setTimeout(j,F)},t=function(){clearTimeout(a)},h=function(){return!1},p=n.unstable_forceFrameRate=function(){}}else{var f=window.performance,y=window.Date,u=window.setTimeout,l=window.clearTimeout;if(typeof console<"u"){var i=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof i!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof f=="object"&&typeof f.now=="function")n.unstable_now=function(){return f.now()};else{var m=y.now();n.unstable_now=function(){return y.now()-m}}var g=!1,v=null,b=-1,w=5,S=0;h=function(){return n.unstable_now()>=S},p=function(){},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<j?Math.floor(1e3/j):5};var x=new MessageChannel,M=x.port2;x.port1.onmessage=function(){if(v!==null){var j=n.unstable_now();S=j+w;try{v(!0,j)?M.postMessage(null):(g=!1,v=null)}catch(F){throw M.postMessage(null),F}}else g=!1},r=function(j){v=j,g||(g=!0,M.postMessage(null))},o=function(j,F){b=u(function(){j(n.unstable_now())},F)},t=function(){l(b),b=-1}}function C(j,F){var V=j.length;j.push(F);e:for(;;){var ae=V-1>>>1,ue=j[ae];if(ue!==void 0&&0<D(ue,F))j[ae]=F,j[V]=ue,V=ae;else break e}}function E(j){return j=j[0],j===void 0?null:j}function P(j){var F=j[0];if(F!==void 0){var V=j.pop();if(V!==F){j[0]=V;e:for(var ae=0,ue=j.length;ae<ue;){var Ee=2*(ae+1)-1,Re=j[Ee],Ce=Ee+1,xe=j[Ce];if(Re!==void 0&&0>D(Re,V))xe!==void 0&&0>D(xe,Re)?(j[ae]=xe,j[Ce]=V,ae=Ce):(j[ae]=Re,j[Ee]=V,ae=Ee);else if(xe!==void 0&&0>D(xe,V))j[ae]=xe,j[Ce]=V,ae=Ce;else break e}}return F}return null}function D(j,F){var V=j.sortIndex-F.sortIndex;return V!==0?V:j.id-F.id}var I=[],U=[],G=1,W=null,te=3,Q=!1,J=!1,oe=!1;function ee(j){for(var F=E(U);F!==null;){if(F.callback===null)P(U);else if(F.startTime<=j)P(U),F.sortIndex=F.expirationTime,C(I,F);else break;F=E(U)}}function le(j){if(oe=!1,ee(j),!J)if(E(I)!==null)J=!0,r(de);else{var F=E(U);F!==null&&o(le,F.startTime-j)}}function de(j,F){J=!1,oe&&(oe=!1,t()),Q=!0;var V=te;try{for(ee(F),W=E(I);W!==null&&(!(W.expirationTime>F)||j&&!h());){var ae=W.callback;if(ae!==null){W.callback=null,te=W.priorityLevel;var ue=ae(W.expirationTime<=F);F=n.unstable_now(),typeof ue=="function"?W.callback=ue:W===E(I)&&P(I),ee(F)}else P(I);W=E(I)}if(W!==null)var Ee=!0;else{var Re=E(U);Re!==null&&o(le,Re.startTime-F),Ee=!1}return Ee}finally{W=null,te=V,Q=!1}}function se(j){switch(j){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var O=p;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){J||Q||(J=!0,r(de))},n.unstable_getCurrentPriorityLevel=function(){return te},n.unstable_getFirstCallbackNode=function(){return E(I)},n.unstable_next=function(j){switch(te){case 1:case 2:case 3:var F=3;break;default:F=te}var V=te;te=F;try{return j()}finally{te=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=O,n.unstable_runWithPriority=function(j,F){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=te;te=j;try{return F()}finally{te=V}},n.unstable_scheduleCallback=function(j,F,V){var ae=n.unstable_now();if(typeof V=="object"&&V!==null){var ue=V.delay;ue=typeof ue=="number"&&0<ue?ae+ue:ae,V=typeof V.timeout=="number"?V.timeout:se(j)}else V=se(j),ue=ae;return V=ue+V,j={id:G++,callback:F,priorityLevel:j,startTime:ue,expirationTime:V,sortIndex:-1},ue>ae?(j.sortIndex=ue,C(U,j),E(I)===null&&j===E(U)&&(oe?t():oe=!0,o(le,ue-ae))):(j.sortIndex=V,C(I,j),J||Q||(J=!0,r(de))),j},n.unstable_shouldYield=function(){var j=n.unstable_now();ee(j);var F=E(I);return F!==W&&W!==null&&F!==null&&F.callback!==null&&F.startTime<=j&&F.expirationTime<W.expirationTime||h()},n.unstable_wrapCallback=function(j){var F=te;return function(){var V=te;te=F;try{return j.apply(this,arguments)}finally{te=V}}}})(S1);(function(n){n.exports=S1})(w1);/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Ot.exports,zn=d1,Cn=w1.exports;function Pt(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Hc)throw Error(Pt(227));function Z_(n,r,o,t,h,p,c,a,s){var d=Array.prototype.slice.call(arguments,3);try{r.apply(o,d)}catch(f){this.onError(f)}}var Ka=!1,Hu=null,Wu=!1,fh=null,Q_={onError:function(n){Ka=!0,Hu=n}};function K_(n,r,o,t,h,p,c,a,s){Ka=!1,Hu=null,Z_.apply(Q_,arguments)}function J_(n,r,o,t,h,p,c,a,s){if(K_.apply(this,arguments),Ka){if(Ka){var d=Hu;Ka=!1,Hu=null}else throw Error(Pt(198));Wu||(Wu=!0,fh=d)}}var Af=null,T1=null,j1=null;function _0(n,r,o){var t=n.type||"unknown-event";n.currentTarget=j1(o),J_(t,r,void 0,n),n.currentTarget=null}var qu=null,Wi={};function E1(){if(qu)for(var n in Wi){var r=Wi[n],o=qu.indexOf(n);if(!(-1<o))throw Error(Pt(96,n));if(!Xu[o]){if(!r.extractEvents)throw Error(Pt(97,n));Xu[o]=r,o=r.eventTypes;for(var t in o){var h=void 0,p=o[t],c=r,a=t;if(ph.hasOwnProperty(a))throw Error(Pt(99,a));ph[a]=p;var s=p.phasedRegistrationNames;if(s){for(h in s)s.hasOwnProperty(h)&&b0(s[h],c,a);h=!0}else p.registrationName?(b0(p.registrationName,c,a),h=!0):h=!1;if(!h)throw Error(Pt(98,t,n))}}}}function b0(n,r,o){if(ua[n])throw Error(Pt(100,n));ua[n]=r,kf[n]=r.eventTypes[o].dependencies}var Xu=[],ph={},ua={},kf={};function C1(n){var r=!1,o;for(o in n)if(n.hasOwnProperty(o)){var t=n[o];if(!Wi.hasOwnProperty(o)||Wi[o]!==t){if(Wi[o])throw Error(Pt(102,o));Wi[o]=t,r=!0}}r&&E1()}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=null,ta=null,ra=null;function x0(n){if(n=T1(n)){if(typeof mh!="function")throw Error(Pt(280));var r=n.stateNode;r&&(r=Af(r),mh(n.stateNode,n.type,r))}}function M1(n){ta?ra?ra.push(n):ra=[n]:ta=n}function A1(){if(ta){var n=ta,r=ra;if(ra=ta=null,x0(n),r)for(n=0;n<r.length;n++)x0(r[n])}}function Rf(n,r){return n(r)}function k1(n,r,o,t,h){return n(r,o,t,h)}function Of(){}var R1=Rf,ci=!1,Ud=!1;function Pf(){(ta!==null||ra!==null)&&(Of(),A1())}function O1(n,r,o){if(Ud)return n(r,o);Ud=!0;try{return R1(n,r,o)}finally{Ud=!1,Pf()}}var e2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w0=Object.prototype.hasOwnProperty,S0={},T0={};function t2(n){return w0.call(T0,n)?!0:w0.call(S0,n)?!1:e2.test(n)?T0[n]=!0:(S0[n]=!0,!1)}function r2(n,r,o,t){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return t?!1:o!==null?!o.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function n2(n,r,o,t){if(r===null||typeof r>"u"||r2(n,r,o,t))return!0;if(t)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Hn(n,r,o,t,h,p){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=t,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=n,this.type=r,this.sanitizeURL=p}var Mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Mn[n]=new Hn(n,0,!1,n,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];Mn[r]=new Hn(r,1,!1,n[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Mn[n]=new Hn(n,2,!1,n.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Mn[n]=new Hn(n,2,!1,n,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Mn[n]=new Hn(n,3,!1,n.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(n){Mn[n]=new Hn(n,3,!0,n,null,!1)});["capture","download"].forEach(function(n){Mn[n]=new Hn(n,4,!1,n,null,!1)});["cols","rows","size","span"].forEach(function(n){Mn[n]=new Hn(n,6,!1,n,null,!1)});["rowSpan","start"].forEach(function(n){Mn[n]=new Hn(n,5,!1,n.toLowerCase(),null,!1)});var If=/[\-:]([a-z])/g;function Df(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(If,Df);Mn[r]=new Hn(r,1,!1,n,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(If,Df);Mn[r]=new Hn(r,1,!1,n,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(If,Df);Mn[r]=new Hn(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(n){Mn[n]=new Hn(n,1,!1,n.toLowerCase(),null,!1)});Mn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(n){Mn[n]=new Hn(n,1,!1,n.toLowerCase(),null,!0)});var Po=Hc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Po.hasOwnProperty("ReactCurrentDispatcher")||(Po.ReactCurrentDispatcher={current:null});Po.hasOwnProperty("ReactCurrentBatchConfig")||(Po.ReactCurrentBatchConfig={suspense:null});function Lf(n,r,o,t){var h=Mn.hasOwnProperty(r)?Mn[r]:null,p=h!==null?h.type===0:t?!1:!(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N");p||(n2(r,o,h,t)&&(o=null),t||h===null?t2(r)&&(o===null?n.removeAttribute(r):n.setAttribute(r,""+o)):h.mustUseProperty?n[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,t=h.attributeNamespace,o===null?n.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,t?n.setAttributeNS(t,r,o):n.setAttribute(r,o))))}var o2=/^(.*)[\\\/]/,Kn=typeof Symbol=="function"&&Symbol.for,su=Kn?Symbol.for("react.element"):60103,qi=Kn?Symbol.for("react.portal"):60106,li=Kn?Symbol.for("react.fragment"):60107,P1=Kn?Symbol.for("react.strict_mode"):60108,Eu=Kn?Symbol.for("react.profiler"):60114,I1=Kn?Symbol.for("react.provider"):60109,D1=Kn?Symbol.for("react.context"):60110,s2=Kn?Symbol.for("react.concurrent_mode"):60111,Nf=Kn?Symbol.for("react.forward_ref"):60112,Cu=Kn?Symbol.for("react.suspense"):60113,yh=Kn?Symbol.for("react.suspense_list"):60120,Bf=Kn?Symbol.for("react.memo"):60115,L1=Kn?Symbol.for("react.lazy"):60116,N1=Kn?Symbol.for("react.block"):60121,j0=typeof Symbol=="function"&&Symbol.iterator;function Va(n){return n===null||typeof n!="object"?null:(n=j0&&n[j0]||n["@@iterator"],typeof n=="function"?n:null)}function i2(n){if(n._status===-1){n._status=0;var r=n._ctor;r=r(),n._result=r,r.then(function(o){n._status===0&&(o=o.default,n._status=1,n._result=o)},function(o){n._status===0&&(n._status=2,n._result=o)})}}function gs(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case li:return"Fragment";case qi:return"Portal";case Eu:return"Profiler";case P1:return"StrictMode";case Cu:return"Suspense";case yh:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D1:return"Context.Consumer";case I1:return"Context.Provider";case Nf:var r=n.render;return r=r.displayName||r.name||"",n.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case Bf:return gs(n.type);case N1:return gs(n.render);case L1:if(n=n._status===1?n._result:null)return gs(n)}return null}function Ff(n){var r="";do{e:switch(n.tag){case 3:case 4:case 6:case 7:case 10:case 9:var o="";break e;default:var t=n._debugOwner,h=n._debugSource,p=gs(n.type);o=null,t&&(o=gs(t.type)),t=p,p="",h?p=" (at "+h.fileName.replace(o2,"")+":"+h.lineNumber+")":o&&(p=" (created by "+o+")"),o=`
    in `+(t||"Unknown")+p}r+=o,n=n.return}while(n);return r}function Zs(n){switch(typeof n){case"boolean":case"number":case"object":case"string":case"undefined":return n;default:return""}}function B1(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function a2(n){var r=B1(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),t=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(c){t=""+c,p.call(this,c)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return t},setValue:function(c){t=""+c},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function iu(n){n._valueTracker||(n._valueTracker=a2(n))}function F1(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),t="";return n&&(t=B1(n)?n.checked?"true":"false":n.value),n=t,n!==o?(r.setValue(n),!0):!1}function gh(n,r){var o=r.checked;return zn({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:n._wrapperState.initialChecked})}function E0(n,r){var o=r.defaultValue==null?"":r.defaultValue,t=r.checked!=null?r.checked:r.defaultChecked;o=Zs(r.value!=null?r.value:o),n._wrapperState={initialChecked:t,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function U1(n,r){r=r.checked,r!=null&&Lf(n,"checked",r,!1)}function vh(n,r){U1(n,r);var o=Zs(r.value),t=r.type;if(o!=null)t==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+o):n.value!==""+o&&(n.value=""+o);else if(t==="submit"||t==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?_h(n,r.type,o):r.hasOwnProperty("defaultValue")&&_h(n,r.type,Zs(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function C0(n,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var t=r.type;if(!(t!=="submit"&&t!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,o||r===n.value||(n.value=r),n.defaultValue=r}o=n.name,o!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,o!==""&&(n.name=o)}function _h(n,r,o){(r!=="number"||n.ownerDocument.activeElement!==n)&&(o==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+o&&(n.defaultValue=""+o))}function l2(n){var r="";return Hc.Children.forEach(n,function(o){o!=null&&(r+=o)}),r}function bh(n,r){return n=zn({children:void 0},r),(r=l2(r.children))&&(n.children=r),n}function na(n,r,o,t){if(n=n.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=r.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&t&&(n[o].defaultSelected=!0)}else{for(o=""+Zs(o),r=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,t&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function xh(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Pt(91));return zn({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function M0(n,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(Pt(92));if(Array.isArray(o)){if(!(1>=o.length))throw Error(Pt(93));o=o[0]}r=o}r==null&&(r=""),o=r}n._wrapperState={initialValue:Zs(o)}}function V1(n,r){var o=Zs(r.value),t=Zs(r.defaultValue);o!=null&&(o=""+o,o!==n.value&&(n.value=o),r.defaultValue==null&&n.defaultValue!==o&&(n.defaultValue=o)),t!=null&&(n.defaultValue=""+t)}function A0(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}var G1={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function z1(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wh(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?z1(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var au,H1=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,t,h){MSApp.execUnsafeLocalFunction(function(){return n(r,o,t,h)})}:n}(function(n,r){if(n.namespaceURI!==G1.svg||"innerHTML"in n)n.innerHTML=r;else{for(au=au||document.createElement("div"),au.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=au.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function cl(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}function lu(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var Xi={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},Vd={},W1={};ni&&(W1=document.createElement("div").style,"AnimationEvent"in window||(delete Xi.animationend.animation,delete Xi.animationiteration.animation,delete Xi.animationstart.animation),"TransitionEvent"in window||delete Xi.transitionend.transition);function Wc(n){if(Vd[n])return Vd[n];if(!Xi[n])return n;var r=Xi[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in W1)return Vd[n]=r[o];return n}var q1=Wc("animationend"),X1=Wc("animationiteration"),Y1=Wc("animationstart"),$1=Wc("transitionend"),$a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),k0=new(typeof WeakMap=="function"?WeakMap:Map);function Uf(n){var r=k0.get(n);return r===void 0&&(r=new Map,k0.set(n,r)),r}function Ri(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.effectTag&1026)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function Z1(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function R0(n){if(Ri(n)!==n)throw Error(Pt(188))}function u2(n){var r=n.alternate;if(!r){if(r=Ri(n),r===null)throw Error(Pt(188));return r!==n?null:n}for(var o=n,t=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(t=h.return,t!==null){o=t;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return R0(h),n;if(p===t)return R0(h),r;p=p.sibling}throw Error(Pt(188))}if(o.return!==t.return)o=h,t=p;else{for(var c=!1,a=h.child;a;){if(a===o){c=!0,o=h,t=p;break}if(a===t){c=!0,t=h,o=p;break}a=a.sibling}if(!c){for(a=p.child;a;){if(a===o){c=!0,o=p,t=h;break}if(a===t){c=!0,t=p,o=h;break}a=a.sibling}if(!c)throw Error(Pt(189))}}if(o.alternate!==t)throw Error(Pt(190))}if(o.tag!==3)throw Error(Pt(188));return o.stateNode.current===o?n:r}function Q1(n){if(n=u2(n),!n)return null;for(var r=n;;){if(r.tag===5||r.tag===6)return r;if(r.child)r.child.return=r,r=r.child;else{if(r===n)break;for(;!r.sibling;){if(!r.return||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}}return null}function ca(n,r){if(r==null)throw Error(Pt(30));return n==null?r:Array.isArray(n)?Array.isArray(r)?(n.push.apply(n,r),n):(n.push(r),n):Array.isArray(r)?[n].concat(r):[n,r]}function Vf(n,r,o){Array.isArray(n)?n.forEach(r,o):n&&r.call(o,n)}var Ga=null;function c2(n){if(n){var r=n._dispatchListeners,o=n._dispatchInstances;if(Array.isArray(r))for(var t=0;t<r.length&&!n.isPropagationStopped();t++)_0(n,r[t],o[t]);else r&&_0(n,r,o);n._dispatchListeners=null,n._dispatchInstances=null,n.isPersistent()||n.constructor.release(n)}}function qc(n){if(n!==null&&(Ga=ca(Ga,n)),n=Ga,Ga=null,n){if(Vf(n,c2),Ga)throw Error(Pt(95));if(Wu)throw n=fh,Wu=!1,fh=null,n}}function Gf(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}function K1(n){if(!ni)return!1;n="on"+n;var r=n in document;return r||(r=document.createElement("div"),r.setAttribute(n,"return;"),r=typeof r[n]=="function"),r}var Yu=[];function J1(n){n.topLevelType=null,n.nativeEvent=null,n.targetInst=null,n.ancestors.length=0,10>Yu.length&&Yu.push(n)}function ey(n,r,o,t){if(Yu.length){var h=Yu.pop();return h.topLevelType=n,h.eventSystemFlags=t,h.nativeEvent=r,h.targetInst=o,h}return{topLevelType:n,eventSystemFlags:t,nativeEvent:r,targetInst:o,ancestors:[]}}function ty(n){var r=n.targetInst,o=r;do{if(!o){n.ancestors.push(o);break}var t=o;if(t.tag===3)t=t.stateNode.containerInfo;else{for(;t.return;)t=t.return;t=t.tag!==3?null:t.stateNode.containerInfo}if(!t)break;r=o.tag,r!==5&&r!==6||n.ancestors.push(o),o=Fl(t)}while(o);for(o=0;o<n.ancestors.length;o++){r=n.ancestors[o];var h=Gf(n.nativeEvent);t=n.topLevelType;var p=n.nativeEvent,c=n.eventSystemFlags;o===0&&(c|=64);for(var a=null,s=0;s<Xu.length;s++){var d=Xu[s];d&&(d=d.extractEvents(t,r,p,h,c))&&(a=ca(a,d))}qc(a)}}function Sh(n,r,o){if(!o.has(n)){switch(n){case"scroll":Za(r,"scroll",!0);break;case"focus":case"blur":Za(r,"focus",!0),Za(r,"blur",!0),o.set("blur",null),o.set("focus",null);break;case"cancel":case"close":K1(n)&&Za(r,n,!0);break;case"invalid":case"submit":case"reset":break;default:$a.indexOf(n)===-1&&Hr(n,r)}o.set(n,null)}}var ry,zf,ny,Th=!1,Go=[],Vs=null,Gs=null,zs=null,dl=new Map,hl=new Map,za=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),d2="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function h2(n,r){var o=Uf(r);jh.forEach(function(t){Sh(t,r,o)}),d2.forEach(function(t){Sh(t,r,o)})}function Eh(n,r,o,t,h){return{blockedOn:n,topLevelType:r,eventSystemFlags:o|32,nativeEvent:h,container:t}}function O0(n,r){switch(n){case"focus":case"blur":Vs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(r.pointerId)}}function Ha(n,r,o,t,h,p){return n===null||n.nativeEvent!==p?(n=Eh(r,o,t,h,p),r!==null&&(r=Ul(r),r!==null&&zf(r)),n):(n.eventSystemFlags|=t,n)}function f2(n,r,o,t,h){switch(r){case"focus":return Vs=Ha(Vs,n,r,o,t,h),!0;case"dragenter":return Gs=Ha(Gs,n,r,o,t,h),!0;case"mouseover":return zs=Ha(zs,n,r,o,t,h),!0;case"pointerover":var p=h.pointerId;return dl.set(p,Ha(dl.get(p)||null,n,r,o,t,h)),!0;case"gotpointercapture":return p=h.pointerId,hl.set(p,Ha(hl.get(p)||null,n,r,o,t,h)),!0}return!1}function p2(n){var r=Fl(n.target);if(r!==null){var o=Ri(r);if(o!==null){if(r=o.tag,r===13){if(r=Z1(o),r!==null){n.blockedOn=r,Cn.unstable_runWithPriority(n.priority,function(){ny(o)});return}}else if(r===3&&o.stateNode.hydrate){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mu(n){if(n.blockedOn!==null)return!1;var r=qf(n.topLevelType,n.eventSystemFlags,n.container,n.nativeEvent);if(r!==null){var o=Ul(r);return o!==null&&zf(o),n.blockedOn=r,!1}return!0}function P0(n,r,o){Mu(n)&&o.delete(r)}function m2(){for(Th=!1;0<Go.length;){var n=Go[0];if(n.blockedOn!==null){n=Ul(n.blockedOn),n!==null&&ry(n);break}var r=qf(n.topLevelType,n.eventSystemFlags,n.container,n.nativeEvent);r!==null?n.blockedOn=r:Go.shift()}Vs!==null&&Mu(Vs)&&(Vs=null),Gs!==null&&Mu(Gs)&&(Gs=null),zs!==null&&Mu(zs)&&(zs=null),dl.forEach(P0),hl.forEach(P0)}function Wa(n,r){n.blockedOn===r&&(n.blockedOn=null,Th||(Th=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,m2)))}function oy(n){function r(h){return Wa(h,n)}if(0<Go.length){Wa(Go[0],n);for(var o=1;o<Go.length;o++){var t=Go[o];t.blockedOn===n&&(t.blockedOn=null)}}for(Vs!==null&&Wa(Vs,n),Gs!==null&&Wa(Gs,n),zs!==null&&Wa(zs,n),dl.forEach(r),hl.forEach(r),o=0;o<za.length;o++)t=za[o],t.blockedOn===n&&(t.blockedOn=null);for(;0<za.length&&(o=za[0],o.blockedOn===null);)p2(o),o.blockedOn===null&&za.shift()}var sy={},iy=new Map,Hf=new Map,y2=["abort","abort",q1,"animationEnd",X1,"animationIteration",Y1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",$1,"transitionEnd","waiting","waiting"];function Wf(n,r){for(var o=0;o<n.length;o+=2){var t=n[o],h=n[o+1],p="on"+(h[0].toUpperCase()+h.slice(1));p={phasedRegistrationNames:{bubbled:p,captured:p+"Capture"},dependencies:[t],eventPriority:r},Hf.set(t,r),iy.set(t,p),sy[h]=p}}Wf("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Wf("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Wf(y2,2);for(var I0="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Gd=0;Gd<I0.length;Gd++)Hf.set(I0[Gd],0);var g2=Cn.unstable_UserBlockingPriority,v2=Cn.unstable_runWithPriority,Au=!0;function Hr(n,r){Za(r,n,!1)}function Za(n,r,o){var t=Hf.get(r);switch(t===void 0?2:t){case 0:t=_2.bind(null,r,1,n);break;case 1:t=b2.bind(null,r,1,n);break;default:t=Xc.bind(null,r,1,n)}o?n.addEventListener(r,t,!0):n.addEventListener(r,t,!1)}function _2(n,r,o,t){ci||Of();var h=Xc,p=ci;ci=!0;try{k1(h,n,r,o,t)}finally{(ci=p)||Pf()}}function b2(n,r,o,t){v2(g2,Xc.bind(null,n,r,o,t))}function Xc(n,r,o,t){if(Au)if(0<Go.length&&-1<jh.indexOf(n))n=Eh(null,n,r,o,t),Go.push(n);else{var h=qf(n,r,o,t);if(h===null)O0(n,t);else if(-1<jh.indexOf(n))n=Eh(h,n,r,o,t),Go.push(n);else if(!f2(h,n,r,o,t)){O0(n,t),n=ey(n,t,null,r);try{O1(ty,n)}finally{J1(n)}}}}function qf(n,r,o,t){if(o=Gf(t),o=Fl(o),o!==null){var h=Ri(o);if(h===null)o=null;else{var p=h.tag;if(p===13){if(o=Z1(h),o!==null)return o;o=null}else if(p===3){if(h.stateNode.hydrate)return h.tag===3?h.stateNode.containerInfo:null;o=null}else h!==o&&(o=null)}}n=ey(n,t,o,r);try{O1(ty,n)}finally{J1(n)}return null}var Ja={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x2=["Webkit","ms","Moz","O"];Object.keys(Ja).forEach(function(n){x2.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Ja[r]=Ja[n]})});function ay(n,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Ja.hasOwnProperty(n)&&Ja[n]?(""+r).trim():r+"px"}function ly(n,r){n=n.style;for(var o in r)if(r.hasOwnProperty(o)){var t=o.indexOf("--")===0,h=ay(o,r[o],t);o==="float"&&(o="cssFloat"),t?n.setProperty(o,h):n[o]=h}}var w2=zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ch(n,r){if(r){if(w2[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Pt(137,n,""));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Pt(60));if(!(typeof r.dangerouslySetInnerHTML=="object"&&"__html"in r.dangerouslySetInnerHTML))throw Error(Pt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Pt(62,""))}}function Mh(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D0=G1.html;function as(n,r){n=n.nodeType===9||n.nodeType===11?n:n.ownerDocument;var o=Uf(n);r=kf[r];for(var t=0;t<r.length;t++)Sh(r[t],n,o)}function $u(){}function Ah(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function L0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function N0(n,r){var o=L0(n);n=0;for(var t;o;){if(o.nodeType===3){if(t=n+o.textContent.length,n<=r&&t>=r)return{node:o,offset:r-n};n=t}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=L0(o)}}function uy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?uy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function B0(){for(var n=window,r=Ah();r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=Ah(n.document)}return r}function kh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var cy="$",dy="/$",Xf="$?",Yf="$!",zd=null,Hd=null;function hy(n,r){switch(n){case"button":case"input":case"select":case"textarea":return!!r.autoFocus}return!1}function Rh(n,r){return n==="textarea"||n==="option"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wd=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0;function oa(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break}return n}function F0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o===cy||o===Yf||o===Xf){if(r===0)return n;r--}else o===dy&&r++}n=n.previousSibling}return null}var $f=Math.random().toString(36).slice(2),Ls="__reactInternalInstance$"+$f,Zu="__reactEventHandlers$"+$f,Bl="__reactContainere$"+$f;function Fl(n){var r=n[Ls];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Bl]||o[Ls]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=F0(n);n!==null;){if(o=n[Ls])return o;n=F0(n)}return r}n=o,o=n.parentNode}return null}function Ul(n){return n=n[Ls]||n[Bl],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function wi(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Pt(33))}function Zf(n){return n[Zu]||null}function ls(n){do n=n.return;while(n&&n.tag!==5);return n||null}function fy(n,r){var o=n.stateNode;if(!o)return null;var t=Af(o);if(!t)return null;o=t[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(n=n.type,t=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!t;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(Pt(231,r,typeof o));return o}function U0(n,r,o){(r=fy(n,o.dispatchConfig.phasedRegistrationNames[r]))&&(o._dispatchListeners=ca(o._dispatchListeners,r),o._dispatchInstances=ca(o._dispatchInstances,n))}function T2(n){if(n&&n.dispatchConfig.phasedRegistrationNames){for(var r=n._targetInst,o=[];r;)o.push(r),r=ls(r);for(r=o.length;0<r--;)U0(o[r],"captured",n);for(r=0;r<o.length;r++)U0(o[r],"bubbled",n)}}function Oh(n,r,o){n&&o&&o.dispatchConfig.registrationName&&(r=fy(n,o.dispatchConfig.registrationName))&&(o._dispatchListeners=ca(o._dispatchListeners,r),o._dispatchInstances=ca(o._dispatchInstances,n))}function j2(n){n&&n.dispatchConfig.registrationName&&Oh(n._targetInst,null,n)}function da(n){Vf(n,T2)}var Ns=null,Qf=null,ku=null;function py(){if(ku)return ku;var n,r=Qf,o=r.length,t,h="value"in Ns?Ns.value:Ns.textContent,p=h.length;for(n=0;n<o&&r[n]===h[n];n++);var c=o-n;for(t=1;t<=c&&r[o-t]===h[p-t];t++);return ku=h.slice(n,1<t?1-t:void 0)}function Ru(){return!0}function Qu(){return!1}function lo(n,r,o,t){this.dispatchConfig=n,this._targetInst=r,this.nativeEvent=o,n=this.constructor.Interface;for(var h in n)n.hasOwnProperty(h)&&((r=n[h])?this[h]=r(o):h==="target"?this.target=t:this[h]=o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ru:Qu,this.isPropagationStopped=Qu,this}zn(lo.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){this.isPersistent=Ru},isPersistent:Qu,destructor:function(){var n=this.constructor.Interface,r;for(r in n)this[r]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Qu,this._dispatchInstances=this._dispatchListeners=null}});lo.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};lo.extend=function(n){function r(){}function o(){return t.apply(this,arguments)}var t=this;r.prototype=t.prototype;var h=new r;return zn(h,o.prototype),o.prototype=h,o.prototype.constructor=o,o.Interface=zn({},t.Interface,n),o.extend=t.extend,my(o),o};my(lo);function E2(n,r,o,t){if(this.eventPool.length){var h=this.eventPool.pop();return this.call(h,n,r,o,t),h}return new this(n,r,o,t)}function C2(n){if(!(n instanceof this))throw Error(Pt(279));n.destructor(),10>this.eventPool.length&&this.eventPool.push(n)}function my(n){n.eventPool=[],n.getPooled=E2,n.release=C2}var M2=lo.extend({data:null}),A2=lo.extend({data:null}),k2=[9,13,27,32],Kf=ni&&"CompositionEvent"in window,el=null;ni&&"documentMode"in document&&(el=document.documentMode);var R2=ni&&"TextEvent"in window&&!el,yy=ni&&(!Kf||el&&8<el&&11>=el),V0=String.fromCharCode(32),is={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},G0=!1;function gy(n,r){switch(n){case"keyup":return k2.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function vy(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Yi=!1;function O2(n,r){switch(n){case"compositionend":return vy(r);case"keypress":return r.which!==32?null:(G0=!0,V0);case"textInput":return n=r.data,n===V0&&G0?null:n;default:return null}}function P2(n,r){if(Yi)return n==="compositionend"||!Kf&&gy(n,r)?(n=py(),ku=Qf=Ns=null,Yi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yy&&r.locale!=="ko"?null:r.data;default:return null}}var I2={eventTypes:is,extractEvents:function(n,r,o,t){var h;if(Kf)e:{switch(n){case"compositionstart":var p=is.compositionStart;break e;case"compositionend":p=is.compositionEnd;break e;case"compositionupdate":p=is.compositionUpdate;break e}p=void 0}else Yi?gy(n,o)&&(p=is.compositionEnd):n==="keydown"&&o.keyCode===229&&(p=is.compositionStart);return p?(yy&&o.locale!=="ko"&&(Yi||p!==is.compositionStart?p===is.compositionEnd&&Yi&&(h=py()):(Ns=t,Qf="value"in Ns?Ns.value:Ns.textContent,Yi=!0)),p=M2.getPooled(p,r,o,t),h?p.data=h:(h=vy(o),h!==null&&(p.data=h)),da(p),h=p):h=null,(n=R2?O2(n,o):P2(n,o))?(r=A2.getPooled(is.beforeInput,r,o,t),r.data=n,da(r)):r=null,h===null?r:r===null?h:[h,r]}},D2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!D2[n.type]:r==="textarea"}var by={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function xy(n,r,o){return n=lo.getPooled(by.change,n,r,o),n.type="change",M1(o),da(n),n}var tl=null,fl=null;function L2(n){qc(n)}function Yc(n){var r=wi(n);if(F1(r))return n}function N2(n,r){if(n==="change")return r}var Ph=!1;ni&&(Ph=K1("input")&&(!document.documentMode||9<document.documentMode));function z0(){tl&&(tl.detachEvent("onpropertychange",wy),fl=tl=null)}function wy(n){if(n.propertyName==="value"&&Yc(fl))if(n=xy(fl,n,Gf(n)),ci)qc(n);else{ci=!0;try{Rf(L2,n)}finally{ci=!1,Pf()}}}function B2(n,r,o){n==="focus"?(z0(),tl=r,fl=o,tl.attachEvent("onpropertychange",wy)):n==="blur"&&z0()}function F2(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Yc(fl)}function U2(n,r){if(n==="click")return Yc(r)}function V2(n,r){if(n==="input"||n==="change")return Yc(r)}var G2={eventTypes:by,_isInputEventSupported:Ph,extractEvents:function(n,r,o,t){var h=r?wi(r):window,p=h.nodeName&&h.nodeName.toLowerCase();if(p==="select"||p==="input"&&h.type==="file")var c=N2;else if(_y(h))if(Ph)c=V2;else{c=F2;var a=B2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(c=U2);if(c&&(c=c(n,r)))return xy(c,o,t);a&&a(n,h,r),n==="blur"&&(n=h._wrapperState)&&n.controlled&&h.type==="number"&&_h(h,"number",h.value)}},Vl=lo.extend({view:null,detail:null}),z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H2(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=z2[n])?!!r[n]:!1}function Jf(){return H2}var H0=0,W0=0,q0=!1,X0=!1,Gl=Vl.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Jf,button:null,buttons:null,relatedTarget:function(n){return n.relatedTarget||(n.fromElement===n.srcElement?n.toElement:n.fromElement)},movementX:function(n){if("movementX"in n)return n.movementX;var r=H0;return H0=n.screenX,q0?n.type==="mousemove"?n.screenX-r:0:(q0=!0,0)},movementY:function(n){if("movementY"in n)return n.movementY;var r=W0;return W0=n.screenY,X0?n.type==="mousemove"?n.screenY-r:0:(X0=!0,0)}}),Sy=Gl.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),qa={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},W2={eventTypes:qa,extractEvents:function(n,r,o,t,h){var p=n==="mouseover"||n==="pointerover",c=n==="mouseout"||n==="pointerout";if(p&&(h&32)===0&&(o.relatedTarget||o.fromElement)||!c&&!p)return null;if(p=t.window===t?t:(p=t.ownerDocument)?p.defaultView||p.parentWindow:window,c){if(c=r,r=(r=o.relatedTarget||o.toElement)?Fl(r):null,r!==null){var a=Ri(r);(r!==a||r.tag!==5&&r.tag!==6)&&(r=null)}}else c=null;if(c===r)return null;if(n==="mouseout"||n==="mouseover")var s=Gl,d=qa.mouseLeave,f=qa.mouseEnter,y="mouse";else(n==="pointerout"||n==="pointerover")&&(s=Sy,d=qa.pointerLeave,f=qa.pointerEnter,y="pointer");if(n=c==null?p:wi(c),p=r==null?p:wi(r),d=s.getPooled(d,c,o,t),d.type=y+"leave",d.target=n,d.relatedTarget=p,o=s.getPooled(f,r,o,t),o.type=y+"enter",o.target=p,o.relatedTarget=n,t=c,y=r,t&&y)e:{for(s=t,f=y,c=0,n=s;n;n=ls(n))c++;for(n=0,r=f;r;r=ls(r))n++;for(;0<c-n;)s=ls(s),c--;for(;0<n-c;)f=ls(f),n--;for(;c--;){if(s===f||s===f.alternate)break e;s=ls(s),f=ls(f)}s=null}else s=null;for(f=s,s=[];t&&t!==f&&(c=t.alternate,!(c!==null&&c===f));)s.push(t),t=ls(t);for(t=[];y&&y!==f&&(c=y.alternate,!(c!==null&&c===f));)t.push(y),y=ls(y);for(y=0;y<s.length;y++)Oh(s[y],"bubbled",d);for(y=t.length;0<y--;)Oh(t[y],"captured",o);return(h&64)===0?[d]:[d,o]}};function q2(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Si=typeof Object.is=="function"?Object.is:q2,X2=Object.prototype.hasOwnProperty;function pl(n,r){if(Si(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),t=Object.keys(r);if(o.length!==t.length)return!1;for(t=0;t<o.length;t++)if(!X2.call(r,o[t])||!Si(n[o[t]],r[o[t]]))return!1;return!0}var Y2=ni&&"documentMode"in document&&11>=document.documentMode,Ty={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},$i=null,Ih=null,rl=null,Dh=!1;function Y0(n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;return Dh||$i==null||$i!==Ah(o)?null:(o=$i,"selectionStart"in o&&kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rl&&pl(rl,o)?null:(rl=o,n=lo.getPooled(Ty.select,Ih,n,r),n.type="select",n.target=$i,da(n),n))}var $2={eventTypes:Ty,extractEvents:function(n,r,o,t,h,p){if(h=p||(t.window===t?t.document:t.nodeType===9?t:t.ownerDocument),!(p=!h)){e:{h=Uf(h),p=kf.onSelect;for(var c=0;c<p.length;c++)if(!h.has(p[c])){h=!1;break e}h=!0}p=!h}if(p)return null;switch(h=r?wi(r):window,n){case"focus":(_y(h)||h.contentEditable==="true")&&($i=h,Ih=r,rl=null);break;case"blur":rl=Ih=$i=null;break;case"mousedown":Dh=!0;break;case"contextmenu":case"mouseup":case"dragend":return Dh=!1,Y0(o,t);case"selectionchange":if(Y2)break;case"keydown":case"keyup":return Y0(o,t)}return null}},Z2=lo.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Q2=lo.extend({clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),K2=Vl.extend({relatedTarget:null});function Ou(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}var J2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tb=Vl.extend({key:function(n){if(n.key){var r=J2[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Ou(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eb[n.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Jf,charCode:function(n){return n.type==="keypress"?Ou(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ou(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),rb=Gl.extend({dataTransfer:null}),nb=Vl.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Jf}),ob=lo.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sb=Gl.extend({deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:null,deltaMode:null}),ib={eventTypes:sy,extractEvents:function(n,r,o,t){var h=iy.get(n);if(!h)return null;switch(n){case"keypress":if(Ou(o)===0)return null;case"keydown":case"keyup":n=tb;break;case"blur":case"focus":n=K2;break;case"click":if(o.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":n=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":n=rb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":n=nb;break;case q1:case X1:case Y1:n=Z2;break;case $1:n=ob;break;case"scroll":n=Vl;break;case"wheel":n=sb;break;case"copy":case"cut":case"paste":n=Q2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":n=Sy;break;default:n=lo}return r=n.getPooled(h,r,o,t),da(r),r}};if(qu)throw Error(Pt(101));qu=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));E1();var ab=Ul;Af=Zf;T1=ab;j1=wi;C1({SimpleEventPlugin:ib,EnterLeaveEventPlugin:W2,ChangeEventPlugin:G2,SelectEventPlugin:$2,BeforeInputEventPlugin:I2});var Lh=[],Zi=-1;function Ur(n){0>Zi||(n.current=Lh[Zi],Lh[Zi]=null,Zi--)}function nn(n,r){Zi++,Lh[Zi]=n.current,n.current=r}var Qs={},Fn={current:Qs},Xn={current:!1},Ti=Qs;function ha(n,r){var o=n.type.contextTypes;if(!o)return Qs;var t=n.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===r)return t.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return t&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=h),h}function Yn(n){return n=n.childContextTypes,n!=null}function Ku(){Ur(Xn),Ur(Fn)}function $0(n,r,o){if(Fn.current!==Qs)throw Error(Pt(168));nn(Fn,r),nn(Xn,o)}function jy(n,r,o){var t=n.stateNode;if(n=r.childContextTypes,typeof t.getChildContext!="function")return o;t=t.getChildContext();for(var h in t)if(!(h in n))throw Error(Pt(108,gs(r)||"Unknown",h));return zn({},o,{},t)}function Pu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Qs,Ti=Fn.current,nn(Fn,n),nn(Xn,Xn.current),!0}function Z0(n,r,o){var t=n.stateNode;if(!t)throw Error(Pt(169));o?(n=jy(n,r,Ti),t.__reactInternalMemoizedMergedChildContext=n,Ur(Xn),Ur(Fn),nn(Fn,n)):Ur(Xn),nn(Xn,o)}var lb=Cn.unstable_runWithPriority,ep=Cn.unstable_scheduleCallback,Ey=Cn.unstable_cancelCallback,Q0=Cn.unstable_requestPaint,Nh=Cn.unstable_now,ub=Cn.unstable_getCurrentPriorityLevel,$c=Cn.unstable_ImmediatePriority,Cy=Cn.unstable_UserBlockingPriority,My=Cn.unstable_NormalPriority,Ay=Cn.unstable_LowPriority,ky=Cn.unstable_IdlePriority,Ry={},cb=Cn.unstable_shouldYield,db=Q0!==void 0?Q0:function(){},cs=null,Iu=null,qd=!1,K0=Nh(),mo=1e4>K0?Nh:function(){return Nh()-K0};function Zc(){switch(ub()){case $c:return 99;case Cy:return 98;case My:return 97;case Ay:return 96;case ky:return 95;default:throw Error(Pt(332))}}function Oy(n){switch(n){case 99:return $c;case 98:return Cy;case 97:return My;case 96:return Ay;case 95:return ky;default:throw Error(Pt(332))}}function Ks(n,r){return n=Oy(n),lb(n,r)}function Py(n,r,o){return n=Oy(n),ep(n,r,o)}function J0(n){return cs===null?(cs=[n],Iu=ep($c,Iy)):cs.push(n),Ry}function Zo(){if(Iu!==null){var n=Iu;Iu=null,Ey(n)}Iy()}function Iy(){if(!qd&&cs!==null){qd=!0;var n=0;try{var r=cs;Ks(99,function(){for(;n<r.length;n++){var o=r[n];do o=o(!0);while(o!==null)}}),cs=null}catch(o){throw cs!==null&&(cs=cs.slice(n+1)),ep($c,Zo),o}finally{qd=!1}}}function Du(n,r,o){return o/=10,1073741821-(((1073741821-n+r/10)/o|0)+1)*o}function Ao(n,r){if(n&&n.defaultProps){r=zn({},r),n=n.defaultProps;for(var o in n)r[o]===void 0&&(r[o]=n[o])}return r}var Ju={current:null},ec=null,Qi=null,tc=null;function tp(){tc=Qi=ec=null}function rp(n){var r=Ju.current;Ur(Ju),n.type._context._currentValue=r}function Dy(n,r){for(;n!==null;){var o=n.alternate;if(n.childExpirationTime<r)n.childExpirationTime=r,o!==null&&o.childExpirationTime<r&&(o.childExpirationTime=r);else if(o!==null&&o.childExpirationTime<r)o.childExpirationTime=r;else break;n=n.return}}function sa(n,r){ec=n,tc=Qi=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.expirationTime>=r&&(zo=!0),n.firstContext=null)}function xo(n,r){if(tc!==n&&r!==!1&&r!==0)if((typeof r!="number"||r===1073741823)&&(tc=n,r=1073741823),r={context:n,observedBits:r,next:null},Qi===null){if(ec===null)throw Error(Pt(308));Qi=r,ec.dependencies={expirationTime:0,firstContext:r,responders:null}}else Qi=Qi.next=r;return n._currentValue}var Ps=!1;function np(n){n.updateQueue={baseState:n.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function op(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,baseQueue:n.baseQueue,shared:n.shared,effects:n.effects})}function Hs(n,r){return n={expirationTime:n,suspenseConfig:r,tag:0,payload:null,callback:null,next:null},n.next=n}function Ws(n,r){if(n=n.updateQueue,n!==null){n=n.shared;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}}function em(n,r){var o=n.alternate;o!==null&&op(o,n),n=n.updateQueue,o=n.baseQueue,o===null?(n.baseQueue=r.next=r,r.next=r):(r.next=o.next,o.next=r)}function ml(n,r,o,t){var h=n.updateQueue;Ps=!1;var p=h.baseQueue,c=h.shared.pending;if(c!==null){if(p!==null){var a=p.next;p.next=c.next,c.next=a}p=c,h.shared.pending=null,a=n.alternate,a!==null&&(a=a.updateQueue,a!==null&&(a.baseQueue=c))}if(p!==null){a=p.next;var s=h.baseState,d=0,f=null,y=null,u=null;if(a!==null){var l=a;do{if(c=l.expirationTime,c<t){var i={expirationTime:l.expirationTime,suspenseConfig:l.suspenseConfig,tag:l.tag,payload:l.payload,callback:l.callback,next:null};u===null?(y=u=i,f=s):u=u.next=i,c>d&&(d=c)}else{u!==null&&(u=u.next={expirationTime:1073741823,suspenseConfig:l.suspenseConfig,tag:l.tag,payload:l.payload,callback:l.callback,next:null}),dg(c,l.suspenseConfig);e:{var m=n,g=l;switch(c=r,i=o,g.tag){case 1:if(m=g.payload,typeof m=="function"){s=m.call(i,s,c);break e}s=m;break e;case 3:m.effectTag=m.effectTag&-4097|64;case 0:if(m=g.payload,c=typeof m=="function"?m.call(i,s,c):m,c==null)break e;s=zn({},s,c);break e;case 2:Ps=!0}}l.callback!==null&&(n.effectTag|=32,c=h.effects,c===null?h.effects=[l]:c.push(l))}if(l=l.next,l===null||l===a){if(c=h.shared.pending,c===null)break;l=p.next=c.next,c.next=a,h.baseQueue=p=c,h.shared.pending=null}}while(1)}u===null?f=s:u.next=y,h.baseState=f,h.baseQueue=u,td(d),n.expirationTime=d,n.memoizedState=s}}function tm(n,r,o){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var t=n[r],h=t.callback;if(h!==null){if(t.callback=null,t=h,h=o,typeof t!="function")throw Error(Pt(191,t));t.call(h)}}}var nl=Po.ReactCurrentBatchConfig,Ly=new Hc.Component().refs;function rc(n,r,o,t){r=n.memoizedState,o=o(t,r),o=o==null?r:zn({},r,o),n.memoizedState=o,n.expirationTime===0&&(n.updateQueue.baseState=o)}var Qc={isMounted:function(n){return(n=n._reactInternalFiber)?Ri(n)===n:!1},enqueueSetState:function(n,r,o){n=n._reactInternalFiber;var t=qo(),h=nl.suspense;t=_i(t,n,h),h=Hs(t,h),h.payload=r,o!=null&&(h.callback=o),Ws(n,h),Xs(n,t)},enqueueReplaceState:function(n,r,o){n=n._reactInternalFiber;var t=qo(),h=nl.suspense;t=_i(t,n,h),h=Hs(t,h),h.tag=1,h.payload=r,o!=null&&(h.callback=o),Ws(n,h),Xs(n,t)},enqueueForceUpdate:function(n,r){n=n._reactInternalFiber;var o=qo(),t=nl.suspense;o=_i(o,n,t),t=Hs(o,t),t.tag=2,r!=null&&(t.callback=r),Ws(n,t),Xs(n,o)}};function rm(n,r,o,t,h,p,c){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(t,p,c):r.prototype&&r.prototype.isPureReactComponent?!pl(o,t)||!pl(h,p):!0}function Ny(n,r,o){var t=!1,h=Qs,p=r.contextType;return typeof p=="object"&&p!==null?p=xo(p):(h=Yn(r)?Ti:Fn.current,t=r.contextTypes,p=(t=t!=null)?ha(n,h):Qs),r=new r(o,p),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Qc,n.stateNode=r,r._reactInternalFiber=n,t&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=p),r}function nm(n,r,o,t){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,t),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,t),r.state!==n&&Qc.enqueueReplaceState(r,r.state,null)}function Bh(n,r,o,t){var h=n.stateNode;h.props=o,h.state=n.memoizedState,h.refs=Ly,np(n);var p=r.contextType;typeof p=="object"&&p!==null?h.context=xo(p):(p=Yn(r)?Ti:Fn.current,h.context=ha(n,p)),ml(n,o,h,t),h.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(rc(n,r,p,o),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Qc.enqueueReplaceState(h,h.state,null),ml(n,o,h,t),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.effectTag|=4)}var uu=Array.isArray;function Xa(n,r,o){if(n=o.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(Pt(309));var t=o.stateNode}if(!t)throw Error(Pt(147,n));var h=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(p){var c=t.refs;c===Ly&&(c=t.refs={}),p===null?delete c[h]:c[h]=p},r._stringRef=h,r)}if(typeof n!="string")throw Error(Pt(284));if(!o._owner)throw Error(Pt(290,n))}return n}function cu(n,r){if(n.type!=="textarea")throw Error(Pt(31,Object.prototype.toString.call(r)==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":r,""))}function By(n){function r(g,v){if(n){var b=g.lastEffect;b!==null?(b.nextEffect=v,g.lastEffect=v):g.firstEffect=g.lastEffect=v,v.nextEffect=null,v.effectTag=8}}function o(g,v){if(!n)return null;for(;v!==null;)r(g,v),v=v.sibling;return null}function t(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function h(g,v){return g=ji(g,v),g.index=0,g.sibling=null,g}function p(g,v,b){return g.index=b,n?(b=g.alternate,b!==null?(b=b.index,b<v?(g.effectTag=2,v):b):(g.effectTag=2,v)):v}function c(g){return n&&g.alternate===null&&(g.effectTag=2),g}function a(g,v,b,w){return v===null||v.tag!==6?(v=Kd(b,g.mode,w),v.return=g,v):(v=h(v,b),v.return=g,v)}function s(g,v,b,w){return v!==null&&v.elementType===b.type?(w=h(v,b.props),w.ref=Xa(g,v,b),w.return=g,w):(w=Fu(b.type,b.key,b.props,null,g.mode,w),w.ref=Xa(g,v,b),w.return=g,w)}function d(g,v,b,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Jd(b,g.mode,w),v.return=g,v):(v=h(v,b.children||[]),v.return=g,v)}function f(g,v,b,w,S){return v===null||v.tag!==7?(v=Us(b,g.mode,w,S),v.return=g,v):(v=h(v,b),v.return=g,v)}function y(g,v,b){if(typeof v=="string"||typeof v=="number")return v=Kd(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case su:return b=Fu(v.type,v.key,v.props,null,g.mode,b),b.ref=Xa(g,null,v),b.return=g,b;case qi:return v=Jd(v,g.mode,b),v.return=g,v}if(uu(v)||Va(v))return v=Us(v,g.mode,b,null),v.return=g,v;cu(g,v)}return null}function u(g,v,b,w){var S=v!==null?v.key:null;if(typeof b=="string"||typeof b=="number")return S!==null?null:a(g,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case su:return b.key===S?b.type===li?f(g,v,b.props.children,w,S):s(g,v,b,w):null;case qi:return b.key===S?d(g,v,b,w):null}if(uu(b)||Va(b))return S!==null?null:f(g,v,b,w,null);cu(g,b)}return null}function l(g,v,b,w,S){if(typeof w=="string"||typeof w=="number")return g=g.get(b)||null,a(v,g,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case su:return g=g.get(w.key===null?b:w.key)||null,w.type===li?f(v,g,w.props.children,S,w.key):s(v,g,w,S);case qi:return g=g.get(w.key===null?b:w.key)||null,d(v,g,w,S)}if(uu(w)||Va(w))return g=g.get(b)||null,f(v,g,w,S,null);cu(v,w)}return null}function i(g,v,b,w){for(var S=null,x=null,M=v,C=v=0,E=null;M!==null&&C<b.length;C++){M.index>C?(E=M,M=null):E=M.sibling;var P=u(g,M,b[C],w);if(P===null){M===null&&(M=E);break}n&&M&&P.alternate===null&&r(g,M),v=p(P,v,C),x===null?S=P:x.sibling=P,x=P,M=E}if(C===b.length)return o(g,M),S;if(M===null){for(;C<b.length;C++)M=y(g,b[C],w),M!==null&&(v=p(M,v,C),x===null?S=M:x.sibling=M,x=M);return S}for(M=t(g,M);C<b.length;C++)E=l(M,g,C,b[C],w),E!==null&&(n&&E.alternate!==null&&M.delete(E.key===null?C:E.key),v=p(E,v,C),x===null?S=E:x.sibling=E,x=E);return n&&M.forEach(function(D){return r(g,D)}),S}function m(g,v,b,w){var S=Va(b);if(typeof S!="function")throw Error(Pt(150));if(b=S.call(b),b==null)throw Error(Pt(151));for(var x=S=null,M=v,C=v=0,E=null,P=b.next();M!==null&&!P.done;C++,P=b.next()){M.index>C?(E=M,M=null):E=M.sibling;var D=u(g,M,P.value,w);if(D===null){M===null&&(M=E);break}n&&M&&D.alternate===null&&r(g,M),v=p(D,v,C),x===null?S=D:x.sibling=D,x=D,M=E}if(P.done)return o(g,M),S;if(M===null){for(;!P.done;C++,P=b.next())P=y(g,P.value,w),P!==null&&(v=p(P,v,C),x===null?S=P:x.sibling=P,x=P);return S}for(M=t(g,M);!P.done;C++,P=b.next())P=l(M,g,C,P.value,w),P!==null&&(n&&P.alternate!==null&&M.delete(P.key===null?C:P.key),v=p(P,v,C),x===null?S=P:x.sibling=P,x=P);return n&&M.forEach(function(I){return r(g,I)}),S}return function(g,v,b,w){var S=typeof b=="object"&&b!==null&&b.type===li&&b.key===null;S&&(b=b.props.children);var x=typeof b=="object"&&b!==null;if(x)switch(b.$$typeof){case su:e:{for(x=b.key,S=v;S!==null;){if(S.key===x){switch(S.tag){case 7:if(b.type===li){o(g,S.sibling),v=h(S,b.props.children),v.return=g,g=v;break e}break;default:if(S.elementType===b.type){o(g,S.sibling),v=h(S,b.props),v.ref=Xa(g,S,b),v.return=g,g=v;break e}}o(g,S);break}else r(g,S);S=S.sibling}b.type===li?(v=Us(b.props.children,g.mode,w,b.key),v.return=g,g=v):(w=Fu(b.type,b.key,b.props,null,g.mode,w),w.ref=Xa(g,v,b),w.return=g,g=w)}return c(g);case qi:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){o(g,v.sibling),v=h(v,b.children||[]),v.return=g,g=v;break e}else{o(g,v);break}else r(g,v);v=v.sibling}v=Jd(b,g.mode,w),v.return=g,g=v}return c(g)}if(typeof b=="string"||typeof b=="number")return b=""+b,v!==null&&v.tag===6?(o(g,v.sibling),v=h(v,b),v.return=g,g=v):(o(g,v),v=Kd(b,g.mode,w),v.return=g,g=v),c(g);if(uu(b))return i(g,v,b,w);if(Va(b))return m(g,v,b,w);if(x&&cu(g,b),typeof b>"u"&&!S)switch(g.tag){case 1:case 0:throw g=g.type,Error(Pt(152,g.displayName||g.name||"Component"))}return o(g,v)}}var fa=By(!0),sp=By(!1),zl={},Wo={current:zl},yl={current:zl},gl={current:zl};function di(n){if(n===zl)throw Error(Pt(174));return n}function Fh(n,r){switch(nn(gl,r),nn(yl,n),nn(Wo,zl),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:wh(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=wh(r,n)}Ur(Wo),nn(Wo,r)}function pa(){Ur(Wo),Ur(yl),Ur(gl)}function om(n){di(gl.current);var r=di(Wo.current),o=wh(r,n.type);r!==o&&(nn(yl,n),nn(Wo,o))}function ip(n){yl.current===n&&(Ur(Wo),Ur(yl))}var Yr={current:0};function nc(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data===Xf||o.data===Yf))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.effectTag&64)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function ap(n,r){return{responder:n,props:r}}var Lu=Po.ReactCurrentDispatcher,_o=Po.ReactCurrentBatchConfig,Bs=0,mn=null,Nn=null,Bn=null,oc=!1;function eo(){throw Error(Pt(321))}function lp(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Si(n[o],r[o]))return!1;return!0}function up(n,r,o,t,h,p){if(Bs=p,mn=r,r.memoizedState=null,r.updateQueue=null,r.expirationTime=0,Lu.current=n===null||n.memoizedState===null?hb:fb,n=o(t,h),r.expirationTime===Bs){p=0;do{if(r.expirationTime=0,!(25>p))throw Error(Pt(301));p+=1,Bn=Nn=null,r.updateQueue=null,Lu.current=pb,n=o(t,h)}while(r.expirationTime===Bs)}if(Lu.current=ac,r=Nn!==null&&Nn.next!==null,Bs=0,Bn=Nn=mn=null,oc=!1,r)throw Error(Pt(300));return n}function ia(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?mn.memoizedState=Bn=n:Bn=Bn.next=n,Bn}function Sa(){if(Nn===null){var n=mn.alternate;n=n!==null?n.memoizedState:null}else n=Nn.next;var r=Bn===null?mn.memoizedState:Bn.next;if(r!==null)Bn=r,Nn=n;else{if(n===null)throw Error(Pt(310));Nn=n,n={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Bn===null?mn.memoizedState=Bn=n:Bn=Bn.next=n}return Bn}function yi(n,r){return typeof r=="function"?r(n):r}function du(n){var r=Sa(),o=r.queue;if(o===null)throw Error(Pt(311));o.lastRenderedReducer=n;var t=Nn,h=t.baseQueue,p=o.pending;if(p!==null){if(h!==null){var c=h.next;h.next=p.next,p.next=c}t.baseQueue=h=p,o.pending=null}if(h!==null){h=h.next,t=t.baseState;var a=c=p=null,s=h;do{var d=s.expirationTime;if(d<Bs){var f={expirationTime:s.expirationTime,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};a===null?(c=a=f,p=t):a=a.next=f,d>mn.expirationTime&&(mn.expirationTime=d,td(d))}else a!==null&&(a=a.next={expirationTime:1073741823,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),dg(d,s.suspenseConfig),t=s.eagerReducer===n?s.eagerState:n(t,s.action);s=s.next}while(s!==null&&s!==h);a===null?p=t:a.next=c,Si(t,r.memoizedState)||(zo=!0),r.memoizedState=t,r.baseState=p,r.baseQueue=a,o.lastRenderedState=t}return[r.memoizedState,o.dispatch]}function hu(n){var r=Sa(),o=r.queue;if(o===null)throw Error(Pt(311));o.lastRenderedReducer=n;var t=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var c=h=h.next;do p=n(p,c.action),c=c.next;while(c!==h);Si(p,r.memoizedState)||(zo=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,t]}function Xd(n){var r=ia();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n=r.queue={pending:null,dispatch:null,lastRenderedReducer:yi,lastRenderedState:n},n=n.dispatch=Hy.bind(null,mn,n),[r.memoizedState,n]}function Uh(n,r,o,t){return n={tag:n,create:r,destroy:o,deps:t,next:null},r=mn.updateQueue,r===null?(r={lastEffect:null},mn.updateQueue=r,r.lastEffect=n.next=n):(o=r.lastEffect,o===null?r.lastEffect=n.next=n:(t=o.next,o.next=n,n.next=t,r.lastEffect=n)),n}function Fy(){return Sa().memoizedState}function Vh(n,r,o,t){var h=ia();mn.effectTag|=n,h.memoizedState=Uh(1|r,o,void 0,t===void 0?null:t)}function cp(n,r,o,t){var h=Sa();t=t===void 0?null:t;var p=void 0;if(Nn!==null){var c=Nn.memoizedState;if(p=c.destroy,t!==null&&lp(t,c.deps)){Uh(r,o,p,t);return}}mn.effectTag|=n,h.memoizedState=Uh(1|r,o,p,t)}function sm(n,r){return Vh(516,4,n,r)}function sc(n,r){return cp(516,4,n,r)}function Uy(n,r){return cp(4,2,n,r)}function Vy(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Gy(n,r,o){return o=o!=null?o.concat([n]):null,cp(4,2,Vy.bind(null,r,n),o)}function dp(){}function im(n,r){return ia().memoizedState=[n,r===void 0?null:r],n}function ic(n,r){var o=Sa();r=r===void 0?null:r;var t=o.memoizedState;return t!==null&&r!==null&&lp(r,t[1])?t[0]:(o.memoizedState=[n,r],n)}function zy(n,r){var o=Sa();r=r===void 0?null:r;var t=o.memoizedState;return t!==null&&r!==null&&lp(r,t[1])?t[0]:(n=n(),o.memoizedState=[n,r],n)}function hp(n,r,o){var t=Zc();Ks(98>t?98:t,function(){n(!0)}),Ks(97<t?97:t,function(){var h=_o.suspense;_o.suspense=r===void 0?null:r;try{n(!1),o()}finally{_o.suspense=h}})}function Hy(n,r,o){var t=qo(),h=nl.suspense;t=_i(t,n,h),h={expirationTime:t,suspenseConfig:h,action:o,eagerReducer:null,eagerState:null,next:null};var p=r.pending;if(p===null?h.next=h:(h.next=p.next,p.next=h),r.pending=h,p=n.alternate,n===mn||p!==null&&p===mn)oc=!0,h.expirationTime=Bs,mn.expirationTime=Bs;else{if(n.expirationTime===0&&(p===null||p.expirationTime===0)&&(p=r.lastRenderedReducer,p!==null))try{var c=r.lastRenderedState,a=p(c,o);if(h.eagerReducer=p,h.eagerState=a,Si(a,c))return}catch{}finally{}Xs(n,t)}}var ac={readContext:xo,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useResponder:eo,useDeferredValue:eo,useTransition:eo},hb={readContext:xo,useCallback:im,useContext:xo,useEffect:sm,useImperativeHandle:function(n,r,o){return o=o!=null?o.concat([n]):null,Vh(4,2,Vy.bind(null,r,n),o)},useLayoutEffect:function(n,r){return Vh(4,2,n,r)},useMemo:function(n,r){var o=ia();return r=r===void 0?null:r,n=n(),o.memoizedState=[n,r],n},useReducer:function(n,r,o){var t=ia();return r=o!==void 0?o(r):r,t.memoizedState=t.baseState=r,n=t.queue={pending:null,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},n=n.dispatch=Hy.bind(null,mn,n),[t.memoizedState,n]},useRef:function(n){var r=ia();return n={current:n},r.memoizedState=n},useState:Xd,useDebugValue:dp,useResponder:ap,useDeferredValue:function(n,r){var o=Xd(n),t=o[0],h=o[1];return sm(function(){var p=_o.suspense;_o.suspense=r===void 0?null:r;try{h(n)}finally{_o.suspense=p}},[n,r]),t},useTransition:function(n){var r=Xd(!1),o=r[0];return r=r[1],[im(hp.bind(null,r,n),[r,n]),o]}},fb={readContext:xo,useCallback:ic,useContext:xo,useEffect:sc,useImperativeHandle:Gy,useLayoutEffect:Uy,useMemo:zy,useReducer:du,useRef:Fy,useState:function(){return du(yi)},useDebugValue:dp,useResponder:ap,useDeferredValue:function(n,r){var o=du(yi),t=o[0],h=o[1];return sc(function(){var p=_o.suspense;_o.suspense=r===void 0?null:r;try{h(n)}finally{_o.suspense=p}},[n,r]),t},useTransition:function(n){var r=du(yi),o=r[0];return r=r[1],[ic(hp.bind(null,r,n),[r,n]),o]}},pb={readContext:xo,useCallback:ic,useContext:xo,useEffect:sc,useImperativeHandle:Gy,useLayoutEffect:Uy,useMemo:zy,useReducer:hu,useRef:Fy,useState:function(){return hu(yi)},useDebugValue:dp,useResponder:ap,useDeferredValue:function(n,r){var o=hu(yi),t=o[0],h=o[1];return sc(function(){var p=_o.suspense;_o.suspense=r===void 0?null:r;try{h(n)}finally{_o.suspense=p}},[n,r]),t},useTransition:function(n){var r=hu(yi),o=r[0];return r=r[1],[ic(hp.bind(null,r,n),[r,n]),o]}},ps=null,Fs=null,gi=!1;function Wy(n,r){var o=Ho(5,null,null,0);o.elementType="DELETED",o.type="DELETED",o.stateNode=r,o.return=n,o.effectTag=8,n.lastEffect!==null?(n.lastEffect.nextEffect=o,n.lastEffect=o):n.firstEffect=n.lastEffect=o}function am(n,r){switch(n.tag){case 5:var o=n.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,!0):!1;case 13:return!1;default:return!1}}function Gh(n){if(gi){var r=Fs;if(r){var o=r;if(!am(n,r)){if(r=oa(o.nextSibling),!r||!am(n,r)){n.effectTag=n.effectTag&-1025|2,gi=!1,ps=n;return}Wy(ps,o)}ps=n,Fs=oa(r.firstChild)}else n.effectTag=n.effectTag&-1025|2,gi=!1,ps=n}}function lm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ps=n}function fu(n){if(n!==ps)return!1;if(!gi)return lm(n),gi=!0,!1;var r=n.type;if(n.tag!==5||r!=="head"&&r!=="body"&&!Rh(r,n.memoizedProps))for(r=Fs;r;)Wy(n,r),r=oa(r.nextSibling);if(lm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Pt(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var o=n.data;if(o===dy){if(r===0){Fs=oa(n.nextSibling);break e}r--}else o!==cy&&o!==Yf&&o!==Xf||r++}n=n.nextSibling}Fs=null}}else Fs=ps?oa(n.stateNode.nextSibling):null;return!0}function Yd(){Fs=ps=null,gi=!1}var mb=Po.ReactCurrentOwner,zo=!1;function no(n,r,o,t){r.child=n===null?sp(r,null,o,t):fa(r,n.child,o,t)}function um(n,r,o,t,h){o=o.render;var p=r.ref;return sa(r,h),t=up(n,r,o,t,p,h),n!==null&&!zo?(r.updateQueue=n.updateQueue,r.effectTag&=-517,n.expirationTime<=h&&(n.expirationTime=0),ms(n,r,h)):(r.effectTag|=1,no(n,r,t,h),r.child)}function cm(n,r,o,t,h,p){if(n===null){var c=o.type;return typeof c=="function"&&!gp(c)&&c.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=c,qy(n,r,c,t,h,p)):(n=Fu(o.type,null,t,null,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}return c=n.child,h<p&&(h=c.memoizedProps,o=o.compare,o=o!==null?o:pl,o(h,t)&&n.ref===r.ref)?ms(n,r,p):(r.effectTag|=1,n=ji(c,t),n.ref=r.ref,n.return=r,r.child=n)}function qy(n,r,o,t,h,p){return n!==null&&pl(n.memoizedProps,t)&&n.ref===r.ref&&(zo=!1,h<p)?(r.expirationTime=n.expirationTime,ms(n,r,p)):zh(n,r,o,t,p)}function Xy(n,r){var o=r.ref;(n===null&&o!==null||n!==null&&n.ref!==o)&&(r.effectTag|=128)}function zh(n,r,o,t,h){var p=Yn(o)?Ti:Fn.current;return p=ha(r,p),sa(r,h),o=up(n,r,o,t,p,h),n!==null&&!zo?(r.updateQueue=n.updateQueue,r.effectTag&=-517,n.expirationTime<=h&&(n.expirationTime=0),ms(n,r,h)):(r.effectTag|=1,no(n,r,o,h),r.child)}function dm(n,r,o,t,h){if(Yn(o)){var p=!0;Pu(r)}else p=!1;if(sa(r,h),r.stateNode===null)n!==null&&(n.alternate=null,r.alternate=null,r.effectTag|=2),Ny(r,o,t),Bh(r,o,t,h),t=!0;else if(n===null){var c=r.stateNode,a=r.memoizedProps;c.props=a;var s=c.context,d=o.contextType;typeof d=="object"&&d!==null?d=xo(d):(d=Yn(o)?Ti:Fn.current,d=ha(r,d));var f=o.getDerivedStateFromProps,y=typeof f=="function"||typeof c.getSnapshotBeforeUpdate=="function";y||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(a!==t||s!==d)&&nm(r,c,t,d),Ps=!1;var u=r.memoizedState;c.state=u,ml(r,t,c,h),s=r.memoizedState,a!==t||u!==s||Xn.current||Ps?(typeof f=="function"&&(rc(r,o,f,t),s=r.memoizedState),(a=Ps||rm(r,o,a,t,u,s,d))?(y||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(r.effectTag|=4)):(typeof c.componentDidMount=="function"&&(r.effectTag|=4),r.memoizedProps=t,r.memoizedState=s),c.props=t,c.state=s,c.context=d,t=a):(typeof c.componentDidMount=="function"&&(r.effectTag|=4),t=!1)}else c=r.stateNode,op(n,r),a=r.memoizedProps,c.props=r.type===r.elementType?a:Ao(r.type,a),s=c.context,d=o.contextType,typeof d=="object"&&d!==null?d=xo(d):(d=Yn(o)?Ti:Fn.current,d=ha(r,d)),f=o.getDerivedStateFromProps,(y=typeof f=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(a!==t||s!==d)&&nm(r,c,t,d),Ps=!1,s=r.memoizedState,c.state=s,ml(r,t,c,h),u=r.memoizedState,a!==t||s!==u||Xn.current||Ps?(typeof f=="function"&&(rc(r,o,f,t),u=r.memoizedState),(f=Ps||rm(r,o,a,t,s,u,d))?(y||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(t,u,d),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(t,u,d)),typeof c.componentDidUpdate=="function"&&(r.effectTag|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(r.effectTag|=256)):(typeof c.componentDidUpdate!="function"||a===n.memoizedProps&&s===n.memoizedState||(r.effectTag|=4),typeof c.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&s===n.memoizedState||(r.effectTag|=256),r.memoizedProps=t,r.memoizedState=u),c.props=t,c.state=u,c.context=d,t=f):(typeof c.componentDidUpdate!="function"||a===n.memoizedProps&&s===n.memoizedState||(r.effectTag|=4),typeof c.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&s===n.memoizedState||(r.effectTag|=256),t=!1);return Hh(n,r,o,t,p,h)}function Hh(n,r,o,t,h,p){Xy(n,r);var c=(r.effectTag&64)!==0;if(!t&&!c)return h&&Z0(r,o,!1),ms(n,r,p);t=r.stateNode,mb.current=r;var a=c&&typeof o.getDerivedStateFromError!="function"?null:t.render();return r.effectTag|=1,n!==null&&c?(r.child=fa(r,n.child,null,p),r.child=fa(r,null,a,p)):no(n,r,a,p),r.memoizedState=t.state,h&&Z0(r,o,!0),r.child}function hm(n){var r=n.stateNode;r.pendingContext?$0(n,r.pendingContext,r.pendingContext!==r.context):r.context&&$0(n,r.context,!1),Fh(n,r.containerInfo)}var $d={dehydrated:null,retryTime:0};function fm(n,r,o){var t=r.mode,h=r.pendingProps,p=Yr.current,c=!1,a;if((a=(r.effectTag&64)!==0)||(a=(p&2)!==0&&(n===null||n.memoizedState!==null)),a?(c=!0,r.effectTag&=-65):n!==null&&n.memoizedState===null||h.fallback===void 0||h.unstable_avoidThisFallback===!0||(p|=1),nn(Yr,p&1),n===null){if(h.fallback!==void 0&&Gh(r),c){if(c=h.fallback,h=Us(null,t,0,null),h.return=r,(r.mode&2)===0)for(n=r.memoizedState!==null?r.child.child:r.child,h.child=n;n!==null;)n.return=h,n=n.sibling;return o=Us(c,t,o,null),o.return=r,h.sibling=o,r.memoizedState=$d,r.child=h,o}return t=h.children,r.memoizedState=null,r.child=sp(r,null,t,o)}if(n.memoizedState!==null){if(n=n.child,t=n.sibling,c){if(h=h.fallback,o=ji(n,n.pendingProps),o.return=r,(r.mode&2)===0&&(c=r.memoizedState!==null?r.child.child:r.child,c!==n.child))for(o.child=c;c!==null;)c.return=o,c=c.sibling;return t=ji(t,h),t.return=r,o.sibling=t,o.childExpirationTime=0,r.memoizedState=$d,r.child=o,t}return o=fa(r,n.child,h.children,o),r.memoizedState=null,r.child=o}if(n=n.child,c){if(c=h.fallback,h=Us(null,t,0,null),h.return=r,h.child=n,n!==null&&(n.return=h),(r.mode&2)===0)for(n=r.memoizedState!==null?r.child.child:r.child,h.child=n;n!==null;)n.return=h,n=n.sibling;return o=Us(c,t,o,null),o.return=r,h.sibling=o,o.effectTag|=2,h.childExpirationTime=0,r.memoizedState=$d,r.child=h,o}return r.memoizedState=null,r.child=fa(r,n,h.children,o)}function pm(n,r){n.expirationTime<r&&(n.expirationTime=r);var o=n.alternate;o!==null&&o.expirationTime<r&&(o.expirationTime=r),Dy(n.return,r)}function Zd(n,r,o,t,h,p){var c=n.memoizedState;c===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:t,tail:o,tailExpiration:0,tailMode:h,lastEffect:p}:(c.isBackwards=r,c.rendering=null,c.renderingStartTime=0,c.last=t,c.tail=o,c.tailExpiration=0,c.tailMode=h,c.lastEffect=p)}function mm(n,r,o){var t=r.pendingProps,h=t.revealOrder,p=t.tail;if(no(n,r,t.children,o),t=Yr.current,(t&2)!==0)t=t&1|2,r.effectTag|=64;else{if(n!==null&&(n.effectTag&64)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&pm(n,o);else if(n.tag===19)pm(n,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t&=1}if(nn(Yr,t),(r.mode&2)===0)r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)n=o.alternate,n!==null&&nc(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Zd(r,!1,h,o,p,r.lastEffect);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&nc(n)===null){r.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}Zd(r,!0,o,null,p,r.lastEffect);break;case"together":Zd(r,!1,null,null,void 0,r.lastEffect);break;default:r.memoizedState=null}return r.child}function ms(n,r,o){n!==null&&(r.dependencies=n.dependencies);var t=r.expirationTime;if(t!==0&&td(t),r.childExpirationTime<o)return null;if(n!==null&&r.child!==n.child)throw Error(Pt(153));if(r.child!==null){for(n=r.child,o=ji(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=ji(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}var Yy,Wh,$y,Zy;Yy=function(n,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)n.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Wh=function(){};$y=function(n,r,o,t,h){var p=n.memoizedProps;if(p!==t){var c=r.stateNode;switch(di(Wo.current),n=null,o){case"input":p=gh(c,p),t=gh(c,t),n=[];break;case"option":p=bh(c,p),t=bh(c,t),n=[];break;case"select":p=zn({},p,{value:void 0}),t=zn({},t,{value:void 0}),n=[];break;case"textarea":p=xh(c,p),t=xh(c,t),n=[];break;default:typeof p.onClick!="function"&&typeof t.onClick=="function"&&(c.onclick=$u)}Ch(o,t);var a,s;o=null;for(a in p)if(!t.hasOwnProperty(a)&&p.hasOwnProperty(a)&&p[a]!=null)if(a==="style")for(s in c=p[a],c)c.hasOwnProperty(s)&&(o||(o={}),o[s]="");else a!=="dangerouslySetInnerHTML"&&a!=="children"&&a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ua.hasOwnProperty(a)?n||(n=[]):(n=n||[]).push(a,null));for(a in t){var d=t[a];if(c=p!=null?p[a]:void 0,t.hasOwnProperty(a)&&d!==c&&(d!=null||c!=null))if(a==="style")if(c){for(s in c)!c.hasOwnProperty(s)||d&&d.hasOwnProperty(s)||(o||(o={}),o[s]="");for(s in d)d.hasOwnProperty(s)&&c[s]!==d[s]&&(o||(o={}),o[s]=d[s])}else o||(n||(n=[]),n.push(a,o)),o=d;else a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(n=n||[]).push(a,d)):a==="children"?c===d||typeof d!="string"&&typeof d!="number"||(n=n||[]).push(a,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&(ua.hasOwnProperty(a)?(d!=null&&as(h,a),n||c===d||(n=[])):(n=n||[]).push(a,d))}o&&(n=n||[]).push("style",o),h=n,(r.updateQueue=h)&&(r.effectTag|=4)}};Zy=function(n,r,o,t){o!==t&&(r.effectTag|=4)};function pu(n,r){switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var t=null;o!==null;)o.alternate!==null&&(t=o),o=o.sibling;t===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:t.sibling=null}}function yb(n,r,o){var t=r.pendingProps;switch(r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Yn(r.type)&&Ku(),null;case 3:return pa(),Ur(Xn),Ur(Fn),o=r.stateNode,o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),n!==null&&n.child!==null||!fu(r)||(r.effectTag|=4),Wh(r),null;case 5:ip(r),o=di(gl.current);var h=r.type;if(n!==null&&r.stateNode!=null)$y(n,r,h,t,o),n.ref!==r.ref&&(r.effectTag|=128);else{if(!t){if(r.stateNode===null)throw Error(Pt(166));return null}if(n=di(Wo.current),fu(r)){t=r.stateNode,h=r.type;var p=r.memoizedProps;switch(t[Ls]=r,t[Zu]=p,h){case"iframe":case"object":case"embed":Hr("load",t);break;case"video":case"audio":for(n=0;n<$a.length;n++)Hr($a[n],t);break;case"source":Hr("error",t);break;case"img":case"image":case"link":Hr("error",t),Hr("load",t);break;case"form":Hr("reset",t),Hr("submit",t);break;case"details":Hr("toggle",t);break;case"input":E0(t,p),Hr("invalid",t),as(o,"onChange");break;case"select":t._wrapperState={wasMultiple:!!p.multiple},Hr("invalid",t),as(o,"onChange");break;case"textarea":M0(t,p),Hr("invalid",t),as(o,"onChange")}Ch(h,p),n=null;for(var c in p)if(p.hasOwnProperty(c)){var a=p[c];c==="children"?typeof a=="string"?t.textContent!==a&&(n=["children",a]):typeof a=="number"&&t.textContent!==""+a&&(n=["children",""+a]):ua.hasOwnProperty(c)&&a!=null&&as(o,c)}switch(h){case"input":iu(t),C0(t,p,!0);break;case"textarea":iu(t),A0(t);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(t.onclick=$u)}o=n,r.updateQueue=o,o!==null&&(r.effectTag|=4)}else{switch(c=o.nodeType===9?o:o.ownerDocument,n===D0&&(n=z1(h)),n===D0?h==="script"?(n=c.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof t.is=="string"?n=c.createElement(h,{is:t.is}):(n=c.createElement(h),h==="select"&&(c=n,t.multiple?c.multiple=!0:t.size&&(c.size=t.size))):n=c.createElementNS(n,h),n[Ls]=r,n[Zu]=t,Yy(n,r,!1,!1),r.stateNode=n,c=Mh(h,t),h){case"iframe":case"object":case"embed":Hr("load",n),a=t;break;case"video":case"audio":for(a=0;a<$a.length;a++)Hr($a[a],n);a=t;break;case"source":Hr("error",n),a=t;break;case"img":case"image":case"link":Hr("error",n),Hr("load",n),a=t;break;case"form":Hr("reset",n),Hr("submit",n),a=t;break;case"details":Hr("toggle",n),a=t;break;case"input":E0(n,t),a=gh(n,t),Hr("invalid",n),as(o,"onChange");break;case"option":a=bh(n,t);break;case"select":n._wrapperState={wasMultiple:!!t.multiple},a=zn({},t,{value:void 0}),Hr("invalid",n),as(o,"onChange");break;case"textarea":M0(n,t),a=xh(n,t),Hr("invalid",n),as(o,"onChange");break;default:a=t}Ch(h,a);var s=a;for(p in s)if(s.hasOwnProperty(p)){var d=s[p];p==="style"?ly(n,d):p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&H1(n,d)):p==="children"?typeof d=="string"?(h!=="textarea"||d!=="")&&cl(n,d):typeof d=="number"&&cl(n,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(ua.hasOwnProperty(p)?d!=null&&as(o,p):d!=null&&Lf(n,p,d,c))}switch(h){case"input":iu(n),C0(n,t,!1);break;case"textarea":iu(n),A0(n);break;case"option":t.value!=null&&n.setAttribute("value",""+Zs(t.value));break;case"select":n.multiple=!!t.multiple,o=t.value,o!=null?na(n,!!t.multiple,o,!1):t.defaultValue!=null&&na(n,!!t.multiple,t.defaultValue,!0);break;default:typeof a.onClick=="function"&&(n.onclick=$u)}hy(h,t)&&(r.effectTag|=4)}r.ref!==null&&(r.effectTag|=128)}return null;case 6:if(n&&r.stateNode!=null)Zy(n,r,n.memoizedProps,t);else{if(typeof t!="string"&&r.stateNode===null)throw Error(Pt(166));o=di(gl.current),di(Wo.current),fu(r)?(o=r.stateNode,t=r.memoizedProps,o[Ls]=r,o.nodeValue!==t&&(r.effectTag|=4)):(o=(o.nodeType===9?o:o.ownerDocument).createTextNode(t),o[Ls]=r,r.stateNode=o)}return null;case 13:return Ur(Yr),t=r.memoizedState,(r.effectTag&64)!==0?(r.expirationTime=o,r):(o=t!==null,t=!1,n===null?r.memoizedProps.fallback!==void 0&&fu(r):(h=n.memoizedState,t=h!==null,o||h===null||(h=n.child.sibling,h!==null&&(p=r.firstEffect,p!==null?(r.firstEffect=h,h.nextEffect=p):(r.firstEffect=r.lastEffect=h,h.nextEffect=null),h.effectTag=8))),o&&!t&&(r.mode&2)!==0&&(n===null&&r.memoizedProps.unstable_avoidThisFallback!==!0||(Yr.current&1)!==0?bn===vi&&(bn=cc):((bn===vi||bn===cc)&&(bn=Kc),_l!==0&&oo!==null&&(pi(oo,Zn),yg(oo,_l)))),(o||t)&&(r.effectTag|=4),null);case 4:return pa(),Wh(r),null;case 10:return rp(r),null;case 17:return Yn(r.type)&&Ku(),null;case 19:if(Ur(Yr),t=r.memoizedState,t===null)return null;if(h=(r.effectTag&64)!==0,p=t.rendering,p===null){if(h)pu(t,!1);else if(bn!==vi||n!==null&&(n.effectTag&64)!==0)for(p=r.child;p!==null;){if(n=nc(p),n!==null){for(r.effectTag|=64,pu(t,!1),h=n.updateQueue,h!==null&&(r.updateQueue=h,r.effectTag|=4),t.lastEffect===null&&(r.firstEffect=null),r.lastEffect=t.lastEffect,t=r.child;t!==null;)h=t,p=o,h.effectTag&=2,h.nextEffect=null,h.firstEffect=null,h.lastEffect=null,n=h.alternate,n===null?(h.childExpirationTime=0,h.expirationTime=p,h.child=null,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null):(h.childExpirationTime=n.childExpirationTime,h.expirationTime=n.expirationTime,h.child=n.child,h.memoizedProps=n.memoizedProps,h.memoizedState=n.memoizedState,h.updateQueue=n.updateQueue,p=n.dependencies,h.dependencies=p===null?null:{expirationTime:p.expirationTime,firstContext:p.firstContext,responders:p.responders}),t=t.sibling;return nn(Yr,Yr.current&1|2),r.child}p=p.sibling}}else{if(!h)if(n=nc(p),n!==null){if(r.effectTag|=64,h=!0,o=n.updateQueue,o!==null&&(r.updateQueue=o,r.effectTag|=4),pu(t,!0),t.tail===null&&t.tailMode==="hidden"&&!p.alternate)return r=r.lastEffect=t.lastEffect,r!==null&&(r.nextEffect=null),null}else 2*mo()-t.renderingStartTime>t.tailExpiration&&1<o&&(r.effectTag|=64,h=!0,pu(t,!1),r.expirationTime=r.childExpirationTime=o-1);t.isBackwards?(p.sibling=r.child,r.child=p):(o=t.last,o!==null?o.sibling=p:r.child=p,t.last=p)}return t.tail!==null?(t.tailExpiration===0&&(t.tailExpiration=mo()+500),o=t.tail,t.rendering=o,t.tail=o.sibling,t.lastEffect=r.lastEffect,t.renderingStartTime=mo(),o.sibling=null,r=Yr.current,nn(Yr,h?r&1|2:r&1),o):null}throw Error(Pt(156,r.tag))}function gb(n){switch(n.tag){case 1:Yn(n.type)&&Ku();var r=n.effectTag;return r&4096?(n.effectTag=r&-4097|64,n):null;case 3:if(pa(),Ur(Xn),Ur(Fn),r=n.effectTag,(r&64)!==0)throw Error(Pt(285));return n.effectTag=r&-4097|64,n;case 5:return ip(n),null;case 13:return Ur(Yr),r=n.effectTag,r&4096?(n.effectTag=r&-4097|64,n):null;case 19:return Ur(Yr),null;case 4:return pa(),null;case 10:return rp(n),null;default:return null}}function fp(n,r){return{value:n,source:r,stack:Ff(r)}}var vb=typeof WeakSet=="function"?WeakSet:Set;function qh(n,r){var o=r.source,t=r.stack;t===null&&o!==null&&(t=Ff(o)),o!==null&&gs(o.type),r=r.value,n!==null&&n.tag===1&&gs(n.type);try{console.error(r)}catch(h){setTimeout(function(){throw h})}}function _b(n,r){try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){bi(n,o)}}function ym(n){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(o){bi(n,o)}else r.current=null}function bb(n,r){switch(r.tag){case 0:case 11:case 15:case 22:return;case 1:if(r.effectTag&256&&n!==null){var o=n.memoizedProps,t=n.memoizedState;n=r.stateNode,r=n.getSnapshotBeforeUpdate(r.elementType===r.type?o:Ao(r.type,o),t),n.__reactInternalSnapshotBeforeUpdate=r}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Pt(163))}function Qy(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var t=o.destroy;o.destroy=void 0,t!==void 0&&t()}o=o.next}while(o!==r)}}function Ky(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&n)===n){var t=o.create;o.destroy=t()}o=o.next}while(o!==r)}}function xb(n,r,o){switch(o.tag){case 0:case 11:case 15:case 22:Ky(3,o);return;case 1:if(n=o.stateNode,o.effectTag&4)if(r===null)n.componentDidMount();else{var t=o.elementType===o.type?r.memoizedProps:Ao(o.type,r.memoizedProps);n.componentDidUpdate(t,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}r=o.updateQueue,r!==null&&tm(o,r,n);return;case 3:if(r=o.updateQueue,r!==null){if(n=null,o.child!==null)switch(o.child.tag){case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}tm(o,r,n)}return;case 5:n=o.stateNode,r===null&&o.effectTag&4&&hy(o.type,o.memoizedProps)&&n.focus();return;case 6:return;case 4:return;case 12:return;case 13:o.memoizedState===null&&(o=o.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&oy(o))));return;case 19:case 17:case 20:case 21:return}throw Error(Pt(163))}function gm(n,r,o){switch(typeof ef=="function"&&ef(r),r.tag){case 0:case 11:case 14:case 15:case 22:if(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null)){var t=n.next;Ks(97<o?97:o,function(){var h=t;do{var p=h.destroy;if(p!==void 0){var c=r;try{p()}catch(a){bi(c,a)}}h=h.next}while(h!==t)})}break;case 1:ym(r),o=r.stateNode,typeof o.componentWillUnmount=="function"&&_b(r,o);break;case 5:ym(r);break;case 4:eg(n,r,o)}}function Jy(n){var r=n.alternate;n.return=null,n.child=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.alternate=null,n.firstEffect=null,n.lastEffect=null,n.pendingProps=null,n.memoizedProps=null,n.stateNode=null,r!==null&&Jy(r)}function vm(n){return n.tag===5||n.tag===3||n.tag===4}function _m(n){e:{for(var r=n.return;r!==null;){if(vm(r)){var o=r;break e}r=r.return}throw Error(Pt(160))}switch(r=o.stateNode,o.tag){case 5:var t=!1;break;case 3:r=r.containerInfo,t=!0;break;case 4:r=r.containerInfo,t=!0;break;default:throw Error(Pt(161))}o.effectTag&16&&(cl(r,""),o.effectTag&=-17);e:t:for(o=n;;){for(;o.sibling===null;){if(o.return===null||vm(o.return)){o=null;break e}o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.effectTag&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.effectTag&2)){o=o.stateNode;break e}}t?Xh(n,o,r):Yh(n,o,r)}function Xh(n,r,o){var t=n.tag,h=t===5||t===6;if(h)n=h?n.stateNode:n.stateNode.instance,r?o.nodeType===8?o.parentNode.insertBefore(n,r):o.insertBefore(n,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(n,o)):(r=o,r.appendChild(n)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=$u));else if(t!==4&&(n=n.child,n!==null))for(Xh(n,r,o),n=n.sibling;n!==null;)Xh(n,r,o),n=n.sibling}function Yh(n,r,o){var t=n.tag,h=t===5||t===6;if(h)n=h?n.stateNode:n.stateNode.instance,r?o.insertBefore(n,r):o.appendChild(n);else if(t!==4&&(n=n.child,n!==null))for(Yh(n,r,o),n=n.sibling;n!==null;)Yh(n,r,o),n=n.sibling}function eg(n,r,o){for(var t=r,h=!1,p,c;;){if(!h){h=t.return;e:for(;;){if(h===null)throw Error(Pt(160));switch(p=h.stateNode,h.tag){case 5:c=!1;break e;case 3:p=p.containerInfo,c=!0;break e;case 4:p=p.containerInfo,c=!0;break e}h=h.return}h=!0}if(t.tag===5||t.tag===6){e:for(var a=n,s=t,d=o,f=s;;)if(gm(a,f,d),f.child!==null&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}c?(a=p,s=t.stateNode,a.nodeType===8?a.parentNode.removeChild(s):a.removeChild(s)):p.removeChild(t.stateNode)}else if(t.tag===4){if(t.child!==null){p=t.stateNode.containerInfo,c=!0,t.child.return=t,t=t.child;continue}}else if(gm(n,t,o),t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return,t.tag===4&&(h=!1)}t.sibling.return=t.return,t=t.sibling}}function Qd(n,r){switch(r.tag){case 0:case 11:case 14:case 15:case 22:Qy(3,r);return;case 1:return;case 5:var o=r.stateNode;if(o!=null){var t=r.memoizedProps,h=n!==null?n.memoizedProps:t;n=r.type;var p=r.updateQueue;if(r.updateQueue=null,p!==null){for(o[Zu]=t,n==="input"&&t.type==="radio"&&t.name!=null&&U1(o,t),Mh(n,h),r=Mh(n,t),h=0;h<p.length;h+=2){var c=p[h],a=p[h+1];c==="style"?ly(o,a):c==="dangerouslySetInnerHTML"?H1(o,a):c==="children"?cl(o,a):Lf(o,c,a,r)}switch(n){case"input":vh(o,t);break;case"textarea":V1(o,t);break;case"select":r=o._wrapperState.wasMultiple,o._wrapperState.wasMultiple=!!t.multiple,n=t.value,n!=null?na(o,!!t.multiple,n,!1):r!==!!t.multiple&&(t.defaultValue!=null?na(o,!!t.multiple,t.defaultValue,!0):na(o,!!t.multiple,t.multiple?[]:"",!1))}}}return;case 6:if(r.stateNode===null)throw Error(Pt(162));r.stateNode.nodeValue=r.memoizedProps;return;case 3:r=r.stateNode,r.hydrate&&(r.hydrate=!1,oy(r.containerInfo));return;case 12:return;case 13:if(o=r,r.memoizedState===null?t=!1:(t=!0,o=r.child,yp=mo()),o!==null)e:for(n=o;;){if(n.tag===5)p=n.stateNode,t?(p=p.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(p=n.stateNode,h=n.memoizedProps.style,h=h!=null&&h.hasOwnProperty("display")?h.display:null,p.style.display=ay("display",h));else if(n.tag===6)n.stateNode.nodeValue=t?"":n.memoizedProps;else if(n.tag===13&&n.memoizedState!==null&&n.memoizedState.dehydrated===null){p=n.child.sibling,p.return=n,n=p;continue}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}bm(r);return;case 19:bm(r);return;case 17:return}throw Error(Pt(163))}function bm(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var o=n.stateNode;o===null&&(o=n.stateNode=new vb),r.forEach(function(t){var h=Rb.bind(null,n,t);o.has(t)||(o.add(t),t.then(h,h))})}}var wb=typeof WeakMap=="function"?WeakMap:Map;function tg(n,r,o){o=Hs(o,null),o.tag=3,o.payload={element:null};var t=r.value;return o.callback=function(){fc||(fc=!0,$h=t),qh(n,r)},o}function rg(n,r,o){o=Hs(o,null),o.tag=3;var t=n.type.getDerivedStateFromError;if(typeof t=="function"){var h=r.value;o.payload=function(){return qh(n,r),t(h)}}var p=n.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){typeof t!="function"&&(qs===null?qs=new Set([this]):qs.add(this),qh(n,r));var c=r.stack;this.componentDidCatch(r.value,{componentStack:c!==null?c:""})}),o}var Sb=Math.ceil,lc=Po.ReactCurrentDispatcher,ng=Po.ReactCurrentOwner,xn=0,pp=8,Io=16,Xo=32,vi=0,uc=1,og=2,cc=3,Kc=4,mp=5,ar=xn,oo=null,ur=null,Zn=0,bn=vi,Jc=null,ds=1073741823,vl=1073741823,dc=null,_l=0,hc=!1,yp=0,sg=500,er=null,fc=!1,$h=null,qs=null,pc=!1,ol=null,Qa=90,hi=null,sl=0,Zh=null,Nu=0;function qo(){return(ar&(Io|Xo))!==xn?1073741821-(mo()/10|0):Nu!==0?Nu:Nu=1073741821-(mo()/10|0)}function _i(n,r,o){if(r=r.mode,(r&2)===0)return 1073741823;var t=Zc();if((r&4)===0)return t===99?1073741823:1073741822;if((ar&Io)!==xn)return Zn;if(o!==null)n=Du(n,o.timeoutMs|0||5e3,250);else switch(t){case 99:n=1073741823;break;case 98:n=Du(n,150,100);break;case 97:case 96:n=Du(n,5e3,250);break;case 95:n=2;break;default:throw Error(Pt(326))}return oo!==null&&n===Zn&&--n,n}function Xs(n,r){if(50<sl)throw sl=0,Zh=null,Error(Pt(185));if(n=ed(n,r),n!==null){var o=Zc();r===1073741823?(ar&pp)!==xn&&(ar&(Io|Xo))===xn?Qh(n):(so(n),ar===xn&&Zo()):so(n),(ar&4)===xn||o!==98&&o!==99||(hi===null?hi=new Map([[n,r]]):(o=hi.get(n),(o===void 0||o>r)&&hi.set(n,r)))}}function ed(n,r){n.expirationTime<r&&(n.expirationTime=r);var o=n.alternate;o!==null&&o.expirationTime<r&&(o.expirationTime=r);var t=n.return,h=null;if(t===null&&n.tag===3)h=n.stateNode;else for(;t!==null;){if(o=t.alternate,t.childExpirationTime<r&&(t.childExpirationTime=r),o!==null&&o.childExpirationTime<r&&(o.childExpirationTime=r),t.return===null&&t.tag===3){h=t.stateNode;break}t=t.return}return h!==null&&(oo===h&&(td(r),bn===Kc&&pi(h,Zn)),yg(h,r)),h}function Bu(n){var r=n.lastExpiredTime;if(r!==0||(r=n.firstPendingTime,!mg(n,r)))return r;var o=n.lastPingedTime;return n=n.nextKnownPendingLevel,n=o>n?o:n,2>=n&&r!==n?0:n}function so(n){if(n.lastExpiredTime!==0)n.callbackExpirationTime=1073741823,n.callbackPriority=99,n.callbackNode=J0(Qh.bind(null,n));else{var r=Bu(n),o=n.callbackNode;if(r===0)o!==null&&(n.callbackNode=null,n.callbackExpirationTime=0,n.callbackPriority=90);else{var t=qo();if(r===1073741823?t=99:r===1||r===2?t=95:(t=10*(1073741821-r)-10*(1073741821-t),t=0>=t?99:250>=t?98:5250>=t?97:95),o!==null){var h=n.callbackPriority;if(n.callbackExpirationTime===r&&h>=t)return;o!==Ry&&Ey(o)}n.callbackExpirationTime=r,n.callbackPriority=t,r=r===1073741823?J0(Qh.bind(null,n)):Py(t,ig.bind(null,n),{timeout:10*(1073741821-r)-mo()}),n.callbackNode=r}}}function ig(n,r){if(Nu=0,r)return r=qo(),tf(n,r),so(n),null;var o=Bu(n);if(o!==0){if(r=n.callbackNode,(ar&(Io|Xo))!==xn)throw Error(Pt(327));if(Ta(),n===oo&&o===Zn||fi(n,o),ur!==null){var t=ar;ar|=Io;var h=cg();do try{Eb();break}catch(a){ug(n,a)}while(1);if(tp(),ar=t,lc.current=h,bn===uc)throw r=Jc,fi(n,o),pi(n,o),so(n),r;if(ur===null)switch(h=n.finishedWork=n.current.alternate,n.finishedExpirationTime=o,t=bn,oo=null,t){case vi:case uc:throw Error(Pt(345));case og:tf(n,2<o?2:o);break;case cc:if(pi(n,o),t=n.lastSuspendedTime,o===t&&(n.nextKnownPendingLevel=Kh(h)),ds===1073741823&&(h=yp+sg-mo(),10<h)){if(hc){var p=n.lastPingedTime;if(p===0||p>=o){n.lastPingedTime=o,fi(n,o);break}}if(p=Bu(n),p!==0&&p!==o)break;if(t!==0&&t!==o){n.lastPingedTime=t;break}n.timeoutHandle=Wd(ai.bind(null,n),h);break}ai(n);break;case Kc:if(pi(n,o),t=n.lastSuspendedTime,o===t&&(n.nextKnownPendingLevel=Kh(h)),hc&&(h=n.lastPingedTime,h===0||h>=o)){n.lastPingedTime=o,fi(n,o);break}if(h=Bu(n),h!==0&&h!==o)break;if(t!==0&&t!==o){n.lastPingedTime=t;break}if(vl!==1073741823?t=10*(1073741821-vl)-mo():ds===1073741823?t=0:(t=10*(1073741821-ds)-5e3,h=mo(),o=10*(1073741821-o)-h,t=h-t,0>t&&(t=0),t=(120>t?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*Sb(t/1960))-t,o<t&&(t=o)),10<t){n.timeoutHandle=Wd(ai.bind(null,n),t);break}ai(n);break;case mp:if(ds!==1073741823&&dc!==null){p=ds;var c=dc;if(t=c.busyMinDurationMs|0,0>=t?t=0:(h=c.busyDelayMs|0,p=mo()-(10*(1073741821-p)-(c.timeoutMs|0||5e3)),t=p<=h?0:h+t-p),10<t){pi(n,o),n.timeoutHandle=Wd(ai.bind(null,n),t);break}}ai(n);break;default:throw Error(Pt(329))}if(so(n),n.callbackNode===r)return ig.bind(null,n)}}return null}function Qh(n){var r=n.lastExpiredTime;if(r=r!==0?r:1073741823,(ar&(Io|Xo))!==xn)throw Error(Pt(327));if(Ta(),n===oo&&r===Zn||fi(n,r),ur!==null){var o=ar;ar|=Io;var t=cg();do try{jb();break}catch(h){ug(n,h)}while(1);if(tp(),ar=o,lc.current=t,bn===uc)throw o=Jc,fi(n,r),pi(n,r),so(n),o;if(ur!==null)throw Error(Pt(261));n.finishedWork=n.current.alternate,n.finishedExpirationTime=r,oo=null,ai(n),so(n)}return null}function Tb(){if(hi!==null){var n=hi;hi=null,n.forEach(function(r,o){tf(o,r),so(o)}),Zo()}}function ag(n,r){var o=ar;ar|=1;try{return n(r)}finally{ar=o,ar===xn&&Zo()}}function lg(n,r){var o=ar;ar&=-2,ar|=pp;try{return n(r)}finally{ar=o,ar===xn&&Zo()}}function fi(n,r){n.finishedWork=null,n.finishedExpirationTime=0;var o=n.timeoutHandle;if(o!==-1&&(n.timeoutHandle=-1,S2(o)),ur!==null)for(o=ur.return;o!==null;){var t=o;switch(t.tag){case 1:t=t.type.childContextTypes,t!=null&&Ku();break;case 3:pa(),Ur(Xn),Ur(Fn);break;case 5:ip(t);break;case 4:pa();break;case 13:Ur(Yr);break;case 19:Ur(Yr);break;case 10:rp(t)}o=o.return}oo=n,ur=ji(n.current,null),Zn=r,bn=vi,Jc=null,vl=ds=1073741823,dc=null,_l=0,hc=!1}function ug(n,r){do{try{if(tp(),Lu.current=ac,oc)for(var o=mn.memoizedState;o!==null;){var t=o.queue;t!==null&&(t.pending=null),o=o.next}if(Bs=0,Bn=Nn=mn=null,oc=!1,ur===null||ur.return===null)return bn=uc,Jc=r,ur=null;e:{var h=n,p=ur.return,c=ur,a=r;if(r=Zn,c.effectTag|=2048,c.firstEffect=c.lastEffect=null,a!==null&&typeof a=="object"&&typeof a.then=="function"){var s=a;if((c.mode&2)===0){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.expirationTime=d.expirationTime):(c.updateQueue=null,c.memoizedState=null)}var f=(Yr.current&1)!==0,y=p;do{var u;if(u=y.tag===13){var l=y.memoizedState;if(l!==null)u=l.dehydrated!==null;else{var i=y.memoizedProps;u=i.fallback===void 0?!1:i.unstable_avoidThisFallback!==!0?!0:!f}}if(u){var m=y.updateQueue;if(m===null){var g=new Set;g.add(s),y.updateQueue=g}else m.add(s);if((y.mode&2)===0){if(y.effectTag|=64,c.effectTag&=-2981,c.tag===1)if(c.alternate===null)c.tag=17;else{var v=Hs(1073741823,null);v.tag=2,Ws(c,v)}c.expirationTime=1073741823;break e}a=void 0,c=r;var b=h.pingCache;if(b===null?(b=h.pingCache=new wb,a=new Set,b.set(s,a)):(a=b.get(s),a===void 0&&(a=new Set,b.set(s,a))),!a.has(c)){a.add(c);var w=kb.bind(null,h,s,c);s.then(w,w)}y.effectTag|=4096,y.expirationTime=r;break e}y=y.return}while(y!==null);a=Error((gs(c.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+Ff(c))}bn!==mp&&(bn=og),a=fp(a,c),y=p;do{switch(y.tag){case 3:s=a,y.effectTag|=4096,y.expirationTime=r;var S=tg(y,s,r);em(y,S);break e;case 1:s=a;var x=y.type,M=y.stateNode;if((y.effectTag&64)===0&&(typeof x.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(qs===null||!qs.has(M)))){y.effectTag|=4096,y.expirationTime=r;var C=rg(y,s,r);em(y,C);break e}}y=y.return}while(y!==null)}ur=fg(ur)}catch(E){r=E;continue}break}while(1)}function cg(){var n=lc.current;return lc.current=ac,n===null?ac:n}function dg(n,r){n<ds&&2<n&&(ds=n),r!==null&&n<vl&&2<n&&(vl=n,dc=r)}function td(n){n>_l&&(_l=n)}function jb(){for(;ur!==null;)ur=hg(ur)}function Eb(){for(;ur!==null&&!cb();)ur=hg(ur)}function hg(n){var r=pg(n.alternate,n,Zn);return n.memoizedProps=n.pendingProps,r===null&&(r=fg(n)),ng.current=null,r}function fg(n){ur=n;do{var r=ur.alternate;if(n=ur.return,(ur.effectTag&2048)===0){if(r=yb(r,ur,Zn),Zn===1||ur.childExpirationTime!==1){for(var o=0,t=ur.child;t!==null;){var h=t.expirationTime,p=t.childExpirationTime;h>o&&(o=h),p>o&&(o=p),t=t.sibling}ur.childExpirationTime=o}if(r!==null)return r;n!==null&&(n.effectTag&2048)===0&&(n.firstEffect===null&&(n.firstEffect=ur.firstEffect),ur.lastEffect!==null&&(n.lastEffect!==null&&(n.lastEffect.nextEffect=ur.firstEffect),n.lastEffect=ur.lastEffect),1<ur.effectTag&&(n.lastEffect!==null?n.lastEffect.nextEffect=ur:n.firstEffect=ur,n.lastEffect=ur))}else{if(r=gb(ur),r!==null)return r.effectTag&=2047,r;n!==null&&(n.firstEffect=n.lastEffect=null,n.effectTag|=2048)}if(r=ur.sibling,r!==null)return r;ur=n}while(ur!==null);return bn===vi&&(bn=mp),null}function Kh(n){var r=n.expirationTime;return n=n.childExpirationTime,r>n?r:n}function ai(n){var r=Zc();return Ks(99,Cb.bind(null,n,r)),null}function Cb(n,r){do Ta();while(ol!==null);if((ar&(Io|Xo))!==xn)throw Error(Pt(327));var o=n.finishedWork,t=n.finishedExpirationTime;if(o===null)return null;if(n.finishedWork=null,n.finishedExpirationTime=0,o===n.current)throw Error(Pt(177));n.callbackNode=null,n.callbackExpirationTime=0,n.callbackPriority=90,n.nextKnownPendingLevel=0;var h=Kh(o);if(n.firstPendingTime=h,t<=n.lastSuspendedTime?n.firstSuspendedTime=n.lastSuspendedTime=n.nextKnownPendingLevel=0:t<=n.firstSuspendedTime&&(n.firstSuspendedTime=t-1),t<=n.lastPingedTime&&(n.lastPingedTime=0),t<=n.lastExpiredTime&&(n.lastExpiredTime=0),n===oo&&(ur=oo=null,Zn=0),1<o.effectTag?o.lastEffect!==null?(o.lastEffect.nextEffect=o,h=o.firstEffect):h=o:h=o.firstEffect,h!==null){var p=ar;ar|=Xo,ng.current=null,zd=Au;var c=B0();if(kh(c)){if("selectionStart"in c)var a={start:c.selectionStart,end:c.selectionEnd};else e:{a=(a=c.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var d=s.anchorOffset,f=s.focusNode;s=s.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var y=0,u=-1,l=-1,i=0,m=0,g=c,v=null;t:for(;;){for(var b;g!==a||d!==0&&g.nodeType!==3||(u=y+d),g!==f||s!==0&&g.nodeType!==3||(l=y+s),g.nodeType===3&&(y+=g.nodeValue.length),(b=g.firstChild)!==null;)v=g,g=b;for(;;){if(g===c)break t;if(v===a&&++i===d&&(u=y),v===f&&++m===s&&(l=y),(b=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=b}a=u===-1||l===-1?null:{start:u,end:l}}else a=null}a=a||{start:0,end:0}}else a=null;Hd={activeElementDetached:null,focusedElem:c,selectionRange:a},Au=!1,er=h;do try{Mb()}catch(P){if(er===null)throw Error(Pt(330));bi(er,P),er=er.nextEffect}while(er!==null);er=h;do try{for(c=n,a=r;er!==null;){var w=er.effectTag;if(w&16&&cl(er.stateNode,""),w&128){var S=er.alternate;if(S!==null){var x=S.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(w&1038){case 2:_m(er),er.effectTag&=-3;break;case 6:_m(er),er.effectTag&=-3,Qd(er.alternate,er);break;case 1024:er.effectTag&=-1025;break;case 1028:er.effectTag&=-1025,Qd(er.alternate,er);break;case 4:Qd(er.alternate,er);break;case 8:d=er,eg(c,d,a),Jy(d)}er=er.nextEffect}}catch(P){if(er===null)throw Error(Pt(330));bi(er,P),er=er.nextEffect}while(er!==null);if(x=Hd,S=B0(),w=x.focusedElem,a=x.selectionRange,S!==w&&w&&w.ownerDocument&&uy(w.ownerDocument.documentElement,w)){for(a!==null&&kh(w)&&(S=a.start,x=a.end,x===void 0&&(x=S),"selectionStart"in w?(w.selectionStart=S,w.selectionEnd=Math.min(x,w.value.length)):(x=(S=w.ownerDocument||document)&&S.defaultView||window,x.getSelection&&(x=x.getSelection(),d=w.textContent.length,c=Math.min(a.start,d),a=a.end===void 0?c:Math.min(a.end,d),!x.extend&&c>a&&(d=a,a=c,c=d),d=N0(w,c),f=N0(w,a),d&&f&&(x.rangeCount!==1||x.anchorNode!==d.node||x.anchorOffset!==d.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&(S=S.createRange(),S.setStart(d.node,d.offset),x.removeAllRanges(),c>a?(x.addRange(S),x.extend(f.node,f.offset)):(S.setEnd(f.node,f.offset),x.addRange(S)))))),S=[],x=w;x=x.parentNode;)x.nodeType===1&&S.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<S.length;w++)x=S[w],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Au=!!zd,Hd=zd=null,n.current=o,er=h;do try{for(w=n;er!==null;){var M=er.effectTag;if(M&36&&xb(w,er.alternate,er),M&128){S=void 0;var C=er.ref;if(C!==null){var E=er.stateNode;switch(er.tag){case 5:S=E;break;default:S=E}typeof C=="function"?C(S):C.current=S}}er=er.nextEffect}}catch(P){if(er===null)throw Error(Pt(330));bi(er,P),er=er.nextEffect}while(er!==null);er=null,db(),ar=p}else n.current=o;if(pc)pc=!1,ol=n,Qa=r;else for(er=h;er!==null;)r=er.nextEffect,er.nextEffect=null,er=r;if(r=n.firstPendingTime,r===0&&(qs=null),r===1073741823?n===Zh?sl++:(sl=0,Zh=n):sl=0,typeof Jh=="function"&&Jh(o.stateNode,t),so(n),fc)throw fc=!1,n=$h,$h=null,n;return(ar&pp)!==xn||Zo(),null}function Mb(){for(;er!==null;){var n=er.effectTag;(n&256)!==0&&bb(er.alternate,er),(n&512)===0||pc||(pc=!0,Py(97,function(){return Ta(),null})),er=er.nextEffect}}function Ta(){if(Qa!==90){var n=97<Qa?97:Qa;return Qa=90,Ks(n,Ab)}}function Ab(){if(ol===null)return!1;var n=ol;if(ol=null,(ar&(Io|Xo))!==xn)throw Error(Pt(331));var r=ar;for(ar|=Xo,n=n.current.firstEffect;n!==null;){try{var o=n;if((o.effectTag&512)!==0)switch(o.tag){case 0:case 11:case 15:case 22:Qy(5,o),Ky(5,o)}}catch(t){if(n===null)throw Error(Pt(330));bi(n,t)}o=n.nextEffect,n.nextEffect=null,n=o}return ar=r,Zo(),!0}function xm(n,r,o){r=fp(o,r),r=tg(n,r,1073741823),Ws(n,r),n=ed(n,1073741823),n!==null&&so(n)}function bi(n,r){if(n.tag===3)xm(n,n,r);else for(var o=n.return;o!==null;){if(o.tag===3){xm(o,n,r);break}else if(o.tag===1){var t=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof t.componentDidCatch=="function"&&(qs===null||!qs.has(t))){n=fp(r,n),n=rg(o,n,1073741823),Ws(o,n),o=ed(o,1073741823),o!==null&&so(o);break}}o=o.return}}function kb(n,r,o){var t=n.pingCache;t!==null&&t.delete(r),oo===n&&Zn===o?bn===Kc||bn===cc&&ds===1073741823&&mo()-yp<sg?fi(n,Zn):hc=!0:mg(n,o)&&(r=n.lastPingedTime,r!==0&&r<o||(n.lastPingedTime=o,so(n)))}function Rb(n,r){var o=n.stateNode;o!==null&&o.delete(r),r=0,r===0&&(r=qo(),r=_i(r,n,null)),n=ed(n,r),n!==null&&so(n)}var pg;pg=function(n,r,o){var t=r.expirationTime;if(n!==null){var h=r.pendingProps;if(n.memoizedProps!==h||Xn.current)zo=!0;else{if(t<o){switch(zo=!1,r.tag){case 3:hm(r),Yd();break;case 5:if(om(r),r.mode&4&&o!==1&&h.hidden)return r.expirationTime=r.childExpirationTime=1,null;break;case 1:Yn(r.type)&&Pu(r);break;case 4:Fh(r,r.stateNode.containerInfo);break;case 10:t=r.memoizedProps.value,h=r.type._context,nn(Ju,h._currentValue),h._currentValue=t;break;case 13:if(r.memoizedState!==null)return t=r.child.childExpirationTime,t!==0&&t>=o?fm(n,r,o):(nn(Yr,Yr.current&1),r=ms(n,r,o),r!==null?r.sibling:null);nn(Yr,Yr.current&1);break;case 19:if(t=r.childExpirationTime>=o,(n.effectTag&64)!==0){if(t)return mm(n,r,o);r.effectTag|=64}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null),nn(Yr,Yr.current),!t)return null}return ms(n,r,o)}zo=!1}}else zo=!1;switch(r.expirationTime=0,r.tag){case 2:if(t=r.type,n!==null&&(n.alternate=null,r.alternate=null,r.effectTag|=2),n=r.pendingProps,h=ha(r,Fn.current),sa(r,o),h=up(null,r,t,n,h,o),r.effectTag|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0){if(r.tag=1,r.memoizedState=null,r.updateQueue=null,Yn(t)){var p=!0;Pu(r)}else p=!1;r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,np(r);var c=t.getDerivedStateFromProps;typeof c=="function"&&rc(r,t,c,n),h.updater=Qc,r.stateNode=h,h._reactInternalFiber=r,Bh(r,t,n,o),r=Hh(null,r,t,!0,p,o)}else r.tag=0,no(null,r,h,o),r=r.child;return r;case 16:e:{if(h=r.elementType,n!==null&&(n.alternate=null,r.alternate=null,r.effectTag|=2),n=r.pendingProps,i2(h),h._status!==1)throw h._result;switch(h=h._result,r.type=h,p=r.tag=Ib(h),n=Ao(h,n),p){case 0:r=zh(null,r,h,n,o);break e;case 1:r=dm(null,r,h,n,o);break e;case 11:r=um(null,r,h,n,o);break e;case 14:r=cm(null,r,h,Ao(h.type,n),t,o);break e}throw Error(Pt(306,h,""))}return r;case 0:return t=r.type,h=r.pendingProps,h=r.elementType===t?h:Ao(t,h),zh(n,r,t,h,o);case 1:return t=r.type,h=r.pendingProps,h=r.elementType===t?h:Ao(t,h),dm(n,r,t,h,o);case 3:if(hm(r),t=r.updateQueue,n===null||t===null)throw Error(Pt(282));if(t=r.pendingProps,h=r.memoizedState,h=h!==null?h.element:null,op(n,r),ml(r,t,null,o),t=r.memoizedState.element,t===h)Yd(),r=ms(n,r,o);else{if((h=r.stateNode.hydrate)&&(Fs=oa(r.stateNode.containerInfo.firstChild),ps=r,h=gi=!0),h)for(o=sp(r,null,t,o),r.child=o;o;)o.effectTag=o.effectTag&-3|1024,o=o.sibling;else no(n,r,t,o),Yd();r=r.child}return r;case 5:return om(r),n===null&&Gh(r),t=r.type,h=r.pendingProps,p=n!==null?n.memoizedProps:null,c=h.children,Rh(t,h)?c=null:p!==null&&Rh(t,p)&&(r.effectTag|=16),Xy(n,r),r.mode&4&&o!==1&&h.hidden?(r.expirationTime=r.childExpirationTime=1,r=null):(no(n,r,c,o),r=r.child),r;case 6:return n===null&&Gh(r),null;case 13:return fm(n,r,o);case 4:return Fh(r,r.stateNode.containerInfo),t=r.pendingProps,n===null?r.child=fa(r,null,t,o):no(n,r,t,o),r.child;case 11:return t=r.type,h=r.pendingProps,h=r.elementType===t?h:Ao(t,h),um(n,r,t,h,o);case 7:return no(n,r,r.pendingProps,o),r.child;case 8:return no(n,r,r.pendingProps.children,o),r.child;case 12:return no(n,r,r.pendingProps.children,o),r.child;case 10:e:{t=r.type._context,h=r.pendingProps,c=r.memoizedProps,p=h.value;var a=r.type._context;if(nn(Ju,a._currentValue),a._currentValue=p,c!==null)if(a=c.value,p=Si(a,p)?0:(typeof t._calculateChangedBits=="function"?t._calculateChangedBits(a,p):1073741823)|0,p===0){if(c.children===h.children&&!Xn.current){r=ms(n,r,o);break e}}else for(a=r.child,a!==null&&(a.return=r);a!==null;){var s=a.dependencies;if(s!==null){c=a.child;for(var d=s.firstContext;d!==null;){if(d.context===t&&(d.observedBits&p)!==0){a.tag===1&&(d=Hs(o,null),d.tag=2,Ws(a,d)),a.expirationTime<o&&(a.expirationTime=o),d=a.alternate,d!==null&&d.expirationTime<o&&(d.expirationTime=o),Dy(a.return,o),s.expirationTime<o&&(s.expirationTime=o);break}d=d.next}}else c=a.tag===10&&a.type===r.type?null:a.child;if(c!==null)c.return=a;else for(c=a;c!==null;){if(c===r){c=null;break}if(a=c.sibling,a!==null){a.return=c.return,c=a;break}c=c.return}a=c}no(n,r,h.children,o),r=r.child}return r;case 9:return h=r.type,p=r.pendingProps,t=p.children,sa(r,o),h=xo(h,p.unstable_observedBits),t=t(h),r.effectTag|=1,no(n,r,t,o),r.child;case 14:return h=r.type,p=Ao(h,r.pendingProps),p=Ao(h.type,p),cm(n,r,h,p,t,o);case 15:return qy(n,r,r.type,r.pendingProps,t,o);case 17:return t=r.type,h=r.pendingProps,h=r.elementType===t?h:Ao(t,h),n!==null&&(n.alternate=null,r.alternate=null,r.effectTag|=2),r.tag=1,Yn(t)?(n=!0,Pu(r)):n=!1,sa(r,o),Ny(r,t,h),Bh(r,t,h,o),Hh(null,r,t,!0,n,o);case 19:return mm(n,r,o)}throw Error(Pt(156,r.tag))};var Jh=null,ef=null;function Ob(n){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var r=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(r.isDisabled||!r.supportsFiber)return!0;try{var o=r.inject(n);Jh=function(t){try{r.onCommitFiberRoot(o,t,void 0,(t.current.effectTag&64)===64)}catch{}},ef=function(t){try{r.onCommitFiberUnmount(o,t)}catch{}}}catch{}return!0}function Pb(n,r,o,t){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ho(n,r,o,t){return new Pb(n,r,o,t)}function gp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ib(n){if(typeof n=="function")return gp(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Nf)return 11;if(n===Bf)return 14}return 2}function ji(n,r){var o=n.alternate;return o===null?(o=Ho(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.effectTag=0,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null),o.childExpirationTime=n.childExpirationTime,o.expirationTime=n.expirationTime,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{expirationTime:r.expirationTime,firstContext:r.firstContext,responders:r.responders},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o}function Fu(n,r,o,t,h,p){var c=2;if(t=n,typeof n=="function")gp(n)&&(c=1);else if(typeof n=="string")c=5;else e:switch(n){case li:return Us(o.children,h,p,r);case s2:c=8,h|=7;break;case P1:c=8,h|=1;break;case Eu:return n=Ho(12,o,r,h|8),n.elementType=Eu,n.type=Eu,n.expirationTime=p,n;case Cu:return n=Ho(13,o,r,h),n.type=Cu,n.elementType=Cu,n.expirationTime=p,n;case yh:return n=Ho(19,o,r,h),n.elementType=yh,n.expirationTime=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I1:c=10;break e;case D1:c=9;break e;case Nf:c=11;break e;case Bf:c=14;break e;case L1:c=16,t=null;break e;case N1:c=22;break e}throw Error(Pt(130,n==null?n:typeof n,""))}return r=Ho(c,o,r,h),r.elementType=n,r.type=t,r.expirationTime=p,r}function Us(n,r,o,t){return n=Ho(7,n,t,r),n.expirationTime=o,n}function Kd(n,r,o){return n=Ho(6,n,null,r),n.expirationTime=o,n}function Jd(n,r,o){return r=Ho(4,n.children!==null?n.children:[],n.key,r),r.expirationTime=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function Db(n,r,o){this.tag=r,this.current=null,this.containerInfo=n,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=o,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function mg(n,r){var o=n.firstSuspendedTime;return n=n.lastSuspendedTime,o!==0&&o>=r&&n<=r}function pi(n,r){var o=n.firstSuspendedTime,t=n.lastSuspendedTime;o<r&&(n.firstSuspendedTime=r),(t>r||o===0)&&(n.lastSuspendedTime=r),r<=n.lastPingedTime&&(n.lastPingedTime=0),r<=n.lastExpiredTime&&(n.lastExpiredTime=0)}function yg(n,r){r>n.firstPendingTime&&(n.firstPendingTime=r);var o=n.firstSuspendedTime;o!==0&&(r>=o?n.firstSuspendedTime=n.lastSuspendedTime=n.nextKnownPendingLevel=0:r>=n.lastSuspendedTime&&(n.lastSuspendedTime=r+1),r>n.nextKnownPendingLevel&&(n.nextKnownPendingLevel=r))}function tf(n,r){var o=n.lastExpiredTime;(o===0||o>r)&&(n.lastExpiredTime=r)}function mc(n,r,o,t){var h=r.current,p=qo(),c=nl.suspense;p=_i(p,h,c);e:if(o){o=o._reactInternalFiber;t:{if(Ri(o)!==o||o.tag!==1)throw Error(Pt(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Yn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(Pt(171))}if(o.tag===1){var s=o.type;if(Yn(s)){o=jy(o,s,a);break e}}o=a}else o=Qs;return r.context===null?r.context=o:r.pendingContext=o,r=Hs(p,c),r.payload={element:n},t=t===void 0?null:t,t!==null&&(r.callback=t),Ws(h,r),Xs(h,p),p}function eh(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function wm(n,r){n=n.memoizedState,n!==null&&n.dehydrated!==null&&n.retryTime<r&&(n.retryTime=r)}function vp(n,r){wm(n,r),(n=n.alternate)&&wm(n,r)}function _p(n,r,o){o=o!=null&&o.hydrate===!0;var t=new Db(n,r,o),h=Ho(3,null,null,r===2?7:r===1?3:0);t.current=h,h.stateNode=t,np(h),n[Bl]=t.current,o&&r!==0&&h2(n,n.nodeType===9?n:n.ownerDocument),this._internalRoot=t}_p.prototype.render=function(n){mc(n,this._internalRoot,null,null)};_p.prototype.unmount=function(){var n=this._internalRoot,r=n.containerInfo;mc(null,n,null,function(){r[Bl]=null})};function Hl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Lb(n,r){if(r||(r=n?n.nodeType===9?n.documentElement:n.firstChild:null,r=!(!r||r.nodeType!==1||!r.hasAttribute("data-reactroot"))),!r)for(var o;o=n.lastChild;)n.removeChild(o);return new _p(n,0,r?{hydrate:!0}:void 0)}function rd(n,r,o,t,h){var p=o._reactRootContainer;if(p){var c=p._internalRoot;if(typeof h=="function"){var a=h;h=function(){var d=eh(c);a.call(d)}}mc(r,c,n,h)}else{if(p=o._reactRootContainer=Lb(o,t),c=p._internalRoot,typeof h=="function"){var s=h;h=function(){var d=eh(c);s.call(d)}}lg(function(){mc(r,c,n,h)})}return eh(c)}function Nb(n,r,o){var t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qi,key:t==null?null:""+t,children:n,containerInfo:r,implementation:o}}ry=function(n){if(n.tag===13){var r=Du(qo(),150,100);Xs(n,r),vp(n,r)}};zf=function(n){n.tag===13&&(Xs(n,3),vp(n,3))};ny=function(n){if(n.tag===13){var r=qo();r=_i(r,n,null),Xs(n,r),vp(n,r)}};mh=function(n,r,o){switch(r){case"input":if(vh(n,o),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var t=o[r];if(t!==n&&t.form===n.form){var h=Zf(t);if(!h)throw Error(Pt(90));F1(t),vh(t,h)}}}break;case"textarea":V1(n,o);break;case"select":r=o.value,r!=null&&na(n,!!o.multiple,r,!1)}};Rf=ag;k1=function(n,r,o,t,h){var p=ar;ar|=4;try{return Ks(98,n.bind(null,r,o,t,h))}finally{ar=p,ar===xn&&Zo()}};Of=function(){(ar&(1|Io|Xo))===xn&&(Tb(),Ta())};R1=function(n,r){var o=ar;ar|=2;try{return n(r)}finally{ar=o,ar===xn&&Zo()}};function gg(n,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(r))throw Error(Pt(200));return Nb(n,r,null,o)}var Bb={Events:[Ul,wi,Zf,C1,ph,da,function(n){Vf(n,j2)},M1,A1,Xc,qc,Ta,{current:!1}]};(function(n){var r=n.findFiberByHostInstance;return Ob(zn({},n,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Po.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Q1(o),o===null?null:o.stateNode},findFiberByHostInstance:function(o){return r?r(o):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Fl,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});wo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bb;wo.createPortal=gg;wo.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternalFiber;if(r===void 0)throw typeof n.render=="function"?Error(Pt(188)):Error(Pt(268,Object.keys(n)));return n=Q1(r),n=n===null?null:n.stateNode,n};wo.flushSync=function(n,r){if((ar&(Io|Xo))!==xn)throw Error(Pt(187));var o=ar;ar|=1;try{return Ks(99,n.bind(null,r))}finally{ar=o,Zo()}};wo.hydrate=function(n,r,o){if(!Hl(r))throw Error(Pt(200));return rd(null,n,r,!0,o)};wo.render=function(n,r,o){if(!Hl(r))throw Error(Pt(200));return rd(null,n,r,!1,o)};wo.unmountComponentAtNode=function(n){if(!Hl(n))throw Error(Pt(40));return n._reactRootContainer?(lg(function(){rd(null,null,n,!1,function(){n._reactRootContainer=null,n[Bl]=null})}),!0):!1};wo.unstable_batchedUpdates=ag;wo.unstable_createPortal=function(n,r){return gg(n,r,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};wo.unstable_renderSubtreeIntoContainer=function(n,r,o,t){if(!Hl(o))throw Error(Pt(200));if(n==null||n._reactInternalFiber===void 0)throw Error(Pt(38));return rd(n,r,o,!1,t)};wo.version="16.14.0";(function(n){function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}r(),n.exports=wo})(Gc);const Fb=Sf(Gc.exports);var bp={exports:{}},xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=Symbol.for("react.element"),wp=Symbol.for("react.portal"),nd=Symbol.for("react.fragment"),od=Symbol.for("react.strict_mode"),sd=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),ad=Symbol.for("react.context"),Ub=Symbol.for("react.server_context"),ld=Symbol.for("react.forward_ref"),ud=Symbol.for("react.suspense"),cd=Symbol.for("react.suspense_list"),dd=Symbol.for("react.memo"),hd=Symbol.for("react.lazy"),Vb=Symbol.for("react.offscreen"),vg;vg=Symbol.for("react.module.reference");function So(n){if(typeof n=="object"&&n!==null){var r=n.$$typeof;switch(r){case xp:switch(n=n.type,n){case nd:case sd:case od:case ud:case cd:return n;default:switch(n=n&&n.$$typeof,n){case Ub:case ad:case ld:case hd:case dd:case id:return n;default:return r}}case wp:return r}}}xr.ContextConsumer=ad;xr.ContextProvider=id;xr.Element=xp;xr.ForwardRef=ld;xr.Fragment=nd;xr.Lazy=hd;xr.Memo=dd;xr.Portal=wp;xr.Profiler=sd;xr.StrictMode=od;xr.Suspense=ud;xr.SuspenseList=cd;xr.isAsyncMode=function(){return!1};xr.isConcurrentMode=function(){return!1};xr.isContextConsumer=function(n){return So(n)===ad};xr.isContextProvider=function(n){return So(n)===id};xr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===xp};xr.isForwardRef=function(n){return So(n)===ld};xr.isFragment=function(n){return So(n)===nd};xr.isLazy=function(n){return So(n)===hd};xr.isMemo=function(n){return So(n)===dd};xr.isPortal=function(n){return So(n)===wp};xr.isProfiler=function(n){return So(n)===sd};xr.isStrictMode=function(n){return So(n)===od};xr.isSuspense=function(n){return So(n)===ud};xr.isSuspenseList=function(n){return So(n)===cd};xr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===nd||n===sd||n===od||n===ud||n===cd||n===Vb||typeof n=="object"&&n!==null&&(n.$$typeof===hd||n.$$typeof===dd||n.$$typeof===id||n.$$typeof===ad||n.$$typeof===ld||n.$$typeof===vg||n.getModuleId!==void 0)};xr.typeOf=So;(function(n){n.exports=xr})(bp);function Gb(n){function r(se,O,j,F,V){for(var ae=0,ue=0,Ee=0,Re=0,Ce,xe,Ze=0,we=0,Ae,Ue=Ae=Ce=0,qe=0,Ge=0,it=0,ie=0,Be=j.length,Pe=Be-1,We,Je="",ze="",tt="",ct="",Fe;qe<Be;){if(xe=j.charCodeAt(qe),qe===Pe&&ue+Re+Ee+ae!==0&&(ue!==0&&(xe=ue===47?10:47),Re=Ee=ae=0,Be++,Pe++),ue+Re+Ee+ae===0){if(qe===Pe&&(0<Ge&&(Je=Je.replace(u,"")),0<Je.trim().length)){switch(xe){case 32:case 9:case 59:case 13:case 10:break;default:Je+=j.charAt(qe)}xe=59}switch(xe){case 123:for(Je=Je.trim(),Ce=Je.charCodeAt(0),Ae=1,ie=++qe;qe<Be;){switch(xe=j.charCodeAt(qe)){case 123:Ae++;break;case 125:Ae--;break;case 47:switch(xe=j.charCodeAt(qe+1)){case 42:case 47:e:{for(Ue=qe+1;Ue<Pe;++Ue)switch(j.charCodeAt(Ue)){case 47:if(xe===42&&j.charCodeAt(Ue-1)===42&&qe+2!==Ue){qe=Ue+1;break e}break;case 10:if(xe===47){qe=Ue+1;break e}}qe=Ue}}break;case 91:xe++;case 40:xe++;case 34:case 39:for(;qe++<Pe&&j.charCodeAt(qe)!==xe;);}if(Ae===0)break;qe++}switch(Ae=j.substring(ie,qe),Ce===0&&(Ce=(Je=Je.replace(y,"").trim()).charCodeAt(0)),Ce){case 64:switch(0<Ge&&(Je=Je.replace(u,"")),xe=Je.charCodeAt(1),xe){case 100:case 109:case 115:case 45:Ge=O;break;default:Ge=Q}if(Ae=r(O,Ge,Ae,xe,V+1),ie=Ae.length,0<oe&&(Ge=o(Q,Je,it),Fe=a(3,Ae,Ge,O,G,U,ie,xe,V,F),Je=Ge.join(""),Fe!==void 0&&(ie=(Ae=Fe.trim()).length)===0&&(xe=0,Ae="")),0<ie)switch(xe){case 115:Je=Je.replace(M,c);case 100:case 109:case 45:Ae=Je+"{"+Ae+"}";break;case 107:Je=Je.replace(b,"$1 $2"),Ae=Je+"{"+Ae+"}",Ae=te===1||te===2&&p("@"+Ae,3)?"@-webkit-"+Ae+"@"+Ae:"@"+Ae;break;default:Ae=Je+Ae,F===112&&(Ae=(ze+=Ae,""))}else Ae="";break;default:Ae=r(O,o(O,Je,it),Ae,F,V+1)}tt+=Ae,Ae=it=Ge=Ue=Ce=0,Je="",xe=j.charCodeAt(++qe);break;case 125:case 59:if(Je=(0<Ge?Je.replace(u,""):Je).trim(),1<(ie=Je.length))switch(Ue===0&&(Ce=Je.charCodeAt(0),Ce===45||96<Ce&&123>Ce)&&(ie=(Je=Je.replace(" ",":")).length),0<oe&&(Fe=a(1,Je,O,se,G,U,ze.length,F,V,F))!==void 0&&(ie=(Je=Fe.trim()).length)===0&&(Je="\0\0"),Ce=Je.charCodeAt(0),xe=Je.charCodeAt(1),Ce){case 0:break;case 64:if(xe===105||xe===99){ct+=Je+j.charAt(qe);break}default:Je.charCodeAt(ie-1)!==58&&(ze+=h(Je,Ce,xe,Je.charCodeAt(2)))}it=Ge=Ue=Ce=0,Je="",xe=j.charCodeAt(++qe)}}switch(xe){case 13:case 10:ue===47?ue=0:1+Ce===0&&F!==107&&0<Je.length&&(Ge=1,Je+="\0"),0<oe*le&&a(0,Je,O,se,G,U,ze.length,F,V,F),U=1,G++;break;case 59:case 125:if(ue+Re+Ee+ae===0){U++;break}default:switch(U++,We=j.charAt(qe),xe){case 9:case 32:if(Re+ae+ue===0)switch(Ze){case 44:case 58:case 9:case 32:We="";break;default:xe!==32&&(We=" ")}break;case 0:We="\\0";break;case 12:We="\\f";break;case 11:We="\\v";break;case 38:Re+ue+ae===0&&(Ge=it=1,We="\f"+We);break;case 108:if(Re+ue+ae+W===0&&0<Ue)switch(qe-Ue){case 2:Ze===112&&j.charCodeAt(qe-3)===58&&(W=Ze);case 8:we===111&&(W=we)}break;case 58:Re+ue+ae===0&&(Ue=qe);break;case 44:ue+Ee+Re+ae===0&&(Ge=1,We+="\r");break;case 34:case 39:ue===0&&(Re=Re===xe?0:Re===0?xe:Re);break;case 91:Re+ue+Ee===0&&ae++;break;case 93:Re+ue+Ee===0&&ae--;break;case 41:Re+ue+ae===0&&Ee--;break;case 40:if(Re+ue+ae===0){if(Ce===0)switch(2*Ze+3*we){case 533:break;default:Ce=1}Ee++}break;case 64:ue+Ee+Re+ae+Ue+Ae===0&&(Ae=1);break;case 42:case 47:if(!(0<Re+ae+Ee))switch(ue){case 0:switch(2*xe+3*j.charCodeAt(qe+1)){case 235:ue=47;break;case 220:ie=qe,ue=42}break;case 42:xe===47&&Ze===42&&ie+2!==qe&&(j.charCodeAt(ie+2)===33&&(ze+=j.substring(ie,qe+1)),We="",ue=0)}}ue===0&&(Je+=We)}we=Ze,Ze=xe,qe++}if(ie=ze.length,0<ie){if(Ge=O,0<oe&&(Fe=a(2,ze,Ge,se,G,U,ie,F,V,F),Fe!==void 0&&(ze=Fe).length===0))return ct+ze+tt;if(ze=Ge.join(",")+"{"+ze+"}",te*W!==0){switch(te!==2||p(ze,2)||(W=0),W){case 111:ze=ze.replace(S,":-moz-$1")+ze;break;case 112:ze=ze.replace(w,"::-webkit-input-$1")+ze.replace(w,"::-moz-$1")+ze.replace(w,":-ms-input-$1")+ze}W=0}}return ct+ze+tt}function o(se,O,j){var F=O.trim().split(g);O=F;var V=F.length,ae=se.length;switch(ae){case 0:case 1:var ue=0;for(se=ae===0?"":se[0]+" ";ue<V;++ue)O[ue]=t(se,O[ue],j).trim();break;default:var Ee=ue=0;for(O=[];ue<V;++ue)for(var Re=0;Re<ae;++Re)O[Ee++]=t(se[Re]+" ",F[ue],j).trim()}return O}function t(se,O,j){var F=O.charCodeAt(0);switch(33>F&&(F=(O=O.trim()).charCodeAt(0)),F){case 38:return O.replace(v,"$1"+se.trim());case 58:return se.trim()+O.replace(v,"$1"+se.trim());default:if(0<1*j&&0<O.indexOf("\f"))return O.replace(v,(se.charCodeAt(0)===58?"":"$1")+se.trim())}return se+O}function h(se,O,j,F){var V=se+";",ae=2*O+3*j+4*F;if(ae===944){se=V.indexOf(":",9)+1;var ue=V.substring(se,V.length-1).trim();return ue=V.substring(0,se).trim()+ue+";",te===1||te===2&&p(ue,1)?"-webkit-"+ue+ue:ue}if(te===0||te===2&&!p(V,1))return V;switch(ae){case 1015:return V.charCodeAt(10)===97?"-webkit-"+V+V:V;case 951:return V.charCodeAt(3)===116?"-webkit-"+V+V:V;case 963:return V.charCodeAt(5)===110?"-webkit-"+V+V:V;case 1009:if(V.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+V+V;case 978:return"-webkit-"+V+"-moz-"+V+V;case 1019:case 983:return"-webkit-"+V+"-moz-"+V+"-ms-"+V+V;case 883:if(V.charCodeAt(8)===45)return"-webkit-"+V+V;if(0<V.indexOf("image-set(",11))return V.replace(I,"$1-webkit-$2")+V;break;case 932:if(V.charCodeAt(4)===45)switch(V.charCodeAt(5)){case 103:return"-webkit-box-"+V.replace("-grow","")+"-webkit-"+V+"-ms-"+V.replace("grow","positive")+V;case 115:return"-webkit-"+V+"-ms-"+V.replace("shrink","negative")+V;case 98:return"-webkit-"+V+"-ms-"+V.replace("basis","preferred-size")+V}return"-webkit-"+V+"-ms-"+V+V;case 964:return"-webkit-"+V+"-ms-flex-"+V+V;case 1023:if(V.charCodeAt(8)!==99)break;return ue=V.substring(V.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ue+"-webkit-"+V+"-ms-flex-pack"+ue+V;case 1005:return i.test(V)?V.replace(l,":-webkit-")+V.replace(l,":-moz-")+V:V;case 1e3:switch(ue=V.substring(13).trim(),O=ue.indexOf("-")+1,ue.charCodeAt(0)+ue.charCodeAt(O)){case 226:ue=V.replace(x,"tb");break;case 232:ue=V.replace(x,"tb-rl");break;case 220:ue=V.replace(x,"lr");break;default:return V}return"-webkit-"+V+"-ms-"+ue+V;case 1017:if(V.indexOf("sticky",9)===-1)break;case 975:switch(O=(V=se).length-10,ue=(V.charCodeAt(O)===33?V.substring(0,O):V).substring(se.indexOf(":",7)+1).trim(),ae=ue.charCodeAt(0)+(ue.charCodeAt(7)|0)){case 203:if(111>ue.charCodeAt(8))break;case 115:V=V.replace(ue,"-webkit-"+ue)+";"+V;break;case 207:case 102:V=V.replace(ue,"-webkit-"+(102<ae?"inline-":"")+"box")+";"+V.replace(ue,"-webkit-"+ue)+";"+V.replace(ue,"-ms-"+ue+"box")+";"+V}return V+";";case 938:if(V.charCodeAt(5)===45)switch(V.charCodeAt(6)){case 105:return ue=V.replace("-items",""),"-webkit-"+V+"-webkit-box-"+ue+"-ms-flex-"+ue+V;case 115:return"-webkit-"+V+"-ms-flex-item-"+V.replace(E,"")+V;default:return"-webkit-"+V+"-ms-flex-line-pack"+V.replace("align-content","").replace(E,"")+V}break;case 973:case 989:if(V.charCodeAt(3)!==45||V.charCodeAt(4)===122)break;case 931:case 953:if(D.test(se)===!0)return(ue=se.substring(se.indexOf(":")+1)).charCodeAt(0)===115?h(se.replace("stretch","fill-available"),O,j,F).replace(":fill-available",":stretch"):V.replace(ue,"-webkit-"+ue)+V.replace(ue,"-moz-"+ue.replace("fill-",""))+V;break;case 962:if(V="-webkit-"+V+(V.charCodeAt(5)===102?"-ms-"+V:"")+V,j+F===211&&V.charCodeAt(13)===105&&0<V.indexOf("transform",10))return V.substring(0,V.indexOf(";",27)+1).replace(m,"$1-webkit-$2")+V}return V}function p(se,O){var j=se.indexOf(O===1?":":"{"),F=se.substring(0,O!==3?j:10);return j=se.substring(j+1,se.length-1),ee(O!==2?F:F.replace(P,"$1"),j,O)}function c(se,O){var j=h(O,O.charCodeAt(0),O.charCodeAt(1),O.charCodeAt(2));return j!==O+";"?j.replace(C," or ($1)").substring(4):"("+O+")"}function a(se,O,j,F,V,ae,ue,Ee,Re,Ce){for(var xe=0,Ze=O,we;xe<oe;++xe)switch(we=J[xe].call(f,se,Ze,j,F,V,ae,ue,Ee,Re,Ce)){case void 0:case!1:case!0:case null:break;default:Ze=we}if(Ze!==O)return Ze}function s(se){switch(se){case void 0:case null:oe=J.length=0;break;default:if(typeof se=="function")J[oe++]=se;else if(typeof se=="object")for(var O=0,j=se.length;O<j;++O)s(se[O]);else le=!!se|0}return s}function d(se){return se=se.prefix,se!==void 0&&(ee=null,se?typeof se!="function"?te=1:(te=2,ee=se):te=0),d}function f(se,O){var j=se;if(33>j.charCodeAt(0)&&(j=j.trim()),de=j,j=[de],0<oe){var F=a(-1,O,j,j,G,U,0,0,0,0);F!==void 0&&typeof F=="string"&&(O=F)}var V=r(Q,j,O,0,0);return 0<oe&&(F=a(-2,V,j,j,G,U,V.length,0,0,0),F!==void 0&&(V=F)),de="",W=0,U=G=1,V}var y=/^\0+/g,u=/[\0\r\f]/g,l=/: */g,i=/zoo|gra/,m=/([,: ])(transform)/g,g=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,b=/@(k\w+)\s*(\S*)\s*/,w=/::(place)/g,S=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,M=/\(\s*(.*)\s*\)/g,C=/([\s\S]*?);/g,E=/-self|flex-/g,P=/[^]*?(:[rp][el]a[\w-]+)[^]*/,D=/stretch|:\s*\w+\-(?:conte|avail)/,I=/([^-])(image-set\()/,U=1,G=1,W=0,te=1,Q=[],J=[],oe=0,ee=null,le=0,de="";return f.use=s,f.set=d,n!==void 0&&d(n),f}var zb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Hb(n){var r=Object.create(null);return function(o){return r[o]===void 0&&(r[o]=n(o)),r[o]}}var Wb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Sm=Hb(function(n){return Wb.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),_g={exports:{}},wr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn=typeof Symbol=="function"&&Symbol.for,Sp=Sn?Symbol.for("react.element"):60103,Tp=Sn?Symbol.for("react.portal"):60106,fd=Sn?Symbol.for("react.fragment"):60107,pd=Sn?Symbol.for("react.strict_mode"):60108,md=Sn?Symbol.for("react.profiler"):60114,yd=Sn?Symbol.for("react.provider"):60109,gd=Sn?Symbol.for("react.context"):60110,jp=Sn?Symbol.for("react.async_mode"):60111,vd=Sn?Symbol.for("react.concurrent_mode"):60111,_d=Sn?Symbol.for("react.forward_ref"):60112,bd=Sn?Symbol.for("react.suspense"):60113,qb=Sn?Symbol.for("react.suspense_list"):60120,xd=Sn?Symbol.for("react.memo"):60115,wd=Sn?Symbol.for("react.lazy"):60116,Xb=Sn?Symbol.for("react.block"):60121,Yb=Sn?Symbol.for("react.fundamental"):60117,$b=Sn?Symbol.for("react.responder"):60118,Zb=Sn?Symbol.for("react.scope"):60119;function uo(n){if(typeof n=="object"&&n!==null){var r=n.$$typeof;switch(r){case Sp:switch(n=n.type,n){case jp:case vd:case fd:case md:case pd:case bd:return n;default:switch(n=n&&n.$$typeof,n){case gd:case _d:case wd:case xd:case yd:return n;default:return r}}case Tp:return r}}}function bg(n){return uo(n)===vd}wr.AsyncMode=jp;wr.ConcurrentMode=vd;wr.ContextConsumer=gd;wr.ContextProvider=yd;wr.Element=Sp;wr.ForwardRef=_d;wr.Fragment=fd;wr.Lazy=wd;wr.Memo=xd;wr.Portal=Tp;wr.Profiler=md;wr.StrictMode=pd;wr.Suspense=bd;wr.isAsyncMode=function(n){return bg(n)||uo(n)===jp};wr.isConcurrentMode=bg;wr.isContextConsumer=function(n){return uo(n)===gd};wr.isContextProvider=function(n){return uo(n)===yd};wr.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Sp};wr.isForwardRef=function(n){return uo(n)===_d};wr.isFragment=function(n){return uo(n)===fd};wr.isLazy=function(n){return uo(n)===wd};wr.isMemo=function(n){return uo(n)===xd};wr.isPortal=function(n){return uo(n)===Tp};wr.isProfiler=function(n){return uo(n)===md};wr.isStrictMode=function(n){return uo(n)===pd};wr.isSuspense=function(n){return uo(n)===bd};wr.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===fd||n===vd||n===md||n===pd||n===bd||n===qb||typeof n=="object"&&n!==null&&(n.$$typeof===wd||n.$$typeof===xd||n.$$typeof===yd||n.$$typeof===gd||n.$$typeof===_d||n.$$typeof===Yb||n.$$typeof===$b||n.$$typeof===Zb||n.$$typeof===Xb)};wr.typeOf=uo;(function(n){n.exports=wr})(_g);var Ep=_g.exports,Qb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Kb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Jb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Cp={};Cp[Ep.ForwardRef]=Jb;Cp[Ep.Memo]=xg;function Tm(n){return Ep.isMemo(n)?xg:Cp[n.$$typeof]||Qb}var ex=Object.defineProperty,tx=Object.getOwnPropertyNames,jm=Object.getOwnPropertySymbols,rx=Object.getOwnPropertyDescriptor,nx=Object.getPrototypeOf,Em=Object.prototype;function wg(n,r,o){if(typeof r!="string"){if(Em){var t=nx(r);t&&t!==Em&&wg(n,t,o)}var h=tx(r);jm&&(h=h.concat(jm(r)));for(var p=Tm(n),c=Tm(r),a=0;a<h.length;++a){var s=h[a];if(!Kb[s]&&!(o&&o[s])&&!(c&&c[s])&&!(p&&p[s])){var d=rx(r,s);try{ex(n,s,d)}catch{}}}}return n}var ox=wg;function ys(){return(ys=Object.assign||function(n){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(n[t]=o[t])}return n}).apply(this,arguments)}var Cm=function(n,r){for(var o=[n[0]],t=0,h=r.length;t<h;t+=1)o.push(r[t],n[t+1]);return o},rf=function(n){return n!==null&&typeof n=="object"&&(n.toString?n.toString():Object.prototype.toString.call(n))==="[object Object]"&&!bp.exports.typeOf(n)},yc=Object.freeze([]),Ys=Object.freeze({});function bl(n){return typeof n=="function"}function Mm(n){return n.displayName||n.name||"Component"}function Mp(n){return n&&typeof n.styledComponentId=="string"}var ma=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",Ap=typeof window<"u"&&"HTMLElement"in window,sx=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""?{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY:!1));function Wl(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];throw new Error("An error occurred. See https://git.io/JUIaE#"+n+" for more information."+(o.length>0?" Args: "+o.join(", "):""))}var ix=function(){function n(o){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=o}var r=n.prototype;return r.indexOfGroup=function(o){for(var t=0,h=0;h<o;h++)t+=this.groupSizes[h];return t},r.insertRules=function(o,t){if(o>=this.groupSizes.length){for(var h=this.groupSizes,p=h.length,c=p;o>=c;)(c<<=1)<0&&Wl(16,""+o);this.groupSizes=new Uint32Array(c),this.groupSizes.set(h),this.length=c;for(var a=p;a<c;a++)this.groupSizes[a]=0}for(var s=this.indexOfGroup(o+1),d=0,f=t.length;d<f;d++)this.tag.insertRule(s,t[d])&&(this.groupSizes[o]++,s++)},r.clearGroup=function(o){if(o<this.length){var t=this.groupSizes[o],h=this.indexOfGroup(o),p=h+t;this.groupSizes[o]=0;for(var c=h;c<p;c++)this.tag.deleteRule(h)}},r.getGroup=function(o){var t="";if(o>=this.length||this.groupSizes[o]===0)return t;for(var h=this.groupSizes[o],p=this.indexOfGroup(o),c=p+h,a=p;a<c;a++)t+=this.tag.getRule(a)+`/*!sc*/
`;return t},n}(),Uu=new Map,gc=new Map,il=1,mu=function(n){if(Uu.has(n))return Uu.get(n);for(;gc.has(il);)il++;var r=il++;return Uu.set(n,r),gc.set(r,n),r},ax=function(n){return gc.get(n)},lx=function(n,r){r>=il&&(il=r+1),Uu.set(n,r),gc.set(r,n)},ux="style["+ma+'][data-styled-version="5.3.9"]',cx=new RegExp("^"+ma+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),dx=function(n,r,o){for(var t,h=o.split(","),p=0,c=h.length;p<c;p++)(t=h[p])&&n.registerName(r,t)},hx=function(n,r){for(var o=(r.textContent||"").split(`/*!sc*/
`),t=[],h=0,p=o.length;h<p;h++){var c=o[h].trim();if(c){var a=c.match(cx);if(a){var s=0|parseInt(a[1],10),d=a[2];s!==0&&(lx(d,s),dx(n,d,a[3]),n.getTag().insertRules(s,t)),t.length=0}else t.push(c)}}},fx=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},Sg=function(n){var r=document.head,o=n||r,t=document.createElement("style"),h=function(a){for(var s=a.childNodes,d=s.length;d>=0;d--){var f=s[d];if(f&&f.nodeType===1&&f.hasAttribute(ma))return f}}(o),p=h!==void 0?h.nextSibling:null;t.setAttribute(ma,"active"),t.setAttribute("data-styled-version","5.3.9");var c=fx();return c&&t.setAttribute("nonce",c),o.insertBefore(t,p),t},px=function(){function n(o){var t=this.element=Sg(o);t.appendChild(document.createTextNode("")),this.sheet=function(h){if(h.sheet)return h.sheet;for(var p=document.styleSheets,c=0,a=p.length;c<a;c++){var s=p[c];if(s.ownerNode===h)return s}Wl(17)}(t),this.length=0}var r=n.prototype;return r.insertRule=function(o,t){try{return this.sheet.insertRule(t,o),this.length++,!0}catch{return!1}},r.deleteRule=function(o){this.sheet.deleteRule(o),this.length--},r.getRule=function(o){var t=this.sheet.cssRules[o];return t!==void 0&&typeof t.cssText=="string"?t.cssText:""},n}(),mx=function(){function n(o){var t=this.element=Sg(o);this.nodes=t.childNodes,this.length=0}var r=n.prototype;return r.insertRule=function(o,t){if(o<=this.length&&o>=0){var h=document.createTextNode(t),p=this.nodes[o];return this.element.insertBefore(h,p||null),this.length++,!0}return!1},r.deleteRule=function(o){this.element.removeChild(this.nodes[o]),this.length--},r.getRule=function(o){return o<this.length?this.nodes[o].textContent:""},n}(),yx=function(){function n(o){this.rules=[],this.length=0}var r=n.prototype;return r.insertRule=function(o,t){return o<=this.length&&(this.rules.splice(o,0,t),this.length++,!0)},r.deleteRule=function(o){this.rules.splice(o,1),this.length--},r.getRule=function(o){return o<this.length?this.rules[o]:""},n}(),Am=Ap,gx={isServer:!Ap,useCSSOMInjection:!sx},Tg=function(){function n(o,t,h){o===void 0&&(o=Ys),t===void 0&&(t={}),this.options=ys({},gx,{},o),this.gs=t,this.names=new Map(h),this.server=!!o.isServer,!this.server&&Ap&&Am&&(Am=!1,function(p){for(var c=document.querySelectorAll(ux),a=0,s=c.length;a<s;a++){var d=c[a];d&&d.getAttribute(ma)!=="active"&&(hx(p,d),d.parentNode&&d.parentNode.removeChild(d))}}(this))}n.registerId=function(o){return mu(o)};var r=n.prototype;return r.reconstructWithOptions=function(o,t){return t===void 0&&(t=!0),new n(ys({},this.options,{},o),this.gs,t&&this.names||void 0)},r.allocateGSInstance=function(o){return this.gs[o]=(this.gs[o]||0)+1},r.getTag=function(){return this.tag||(this.tag=(h=(t=this.options).isServer,p=t.useCSSOMInjection,c=t.target,o=h?new yx(c):p?new px(c):new mx(c),new ix(o)));var o,t,h,p,c},r.hasNameForId=function(o,t){return this.names.has(o)&&this.names.get(o).has(t)},r.registerName=function(o,t){if(mu(o),this.names.has(o))this.names.get(o).add(t);else{var h=new Set;h.add(t),this.names.set(o,h)}},r.insertRules=function(o,t,h){this.registerName(o,t),this.getTag().insertRules(mu(o),h)},r.clearNames=function(o){this.names.has(o)&&this.names.get(o).clear()},r.clearRules=function(o){this.getTag().clearGroup(mu(o)),this.clearNames(o)},r.clearTag=function(){this.tag=void 0},r.toString=function(){return function(o){for(var t=o.getTag(),h=t.length,p="",c=0;c<h;c++){var a=ax(c);if(a!==void 0){var s=o.names.get(a),d=t.getGroup(c);if(s&&d&&s.size){var f=ma+".g"+c+'[id="'+a+'"]',y="";s!==void 0&&s.forEach(function(u){u.length>0&&(y+=u+",")}),p+=""+d+f+'{content:"'+y+`"}/*!sc*/
`}}}return p}(this)},n}(),vx=/(a)(d)/gi,km=function(n){return String.fromCharCode(n+(n>25?39:97))};function nf(n){var r,o="";for(r=Math.abs(n);r>52;r=r/52|0)o=km(r%52)+o;return(km(r%52)+o).replace(vx,"$1-$2")}var Ki=function(n,r){for(var o=r.length;o;)n=33*n^r.charCodeAt(--o);return n},jg=function(n){return Ki(5381,n)};function _x(n){for(var r=0;r<n.length;r+=1){var o=n[r];if(bl(o)&&!Mp(o))return!1}return!0}var bx=jg("5.3.9"),xx=function(){function n(r,o,t){this.rules=r,this.staticRulesId="",this.isStatic=(t===void 0||t.isStatic)&&_x(r),this.componentId=o,this.baseHash=Ki(bx,o),this.baseStyle=t,Tg.registerId(o)}return n.prototype.generateAndInjectStyles=function(r,o,t){var h=this.componentId,p=[];if(this.baseStyle&&p.push(this.baseStyle.generateAndInjectStyles(r,o,t)),this.isStatic&&!t.hash)if(this.staticRulesId&&o.hasNameForId(h,this.staticRulesId))p.push(this.staticRulesId);else{var c=ya(this.rules,r,o,t).join(""),a=nf(Ki(this.baseHash,c)>>>0);if(!o.hasNameForId(h,a)){var s=t(c,"."+a,void 0,h);o.insertRules(h,a,s)}p.push(a),this.staticRulesId=a}else{for(var d=this.rules.length,f=Ki(this.baseHash,t.hash),y="",u=0;u<d;u++){var l=this.rules[u];if(typeof l=="string")y+=l;else if(l){var i=ya(l,r,o,t),m=Array.isArray(i)?i.join(""):i;f=Ki(f,m+u),y+=m}}if(y){var g=nf(f>>>0);if(!o.hasNameForId(h,g)){var v=t(y,"."+g,void 0,h);o.insertRules(h,g,v)}p.push(g)}}return p.join(" ")},n}(),wx=/^\s*\/\/.*$/gm,Sx=[":","[",".","#"];function Tx(n){var r,o,t,h,p=n===void 0?Ys:n,c=p.options,a=c===void 0?Ys:c,s=p.plugins,d=s===void 0?yc:s,f=new Gb(a),y=[],u=function(m){function g(v){if(v)try{m(v+"}")}catch{}}return function(v,b,w,S,x,M,C,E,P,D){switch(v){case 1:if(P===0&&b.charCodeAt(0)===64)return m(b+";"),"";break;case 2:if(E===0)return b+"/*|*/";break;case 3:switch(E){case 102:case 112:return m(w[0]+b),"";default:return b+(D===0?"/*|*/":"")}case-2:b.split("/*|*/}").forEach(g)}}}(function(m){y.push(m)}),l=function(m,g,v){return g===0&&Sx.indexOf(v[o.length])!==-1||v.match(h)?m:"."+r};function i(m,g,v,b){b===void 0&&(b="&");var w=m.replace(wx,""),S=g&&v?v+" "+g+" { "+w+" }":w;return r=b,o=g,t=new RegExp("\\"+o+"\\b","g"),h=new RegExp("(\\"+o+"\\b){2,}"),f(v||!g?"":g,S)}return f.use([].concat(d,[function(m,g,v){m===2&&v.length&&v[0].lastIndexOf(o)>0&&(v[0]=v[0].replace(t,l))},u,function(m){if(m===-2){var g=y;return y=[],g}}])),i.hash=d.length?d.reduce(function(m,g){return g.name||Wl(15),Ki(m,g.name)},5381).toString():"",i}var Eg=zc.createContext();Eg.Consumer;var Cg=zc.createContext(),jx=(Cg.Consumer,new Tg),of=Tx();function Ex(){return Ot.exports.useContext(Eg)||jx}function Cx(){return Ot.exports.useContext(Cg)||of}var Mg=function(){function n(r,o){var t=this;this.inject=function(h,p){p===void 0&&(p=of);var c=t.name+p.hash;h.hasNameForId(t.id,c)||h.insertRules(t.id,c,p(t.rules,c,"@keyframes"))},this.toString=function(){return Wl(12,String(t.name))},this.name=r,this.id="sc-keyframes-"+r,this.rules=o}return n.prototype.getName=function(r){return r===void 0&&(r=of),this.name+r.hash},n}(),Mx=/([A-Z])/,Ax=/([A-Z])/g,kx=/^ms-/,Rx=function(n){return"-"+n.toLowerCase()};function Rm(n){return Mx.test(n)?n.replace(Ax,Rx).replace(kx,"-ms-"):n}var Om=function(n){return n==null||n===!1||n===""};function ya(n,r,o,t){if(Array.isArray(n)){for(var h,p=[],c=0,a=n.length;c<a;c+=1)(h=ya(n[c],r,o,t))!==""&&(Array.isArray(h)?p.push.apply(p,h):p.push(h));return p}if(Om(n))return"";if(Mp(n))return"."+n.styledComponentId;if(bl(n)){if(typeof(d=n)!="function"||d.prototype&&d.prototype.isReactComponent||!r)return n;var s=n(r);return ya(s,r,o,t)}var d;return n instanceof Mg?o?(n.inject(o,t),n.getName(t)):n:rf(n)?function f(y,u){var l,i,m=[];for(var g in y)y.hasOwnProperty(g)&&!Om(y[g])&&(Array.isArray(y[g])&&y[g].isCss||bl(y[g])?m.push(Rm(g)+":",y[g],";"):rf(y[g])?m.push.apply(m,f(y[g],g)):m.push(Rm(g)+": "+(l=g,(i=y[g])==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||l in zb?String(i).trim():i+"px")+";"));return u?[u+" {"].concat(m,["}"]):m}(n):n.toString()}var Pm=function(n){return Array.isArray(n)&&(n.isCss=!0),n};function Ag(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];return bl(n)||rf(n)?Pm(ya(Cm(yc,[n].concat(o)))):o.length===0&&n.length===1&&typeof n[0]=="string"?n:Pm(ya(Cm(n,o)))}var Ox=function(n,r,o){return o===void 0&&(o=Ys),n.theme!==o.theme&&n.theme||r||o.theme},Px=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ix=/(^-|-$)/g;function th(n){return n.replace(Px,"-").replace(Ix,"")}var kg=function(n){return nf(jg(n)>>>0)};function yu(n){return typeof n=="string"&&!0}var sf=function(n){return typeof n=="function"||typeof n=="object"&&n!==null&&!Array.isArray(n)},Dx=function(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"};function Lx(n,r,o){var t=n[o];sf(r)&&sf(t)?Rg(t,r):n[o]=r}function Rg(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];for(var h=0,p=o;h<p.length;h++){var c=p[h];if(sf(c))for(var a in c)Dx(a)&&Lx(n,c[a],a)}return n}var Og=zc.createContext();Og.Consumer;var rh={};function Pg(n,r,o){var t=Mp(n),h=!yu(n),p=r.attrs,c=p===void 0?yc:p,a=r.componentId,s=a===void 0?function(b,w){var S=typeof b!="string"?"sc":th(b);rh[S]=(rh[S]||0)+1;var x=S+"-"+kg("5.3.9"+S+rh[S]);return w?w+"-"+x:x}(r.displayName,r.parentComponentId):a,d=r.displayName,f=d===void 0?function(b){return yu(b)?"styled."+b:"Styled("+Mm(b)+")"}(n):d,y=r.displayName&&r.componentId?th(r.displayName)+"-"+r.componentId:r.componentId||s,u=t&&n.attrs?Array.prototype.concat(n.attrs,c).filter(Boolean):c,l=r.shouldForwardProp;t&&n.shouldForwardProp&&(l=r.shouldForwardProp?function(b,w,S){return n.shouldForwardProp(b,w,S)&&r.shouldForwardProp(b,w,S)}:n.shouldForwardProp);var i,m=new xx(o,y,t?n.componentStyle:void 0),g=m.isStatic&&c.length===0,v=function(b,w){return function(S,x,M,C){var E=S.attrs,P=S.componentStyle,D=S.defaultProps,I=S.foldedComponentIds,U=S.shouldForwardProp,G=S.styledComponentId,W=S.target,te=function(F,V,ae){F===void 0&&(F=Ys);var ue=ys({},V,{theme:F}),Ee={};return ae.forEach(function(Re){var Ce,xe,Ze,we=Re;for(Ce in bl(we)&&(we=we(ue)),we)ue[Ce]=Ee[Ce]=Ce==="className"?(xe=Ee[Ce],Ze=we[Ce],xe&&Ze?xe+" "+Ze:xe||Ze):we[Ce]}),[ue,Ee]}(Ox(x,Ot.exports.useContext(Og),D)||Ys,x,E),Q=te[0],J=te[1],oe=function(F,V,ae,ue){var Ee=Ex(),Re=Cx(),Ce=V?F.generateAndInjectStyles(Ys,Ee,Re):F.generateAndInjectStyles(ae,Ee,Re);return Ce}(P,C,Q),ee=M,le=J.$as||x.$as||J.as||x.as||W,de=yu(le),se=J!==x?ys({},x,{},J):x,O={};for(var j in se)j[0]!=="$"&&j!=="as"&&(j==="forwardedAs"?O.as=se[j]:(U?U(j,Sm,le):!de||Sm(j))&&(O[j]=se[j]));return x.style&&J.style!==x.style&&(O.style=ys({},x.style,{},J.style)),O.className=Array.prototype.concat(I,G,oe!==G?oe:null,x.className,J.className).filter(Boolean).join(" "),O.ref=ee,Ot.exports.createElement(le,O)}(i,b,w,g)};return v.displayName=f,(i=zc.forwardRef(v)).attrs=u,i.componentStyle=m,i.displayName=f,i.shouldForwardProp=l,i.foldedComponentIds=t?Array.prototype.concat(n.foldedComponentIds,n.styledComponentId):yc,i.styledComponentId=y,i.target=t?n.target:n,i.withComponent=function(b){var w=r.componentId,S=function(M,C){if(M==null)return{};var E,P,D={},I=Object.keys(M);for(P=0;P<I.length;P++)E=I[P],C.indexOf(E)>=0||(D[E]=M[E]);return D}(r,["componentId"]),x=w&&w+"-"+(yu(b)?b:th(Mm(b)));return Pg(b,ys({},S,{attrs:u,componentId:x}),o)},Object.defineProperty(i,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(b){this._foldedDefaultProps=t?Rg({},n.defaultProps,b):b}}),Object.defineProperty(i,"toString",{value:function(){return"."+i.styledComponentId}}),h&&ox(i,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),i}var af=function(n){return function r(o,t,h){if(h===void 0&&(h=Ys),!bp.exports.isValidElementType(t))return Wl(1,String(t));var p=function(){return o(t,h,Ag.apply(void 0,arguments))};return p.withConfig=function(c){return r(o,t,ys({},h,{},c))},p.attrs=function(c){return r(o,t,ys({},h,{attrs:Array.prototype.concat(h.attrs,c).filter(Boolean)}))},p}(Pg,n)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(n){af[n]=af(n)});function Ig(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),t=1;t<r;t++)o[t-1]=arguments[t];var h=Ag.apply(void 0,[n].concat(o)).join(""),p=kg(h);return new Mg(p,h)}const Bt=af,zt={AppColor:"#1e2126",AppSecondaryColor:"#282f38",AppGradient:"#1c2026",AppSecondaryGradient:"#2f3640",AppTextColor:"#ebedef",AppTextOffColor:"#d8e0ed",TransportGridColor:"rgba(61, 70, 82, 0.45)",ChannelColor:"rgba(32, 38, 46, 1)",ChannelHighlight:"rgba(51, 61, 74, 1)",RecordingColor:"rgba(67, 63, 249, 0.7)",SelectedRecordingColor:"rgba(98, 95, 245, 0.8)",EditorButtonHighlight:"#363636",EditorBoxHighlight:"#818a99",ContrastBlue:"#4f77b3",MutedGreyBorder:"rgba(129, 138, 153, 0.35)",VolumeSliderThumbColor:"#2e353f",DefaultButton:Bt.button`
        all: unset;
        text-align: center;
        border: none;
        border-radius: 6px;
        font-family: Avenir, Arial, sans-serif;
        :hover {cursor: pointer;}
    `,ControlButton:Bt.button`
        all: unset;
        width: 25px;
	    height: 25px;
        background-size: 25px;
        text-align: center;
        border: none;
        border-radius: 6px;
        font-family: Avenir, Arial, sans-serif;
        :hover {cursor: pointer;}
	    -webkit-tap-highlight-color: transparent;
    `,EditorButton:Bt.button`
        all: unset;
        border: none;

        width: 30px;
	    height: 30px;
        box-sizing: content-box;

        background-size: 30px;
        background-position: center;
        border-radius: 8px;
        text-align: center;

        -webkit-tap-highlight-color: transparent;

        :hover {
            cursor: pointer;
            box-shadow: 0 0 2px 1px grey;
        }
    `},Nx=Bt.div`
    height: var(--doc-height);
    max-width: 100vw;
    padding-top: 1%;
	display: flex;
	flex-direction: column;
    justify-content: flex-start;
	align-items: center;
	background: ${zt.AppGradient};
`,Bx=Bt.div`
	position: relative;
    width: 100vw;
	display: flex;
    justify-content: center;
	align-items: center;
    height: 8%;
    border-bottom: 1px solid grey;
`,Fx=Bt.div`
    position: absolute;
    @media only screen and (max-width: 768px) {
        right: 5px;
    }
    @media only screen and (min-width: 768px) {
        right: 10px;
    }
`,Ux=Bt(zt.DefaultButton)`
	background: url('images/arrow_down.png') no-repeat;
    width: 30px;
    height: 30px;
    background-size: 30px;
	border-radius: 50px;
`,Vx=Bt.h1`
    position: absolute;
    @media only screen and (max-width: 768px) {
        left: 5px;
    }
    @media only screen and (min-width: 768px) {
        left: 10px;
        top: 0%;
    }
	font-size: 1.9rem;
	font-weight: normal;
	color: ${zt.AppTextColor};
	letter-spacing: .1rem;
`,Gx=Bt.h2`
    font-size: 1.1rem;
    font-weight: normal;
    text-align: center;
    color: ${zt.AppTextColor};
    flex-grow: 1;
`,zx=Bt.div`
    max-width: 100vw;
    overflow-x: scroll;
    display: flex;
    min-height: 450px;
`,Hx=Bt.div`
    @media only screen and (min-width: 768px) {
        display: none;
    }
    position: absolute;
    bottom: 8vh;
    width: 100%;
    height: 5vh;
    z-index: 1;
`,Wx=Bt.div`
    flex: grow: 1;
`,Dg="14.7.77",Im=(n,r,o)=>({endTime:r,insertTime:o,type:"exponentialRampToValue",value:n}),Dm=(n,r,o)=>({endTime:r,insertTime:o,type:"linearRampToValue",value:n}),lf=(n,r)=>({startTime:r,type:"setValue",value:n}),Lg=(n,r,o)=>({duration:o,startTime:r,type:"setValueCurve",values:n}),Ng=(n,r,{startTime:o,target:t,timeConstant:h})=>t+(r-t)*Math.exp((o-n)/h),Ji=n=>n.type==="exponentialRampToValue",vc=n=>n.type==="linearRampToValue",Is=n=>Ji(n)||vc(n),kp=n=>n.type==="setValue",us=n=>n.type==="setValueCurve",_c=(n,r,o,t)=>{const h=n[r];return h===void 0?t:Is(h)||kp(h)?h.value:us(h)?h.values[h.values.length-1]:Ng(o,_c(n,r-1,h.startTime,t),h)},Lm=(n,r,o,t,h)=>o===void 0?[t.insertTime,h]:Is(o)?[o.endTime,o.value]:kp(o)?[o.startTime,o.value]:us(o)?[o.startTime+o.duration,o.values[o.values.length-1]]:[o.startTime,_c(n,r-1,o.startTime,h)],uf=n=>n.type==="cancelAndHold",cf=n=>n.type==="cancelScheduledValues",ks=n=>uf(n)||cf(n)?n.cancelTime:Ji(n)||vc(n)?n.endTime:n.startTime,Nm=(n,r,o,{endTime:t,value:h})=>o===h?h:0<o&&0<h||o<0&&h<0?o*(h/o)**((n-r)/(t-r)):0,Bm=(n,r,o,{endTime:t,value:h})=>o+(n-r)/(t-r)*(h-o),qx=(n,r)=>{const o=Math.floor(r),t=Math.ceil(r);return o===t?n[o]:(1-(r-o))*n[o]+(1-(t-r))*n[t]},Xx=(n,{duration:r,startTime:o,values:t})=>{const h=(n-o)/r*(t.length-1);return qx(t,h)},gu=n=>n.type==="setTarget";class Yx{constructor(r){this._automationEvents=[],this._currenTime=0,this._defaultValue=r}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(r){const o=ks(r);if(uf(r)||cf(r)){const t=this._automationEvents.findIndex(p=>cf(r)&&us(p)?p.startTime+p.duration>=o:ks(p)>=o),h=this._automationEvents[t];if(t!==-1&&(this._automationEvents=this._automationEvents.slice(0,t)),uf(r)){const p=this._automationEvents[this._automationEvents.length-1];if(h!==void 0&&Is(h)){if(gu(p))throw new Error("The internal list is malformed.");const c=us(p)?p.startTime+p.duration:ks(p),a=us(p)?p.values[p.values.length-1]:p.value,s=Ji(h)?Nm(o,c,a,h):Bm(o,c,a,h),d=Ji(h)?Im(s,o,this._currenTime):Dm(s,o,this._currenTime);this._automationEvents.push(d)}p!==void 0&&gu(p)&&this._automationEvents.push(lf(this.getValue(o),o)),p!==void 0&&us(p)&&p.startTime+p.duration>o&&(this._automationEvents[this._automationEvents.length-1]=Lg(new Float32Array([6,7]),p.startTime,o-p.startTime))}}else{const t=this._automationEvents.findIndex(c=>ks(c)>o),h=t===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[t-1];if(h!==void 0&&us(h)&&ks(h)+h.duration>o)return!1;const p=Ji(r)?Im(r.value,r.endTime,this._currenTime):vc(r)?Dm(r.value,o,this._currenTime):r;if(t===-1)this._automationEvents.push(p);else{if(us(r)&&o+r.duration>ks(this._automationEvents[t]))return!1;this._automationEvents.splice(t,0,p)}}return!0}flush(r){const o=this._automationEvents.findIndex(t=>ks(t)>r);if(o>1){const t=this._automationEvents.slice(o-1),h=t[0];gu(h)&&t.unshift(lf(_c(this._automationEvents,o-2,h.startTime,this._defaultValue),h.startTime)),this._automationEvents=t}}getValue(r){if(this._automationEvents.length===0)return this._defaultValue;const o=this._automationEvents.findIndex(c=>ks(c)>r),t=this._automationEvents[o],h=(o===-1?this._automationEvents.length:o)-1,p=this._automationEvents[h];if(p!==void 0&&gu(p)&&(t===void 0||!Is(t)||t.insertTime>r))return Ng(r,_c(this._automationEvents,h-1,p.startTime,this._defaultValue),p);if(p!==void 0&&kp(p)&&(t===void 0||!Is(t)))return p.value;if(p!==void 0&&us(p)&&(t===void 0||!Is(t)||p.startTime+p.duration>r))return r<p.startTime+p.duration?Xx(r,p):p.values[p.values.length-1];if(p!==void 0&&Is(p)&&(t===void 0||!Is(t)))return p.value;if(t!==void 0&&Ji(t)){const[c,a]=Lm(this._automationEvents,h,p,t,this._defaultValue);return Nm(r,c,a,t)}if(t!==void 0&&vc(t)){const[c,a]=Lm(this._automationEvents,h,p,t,this._defaultValue);return Bm(r,c,a,t)}return this._defaultValue}}const $x=n=>({cancelTime:n,type:"cancelAndHold"}),Zx=n=>({cancelTime:n,type:"cancelScheduledValues"}),Qx=(n,r)=>({endTime:r,type:"exponentialRampToValue",value:n}),Kx=(n,r)=>({endTime:r,type:"linearRampToValue",value:n}),Jx=(n,r,o)=>({startTime:r,target:n,timeConstant:o,type:"setTarget"}),ew=()=>new DOMException("","AbortError"),tw=n=>(r,o,[t,h,p],c)=>{n(r[h],[o,t,p],a=>a[0]===o&&a[1]===t,c)},rw=n=>(r,o,t)=>{const h=[];for(let p=0;p<t.numberOfInputs;p+=1)h.push(new Set);n.set(r,{activeInputs:h,outputs:new Set,passiveInputs:new WeakMap,renderer:o})},nw=n=>(r,o)=>{n.set(r,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:o})},ga=new WeakSet,Bg=new WeakMap,Rp=new WeakMap,Fg=new WeakMap,Op=new WeakMap,Sd=new WeakMap,Ug=new WeakMap,df=new WeakMap,hf=new WeakMap,ff=new WeakMap,Vg={construct(){return Vg}},ow=n=>{try{const r=new Proxy(n,Vg);new r}catch{return!1}return!0},Fm=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Um=(n,r)=>{const o=[];let t=n.replace(/^[\s]+/,""),h=t.match(Fm);for(;h!==null;){const p=h[1].slice(1,-1),c=h[0].replace(/([\s]+)?;?$/,"").replace(p,new URL(p,r).toString());o.push(c),t=t.slice(h[0].length).replace(/^[\s]+/,""),h=t.match(Fm)}return[o.join(";"),t]},Vm=n=>{if(n!==void 0&&!Array.isArray(n))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Gm=n=>{if(!ow(n))throw new TypeError("The given value for processorCtor should be a constructor.");if(n.prototype===null||typeof n.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},sw=(n,r,o,t,h,p,c,a,s,d,f,y,u)=>{let l=0;return(i,m,g={credentials:"omit"})=>{const v=f.get(i);if(v!==void 0&&v.has(m))return Promise.resolve();const b=d.get(i);if(b!==void 0){const x=b.get(m);if(x!==void 0)return x}const w=p(i),S=w.audioWorklet===void 0?h(m).then(([x,M])=>{const[C,E]=Um(x,M),P=`${C};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${E}
})})(window,'_AWGS')`;return o(P)}).then(()=>{const x=u._AWGS.pop();if(x===void 0)throw new SyntaxError;t(w.currentTime,w.sampleRate,()=>x(class{},void 0,(M,C)=>{if(M.trim()==="")throw r();const E=hf.get(w);if(E!==void 0){if(E.has(M))throw r();Gm(C),Vm(C.parameterDescriptors),E.set(M,C)}else Gm(C),Vm(C.parameterDescriptors),hf.set(w,new Map([[M,C]]))},w.sampleRate,void 0,void 0))}):Promise.all([h(m),Promise.resolve(n(y,y))]).then(([[x,M],C])=>{const E=l+1;l=E;const[P,D]=Um(x,M),W=`${P};((AudioWorkletProcessor,registerProcessor)=>{${D}
})(${C?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${C?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${C?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${E}',class extends AudioWorkletProcessor{process(){return !1}})`,te=new Blob([W],{type:"application/javascript; charset=utf-8"}),Q=URL.createObjectURL(te);return w.audioWorklet.addModule(Q,g).then(()=>{if(a(w))return w;const J=c(w);return J.audioWorklet.addModule(Q,g).then(()=>J)}).then(J=>{if(s===null)throw new SyntaxError;try{new s(J,`__sac${E}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(Q))});return b===void 0?d.set(i,new Map([[m,S]])):b.set(m,S),S.then(()=>{const x=f.get(i);x===void 0?f.set(i,new Set([m])):x.add(m)}).finally(()=>{const x=d.get(i);x!==void 0&&x.delete(m)}),S}},Do=(n,r)=>{const o=n.get(r);if(o===void 0)throw new Error("A value with the given key could not be found.");return o},Td=(n,r)=>{const o=Array.from(n).filter(r);if(o.length>1)throw Error("More than one element was found.");if(o.length===0)throw Error("No element was found.");const[t]=o;return n.delete(t),t},Gg=(n,r,o,t)=>{const h=Do(n,r),p=Td(h,c=>c[0]===o&&c[1]===t);return h.size===0&&n.delete(r),p},ql=n=>Do(Ug,n),va=n=>{if(ga.has(n))throw new Error("The AudioNode is already stored.");ga.add(n),ql(n).forEach(r=>r(!0))},zg=n=>"port"in n,Xl=n=>{if(!ga.has(n))throw new Error("The AudioNode is not stored.");ga.delete(n),ql(n).forEach(r=>r(!1))},pf=(n,r)=>{!zg(n)&&r.every(o=>o.size===0)&&Xl(n)},iw=(n,r,o,t,h,p,c,a,s,d,f,y,u)=>{const l=new WeakMap;return(i,m,g,v,b)=>{const{activeInputs:w,passiveInputs:S}=p(m),{outputs:x}=p(i),M=a(i),C=E=>{const P=s(m),D=s(i);if(E){const I=Gg(S,i,g,v);n(w,i,I,!1),!b&&!y(i)&&o(D,P,g,v),u(m)&&va(m)}else{const I=t(w,i,g,v);r(S,v,I,!1),!b&&!y(i)&&h(D,P,g,v);const U=c(m);if(U===0)f(m)&&pf(m,w);else{const G=l.get(m);G!==void 0&&clearTimeout(G),l.set(m,setTimeout(()=>{f(m)&&pf(m,w)},U*1e3))}}};return d(x,[m,g,v],E=>E[0]===m&&E[1]===g&&E[2]===v,!0)?(M.add(C),f(i)?n(w,i,[g,v,C],!0):r(S,v,[i,g,C],!0),!0):!1}},aw=n=>(r,o,[t,h,p],c)=>{const a=r.get(t);a===void 0?r.set(t,new Set([[h,o,p]])):n(a,[h,o,p],s=>s[0]===h&&s[1]===o,c)},lw=n=>(r,o)=>{const t=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.connect(t).connect(r.destination);const h=()=>{o.removeEventListener("ended",h),o.disconnect(t),t.disconnect()};o.addEventListener("ended",h)},uw=n=>(r,o)=>{n(r).add(o)},cw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},dw=(n,r,o,t,h,p)=>class extends n{constructor(a,s){const d=h(a),f={...cw,...s},y=t(d,f),u=p(d)?r():null;super(a,!1,y,u),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(a){this._nativeAnalyserNode.fftSize=a}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(a){const s=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=a,!(a>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=s,o()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(a){const s=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=a,!(this._nativeAnalyserNode.maxDecibels>a))throw this._nativeAnalyserNode.minDecibels=s,o()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(a){this._nativeAnalyserNode.smoothingTimeConstant=a}getByteFrequencyData(a){this._nativeAnalyserNode.getByteFrequencyData(a)}getByteTimeDomainData(a){this._nativeAnalyserNode.getByteTimeDomainData(a)}getFloatFrequencyData(a){this._nativeAnalyserNode.getFloatFrequencyData(a)}getFloatTimeDomainData(a){this._nativeAnalyserNode.getFloatTimeDomainData(a)}},Un=(n,r)=>n.context===r,hw=(n,r,o)=>()=>{const t=new WeakMap,h=async(p,c)=>{let a=r(p);if(!Un(a,c)){const d={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=n(c,d)}return t.set(c,a),await o(p,c,a),a};return{render(p,c){const a=t.get(c);return a!==void 0?Promise.resolve(a):h(p,c)}}},bc=n=>{try{n.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Qo=()=>new DOMException("","IndexSizeError"),Pp=n=>{n.getChannelData=(r=>o=>{try{return r.call(n,o)}catch(t){throw t.code===12?Qo():t}})(n.getChannelData)},fw={numberOfChannels:1},pw=(n,r,o,t,h,p,c,a)=>{let s=null;return class Hg{constructor(f){if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:u,sampleRate:l}={...fw,...f};s===null&&(s=new h(1,1,44100));const i=t!==null&&r(p,p)?new t({length:y,numberOfChannels:u,sampleRate:l}):s.createBuffer(u,y,l);if(i.numberOfChannels===0)throw o();return typeof i.copyFromChannel!="function"?(c(i),Pp(i)):r(bc,()=>bc(i))||a(i),n.add(i),i}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===Hg.prototype||n.has(f)}}},qn=-34028234663852886e22,Vn=-qn,vs=n=>ga.has(n),mw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},yw=(n,r,o,t,h,p,c,a)=>class extends n{constructor(d,f){const y=p(d),u={...mw,...f},l=h(y,u),i=c(y),m=i?r():null;super(d,!1,l,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=u.buffer!==null,this._nativeAudioBufferSourceNode=l,this._onended=null,this._playbackRate=o(this,i,l.playbackRate,Vn,qn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(d){if(this._nativeAudioBufferSourceNode.buffer=d,d!==null){if(this._isBufferSet)throw t();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(d){this._nativeAudioBufferSourceNode.loop=d}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(d){this._nativeAudioBufferSourceNode.loopEnd=d}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(d){this._nativeAudioBufferSourceNode.loopStart=d}get onended(){return this._onended}set onended(d){const f=typeof d=="function"?a(this,d):null;this._nativeAudioBufferSourceNode.onended=f;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===f?d:y}get playbackRate(){return this._playbackRate}start(d=0,f=0,y){if(this._nativeAudioBufferSourceNode.start(d,f,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[d,f]:[d,f,y]),this.context.state!=="closed"){va(this);const u=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",u),vs(this)&&Xl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",u)}}stop(d=0){this._nativeAudioBufferSourceNode.stop(d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=d)}},gw=(n,r,o,t,h)=>()=>{const p=new WeakMap;let c=null,a=null;const s=async(d,f)=>{let y=o(d);const u=Un(y,f);if(!u){const l={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=r(f,l),c!==null&&y.start(...c),a!==null&&y.stop(a)}return p.set(f,y),u?await n(f,d.playbackRate,y.playbackRate):await t(f,d.playbackRate,y.playbackRate),await h(d,f,y),y};return{set start(d){c=d},set stop(d){a=d},render(d,f){const y=p.get(f);return y!==void 0?Promise.resolve(y):s(d,f)}}},vw=n=>"playbackRate"in n,_w=n=>"frequency"in n&&"gain"in n,bw=n=>"offset"in n,xw=n=>!("frequency"in n)&&"gain"in n,ww=n=>"detune"in n&&"frequency"in n,Sw=n=>"pan"in n,Gn=n=>Do(Bg,n),Yl=n=>Do(Fg,n),mf=(n,r)=>{const{activeInputs:o}=Gn(n);o.forEach(h=>h.forEach(([p])=>{r.includes(n)||mf(p,[...r,n])}));const t=vw(n)?[n.playbackRate]:zg(n)?Array.from(n.parameters.values()):_w(n)?[n.Q,n.detune,n.frequency,n.gain]:bw(n)?[n.offset]:xw(n)?[n.gain]:ww(n)?[n.detune,n.frequency]:Sw(n)?[n.pan]:[];for(const h of t){const p=Yl(h);p!==void 0&&p.activeInputs.forEach(([c])=>mf(c,r))}vs(n)&&Xl(n)},Wg=n=>{mf(n.destination,[])},Tw=n=>n===void 0||typeof n=="number"||typeof n=="string"&&(n==="balanced"||n==="interactive"||n==="playback"),jw=(n,r,o,t,h,p,c,a,s)=>class extends n{constructor(f={}){if(s===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new s(f)}catch(i){throw i.code===12&&i.message==="sampleRate is not in range"?o():i}if(y===null)throw t();if(!Tw(f.latencyHint))throw new TypeError(`The provided value '${f.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(f.sampleRate!==void 0&&y.sampleRate!==f.sampleRate)throw o();super(y,2);const{latencyHint:u}=f,{sampleRate:l}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:u==="balanced"?512/l:u==="interactive"||u===void 0?256/l:u==="playback"?1024/l:Math.max(2,Math.min(128,Math.round(u*l/128)))*128/l,this._nativeAudioContext=y,s.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const i=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",i)};y.addEventListener("statechange",i)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw r()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Wg(this)}))}createMediaElementSource(f){return new h(this,{mediaElement:f})}createMediaStreamDestination(){return new p(this)}createMediaStreamSource(f){return new c(this,{mediaStream:f})}createMediaStreamTrackSource(f){return new a(this,{mediaStreamTrack:f})}resume(){return this._state==="suspended"?new Promise((f,y)=>{const u=()=>{this._nativeAudioContext.removeEventListener("statechange",u),this._nativeAudioContext.state==="running"?f():this.resume().then(f,y)};this._nativeAudioContext.addEventListener("statechange",u)}):this._nativeAudioContext.resume().catch(f=>{throw f===void 0||f.code===15?r():f})}suspend(){return this._nativeAudioContext.suspend().catch(f=>{throw f===void 0?r():f})}},Ew=(n,r,o,t,h,p,c,a)=>class extends n{constructor(d,f){const y=p(d),u=c(y),l=h(y,f,u),i=u?r(a):null;super(d,!1,l,i),this._isNodeOfNativeOfflineAudioContext=u,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(d){if(this._isNodeOfNativeOfflineAudioContext)throw t();if(d>this._nativeAudioDestinationNode.maxChannelCount)throw o();this._nativeAudioDestinationNode.channelCount=d}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(d){if(this._isNodeOfNativeOfflineAudioContext)throw t();this._nativeAudioDestinationNode.channelCountMode=d}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},Cw=n=>{const r=new WeakMap,o=async(t,h)=>{const p=h.destination;return r.set(h,p),await n(t,h,p),p};return{render(t,h){const p=r.get(h);return p!==void 0?Promise.resolve(p):o(t,h)}}},Mw=(n,r,o,t,h,p,c,a)=>(s,d)=>{const f=d.listener,y=()=>{const x=new Float32Array(1),M=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),C=c(d);let E=!1,P=[0,0,-1,0,1,0],D=[0,0,0];const I=()=>{if(E)return;E=!0;const te=t(d,256,9,0);te.onaudioprocess=({inputBuffer:Q})=>{const J=[p(Q,x,0),p(Q,x,1),p(Q,x,2),p(Q,x,3),p(Q,x,4),p(Q,x,5)];J.some((ee,le)=>ee!==P[le])&&(f.setOrientation(...J),P=J);const oe=[p(Q,x,6),p(Q,x,7),p(Q,x,8)];oe.some((ee,le)=>ee!==D[le])&&(f.setPosition(...oe),D=oe)},M.connect(te)},U=te=>Q=>{Q!==P[te]&&(P[te]=Q,f.setOrientation(...P))},G=te=>Q=>{Q!==D[te]&&(D[te]=Q,f.setPosition(...D))},W=(te,Q,J)=>{const oe=o(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:Q});oe.connect(M,0,te),oe.start(),Object.defineProperty(oe.offset,"defaultValue",{get(){return Q}});const ee=n({context:s},C,oe.offset,Vn,qn);return a(ee,"value",le=>()=>le.call(ee),le=>de=>{try{le.call(ee,de)}catch(se){if(se.code!==9)throw se}I(),C&&J(de)}),ee.cancelAndHoldAtTime=(le=>C?()=>{throw h()}:(...de)=>{const se=le.apply(ee,de);return I(),se})(ee.cancelAndHoldAtTime),ee.cancelScheduledValues=(le=>C?()=>{throw h()}:(...de)=>{const se=le.apply(ee,de);return I(),se})(ee.cancelScheduledValues),ee.exponentialRampToValueAtTime=(le=>C?()=>{throw h()}:(...de)=>{const se=le.apply(ee,de);return I(),se})(ee.exponentialRampToValueAtTime),ee.linearRampToValueAtTime=(le=>C?()=>{throw h()}:(...de)=>{const se=le.apply(ee,de);return I(),se})(ee.linearRampToValueAtTime),ee.setTargetAtTime=(le=>C?()=>{throw h()}:(...de)=>{const se=le.apply(ee,de);return I(),se})(ee.setTargetAtTime),ee.setValueAtTime=(le=>C?()=>{throw h()}:(...de)=>{const se=le.apply(ee,de);return I(),se})(ee.setValueAtTime),ee.setValueCurveAtTime=(le=>C?()=>{throw h()}:(...de)=>{const se=le.apply(ee,de);return I(),se})(ee.setValueCurveAtTime),ee};return{forwardX:W(0,0,U(0)),forwardY:W(1,0,U(1)),forwardZ:W(2,-1,U(2)),positionX:W(6,0,G(0)),positionY:W(7,0,G(1)),positionZ:W(8,0,G(2)),upX:W(3,0,U(3)),upY:W(4,1,U(4)),upZ:W(5,0,U(5))}},{forwardX:u,forwardY:l,forwardZ:i,positionX:m,positionY:g,positionZ:v,upX:b,upY:w,upZ:S}=f.forwardX===void 0?y():f;return{get forwardX(){return u},get forwardY(){return l},get forwardZ(){return i},get positionX(){return m},get positionY(){return g},get positionZ(){return v},get upX(){return b},get upY(){return w},get upZ(){return S}}},xc=n=>"context"in n,$l=n=>xc(n[0]),Oi=(n,r,o,t)=>{for(const h of n)if(o(h)){if(t)return!1;throw Error("The set contains at least one similar element.")}return n.add(r),!0},zm=(n,r,[o,t],h)=>{Oi(n,[r,o,t],p=>p[0]===r&&p[1]===o,h)},Hm=(n,[r,o,t],h)=>{const p=n.get(r);p===void 0?n.set(r,new Set([[o,t]])):Oi(p,[o,t],c=>c[0]===o,h)},ja=n=>"inputs"in n,wc=(n,r,o,t)=>{if(ja(r)){const h=r.inputs[t];return n.connect(h,o,0),[h,o,0]}return n.connect(r,o,t),[r,o,t]},qg=(n,r,o)=>{for(const t of n)if(t[0]===r&&t[1]===o)return n.delete(t),t;return null},Aw=(n,r,o)=>Td(n,t=>t[0]===r&&t[1]===o),Xg=(n,r)=>{if(!ql(n).delete(r))throw new Error("Missing the expected event listener.")},Yg=(n,r,o)=>{const t=Do(n,r),h=Td(t,p=>p[0]===o);return t.size===0&&n.delete(r),h},Sc=(n,r,o,t)=>{ja(r)?n.disconnect(r.inputs[t],o,0):n.disconnect(r,o,t)},Lr=n=>Do(Rp,n),xl=n=>Do(Op,n),Ei=n=>df.has(n),Vu=n=>!ga.has(n),Wm=(n,r)=>new Promise(o=>{if(r!==null)o(!0);else{const t=n.createScriptProcessor(256,1,1),h=n.createGain(),p=n.createBuffer(1,2,44100),c=p.getChannelData(0);c[0]=1,c[1]=1;const a=n.createBufferSource();a.buffer=p,a.loop=!0,a.connect(t).connect(n.destination),a.connect(h),a.disconnect(h),t.onaudioprocess=s=>{const d=s.inputBuffer.getChannelData(0);Array.prototype.some.call(d,f=>f===1)?o(!0):o(!1),a.stop(),t.onaudioprocess=null,a.disconnect(t),t.disconnect(n.destination)},a.start()}}),nh=(n,r)=>{const o=new Map;for(const t of n)for(const h of t){const p=o.get(h);o.set(h,p===void 0?1:p+1)}o.forEach((t,h)=>r(h,t))},Tc=n=>"context"in n,kw=n=>{const r=new Map;n.connect=(o=>(t,h=0,p=0)=>{const c=Tc(t)?o(t,h,p):o(t,h),a=r.get(t);return a===void 0?r.set(t,[{input:p,output:h}]):a.every(s=>s.input!==p||s.output!==h)&&a.push({input:p,output:h}),c})(n.connect.bind(n)),n.disconnect=(o=>(t,h,p)=>{if(o.apply(n),t===void 0)r.clear();else if(typeof t=="number")for(const[c,a]of r){const s=a.filter(d=>d.output!==t);s.length===0?r.delete(c):r.set(c,s)}else if(r.has(t))if(h===void 0)r.delete(t);else{const c=r.get(t);if(c!==void 0){const a=c.filter(s=>s.output!==h&&(s.input!==p||p===void 0));a.length===0?r.delete(t):r.set(t,a)}}for(const[c,a]of r)a.forEach(s=>{Tc(c)?n.connect(c,s.output,s.input):n.connect(c,s.output)})})(n.disconnect)},Rw=(n,r,o,t)=>{const{activeInputs:h,passiveInputs:p}=Yl(r),{outputs:c}=Gn(n),a=ql(n),s=d=>{const f=Lr(n),y=xl(r);if(d){const u=Yg(p,n,o);zm(h,n,u,!1),!t&&!Ei(n)&&f.connect(y,o)}else{const u=Aw(h,n,o);Hm(p,u,!1),!t&&!Ei(n)&&f.disconnect(y,o)}};return Oi(c,[r,o],d=>d[0]===r&&d[1]===o,!0)?(a.add(s),vs(n)?zm(h,n,[o,s],!0):Hm(p,[n,o,s],!0),!0):!1},Ow=(n,r,o,t)=>{const{activeInputs:h,passiveInputs:p}=Gn(r),c=qg(h[t],n,o);return c===null?[Gg(p,n,o,t)[2],!1]:[c[2],!0]},Pw=(n,r,o)=>{const{activeInputs:t,passiveInputs:h}=Yl(r),p=qg(t,n,o);return p===null?[Yg(h,n,o)[1],!1]:[p[2],!0]},Ip=(n,r,o,t,h)=>{const[p,c]=Ow(n,o,t,h);if(p!==null&&(Xg(n,p),c&&!r&&!Ei(n)&&Sc(Lr(n),Lr(o),t,h)),vs(o)){const{activeInputs:a}=Gn(o);pf(o,a)}},Dp=(n,r,o,t)=>{const[h,p]=Pw(n,o,t);h!==null&&(Xg(n,h),p&&!r&&!Ei(n)&&Lr(n).disconnect(xl(o),t))},Iw=(n,r)=>{const o=Gn(n),t=[];for(const h of o.outputs)$l(h)?Ip(n,r,...h):Dp(n,r,...h),t.push(h[0]);return o.outputs.clear(),t},Dw=(n,r,o)=>{const t=Gn(n),h=[];for(const p of t.outputs)p[1]===o&&($l(p)?Ip(n,r,...p):Dp(n,r,...p),h.push(p[0]),t.outputs.delete(p));return h},Lw=(n,r,o,t,h)=>{const p=Gn(n);return Array.from(p.outputs).filter(c=>c[0]===o&&(t===void 0||c[1]===t)&&(h===void 0||c[2]===h)).map(c=>($l(c)?Ip(n,r,...c):Dp(n,r,...c),p.outputs.delete(c),c[0]))},Nw=(n,r,o,t,h,p,c,a,s,d,f,y,u,l,i,m)=>class extends d{constructor(v,b,w,S){super(w),this._context=v,this._nativeAudioNode=w;const x=f(v);y(x)&&o(Wm,()=>Wm(x,m))!==!0&&kw(w),Rp.set(this,w),Ug.set(this,new Set),v.state!=="closed"&&b&&va(this),n(this,S,w)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(v){this._nativeAudioNode.channelCount=v}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(v){this._nativeAudioNode.channelCountMode=v}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(v){this._nativeAudioNode.channelInterpretation=v}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(v,b=0,w=0){if(b<0||b>=this._nativeAudioNode.numberOfOutputs)throw h();const S=f(this._context),x=i(S);if(u(v)||l(v))throw p();if(xc(v)){const E=Lr(v);try{const D=wc(this._nativeAudioNode,E,b,w),I=Vu(this);(x||I)&&this._nativeAudioNode.disconnect(...D),this.context.state!=="closed"&&!I&&Vu(v)&&va(v)}catch(D){throw D.code===12?p():D}if(r(this,v,b,w,x)){const D=s([this],v);nh(D,t(x))}return v}const M=xl(v);if(M.name==="playbackRate"&&M.maxValue===1024)throw c();try{this._nativeAudioNode.connect(M,b),(x||Vu(this))&&this._nativeAudioNode.disconnect(M,b)}catch(E){throw E.code===12?p():E}if(Rw(this,v,b,x)){const E=s([this],v);nh(E,t(x))}}disconnect(v,b,w){let S;const x=f(this._context),M=i(x);if(v===void 0)S=Iw(this,M);else if(typeof v=="number"){if(v<0||v>=this.numberOfOutputs)throw h();S=Dw(this,M,v)}else{if(b!==void 0&&(b<0||b>=this.numberOfOutputs)||xc(v)&&w!==void 0&&(w<0||w>=v.numberOfInputs))throw h();if(S=Lw(this,M,v,b,w),S.length===0)throw p()}for(const C of S){const E=s([this],C);nh(E,a)}}},Bw=(n,r,o,t,h,p,c,a,s,d,f,y,u)=>(l,i,m,g=null,v=null)=>{const b=new Yx(m.defaultValue),w=i?t(b):null,S={get defaultValue(){return m.defaultValue},get maxValue(){return g===null?m.maxValue:g},get minValue(){return v===null?m.minValue:v},get value(){return m.value},set value(x){m.value=x,S.setValueAtTime(x,l.context.currentTime)},cancelAndHoldAtTime(x){if(typeof m.cancelAndHoldAtTime=="function")w===null&&b.flush(l.context.currentTime),b.add(h(x)),m.cancelAndHoldAtTime(x);else{const M=Array.from(b).pop();w===null&&b.flush(l.context.currentTime),b.add(h(x));const C=Array.from(b).pop();m.cancelScheduledValues(x),M!==C&&C!==void 0&&(C.type==="exponentialRampToValue"?m.exponentialRampToValueAtTime(C.value,C.endTime):C.type==="linearRampToValue"?m.linearRampToValueAtTime(C.value,C.endTime):C.type==="setValue"?m.setValueAtTime(C.value,C.startTime):C.type==="setValueCurve"&&m.setValueCurveAtTime(C.values,C.startTime,C.duration))}return S},cancelScheduledValues(x){return w===null&&b.flush(l.context.currentTime),b.add(p(x)),m.cancelScheduledValues(x),S},exponentialRampToValueAtTime(x,M){if(x===0)throw new RangeError;if(!Number.isFinite(M)||M<0)throw new RangeError;return w===null&&b.flush(l.context.currentTime),b.add(c(x,M)),m.exponentialRampToValueAtTime(x,M),S},linearRampToValueAtTime(x,M){return w===null&&b.flush(l.context.currentTime),b.add(a(x,M)),m.linearRampToValueAtTime(x,M),S},setTargetAtTime(x,M,C){return w===null&&b.flush(l.context.currentTime),b.add(s(x,M,C)),m.setTargetAtTime(x,M,C),S},setValueAtTime(x,M){return w===null&&b.flush(l.context.currentTime),b.add(d(x,M)),m.setValueAtTime(x,M),S},setValueCurveAtTime(x,M,C){const E=x instanceof Float32Array?x:new Float32Array(x);if(y!==null&&y.name==="webkitAudioContext"){const P=M+C,D=l.context.sampleRate,I=Math.ceil(M*D),U=Math.floor(P*D),G=U-I,W=new Float32Array(G);for(let Q=0;Q<G;Q+=1){const J=(E.length-1)/C*((I+Q)/D-M),oe=Math.floor(J),ee=Math.ceil(J);W[Q]=oe===ee?E[oe]:(1-(J-oe))*E[oe]+(1-(ee-J))*E[ee]}w===null&&b.flush(l.context.currentTime),b.add(f(W,M,C)),m.setValueCurveAtTime(W,M,C);const te=U/D;te<P&&u(S,W[W.length-1],te),u(S,E[E.length-1],P)}else w===null&&b.flush(l.context.currentTime),b.add(f(E,M,C)),m.setValueCurveAtTime(E,M,C);return S}};return o.set(S,m),r.set(S,l),n(S,w),S},Fw=n=>({replay(r){for(const o of n)if(o.type==="exponentialRampToValue"){const{endTime:t,value:h}=o;r.exponentialRampToValueAtTime(h,t)}else if(o.type==="linearRampToValue"){const{endTime:t,value:h}=o;r.linearRampToValueAtTime(h,t)}else if(o.type==="setTarget"){const{startTime:t,target:h,timeConstant:p}=o;r.setTargetAtTime(h,t,p)}else if(o.type==="setValue"){const{startTime:t,value:h}=o;r.setValueAtTime(h,t)}else if(o.type==="setValueCurve"){const{duration:t,startTime:h,values:p}=o;r.setValueCurveAtTime(p,h,t)}else throw new Error("Can't apply an unknown automation.")}});class $g{constructor(r){this._map=new Map(r)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(r,o=null){return this._map.forEach((t,h)=>r.call(o,t,h,this))}get(r){return this._map.get(r)}has(r){return this._map.has(r)}keys(){return this._map.keys()}values(){return this._map.values()}}const Uw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},Vw=(n,r,o,t,h,p,c,a,s,d,f,y,u,l)=>class extends r{constructor(m,g,v){var b;const w=a(m),S=s(w),x=f({...Uw,...v});u(x);const M=hf.get(w),C=M==null?void 0:M.get(g),E=S||w.state!=="closed"?w:(b=c(w))!==null&&b!==void 0?b:w,P=h(E,S?null:m.baseLatency,d,g,C,x),D=S?t(g,x,C):null;super(m,!0,P,D);const I=[];P.parameters.forEach((G,W)=>{const te=o(this,S,G);I.push([W,te])}),this._nativeAudioWorkletNode=P,this._onprocessorerror=null,this._parameters=new $g(I),S&&n(w,this);const{activeInputs:U}=p(this);y(P,U)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(m){const g=typeof m=="function"?l(this,m):null;this._nativeAudioWorkletNode.onprocessorerror=g;const v=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=v!==null&&v===g?m:v}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function jc(n,r,o,t,h){if(typeof n.copyFromChannel=="function")r[o].byteLength===0&&(r[o]=new Float32Array(128)),n.copyFromChannel(r[o],t,h);else{const p=n.getChannelData(t);if(r[o].byteLength===0)r[o]=p.slice(h,h+128);else{const c=new Float32Array(p.buffer,h*Float32Array.BYTES_PER_ELEMENT,128);r[o].set(c)}}}const Zg=(n,r,o,t,h)=>{typeof n.copyToChannel=="function"?r[o].byteLength!==0&&n.copyToChannel(r[o],t,h):r[o].byteLength!==0&&n.getChannelData(t).set(r[o],h)},Ec=(n,r)=>{const o=[];for(let t=0;t<n;t+=1){const h=[],p=typeof r=="number"?r:r[t];for(let c=0;c<p;c+=1)h.push(new Float32Array(128));o.push(h)}return o},Gw=(n,r)=>{const o=Do(ff,n),t=Lr(r);return Do(o,t)},zw=async(n,r,o,t,h,p,c)=>{const a=r===null?Math.ceil(n.context.length/128)*128:r.length,s=t.channelCount*t.numberOfInputs,d=h.reduce((g,v)=>g+v,0),f=d===0?null:o.createBuffer(d,a,o.sampleRate);if(p===void 0)throw new Error("Missing the processor constructor.");const y=Gn(n),u=await Gw(o,n),l=Ec(t.numberOfInputs,t.channelCount),i=Ec(t.numberOfOutputs,h),m=Array.from(n.parameters.keys()).reduce((g,v)=>({...g,[v]:new Float32Array(128)}),{});for(let g=0;g<a;g+=128){if(t.numberOfInputs>0&&r!==null)for(let v=0;v<t.numberOfInputs;v+=1)for(let b=0;b<t.channelCount;b+=1)jc(r,l[v],b,b,g);p.parameterDescriptors!==void 0&&r!==null&&p.parameterDescriptors.forEach(({name:v},b)=>{jc(r,m,v,s+b,g)});for(let v=0;v<t.numberOfInputs;v+=1)for(let b=0;b<h[v];b+=1)i[v][b].byteLength===0&&(i[v][b]=new Float32Array(128));try{const v=l.map((w,S)=>y.activeInputs[S].size===0?[]:w),b=c(g/o.sampleRate,o.sampleRate,()=>u.process(v,i,m));if(f!==null)for(let w=0,S=0;w<t.numberOfOutputs;w+=1){for(let x=0;x<h[w];x+=1)Zg(f,i[w],x,S+x,g);S+=h[w]}if(!b)break}catch(v){n.dispatchEvent(new ErrorEvent("processorerror",{colno:v.colno,filename:v.filename,lineno:v.lineno,message:v.message}));break}}return f},Hw=(n,r,o,t,h,p,c,a,s,d,f,y,u,l,i,m)=>(g,v,b)=>{const w=new WeakMap;let S=null;const x=async(M,C)=>{let E=f(M),P=null;const D=Un(E,C),I=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(y===null){const U=I.reduce((Q,J)=>Q+J,0),G=h(C,{channelCount:Math.max(1,U),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,U)}),W=[];for(let Q=0;Q<M.numberOfOutputs;Q+=1)W.push(t(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:I[Q]}));const te=c(C,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});te.connect=r.bind(null,W),te.disconnect=s.bind(null,W),P=[G,W,te]}else D||(E=new y(C,g));if(w.set(C,P===null?E:P[2]),P!==null){if(S===null){if(b===void 0)throw new Error("Missing the processor constructor.");if(u===null)throw new Error("Missing the native OfflineAudioContext constructor.");const J=M.channelCount*M.numberOfInputs,oe=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length,ee=J+oe;S=zw(M,ee===0?null:await(async()=>{const de=new u(ee,Math.ceil(M.context.length/128)*128,C.sampleRate),se=[],O=[];for(let V=0;V<v.numberOfInputs;V+=1)se.push(c(de,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),O.push(h(de,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const j=await Promise.all(Array.from(M.parameters.values()).map(async V=>{const ae=p(de,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V.value});return await l(de,V,ae.offset),ae})),F=t(de,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,J+oe)});for(let V=0;V<v.numberOfInputs;V+=1){se[V].connect(O[V]);for(let ae=0;ae<v.channelCount;ae+=1)O[V].connect(F,ae,V*v.channelCount+ae)}for(const[V,ae]of j.entries())ae.connect(F,0,J+V),ae.start(0);return F.connect(de.destination),await Promise.all(se.map(V=>i(M,de,V))),m(de)})(),C,v,I,b,d)}const U=await S,G=o(C,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[W,te,Q]=P;U!==null&&(G.buffer=U,G.start(0)),G.connect(W);for(let J=0,oe=0;J<M.numberOfOutputs;J+=1){const ee=te[J];for(let le=0;le<I[J];le+=1)W.connect(ee,oe+le,le);oe+=I[J]}return Q}if(D)for(const[U,G]of M.parameters.entries())await n(C,G,E.parameters.get(U));else for(const[U,G]of M.parameters.entries())await l(C,G,E.parameters.get(U));return await i(M,C,E),E};return{render(M,C){a(C,M);const E=w.get(C);return E!==void 0?Promise.resolve(E):x(M,C)}}},Ww=(n,r,o,t,h,p,c,a,s,d,f,y,u,l,i,m,g,v,b,w)=>class extends i{constructor(x,M){super(x,M),this._nativeContext=x,this._audioWorklet=n===void 0?void 0:{addModule:(C,E)=>n(this,C,E)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new r(this)}createBiquadFilter(){return new h(this)}createBuffer(x,M,C){return new o({length:M,numberOfChannels:x,sampleRate:C})}createBufferSource(){return new t(this)}createChannelMerger(x=6){return new p(this,{numberOfInputs:x})}createChannelSplitter(x=6){return new c(this,{numberOfOutputs:x})}createConstantSource(){return new a(this)}createConvolver(){return new s(this)}createDelay(x=1){return new f(this,{maxDelayTime:x})}createDynamicsCompressor(){return new y(this)}createGain(){return new u(this)}createIIRFilter(x,M){return new l(this,{feedback:M,feedforward:x})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(x,M,C={disableNormalization:!1}){return new v(this,{...C,imag:M,real:x})}createStereoPanner(){return new b(this)}createWaveShaper(){return new w(this)}decodeAudioData(x,M,C){return d(this._nativeContext,x).then(E=>(typeof M=="function"&&M(E),E),E=>{throw typeof C=="function"&&C(E),E})}},qw={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Xw=(n,r,o,t,h,p,c,a)=>class extends n{constructor(d,f){const y=p(d),u={...qw,...f},l=h(y,u),i=c(y),m=i?o():null;super(d,!1,l,m),this._Q=r(this,i,l.Q,Vn,qn),this._detune=r(this,i,l.detune,1200*Math.log2(Vn),-1200*Math.log2(Vn)),this._frequency=r(this,i,l.frequency,d.sampleRate/2,0),this._gain=r(this,i,l.gain,40*Math.log10(Vn),qn),this._nativeBiquadFilterNode=l,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(d){this._nativeBiquadFilterNode.type=d}getFrequencyResponse(d,f,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(d,f,y)}catch(u){throw u.code===11?t():u}if(d.length!==f.length||f.length!==y.length)throw t()}},Yw=(n,r,o,t,h)=>()=>{const p=new WeakMap,c=async(a,s)=>{let d=o(a);const f=Un(d,s);if(!f){const y={Q:d.Q.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,gain:d.gain.value,type:d.type};d=r(s,y)}return p.set(s,d),f?(await n(s,a.Q,d.Q),await n(s,a.detune,d.detune),await n(s,a.frequency,d.frequency),await n(s,a.gain,d.gain)):(await t(s,a.Q,d.Q),await t(s,a.detune,d.detune),await t(s,a.frequency,d.frequency),await t(s,a.gain,d.gain)),await h(a,s,d),d};return{render(a,s){const d=p.get(s);return d!==void 0?Promise.resolve(d):c(a,s)}}},$w=(n,r)=>(o,t)=>{const h=r.get(o);if(h!==void 0)return h;const p=n.get(o);if(p!==void 0)return p;try{const c=t();return c instanceof Promise?(n.set(o,c),c.catch(()=>!1).then(a=>(n.delete(o),r.set(o,a),a))):(r.set(o,c),c)}catch{return r.set(o,!1),!1}},Zw={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Qw=(n,r,o,t,h)=>class extends n{constructor(c,a){const s=t(c),d={...Zw,...a},f=o(s,d),y=h(s)?r():null;super(c,!1,f,y)}},Kw=(n,r,o)=>()=>{const t=new WeakMap,h=async(p,c)=>{let a=r(p);if(!Un(a,c)){const d={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=n(c,d)}return t.set(c,a),await o(p,c,a),a};return{render(p,c){const a=t.get(c);return a!==void 0?Promise.resolve(a):h(p,c)}}},Jw={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},e3=(n,r,o,t,h,p)=>class extends n{constructor(a,s){const d=t(a),f=p({...Jw,...s}),y=o(d,f),u=h(d)?r():null;super(a,!1,y,u)}},t3=(n,r,o)=>()=>{const t=new WeakMap,h=async(p,c)=>{let a=r(p);if(!Un(a,c)){const d={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=n(c,d)}return t.set(c,a),await o(p,c,a),a};return{render(p,c){const a=t.get(c);return a!==void 0?Promise.resolve(a):h(p,c)}}},r3=n=>(r,o,t)=>n(o,r,t),n3=n=>(r,o,t=0,h=0)=>{const p=r[t];if(p===void 0)throw n();return Tc(o)?p.connect(o,0,h):p.connect(o,0)},o3=n=>(r,o)=>{const t=n(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),h=r.createBuffer(1,2,44100);return t.buffer=h,t.loop=!0,t.connect(o),t.start(),()=>{t.stop(),t.disconnect(o)}},s3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},i3=(n,r,o,t,h,p,c)=>class extends n{constructor(s,d){const f=h(s),y={...s3,...d},u=t(f,y),l=p(f),i=l?o():null;super(s,!1,u,i),this._constantSourceNodeRenderer=i,this._nativeConstantSourceNode=u,this._offset=r(this,l,u.offset,Vn,qn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(s){const d=typeof s=="function"?c(this,s):null;this._nativeConstantSourceNode.onended=d;const f=this._nativeConstantSourceNode.onended;this._onended=f!==null&&f===d?s:f}start(s=0){if(this._nativeConstantSourceNode.start(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=s),this.context.state!=="closed"){va(this);const d=()=>{this._nativeConstantSourceNode.removeEventListener("ended",d),vs(this)&&Xl(this)};this._nativeConstantSourceNode.addEventListener("ended",d)}}stop(s=0){this._nativeConstantSourceNode.stop(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=s)}},a3=(n,r,o,t,h)=>()=>{const p=new WeakMap;let c=null,a=null;const s=async(d,f)=>{let y=o(d);const u=Un(y,f);if(!u){const l={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=r(f,l),c!==null&&y.start(c),a!==null&&y.stop(a)}return p.set(f,y),u?await n(f,d.offset,y.offset):await t(f,d.offset,y.offset),await h(d,f,y),y};return{set start(d){c=d},set stop(d){a=d},render(d,f){const y=p.get(f);return y!==void 0?Promise.resolve(y):s(d,f)}}},l3=n=>r=>(n[0]=r,n[0]),u3={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},c3=(n,r,o,t,h,p)=>class extends n{constructor(a,s){const d=t(a),f={...u3,...s},y=o(d,f),l=h(d)?r():null;super(a,!1,y,l),this._isBufferNullified=!1,this._nativeConvolverNode=y,f.buffer!==null&&p(this,f.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(a){if(this._nativeConvolverNode.buffer=a,a===null&&this._nativeConvolverNode.buffer!==null){const s=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=s.createBuffer(1,1,s.sampleRate),this._isBufferNullified=!0,p(this,0)}else this._isBufferNullified=!1,p(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(a){this._nativeConvolverNode.normalize=a}},d3=(n,r,o)=>()=>{const t=new WeakMap,h=async(p,c)=>{let a=r(p);if(!Un(a,c)){const d={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=n(c,d)}return t.set(c,a),ja(a)?await o(p,c,a.inputs[0]):await o(p,c,a),a};return{render(p,c){const a=t.get(c);return a!==void 0?Promise.resolve(a):h(p,c)}}},h3=(n,r)=>(o,t,h)=>{if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new r(o,t,h)}catch(p){throw p.name==="SyntaxError"?n():p}},f3=()=>new DOMException("","DataCloneError"),qm=n=>{const{port1:r,port2:o}=new MessageChannel;return new Promise(t=>{const h=()=>{o.onmessage=null,r.close(),o.close(),t()};o.onmessage=()=>h();try{r.postMessage(n,[n])}catch{}finally{h()}})},p3=(n,r,o,t,h,p,c,a,s,d,f)=>(y,u)=>{const l=c(y)?y:p(y);if(h.has(u)){const i=o();return Promise.reject(i)}try{h.add(u)}catch{}return r(s,()=>s(l))?l.decodeAudioData(u).then(i=>(qm(u).catch(()=>{}),r(a,()=>a(i))||f(i),n.add(i),i)):new Promise((i,m)=>{const g=async()=>{try{await qm(u)}catch{}},v=b=>{m(b),g()};try{l.decodeAudioData(u,b=>{typeof b.copyFromChannel!="function"&&(d(b),Pp(b)),n.add(b),g().then(()=>i(b))},b=>{v(b===null?t():b)})}catch(b){v(b)}})},m3=(n,r,o,t,h,p,c,a)=>(s,d)=>{const f=r.get(s);if(f===void 0)throw new Error("Missing the expected cycle count.");const y=p(s.context),u=a(y);if(f===d){if(r.delete(s),!u&&c(s)){const l=t(s),{outputs:i}=o(s);for(const m of i)if($l(m)){const g=t(m[0]);n(l,g,m[1],m[2])}else{const g=h(m[0]);l.connect(g,m[1])}}}else r.set(s,f-d)},y3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},g3=(n,r,o,t,h,p,c)=>class extends n{constructor(s,d){const f=h(s),y={...y3,...d},u=t(f,y),l=p(f),i=l?o(y.maxDelayTime):null;super(s,!1,u,i),this._delayTime=r(this,l,u.delayTime),c(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},v3=(n,r,o,t,h)=>p=>{const c=new WeakMap,a=async(s,d)=>{let f=o(s);const y=Un(f,d);if(!y){const u={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,delayTime:f.delayTime.value,maxDelayTime:p};f=r(d,u)}return c.set(d,f),y?await n(d,s.delayTime,f.delayTime):await t(d,s.delayTime,f.delayTime),await h(s,d,f),f};return{render(s,d){const f=c.get(d);return f!==void 0?Promise.resolve(f):a(s,d)}}},_3=n=>(r,o,t,h)=>n(r[h],p=>p[0]===o&&p[1]===t),b3=n=>(r,o)=>{n(r).delete(o)},x3=n=>"delayTime"in n,w3=(n,r,o)=>function t(h,p){const c=xc(p)?p:o(n,p);if(x3(c))return[];if(h[0]===c)return[h];if(h.includes(c))return[];const{outputs:a}=r(c);return Array.from(a).map(s=>t([...h,c],s[0])).reduce((s,d)=>s.concat(d),[])},vu=(n,r,o)=>{const t=r[o];if(t===void 0)throw n();return t},S3=n=>(r,o=void 0,t=void 0,h=0)=>o===void 0?r.forEach(p=>p.disconnect()):typeof o=="number"?vu(n,r,o).disconnect():Tc(o)?t===void 0?r.forEach(p=>p.disconnect(o)):h===void 0?vu(n,r,t).disconnect(o,0):vu(n,r,t).disconnect(o,0,h):t===void 0?r.forEach(p=>p.disconnect(o)):vu(n,r,t).disconnect(o,0),T3={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},j3=(n,r,o,t,h,p,c,a)=>class extends n{constructor(d,f){const y=p(d),u={...T3,...f},l=t(y,u),i=c(y),m=i?o():null;super(d,!1,l,m),this._attack=r(this,i,l.attack),this._knee=r(this,i,l.knee),this._nativeDynamicsCompressorNode=l,this._ratio=r(this,i,l.ratio),this._release=r(this,i,l.release),this._threshold=r(this,i,l.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(d){const f=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=d,d>2)throw this._nativeDynamicsCompressorNode.channelCount=f,h()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(d){const f=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=d,d==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=f,h()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},E3=(n,r,o,t,h)=>()=>{const p=new WeakMap,c=async(a,s)=>{let d=o(a);const f=Un(d,s);if(!f){const y={attack:d.attack.value,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,knee:d.knee.value,ratio:d.ratio.value,release:d.release.value,threshold:d.threshold.value};d=r(s,y)}return p.set(s,d),f?(await n(s,a.attack,d.attack),await n(s,a.knee,d.knee),await n(s,a.ratio,d.ratio),await n(s,a.release,d.release),await n(s,a.threshold,d.threshold)):(await t(s,a.attack,d.attack),await t(s,a.knee,d.knee),await t(s,a.ratio,d.ratio),await t(s,a.release,d.release),await t(s,a.threshold,d.threshold)),await h(a,s,d),d};return{render(a,s){const d=p.get(s);return d!==void 0?Promise.resolve(d):c(a,s)}}},C3=()=>new DOMException("","EncodingError"),M3=n=>r=>new Promise((o,t)=>{if(n===null){t(new SyntaxError);return}const h=n.document.head;if(h===null)t(new SyntaxError);else{const p=n.document.createElement("script"),c=new Blob([r],{type:"application/javascript"}),a=URL.createObjectURL(c),s=n.onerror,d=()=>{n.onerror=s,URL.revokeObjectURL(a)};n.onerror=(f,y,u,l,i)=>{if(y===a||y===n.location.href&&u===1&&l===1)return d(),t(i),!1;if(s!==null)return s(f,y,u,l,i)},p.onerror=()=>{d(),t(new SyntaxError)},p.onload=()=>{d(),o()},p.src=a,p.type="module",h.appendChild(p)}}),A3=n=>class{constructor(o){this._nativeEventTarget=o,this._listeners=new WeakMap}addEventListener(o,t,h){if(t!==null){let p=this._listeners.get(t);p===void 0&&(p=n(this,t),typeof t=="function"&&this._listeners.set(t,p)),this._nativeEventTarget.addEventListener(o,p,h)}}dispatchEvent(o){return this._nativeEventTarget.dispatchEvent(o)}removeEventListener(o,t,h){const p=t===null?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(o,p===void 0?null:p,h)}},k3=n=>(r,o,t)=>{Object.defineProperties(n,{currentFrame:{configurable:!0,get(){return Math.round(r*o)}},currentTime:{configurable:!0,get(){return r}}});try{return t()}finally{n!==null&&(delete n.currentFrame,delete n.currentTime)}},R3=n=>async r=>{try{const o=await fetch(r);if(o.ok)return[await o.text(),o.url]}catch{}throw n()},O3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},P3=(n,r,o,t,h,p)=>class extends n{constructor(a,s){const d=h(a),f={...O3,...s},y=t(d,f),u=p(d),l=u?o():null;super(a,!1,y,l),this._gain=r(this,u,y.gain,Vn,qn)}get gain(){return this._gain}},I3=(n,r,o,t,h)=>()=>{const p=new WeakMap,c=async(a,s)=>{let d=o(a);const f=Un(d,s);if(!f){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,gain:d.gain.value};d=r(s,y)}return p.set(s,d),f?await n(s,a.gain,d.gain):await t(s,a.gain,d.gain),await h(a,s,d),d};return{render(a,s){const d=p.get(s);return d!==void 0?Promise.resolve(d):c(a,s)}}},D3=(n,r)=>o=>r(n,o),L3=n=>r=>{const o=n(r);if(o.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return o.renderer},N3=n=>r=>{var o;return(o=n.get(r))!==null&&o!==void 0?o:0},B3=n=>r=>{const o=n(r);if(o.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return o.renderer},F3=n=>r=>n.get(r),wn=()=>new DOMException("","InvalidStateError"),U3=n=>r=>{const o=n.get(r);if(o===void 0)throw wn();return o},V3=(n,r)=>o=>{let t=n.get(o);if(t!==void 0)return t;if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");return t=new r(1,1,44100),n.set(o,t),t},G3=n=>r=>{const o=n.get(r);if(o===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return o},jd=()=>new DOMException("","InvalidAccessError"),z3=n=>{n.getFrequencyResponse=(r=>(o,t,h)=>{if(o.length!==t.length||t.length!==h.length)throw jd();return r.call(n,o,t,h)})(n.getFrequencyResponse)},H3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},W3=(n,r,o,t,h,p)=>class extends n{constructor(a,s){const d=t(a),f=h(d),y={...H3,...s},u=r(d,f?null:a.baseLatency,y),l=f?o(y.feedback,y.feedforward):null;super(a,!1,u,l),z3(u),this._nativeIIRFilterNode=u,p(this,1)}getFrequencyResponse(a,s,d){return this._nativeIIRFilterNode.getFrequencyResponse(a,s,d)}},Qg=(n,r,o,t,h,p,c,a,s,d,f)=>{const y=d.length;let u=a;for(let l=0;l<y;l+=1){let i=o[0]*d[l];for(let m=1;m<h;m+=1){const g=u-m&s-1;i+=o[m]*p[g],i-=n[m]*c[g]}for(let m=h;m<t;m+=1)i+=o[m]*p[u-m&s-1];for(let m=h;m<r;m+=1)i-=n[m]*c[u-m&s-1];p[u]=d[l],c[u]=i,u=u+1&s-1,f[l]=i}return u},q3=(n,r,o,t)=>{const h=o instanceof Float64Array?o:new Float64Array(o),p=t instanceof Float64Array?t:new Float64Array(t),c=h.length,a=p.length,s=Math.min(c,a);if(h[0]!==1){for(let i=0;i<c;i+=1)p[i]/=h[0];for(let i=1;i<a;i+=1)h[i]/=h[0]}const d=32,f=new Float32Array(d),y=new Float32Array(d),u=r.createBuffer(n.numberOfChannels,n.length,n.sampleRate),l=n.numberOfChannels;for(let i=0;i<l;i+=1){const m=n.getChannelData(i),g=u.getChannelData(i);f.fill(0),y.fill(0),Qg(h,c,p,a,s,f,y,0,d,m,g)}return u},X3=(n,r,o,t,h)=>(p,c)=>{const a=new WeakMap;let s=null;const d=async(f,y)=>{let u=null,l=r(f);const i=Un(l,y);if(y.createIIRFilter===void 0?u=n(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):i||(l=y.createIIRFilter(c,p)),a.set(y,u===null?l:u),u!==null){if(s===null){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const g=new o(f.context.destination.channelCount,f.context.length,y.sampleRate);s=(async()=>{await t(f,g,g.destination);const v=await h(g);return q3(v,y,p,c)})()}const m=await s;return u.buffer=m,u.start(0),u}return await t(f,y,l),l};return{render(f,y){const u=a.get(y);return u!==void 0?Promise.resolve(u):d(f,y)}}},Y3=(n,r,o,t,h,p)=>c=>(a,s)=>{const d=n.get(a);if(d===void 0){if(!c&&p(a)){const f=t(a),{outputs:y}=o(a);for(const u of y)if($l(u)){const l=t(u[0]);r(f,l,u[1],u[2])}else{const l=h(u[0]);f.disconnect(l,u[1])}}n.set(a,s)}else n.set(a,d+s)},$3=(n,r)=>o=>{const t=n.get(o);return r(t)||r(o)},Z3=(n,r)=>o=>n.has(o)||r(o),Q3=(n,r)=>o=>n.has(o)||r(o),K3=(n,r)=>o=>{const t=n.get(o);return r(t)||r(o)},J3=n=>r=>n!==null&&r instanceof n,eS=n=>r=>n!==null&&typeof n.AudioNode=="function"&&r instanceof n.AudioNode,tS=n=>r=>n!==null&&typeof n.AudioParam=="function"&&r instanceof n.AudioParam,rS=(n,r)=>o=>n(o)||r(o),nS=n=>r=>n!==null&&r instanceof n,oS=n=>n!==null&&n.isSecureContext,sS=(n,r,o,t)=>class extends n{constructor(p,c){const a=o(p),s=r(a,c);if(t(a))throw TypeError();super(p,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},iS={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},aS=(n,r,o,t)=>class extends n{constructor(p,c){const a=o(p);if(t(a))throw new TypeError;const s={...iS,...c},d=r(a,s);super(p,!1,d,null),this._nativeMediaStreamAudioDestinationNode=d}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},lS=(n,r,o,t)=>class extends n{constructor(p,c){const a=o(p),s=r(a,c);if(t(a))throw new TypeError;super(p,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},uS=(n,r,o)=>class extends n{constructor(h,p){const c=o(h),a=r(c,p);super(h,!0,a,null)}},cS=(n,r,o,t,h,p)=>class extends o{constructor(a,s){super(a),this._nativeContext=a,Sd.set(this,a),t(a)&&h.set(a,new Set),this._destination=new n(this,s),this._listener=r(this,a),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(a){const s=typeof a=="function"?p(this,a):null;this._nativeContext.onstatechange=s;const d=this._nativeContext.onstatechange;this._onstatechange=d!==null&&d===s?a:d}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},wl=n=>{const r=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const o=n.decodeAudioData(r.buffer,()=>{});return o===void 0?!1:(o.catch(()=>{}),!0)}catch{}return!1},dS=(n,r)=>(o,t,h)=>{const p=new Set;return o.connect=(c=>(a,s=0,d=0)=>{const f=p.size===0;if(r(a))return c.call(o,a,s,d),n(p,[a,s,d],y=>y[0]===a&&y[1]===s&&y[2]===d,!0),f&&t(),a;c.call(o,a,s),n(p,[a,s],y=>y[0]===a&&y[1]===s,!0),f&&t()})(o.connect),o.disconnect=(c=>(a,s,d)=>{const f=p.size>0;if(a===void 0)c.apply(o),p.clear();else if(typeof a=="number"){c.call(o,a);for(const u of p)u[1]===a&&p.delete(u)}else{r(a)?c.call(o,a,s,d):c.call(o,a,s);for(const u of p)u[0]===a&&(s===void 0||u[1]===s)&&(d===void 0||u[2]===d)&&p.delete(u)}const y=p.size===0;f&&y&&h()})(o.disconnect),o},Fr=(n,r,o)=>{const t=r[o];t!==void 0&&t!==n[o]&&(n[o]=t)},yn=(n,r)=>{Fr(n,r,"channelCount"),Fr(n,r,"channelCountMode"),Fr(n,r,"channelInterpretation")},Xm=n=>typeof n.getFloatTimeDomainData=="function",hS=n=>{n.getFloatTimeDomainData=r=>{const o=new Uint8Array(r.length);n.getByteTimeDomainData(o);const t=Math.max(o.length,n.fftSize);for(let h=0;h<t;h+=1)r[h]=(o[h]-128)*.0078125;return r}},fS=(n,r)=>(o,t)=>{const h=o.createAnalyser();if(yn(h,t),!(t.maxDecibels>t.minDecibels))throw r();return Fr(h,t,"fftSize"),Fr(h,t,"maxDecibels"),Fr(h,t,"minDecibels"),Fr(h,t,"smoothingTimeConstant"),n(Xm,()=>Xm(h))||hS(h),h},pS=n=>n===null?null:n.hasOwnProperty("AudioBuffer")?n.AudioBuffer:null,$r=(n,r,o)=>{const t=r[o];t!==void 0&&t!==n[o].value&&(n[o].value=t)},mS=n=>{n.start=(r=>{let o=!1;return(t=0,h=0,p)=>{if(o)throw wn();r.call(n,t,h,p),o=!0}})(n.start)},Lp=n=>{n.start=(r=>(o=0,t=0,h)=>{if(typeof h=="number"&&h<0||t<0||o<0)throw new RangeError("The parameters can't be negative.");r.call(n,o,t,h)})(n.start)},Np=n=>{n.stop=(r=>(o=0)=>{if(o<0)throw new RangeError("The parameter can't be negative.");r.call(n,o)})(n.stop)},yS=(n,r,o,t,h,p,c,a,s,d,f)=>(y,u)=>{const l=y.createBufferSource();return yn(l,u),$r(l,u,"playbackRate"),Fr(l,u,"buffer"),Fr(l,u,"loop"),Fr(l,u,"loopEnd"),Fr(l,u,"loopStart"),r(o,()=>o(y))||mS(l),r(t,()=>t(y))||s(l),r(h,()=>h(y))||d(l,y),r(p,()=>p(y))||Lp(l),r(c,()=>c(y))||f(l,y),r(a,()=>a(y))||Np(l),n(y,l),l},gS=n=>n===null?null:n.hasOwnProperty("AudioContext")?n.AudioContext:n.hasOwnProperty("webkitAudioContext")?n.webkitAudioContext:null,vS=(n,r)=>(o,t,h)=>{const p=o.destination;if(p.channelCount!==t)try{p.channelCount=t}catch{}h&&p.channelCountMode!=="explicit"&&(p.channelCountMode="explicit"),p.maxChannelCount===0&&Object.defineProperty(p,"maxChannelCount",{value:t});const c=n(o,{channelCount:t,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1});return r(c,"channelCount",a=>()=>a.call(c),a=>s=>{a.call(c,s);try{p.channelCount=s}catch(d){if(s>p.maxChannelCount)throw d}}),r(c,"channelCountMode",a=>()=>a.call(c),a=>s=>{a.call(c,s),p.channelCountMode=s}),r(c,"channelInterpretation",a=>()=>a.call(c),a=>s=>{a.call(c,s),p.channelInterpretation=s}),Object.defineProperty(c,"maxChannelCount",{get:()=>p.maxChannelCount}),c.connect(p),c},_S=n=>n===null?null:n.hasOwnProperty("AudioWorkletNode")?n.AudioWorkletNode:null,bS=n=>{const{port1:r}=new MessageChannel;try{r.postMessage(n)}finally{r.close()}},xS=(n,r,o,t,h)=>(p,c,a,s,d,f)=>{if(a!==null)try{const y=new a(p,s,f),u=new Map;let l=null;if(Object.defineProperties(y,{channelCount:{get:()=>f.channelCount,set:()=>{throw n()}},channelCountMode:{get:()=>"explicit",set:()=>{throw n()}},onprocessorerror:{get:()=>l,set:i=>{typeof l=="function"&&y.removeEventListener("processorerror",l),l=typeof i=="function"?i:null,typeof l=="function"&&y.addEventListener("processorerror",l)}}}),y.addEventListener=(i=>(...m)=>{if(m[0]==="processorerror"){const g=typeof m[1]=="function"?m[1]:typeof m[1]=="object"&&m[1]!==null&&typeof m[1].handleEvent=="function"?m[1].handleEvent:null;if(g!==null){const v=u.get(m[1]);v!==void 0?m[1]=v:(m[1]=b=>{b.type==="error"?(Object.defineProperties(b,{type:{value:"processorerror"}}),g(b)):g(new ErrorEvent(m[0],{...b}))},u.set(g,m[1]))}}return i.call(y,"error",m[1],m[2]),i.call(y,...m)})(y.addEventListener),y.removeEventListener=(i=>(...m)=>{if(m[0]==="processorerror"){const g=u.get(m[1]);g!==void 0&&(u.delete(m[1]),m[1]=g)}return i.call(y,"error",m[1],m[2]),i.call(y,m[0],m[1],m[2])})(y.removeEventListener),f.numberOfOutputs!==0){const i=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(i).connect(p.destination),h(y,()=>i.disconnect(),()=>i.connect(p.destination))}return y}catch(y){throw y.code===11?t():y}if(d===void 0)throw t();return bS(f),r(p,c,d,f)},Kg=(n,r)=>n===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(n*r))))),wS=n=>new Promise((r,o)=>{const{port1:t,port2:h}=new MessageChannel;t.onmessage=({data:p})=>{t.close(),h.close(),r(p)},t.onmessageerror=({data:p})=>{t.close(),h.close(),o(p)},h.postMessage(n)}),SS=async(n,r)=>{const o=await wS(r);return new n(o)},TS=(n,r,o,t)=>{let h=ff.get(n);h===void 0&&(h=new WeakMap,ff.set(n,h));const p=SS(o,t);return h.set(r,p),p},jS=(n,r,o,t,h,p,c,a,s,d,f,y,u)=>(l,i,m,g)=>{if(g.numberOfInputs===0&&g.numberOfOutputs===0)throw s();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some(Ae=>Ae<1))throw s();if(v.length!==g.numberOfOutputs)throw r();if(g.channelCountMode!=="explicit")throw s();const b=g.channelCount*g.numberOfInputs,w=v.reduce((Ae,Ue)=>Ae+Ue,0),S=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length;if(b+S>6||w>6)throw s();const x=new MessageChannel,M=[],C=[];for(let Ae=0;Ae<g.numberOfInputs;Ae+=1)M.push(c(l,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),C.push(h(l,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const E=[];if(m.parameterDescriptors!==void 0)for(const{defaultValue:Ae,maxValue:Ue,minValue:qe,name:Ge}of m.parameterDescriptors){const it=p(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:g.parameterData[Ge]!==void 0?g.parameterData[Ge]:Ae===void 0?0:Ae});Object.defineProperties(it.offset,{defaultValue:{get:()=>Ae===void 0?0:Ae},maxValue:{get:()=>Ue===void 0?Vn:Ue},minValue:{get:()=>qe===void 0?qn:qe}}),E.push(it)}const P=t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,b+S)}),D=Kg(i,l.sampleRate),I=a(l,D,b+S,Math.max(1,w)),U=h(l,{channelCount:Math.max(1,w),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,w)}),G=[];for(let Ae=0;Ae<g.numberOfOutputs;Ae+=1)G.push(t(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[Ae]}));for(let Ae=0;Ae<g.numberOfInputs;Ae+=1){M[Ae].connect(C[Ae]);for(let Ue=0;Ue<g.channelCount;Ue+=1)C[Ae].connect(P,Ue,Ae*g.channelCount+Ue)}const W=new $g(m.parameterDescriptors===void 0?[]:m.parameterDescriptors.map(({name:Ae},Ue)=>{const qe=E[Ue];return qe.connect(P,0,b+Ue),qe.start(0),[Ae,qe.offset]}));P.connect(I);let te=g.channelInterpretation,Q=null;const J=g.numberOfOutputs===0?[I]:G,oe={get bufferSize(){return D},get channelCount(){return g.channelCount},set channelCount(Ae){throw o()},get channelCountMode(){return g.channelCountMode},set channelCountMode(Ae){throw o()},get channelInterpretation(){return te},set channelInterpretation(Ae){for(const Ue of M)Ue.channelInterpretation=Ae;te=Ae},get context(){return I.context},get inputs(){return M},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return Q},set onprocessorerror(Ae){typeof Q=="function"&&oe.removeEventListener("processorerror",Q),Q=typeof Ae=="function"?Ae:null,typeof Q=="function"&&oe.addEventListener("processorerror",Q)},get parameters(){return W},get port(){return x.port2},addEventListener(...Ae){return I.addEventListener(Ae[0],Ae[1],Ae[2])},connect:n.bind(null,J),disconnect:d.bind(null,J),dispatchEvent(...Ae){return I.dispatchEvent(Ae[0])},removeEventListener(...Ae){return I.removeEventListener(Ae[0],Ae[1],Ae[2])}},ee=new Map;x.port1.addEventListener=(Ae=>(...Ue)=>{if(Ue[0]==="message"){const qe=typeof Ue[1]=="function"?Ue[1]:typeof Ue[1]=="object"&&Ue[1]!==null&&typeof Ue[1].handleEvent=="function"?Ue[1].handleEvent:null;if(qe!==null){const Ge=ee.get(Ue[1]);Ge!==void 0?Ue[1]=Ge:(Ue[1]=it=>{f(l.currentTime,l.sampleRate,()=>qe(it))},ee.set(qe,Ue[1]))}}return Ae.call(x.port1,Ue[0],Ue[1],Ue[2])})(x.port1.addEventListener),x.port1.removeEventListener=(Ae=>(...Ue)=>{if(Ue[0]==="message"){const qe=ee.get(Ue[1]);qe!==void 0&&(ee.delete(Ue[1]),Ue[1]=qe)}return Ae.call(x.port1,Ue[0],Ue[1],Ue[2])})(x.port1.removeEventListener);let le=null;Object.defineProperty(x.port1,"onmessage",{get:()=>le,set:Ae=>{typeof le=="function"&&x.port1.removeEventListener("message",le),le=typeof Ae=="function"?Ae:null,typeof le=="function"&&(x.port1.addEventListener("message",le),x.port1.start())}}),m.prototype.port=x.port1;let de=null;TS(l,oe,m,g).then(Ae=>de=Ae);const O=Ec(g.numberOfInputs,g.channelCount),j=Ec(g.numberOfOutputs,v),F=m.parameterDescriptors===void 0?[]:m.parameterDescriptors.reduce((Ae,{name:Ue})=>({...Ae,[Ue]:new Float32Array(128)}),{});let V=!0;const ae=()=>{g.numberOfOutputs>0&&I.disconnect(U);for(let Ae=0,Ue=0;Ae<g.numberOfOutputs;Ae+=1){const qe=G[Ae];for(let Ge=0;Ge<v[Ae];Ge+=1)U.disconnect(qe,Ue+Ge,Ge);Ue+=v[Ae]}},ue=new Map;I.onaudioprocess=({inputBuffer:Ae,outputBuffer:Ue})=>{if(de!==null){const qe=y(oe);for(let Ge=0;Ge<D;Ge+=128){for(let it=0;it<g.numberOfInputs;it+=1)for(let ie=0;ie<g.channelCount;ie+=1)jc(Ae,O[it],ie,ie,Ge);m.parameterDescriptors!==void 0&&m.parameterDescriptors.forEach(({name:it},ie)=>{jc(Ae,F,it,b+ie,Ge)});for(let it=0;it<g.numberOfInputs;it+=1)for(let ie=0;ie<v[it];ie+=1)j[it][ie].byteLength===0&&(j[it][ie]=new Float32Array(128));try{const it=O.map((Be,Pe)=>{if(qe[Pe].size>0)return ue.set(Pe,D/128),Be;const Je=ue.get(Pe);return Je===void 0?[]:(Be.every(ze=>ze.every(tt=>tt===0))&&(Je===1?ue.delete(Pe):ue.set(Pe,Je-1)),Be)});V=f(l.currentTime+Ge/l.sampleRate,l.sampleRate,()=>de.process(it,j,F));for(let Be=0,Pe=0;Be<g.numberOfOutputs;Be+=1){for(let We=0;We<v[Be];We+=1)Zg(Ue,j[Be],We,Pe+We,Ge);Pe+=v[Be]}}catch(it){V=!1,oe.dispatchEvent(new ErrorEvent("processorerror",{colno:it.colno,filename:it.filename,lineno:it.lineno,message:it.message}))}if(!V){for(let it=0;it<g.numberOfInputs;it+=1){M[it].disconnect(C[it]);for(let ie=0;ie<g.channelCount;ie+=1)C[Ge].disconnect(P,ie,it*g.channelCount+ie)}if(m.parameterDescriptors!==void 0){const it=m.parameterDescriptors.length;for(let ie=0;ie<it;ie+=1){const Be=E[ie];Be.disconnect(P,0,b+ie),Be.stop()}}P.disconnect(I),I.onaudioprocess=null,Ee?ae():xe();break}}}};let Ee=!1;const Re=c(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ce=()=>I.connect(Re).connect(l.destination),xe=()=>{I.disconnect(Re),Re.disconnect()},Ze=()=>{if(V){xe(),g.numberOfOutputs>0&&I.connect(U);for(let Ae=0,Ue=0;Ae<g.numberOfOutputs;Ae+=1){const qe=G[Ae];for(let Ge=0;Ge<v[Ae];Ge+=1)U.connect(qe,Ue+Ge,Ge);Ue+=v[Ae]}}Ee=!0},we=()=>{V&&(Ce(),ae()),Ee=!1};return Ce(),u(oe,Ze,we)},Jg=(n,r)=>{const o=n.createBiquadFilter();return yn(o,r),$r(o,r,"Q"),$r(o,r,"detune"),$r(o,r,"frequency"),$r(o,r,"gain"),Fr(o,r,"type"),o},ES=(n,r)=>(o,t)=>{const h=o.createChannelMerger(t.numberOfInputs);return n!==null&&n.name==="webkitAudioContext"&&r(o,h),yn(h,t),h},CS=n=>{const r=n.numberOfOutputs;Object.defineProperty(n,"channelCount",{get:()=>r,set:o=>{if(o!==r)throw wn()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:o=>{if(o!=="explicit")throw wn()}}),Object.defineProperty(n,"channelInterpretation",{get:()=>"discrete",set:o=>{if(o!=="discrete")throw wn()}})},Zl=(n,r)=>{const o=n.createChannelSplitter(r.numberOfOutputs);return yn(o,r),CS(o),o},MS=(n,r,o,t,h)=>(p,c)=>{if(p.createConstantSource===void 0)return o(p,c);const a=p.createConstantSource();return yn(a,c),$r(a,c,"offset"),r(t,()=>t(p))||Lp(a),r(h,()=>h(p))||Np(a),n(p,a),a},Ea=(n,r)=>(n.connect=r.connect.bind(r),n.disconnect=r.disconnect.bind(r),n),AS=(n,r,o,t)=>(h,{offset:p,...c})=>{const a=h.createBuffer(1,2,44100),s=r(h,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=o(h,{...c,gain:p}),f=a.getChannelData(0);f[0]=1,f[1]=1,s.buffer=a,s.loop=!0;const y={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(i){d.channelCount=i},get channelCountMode(){return d.channelCountMode},set channelCountMode(i){d.channelCountMode=i},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(i){d.channelInterpretation=i},get context(){return d.context},get inputs(){return[]},get numberOfInputs(){return s.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get offset(){return d.gain},get onended(){return s.onended},set onended(i){s.onended=i},addEventListener(...i){return s.addEventListener(i[0],i[1],i[2])},dispatchEvent(...i){return s.dispatchEvent(i[0])},removeEventListener(...i){return s.removeEventListener(i[0],i[1],i[2])},start(i=0){s.start.call(s,i)},stop(i=0){s.stop.call(s,i)}},u=()=>s.connect(d),l=()=>s.disconnect(d);return n(h,s),t(Ea(y,d),u,l)},kS=(n,r)=>(o,t)=>{const h=o.createConvolver();if(yn(h,t),t.disableNormalization===h.normalize&&(h.normalize=!t.disableNormalization),Fr(h,t,"buffer"),t.channelCount>2||(r(h,"channelCount",p=>()=>p.call(h),p=>c=>{if(c>2)throw n();return p.call(h,c)}),t.channelCountMode==="max"))throw n();return r(h,"channelCountMode",p=>()=>p.call(h),p=>c=>{if(c==="max")throw n();return p.call(h,c)}),h},ev=(n,r)=>{const o=n.createDelay(r.maxDelayTime);return yn(o,r),$r(o,r,"delayTime"),o},RS=n=>(r,o)=>{const t=r.createDynamicsCompressor();if(yn(t,o),o.channelCount>2||o.channelCountMode==="max")throw n();return $r(t,o,"attack"),$r(t,o,"knee"),$r(t,o,"ratio"),$r(t,o,"release"),$r(t,o,"threshold"),t},Qn=(n,r)=>{const o=n.createGain();return yn(o,r),$r(o,r,"gain"),o},OS=n=>(r,o,t)=>{if(r.createIIRFilter===void 0)return n(r,o,t);const h=r.createIIRFilter(t.feedforward,t.feedback);return yn(h,t),h};function PS(n,r){const o=r[0]*r[0]+r[1]*r[1];return[(n[0]*r[0]+n[1]*r[1])/o,(n[1]*r[0]-n[0]*r[1])/o]}function IS(n,r){return[n[0]*r[0]-n[1]*r[1],n[0]*r[1]+n[1]*r[0]]}function Ym(n,r){let o=[0,0];for(let t=n.length-1;t>=0;t-=1)o=IS(o,r),o[0]+=n[t];return o}const DS=(n,r,o,t)=>(h,p,{channelCount:c,channelCountMode:a,channelInterpretation:s,feedback:d,feedforward:f})=>{const y=Kg(p,h.sampleRate),u=d instanceof Float64Array?d:new Float64Array(d),l=f instanceof Float64Array?f:new Float64Array(f),i=u.length,m=l.length,g=Math.min(i,m);if(i===0||i>20)throw t();if(u[0]===0)throw r();if(m===0||m>20)throw t();if(l[0]===0)throw r();if(u[0]!==1){for(let E=0;E<m;E+=1)l[E]/=u[0];for(let E=1;E<i;E+=1)u[E]/=u[0]}const v=o(h,y,c,c);v.channelCount=c,v.channelCountMode=a,v.channelInterpretation=s;const b=32,w=[],S=[],x=[];for(let E=0;E<c;E+=1){w.push(0);const P=new Float32Array(b),D=new Float32Array(b);P.fill(0),D.fill(0),S.push(P),x.push(D)}v.onaudioprocess=E=>{const P=E.inputBuffer,D=E.outputBuffer,I=P.numberOfChannels;for(let U=0;U<I;U+=1){const G=P.getChannelData(U),W=D.getChannelData(U);w[U]=Qg(u,i,l,m,g,S[U],x[U],w[U],b,G,W)}};const M=h.sampleRate/2;return Ea({get bufferSize(){return y},get channelCount(){return v.channelCount},set channelCount(E){v.channelCount=E},get channelCountMode(){return v.channelCountMode},set channelCountMode(E){v.channelCountMode=E},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(E){v.channelInterpretation=E},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener(...E){return v.addEventListener(E[0],E[1],E[2])},dispatchEvent(...E){return v.dispatchEvent(E[0])},getFrequencyResponse(E,P,D){if(E.length!==P.length||P.length!==D.length)throw n();const I=E.length;for(let U=0;U<I;U+=1){const G=-Math.PI*(E[U]/M),W=[Math.cos(G),Math.sin(G)],te=Ym(l,W),Q=Ym(u,W),J=PS(te,Q);P[U]=Math.sqrt(J[0]*J[0]+J[1]*J[1]),D[U]=Math.atan2(J[1],J[0])}},removeEventListener(...E){return v.removeEventListener(E[0],E[1],E[2])}},v)},LS=(n,r)=>n.createMediaElementSource(r.mediaElement),NS=(n,r)=>{const o=n.createMediaStreamDestination();return yn(o,r),o.numberOfOutputs===1&&Object.defineProperty(o,"numberOfOutputs",{get:()=>0}),o},BS=(n,{mediaStream:r})=>{const o=r.getAudioTracks();o.sort((p,c)=>p.id<c.id?-1:p.id>c.id?1:0);const t=o.slice(0,1),h=n.createMediaStreamSource(new MediaStream(t));return Object.defineProperty(h,"mediaStream",{value:r}),h},FS=(n,r)=>(o,{mediaStreamTrack:t})=>{if(typeof o.createMediaStreamTrackSource=="function")return o.createMediaStreamTrackSource(t);const h=new MediaStream([t]),p=o.createMediaStreamSource(h);if(t.kind!=="audio")throw n();if(r(o))throw new TypeError;return p},US=n=>n===null?null:n.hasOwnProperty("OfflineAudioContext")?n.OfflineAudioContext:n.hasOwnProperty("webkitOfflineAudioContext")?n.webkitOfflineAudioContext:null,VS=(n,r,o,t,h,p)=>(c,a)=>{const s=c.createOscillator();return yn(s,a),$r(s,a,"detune"),$r(s,a,"frequency"),a.periodicWave!==void 0?s.setPeriodicWave(a.periodicWave):Fr(s,a,"type"),r(o,()=>o(c))||Lp(s),r(t,()=>t(c))||p(s,c),r(h,()=>h(c))||Np(s),n(c,s),s},GS=n=>(r,o)=>{const t=r.createPanner();return t.orientationX===void 0?n(r,o):(yn(t,o),$r(t,o,"orientationX"),$r(t,o,"orientationY"),$r(t,o,"orientationZ"),$r(t,o,"positionX"),$r(t,o,"positionY"),$r(t,o,"positionZ"),Fr(t,o,"coneInnerAngle"),Fr(t,o,"coneOuterAngle"),Fr(t,o,"coneOuterGain"),Fr(t,o,"distanceModel"),Fr(t,o,"maxDistance"),Fr(t,o,"panningModel"),Fr(t,o,"refDistance"),Fr(t,o,"rolloffFactor"),t)},zS=(n,r,o,t,h,p,c,a,s,d)=>(f,{coneInnerAngle:y,coneOuterAngle:u,coneOuterGain:l,distanceModel:i,maxDistance:m,orientationX:g,orientationY:v,orientationZ:b,panningModel:w,positionX:S,positionY:x,positionZ:M,refDistance:C,rolloffFactor:E,...P})=>{const D=f.createPanner();if(P.channelCount>2||P.channelCountMode==="max")throw c();yn(D,P);const I={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},U=o(f,{...I,channelInterpretation:"speakers",numberOfInputs:6}),G=t(f,{...P,gain:1}),W=t(f,{...I,gain:1}),te=t(f,{...I,gain:0}),Q=t(f,{...I,gain:0}),J=t(f,{...I,gain:0}),oe=t(f,{...I,gain:0}),ee=t(f,{...I,gain:0}),le=h(f,256,6,1),de=p(f,{...I,curve:new Float32Array([1,1]),oversample:"none"});let se=[g,v,b],O=[S,x,M];const j=new Float32Array(1);le.onaudioprocess=({inputBuffer:ue})=>{const Ee=[s(ue,j,0),s(ue,j,1),s(ue,j,2)];Ee.some((Ce,xe)=>Ce!==se[xe])&&(D.setOrientation(...Ee),se=Ee);const Re=[s(ue,j,3),s(ue,j,4),s(ue,j,5)];Re.some((Ce,xe)=>Ce!==O[xe])&&(D.setPosition(...Re),O=Re)},Object.defineProperty(te.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(J.gain,"defaultValue",{get:()=>0}),Object.defineProperty(oe.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ee.gain,"defaultValue",{get:()=>0});const F={get bufferSize(){},get channelCount(){return D.channelCount},set channelCount(ue){if(ue>2)throw c();G.channelCount=ue,D.channelCount=ue},get channelCountMode(){return D.channelCountMode},set channelCountMode(ue){if(ue==="max")throw c();G.channelCountMode=ue,D.channelCountMode=ue},get channelInterpretation(){return D.channelInterpretation},set channelInterpretation(ue){G.channelInterpretation=ue,D.channelInterpretation=ue},get coneInnerAngle(){return D.coneInnerAngle},set coneInnerAngle(ue){D.coneInnerAngle=ue},get coneOuterAngle(){return D.coneOuterAngle},set coneOuterAngle(ue){D.coneOuterAngle=ue},get coneOuterGain(){return D.coneOuterGain},set coneOuterGain(ue){if(ue<0||ue>1)throw r();D.coneOuterGain=ue},get context(){return D.context},get distanceModel(){return D.distanceModel},set distanceModel(ue){D.distanceModel=ue},get inputs(){return[G]},get maxDistance(){return D.maxDistance},set maxDistance(ue){if(ue<0)throw new RangeError;D.maxDistance=ue},get numberOfInputs(){return D.numberOfInputs},get numberOfOutputs(){return D.numberOfOutputs},get orientationX(){return W.gain},get orientationY(){return te.gain},get orientationZ(){return Q.gain},get panningModel(){return D.panningModel},set panningModel(ue){D.panningModel=ue},get positionX(){return J.gain},get positionY(){return oe.gain},get positionZ(){return ee.gain},get refDistance(){return D.refDistance},set refDistance(ue){if(ue<0)throw new RangeError;D.refDistance=ue},get rolloffFactor(){return D.rolloffFactor},set rolloffFactor(ue){if(ue<0)throw new RangeError;D.rolloffFactor=ue},addEventListener(...ue){return G.addEventListener(ue[0],ue[1],ue[2])},dispatchEvent(...ue){return G.dispatchEvent(ue[0])},removeEventListener(...ue){return G.removeEventListener(ue[0],ue[1],ue[2])}};y!==F.coneInnerAngle&&(F.coneInnerAngle=y),u!==F.coneOuterAngle&&(F.coneOuterAngle=u),l!==F.coneOuterGain&&(F.coneOuterGain=l),i!==F.distanceModel&&(F.distanceModel=i),m!==F.maxDistance&&(F.maxDistance=m),g!==F.orientationX.value&&(F.orientationX.value=g),v!==F.orientationY.value&&(F.orientationY.value=v),b!==F.orientationZ.value&&(F.orientationZ.value=b),w!==F.panningModel&&(F.panningModel=w),S!==F.positionX.value&&(F.positionX.value=S),x!==F.positionY.value&&(F.positionY.value=x),M!==F.positionZ.value&&(F.positionZ.value=M),C!==F.refDistance&&(F.refDistance=C),E!==F.rolloffFactor&&(F.rolloffFactor=E),(se[0]!==1||se[1]!==0||se[2]!==0)&&D.setOrientation(...se),(O[0]!==0||O[1]!==0||O[2]!==0)&&D.setPosition(...O);const V=()=>{G.connect(D),n(G,de,0,0),de.connect(W).connect(U,0,0),de.connect(te).connect(U,0,1),de.connect(Q).connect(U,0,2),de.connect(J).connect(U,0,3),de.connect(oe).connect(U,0,4),de.connect(ee).connect(U,0,5),U.connect(le).connect(f.destination)},ae=()=>{G.disconnect(D),a(G,de,0,0),de.disconnect(W),W.disconnect(U),de.disconnect(te),te.disconnect(U),de.disconnect(Q),Q.disconnect(U),de.disconnect(J),J.disconnect(U),de.disconnect(oe),oe.disconnect(U),de.disconnect(ee),ee.disconnect(U),U.disconnect(le),le.disconnect(f.destination)};return d(Ea(F,D),V,ae)},HS=n=>(r,{disableNormalization:o,imag:t,real:h})=>{const p=t instanceof Float32Array?t:new Float32Array(t),c=h instanceof Float32Array?h:new Float32Array(h),a=r.createPeriodicWave(c,p,{disableNormalization:o});if(Array.from(t).length<2)throw n();return a},Ql=(n,r,o,t)=>n.createScriptProcessor(r,o,t),WS=(n,r)=>(o,t)=>{const h=t.channelCountMode;if(h==="clamped-max")throw r();if(o.createStereoPanner===void 0)return n(o,t);const p=o.createStereoPanner();return yn(p,t),$r(p,t,"pan"),Object.defineProperty(p,"channelCountMode",{get:()=>h,set:c=>{if(c!==h)throw r()}}),p},qS=(n,r,o,t,h,p)=>{const a=new Float32Array([1,1]),s=Math.PI/2,d={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},f={...d,oversample:"none"},y=(i,m,g,v)=>{const b=new Float32Array(16385),w=new Float32Array(16385);for(let P=0;P<16385;P+=1){const D=P/16384*s;b[P]=Math.cos(D),w[P]=Math.sin(D)}const S=o(i,{...d,gain:0}),x=t(i,{...f,curve:b}),M=t(i,{...f,curve:a}),C=o(i,{...d,gain:0}),E=t(i,{...f,curve:w});return{connectGraph(){m.connect(S),m.connect(M.inputs===void 0?M:M.inputs[0]),m.connect(C),M.connect(g),g.connect(x.inputs===void 0?x:x.inputs[0]),g.connect(E.inputs===void 0?E:E.inputs[0]),x.connect(S.gain),E.connect(C.gain),S.connect(v,0,0),C.connect(v,0,1)},disconnectGraph(){m.disconnect(S),m.disconnect(M.inputs===void 0?M:M.inputs[0]),m.disconnect(C),M.disconnect(g),g.disconnect(x.inputs===void 0?x:x.inputs[0]),g.disconnect(E.inputs===void 0?E:E.inputs[0]),x.disconnect(S.gain),E.disconnect(C.gain),S.disconnect(v,0,0),C.disconnect(v,0,1)}}},u=(i,m,g,v)=>{const b=new Float32Array(16385),w=new Float32Array(16385),S=new Float32Array(16385),x=new Float32Array(16385),M=Math.floor(16385/2);for(let J=0;J<16385;J+=1)if(J>M){const oe=(J-M)/(16384-M)*s;b[J]=Math.cos(oe),w[J]=Math.sin(oe),S[J]=0,x[J]=1}else{const oe=J/(16384-M)*s;b[J]=1,w[J]=0,S[J]=Math.cos(oe),x[J]=Math.sin(oe)}const C=r(i,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),E=o(i,{...d,gain:0}),P=t(i,{...f,curve:b}),D=o(i,{...d,gain:0}),I=t(i,{...f,curve:w}),U=t(i,{...f,curve:a}),G=o(i,{...d,gain:0}),W=t(i,{...f,curve:S}),te=o(i,{...d,gain:0}),Q=t(i,{...f,curve:x});return{connectGraph(){m.connect(C),m.connect(U.inputs===void 0?U:U.inputs[0]),C.connect(E,0),C.connect(D,0),C.connect(G,1),C.connect(te,1),U.connect(g),g.connect(P.inputs===void 0?P:P.inputs[0]),g.connect(I.inputs===void 0?I:I.inputs[0]),g.connect(W.inputs===void 0?W:W.inputs[0]),g.connect(Q.inputs===void 0?Q:Q.inputs[0]),P.connect(E.gain),I.connect(D.gain),W.connect(G.gain),Q.connect(te.gain),E.connect(v,0,0),G.connect(v,0,0),D.connect(v,0,1),te.connect(v,0,1)},disconnectGraph(){m.disconnect(C),m.disconnect(U.inputs===void 0?U:U.inputs[0]),C.disconnect(E,0),C.disconnect(D,0),C.disconnect(G,1),C.disconnect(te,1),U.disconnect(g),g.disconnect(P.inputs===void 0?P:P.inputs[0]),g.disconnect(I.inputs===void 0?I:I.inputs[0]),g.disconnect(W.inputs===void 0?W:W.inputs[0]),g.disconnect(Q.inputs===void 0?Q:Q.inputs[0]),P.disconnect(E.gain),I.disconnect(D.gain),W.disconnect(G.gain),Q.disconnect(te.gain),E.disconnect(v,0,0),G.disconnect(v,0,0),D.disconnect(v,0,1),te.disconnect(v,0,1)}}},l=(i,m,g,v,b)=>{if(m===1)return y(i,g,v,b);if(m===2)return u(i,g,v,b);throw h()};return(i,{channelCount:m,channelCountMode:g,pan:v,...b})=>{if(g==="max")throw h();const w=n(i,{...b,channelCount:1,channelCountMode:g,numberOfInputs:2}),S=o(i,{...b,channelCount:m,channelCountMode:g,gain:1}),x=o(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:v});let{connectGraph:M,disconnectGraph:C}=l(i,m,S,x,w);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});const E={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(U){S.channelCount!==U&&(P&&C(),{connectGraph:M,disconnectGraph:C}=l(i,U,S,x,w),P&&M()),S.channelCount=U},get channelCountMode(){return S.channelCountMode},set channelCountMode(U){if(U==="clamped-max"||U==="max")throw h();S.channelCountMode=U},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(U){S.channelInterpretation=U},get context(){return S.context},get inputs(){return[S]},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get pan(){return x.gain},addEventListener(...U){return S.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return S.dispatchEvent(U[0])},removeEventListener(...U){return S.removeEventListener(U[0],U[1],U[2])}};let P=!1;const D=()=>{M(),P=!0},I=()=>{C(),P=!1};return p(Ea(E,w),D,I)}},XS=(n,r,o,t,h,p,c)=>(a,s)=>{const d=a.createWaveShaper();if(p!==null&&p.name==="webkitAudioContext"&&a.createGain().gain.automationRate===void 0)return o(a,s);yn(d,s);const f=s.curve===null||s.curve instanceof Float32Array?s.curve:new Float32Array(s.curve);if(f!==null&&f.length<2)throw r();Fr(d,{curve:f},"curve"),Fr(d,s,"oversample");let y=null,u=!1;return c(d,"curve",m=>()=>m.call(d),m=>g=>(m.call(d,g),u&&(t(g)&&y===null?y=n(a,d):!t(g)&&y!==null&&(y(),y=null)),g)),h(d,()=>{u=!0,t(d.curve)&&(y=n(a,d))},()=>{u=!1,y!==null&&(y(),y=null)})},YS=(n,r,o,t,h)=>(p,{curve:c,oversample:a,...s})=>{const d=p.createWaveShaper(),f=p.createWaveShaper();yn(d,s),yn(f,s);const y=o(p,{...s,gain:1}),u=o(p,{...s,gain:-1}),l=o(p,{...s,gain:1}),i=o(p,{...s,gain:-1});let m=null,g=!1,v=null;const b={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(x){y.channelCount=x,u.channelCount=x,d.channelCount=x,l.channelCount=x,f.channelCount=x,i.channelCount=x},get channelCountMode(){return d.channelCountMode},set channelCountMode(x){y.channelCountMode=x,u.channelCountMode=x,d.channelCountMode=x,l.channelCountMode=x,f.channelCountMode=x,i.channelCountMode=x},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(x){y.channelInterpretation=x,u.channelInterpretation=x,d.channelInterpretation=x,l.channelInterpretation=x,f.channelInterpretation=x,i.channelInterpretation=x},get context(){return d.context},get curve(){return v},set curve(x){if(x!==null&&x.length<2)throw r();if(x===null)d.curve=x,f.curve=x;else{const M=x.length,C=new Float32Array(M+2-M%2),E=new Float32Array(M+2-M%2);C[0]=x[0],E[0]=-x[M-1];const P=Math.ceil((M+1)/2),D=(M+1)/2-1;for(let I=1;I<P;I+=1){const U=I/P*D,G=Math.floor(U),W=Math.ceil(U);C[I]=G===W?x[G]:(1-(U-G))*x[G]+(1-(W-U))*x[W],E[I]=G===W?-x[M-1-G]:-((1-(U-G))*x[M-1-G])-(1-(W-U))*x[M-1-W]}C[P]=M%2===1?x[P-1]:(x[P-2]+x[P-1])/2,d.curve=C,f.curve=E}v=x,g&&(t(v)&&m===null?m=n(p,y):m!==null&&(m(),m=null))},get inputs(){return[y]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get oversample(){return d.oversample},set oversample(x){d.oversample=x,f.oversample=x},addEventListener(...x){return y.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return y.dispatchEvent(x[0])},removeEventListener(...x){return y.removeEventListener(x[0],x[1],x[2])}};c!==null&&(b.curve=c instanceof Float32Array?c:new Float32Array(c)),a!==b.oversample&&(b.oversample=a);const w=()=>{y.connect(d).connect(l),y.connect(u).connect(f).connect(i).connect(l),g=!0,t(v)&&(m=n(p,y))},S=()=>{y.disconnect(d),d.disconnect(l),y.disconnect(u),u.disconnect(f),f.disconnect(i),i.disconnect(l),g=!1,m!==null&&(m(),m=null)};return h(Ea(b,l),w,S)},Wn=()=>new DOMException("","NotSupportedError"),$S={numberOfChannels:1},ZS=(n,r,o,t,h)=>class extends n{constructor(c,a,s){let d;if(typeof c=="number"&&a!==void 0&&s!==void 0)d={length:a,numberOfChannels:c,sampleRate:s};else if(typeof c=="object")d=c;else throw new Error("The given parameters are not valid.");const{length:f,numberOfChannels:y,sampleRate:u}={...$S,...d},l=t(y,f,u);r(wl,()=>wl(l))||l.addEventListener("statechange",(()=>{let i=0;const m=g=>{this._state==="running"&&(i>0?(l.removeEventListener("statechange",m),g.stopImmediatePropagation(),this._waitForThePromiseToSettle(g)):i+=1)};return m})()),super(l,y),this._length=f,this._nativeOfflineAudioContext=l,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(o()):(this._state="running",h(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Wg(this)}))}_waitForThePromiseToSettle(c){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(c):setTimeout(()=>this._waitForThePromiseToSettle(c))}},QS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},KS=(n,r,o,t,h,p,c)=>class extends n{constructor(s,d){const f=h(s),y={...QS,...d},u=o(f,y),l=p(f),i=l?t():null,m=s.sampleRate/2;super(s,!1,u,i),this._detune=r(this,l,u.detune,153600,-153600),this._frequency=r(this,l,u.frequency,m,-m),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=i,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(s){const d=typeof s=="function"?c(this,s):null;this._nativeOscillatorNode.onended=d;const f=this._nativeOscillatorNode.onended;this._onended=f!==null&&f===d?s:f}get type(){return this._nativeOscillatorNode.type}set type(s){this._nativeOscillatorNode.type=s,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(s){this._nativeOscillatorNode.setPeriodicWave(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=s)}start(s=0){if(this._nativeOscillatorNode.start(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=s),this.context.state!=="closed"){va(this);const d=()=>{this._nativeOscillatorNode.removeEventListener("ended",d),vs(this)&&Xl(this)};this._nativeOscillatorNode.addEventListener("ended",d)}}stop(s=0){this._nativeOscillatorNode.stop(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=s)}},JS=(n,r,o,t,h)=>()=>{const p=new WeakMap;let c=null,a=null,s=null;const d=async(f,y)=>{let u=o(f);const l=Un(u,y);if(!l){const i={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,periodicWave:c===null?void 0:c,type:u.type};u=r(y,i),a!==null&&u.start(a),s!==null&&u.stop(s)}return p.set(y,u),l?(await n(y,f.detune,u.detune),await n(y,f.frequency,u.frequency)):(await t(y,f.detune,u.detune),await t(y,f.frequency,u.frequency)),await h(f,y,u),u};return{set periodicWave(f){c=f},set start(f){a=f},set stop(f){s=f},render(f,y){const u=p.get(y);return u!==void 0?Promise.resolve(u):d(f,y)}}},e4={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},t4=(n,r,o,t,h,p,c)=>class extends n{constructor(s,d){const f=h(s),y={...e4,...d},u=o(f,y),l=p(f),i=l?t():null;super(s,!1,u,i),this._nativePannerNode=u,this._orientationX=r(this,l,u.orientationX,Vn,qn),this._orientationY=r(this,l,u.orientationY,Vn,qn),this._orientationZ=r(this,l,u.orientationZ,Vn,qn),this._positionX=r(this,l,u.positionX,Vn,qn),this._positionY=r(this,l,u.positionY,Vn,qn),this._positionZ=r(this,l,u.positionZ,Vn,qn),c(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(s){this._nativePannerNode.coneInnerAngle=s}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(s){this._nativePannerNode.coneOuterAngle=s}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(s){this._nativePannerNode.coneOuterGain=s}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(s){this._nativePannerNode.distanceModel=s}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(s){this._nativePannerNode.maxDistance=s}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(s){this._nativePannerNode.panningModel=s}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(s){this._nativePannerNode.refDistance=s}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(s){this._nativePannerNode.rolloffFactor=s}},r4=(n,r,o,t,h,p,c,a,s,d)=>()=>{const f=new WeakMap;let y=null;const u=async(l,i)=>{let m=null,g=p(l);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},b={...v,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},w=Un(g,i);if("bufferSize"in g)m=t(i,{...v,gain:1});else if(!w){const S={...b,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=h(i,S)}if(f.set(i,m===null?g:m),m!==null){if(y===null){if(c===null)throw new Error("Missing the native OfflineAudioContext constructor.");const I=new c(6,l.context.length,i.sampleRate),U=r(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});U.connect(I.destination),y=(async()=>{const G=await Promise.all([l.orientationX,l.orientationY,l.orientationZ,l.positionX,l.positionY,l.positionZ].map(async(W,te)=>{const Q=o(I,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:te===0?1:0});return await a(I,W,Q.offset),Q}));for(let W=0;W<6;W+=1)G[W].connect(U,0,W),G[W].start(0);return d(I)})()}const S=await y,x=t(i,{...v,gain:1});await s(l,i,x);const M=[];for(let I=0;I<S.numberOfChannels;I+=1)M.push(S.getChannelData(I));let C=[M[0][0],M[1][0],M[2][0]],E=[M[3][0],M[4][0],M[5][0]],P=t(i,{...v,gain:1}),D=h(i,{...b,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:E[0],positionY:E[1],positionZ:E[2]});x.connect(P).connect(D.inputs[0]),D.connect(m);for(let I=128;I<S.length;I+=128){const U=[M[0][I],M[1][I],M[2][I]],G=[M[3][I],M[4][I],M[5][I]];if(U.some((W,te)=>W!==C[te])||G.some((W,te)=>W!==E[te])){C=U,E=G;const W=I/i.sampleRate;P.gain.setValueAtTime(0,W),P=t(i,{...v,gain:0}),D=h(i,{...b,orientationX:C[0],orientationY:C[1],orientationZ:C[2],positionX:E[0],positionY:E[1],positionZ:E[2]}),P.gain.setValueAtTime(1,W),x.connect(P).connect(D.inputs[0]),D.connect(m)}}return m}return w?(await n(i,l.orientationX,g.orientationX),await n(i,l.orientationY,g.orientationY),await n(i,l.orientationZ,g.orientationZ),await n(i,l.positionX,g.positionX),await n(i,l.positionY,g.positionY),await n(i,l.positionZ,g.positionZ)):(await a(i,l.orientationX,g.orientationX),await a(i,l.orientationY,g.orientationY),await a(i,l.orientationZ,g.orientationZ),await a(i,l.positionX,g.positionX),await a(i,l.positionY,g.positionY),await a(i,l.positionZ,g.positionZ)),ja(g)?await s(l,i,g.inputs[0]):await s(l,i,g),g};return{render(l,i){const m=f.get(i);return m!==void 0?Promise.resolve(m):u(l,i)}}},n4={disableNormalization:!1},o4=(n,r,o,t)=>class tv{constructor(p,c){const a=r(p),s=t({...n4,...c}),d=n(a,s);return o.add(d),d}static[Symbol.hasInstance](p){return p!==null&&typeof p=="object"&&Object.getPrototypeOf(p)===tv.prototype||o.has(p)}},s4=(n,r)=>(o,t,h)=>(n(t).replay(h),r(t,o,h)),i4=(n,r,o)=>async(t,h,p)=>{const c=n(t);await Promise.all(c.activeInputs.map((a,s)=>Array.from(a).map(async([d,f])=>{const u=await r(d).render(d,h),l=t.context.destination;!o(d)&&(t!==l||!o(t))&&u.connect(p,f,s)})).reduce((a,s)=>[...a,...s],[]))},a4=(n,r,o)=>async(t,h,p)=>{const c=r(t);await Promise.all(Array.from(c.activeInputs).map(async([a,s])=>{const f=await n(a).render(a,h);o(a)||f.connect(p,s)}))},l4=(n,r,o,t)=>h=>n(wl,()=>wl(h))?Promise.resolve(n(t,t)).then(p=>{if(!p){const c=o(h,512,0,1);h.oncomplete=()=>{c.onaudioprocess=null,c.disconnect()},c.onaudioprocess=()=>h.currentTime,c.connect(h.destination)}return h.startRendering()}):new Promise(p=>{const c=r(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});h.oncomplete=a=>{c.disconnect(),p(a.renderedBuffer)},c.connect(h.destination),h.startRendering()}),u4=n=>(r,o)=>{n.set(r,o)},c4=n=>(r,o)=>n.set(r,o),d4=(n,r,o,t,h,p,c,a)=>(s,d)=>o(s).render(s,d).then(()=>Promise.all(Array.from(t(d)).map(f=>o(f).render(f,d)))).then(()=>h(d)).then(f=>(typeof f.copyFromChannel!="function"?(c(f),Pp(f)):r(p,()=>p(f))||a(f),n.add(f),f)),h4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},f4=(n,r,o,t,h,p)=>class extends n{constructor(a,s){const d=h(a),f={...h4,...s},y=o(d,f),u=p(d),l=u?t():null;super(a,!1,y,l),this._pan=r(this,u,y.pan)}get pan(){return this._pan}},p4=(n,r,o,t,h)=>()=>{const p=new WeakMap,c=async(a,s)=>{let d=o(a);const f=Un(d,s);if(!f){const y={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,pan:d.pan.value};d=r(s,y)}return p.set(s,d),f?await n(s,a.pan,d.pan):await t(s,a.pan,d.pan),ja(d)?await h(a,s,d.inputs[0]):await h(a,s,d),d};return{render(a,s){const d=p.get(s);return d!==void 0?Promise.resolve(d):c(a,s)}}},m4=n=>()=>{if(n===null)return!1;try{new n({length:1,sampleRate:44100})}catch{return!1}return!0},y4=(n,r)=>async()=>{if(n===null)return!0;if(r===null)return!1;const o=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),t=new r(1,128,44100),h=URL.createObjectURL(o);let p=!1,c=!1;try{await t.audioWorklet.addModule(h);const a=new n(t,"a",{numberOfOutputs:0}),s=t.createOscillator();a.port.onmessage=()=>p=!0,a.onprocessorerror=()=>c=!0,s.connect(a),s.start(0),await t.startRendering()}catch{}finally{URL.revokeObjectURL(h)}return p&&!c},g4=(n,r)=>()=>{if(r===null)return Promise.resolve(!1);const o=new r(1,1,44100),t=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(h=>{o.oncomplete=()=>{t.disconnect(),h(o.currentTime!==0)},o.startRendering()})},v4=()=>new DOMException("","UnknownError"),_4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},b4=(n,r,o,t,h,p,c)=>class extends n{constructor(s,d){const f=h(s),y={..._4,...d},u=o(f,y),i=p(f)?t():null;super(s,!0,u,i),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,c(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(s){if(s===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(s.length<2)throw r();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=s}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(s){this._nativeWaveShaperNode.oversample=s}},x4=(n,r,o)=>()=>{const t=new WeakMap,h=async(p,c)=>{let a=r(p);if(!Un(a,c)){const d={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=n(c,d)}return t.set(c,a),ja(a)?await o(p,c,a.inputs[0]):await o(p,c,a),a};return{render(p,c){const a=t.get(c);return a!==void 0?Promise.resolve(a):h(p,c)}}},w4=()=>typeof window>"u"?null:window,S4=(n,r)=>o=>{o.copyFromChannel=(t,h,p=0)=>{const c=n(p),a=n(h);if(a>=o.numberOfChannels)throw r();const s=o.length,d=o.getChannelData(a),f=t.length;for(let y=c<0?-c:0;y+c<s&&y<f;y+=1)t[y]=d[y+c]},o.copyToChannel=(t,h,p=0)=>{const c=n(p),a=n(h);if(a>=o.numberOfChannels)throw r();const s=o.length,d=o.getChannelData(a),f=t.length;for(let y=c<0?-c:0;y+c<s&&y<f;y+=1)d[y+c]=t[y]}},T4=n=>r=>{r.copyFromChannel=(o=>(t,h,p=0)=>{const c=n(p),a=n(h);if(c<r.length)return o.call(r,t,a,c)})(r.copyFromChannel),r.copyToChannel=(o=>(t,h,p=0)=>{const c=n(p),a=n(h);if(c<r.length)return o.call(r,t,a,c)})(r.copyToChannel)},j4=n=>(r,o)=>{const t=o.createBuffer(1,1,44100);r.buffer===null&&(r.buffer=t),n(r,"buffer",h=>()=>{const p=h.call(r);return p===t?null:p},h=>p=>h.call(r,p===null?t:p))},E4=(n,r)=>(o,t)=>{t.channelCount=1,t.channelCountMode="explicit",Object.defineProperty(t,"channelCount",{get:()=>1,set:()=>{throw n()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:()=>{throw n()}});const h=o.createBufferSource();r(t,()=>{const a=t.numberOfInputs;for(let s=0;s<a;s+=1)h.connect(t,0,s)},()=>h.disconnect(t))},rv=(n,r,o)=>n.copyFromChannel===void 0?n.getChannelData(o)[0]:(n.copyFromChannel(r,o),r[0]),nv=n=>{if(n===null)return!1;const r=n.length;return r%2!==0?n[Math.floor(r/2)]!==0:n[r/2-1]+n[r/2]!==0},Kl=(n,r,o,t)=>{let h=n;for(;!h.hasOwnProperty(r);)h=Object.getPrototypeOf(h);const{get:p,set:c}=Object.getOwnPropertyDescriptor(h,r);Object.defineProperty(n,r,{get:o(p),set:t(c)})},C4=n=>({...n,outputChannelCount:n.outputChannelCount!==void 0?n.outputChannelCount:n.numberOfInputs===1&&n.numberOfOutputs===1?[n.channelCount]:Array.from({length:n.numberOfOutputs},()=>1)}),M4=n=>({...n,channelCount:n.numberOfOutputs}),A4=n=>{const{imag:r,real:o}=n;return r===void 0?o===void 0?{...n,imag:[0,0],real:[0,0]}:{...n,imag:Array.from(o,()=>0),real:o}:o===void 0?{...n,imag:r,real:Array.from(r,()=>0)}:{...n,imag:r,real:o}},ov=(n,r,o)=>{try{n.setValueAtTime(r,o)}catch(t){if(t.code!==9)throw t;ov(n,r,o+1e-7)}},k4=n=>{const r=n.createBufferSource();r.start();try{r.start()}catch{return!0}return!1},R4=n=>{const r=n.createBufferSource(),o=n.createBuffer(1,1,44100);r.buffer=o;try{r.start(0,1)}catch{return!1}return!0},O4=n=>{const r=n.createBufferSource();r.start();try{r.stop()}catch{return!1}return!0},Bp=n=>{const r=n.createOscillator();try{r.start(-1)}catch(o){return o instanceof RangeError}return!1},sv=n=>{const r=n.createBuffer(1,1,44100),o=n.createBufferSource();o.buffer=r,o.start(),o.stop();try{return o.stop(),!0}catch{return!1}},Fp=n=>{const r=n.createOscillator();try{r.stop(-1)}catch(o){return o instanceof RangeError}return!1},P4=n=>{const{port1:r,port2:o}=new MessageChannel;try{r.postMessage(n)}finally{r.close(),o.close()}},I4=n=>{n.start=(r=>(o=0,t=0,h)=>{const p=n.buffer,c=p===null?t:Math.min(p.duration,t);p!==null&&c>p.duration-.5/n.context.sampleRate?r.call(n,o,0,0):r.call(n,o,c,h)})(n.start)},iv=(n,r)=>{const o=r.createGain();n.connect(o);const t=(h=>()=>{h.call(n,o),n.removeEventListener("ended",t)})(n.disconnect);n.addEventListener("ended",t),Ea(n,o),n.stop=(h=>{let p=!1;return(c=0)=>{if(p)try{h.call(n,c)}catch{o.gain.setValueAtTime(0,c)}else h.call(n,c),p=!0}})(n.stop)},Ca=(n,r)=>o=>{const t={value:n};return Object.defineProperties(o,{currentTarget:t,target:t}),typeof r=="function"?r.call(n,o):r.handleEvent.call(n,o)},D4=tw(Oi),L4=aw(Oi),N4=_3(Td),av=new WeakMap,B4=N3(av),No=$w(new Map,new WeakMap),Yo=w4(),lv=fS(No,Qo),Up=L3(Gn),kn=i4(Gn,Up,Ei),F4=hw(lv,Lr,kn),Pr=U3(Sd),Ss=US(Yo),jr=nS(Ss),uv=new WeakMap,cv=A3(Ca),Jl=gS(Yo),Vp=J3(Jl),Gp=eS(Yo),dv=tS(Yo),Sl=_S(Yo),on=Nw(rw(Bg),iw(D4,L4,wc,N4,Sc,Gn,B4,ql,Lr,Oi,vs,Ei,Vu),No,Y3(df,Sc,Gn,Lr,xl,vs),Qo,jd,Wn,m3(wc,df,Gn,Lr,xl,Pr,vs,jr),w3(uv,Gn,Do),cv,Pr,Vp,Gp,dv,jr,Sl),U4=dw(on,F4,Qo,lv,Pr,jr),zp=new WeakSet,$m=pS(Yo),hv=l3(new Uint32Array(1)),Hp=S4(hv,Qo),Wp=T4(hv),V4=pw(zp,No,Wn,$m,Ss,m4($m),Hp,Wp),Ed=lw(Qn),fv=a4(Up,Yl,Ei),Ko=r3(fv),Ma=yS(Ed,No,k4,R4,O4,Bp,sv,Fp,I4,j4(Kl),iv),Jo=s4(B3(Yl),fv),G4=gw(Ko,Ma,Lr,Jo,kn),Bo=Bw(nw(Fg),uv,Op,Fw,$x,Zx,Qx,Kx,Jx,lf,Lg,Jl,ov),z4=yw(on,G4,Bo,wn,Ma,Pr,jr,Ca),H4=Ew(on,Cw,Qo,wn,vS(Qn,Kl),Pr,jr,kn),W4=Yw(Ko,Jg,Lr,Jo,kn),Pi=c4(av),q4=Xw(on,Bo,W4,jd,Jg,Pr,jr,Pi),oi=dS(Oi,Gp),X4=E4(wn,oi),si=ES(Jl,X4),Y4=Kw(si,Lr,kn),$4=Qw(on,Y4,si,Pr,jr),Z4=t3(Zl,Lr,kn),Q4=e3(on,Z4,Zl,Pr,jr,M4),K4=AS(Ed,Ma,Qn,oi),Aa=MS(Ed,No,K4,Bp,Fp),J4=a3(Ko,Aa,Lr,Jo,kn),e5=i3(on,Bo,J4,Aa,Pr,jr,Ca),pv=kS(Wn,Kl),t5=d3(pv,Lr,kn),r5=c3(on,t5,pv,Pr,jr,Pi),n5=v3(Ko,ev,Lr,Jo,kn),o5=g3(on,Bo,n5,ev,Pr,jr,Pi),mv=RS(Wn),s5=E3(Ko,mv,Lr,Jo,kn),i5=j3(on,Bo,s5,mv,Wn,Pr,jr,Pi),a5=I3(Ko,Qn,Lr,Jo,kn),l5=P3(on,Bo,a5,Qn,Pr,jr),u5=DS(jd,wn,Ql,Wn),Cd=l4(No,Qn,Ql,g4(Qn,Ss)),c5=X3(Ma,Lr,Ss,kn,Cd),d5=OS(u5),h5=W3(on,d5,c5,Pr,jr,Pi),f5=Mw(Bo,si,Aa,Ql,Wn,rv,jr,Kl),yv=new WeakMap,p5=cS(H4,f5,cv,jr,yv,Ca),gv=VS(Ed,No,Bp,sv,Fp,iv),m5=JS(Ko,gv,Lr,Jo,kn),y5=KS(on,Bo,gv,m5,Pr,jr,Ca),vv=o3(Ma),g5=YS(vv,wn,Qn,nv,oi),Md=XS(vv,wn,g5,nv,oi,Jl,Kl),v5=zS(wc,wn,si,Qn,Ql,Md,Wn,Sc,rv,oi),_v=GS(v5),_5=r4(Ko,si,Aa,Qn,_v,Lr,Ss,Jo,kn,Cd),b5=t4(on,Bo,_v,_5,Pr,jr,Pi),x5=HS(Qo),w5=o4(x5,Pr,new WeakSet,A4),S5=qS(si,Zl,Qn,Md,Wn,oi),bv=WS(S5,Wn),T5=p4(Ko,bv,Lr,Jo,kn),j5=f4(on,Bo,bv,T5,Pr,jr),E5=x4(Md,Lr,kn),C5=b4(on,wn,Md,E5,Pr,jr,Pi),xv=oS(Yo),qp=k3(Yo),wv=new WeakMap,M5=V3(wv,Ss),A5=xv?sw(No,Wn,M3(Yo),qp,R3(ew),Pr,M5,jr,Sl,new WeakMap,new WeakMap,y4(Sl,Ss),Yo):void 0,k5=rS(Vp,jr),R5=p3(zp,No,f3,C3,new WeakSet,Pr,k5,bc,wl,Hp,Wp),Sv=Ww(A5,U4,V4,z4,q4,$4,Q4,e5,r5,R5,o5,i5,l5,h5,p5,y5,b5,w5,j5,C5),O5=sS(on,LS,Pr,jr),P5=aS(on,NS,Pr,jr),I5=lS(on,BS,Pr,jr),D5=FS(wn,jr),L5=uS(on,D5,Pr),N5=jw(Sv,wn,Wn,v4,O5,P5,I5,L5,Jl),Xp=G3(yv),B5=uw(Xp),Tv=n3(Qo),F5=b3(Xp),jv=S3(Qo),Ev=new WeakMap,U5=D3(Ev,Do),V5=jS(Tv,Qo,wn,si,Zl,Aa,Qn,Ql,Wn,jv,qp,U5,oi),G5=xS(wn,V5,Qn,Wn,oi),z5=Hw(Ko,Tv,Ma,si,Zl,Aa,Qn,F5,jv,qp,Lr,Sl,Ss,Jo,kn,Cd),H5=F3(wv),W5=u4(Ev),Zm=xv?Vw(B5,on,Bo,z5,G5,Gn,H5,Pr,jr,Sl,C4,W5,P4,Ca):void 0,q5=h3(Wn,Ss),X5=d4(zp,No,Up,Xp,Cd,bc,Hp,Wp),Y5=ZS(Sv,No,wn,q5,X5),$5=$3(Sd,Vp),Z5=Z3(Rp,Gp),Q5=Q3(Op,dv),K5=K3(Sd,jr);function nr(n,r){if(!n)throw new Error(r)}function bs(n,r,o=1/0){if(!(r<=n&&n<=o))throw new RangeError(`Value must be within [${r}, ${o}], got: ${n}`)}function Cv(n){!n.isOffline&&n.state!=="running"&&Av('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Mv=console;function J5(...n){Mv.log(...n)}function Av(...n){Mv.warn(...n)}function bo(n){return typeof n>"u"}function hr(n){return!bo(n)}function eT(n){return typeof n=="function"}function Js(n){return typeof n=="number"}function xi(n){return Object.prototype.toString.call(n)==="[object Object]"&&n.constructor===Object}function tT(n){return typeof n=="boolean"}function Oo(n){return Array.isArray(n)}function $o(n){return typeof n=="string"}function _u(n){return $o(n)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(n)}function rT(n){return new N5(n)}function nT(n,r,o){return new Y5(n,r,o)}const _s=typeof self=="object"?self:null,oT=_s&&(_s.hasOwnProperty("AudioContext")||_s.hasOwnProperty("webkitAudioContext"));function sT(n,r,o){return nr(hr(Zm),"This node only works in a secure context (https or localhost)"),new Zm(n,r,o)}function Fo(n,r,o,t){var h=arguments.length,p=h<3?r:t===null?t=Object.getOwnPropertyDescriptor(r,o):t,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")p=Reflect.decorate(n,r,o,t);else for(var a=n.length-1;a>=0;a--)(c=n[a])&&(p=(h<3?c(p):h>3?c(r,o,p):c(r,o))||p);return h>3&&p&&Object.defineProperty(r,o,p),p}function Vr(n,r,o,t){function h(p){return p instanceof o?p:new o(function(c){c(p)})}return new(o||(o=Promise))(function(p,c){function a(f){try{d(t.next(f))}catch(y){c(y)}}function s(f){try{d(t.throw(f))}catch(y){c(y)}}function d(f){f.done?p(f.value):h(f.value).then(a,s)}d((t=t.apply(n,r||[])).next())})}class iT{constructor(r,o,t){this._callback=r,this._type=o,this._updateInterval=t,this._createClock()}_createWorker(){const r=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),o=URL.createObjectURL(r),t=new Worker(o);t.onmessage=this._callback.bind(this),this._worker=t}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(r){this._updateInterval=Math.max(r,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(r*1e3,1))}get type(){return this._type}set type(r){this._disposeClock(),this._type=r,this._createClock()}dispose(){this._disposeClock()}}function Ci(n){return Q5(n)}function $s(n){return Z5(n)}function Gu(n){return K5(n)}function Hi(n){return $5(n)}function kv(n){return n instanceof AudioBuffer}function aT(n,r){return n==="value"||Ci(r)||$s(r)||kv(r)}function aa(n,...r){if(!r.length)return n;const o=r.shift();if(xi(n)&&xi(o))for(const t in o)aT(t,o[t])?n[t]=o[t]:xi(o[t])?(n[t]||Object.assign(n,{[t]:{}}),aa(n[t],o[t])):Object.assign(n,{[t]:o[t]});return aa(n,...r)}function lT(n,r){return n.length===r.length&&n.every((o,t)=>r[t]===o)}function Ft(n,r,o=[],t){const h={},p=Array.from(r);if(xi(p[0])&&t&&!Reflect.has(p[0],t)&&(Object.keys(p[0]).some(a=>Reflect.has(n,a))||(aa(h,{[t]:p[0]}),o.splice(o.indexOf(t),1),p.shift())),p.length===1&&xi(p[0]))aa(h,p[0]);else for(let c=0;c<o.length;c++)hr(p[c])&&(h[o[c]]=p[c]);return aa(n,h)}function uT(n){return n.constructor.getDefaults()}function la(n,r){return bo(n)?r:n}function Qm(n,r){return r.forEach(o=>{Reflect.has(n,o)&&delete n[o]}),n}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class Ts{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...r){(this.debug||_s&&this.toString()===_s.TONE_DEBUG_CLASS)&&J5(this,...r)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ts.version=Dg;const Yp=1e-6;function Cc(n,r){return n>r+Yp}function yf(n,r){return Cc(n,r)||ko(n,r)}function Rv(n,r){return n+Yp<r}function ko(n,r){return Math.abs(n-r)<Yp}function cT(n,r,o){return Math.max(Math.min(n,o),r)}class es extends Ts{constructor(){super(),this.name="Timeline",this._timeline=[];const r=Ft(es.getDefaults(),arguments,["memory"]);this.memory=r.memory,this.increasing=r.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(r){if(nr(Reflect.has(r,"time"),"Timeline: events must have a time attribute"),r.time=r.time.valueOf(),this.increasing&&this.length){const o=this._timeline[this.length-1];nr(yf(r.time,o.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(r)}else{const o=this._search(r.time);this._timeline.splice(o+1,0,r)}if(this.length>this.memory){const o=this.length-this.memory;this._timeline.splice(0,o)}return this}remove(r){const o=this._timeline.indexOf(r);return o!==-1&&this._timeline.splice(o,1),this}get(r,o="time"){const t=this._search(r,o);return t!==-1?this._timeline[t]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(r,o="time"){const t=this._search(r,o);return t+1<this._timeline.length?this._timeline[t+1]:null}getBefore(r){const o=this._timeline.length;if(o>0&&this._timeline[o-1].time<r)return this._timeline[o-1];const t=this._search(r);return t-1>=0?this._timeline[t-1]:null}cancel(r){if(this._timeline.length>1){let o=this._search(r);if(o>=0)if(ko(this._timeline[o].time,r)){for(let t=o;t>=0&&ko(this._timeline[t].time,r);t--)o=t;this._timeline=this._timeline.slice(0,o)}else this._timeline=this._timeline.slice(0,o+1);else this._timeline=[]}else this._timeline.length===1&&yf(this._timeline[0].time,r)&&(this._timeline=[]);return this}cancelBefore(r){const o=this._search(r);return o>=0&&(this._timeline=this._timeline.slice(o+1)),this}previousEvent(r){const o=this._timeline.indexOf(r);return o>0?this._timeline[o-1]:null}_search(r,o="time"){if(this._timeline.length===0)return-1;let t=0;const h=this._timeline.length;let p=h;if(h>0&&this._timeline[h-1][o]<=r)return h-1;for(;t<p;){let c=Math.floor(t+(p-t)/2);const a=this._timeline[c],s=this._timeline[c+1];if(ko(a[o],r)){for(let d=c;d<this._timeline.length;d++){const f=this._timeline[d];if(ko(f[o],r))c=d;else break}return c}else{if(Rv(a[o],r)&&Cc(s[o],r))return c;Cc(a[o],r)?p=c:t=c+1}}return-1}_iterate(r,o=0,t=this._timeline.length-1){this._timeline.slice(o,t+1).forEach(r)}forEach(r){return this._iterate(r),this}forEachBefore(r,o){const t=this._search(r);return t!==-1&&this._iterate(o,0,t),this}forEachAfter(r,o){const t=this._search(r);return this._iterate(o,t+1),this}forEachBetween(r,o,t){let h=this._search(r),p=this._search(o);return h!==-1&&p!==-1?(this._timeline[h].time!==r&&(h+=1),this._timeline[p].time===o&&(p-=1),this._iterate(t,h,p)):h===-1&&this._iterate(t,0,p),this}forEachFrom(r,o){let t=this._search(r);for(;t>=0&&this._timeline[t].time>=r;)t--;return this._iterate(o,t+1),this}forEachAtTime(r,o){const t=this._search(r);if(t!==-1&&ko(this._timeline[t].time,r)){let h=t;for(let p=t;p>=0&&ko(this._timeline[p].time,r);p--)h=p;this._iterate(p=>{o(p)},h,t)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Ov=[];function Ad(n){Ov.push(n)}function dT(n){Ov.forEach(r=>r(n))}const Pv=[];function kd(n){Pv.push(n)}function hT(n){Pv.forEach(r=>r(n))}class eu extends Ts{constructor(){super(...arguments),this.name="Emitter"}on(r,o){return r.split(/\W+/).forEach(h=>{bo(this._events)&&(this._events={}),this._events.hasOwnProperty(h)||(this._events[h]=[]),this._events[h].push(o)}),this}once(r,o){const t=(...h)=>{o(...h),this.off(r,t)};return this.on(r,t),this}off(r,o){return r.split(/\W+/).forEach(h=>{if(bo(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(bo(o))this._events[r]=[];else{const p=this._events[r];for(let c=p.length-1;c>=0;c--)p[c]===o&&p.splice(c,1)}}),this}emit(r,...o){if(this._events&&this._events.hasOwnProperty(r)){const t=this._events[r].slice(0);for(let h=0,p=t.length;h<p;h++)t[h].apply(this,o)}return this}static mixin(r){["on","once","off","emit"].forEach(o=>{const t=Object.getOwnPropertyDescriptor(eu.prototype,o);Object.defineProperty(r.prototype,o,t)})}dispose(){return super.dispose(),this._events=void 0,this}}class Iv extends eu{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class tu extends Iv{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new es,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const r=Ft(tu.getDefaults(),arguments,["context"]);r.context?this._context=r.context:this._context=rT({latencyHint:r.latencyHint}),this._ticker=new iT(this.emit.bind(this,"tick"),r.clockSource,r.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(r.latencyHint),this.lookAhead=r.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(dT(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(r,o,t){return this._context.createBuffer(r,o,t)}createChannelMerger(r){return this._context.createChannelMerger(r)}createChannelSplitter(r){return this._context.createChannelSplitter(r)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(r){return this._context.createDelay(r)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(r,o){return this._context.createIIRFilter(r,o)}createPanner(){return this._context.createPanner()}createPeriodicWave(r,o,t){return this._context.createPeriodicWave(r,o,t)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(r){return nr(Hi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(r)}createMediaElementSource(r){return nr(Hi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(r)}createMediaStreamDestination(){return nr(Hi(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(r){return this._context.decodeAudioData(r)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(r){nr(!this._initialized,"The listener cannot be set after initialization."),this._listener=r}get transport(){return this.initialize(),this._transport}set transport(r){nr(!this._initialized,"The transport cannot be set after initialization."),this._transport=r}get draw(){return this.initialize(),this._draw}set draw(r){nr(!this._initialized,"Draw cannot be set after initialization."),this._draw=r}get destination(){return this.initialize(),this._destination}set destination(r){nr(!this._initialized,"The destination cannot be set after initialization."),this._destination=r}createAudioWorkletNode(r,o){return sT(this.rawContext,r,o)}addAudioWorkletModule(r,o){return Vr(this,void 0,void 0,function*(){nr(hr(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(o)||this._workletModules.set(o,this.rawContext.audioWorklet.addModule(r)),yield this._workletModules.get(o)})}workletsAreReady(){return Vr(this,void 0,void 0,function*(){const r=[];this._workletModules.forEach(o=>r.push(o)),yield Promise.all(r)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(r){this._ticker.updateInterval=r}get clockSource(){return this._ticker.type}set clockSource(r){this._ticker.type=r}get latencyHint(){return this._latencyHint}_setLatencyHint(r){let o=0;if(this._latencyHint=r,$o(r))switch(r){case"interactive":o=.1;break;case"playback":o=.5;break;case"balanced":o=.25;break}this.lookAhead=o,this.updateInterval=o/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Hi(this._context)?this._context.resume():Promise.resolve()}close(){return Vr(this,void 0,void 0,function*(){Hi(this._context)&&(yield this._context.close()),this._initialized&&hT(this)})}getConstant(r){if(this._constants.has(r))return this._constants.get(r);{const o=this._context.createBuffer(1,128,this._context.sampleRate),t=o.getChannelData(0);for(let p=0;p<t.length;p++)t[p]=r;const h=this._context.createBufferSource();return h.channelCount=1,h.channelCountMode="explicit",h.buffer=o,h.loop=!0,h.start(0),this._constants.set(r,h),h}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(r=>this._constants[r].disconnect()),this}_timeoutLoop(){const r=this.now();let o=this._timeouts.peek();for(;this._timeouts.length&&o&&o.time<=r;)o.callback(),this._timeouts.shift(),o=this._timeouts.peek()}setTimeout(r,o){this._timeoutIds++;const t=this.now();return this._timeouts.add({callback:r,id:this._timeoutIds,time:t+o}),this._timeoutIds}clearTimeout(r){return this._timeouts.forEach(o=>{o.id===r&&this._timeouts.remove(o)}),this}clearInterval(r){return this.clearTimeout(r)}setInterval(r,o){const t=++this._timeoutIds,h=()=>{const p=this.now();this._timeouts.add({callback:()=>{r(),h()},id:t,time:p+o})};return h(),t}}class fT extends Iv{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(r,o,t){return{}}createChannelMerger(r){return{}}createChannelSplitter(r){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(r){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(r,o){return{}}createPanner(){return{}}createPeriodicWave(r,o,t){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(r){return{}}createMediaElementSource(r){return{}}createMediaStreamDestination(){return{}}decodeAudioData(r){return Promise.resolve({})}createAudioWorkletNode(r,o){return{}}get rawContext(){return{}}addAudioWorkletModule(r,o){return Vr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(r,o){return 0}clearTimeout(r){return this}setInterval(r,o){return 0}clearInterval(r){return this}getConstant(r){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(r){}get destination(){return{}}set destination(r){}now(){return 0}immediate(){return 0}}function Wr(n,r){Oo(r)?r.forEach(o=>Wr(n,o)):Object.defineProperty(n,r,{enumerable:!0,writable:!1})}function Dv(n,r){Oo(r)?r.forEach(o=>Dv(n,o)):Object.defineProperty(n,r,{writable:!0})}const kr=()=>{};class Or extends Ts{constructor(){super(),this.name="ToneAudioBuffer",this.onload=kr;const r=Ft(Or.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=r.reverse,this.onload=r.onload,r.url&&kv(r.url)||r.url instanceof Or?this.set(r.url):$o(r.url)&&this.load(r.url).catch(r.onerror)}static getDefaults(){return{onerror:kr,onload:kr,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:yo().sampleRate}set(r){return r instanceof Or?r.loaded?this._buffer=r.get():r.onload=()=>{this.set(r),this.onload(this)}:this._buffer=r,this._reversed&&this._reverse(),this}get(){return this._buffer}load(r){return Vr(this,void 0,void 0,function*(){const o=Or.load(r).then(t=>{this.set(t),this.onload(this)});Or.downloads.push(o);try{yield o}finally{const t=Or.downloads.indexOf(o);Or.downloads.splice(t,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(r){const o=Oo(r)&&r[0].length>0,t=o?r.length:1,h=o?r[0].length:r.length,p=yo(),c=p.createBuffer(t,h,p.sampleRate),a=!o&&t===1?[r]:r;for(let s=0;s<t;s++)c.copyToChannel(a[s],s);return this._buffer=c,this}toMono(r){if(Js(r))this.fromArray(this.toArray(r));else{let o=new Float32Array(this.length);const t=this.numberOfChannels;for(let h=0;h<t;h++){const p=this.toArray(h);for(let c=0;c<p.length;c++)o[c]+=p[c]}o=o.map(h=>h/t),this.fromArray(o)}return this}toArray(r){if(Js(r))return this.getChannelData(r);if(this.numberOfChannels===1)return this.toArray(0);{const o=[];for(let t=0;t<this.numberOfChannels;t++)o[t]=this.getChannelData(t);return o}}getChannelData(r){return this._buffer?this._buffer.getChannelData(r):new Float32Array(0)}slice(r,o=this.duration){const t=Math.floor(r*this.sampleRate),h=Math.floor(o*this.sampleRate);nr(t<h,"The start time must be less than the end time");const p=h-t,c=yo().createBuffer(this.numberOfChannels,p,this.sampleRate);for(let a=0;a<this.numberOfChannels;a++)c.copyToChannel(this.getChannelData(a).subarray(t,h),a);return new Or(c)}_reverse(){if(this.loaded)for(let r=0;r<this.numberOfChannels;r++)this.getChannelData(r).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(r){this._reversed!==r&&(this._reversed=r,this._reverse())}static fromArray(r){return new Or().fromArray(r)}static fromUrl(r){return Vr(this,void 0,void 0,function*(){return yield new Or().load(r)})}static load(r){return Vr(this,void 0,void 0,function*(){const o=r.match(/\[([^\]\[]+\|.+)\]$/);if(o){const a=o[1].split("|");let s=a[0];for(const d of a)if(Or.supportsType(d)){s=d;break}r=r.replace(o[0],s)}const t=Or.baseUrl===""||Or.baseUrl.endsWith("/")?Or.baseUrl:Or.baseUrl+"/",h=yield fetch(t+r);if(!h.ok)throw new Error(`could not load url: ${r}`);const p=yield h.arrayBuffer();return yield yo().decodeAudioData(p)})}static supportsType(r){const o=r.split("."),t=o[o.length-1];return document.createElement("audio").canPlayType("audio/"+t)!==""}static loaded(){return Vr(this,void 0,void 0,function*(){for(yield Promise.resolve();Or.downloads.length;)yield Or.downloads[0]})}}Or.baseUrl="";Or.downloads=[];class $p extends tu{constructor(){super({clockSource:"offline",context:Gu(arguments[0])?arguments[0]:nT(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Gu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Gu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(r){return Vr(this,void 0,void 0,function*(){let o=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,o++;const t=Math.floor(this.sampleRate/128);r&&o%t===0&&(yield new Promise(h=>setTimeout(h,1)))}})}render(r=!0){return Vr(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(r);const o=yield this._context.startRendering();return new Or(o)})}close(){return Promise.resolve()}}const Lv=new fT;let al=Lv;function yo(){return al===Lv&&oT&&pT(new tu),al}function pT(n){Hi(n)?al=new tu(n):Gu(n)?al=new $p(n):al=n}if(_s&&!_s.TONE_SILENCE_LOGGING){const r=` * Tone.js v${Dg} * `;console.log(`%c${r}`,"background: #000; color: #fff")}function mT(n){return Math.pow(10,n/20)}function yT(n){return 20*(Math.log(n)/Math.LN10)}function Nv(n){return Math.pow(2,n/12)}let Rd=440;function gT(){return Rd}function vT(n){Rd=n}function gf(n){return Math.round(Bv(n))}function Bv(n){return 69+12*Math.log2(n/Rd)}function _T(n){return Rd*Math.pow(2,(n-69)/12)}class Zp extends Ts{constructor(r,o,t){super(),this.defaultUnits="s",this._val=o,this._units=t,this.context=r,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:r=>this._frequencyToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:r=>this._ticksToUnits(parseInt(r,10)),regexp:/^(\d+)i$/i},m:{method:r=>this._beatsToUnits(parseInt(r,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(r,o)=>{const t=parseInt(r,10),h=o==="."?1.5:1;return t===1?this._beatsToUnits(this._getTimeSignature())*h:this._beatsToUnits(4/t)*h},regexp:/^(\d+)n(\.?)$/i},number:{method:r=>this._expressions[this.defaultUnits].method.call(this,r),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:r=>this._secondsToUnits(parseFloat(r)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:r=>parseInt(r,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:r=>{const o=parseInt(r,10);return this._beatsToUnits(8/(Math.floor(o)*3))},regexp:/^(\d+)t$/i},tr:{method:(r,o,t)=>{let h=0;return r&&r!=="0"&&(h+=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),o&&o!=="0"&&(h+=this._beatsToUnits(parseFloat(o))),t&&t!=="0"&&(h+=this._beatsToUnits(parseFloat(t)/4)),h},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Zp&&this.fromType(this._val),bo(this._val))return this._noArg();if($o(this._val)&&bo(this._units)){for(const r in this._expressions)if(this._expressions[r].regexp.test(this._val.trim())){this._units=r;break}}else if(xi(this._val)){let r=0;for(const o in this._val)if(hr(this._val[o])){const t=this._val[o],h=new this.constructor(this.context,o).valueOf()*t;r+=h}return r}if(hr(this._units)){const r=this._expressions[this._units],o=this._val.toString().trim().match(r.regexp);return o?r.method.apply(this,o.slice(1)):r.method.call(this,this._val)}else return $o(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(r){return 1/r}_beatsToUnits(r){return 60/this._getBpm()*r}_secondsToUnits(r){return r}_ticksToUnits(r){return r*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(r){switch(this._units=void 0,this.defaultUnits){case"s":this._val=r.toSeconds();break;case"i":this._val=r.toTicks();break;case"hz":this._val=r.toFrequency();break;case"midi":this._val=r.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ro extends Zp{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:r=>this._now()+new this.constructor(this.context,r).valueOf(),regexp:/^\+(.+)/},quantize:{method:r=>{const o=new Ro(this.context,r).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(o))},regexp:/^@(.+)/}})}quantize(r,o=1){const t=new this.constructor(this.context,r).valueOf(),h=this.valueOf(),a=Math.round(h/t)*t-h;return h+a*o}toNotation(){const r=this.toSeconds(),o=["1m"];for(let p=1;p<9;p++){const c=Math.pow(2,p);o.push(c+"n."),o.push(c+"n"),o.push(c+"t")}o.push("0");let t=o[0],h=new Ro(this.context,o[0]).toSeconds();return o.forEach(p=>{const c=new Ro(this.context,p).toSeconds();Math.abs(c-r)<Math.abs(h-r)&&(t=p,h=c)}),t}toBarsBeatsSixteenths(){const r=this._beatsToUnits(1);let o=this.valueOf()/r;o=parseFloat(o.toFixed(4));const t=Math.floor(o/this._getTimeSignature());let h=o%1*4;o=Math.floor(o)%this._getTimeSignature();const p=h.toString();return p.length>3&&(h=parseFloat(parseFloat(p).toFixed(3))),[t,o,h].join(":")}toTicks(){const r=this._beatsToUnits(1),o=this.valueOf()/r;return Math.round(o*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return gf(this.toFrequency())}_now(){return this.context.now()}}class go extends Ro{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return gT()}static set A4(r){vT(r)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(r){return this.defaultUnits==="midi"?r:go.mtof(r)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(r,o){const h=bT[r.toLowerCase()]+(parseInt(o,10)+1)*12;return this.defaultUnits==="midi"?h:go.mtof(h)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(r,o,t){let h=1;return r&&r!=="0"&&(h*=this._beatsToUnits(this._getTimeSignature()*parseFloat(r))),o&&o!=="0"&&(h*=this._beatsToUnits(parseFloat(o))),t&&t!=="0"&&(h*=this._beatsToUnits(parseFloat(t)/4)),h}}})}transpose(r){return new go(this.context,this.valueOf()*Nv(r))}harmonize(r){return r.map(o=>this.transpose(o))}toMidi(){return gf(this.valueOf())}toNote(){const r=this.toFrequency(),o=Math.log2(r/go.A4);let t=Math.round(12*o)+57;const h=Math.floor(t/12);return h<0&&(t+=-12*h),xT[t%12]+h.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const r=this._beatsToUnits(1),o=this.valueOf()/r;return Math.floor(o*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(r){return r}_ticksToUnits(r){return 1/(r*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(r){return 1/super._beatsToUnits(r)}_secondsToUnits(r){return 1/r}static mtof(r){return _T(r)}static ftom(r){return gf(r)}}const bT={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},xT=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ll extends Ro{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class $n extends Ts{constructor(){super();const r=Ft($n.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=r.context}static getDefaults(){return{context:yo()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(r){return new Ro(this.context,r).toSeconds()}toFrequency(r){return new go(this.context,r).toFrequency()}toTicks(r){return new ll(this.context,r).toTicks()}_getPartialProperties(r){const o=this.get();return Object.keys(o).forEach(t=>{bo(r[t])&&delete o[t]}),o}get(){const r=uT(this);return Object.keys(r).forEach(o=>{if(Reflect.has(this,o)){const t=this[o];hr(t)&&hr(t.value)&&hr(t.setValueAtTime)?r[o]=t.value:t instanceof $n?r[o]=t._getPartialProperties(r[o]):Oo(t)||Js(t)||$o(t)||tT(t)?r[o]=t:delete r[o]}}),r}set(r){return Object.keys(r).forEach(o=>{Reflect.has(this,o)&&hr(this[o])&&(this[o]&&hr(this[o].value)&&hr(this[o].setValueAtTime)?this[o].value!==r[o]&&(this[o].value=r[o]):this[o]instanceof $n?this[o].set(r[o]):this[o]=r[o])}),this}}class Qp extends es{constructor(r="stopped"){super(),this.name="StateTimeline",this._initial=r,this.setStateAtTime(this._initial,0)}getValueAtTime(r){const o=this.get(r);return o!==null?o.state:this._initial}setStateAtTime(r,o,t){return bs(o,0),this.add(Object.assign({},t,{state:r,time:o})),this}getLastState(r,o){const t=this._search(o);for(let h=t;h>=0;h--){const p=this._timeline[h];if(p.state===r)return p}}getNextState(r,o){const t=this._search(o);if(t!==-1)for(let h=t;h<this._timeline.length;h++){const p=this._timeline[h];if(p.state===r)return p}}}class Br extends $n{constructor(){super(Ft(Br.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const r=Ft(Br.getDefaults(),arguments,["param","units","convert"]);for(nr(hr(r.param)&&(Ci(r.param)||r.param instanceof Br),"param must be an AudioParam");!Ci(r.param);)r.param=r.param._param;this._swappable=hr(r.swappable)?r.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=r.param,this.input.connect(this._param)):this._param=this.input=r.param,this._events=new es(1e3),this._initialValue=this._param.defaultValue,this.units=r.units,this.convert=r.convert,this._minValue=r.minValue,this._maxValue=r.maxValue,hr(r.value)&&r.value!==this._toType(this._initialValue)&&this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign($n.getDefaults(),{convert:!0,units:"number"})}get value(){const r=this.now();return this.getValueAtTime(r)}set value(r){this.cancelScheduledValues(this.now()),this.setValueAtTime(r,this.now())}get minValue(){return hr(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return hr(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(r,o){return this.units===o}_assertRange(r){return hr(this.maxValue)&&hr(this.minValue)&&bs(r,this._fromType(this.minValue),this._fromType(this.maxValue)),r}_fromType(r){return this.convert&&!this.overridden?this._is(r,"time")?this.toSeconds(r):this._is(r,"decibels")?mT(r):this._is(r,"frequency")?this.toFrequency(r):r:this.overridden?0:r}_toType(r){return this.convert&&this.units==="decibels"?yT(r):r}setValueAtTime(r,o){const t=this.toSeconds(o),h=this._fromType(r);return nr(isFinite(h)&&isFinite(t),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._assertRange(h),this.log(this.units,"setValueAtTime",r,t),this._events.add({time:t,type:"setValueAtTime",value:h}),this._param.setValueAtTime(h,t),this}getValueAtTime(r){const o=Math.max(this.toSeconds(r),0),t=this._events.getAfter(o),h=this._events.get(o);let p=this._initialValue;if(h===null)p=this._initialValue;else if(h.type==="setTargetAtTime"&&(t===null||t.type==="setValueAtTime")){const c=this._events.getBefore(h.time);let a;c===null?a=this._initialValue:a=c.value,h.type==="setTargetAtTime"&&(p=this._exponentialApproach(h.time,a,h.value,h.constant,o))}else if(t===null)p=h.value;else if(t.type==="linearRampToValueAtTime"||t.type==="exponentialRampToValueAtTime"){let c=h.value;if(h.type==="setTargetAtTime"){const a=this._events.getBefore(h.time);a===null?c=this._initialValue:c=a.value}t.type==="linearRampToValueAtTime"?p=this._linearInterpolate(h.time,c,t.time,t.value,o):p=this._exponentialInterpolate(h.time,c,t.time,t.value,o)}else p=h.value;return this._toType(p)}setRampPoint(r){r=this.toSeconds(r);let o=this.getValueAtTime(r);return this.cancelAndHoldAtTime(r),this._fromType(o)===0&&(o=this._toType(this._minOutput)),this.setValueAtTime(o,r),this}linearRampToValueAtTime(r,o){const t=this._fromType(r),h=this.toSeconds(o);return nr(isFinite(t)&&isFinite(h),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._assertRange(t),this._events.add({time:h,type:"linearRampToValueAtTime",value:t}),this.log(this.units,"linearRampToValueAtTime",r,h),this._param.linearRampToValueAtTime(t,h),this}exponentialRampToValueAtTime(r,o){let t=this._fromType(r);t=ko(t,0)?this._minOutput:t,this._assertRange(t);const h=this.toSeconds(o);return nr(isFinite(t)&&isFinite(h),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._events.add({time:h,type:"exponentialRampToValueAtTime",value:t}),this.log(this.units,"exponentialRampToValueAtTime",r,h),this._param.exponentialRampToValueAtTime(t,h),this}exponentialRampTo(r,o,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialRampToValueAtTime(r,t+this.toSeconds(o)),this}linearRampTo(r,o,t){return t=this.toSeconds(t),this.setRampPoint(t),this.linearRampToValueAtTime(r,t+this.toSeconds(o)),this}targetRampTo(r,o,t){return t=this.toSeconds(t),this.setRampPoint(t),this.exponentialApproachValueAtTime(r,t,o),this}exponentialApproachValueAtTime(r,o,t){o=this.toSeconds(o),t=this.toSeconds(t);const h=Math.log(t+1)/Math.log(200);return this.setTargetAtTime(r,o,h),this.cancelAndHoldAtTime(o+t*.9),this.linearRampToValueAtTime(r,o+t),this}setTargetAtTime(r,o,t){const h=this._fromType(r);nr(isFinite(t)&&t>0,"timeConstant must be a number greater than 0");const p=this.toSeconds(o);return this._assertRange(h),nr(isFinite(h)&&isFinite(p),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(r)}, ${JSON.stringify(o)}`),this._events.add({constant:t,time:p,type:"setTargetAtTime",value:h}),this.log(this.units,"setTargetAtTime",r,p,t),this._param.setTargetAtTime(h,p,t),this}setValueCurveAtTime(r,o,t,h=1){t=this.toSeconds(t),o=this.toSeconds(o);const p=this._fromType(r[0])*h;this.setValueAtTime(this._toType(p),o);const c=t/(r.length-1);for(let a=1;a<r.length;a++){const s=this._fromType(r[a])*h;this.linearRampToValueAtTime(this._toType(s),o+a*c)}return this}cancelScheduledValues(r){const o=this.toSeconds(r);return nr(isFinite(o),`Invalid argument to cancelScheduledValues: ${JSON.stringify(r)}`),this._events.cancel(o),this._param.cancelScheduledValues(o),this.log(this.units,"cancelScheduledValues",o),this}cancelAndHoldAtTime(r){const o=this.toSeconds(r),t=this._fromType(this.getValueAtTime(o));nr(isFinite(o),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(r)}`),this.log(this.units,"cancelAndHoldAtTime",o,"value="+t);const h=this._events.get(o),p=this._events.getAfter(o);return h&&ko(h.time,o)?p?(this._param.cancelScheduledValues(p.time),this._events.cancel(p.time)):(this._param.cancelAndHoldAtTime(o),this._events.cancel(o+this.sampleTime)):p&&(this._param.cancelScheduledValues(p.time),this._events.cancel(p.time),p.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(t),o):p.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(t),o)),this._events.add({time:o,type:"setValueAtTime",value:t}),this._param.setValueAtTime(t,o),this}rampTo(r,o=.1,t){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(r,o,t):this.linearRampTo(r,o,t),this}apply(r){const o=this.context.currentTime;r.setValueAtTime(this.getValueAtTime(o),o);const t=this._events.get(o);if(t&&t.type==="setTargetAtTime"){const h=this._events.getAfter(t.time),p=h?h.time:o+2,c=(p-o)/10;for(let a=o;a<p;a+=c)r.linearRampToValueAtTime(this.getValueAtTime(a),a)}return this._events.forEachAfter(this.context.currentTime,h=>{h.type==="cancelScheduledValues"?r.cancelScheduledValues(h.time):h.type==="setTargetAtTime"?r.setTargetAtTime(h.value,h.time,h.constant):r[h.type](h.value,h.time)}),this}setParam(r){nr(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const o=this.input;return o.disconnect(this._param),this.apply(r),this._param=r,o.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(r,o,t,h,p){return t+(o-t)*Math.exp(-(p-r)/h)}_linearInterpolate(r,o,t,h,p){return o+(h-o)*((p-r)/(t-r))}_exponentialInterpolate(r,o,t,h,p){return o*Math.pow(h/o,(p-r)/(t-r))}}class ir extends $n{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return hr(this.input)?Ci(this.input)||this.input instanceof Br?1:this.input.numberOfInputs:0}get numberOfOutputs(){return hr(this.output)?this.output.numberOfOutputs:0}_isAudioNode(r){return hr(r)&&(r instanceof ir||$s(r))}_getInternalNodes(){const r=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&r.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&r.push(this.output),r}_setChannelProperties(r){this._getInternalNodes().forEach(t=>{t.channelCount=r.channelCount,t.channelCountMode=r.channelCountMode,t.channelInterpretation=r.channelInterpretation})}_getChannelProperties(){const r=this._getInternalNodes();nr(r.length>0,"ToneAudioNode does not have any internal nodes");const o=r[0];return{channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(r){const o=this._getChannelProperties();this._setChannelProperties(Object.assign(o,{channelCount:r}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(r){const o=this._getChannelProperties();this._setChannelProperties(Object.assign(o,{channelCountMode:r}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(r){const o=this._getChannelProperties();this._setChannelProperties(Object.assign(o,{channelInterpretation:r}))}connect(r,o=0,t=0){return Ii(this,r,o,t),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Av("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(r,o=0,t=0){return wT(this,r,o,t),this}chain(...r){return vf(this,...r),this}fan(...r){return r.forEach(o=>this.connect(o)),this}dispose(){return super.dispose(),hr(this.input)&&(this.input instanceof ir?this.input.dispose():$s(this.input)&&this.input.disconnect()),hr(this.output)&&(this.output instanceof ir?this.output.dispose():$s(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function vf(...n){const r=n.shift();n.reduce((o,t)=>(o instanceof ir?o.connect(t):$s(o)&&Ii(o,t),t),r)}function Ii(n,r,o=0,t=0){for(nr(hr(n),"Cannot connect from undefined node"),nr(hr(r),"Cannot connect to undefined node"),(r instanceof ir||$s(r))&&nr(r.numberOfInputs>0,"Cannot connect to node with no inputs"),nr(n.numberOfOutputs>0,"Cannot connect from node with no outputs");r instanceof ir||r instanceof Br;)hr(r.input)&&(r=r.input);for(;n instanceof ir;)hr(n.output)&&(n=n.output);Ci(r)?n.connect(r,o):n.connect(r,o,t)}function wT(n,r,o=0,t=0){if(hr(r))for(;r instanceof ir;)r=r.input;for(;!$s(n);)hr(n.output)&&(n=n.output);Ci(r)?n.disconnect(r,o):$s(r)?n.disconnect(r,o,t):n.disconnect()}class An extends ir{constructor(){super(Ft(An.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const r=Ft(An.getDefaults(),arguments,["gain","units"]);this.gain=new Br({context:this.context,convert:r.convert,param:this._gainNode.gain,units:r.units,value:r.gain,minValue:r.minValue,maxValue:r.maxValue}),Wr(this,"gain")}static getDefaults(){return Object.assign(ir.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class _a extends ir{constructor(r){super(r),this.onended=kr,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new An({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(o){const t=this.toSeconds(o);return this._startTime!==-1&&t>=this._startTime&&(this._stopTime===-1||t<=this._stopTime)?"started":"stopped"},this._fadeIn=r.fadeIn,this._fadeOut=r.fadeOut,this._curve=r.curve,this.onended=r.onended}static getDefaults(){return Object.assign(ir.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:kr})}_startGain(r,o=1){nr(this._startTime===-1,"Source cannot be started more than once");const t=this.toSeconds(this._fadeIn);return this._startTime=r+t,this._startTime=Math.max(this._startTime,this.context.currentTime),t>0?(this._gainNode.gain.setValueAtTime(0,r),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(o,r+t):this._gainNode.gain.exponentialApproachValueAtTime(o,r,t)):this._gainNode.gain.setValueAtTime(o,r),this}stop(r){return this.log("stop",r),this._stopGain(this.toSeconds(r)),this}_stopGain(r){nr(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const o=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(r)+o,this._stopTime=Math.max(this._stopTime,this.context.currentTime),o>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,o,r):this._gainNode.gain.targetRampTo(0,o,r):(this._gainNode.gain.cancelAndHoldAtTime(r),this._gainNode.gain.setValueAtTime(0,r)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const t=this._curve==="exponential"?o*2:0;this._stopSource(this.now()+t),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==kr&&(this.onended(this),this.onended=kr,!this.context.isOffline)){const r=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(r):setTimeout(r,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),nr(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Mc extends _a{constructor(){super(Ft(Mc.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const r=Ft(Mc.getDefaults(),arguments,["offset"]);Ii(this._source,this._gainNode),this.offset=new Br({context:this.context,convert:r.convert,param:this._source.offset,units:r.units,value:r.offset,minValue:r.minValue,maxValue:r.maxValue})}static getDefaults(){return Object.assign(_a.getDefaults(),{convert:!0,offset:1,units:"number"})}start(r){const o=this.toSeconds(r);return this.log("start",o),this._startGain(o),this._source.start(o),this}_stopSource(r){this._source.stop(r)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class gn extends ir{constructor(){super(Ft(gn.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const r=Ft(gn.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Mc({context:this.context,convert:r.convert,offset:r.value,units:r.units,minValue:r.minValue,maxValue:r.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ir.getDefaults(),{convert:!0,units:"number",value:0})}connect(r,o=0,t=0){return Kp(this,r,o,t),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(r,o){return this._param.setValueAtTime(r,o),this}getValueAtTime(r){return this._param.getValueAtTime(r)}setRampPoint(r){return this._param.setRampPoint(r),this}linearRampToValueAtTime(r,o){return this._param.linearRampToValueAtTime(r,o),this}exponentialRampToValueAtTime(r,o){return this._param.exponentialRampToValueAtTime(r,o),this}exponentialRampTo(r,o,t){return this._param.exponentialRampTo(r,o,t),this}linearRampTo(r,o,t){return this._param.linearRampTo(r,o,t),this}targetRampTo(r,o,t){return this._param.targetRampTo(r,o,t),this}exponentialApproachValueAtTime(r,o,t){return this._param.exponentialApproachValueAtTime(r,o,t),this}setTargetAtTime(r,o,t){return this._param.setTargetAtTime(r,o,t),this}setValueCurveAtTime(r,o,t,h){return this._param.setValueCurveAtTime(r,o,t,h),this}cancelScheduledValues(r){return this._param.cancelScheduledValues(r),this}cancelAndHoldAtTime(r){return this._param.cancelAndHoldAtTime(r),this}rampTo(r,o,t){return this._param.rampTo(r,o,t),this}get value(){return this._param.value}set value(r){this._param.value=r}get convert(){return this._param.convert}set convert(r){this._param.convert=r}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(r){this._param.overridden=r}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(r){return this._param.apply(r),this}}function Kp(n,r,o,t){(r instanceof Br||Ci(r)||r instanceof gn&&r.override)&&(r.cancelScheduledValues(0),r.setValueAtTime(0,0),r instanceof gn&&(r.overridden=!0)),Ii(n,r,o,t)}class Ac extends Br{constructor(){super(Ft(Ac.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new es(1/0),this._multiplier=1;const r=Ft(Ac.getDefaults(),arguments,["value"]);this._multiplier=r.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(r.value)}),this.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(Br.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(r,o,t){o=this.toSeconds(o),this.setRampPoint(o);const h=this._fromType(r),p=this._events.get(o),c=Math.round(Math.max(1/t,1));for(let a=0;a<=c;a++){const s=t*a+o,d=this._exponentialApproach(p.time,p.value,h,t,s);this.linearRampToValueAtTime(this._toType(d),s)}return this}setValueAtTime(r,o){const t=this.toSeconds(o);super.setValueAtTime(r,o);const h=this._events.get(t),p=this._events.previousEvent(h),c=this._getTicksUntilEvent(p,t);return h.ticks=Math.max(c,0),this}linearRampToValueAtTime(r,o){const t=this.toSeconds(o);super.linearRampToValueAtTime(r,o);const h=this._events.get(t),p=this._events.previousEvent(h),c=this._getTicksUntilEvent(p,t);return h.ticks=Math.max(c,0),this}exponentialRampToValueAtTime(r,o){o=this.toSeconds(o);const t=this._fromType(r),h=this._events.get(o),p=Math.round(Math.max((o-h.time)*10,1)),c=(o-h.time)/p;for(let a=0;a<=p;a++){const s=c*a+h.time,d=this._exponentialInterpolate(h.time,h.value,o,t,s);this.linearRampToValueAtTime(this._toType(d),s)}return this}_getTicksUntilEvent(r,o){if(r===null)r={ticks:0,time:0,type:"setValueAtTime",value:0};else if(bo(r.ticks)){const c=this._events.previousEvent(r);r.ticks=this._getTicksUntilEvent(c,r.time)}const t=this._fromType(this.getValueAtTime(r.time));let h=this._fromType(this.getValueAtTime(o));const p=this._events.get(o);return p&&p.time===o&&p.type==="setValueAtTime"&&(h=this._fromType(this.getValueAtTime(o-this.sampleTime))),.5*(o-r.time)*(t+h)+r.ticks}getTicksAtTime(r){const o=this.toSeconds(r),t=this._events.get(o);return Math.max(this._getTicksUntilEvent(t,o),0)}getDurationOfTicks(r,o){const t=this.toSeconds(o),h=this.getTicksAtTime(o);return this.getTimeOfTick(h+r)-t}getTimeOfTick(r){const o=this._events.get(r,"ticks"),t=this._events.getAfter(r,"ticks");if(o&&o.ticks===r)return o.time;if(o&&t&&t.type==="linearRampToValueAtTime"&&o.value!==t.value){const h=this._fromType(this.getValueAtTime(o.time)),c=(this._fromType(this.getValueAtTime(t.time))-h)/(t.time-o.time),a=Math.sqrt(Math.pow(h,2)-2*c*(o.ticks-r)),s=(-h+a)/c,d=(-h-a)/c;return(s>0?s:d)+o.time}else return o?o.value===0?1/0:o.time+(r-o.ticks)/o.value:r/this._initialValue}ticksToTime(r,o){return this.getDurationOfTicks(r,o)}timeToTicks(r,o){const t=this.toSeconds(o),h=this.toSeconds(r),p=this.getTicksAtTime(t);return this.getTicksAtTime(t+h)-p}_fromType(r){return this.units==="bpm"&&this.multiplier?1/(60/r/this.multiplier):super._fromType(r)}_toType(r){return this.units==="bpm"&&this.multiplier?r/this.multiplier*60:super._toType(r)}get multiplier(){return this._multiplier}set multiplier(r){const o=this.value;this._multiplier=r,this.cancelScheduledValues(0),this.setValueAtTime(o,0)}}class kc extends gn{constructor(){super(Ft(kc.getDefaults(),arguments,["value"])),this.name="TickSignal";const r=Ft(kc.getDefaults(),arguments,["value"]);this.input=this._param=new Ac({context:this.context,convert:r.convert,multiplier:r.multiplier,param:this._constantSource.offset,units:r.units,value:r.value})}static getDefaults(){return Object.assign(gn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(r,o){return this._param.ticksToTime(r,o)}timeToTicks(r,o){return this._param.timeToTicks(r,o)}getTimeOfTick(r){return this._param.getTimeOfTick(r)}getDurationOfTicks(r,o){return this._param.getDurationOfTicks(r,o)}getTicksAtTime(r){return this._param.getTicksAtTime(r)}get multiplier(){return this._param.multiplier}set multiplier(r){this._param.multiplier=r}dispose(){return super.dispose(),this._param.dispose(),this}}class Rc extends $n{constructor(){super(Ft(Rc.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Qp,this._tickOffset=new es;const r=Ft(Rc.getDefaults(),arguments,["frequency"]);this.frequency=new kc({context:this.context,units:r.units,value:r.frequency}),Wr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},$n.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(r,o){const t=this.toSeconds(r);return this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),hr(o)&&this.setTicksAtTime(o,t)),this}stop(r){const o=this.toSeconds(r);if(this._state.getValueAtTime(o)==="stopped"){const t=this._state.get(o);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(o),this._state.setStateAtTime("stopped",o),this.setTicksAtTime(0,o),this}pause(r){const o=this.toSeconds(r);return this._state.getValueAtTime(o)==="started"&&this._state.setStateAtTime("paused",o),this}cancel(r){return r=this.toSeconds(r),this._state.cancel(r),this._tickOffset.cancel(r),this}getTicksAtTime(r){const o=this.toSeconds(r),t=this._state.getLastState("stopped",o),h={state:"paused",time:o};this._state.add(h);let p=t,c=0;return this._state.forEachBetween(t.time,o+this.sampleTime,a=>{let s=p.time;const d=this._tickOffset.get(a.time);d&&d.time>=p.time&&(c=d.ticks,s=d.time),p.state==="started"&&a.state!=="started"&&(c+=this.frequency.getTicksAtTime(a.time)-this.frequency.getTicksAtTime(s)),p=a}),this._state.remove(h),c}get ticks(){return this.getTicksAtTime(this.now())}set ticks(r){this.setTicksAtTime(r,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(r){const o=this.now(),t=this.frequency.timeToTicks(r,o);this.setTicksAtTime(t,o)}getSecondsAtTime(r){r=this.toSeconds(r);const o=this._state.getLastState("stopped",r),t={state:"paused",time:r};this._state.add(t);let h=o,p=0;return this._state.forEachBetween(o.time,r+this.sampleTime,c=>{let a=h.time;const s=this._tickOffset.get(c.time);s&&s.time>=h.time&&(p=s.seconds,a=s.time),h.state==="started"&&c.state!=="started"&&(p+=c.time-a),h=c}),this._state.remove(t),p}setTicksAtTime(r,o){return o=this.toSeconds(o),this._tickOffset.cancel(o),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(r,o),ticks:r,time:o}),this}getStateAtTime(r){return r=this.toSeconds(r),this._state.getValueAtTime(r)}getTimeOfTick(r,o=this.now()){const t=this._tickOffset.get(o),h=this._state.get(o),p=Math.max(t.time,h.time),c=this.frequency.getTicksAtTime(p)+r-t.ticks;return this.frequency.getTimeOfTick(c)}forEachTickBetween(r,o,t){let h=this._state.get(r);this._state.forEachBetween(r,o,c=>{h&&h.state==="started"&&c.state!=="started"&&this.forEachTickBetween(Math.max(h.time,r),c.time-this.sampleTime,t),h=c});let p=null;if(h&&h.state==="started"){const c=Math.max(h.time,r),a=this.frequency.getTicksAtTime(c),s=this.frequency.getTicksAtTime(h.time),d=a-s;let f=Math.ceil(d)-d;f=ko(f,1)?0:f;let y=this.frequency.getTimeOfTick(a+f);for(;y<o;){try{t(y,Math.round(this.getTicksAtTime(y)))}catch(u){p=u;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(p)throw p;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Tl extends $n{constructor(){super(Ft(Tl.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=kr,this._lastUpdate=0,this._state=new Qp("stopped"),this._boundLoop=this._loop.bind(this);const r=Ft(Tl.getDefaults(),arguments,["callback","frequency"]);this.callback=r.callback,this._tickSource=new Rc({context:this.context,frequency:r.frequency,units:r.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Wr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign($n.getDefaults(),{callback:kr,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(r,o){Cv(this.context);const t=this.toSeconds(r);return this.log("start",t),this._state.getValueAtTime(t)!=="started"&&(this._state.setStateAtTime("started",t),this._tickSource.start(t,o),t<this._lastUpdate&&this.emit("start",t,o)),this}stop(r){const o=this.toSeconds(r);return this.log("stop",o),this._state.cancel(o),this._state.setStateAtTime("stopped",o),this._tickSource.stop(o),o<this._lastUpdate&&this.emit("stop",o),this}pause(r){const o=this.toSeconds(r);return this._state.getValueAtTime(o)==="started"&&(this._state.setStateAtTime("paused",o),this._tickSource.pause(o),o<this._lastUpdate&&this.emit("pause",o)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(r){this._tickSource.ticks=r}get seconds(){return this._tickSource.seconds}set seconds(r){this._tickSource.seconds=r}getSecondsAtTime(r){return this._tickSource.getSecondsAtTime(r)}setTicksAtTime(r,o){return this._tickSource.setTicksAtTime(r,o),this}getTimeOfTick(r,o=this.now()){return this._tickSource.getTimeOfTick(r,o)}getTicksAtTime(r){return this._tickSource.getTicksAtTime(r)}nextTickTime(r,o){const t=this.toSeconds(o),h=this.getTicksAtTime(t);return this._tickSource.getTimeOfTick(h+r,t)}_loop(){const r=this._lastUpdate,o=this.now();this._lastUpdate=o,this.log("loop",r,o),r!==o&&(this._state.forEachBetween(r,o,t=>{switch(t.state){case"started":const h=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,h);break;case"stopped":t.time!==0&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time);break}}),this._tickSource.forEachTickBetween(r,o,(t,h)=>{this.callback(t,h)}))}getStateAtTime(r){const o=this.toSeconds(r);return this._state.getValueAtTime(o)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}eu.mixin(Tl);class Jp extends Ts{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const r=Ft(Jp.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=r.baseUrl,Object.keys(r.urls).forEach(o=>{this._loadingCount++;const t=r.urls[o];this.add(o,t,this._bufferLoaded.bind(this,r.onload),r.onerror)})}static getDefaults(){return{baseUrl:"",onerror:kr,onload:kr,urls:{}}}has(r){return this._buffers.has(r.toString())}get(r){return nr(this.has(r),`ToneAudioBuffers has no buffer named: ${r}`),this._buffers.get(r.toString())}_bufferLoaded(r){this._loadingCount--,this._loadingCount===0&&r&&r()}get loaded(){return Array.from(this._buffers).every(([r,o])=>o.loaded)}add(r,o,t=kr,h=kr){return $o(o)?this._buffers.set(r.toString(),new Or(this.baseUrl+o,t,h)):this._buffers.set(r.toString(),new Or(o,t,h)),this}dispose(){return super.dispose(),this._buffers.forEach(r=>r.dispose()),this._buffers.clear(),this}}class hs extends ll{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(r){return this._getPPQ()*r}_secondsToUnits(r){return Math.floor(r/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(r){return r}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class ST extends $n{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new es,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(r,o){return this._events.add({callback:r,time:this.toSeconds(o)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(r){return this._events.cancel(this.toSeconds(r)),this}_drawLoop(){const r=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=r;){const o=this._events.shift();o&&r-o.time<=this.expiration&&o.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Ad(n=>{n.draw=new ST({context:n})});kd(n=>{n.draw.dispose()});class TT extends Ts{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(r){nr(hr(r.time),"Events must have a time property"),nr(hr(r.duration),"Events must have a duration parameter"),r.time=r.time.valueOf();let o=new jT(r.time,r.time+r.duration,r);for(this._root===null?this._root=o:this._root.insert(o),this._length++;o!==null;)o.updateHeight(),o.updateMax(),this._rebalance(o),o=o.parent;return this}remove(r){if(this._root!==null){const o=[];this._root.search(r.time,o);for(const t of o)if(t.event===r){this._removeNode(t),this._length--;break}}return this}get length(){return this._length}cancel(r){return this.forEachFrom(r,o=>this.remove(o)),this}_setRoot(r){this._root=r,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(r,o){r.parent!==null?(r.isLeftChild()?r.parent.left=o:r.parent.right=o,this._rebalance(r.parent)):this._setRoot(o)}_removeNode(r){if(r.left===null&&r.right===null)this._replaceNodeInParent(r,null);else if(r.right===null)this._replaceNodeInParent(r,r.left);else if(r.left===null)this._replaceNodeInParent(r,r.right);else{const o=r.getBalance();let t,h=null;if(o>0)if(r.left.right===null)t=r.left,t.right=r.right,h=t;else{for(t=r.left.right;t.right!==null;)t=t.right;t.parent&&(t.parent.right=t.left,h=t.parent,t.left=r.left,t.right=r.right)}else if(r.right.left===null)t=r.right,t.left=r.left,h=t;else{for(t=r.right.left;t.left!==null;)t=t.left;t.parent&&(t.parent.left=t.right,h=t.parent,t.left=r.left,t.right=r.right)}r.parent!==null?r.isLeftChild()?r.parent.left=t:r.parent.right=t:this._setRoot(t),h&&this._rebalance(h)}r.dispose()}_rotateLeft(r){const o=r.parent,t=r.isLeftChild(),h=r.right;h&&(r.right=h.left,h.left=r),o!==null?t?o.left=h:o.right=h:this._setRoot(h)}_rotateRight(r){const o=r.parent,t=r.isLeftChild(),h=r.left;h&&(r.left=h.right,h.right=r),o!==null?t?o.left=h:o.right=h:this._setRoot(h)}_rebalance(r){const o=r.getBalance();o>1&&r.left?r.left.getBalance()<0?this._rotateLeft(r.left):this._rotateRight(r):o<-1&&r.right&&(r.right.getBalance()>0?this._rotateRight(r.right):this._rotateLeft(r))}get(r){if(this._root!==null){const o=[];if(this._root.search(r,o),o.length>0){let t=o[0];for(let h=1;h<o.length;h++)o[h].low>t.low&&(t=o[h]);return t.event}}return null}forEach(r){if(this._root!==null){const o=[];this._root.traverse(t=>o.push(t)),o.forEach(t=>{t.event&&r(t.event)})}return this}forEachAtTime(r,o){if(this._root!==null){const t=[];this._root.search(r,t),t.forEach(h=>{h.event&&o(h.event)})}return this}forEachFrom(r,o){if(this._root!==null){const t=[];this._root.searchAfter(r,t),t.forEach(h=>{h.event&&o(h.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(r=>r.dispose()),this._root=null,this}}class jT{constructor(r,o,t){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=t,this.low=r,this.high=o,this.max=this.high}insert(r){r.low<=this.low?this.left===null?this.left=r:this.left.insert(r):this.right===null?this.right=r:this.right.insert(r)}search(r,o){r>this.max||(this.left!==null&&this.left.search(r,o),this.low<=r&&this.high>r&&o.push(this),!(this.low>r)&&this.right!==null&&this.right.search(r,o))}searchAfter(r,o){this.low>=r&&(o.push(this),this.left!==null&&this.left.searchAfter(r,o)),this.right!==null&&this.right.searchAfter(r,o)}traverse(r){r(this),this.left!==null&&this.left.traverse(r),this.right!==null&&this.right.traverse(r)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let r=0;return this.left!==null&&this.right!==null?r=this.left.height-this.right.height:this.left!==null?r=this.left.height+1:this.right!==null&&(r=-(this.right.height+1)),r}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(r){this._left=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(r){this._right=r,r!==null&&(r.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class ei extends ir{constructor(){super(Ft(ei.getDefaults(),arguments,["volume"])),this.name="Volume";const r=Ft(ei.getDefaults(),arguments,["volume"]);this.input=this.output=new An({context:this.context,gain:r.volume,units:"decibels"}),this.volume=this.output.gain,Wr(this,"volume"),this._unmutedVolume=r.volume,this.mute=r.mute}static getDefaults(){return Object.assign(ir.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(r){!this.mute&&r?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!r&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Oc extends ir{constructor(){super(Ft(Oc.getDefaults(),arguments)),this.name="Destination",this.input=new ei({context:this.context}),this.output=new An({context:this.context}),this.volume=this.input.volume;const r=Ft(Oc.getDefaults(),arguments);vf(this.input,this.output,this.context.rawContext.destination),this.mute=r.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ir.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(r){this.input.mute=r}chain(...r){return this.input.disconnect(),r.unshift(this.input),r.push(this.output),vf(...r),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Ad(n=>{n.destination=new Oc({context:n})});kd(n=>{n.destination.dispose()});class ET extends Ts{constructor(r){super(),this.name="TimelineValue",this._timeline=new es({memory:10}),this._initialValue=r}set(r,o){return this._timeline.add({value:r,time:o}),this}get(r){const o=this._timeline.get(r);return o?o.value:this._initialValue}}class ti{constructor(r,o){this.id=ti._eventId++;const t=Object.assign(ti.getDefaults(),o);this.transport=r,this.callback=t.callback,this._once=t.once,this.time=t.time}static getDefaults(){return{callback:kr,once:!1,time:0}}invoke(r){this.callback&&(this.callback(r),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ti._eventId=0;class e0 extends ti{constructor(r,o){super(r,o),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const t=Object.assign(e0.getDefaults(),o);this.duration=new hs(r.context,t.duration).valueOf(),this._interval=new hs(r.context,t.interval).valueOf(),this._nextTick=t.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ti.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(r){this._createEvents(r),super.invoke(r)}_createEvents(r){const o=this.transport.getTicksAtTime(r);o>=this.time&&o>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new hs(this.context,this._nextTick).toSeconds()))}_restart(r){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const o=this.transport.getTicksAtTime(r);o>this.time&&(this._nextTick=this.time+Math.ceil((o-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new hs(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new hs(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class jl extends $n{constructor(){super(Ft(jl.getDefaults(),arguments)),this.name="Transport",this._loop=new ET(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new es,this._repeatedEvents=new TT,this._syncedSignals=[],this._swingAmount=0;const r=Ft(jl.getDefaults(),arguments);this._ppq=r.ppq,this._clock=new Tl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=r.ppq,this.bpm.setValueAtTime(r.bpm,0),Wr(this,"bpm"),this._timeSignature=r.timeSignature,this._swingTicks=r.ppq/2}static getDefaults(){return Object.assign($n.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(r,o){if(this._loop.get(r)&&o>=this._loopEnd&&(this.emit("loopEnd",r),this._clock.setTicksAtTime(this._loopStart,r),o=this._loopStart,this.emit("loopStart",r,this._clock.getSecondsAtTime(r)),this.emit("loop",r)),this._swingAmount>0&&o%this._ppq!==0&&o%(this._swingTicks*2)!==0){const t=o%(this._swingTicks*2)/(this._swingTicks*2),h=Math.sin(t*Math.PI)*this._swingAmount;r+=new hs(this.context,this._swingTicks*2/3).toSeconds()*h}this._timeline.forEachAtTime(o,t=>t.invoke(r))}schedule(r,o){const t=new ti(this,{callback:r,time:new ll(this.context,o).toTicks()});return this._addEvent(t,this._timeline)}scheduleRepeat(r,o,t,h=1/0){const p=new e0(this,{callback:r,duration:new Ro(this.context,h).toTicks(),interval:new Ro(this.context,o).toTicks(),time:new ll(this.context,t).toTicks()});return this._addEvent(p,this._repeatedEvents)}scheduleOnce(r,o){const t=new ti(this,{callback:r,once:!0,time:new ll(this.context,o).toTicks()});return this._addEvent(t,this._timeline)}clear(r){if(this._scheduledEvents.hasOwnProperty(r)){const o=this._scheduledEvents[r.toString()];o.timeline.remove(o.event),o.event.dispose(),delete this._scheduledEvents[r.toString()]}return this}_addEvent(r,o){return this._scheduledEvents[r.id.toString()]={event:r,timeline:o},o.add(r),r.id}cancel(r=0){const o=this.toTicks(r);return this._timeline.forEachFrom(o,t=>this.clear(t.id)),this._repeatedEvents.forEachFrom(o,t=>this.clear(t.id)),this}_bindClockEvents(){this._clock.on("start",(r,o)=>{o=new hs(this.context,o).toSeconds(),this.emit("start",r,o)}),this._clock.on("stop",r=>{this.emit("stop",r)}),this._clock.on("pause",r=>{this.emit("pause",r)})}get state(){return this._clock.getStateAtTime(this.now())}start(r,o){let t;return hr(o)&&(t=this.toTicks(o)),this._clock.start(r,t),this}stop(r){return this._clock.stop(r),this}pause(r){return this._clock.pause(r),this}toggle(r){return r=this.toSeconds(r),this._clock.getStateAtTime(r)!=="started"?this.start(r):this.stop(r),this}get timeSignature(){return this._timeSignature}set timeSignature(r){Oo(r)&&(r=r[0]/r[1]*4),this._timeSignature=r}get loopStart(){return new Ro(this.context,this._loopStart,"i").toSeconds()}set loopStart(r){this._loopStart=this.toTicks(r)}get loopEnd(){return new Ro(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(r){this._loopEnd=this.toTicks(r)}get loop(){return this._loop.get(this.now())}set loop(r){this._loop.set(r,this.now())}setLoopPoints(r,o){return this.loopStart=r,this.loopEnd=o,this}get swing(){return this._swingAmount}set swing(r){this._swingAmount=r}get swingSubdivision(){return new hs(this.context,this._swingTicks).toNotation()}set swingSubdivision(r){this._swingTicks=this.toTicks(r)}get position(){const r=this.now(),o=this._clock.getTicksAtTime(r);return new hs(this.context,o).toBarsBeatsSixteenths()}set position(r){const o=this.toTicks(r);this.ticks=o}get seconds(){return this._clock.seconds}set seconds(r){const o=this.now(),t=this._clock.frequency.timeToTicks(r,o);this.ticks=t}get progress(){if(this.loop){const r=this.now();return(this._clock.getTicksAtTime(r)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(r){if(this._clock.ticks!==r){const o=this.now();if(this.state==="started"){const t=this._clock.getTicksAtTime(o),h=this._clock.frequency.getDurationOfTicks(Math.ceil(t)-t,o),p=o+h;this.emit("stop",p),this._clock.setTicksAtTime(r,p),this.emit("start",p,this._clock.getSecondsAtTime(p))}else this._clock.setTicksAtTime(r,o)}}getTicksAtTime(r){return Math.round(this._clock.getTicksAtTime(r))}getSecondsAtTime(r){return this._clock.getSecondsAtTime(r)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(r){this._clock.frequency.multiplier=r}nextSubdivision(r){if(r=this.toTicks(r),this.state!=="started")return 0;{const o=this.now(),t=this.getTicksAtTime(o),h=r-t%r;return this._clock.nextTickTime(h,o)}}syncSignal(r,o){if(!o){const h=this.now();if(r.getValueAtTime(h)!==0){const c=1/(60/this.bpm.getValueAtTime(h)/this.PPQ);o=r.getValueAtTime(h)/c}else o=0}const t=new An(o);return this.bpm.connect(t),t.connect(r._param),this._syncedSignals.push({initial:r.value,ratio:t,signal:r}),r.value=0,this}unsyncSignal(r){for(let o=this._syncedSignals.length-1;o>=0;o--){const t=this._syncedSignals[o];t.signal===r&&(t.ratio.dispose(),t.signal.value=t.initial,this._syncedSignals.splice(o,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Dv(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}eu.mixin(jl);Ad(n=>{n.transport=new jl({context:n})});kd(n=>{n.transport.dispose()});class ao extends ir{constructor(r){super(r),this.input=void 0,this._state=new Qp("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=kr,this._syncedStop=kr,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new ei({context:this.context,mute:r.mute,volume:r.volume}),this.volume=this._volume.volume,Wr(this,"volume"),this.onstop=r.onstop}static getDefaults(){return Object.assign(ir.getDefaults(),{mute:!1,onstop:kr,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}_clampToCurrentTime(r){return this._synced?r:Math.max(r,this.context.currentTime)}start(r,o,t){let h=bo(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(h=this._clampToCurrentTime(h),!this._synced&&this._state.getValueAtTime(h)==="started")nr(Cc(h,this._state.get(h).time),"Start time must be strictly greater than previous start time"),this._state.cancel(h),this._state.setStateAtTime("started",h),this.log("restart",h),this.restart(h,o,t);else if(this.log("start",h),this._state.setStateAtTime("started",h),this._synced){const p=this._state.get(h);p&&(p.offset=this.toSeconds(la(o,0)),p.duration=t?this.toSeconds(t):void 0);const c=this.context.transport.schedule(a=>{this._start(a,o,t)},h);this._scheduled.push(c),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>h&&this._syncedStart(this.now(),this.context.transport.seconds)}else Cv(this.context),this._start(h,o,t);return this}stop(r){let o=bo(r)&&this._synced?this.context.transport.seconds:this.toSeconds(r);if(o=this._clampToCurrentTime(o),this._state.getValueAtTime(o)==="started"||hr(this._state.getNextState("started",o))){if(this.log("stop",o),!this._synced)this._stop(o);else{const t=this.context.transport.schedule(this._stop.bind(this),o);this._scheduled.push(t)}this._state.cancel(o),this._state.setStateAtTime("stopped",o)}return this}restart(r,o,t){return r=this.toSeconds(r),this._state.getValueAtTime(r)==="started"&&(this._state.cancel(r),this._restart(r,o,t)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(r,o)=>{if(o>0){const t=this._state.get(o);if(t&&t.state==="started"&&t.time!==o){const h=o-this.toSeconds(t.time);let p;t.duration&&(p=this.toSeconds(t.duration)-h),this._start(r,this.toSeconds(t.offset)+h,p)}}},this._syncedStop=r=>{const o=this.context.transport.getSecondsAtTime(Math.max(r-this.sampleTime,0));this._state.getValueAtTime(o)==="started"&&this._stop(r)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(r=>this.context.transport.clear(r)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=kr,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class El extends _a{constructor(){super(Ft(El.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const r=Ft(El.getDefaults(),arguments,["url","onload"]);Ii(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Br({context:this.context,param:this._source.playbackRate,units:"positive",value:r.playbackRate}),this.loop=r.loop,this.loopStart=r.loopStart,this.loopEnd=r.loopEnd,this._buffer=new Or(r.url,r.onload,r.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(_a.getDefaults(),{url:new Or,loop:!1,loopEnd:0,loopStart:0,onload:kr,onerror:kr,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(r){this._fadeIn=r}get fadeOut(){return this._fadeOut}set fadeOut(r){this._fadeOut=r}get curve(){return this._curve}set curve(r){this._curve=r}start(r,o,t,h=1){nr(this.buffer.loaded,"buffer is either not set or not loaded");const p=this.toSeconds(r);this._startGain(p,h),this.loop?o=la(o,this.loopStart):o=la(o,0);let c=Math.max(this.toSeconds(o),0);if(this.loop){const a=this.toSeconds(this.loopEnd)||this.buffer.duration,s=this.toSeconds(this.loopStart),d=a-s;yf(c,a)&&(c=(c-s)%d+s),ko(c,this.buffer.duration)&&(c=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Rv(c,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(p,c)),hr(t)){let a=this.toSeconds(t);a=Math.max(a,0),this.stop(p+a)}return this}_stopSource(r){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(r)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(r){this._source.loopStart=this.toSeconds(r)}get loopEnd(){return this._source.loopEnd}set loopEnd(r){this._source.loopEnd=this.toSeconds(r)}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._source.loop}set loop(r){this._source.loop=r,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class mi extends ir{constructor(){super(Ft(mi.getDefaults(),arguments,["volume"])),this.name="UserMedia";const r=Ft(mi.getDefaults(),arguments,["volume"]);this._volume=this.output=new ei({context:this.context,volume:r.volume}),this.volume=this._volume.volume,Wr(this,"volume"),this.mute=r.mute}static getDefaults(){return Object.assign(ir.getDefaults(),{mute:!1,volume:0})}open(r){return Vr(this,void 0,void 0,function*(){nr(mi.supported,"UserMedia is not supported"),this.state==="started"&&this.close();const o=yield mi.enumerateDevices();Js(r)?this._device=o[r]:(this._device=o.find(p=>p.label===r||p.deviceId===r),!this._device&&o.length>0&&(this._device=o[0]),nr(hr(this._device),`No matching device ${r}`));const t={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(t.audio.deviceId=this._device.deviceId);const h=yield navigator.mediaDevices.getUserMedia(t);if(!this._stream){this._stream=h;const p=this.context.createMediaStreamSource(h);Ii(p,this.output),this._mediaStream=p}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(r=>{r.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Vr(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(o=>o.kind==="audioinput")})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){if(this._device)return this._device.deviceId}get groupId(){if(this._device)return this._device.groupId}get label(){if(this._device)return this._device.label}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return hr(navigator.mediaDevices)&&hr(navigator.mediaDevices.getUserMedia)}}function Di(n,r){return Vr(this,void 0,void 0,function*(){const o=r/n.context.sampleRate,t=new $p(1,o,n.context.sampleRate);return new n.constructor(Object.assign(n.get(),{frequency:2/o,detune:0,context:t})).toDestination().start(0),(yield t.render()).getChannelData(0)})}class Pc extends _a{constructor(){super(Ft(Pc.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const r=Ft(Pc.getDefaults(),arguments,["frequency","type"]);Ii(this._oscillator,this._gainNode),this.type=r.type,this.frequency=new Br({context:this.context,param:this._oscillator.frequency,units:"frequency",value:r.frequency}),this.detune=new Br({context:this.context,param:this._oscillator.detune,units:"cents",value:r.detune}),Wr(this,["frequency","detune"])}static getDefaults(){return Object.assign(_a.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(r){const o=this.toSeconds(r);return this.log("start",o),this._startGain(o),this._oscillator.start(o),this}_stopSource(r){this._oscillator.stop(r)}setPeriodicWave(r){return this._oscillator.setPeriodicWave(r),this}get type(){return this._oscillator.type}set type(r){this._oscillator.type=r}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class rn extends ao{constructor(){super(Ft(rn.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const r=Ft(rn.getDefaults(),arguments,["frequency","type"]);this.frequency=new gn({context:this.context,units:"frequency",value:r.frequency}),Wr(this,"frequency"),this.detune=new gn({context:this.context,units:"cents",value:r.detune}),Wr(this,"detune"),this._partials=r.partials,this._partialCount=r.partialCount,this._type=r.type,r.partialCount&&r.type!=="custom"&&(this._type=this.baseType+r.partialCount.toString()),this.phase=r.phase}static getDefaults(){return Object.assign(ao.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(r){const o=this.toSeconds(r),t=new Pc({context:this.context,onended:()=>this.onstop(this)});this._oscillator=t,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(o)}_stop(r){const o=this.toSeconds(r);this._oscillator&&this._oscillator.stop(o)}_restart(r){const o=this.toSeconds(r);return this.log("restart",o),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(o),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return rn._periodicWaveCache.find(o=>o.phase===this._phase&&lT(o.partials,this._partials));{const r=rn._periodicWaveCache.find(o=>o.type===this._type&&o.phase===this._phase);return this._partialCount=r?r.partialCount:this._partialCount,r}}get type(){return this._type}set type(r){this._type=r;const o=["sine","square","sawtooth","triangle"].indexOf(r)!==-1;if(this._phase===0&&o)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=r);else{const t=this._getCachedPeriodicWave();if(hr(t)){const{partials:h,wave:p}=t;this._wave=p,this._partials=h,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[h,p]=this._getRealImaginary(r,this._phase),c=this.context.createPeriodicWave(h,p);this._wave=c,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),rn._periodicWaveCache.push({imag:p,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:h,type:this._type,wave:this._wave}),rn._periodicWaveCache.length>100&&rn._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(r){this.partialCount&&this._type!=="custom"&&r!=="custom"?this.type=r+this.partialCount:this.type=r}get partialCount(){return this._partialCount}set partialCount(r){bs(r,0);let o=this._type;const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(t&&(o=t[1]),this._type!=="custom")r===0?this.type=o:this.type=o+r.toString();else{const h=new Float32Array(r);this._partials.forEach((p,c)=>h[c]=p),this._partials=Array.from(h),this.type=this._type}}_getRealImaginary(r,o){let h=2048;const p=new Float32Array(h),c=new Float32Array(h);let a=1;if(r==="custom"){if(a=this._partials.length+1,this._partialCount=this._partials.length,h=a,this._partials.length===0)return[p,c]}else{const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(r);s?(a=parseInt(s[2],10)+1,this._partialCount=parseInt(s[2],10),r=s[1],a=Math.max(a,2),h=a):this._partialCount=0,this._partials=[]}for(let s=1;s<h;++s){const d=2/(s*Math.PI);let f;switch(r){case"sine":f=s<=a?1:0,this._partials[s-1]=f;break;case"square":f=s&1?2*d:0,this._partials[s-1]=f;break;case"sawtooth":f=d*(s&1?1:-1),this._partials[s-1]=f;break;case"triangle":s&1?f=2*(d*d)*(s-1>>1&1?-1:1):f=0,this._partials[s-1]=f;break;case"custom":f=this._partials[s-1];break;default:throw new TypeError("Oscillator: invalid type: "+r)}f!==0?(p[s]=-f*Math.sin(o*s),c[s]=f*Math.cos(o*s)):(p[s]=0,c[s]=0)}return[p,c]}_inverseFFT(r,o,t){let h=0;const p=r.length;for(let c=0;c<p;c++)h+=r[c]*Math.cos(c*t)+o[c]*Math.sin(c*t);return h}getInitialValue(){const[r,o]=this._getRealImaginary(this._type,0);let t=0;const h=Math.PI*2,p=32;for(let c=0;c<p;c++)t=Math.max(this._inverseFFT(r,o,c/p*h),t);return cT(-this._inverseFFT(r,o,this._phase)/t,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(r){this._partials=r,this._partialCount=this._partials.length,r.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(r){this._phase=r*Math.PI/180,this.type=this._type}asArray(r=1024){return Vr(this,void 0,void 0,function*(){return Di(this,r)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}rn._periodicWaveCache=[];class Od extends ir{constructor(){super(Object.assign(Ft(Od.getDefaults(),arguments,["context"])))}connect(r,o=0,t=0){return Kp(this,r,o,t),this}}class Cl extends Od{constructor(){super(Object.assign(Ft(Cl.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const r=Ft(Cl.getDefaults(),arguments,["mapping","length"]);Oo(r.mapping)||r.mapping instanceof Float32Array?this.curve=Float32Array.from(r.mapping):eT(r.mapping)&&this.setMap(r.mapping,r.length)}static getDefaults(){return Object.assign(gn.getDefaults(),{length:1024})}setMap(r,o=1024){const t=new Float32Array(o);for(let h=0,p=o;h<p;h++){const c=h/(p-1)*2-1;t[h]=r(c,h)}return this.curve=t,this}get curve(){return this._shaper.curve}set curve(r){this._shaper.curve=r}get oversample(){return this._shaper.oversample}set oversample(r){const o=["none","2x","4x"].some(t=>t.includes(r));nr(o,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=r}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class CT extends Od{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Cl({context:this.context,mapping:r=>(r+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Mi extends gn{constructor(){super(Object.assign(Ft(Mi.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const r=Ft(Mi.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new An({context:this.context,minValue:r.minValue,maxValue:r.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(r.value,0)}static getDefaults(){return Object.assign(gn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ml extends ao{constructor(){super(Ft(Ml.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new CT({context:this.context}),this._modulationNode=new An({context:this.context});const r=Ft(Ml.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new rn({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new rn({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new Mi({context:this.context,units:"positive",value:r.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Wr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(rn.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){this._modulator.restart(r),this._carrier.restart(r)}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(r=1024){return Vr(this,void 0,void 0,function*(){return Di(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Al extends ao{constructor(){super(Ft(Al.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new An({context:this.context,gain:0});const r=Ft(Al.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new rn({context:this.context,detune:r.detune,frequency:0,onstop:()=>this.onstop(this),phase:r.phase,type:r.type}),this.detune=this._carrier.detune,this.frequency=new gn({context:this.context,units:"frequency",value:r.frequency}),this._modulator=new rn({context:this.context,phase:r.phase,type:r.modulationType}),this.harmonicity=new Mi({context:this.context,units:"positive",value:r.harmonicity}),this.modulationIndex=new Mi({context:this.context,units:"positive",value:r.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Wr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(rn.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(r){this._modulator.start(r),this._carrier.start(r)}_stop(r){this._modulator.stop(r),this._carrier.stop(r)}_restart(r){return this._modulator.restart(r),this._carrier.restart(r),this}get type(){return this._carrier.type}set type(r){this._carrier.type=r}get baseType(){return this._carrier.baseType}set baseType(r){this._carrier.baseType=r}get partialCount(){return this._carrier.partialCount}set partialCount(r){this._carrier.partialCount=r}get modulationType(){return this._modulator.type}set modulationType(r){this._modulator.type=r}get phase(){return this._carrier.phase}set phase(r){this._carrier.phase=r,this._modulator.phase=r}get partials(){return this._carrier.partials}set partials(r){this._carrier.partials=r}asArray(r=1024){return Vr(this,void 0,void 0,function*(){return Di(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ba extends ao{constructor(){super(Ft(ba.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new An({context:this.context,gain:0}),this._thresh=new Cl({context:this.context,mapping:o=>o<=0?-1:1});const r=Ft(ba.getDefaults(),arguments,["frequency","width"]);this.width=new gn({context:this.context,units:"audioRange",value:r.width}),this._triangle=new rn({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Wr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(ao.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(r){r=this.toSeconds(r),this._triangle.start(r),this._widthGate.gain.setValueAtTime(1,r)}_stop(r){r=this.toSeconds(r),this._triangle.stop(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(0,r)}_restart(r){this._triangle.restart(r),this._widthGate.gain.cancelScheduledValues(r),this._widthGate.gain.setValueAtTime(1,r)}get phase(){return this._triangle.phase}set phase(r){this._triangle.phase=r}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(r){this._triangle.type=r}asArray(r=1024){return Vr(this,void 0,void 0,function*(){return Di(this,r)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class kl extends ao{constructor(){super(Ft(kl.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const r=Ft(kl.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new gn({context:this.context,units:"frequency",value:r.frequency}),this.detune=new gn({context:this.context,units:"cents",value:r.detune}),this._spread=r.spread,this._type=r.type,this._phase=r.phase,this._partials=r.partials,this._partialCount=r.partialCount,this.count=r.count,Wr(this,["frequency","detune"])}static getDefaults(){return Object.assign(rn.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(r){r=this.toSeconds(r),this._forEach(o=>o.start(r))}_stop(r){r=this.toSeconds(r),this._forEach(o=>o.stop(r))}_restart(r){this._forEach(o=>o.restart(r))}_forEach(r){for(let o=0;o<this._oscillators.length;o++)r(this._oscillators[o],o)}get type(){return this._type}set type(r){this._type=r,this._forEach(o=>o.type=r)}get spread(){return this._spread}set spread(r){if(this._spread=r,this._oscillators.length>1){const o=-r/2,t=r/(this._oscillators.length-1);this._forEach((h,p)=>h.detune.value=o+t*p)}}get count(){return this._oscillators.length}set count(r){if(bs(r,1),this._oscillators.length!==r){this._forEach(o=>o.dispose()),this._oscillators=[];for(let o=0;o<r;o++){const t=new rn({context:this.context,volume:-6-r*1.1,type:this._type,phase:this._phase+o/r*360,partialCount:this._partialCount,onstop:o===0?()=>this.onstop(this):kr});this.type==="custom"&&(t.partials=this._partials),this.frequency.connect(t.frequency),this.detune.connect(t.detune),t.detune.overridden=!1,t.connect(this.output),this._oscillators[o]=t}this.spread=this._spread,this.state==="started"&&this._forEach(o=>o.start())}}get phase(){return this._phase}set phase(r){this._phase=r,this._forEach((o,t)=>o.phase=this._phase+t/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(r){this._forEach(o=>o.baseType=r),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(r){this._partials=r,this._partialCount=this._partials.length,r.length&&(this._type="custom",this._forEach(o=>o.partials=r))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(r){this._partialCount=r,this._forEach(o=>o.partialCount=r),this._type=this._oscillators[0].type}asArray(r=1024){return Vr(this,void 0,void 0,function*(){return Di(this,r)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(r=>r.dispose()),this}}class Rl extends ao{constructor(){super(Ft(Rl.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Mi({context:this.context,value:2});const r=Ft(Rl.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new ba({context:this.context,frequency:r.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new rn({context:this.context,detune:r.detune,frequency:r.frequency,onstop:()=>this.onstop(this),phase:r.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Wr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(ao.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(r){r=this.toSeconds(r),this._modulator.start(r),this._pulse.start(r)}_stop(r){r=this.toSeconds(r),this._modulator.stop(r),this._pulse.stop(r)}_restart(r){this._modulator.restart(r),this._pulse.restart(r)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(r){this._modulator.phase=r}asArray(r=1024){return Vr(this,void 0,void 0,function*(){return Di(this,r)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Km={am:Ml,fat:kl,fm:Al,oscillator:rn,pulse:ba,pwm:Rl};class Ol extends ao{constructor(){super(Ft(Ol.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const r=Ft(Ol.getDefaults(),arguments,["frequency","type"]);this.frequency=new gn({context:this.context,units:"frequency",value:r.frequency}),this.detune=new gn({context:this.context,units:"cents",value:r.detune}),Wr(this,["frequency","detune"]),this.set(r)}static getDefaults(){return Object.assign(rn.getDefaults(),Al.getDefaults(),Ml.getDefaults(),kl.getDefaults(),ba.getDefaults(),Rl.getDefaults())}_start(r){this._oscillator.start(r)}_stop(r){this._oscillator.stop(r)}_restart(r){return this._oscillator.restart(r),this}get type(){let r="";return["am","fm","fat"].some(o=>this._sourceType===o)&&(r=this._sourceType),r+this._oscillator.type}set type(r){r.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(2)):r.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=r.substr(3)):r==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):r==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=r)}get partials(){return this._oscillator.partials}set partials(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=r)}get partialCount(){return this._oscillator.partialCount}set partialCount(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=r)}set(r){return Reflect.has(r,"type")&&r.type&&(this.type=r.type),super.set(r),this}_createNewOscillator(r){if(r!==this._sourceType){this._sourceType=r;const o=Km[r],t=this.now();if(this._oscillator){const h=this._oscillator;h.stop(t),this.context.setTimeout(()=>h.dispose(),this.blockTime)}this._oscillator=new o({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(t)}}get phase(){return this._oscillator.phase}set phase(r){this._oscillator.phase=r}get sourceType(){return this._sourceType}set sourceType(r){let o="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(o=this._oscillator.type),r==="fm"?this.type="fm"+o:r==="am"?this.type="am"+o:r==="fat"?this.type="fat"+o:r==="oscillator"?this.type=o:r==="pulse"?this.type="pulse":r==="pwm"&&(this.type="pwm")}_getOscType(r,o){return r instanceof Km[o]}get baseType(){return this._oscillator.baseType}set baseType(r){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&r!=="pulse"&&r!=="pwm"&&(this._oscillator.baseType=r)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(r){this._getOscType(this._oscillator,"fat")&&Js(r)&&(this._oscillator.count=r)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(r){this._getOscType(this._oscillator,"fat")&&Js(r)&&(this._oscillator.spread=r)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(r){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&$o(r)&&(this._oscillator.modulationType=r)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(r=1024){return Vr(this,void 0,void 0,function*(){return Di(this,r)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Fv(n,r=1/0){const o=new WeakMap;return function(t,h){Reflect.defineProperty(t,h,{configurable:!0,enumerable:!0,get:function(){return o.get(this)},set:function(p){bs(p,n,r),o.set(this,p)}})}}function js(n,r=1/0){const o=new WeakMap;return function(t,h){Reflect.defineProperty(t,h,{configurable:!0,enumerable:!0,get:function(){return o.get(this)},set:function(p){bs(this.toSeconds(p),n,r),o.set(this,p)}})}}class xa extends ao{constructor(){super(Ft(xa.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const r=Ft(xa.getDefaults(),arguments,["url","onload"]);this._buffer=new Or({onload:this._onload.bind(this,r.onload),onerror:r.onerror,reverse:r.reverse,url:r.url}),this.autostart=r.autostart,this._loop=r.loop,this._loopStart=r.loopStart,this._loopEnd=r.loopEnd,this._playbackRate=r.playbackRate,this.fadeIn=r.fadeIn,this.fadeOut=r.fadeOut}static getDefaults(){return Object.assign(ao.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:kr,onerror:kr,playbackRate:1,reverse:!1})}load(r){return Vr(this,void 0,void 0,function*(){return yield this._buffer.load(r),this._onload(),this})}_onload(r=kr){r(),this.autostart&&this.start()}_onSourceEnd(r){this.onstop(this),this._activeSources.delete(r),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(r,o,t){return super.start(r,o,t),this}_start(r,o,t){this._loop?o=la(o,this._loopStart):o=la(o,0);const h=this.toSeconds(o),p=t;t=la(t,Math.max(this._buffer.duration-h,0));let c=this.toSeconds(t);c=c/this._playbackRate,r=this.toSeconds(r);const a=new El({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(r+c),this._state.setStateAtTime("stopped",r+c,{implicitEnd:!0})),this._activeSources.add(a),this._loop&&bo(p)?a.start(r,h):a.start(r,h,c-this.toSeconds(this.fadeOut))}_stop(r){const o=this.toSeconds(r);this._activeSources.forEach(t=>t.stop(o))}restart(r,o,t){return super.restart(r,o,t),this}_restart(r,o,t){this._stop(r),this._start(r,o,t)}seek(r,o){const t=this.toSeconds(o);if(this._state.getValueAtTime(t)==="started"){const h=this.toSeconds(r);this._stop(t),this._start(t,h)}return this}setLoopPoints(r,o){return this.loopStart=r,this.loopEnd=o,this}get loopStart(){return this._loopStart}set loopStart(r){this._loopStart=r,this.buffer.loaded&&bs(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(o=>{o.loopStart=r})}get loopEnd(){return this._loopEnd}set loopEnd(r){this._loopEnd=r,this.buffer.loaded&&bs(this.toSeconds(r),0,this.buffer.duration),this._activeSources.forEach(o=>{o.loopEnd=r})}get buffer(){return this._buffer}set buffer(r){this._buffer.set(r)}get loop(){return this._loop}set loop(r){if(this._loop!==r&&(this._loop=r,this._activeSources.forEach(o=>{o.loop=r}),r)){const o=this._state.getNextState("stopped",this.now());o&&this._state.cancel(o.time)}}get playbackRate(){return this._playbackRate}set playbackRate(r){this._playbackRate=r;const o=this.now(),t=this._state.getNextState("stopped",o);t&&t.implicitEnd&&(this._state.cancel(t.time),this._activeSources.forEach(h=>h.cancelStop())),this._activeSources.forEach(h=>{h.playbackRate.setValueAtTime(r,o)})}get reverse(){return this._buffer.reverse}set reverse(r){this._buffer.reverse=r}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(r=>r.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Fo([js(0)],xa.prototype,"fadeIn",void 0);Fo([js(0)],xa.prototype,"fadeOut",void 0);class xs extends ir{constructor(){super(Ft(xs.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new gn({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const r=Ft(xs.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=r.attack,this.decay=r.decay,this.sustain=r.sustain,this.release=r.release,this.attackCurve=r.attackCurve,this.releaseCurve=r.releaseCurve,this.decayCurve=r.decayCurve}static getDefaults(){return Object.assign(ir.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(r,o){if($o(r))return r;{let t;for(t in bu)if(bu[t][o]===r)return t;return r}}_setCurve(r,o,t){if($o(t)&&Reflect.has(bu,t)){const h=bu[t];xi(h)?r!=="_decayCurve"&&(this[r]=h[o]):this[r]=h}else if(Oo(t)&&r!=="_decayCurve")this[r]=t;else throw new Error("Envelope: invalid curve: "+t)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(r){this._setCurve("_attackCurve","In",r)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(r){this._setCurve("_releaseCurve","Out",r)}get decayCurve(){return this._decayCurve}set decayCurve(r){nr(["linear","exponential"].some(o=>o===r),`Invalid envelope curve: ${r}`),this._decayCurve=r}triggerAttack(r,o=1){this.log("triggerAttack",r,o),r=this.toSeconds(r);let h=this.toSeconds(this.attack);const p=this.toSeconds(this.decay),c=this.getValueAtTime(r);if(c>0){const a=1/h;h=(1-c)/a}if(h<this.sampleTime)this._sig.cancelScheduledValues(r),this._sig.setValueAtTime(o,r);else if(this._attackCurve==="linear")this._sig.linearRampTo(o,h,r);else if(this._attackCurve==="exponential")this._sig.targetRampTo(o,h,r);else{this._sig.cancelAndHoldAtTime(r);let a=this._attackCurve;for(let s=1;s<a.length;s++)if(a[s-1]<=c&&c<=a[s]){a=this._attackCurve.slice(s),a[0]=c;break}this._sig.setValueCurveAtTime(a,r,h,o)}if(p&&this.sustain<1){const a=o*this.sustain,s=r+h;this.log("decay",s),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(a,p+s):this._sig.exponentialApproachValueAtTime(a,s,p)}return this}triggerRelease(r){this.log("triggerRelease",r),r=this.toSeconds(r);const o=this.getValueAtTime(r);if(o>0){const t=this.toSeconds(this.release);t<this.sampleTime?this._sig.setValueAtTime(0,r):this._releaseCurve==="linear"?this._sig.linearRampTo(0,t,r):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,t,r):(nr(Oo(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(r),this._sig.setValueCurveAtTime(this._releaseCurve,r,t,o))}return this}getValueAtTime(r){return this._sig.getValueAtTime(r)}triggerAttackRelease(r,o,t=1){return o=this.toSeconds(o),this.triggerAttack(o,t),this.triggerRelease(o+this.toSeconds(r)),this}cancel(r){return this._sig.cancelScheduledValues(this.toSeconds(r)),this}connect(r,o=0,t=0){return Kp(this,r,o,t),this}asArray(r=1024){return Vr(this,void 0,void 0,function*(){const o=r/this.context.sampleRate,t=new $p(1,o,this.context.sampleRate),h=this.toSeconds(this.attack)+this.toSeconds(this.decay),p=h+this.toSeconds(this.release),c=p*.1,a=p+c,s=new this.constructor(Object.assign(this.get(),{attack:o*this.toSeconds(this.attack)/a,decay:o*this.toSeconds(this.decay)/a,release:o*this.toSeconds(this.release)/a,context:t}));return s._sig.toDestination(),s.triggerAttackRelease(o*(h+c)/a,0),(yield t.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Fo([js(0)],xs.prototype,"attack",void 0);Fo([js(0)],xs.prototype,"decay",void 0);Fo([Fv(0,1)],xs.prototype,"sustain",void 0);Fo([js(0)],xs.prototype,"release",void 0);const bu=(()=>{let r,o;const t=[];for(r=0;r<128;r++)t[r]=Math.sin(r/(128-1)*(Math.PI/2));const h=[],p=6.4;for(r=0;r<128-1;r++){o=r/(128-1);const u=Math.sin(o*(Math.PI*2)*p-Math.PI/2)+1;h[r]=u/10+o*.83}h[128-1]=1;const c=[],a=5;for(r=0;r<128;r++)c[r]=Math.ceil(r/(128-1)*a)/a;const s=[];for(r=0;r<128;r++)o=r/(128-1),s[r]=.5*(1-Math.cos(Math.PI*o));const d=[];for(r=0;r<128;r++){o=r/(128-1);const u=Math.pow(o,3)*4+.2,l=Math.cos(u*Math.PI*2*o);d[r]=Math.abs(l*(1-o))}function f(u){const l=new Array(u.length);for(let i=0;i<u.length;i++)l[i]=1-u[i];return l}function y(u){return u.slice(0).reverse()}return{bounce:{In:f(d),Out:d},cosine:{In:t,Out:y(t)},exponential:"exponential",linear:"linear",ripple:{In:h,Out:f(h)},sine:{In:s,Out:f(s)},step:{In:c,Out:f(c)}}})();class Ai extends ir{constructor(){super(Ft(Ai.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const r=Ft(Ai.getDefaults(),arguments);this._volume=this.output=new ei({context:this.context,volume:r.volume}),this.volume=this._volume.volume,Wr(this,"volume")}static getDefaults(){return Object.assign(ir.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let r=!1;return this._synced||(this._synced=!0,r=!0),r}_syncMethod(r,o){const t=this["_original_"+r]=this[r];this[r]=(...h)=>{const p=h[o],c=this.context.transport.schedule(a=>{h[o]=a,t.apply(this,h)},p);this._scheduledEvents.push(c)}}unsync(){return this._scheduledEvents.forEach(r=>this.context.transport.clear(r)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(r,o,t,h){const p=this.toSeconds(t),c=this.toSeconds(o);return this.triggerAttack(r,p,h),this.triggerRelease(p+c),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ki extends Ai{constructor(){super(Ft(ki.getDefaults(),arguments));const r=Ft(ki.getDefaults(),arguments);this.portamento=r.portamento,this.onsilence=r.onsilence}static getDefaults(){return Object.assign(Ai.getDefaults(),{detune:0,onsilence:kr,portamento:0})}triggerAttack(r,o,t=1){this.log("triggerAttack",r,o,t);const h=this.toSeconds(o);return this._triggerEnvelopeAttack(h,t),this.setNote(r,h),this}triggerRelease(r){this.log("triggerRelease",r);const o=this.toSeconds(r);return this._triggerEnvelopeRelease(o),this}setNote(r,o){const t=this.toSeconds(o),h=r instanceof go?r.toFrequency():r;if(this.portamento>0&&this.getLevelAtTime(t)>.05){const p=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(h,p,t)}else this.frequency.setValueAtTime(h,t);return this}}Fo([js(0)],ki.prototype,"portamento",void 0);class t0 extends xs{constructor(){super(Ft(t0.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new An({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Pl extends ki{constructor(){super(Ft(Pl.getDefaults(),arguments)),this.name="Synth";const r=Ft(Pl.getDefaults(),arguments);this.oscillator=new Ol(Object.assign({context:this.context,detune:r.detune,onstop:()=>this.onsilence(this)},r.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new t0(Object.assign({context:this.context},r.envelope)),this.oscillator.chain(this.envelope,this.output),Wr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ki.getDefaults(),{envelope:Object.assign(Qm(xs.getDefaults(),Object.keys(ir.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Qm(Ol.getDefaults(),[...Object.keys(ao.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(r,o){if(this.envelope.triggerAttack(r,o),this.oscillator.start(r),this.envelope.sustain===0){const t=this.toSeconds(this.envelope.attack),h=this.toSeconds(this.envelope.decay);this.oscillator.stop(r+t+h)}}_triggerEnvelopeRelease(r){this.envelope.triggerRelease(r),this.oscillator.stop(r+this.toSeconds(this.envelope.release))}getLevelAtTime(r){return r=this.toSeconds(r),this.envelope.getValueAtTime(r)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Il extends Pl{constructor(){super(Ft(Il.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const r=Ft(Il.getDefaults(),arguments);this.pitchDecay=r.pitchDecay,this.octaves=r.octaves,Wr(this,["oscillator","envelope"])}static getDefaults(){return aa(ki.getDefaults(),Pl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(r,o){const t=this.toSeconds(o),h=this.toFrequency(r instanceof go?r.toFrequency():r),p=h*this.octaves;return this.oscillator.frequency.setValueAtTime(p,t),this.oscillator.frequency.exponentialRampToValueAtTime(h,t+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Fo([Fv(0)],Il.prototype,"octaves",void 0);Fo([js(0)],Il.prototype,"pitchDecay",void 0);const Uv=new Set;function r0(n){Uv.add(n)}function Vv(n,r){const o=`registerProcessor("${n}", ${r})`;Uv.add(o)}const MT=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;r0(MT);const AT=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;r0(AT);const kT=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;r0(kT);const RT="feedback-comb-filter",OT=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Vv(RT,OT);class Dl extends Ai{constructor(){super(Ft(Dl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const r=Ft(Dl.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),o={};Object.keys(r.urls).forEach(t=>{const h=parseInt(t,10);if(nr(_u(t)||Js(h)&&isFinite(h),`url key is neither a note or midi pitch: ${t}`),_u(t)){const p=new go(this.context,t).toMidi();o[p]=r.urls[t]}else Js(h)&&isFinite(h)&&(o[h]=r.urls[h])}),this._buffers=new Jp({urls:o,onload:r.onload,baseUrl:r.baseUrl,onerror:r.onerror}),this.attack=r.attack,this.release=r.release,this.curve=r.curve,this._buffers.loaded&&Promise.resolve().then(r.onload)}static getDefaults(){return Object.assign(Ai.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:kr,onerror:kr,release:.1,urls:{}})}_findClosest(r){let t=0;for(;t<96;){if(this._buffers.has(r+t))return-t;if(this._buffers.has(r-t))return t;t++}throw new Error(`No available buffers for note: ${r}`)}triggerAttack(r,o,t=1){return this.log("triggerAttack",r,o,t),Array.isArray(r)||(r=[r]),r.forEach(h=>{const p=Bv(new go(this.context,h).toFrequency()),c=Math.round(p),a=p-c,s=this._findClosest(c),d=c-s,f=this._buffers.get(d),y=Nv(s+a),u=new El({url:f,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);u.start(o,0,f.duration/y,t),Oo(this._activeSources.get(c))||this._activeSources.set(c,[]),this._activeSources.get(c).push(u),u.onended=()=>{if(this._activeSources&&this._activeSources.has(c)){const l=this._activeSources.get(c),i=l.indexOf(u);i!==-1&&l.splice(i,1)}}}),this}triggerRelease(r,o){return this.log("triggerRelease",r,o),Array.isArray(r)||(r=[r]),r.forEach(t=>{const h=new go(this.context,t).toMidi();if(this._activeSources.has(h)&&this._activeSources.get(h).length){const p=this._activeSources.get(h);o=this.toSeconds(o),p.forEach(c=>{c.stop(o)}),this._activeSources.set(h,[])}}),this}releaseAll(r){const o=this.toSeconds(r);return this._activeSources.forEach(t=>{for(;t.length;)t.shift().stop(o)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(r,o,t,h=1){const p=this.toSeconds(t);return this.triggerAttack(r,p,h),Oo(o)?(nr(Oo(r),"notes must be an array when duration is array"),r.forEach((c,a)=>{const s=o[Math.min(a,o.length-1)];this.triggerRelease(c,p+this.toSeconds(s))})):this.triggerRelease(r,p+this.toSeconds(o)),this}add(r,o,t){if(nr(_u(r)||isFinite(r),`note must be a pitch or midi: ${r}`),_u(r)){const h=new go(this.context,r).toMidi();this._buffers.add(h,o,t)}else this._buffers.add(r,o,t);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(r=>{r.forEach(o=>o.dispose())}),this._activeSources.clear(),this}}Fo([js(0)],Dl.prototype,"attack",void 0);Fo([js(0)],Dl.prototype,"release",void 0);class Ic extends ir{constructor(){super(Object.assign(Ft(Ic.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const r=Ft(Ic.getDefaults(),arguments,["pan"]);this.pan=new Br({context:this.context,param:this._panner.pan,value:r.pan,minValue:-1,maxValue:1}),this._panner.channelCount=r.channelCount,this._panner.channelCountMode="explicit",Wr(this,"pan")}static getDefaults(){return Object.assign(ir.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const PT="bit-crusher",IT=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Vv(PT,IT);class Dc extends ir{constructor(){super(Ft(Dc.getDefaults(),arguments,["channels"])),this.name="Split";const r=Ft(Dc.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(r.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(ir.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Lc extends ir{constructor(){super(Ft(Lc.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const r=Ft(Lc.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new An({context:this.context}),this._split=new Dc({context:this.context,channels:r.channels}),this.input.connect(this._split),bs(r.channels,1);for(let o=0;o<r.channels;o++)this._analysers[o]=this.context.createAnalyser(),this._split.connect(this._analysers[o],o,0);this.size=r.size,this.type=r.type}static getDefaults(){return Object.assign(ir.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((r,o)=>{const t=this._buffers[o];this._type==="fft"?r.getFloatFrequencyData(t):this._type==="waveform"&&r.getFloatTimeDomainData(t)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(r){this._analysers.forEach((o,t)=>{o.fftSize=r*2,this._buffers[t]=new Float32Array(r)})}get channels(){return this._analysers.length}get type(){return this._type}set type(r){nr(r==="waveform"||r==="fft",`Analyser: invalid type: ${r}`),this._type=r}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(r){this._analysers.forEach(o=>o.smoothingTimeConstant=r)}dispose(){return super.dispose(),this._analysers.forEach(r=>r.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Nc extends ir{constructor(){super(Ft(Nc.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Lc({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Bc extends Nc{constructor(){super(Ft(Bc.getDefaults(),arguments,["size"])),this.name="Waveform";const r=Ft(Bc.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=r.size}static getDefaults(){return Object.assign(Nc.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(r){this._analyser.size=r}}class en extends ir{constructor(){super(Ft(en.getDefaults(),arguments,["solo"])),this.name="Solo";const r=Ft(en.getDefaults(),arguments,["solo"]);this.input=this.output=new An({context:this.context}),en._allSolos.has(this.context)||en._allSolos.set(this.context,new Set),en._allSolos.get(this.context).add(this),this.solo=r.solo}static getDefaults(){return Object.assign(ir.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(r){r?this._addSolo():this._removeSolo(),en._allSolos.get(this.context).forEach(o=>o._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){en._soloed.has(this.context)||en._soloed.set(this.context,new Set),en._soloed.get(this.context).add(this)}_removeSolo(){en._soloed.has(this.context)&&en._soloed.get(this.context).delete(this)}_isSoloed(){return en._soloed.has(this.context)&&en._soloed.get(this.context).has(this)}_noSolos(){return!en._soloed.has(this.context)||en._soloed.has(this.context)&&en._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),en._allSolos.get(this.context).delete(this),this._removeSolo(),this}}en._allSolos=new Map;en._soloed=new Map;class Fc extends ir{constructor(){super(Ft(Fc.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const r=Ft(Fc.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Ic({context:this.context,pan:r.pan,channelCount:r.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new ei({context:this.context,volume:r.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=r.mute,Wr(this,["pan","volume"])}static getDefaults(){return Object.assign(ir.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(r){this._volume.mute=r}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class fs extends ir{constructor(){super(Ft(fs.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const r=Ft(fs.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new en({solo:r.solo,context:this.context}),this._panVol=this.output=new Fc({context:this.context,pan:r.pan,volume:r.volume,mute:r.mute,channelCount:r.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Wr(this,["pan","volume"])}static getDefaults(){return Object.assign(ir.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(r){this._solo.solo=r}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(r){this._panVol.mute=r}_getBus(r){return fs.buses.has(r)||fs.buses.set(r,new An({context:this.context})),fs.buses.get(r)}send(r,o=0){const t=this._getBus(r),h=new An({context:this.context,units:"decibels",gain:o});return this.connect(h),h.connect(t),h}receive(r){return this._getBus(r).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}fs.buses=new Map;class DT extends ir{constructor(){super(...arguments),this.name="Listener",this.positionX=new Br({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Br({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Br({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Br({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Br({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Br({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Br({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Br({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Br({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ir.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Ad(n=>{n.listener=new DT({context:n})});kd(n=>{n.listener.dispose()});class ul extends ir{constructor(){super(Ft(ul.getDefaults(),arguments)),this.name="Recorder";const r=Ft(ul.getDefaults(),arguments);this.input=new An({context:this.context}),nr(ul.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:r.mimeType})}static getDefaults(){return ir.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return _s!==null&&Reflect.has(_s,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return Vr(this,void 0,void 0,function*(){nr(this.state!=="started","Recorder is already started");const r=new Promise(o=>{const t=()=>{this._recorder.removeEventListener("start",t,!1),o()};this._recorder.addEventListener("start",t,!1)});return this._recorder.start(),yield r})}stop(){return Vr(this,void 0,void 0,function*(){nr(this.state!=="stopped","Recorder is not started");const r=new Promise(o=>{const t=h=>{this._recorder.removeEventListener("dataavailable",t,!1),o(h.data)};this._recorder.addEventListener("dataavailable",t,!1)});return this._recorder.stop(),yield r})}pause(){return nr(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}const hn=yo().transport,ui=yo().destination;yo().destination;yo().listener;yo().draw;const Gv=yo(),En=100,vo=100,LT=4,Pd=50,Jm=44100,NT=1e7,BT=60,e1=25,_f={mp3:"audio/mp3",wav:"audio/wav"},FT=32767.5,UT=n=>n==_f.mp3?"audio.mp3":"audio.wav";var VT=GT;function GT(n,r){r=r||{};var o=n.numberOfChannels,t=n.sampleRate,h=r.float32?3:1,p=h===3?32:16,c;return o===2?c=HT(n.getChannelData(0),n.getChannelData(1)):c=n.getChannelData(0),zT(c,h,t,o,p)}function zT(n,r,o,t,h){var p=h/8,c=t*p,a=new ArrayBuffer(44+n.length*p),s=new DataView(a);return xu(s,0,"RIFF"),s.setUint32(4,36+n.length*p,!0),xu(s,8,"WAVE"),xu(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,r,!0),s.setUint16(22,t,!0),s.setUint32(24,o,!0),s.setUint32(28,o*c,!0),s.setUint16(32,c,!0),s.setUint16(34,h,!0),xu(s,36,"data"),s.setUint32(40,n.length*p,!0),r===1?qT(s,44,n):WT(s,44,n),a}function HT(n,r){for(var o=n.length+r.length,t=new Float32Array(o),h=0,p=0;h<o;)t[h++]=n[p],t[h++]=r[p],p++;return t}function WT(n,r,o){for(var t=0;t<o.length;t++,r+=4)n.setFloat32(r,o[t],!0)}function qT(n,r,o){for(var t=0;t<o.length;t++,r+=2){var h=Math.max(-1,Math.min(1,o[t]));n.setInt16(r,h<0?h*32768:h*32767,!0)}}function xu(n,r,o){for(var t=0;t<o.length;t++)n.setUint8(r+t,o.charCodeAt(t))}const XT=n=>VT(n),n0=n=>new xa({url:n,loop:!1}).sync(),YT=n=>n.get(),$T=(n,r)=>(n%r+r)%r,o0=(n,r,o,t,h)=>{let p=(n-r)*(h-t)/(o-r)+r;return Math.min(Math.max(p,t),h)};let wu;const ZT=new Uint8Array(16);function QT(){if(!wu&&(wu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!wu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wu(ZT)}const jn=[];for(let n=0;n<256;++n)jn.push((n+256).toString(16).slice(1));function KT(n,r=0){return(jn[n[r+0]]+jn[n[r+1]]+jn[n[r+2]]+jn[n[r+3]]+"-"+jn[n[r+4]]+jn[n[r+5]]+"-"+jn[n[r+6]]+jn[n[r+7]]+"-"+jn[n[r+8]]+jn[n[r+9]]+"-"+jn[n[r+10]]+jn[n[r+11]]+jn[n[r+12]]+jn[n[r+13]]+jn[n[r+14]]+jn[n[r+15]]).toLowerCase()}const JT=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),t1={randomUUID:JT};function s0(n,r,o){if(t1.randomUUID&&!r&&!n)return t1.randomUUID();n=n||{};const t=n.random||(n.rng||QT)();if(t[6]=t[6]&15|64,t[8]=t[8]&63|128,r){o=o||0;for(let h=0;h<16;++h)r[o+h]=t[h];return r}return KT(t)}var tr=(n=>(n[n.setMic=0]="setMic",n[n.togglePlay=1]="togglePlay",n[n.toggleMute=2]="toggleMute",n[n.toggleEditing=3]="toggleEditing",n[n.toggleRecordingState=4]="toggleRecordingState",n[n.initialize=5]="initialize",n[n.selectChannel=6]="selectChannel",n[n.deselectAllChannels=7]="deselectAllChannels",n[n.addChannel=8]="addChannel",n[n.editChannelName=9]="editChannelName",n[n.deleteSelectedChannel=10]="deleteSelectedChannel",n[n.selectRecording=11]="selectRecording",n[n.deselectRecordings=12]="deselectRecordings",n[n.scheduleNewRecording=13]="scheduleNewRecording",n[n.deleteSelectedRecording=14]="deleteSelectedRecording",n[n.updateRecordingPosition=15]="updateRecordingPosition",n[n.switchRecordingChannel=16]="switchRecordingChannel",n[n.updateTransportLength=17]="updateTransportLength",n[n.updateTransportPosition=18]="updateTransportPosition",n[n.editRecordingName=19]="editRecordingName",n[n.cropRecording=20]="cropRecording",n[n.splitRecording=21]="splitRecording",n[n.soloRecording=22]="soloRecording",n[n.unsoloRecording=23]="unsoloRecording",n))(tr||{});const ej=(n,r)=>{switch(r.type){case tr.togglePlay:return{...n,playing:r.payload.playing,time:r.payload.time};case tr.toggleMute:return{...n,muted:r.payload.muted};case tr.toggleEditing:return{...n,editing:r.payload.editing};case tr.toggleRecordingState:return{...n,recordingState:r.payload,playing:r.payload};case tr.initialize:return tj(n,r.payload);case tr.addChannel:return rj(n);case tr.editChannelName:return oj(n,r.payload);case tr.selectChannel:return{...n,selectedChannel:r.payload};case tr.deselectAllChannels:return{...n,selectedChannel:""};case tr.deleteSelectedChannel:return nj(n,n.selectedChannel);case tr.selectRecording:return Xv(n,r.payload);case tr.deselectRecordings:return{...n,selectedRecording:i0()};case tr.scheduleNewRecording:return ij(n,r.payload);case tr.deleteSelectedRecording:return dj(n,r.payload);case tr.updateRecordingPosition:return hj(n,r.payload);case tr.switchRecordingChannel:return pj(n,r.payload);case tr.editRecordingName:return uj(n,r.payload);case tr.cropRecording:return yj(n,r.payload);case tr.splitRecording:return gj(n,r.payload);case tr.soloRecording:return vj(n,r.payload);case tr.unsoloRecording:return _j(n,r.payload);case tr.updateTransportLength:return{...n,transportLength:r.payload};case tr.updateTransportPosition:return mj(n,r.payload);default:return n}},zv=n=>({channel:new fs().toDestination(),name:"Audio "+(n+1).toString(),recordings:[],id:s0(),index:n}),tj=(n,r)=>{let o=[];for(let t=0;t<LT;t++)o.push(zv(t));return{...n,channels:o,soloChannel:new fs().toDestination(),selectedChannel:o[0].id,mic:r}},rj=n=>{let r=zv(n.channels.length);return{...n,channels:[...n.channels,r],selectedChannel:r.id}},nj=(n,r)=>{let o=n.selectedRecording,t=n.selectedChannel,h=o.id==r;return{...n,channels:lj(n.channels,r,!0),selectedRecording:h?i0():o,selectedChannel:r==t?"":t}},oj=(n,r)=>({...n,channels:n.channels.map(o=>o.id==r.id?{...o,name:r.name}:o)}),sj=(n,r)=>{let o=n.channels.find(t=>t.id==r);return o?o.name:""},tn=n=>"id"in n&&"player"in n,i0=()=>({id:"",name:""}),Hv=n=>{n.dispose()},Wv=(n,r)=>{let o=a0(n.channels,r.channel);l0(r),r.player.connect(n.channels[o].channel)},ij=(n,r)=>{r.id=s0(),r.channel=n.selectedChannel,Wv(n,r);let o=Yv(n,r);return o={...o,time:r.duration},Xv(o,r)},a0=(n,r)=>{let o=n.findIndex(t=>t.id==r);return o>0?o:0},aj=(n,r)=>n.channels.flatMap(o=>o.recordings).find(o=>o.id===r),lj=(n,r,o)=>n.filter(t=>(t.id==r&&o&&t.recordings.map(h=>{Hv(h.player)}),t.id!=r)),qv=(n,r,o)=>n.filter(t=>(r==t.id&&o&&Hv(t.player),r!=t.id)),uj=(n,r)=>{let o=aj(n,r.id);return o?ka(n,{...o,name:r.name}):n},ka=(n,r)=>{let o=r.id==n.selectedRecording.id?r:n.selectedRecording;return{...n,selectedRecording:o,channels:n.channels.map(t=>t.id==r.channel?{...t,recordings:cj(t.recordings,r)}:t)}},cj=(n,r)=>n.map(o=>o.id==r.id?r:o),Xv=(n,r)=>({...n,selectedRecording:r}),Yv=(n,r)=>({...n,channels:n.channels.map(o=>o.id==r.channel?{...o,recordings:[...o.recordings,r]}:o)}),dj=(n,r)=>({...n,channels:n.channels.map(o=>o.id==r.channel?{...o,recordings:qv(o.recordings,r.id,!0)}:o)}),hj=(n,r)=>{let o=r.pos/En,t=o-r.r.start;return r.r.start+o<0&&(o=Math.abs(r.r.start)*-1),r.r.position+=t,r.r.start=o,r.r.duration+=t,l0(r.r),ka(n,r.r)},fj=(n,r)=>{n.channels.forEach(o=>{o.recordings.forEach(t=>{let h=u0(r,t);$v(t,h)})})},pj=(n,r)=>({...n,channels:n.channels.map(o=>o.index==r.index?{...o,recordings:qv(o.recordings,r.r.id,!1)}:o.index==r.newIndex?{...o,recordings:[...o.recordings,r.r]}:o)}),mj=(n,r)=>(fj(n,r),{...n,playing:!1,time:r}),yj=(n,r)=>{let o=r.r;return o.start+=r.left,o.duration-=r.right,l0(o),ka(n,o)},gj=(n,r)=>{let o=r.r.player.buffer,t=o.slice(0,r.split),h=o.slice(r.split,r.r.duration),p=r.r.start-r.r.position,c={id:s0(),name:"",channel:r.r.channel,position:r.split-p,duration:r.r.duration,start:r.split,data:"",player:n0(h),solo:!1};return o.dispose(),r.r.duration=r.split,r.r.player.buffer=t,Wv(n,c),Yv(ka(n,r.r),c)},$v=(n,r)=>{n.player.unsync();let o=n.start-n.position+r;n.player.sync().start(n.position+o,o),n.player.stop(n.duration)},l0=n=>{let r=u0(hn.seconds,n);$v(n,r)},u0=(n,r)=>n>=r.start||n<r.duration?0:n-r.start,vj=(n,r)=>r.player&&n.soloChannel?(r.player.connect(n.soloChannel),n.soloChannel.solo=!0,r.solo=!0,ka(n,r)):n,_j=(n,r)=>{if(r.player&&n.soloChannel){r.player.disconnect();let o=a0(n.channels,r.channel);return r.player.connect(n.channels[o].channel),n.soloChannel.solo=!1,r.solo=!1,ka(n,r)}return n};function Su(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zv={exports:{}};/*! p5.js v1.6.0 February 22, 2023 */(function(n,r){(function(o){n.exports=o()})(function(){var o;return function t(h,p,c){function a(f,y){if(!p[f]){if(!h[f]){var u=typeof Su=="function"&&Su;if(!y&&u)return u(f,!0);if(s)return s(f,!0);throw(y=new Error("Cannot find module '"+f+"'")).code="MODULE_NOT_FOUND",y}u=p[f]={exports:{}},h[f][0].call(u.exports,function(l){return a(h[f][1][l]||l)},u,u.exports,t,h,p,c)}return p[f].exports}for(var s=typeof Su=="function"&&Su,d=0;d<c.length;d++)a(c[d]);return a}({1:[function(t,h,p){p.byteLength=function(m){var m=u(m),i=m[0],m=m[1];return 3*(i+m)/4-m},p.toByteArray=function(l){var i,m,v=u(l),g=v[0],v=v[1],b=new s(function(x,M){return 3*(x+M)/4-M}(g,v)),w=0,S=0<v?g-4:g;for(m=0;m<S;m+=4)i=a[l.charCodeAt(m)]<<18|a[l.charCodeAt(m+1)]<<12|a[l.charCodeAt(m+2)]<<6|a[l.charCodeAt(m+3)],b[w++]=i>>16&255,b[w++]=i>>8&255,b[w++]=255&i;return v===2&&(i=a[l.charCodeAt(m)]<<2|a[l.charCodeAt(m+1)]>>4,b[w++]=255&i),v===1&&(i=a[l.charCodeAt(m)]<<10|a[l.charCodeAt(m+1)]<<4|a[l.charCodeAt(m+2)]>>2,b[w++]=i>>8&255,b[w++]=255&i),b},p.fromByteArray=function(l){for(var i,m=l.length,g=m%3,v=[],b=0,w=m-g;b<w;b+=16383)v.push(function(S,x,M){for(var C,E=[],P=x;P<M;P+=3)C=(S[P]<<16&16711680)+(S[P+1]<<8&65280)+(255&S[P+2]),E.push(function(D){return c[D>>18&63]+c[D>>12&63]+c[D>>6&63]+c[63&D]}(C));return E.join("")}(l,b,w<b+16383?w:b+16383));return g==1?(i=l[m-1],v.push(c[i>>2]+c[i<<4&63]+"==")):g==2&&(i=(l[m-2]<<8)+l[m-1],v.push(c[i>>10]+c[i>>4&63]+c[i<<2&63]+"=")),v.join("")};for(var c=[],a=[],s=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,y=d.length;f<y;++f)c[f]=d[f],a[d.charCodeAt(f)]=f;function u(l){var i=l.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");return l=l.indexOf("="),i=(l=l===-1?i:l)===i?0:4-l%4,[l,i]}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},{}],2:[function(t,h,p){},{}],3:[function(t,h,p){arguments[4][2][0].apply(p,arguments)},{dup:2}],4:[function(t,h,p){(function(u){var a=t("base64-js"),s=t("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,f=(p.Buffer=u,p.SlowBuffer=function(O){return+O!=O&&(O=0),u.alloc(+O)},p.INSPECT_MAX_BYTES=50,2147483647);function y(O){if(f<O)throw new RangeError('The value "'+O+'" is invalid for option "size"');return O=new Uint8Array(O),Object.setPrototypeOf(O,u.prototype),O}function u(O,j,F){if(typeof O!="number")return l(O,j,F);if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(O)}function l(O,j,F){if(typeof O=="string"){var V=O,ae=j;if(u.isEncoding(ae=typeof ae=="string"&&ae!==""?ae:"utf8"))return ue=0|b(V,ae),Ee=y(ue),Ee=(V=Ee.write(V,ae))!==ue?Ee.slice(0,V):Ee;throw new TypeError("Unknown encoding: "+ae)}if(ArrayBuffer.isView(O))return g(O);if(O!=null){if(le(O,ArrayBuffer)||O&&le(O.buffer,ArrayBuffer)){var ue=O,V=j,Ee=F;if(V<0||ue.byteLength<V)throw new RangeError('"offset" is outside of buffer bounds');if(ue.byteLength<V+(Ee||0))throw new RangeError('"length" is outside of buffer bounds');return ue=V===void 0&&Ee===void 0?new Uint8Array(ue):Ee===void 0?new Uint8Array(ue,V):new Uint8Array(ue,V,Ee),Object.setPrototypeOf(ue,u.prototype),ue}if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ae=O.valueOf&&O.valueOf(),ae!=null&&ae!==O)return u.from(ae,j,F);var Re=function(Ce){{var xe,Ze;if(u.isBuffer(Ce))return xe=0|v(Ce.length),(Ze=y(xe)).length!==0&&Ce.copy(Ze,0,0,xe),Ze}if(Ce.length!==void 0)return typeof Ce.length!="number"||de(Ce.length)?y(0):g(Ce);if(Ce.type==="Buffer"&&Array.isArray(Ce.data))return g(Ce.data)}(O);if(Re)return Re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return u.from(O[Symbol.toPrimitive]("string"),j,F)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function i(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function m(O){return i(O),y(O<0?0:0|v(O))}function g(O){for(var j=O.length<0?0:0|v(O.length),F=y(j),V=0;V<j;V+=1)F[V]=255&O[V];return F}function v(O){if(f<=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|O}function b(O,j){if(u.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||le(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var F=O.length,V=2<arguments.length&&arguments[2]===!0;if(!V&&F===0)return 0;for(var ae=!1;;)switch(j){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return J(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*F;case"hex":return F>>>1;case"base64":return oe(O).length;default:if(ae)return V?-1:J(O).length;j=(""+j).toLowerCase(),ae=!0}}function w(O,j,F){var V,ae=!1;if((j=j===void 0||j<0?0:j)>this.length||(F=F===void 0||F>this.length?this.length:F)<=0||(F>>>=0)<=(j>>>=0))return"";for(O=O||"utf8";;)switch(O){case"hex":var ue=this,Ge=j,Ee=F,Ze=ue.length;(!Ee||Ee<0||Ze<Ee)&&(Ee=Ze);for(var Re="",Ce=Ge=!Ge||Ge<0?0:Ge;Ce<Ee;++Ce)Re+=se[ue[Ce]];return Re;case"utf8":case"utf-8":return P(this,j,F);case"ascii":var xe=this,Ze=j,we=F,Ae="";we=Math.min(xe.length,we);for(var Ue=Ze;Ue<we;++Ue)Ae+=String.fromCharCode(127&xe[Ue]);return Ae;case"latin1":case"binary":var qe=this,Ge=j,it=F,ie="";it=Math.min(qe.length,it);for(var Be=Ge;Be<it;++Be)ie+=String.fromCharCode(qe[Be]);return ie;case"base64":return Pe=this,V=F,(We=j)===0&&V===Pe.length?a.fromByteArray(Pe):a.fromByteArray(Pe.slice(We,V));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Pe=j,We=F,Je=this.slice(Pe,We),ze="",tt=0;tt<Je.length;tt+=2)ze+=String.fromCharCode(Je[tt]+256*Je[tt+1]);return ze;default:if(ae)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),ae=!0}}function S(O,j,F){var V=O[j];O[j]=O[F],O[F]=V}function x(O,j,F,V,ae){if(O.length===0)return-1;if(typeof F=="string"?(V=F,F=0):2147483647<F?F=2147483647:F<-2147483648&&(F=-2147483648),(F=(F=de(F=+F)?ae?0:O.length-1:F)<0?O.length+F:F)>=O.length){if(ae)return-1;F=O.length-1}else if(F<0){if(!ae)return-1;F=0}if(typeof j=="string"&&(j=u.from(j,V)),u.isBuffer(j))return j.length===0?-1:M(O,j,F,V,ae);if(typeof j=="number")return j&=255,typeof Uint8Array.prototype.indexOf=="function"?(ae?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(O,j,F):M(O,[j],F,V,ae);throw new TypeError("val must be string, number or Buffer")}function M(O,j,F,V,ae){var ue=1,Ee=O.length,Re=j.length;if(V!==void 0&&((V=String(V).toLowerCase())==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(O.length<2||j.length<2)return-1;Ee/=ue=2,Re/=2,F/=2}function Ce(Ue,qe){return ue===1?Ue[qe]:Ue.readUInt16BE(qe*ue)}if(ae)for(var xe=-1,Ze=F;Ze<Ee;Ze++)if(Ce(O,Ze)===Ce(j,xe===-1?0:Ze-xe)){if(Ze-(xe=xe===-1?Ze:xe)+1===Re)return xe*ue}else xe!==-1&&(Ze-=Ze-xe),xe=-1;else for(Ze=F=Ee<F+Re?Ee-Re:F;0<=Ze;Ze--){for(var we=!0,Ae=0;Ae<Re;Ae++)if(Ce(O,Ze+Ae)!==Ce(j,Ae)){we=!1;break}if(we)return Ze}return-1}function C(O,j,F,V){return ee(function(ae){for(var ue=[],Ee=0;Ee<ae.length;++Ee)ue.push(255&ae.charCodeAt(Ee));return ue}(j),O,F,V)}function E(O,j,F,V){return ee(function(ae,ue){for(var Ee,Re,Ce=[],xe=0;xe<ae.length&&!((ue-=2)<0);++xe)Re=ae.charCodeAt(xe),Ee=Re>>8,Re=Re%256,Ce.push(Re),Ce.push(Ee);return Ce}(j,O.length-F),O,F,V)}function P(O,j,F){F=Math.min(O.length,F);for(var V=[],ae=j;ae<F;){var ue,Ee,Re,Ce,xe=O[ae],Ze=null,we=239<xe?4:223<xe?3:191<xe?2:1;if(ae+we<=F)switch(we){case 1:xe<128&&(Ze=xe);break;case 2:(192&(ue=O[ae+1]))==128&&127<(Ce=(31&xe)<<6|63&ue)&&(Ze=Ce);break;case 3:ue=O[ae+1],Ee=O[ae+2],(192&ue)==128&&(192&Ee)==128&&2047<(Ce=(15&xe)<<12|(63&ue)<<6|63&Ee)&&(Ce<55296||57343<Ce)&&(Ze=Ce);break;case 4:ue=O[ae+1],Ee=O[ae+2],Re=O[ae+3],(192&ue)==128&&(192&Ee)==128&&(192&Re)==128&&65535<(Ce=(15&xe)<<18|(63&ue)<<12|(63&Ee)<<6|63&Re)&&Ce<1114112&&(Ze=Ce)}Ze===null?(Ze=65533,we=1):65535<Ze&&(Ze-=65536,V.push(Ze>>>10&1023|55296),Ze=56320|1023&Ze),V.push(Ze),ae+=we}var Ae=V,Ue=Ae.length;if(Ue<=D)return String.fromCharCode.apply(String,Ae);for(var qe="",Ge=0;Ge<Ue;)qe+=String.fromCharCode.apply(String,Ae.slice(Ge,Ge+=D));return qe}p.kMaxLength=f,(u.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(O,j),O.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=l,Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(O,j,F){return j=j,F=F,i(O=O),!(O<=0)&&j!==void 0?typeof F=="string"?y(O).fill(j,F):y(O).fill(j):y(O)},u.allocUnsafe=m,u.allocUnsafeSlow=m,u.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==u.prototype},u.compare=function(O,j){if(le(O,Uint8Array)&&(O=u.from(O,O.offset,O.byteLength)),le(j,Uint8Array)&&(j=u.from(j,j.offset,j.byteLength)),!u.isBuffer(O)||!u.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===j)return 0;for(var F=O.length,V=j.length,ae=0,ue=Math.min(F,V);ae<ue;++ae)if(O[ae]!==j[ae]){F=O[ae],V=j[ae];break}return F<V?-1:V<F?1:0},u.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(O,j){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return u.alloc(0);if(j===void 0)for(ae=j=0;ae<O.length;++ae)j+=O[ae].length;for(var F=u.allocUnsafe(j),V=0,ae=0;ae<O.length;++ae){var ue=O[ae];if(le(ue,Uint8Array)&&(ue=u.from(ue)),!u.isBuffer(ue))throw new TypeError('"list" argument must be an Array of Buffers');ue.copy(F,V),V+=ue.length}return F},u.byteLength=b,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<O;j+=2)S(this,j,j+1);return this},u.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<O;j+=4)S(this,j,j+3),S(this,j+1,j+2);return this},u.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<O;j+=8)S(this,j,j+7),S(this,j+1,j+6),S(this,j+2,j+5),S(this,j+3,j+4);return this},u.prototype.toLocaleString=u.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?P(this,0,O):w.apply(this,arguments)},u.prototype.equals=function(O){if(u.isBuffer(O))return this===O||u.compare(this,O)===0;throw new TypeError("Argument must be a Buffer")},u.prototype.inspect=function(){var j="",O=p.INSPECT_MAX_BYTES,j=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim();return this.length>O&&(j+=" ... "),"<Buffer "+j+">"},d&&(u.prototype[d]=u.prototype.inspect),u.prototype.compare=function(O,j,F,V,ae){if(le(O,Uint8Array)&&(O=u.from(O,O.offset,O.byteLength)),!u.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(F===void 0&&(F=O?O.length:0),V===void 0&&(V=0),ae===void 0&&(ae=this.length),(j=j===void 0?0:j)<0||F>O.length||V<0||ae>this.length)throw new RangeError("out of range index");if(ae<=V&&F<=j)return 0;if(ae<=V)return-1;if(F<=j)return 1;if(this===O)return 0;for(var ue=(ae>>>=0)-(V>>>=0),Ee=(F>>>=0)-(j>>>=0),Re=Math.min(ue,Ee),Ce=this.slice(V,ae),xe=O.slice(j,F),Ze=0;Ze<Re;++Ze)if(Ce[Ze]!==xe[Ze]){ue=Ce[Ze],Ee=xe[Ze];break}return ue<Ee?-1:Ee<ue?1:0},u.prototype.includes=function(O,j,F){return this.indexOf(O,j,F)!==-1},u.prototype.indexOf=function(O,j,F){return x(this,O,j,F,!0)},u.prototype.lastIndexOf=function(O,j,F){return x(this,O,j,F,!1)},u.prototype.write=function(O,j,F,V){if(j===void 0)V="utf8",F=this.length,j=0;else if(F===void 0&&typeof j=="string")V=j,F=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j>>>=0,isFinite(F)?(F>>>=0,V===void 0&&(V="utf8")):(V=F,F=void 0)}var ae=this.length-j;if((F===void 0||ae<F)&&(F=ae),0<O.length&&(F<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");V=V||"utf8";for(var ue,Ee,Re,Ce=!1;;)switch(V){case"hex":var xe=this,Ze=O,we=j,Ae=F,Ue=(we=Number(we)||0,xe.length-we);(!Ae||Ue<(Ae=Number(Ae)))&&(Ae=Ue),(Ue=Ze.length)/2<Ae&&(Ae=Ue/2);for(var qe=0;qe<Ae;++qe){var Ge=parseInt(Ze.substr(2*qe,2),16);if(de(Ge))return qe;xe[we+qe]=Ge}return qe;case"utf8":case"utf-8":return Ue=j,Re=F,ee(J(O,(Ee=this).length-Ue),Ee,Ue,Re);case"ascii":return C(this,O,j,F);case"latin1":case"binary":return C(this,O,j,F);case"base64":return Ee=this,Re=j,ue=F,ee(oe(O),Ee,Re,ue);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,O,j,F);default:if(Ce)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var D=4096;function I(O,j,F){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(F<O+j)throw new RangeError("Trying to access beyond buffer length")}function U(O,j,F,V,ae,ue){if(!u.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae<j||j<ue)throw new RangeError('"value" argument is out of bounds');if(F+V>O.length)throw new RangeError("Index out of range")}function G(O,j,F,V){if(F+V>O.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function W(O,j,F,V,ae){return j=+j,F>>>=0,ae||G(O,0,F,4),s.write(O,j,F,V,23,4),F+4}function te(O,j,F,V,ae){return j=+j,F>>>=0,ae||G(O,0,F,8),s.write(O,j,F,V,52,8),F+8}u.prototype.slice=function(O,j){var F=this.length,F=((O=~~O)<0?(O+=F)<0&&(O=0):F<O&&(O=F),(j=j===void 0?F:~~j)<0?(j+=F)<0&&(j=0):F<j&&(j=F),j<O&&(j=O),this.subarray(O,j));return Object.setPrototypeOf(F,u.prototype),F},u.prototype.readUIntLE=function(O,j,F){O>>>=0,j>>>=0,F||I(O,j,this.length);for(var V=this[O],ae=1,ue=0;++ue<j&&(ae*=256);)V+=this[O+ue]*ae;return V},u.prototype.readUIntBE=function(O,j,F){O>>>=0,j>>>=0,F||I(O,j,this.length);for(var V=this[O+--j],ae=1;0<j&&(ae*=256);)V+=this[O+--j]*ae;return V},u.prototype.readUInt8=function(O,j){return O>>>=0,j||I(O,1,this.length),this[O]},u.prototype.readUInt16LE=function(O,j){return O>>>=0,j||I(O,2,this.length),this[O]|this[O+1]<<8},u.prototype.readUInt16BE=function(O,j){return O>>>=0,j||I(O,2,this.length),this[O]<<8|this[O+1]},u.prototype.readUInt32LE=function(O,j){return O>>>=0,j||I(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},u.prototype.readUInt32BE=function(O,j){return O>>>=0,j||I(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},u.prototype.readIntLE=function(O,j,F){O>>>=0,j>>>=0,F||I(O,j,this.length);for(var V=this[O],ae=1,ue=0;++ue<j&&(ae*=256);)V+=this[O+ue]*ae;return(ae*=128)<=V&&(V-=Math.pow(2,8*j)),V},u.prototype.readIntBE=function(O,j,F){O>>>=0,j>>>=0,F||I(O,j,this.length);for(var V=j,ae=1,ue=this[O+--V];0<V&&(ae*=256);)ue+=this[O+--V]*ae;return(ae*=128)<=ue&&(ue-=Math.pow(2,8*j)),ue},u.prototype.readInt8=function(O,j){return O>>>=0,j||I(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},u.prototype.readInt16LE=function(O,j){return O>>>=0,j||I(O,2,this.length),j=this[O]|this[O+1]<<8,32768&j?4294901760|j:j},u.prototype.readInt16BE=function(O,j){return O>>>=0,j||I(O,2,this.length),j=this[O+1]|this[O]<<8,32768&j?4294901760|j:j},u.prototype.readInt32LE=function(O,j){return O>>>=0,j||I(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},u.prototype.readInt32BE=function(O,j){return O>>>=0,j||I(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},u.prototype.readFloatLE=function(O,j){return O>>>=0,j||I(O,4,this.length),s.read(this,O,!0,23,4)},u.prototype.readFloatBE=function(O,j){return O>>>=0,j||I(O,4,this.length),s.read(this,O,!1,23,4)},u.prototype.readDoubleLE=function(O,j){return O>>>=0,j||I(O,8,this.length),s.read(this,O,!0,52,8)},u.prototype.readDoubleBE=function(O,j){return O>>>=0,j||I(O,8,this.length),s.read(this,O,!1,52,8)},u.prototype.writeUIntLE=function(O,j,F,V){O=+O,j>>>=0,F>>>=0,V||U(this,O,j,F,Math.pow(2,8*F)-1,0);var ae=1,ue=0;for(this[j]=255&O;++ue<F&&(ae*=256);)this[j+ue]=O/ae&255;return j+F},u.prototype.writeUIntBE=function(O,j,F,V){O=+O,j>>>=0,F>>>=0,V||U(this,O,j,F,Math.pow(2,8*F)-1,0);var ae=F-1,ue=1;for(this[j+ae]=255&O;0<=--ae&&(ue*=256);)this[j+ae]=O/ue&255;return j+F},u.prototype.writeUInt8=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,1,255,0),this[j]=255&O,j+1},u.prototype.writeUInt16LE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,2,65535,0),this[j]=255&O,this[j+1]=O>>>8,j+2},u.prototype.writeUInt16BE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,2,65535,0),this[j]=O>>>8,this[j+1]=255&O,j+2},u.prototype.writeUInt32LE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,4,4294967295,0),this[j+3]=O>>>24,this[j+2]=O>>>16,this[j+1]=O>>>8,this[j]=255&O,j+4},u.prototype.writeUInt32BE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,4,4294967295,0),this[j]=O>>>24,this[j+1]=O>>>16,this[j+2]=O>>>8,this[j+3]=255&O,j+4},u.prototype.writeIntLE=function(O,j,F,V){O=+O,j>>>=0,V||U(this,O,j,F,(V=Math.pow(2,8*F-1))-1,-V);var ae=0,ue=1,Ee=0;for(this[j]=255&O;++ae<F&&(ue*=256);)O<0&&Ee===0&&this[j+ae-1]!==0&&(Ee=1),this[j+ae]=(O/ue>>0)-Ee&255;return j+F},u.prototype.writeIntBE=function(O,j,F,V){O=+O,j>>>=0,V||U(this,O,j,F,(V=Math.pow(2,8*F-1))-1,-V);var ae=F-1,ue=1,Ee=0;for(this[j+ae]=255&O;0<=--ae&&(ue*=256);)O<0&&Ee===0&&this[j+ae+1]!==0&&(Ee=1),this[j+ae]=(O/ue>>0)-Ee&255;return j+F},u.prototype.writeInt8=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,1,127,-128),this[j]=255&(O=O<0?255+O+1:O),j+1},u.prototype.writeInt16LE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,2,32767,-32768),this[j]=255&O,this[j+1]=O>>>8,j+2},u.prototype.writeInt16BE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,2,32767,-32768),this[j]=O>>>8,this[j+1]=255&O,j+2},u.prototype.writeInt32LE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,4,2147483647,-2147483648),this[j]=255&O,this[j+1]=O>>>8,this[j+2]=O>>>16,this[j+3]=O>>>24,j+4},u.prototype.writeInt32BE=function(O,j,F){return O=+O,j>>>=0,F||U(this,O,j,4,2147483647,-2147483648),this[j]=(O=O<0?4294967295+O+1:O)>>>24,this[j+1]=O>>>16,this[j+2]=O>>>8,this[j+3]=255&O,j+4},u.prototype.writeFloatLE=function(O,j,F){return W(this,O,j,!0,F)},u.prototype.writeFloatBE=function(O,j,F){return W(this,O,j,!1,F)},u.prototype.writeDoubleLE=function(O,j,F){return te(this,O,j,!0,F)},u.prototype.writeDoubleBE=function(O,j,F){return te(this,O,j,!1,F)},u.prototype.copy=function(O,j,F,V){if(!u.isBuffer(O))throw new TypeError("argument should be a Buffer");if(F=F||0,V||V===0||(V=this.length),j>=O.length&&(j=O.length),(V=0<V&&V<F?F:V)===F||O.length===0||this.length===0)return 0;if((j=j||0)<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length);var ae=(V=O.length-j<V-F?O.length-j+F:V)-F;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(j,F,V);else if(this===O&&F<j&&j<V)for(var ue=ae-1;0<=ue;--ue)O[ue+j]=this[ue+F];else Uint8Array.prototype.set.call(O,this.subarray(F,V),j);return ae},u.prototype.fill=function(O,j,F,V){if(typeof O=="string"){if(typeof j=="string"?(V=j,j=0,F=this.length):typeof F=="string"&&(V=F,F=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!u.isEncoding(V))throw new TypeError("Unknown encoding: "+V);var ae;O.length===1&&(ae=O.charCodeAt(0),(V==="utf8"&&ae<128||V==="latin1")&&(O=ae))}else typeof O=="number"?O&=255:typeof O=="boolean"&&(O=Number(O));if(j<0||this.length<j||this.length<F)throw new RangeError("Out of range index");var ue;if(!(F<=j))if(j>>>=0,F=F===void 0?this.length:F>>>0,typeof(O=O||0)=="number")for(ue=j;ue<F;++ue)this[ue]=O;else{var Ee=u.isBuffer(O)?O:u.from(O,V),Re=Ee.length;if(Re===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(ue=0;ue<F-j;++ue)this[ue+j]=Ee[ue%Re]}return this};var Q=/[^+/0-9A-Za-z-_]/g;function J(O,j){j=j||1/0;for(var F,V=O.length,ae=null,ue=[],Ee=0;Ee<V;++Ee){if(55295<(F=O.charCodeAt(Ee))&&F<57344){if(!ae){if(56319<F){-1<(j-=3)&&ue.push(239,191,189);continue}if(Ee+1===V){-1<(j-=3)&&ue.push(239,191,189);continue}ae=F;continue}if(F<56320){-1<(j-=3)&&ue.push(239,191,189),ae=F;continue}F=65536+(ae-55296<<10|F-56320)}else ae&&-1<(j-=3)&&ue.push(239,191,189);if(ae=null,F<128){if(--j<0)break;ue.push(F)}else if(F<2048){if((j-=2)<0)break;ue.push(F>>6|192,63&F|128)}else if(F<65536){if((j-=3)<0)break;ue.push(F>>12|224,F>>6&63|128,63&F|128)}else{if(!(F<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;ue.push(F>>18|240,F>>12&63|128,F>>6&63|128,63&F|128)}}return ue}function oe(O){return a.toByteArray(function(j){if((j=(j=j.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(O))}function ee(O,j,F,V){for(var ae=0;ae<V&&!(ae+F>=j.length||ae>=O.length);++ae)j[ae+F]=O[ae];return ae}function le(O,j){return O instanceof j||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===j.name}function de(O){return O!=O}var se=function(){for(var O="0123456789abcdef",j=new Array(256),F=0;F<16;++F)for(var V=16*F,ae=0;ae<16;++ae)j[V+ae]=O[F]+O[ae];return j}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(t,h,p){h.exports=function(c){if(typeof c!="function")throw TypeError(String(c)+" is not a function");return c}},{}],6:[function(t,h,p){var c=t("../internals/is-object");h.exports=function(a){if(c(a)||a===null)return a;throw TypeError("Can't set "+String(a)+" as a prototype")}},{"../internals/is-object":74}],7:[function(s,h,p){var c=s("../internals/well-known-symbol"),a=s("../internals/object-create"),s=s("../internals/object-define-property"),d=c("unscopables"),f=Array.prototype;f[d]==null&&s.f(f,d,{configurable:!0,value:a(null)}),h.exports=function(y){f[d][y]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(t,h,p){var c=t("../internals/string-multibyte").charAt;h.exports=function(a,s,d){return s+(d?c(a,s).length:1)}},{"../internals/string-multibyte":123}],9:[function(t,h,p){h.exports=function(c,a,s){if(c instanceof a)return c;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(t,h,p){var c=t("../internals/is-object");h.exports=function(a){if(c(a))return a;throw TypeError(String(a)+" is not an object")}},{"../internals/is-object":74}],11:[function(t,h,p){h.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(G,h,p){function c(te){return y(te)&&u(W,l(te))}var a,s=G("../internals/array-buffer-native"),d=G("../internals/descriptors"),f=G("../internals/global"),y=G("../internals/is-object"),u=G("../internals/has"),l=G("../internals/classof"),i=G("../internals/create-non-enumerable-property"),m=G("../internals/redefine"),g=G("../internals/object-define-property").f,v=G("../internals/object-get-prototype-of"),b=G("../internals/object-set-prototype-of"),D=G("../internals/well-known-symbol"),G=G("../internals/uid"),w=f.Int8Array,S=w&&w.prototype,x=f.Uint8ClampedArray,x=x&&x.prototype,M=w&&v(w),C=S&&v(S),E=Object.prototype,P=E.isPrototypeOf,D=D("toStringTag"),I=G("TYPED_ARRAY_TAG"),U=s&&!!b&&l(f.opera)!=="Opera",G=!1,W={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(a in W)f[a]||(U=!1);if((!U||typeof M!="function"||M===Function.prototype)&&(M=function(){throw TypeError("Incorrect invocation")},U))for(a in W)f[a]&&b(f[a],M);if((!U||!C||C===E)&&(C=M.prototype,U))for(a in W)f[a]&&b(f[a].prototype,C);if(U&&v(x)!==C&&b(x,C),d&&!u(C,D))for(a in G=!0,g(C,D,{get:function(){return y(this)?this[I]:void 0}}),W)f[a]&&i(f[a],I,a);h.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:G&&I,aTypedArray:function(te){if(c(te))return te;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(te){if(b){if(P.call(M,te))return te}else for(var Q in W)if(u(W,a)&&(Q=f[Q],Q&&(te===Q||P.call(Q,te))))return te;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(te,Q,J){if(d){if(J)for(var oe in W)oe=f[oe],oe&&u(oe.prototype,te)&&delete oe.prototype[te];C[te]&&!J||m(C,te,!J&&U&&S[te]||Q)}},exportTypedArrayStaticMethod:function(te,Q,J){var oe,ee;if(d){if(b){if(J)for(oe in W)(ee=f[oe])&&u(ee,te)&&delete ee[te];if(M[te]&&!J)return;try{return m(M,te,!J&&U&&w[te]||Q)}catch{}}for(oe in W)!(ee=f[oe])||ee[te]&&!J||m(ee,te,Q)}},isView:function(te){return te=l(te),te==="DataView"||u(W,te)},isTypedArray:c,TypedArray:M,TypedArrayPrototype:C}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(F,h,p){function c(we){return[255&we]}function a(we){return[255&we,we>>8&255]}function s(we){return[255&we,we>>8&255,we>>16&255,we>>24&255]}function d(we){return we[3]<<24|we[2]<<16|we[1]<<8|we[0]}function f(we){return ue(we,23,4)}function y(we){return ue(we,52,8)}function u(we,Ae){G(we[le],Ae,{get:function(){return Q(this)[Ae]}})}function l(ie,Ae,it,qe){if(it=E(it),ie=Q(ie),it+Ae>ie.byteLength)throw ae(de);var Ge=Q(ie.buffer).bytes,it=it+ie.byteOffset,ie=Ge.slice(it,it+Ae);return qe?ie:ie.reverse()}function i(we,Ae,Ue,qe,Ge,it){if(Ue=E(Ue),we=Q(we),Ue+Ae>we.byteLength)throw ae(de);for(var ie=Q(we.buffer).bytes,Be=Ue+we.byteOffset,Pe=qe(+Ge),We=0;We<Ae;We++)ie[Be+We]=Pe[it?We:Ae-We-1]}var m=F("../internals/global"),g=F("../internals/descriptors"),v=F("../internals/array-buffer-native"),b=F("../internals/create-non-enumerable-property"),w=F("../internals/redefine-all"),S=F("../internals/fails"),x=F("../internals/an-instance"),M=F("../internals/to-integer"),C=F("../internals/to-length"),E=F("../internals/to-index"),P=F("../internals/ieee754"),D=F("../internals/object-get-prototype-of"),I=F("../internals/object-set-prototype-of"),U=F("../internals/object-get-own-property-names").f,G=F("../internals/object-define-property").f,W=F("../internals/array-fill"),te=F("../internals/set-to-string-tag"),F=F("../internals/internal-state"),Q=F.get,J=F.set,oe="ArrayBuffer",ee="DataView",le="prototype",de="Wrong index",se=m[oe],O=se,j=m[ee],F=j&&j[le],V=Object.prototype,ae=m.RangeError,ue=P.pack,Ee=P.unpack;if(v){if(!S(function(){se(1)})||!S(function(){new se(-1)})||S(function(){return new se,new se(1.5),new se(NaN),se.name!=oe})){for(var Re,m=(O=function(Ue){return x(this,O),new se(E(Ue))})[le]=se[le],Ce=U(se),xe=0;Ce.length>xe;)(Re=Ce[xe++])in O||b(O,Re,se[Re]);m.constructor=O}I&&D(F)!==V&&I(F,V);var P=new j(new O(2)),Ze=F.setInt8;P.setInt8(0,2147483648),P.setInt8(1,2147483649),!P.getInt8(0)&&P.getInt8(1)||w(F,{setInt8:function(Ae,Ue){Ze.call(this,Ae,Ue<<24>>24)},setUint8:function(Ae,Ue){Ze.call(this,Ae,Ue<<24>>24)}},{unsafe:!0})}else O=function(we){x(this,O,oe),we=E(we),J(this,{bytes:W.call(new Array(we),0),byteLength:we}),g||(this.byteLength=we)},j=function(we,Ge,Ue){x(this,j,ee),x(we,O,ee);var qe=Q(we).byteLength,Ge=M(Ge);if(Ge<0||qe<Ge)throw ae("Wrong offset");if(qe<Ge+(Ue=Ue===void 0?qe-Ge:C(Ue)))throw ae("Wrong length");J(this,{buffer:we,byteLength:Ue,byteOffset:Ge}),g||(this.buffer=we,this.byteLength=Ue,this.byteOffset=Ge)},g&&(u(O,"byteLength"),u(j,"buffer"),u(j,"byteLength"),u(j,"byteOffset")),w(j[le],{getInt8:function(we){return l(this,1,we)[0]<<24>>24},getUint8:function(we){return l(this,1,we)[0]},getInt16:function(we){return we=l(this,2,we,1<arguments.length?arguments[1]:void 0),(we[1]<<8|we[0])<<16>>16},getUint16:function(we){return we=l(this,2,we,1<arguments.length?arguments[1]:void 0),we[1]<<8|we[0]},getInt32:function(we){return d(l(this,4,we,1<arguments.length?arguments[1]:void 0))},getUint32:function(we){return d(l(this,4,we,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(we){return Ee(l(this,4,we,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(we){return Ee(l(this,8,we,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(we,Ae){i(this,1,we,c,Ae)},setUint8:function(we,Ae){i(this,1,we,c,Ae)},setInt16:function(we,Ae){i(this,2,we,a,Ae,2<arguments.length?arguments[2]:void 0)},setUint16:function(we,Ae){i(this,2,we,a,Ae,2<arguments.length?arguments[2]:void 0)},setInt32:function(we,Ae){i(this,4,we,s,Ae,2<arguments.length?arguments[2]:void 0)},setUint32:function(we,Ae){i(this,4,we,s,Ae,2<arguments.length?arguments[2]:void 0)},setFloat32:function(we,Ae){i(this,4,we,f,Ae,2<arguments.length?arguments[2]:void 0)},setFloat64:function(we,Ae){i(this,8,we,y,Ae,2<arguments.length?arguments[2]:void 0)}});te(O,oe),te(j,ee),h.exports={ArrayBuffer:O,DataView:j}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(t,h,p){var c=t("../internals/to-object"),a=t("../internals/to-absolute-index"),s=t("../internals/to-length"),d=Math.min;h.exports=[].copyWithin||function(g,y){var u=c(this),l=s(u.length),i=a(g,l),m=a(y,l),g=2<arguments.length?arguments[2]:void 0,v=d((g===void 0?l:a(g,l))-m,l-i),b=1;for(m<i&&i<m+v&&(b=-1,m+=v-1,i+=v-1);0<v--;)m in u?u[i]=u[m]:delete u[i],i+=b,m+=b;return u}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(t,h,p){var c=t("../internals/to-object"),a=t("../internals/to-absolute-index"),s=t("../internals/to-length");h.exports=function(d){for(var f=c(this),y=s(f.length),l=arguments.length,u=a(1<l?arguments[1]:void 0,y),l=2<l?arguments[2]:void 0,i=l===void 0?y:a(l,y);u<i;)f[u++]=d;return f}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(s,h,p){var c=s("../internals/array-iteration").forEach,a=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),a=a("forEach"),s=s("forEach");h.exports=a&&s?[].forEach:function(d){return c(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,h,p){var c=t("../internals/function-bind-context"),a=t("../internals/to-object"),s=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),f=t("../internals/to-length"),y=t("../internals/create-property"),u=t("../internals/get-iterator-method");h.exports=function(x){var i,m,g,v,b,w,S=a(x),x=typeof this=="function"?this:Array,M=arguments.length,C=1<M?arguments[1]:void 0,E=C!==void 0,P=u(S),D=0;if(E&&(C=c(C,2<M?arguments[2]:void 0,2)),P==null||x==Array&&d(P))for(m=new x(i=f(S.length));D<i;D++)w=E?C(S[D],D):S[D],y(m,D,w);else for(b=(v=P.call(S)).next,m=new x;!(g=b.call(v)).done;D++)w=E?s(v,C,[g.value,D],!0):g.value,y(m,D,w);return m.length=D,m}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(t,h,p){function c(f){return function(y,u,l){var i,m=a(y),g=s(m.length),v=d(l,g);if(f&&u!=u){for(;v<g;)if((i=m[v++])!=i)return!0}else for(;v<g;v++)if((f||v in m)&&m[v]===u)return f||v||0;return!f&&-1}}var a=t("../internals/to-indexed-object"),s=t("../internals/to-length"),d=t("../internals/to-absolute-index");h.exports={includes:c(!0),indexOf:c(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(t,h,p){function c(l){var i=l==1,m=l==2,g=l==3,v=l==4,b=l==6,w=l==5||b;return function(S,x,M,C){for(var E,P,D=d(S),I=s(D),U=a(x,M,3),G=f(I.length),W=0,x=C||y,te=i?x(S,G):m?x(S,0):void 0;W<G;W++)if((w||W in I)&&(P=U(E=I[W],W,D),l)){if(i)te[W]=P;else if(P)switch(l){case 3:return!0;case 5:return E;case 6:return W;case 2:u.call(te,E)}else if(v)return!1}return b?-1:g||v?v:te}}var a=t("../internals/function-bind-context"),s=t("../internals/indexed-object"),d=t("../internals/to-object"),f=t("../internals/to-length"),y=t("../internals/array-species-create"),u=[].push;h.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(l,h,p){var c=l("../internals/to-indexed-object"),a=l("../internals/to-integer"),s=l("../internals/to-length"),u=l("../internals/array-method-is-strict"),l=l("../internals/array-method-uses-to-length"),d=Math.min,f=[].lastIndexOf,y=!!f&&1/[1].lastIndexOf(1,-0)<0,u=u("lastIndexOf"),l=l("indexOf",{ACCESSORS:!0,1:0});h.exports=y||!u||!l?function(i){if(y)return f.apply(this,arguments)||0;var m=c(this),g=s(m.length),v=g-1;for((v=1<arguments.length?d(v,a(arguments[1])):v)<0&&(v=g+v);0<=v;v--)if(v in m&&m[v]===i)return v||0;return-1}:f},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(t,h,p){var c=t("../internals/fails"),a=t("../internals/well-known-symbol"),s=t("../internals/engine-v8-version"),d=a("species");h.exports=function(f){return 51<=s||!c(function(){var y=[];return(y.constructor={})[d]=function(){return{foo:1}},y[f](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(t,h,p){var c=t("../internals/fails");h.exports=function(a,s){var d=[][a];return!!d&&c(function(){d.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,h,p){function c(u){throw u}var a=t("../internals/descriptors"),s=t("../internals/fails"),d=t("../internals/has"),f=Object.defineProperty,y={};h.exports=function(u,l){var i,m,g,v;return d(y,u)?y[u]:(i=[][u],m=!!d(l=l||{},"ACCESSORS")&&l.ACCESSORS,g=d(l,0)?l[0]:c,v=d(l,1)?l[1]:void 0,y[u]=!!i&&!s(function(){if(m&&!a)return!0;var b={length:-1};m?f(b,1,{enumerable:!0,get:c}):b[1]=1,i.call(b,g,v)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(t,h,p){function c(y){return function(u,l,i,m){a(l);var g=s(u),v=d(g),b=f(g.length),w=y?b-1:0,S=y?-1:1;if(i<2)for(;;){if(w in v){m=v[w],w+=S;break}if(w+=S,y?w<0:b<=w)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=w:w<b;w+=S)w in v&&(m=l(m,v[w],w,g));return m}}var a=t("../internals/a-function"),s=t("../internals/to-object"),d=t("../internals/indexed-object"),f=t("../internals/to-length");h.exports={left:c(!1),right:c(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(t,h,p){var c=t("../internals/is-object"),a=t("../internals/is-array"),s=t("../internals/well-known-symbol")("species");h.exports=function(d,f){var y;return new((y=a(d)&&(typeof(y=d.constructor)=="function"&&(y===Array||a(y.prototype))||c(y)&&(y=y[s])===null)?void 0:y)===void 0?Array:y)(f===0?0:f)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(t,h,p){var c=t("../internals/an-object");h.exports=function(a,s,d,f){try{return f?s(c(d)[0],d[1]):s(d)}catch(y){throw f=a.return,f!==void 0&&c(f.call(a)),y}}},{"../internals/an-object":10}],27:[function(t,h,p){var c=t("../internals/well-known-symbol")("iterator"),a=!1;try{var s=0,d={next:function(){return{done:!!s++}},return:function(){a=!0}};d[c]=function(){return this},Array.from(d,function(){throw 2})}catch{}h.exports=function(f,y){if(!y&&!a)return!1;var u=!1;try{var l={};l[c]=function(){return{next:function(){return{done:u=!0}}}},f(l)}catch{}return u}},{"../internals/well-known-symbol":146}],28:[function(t,h,p){var c={}.toString;h.exports=function(a){return c.call(a).slice(8,-1)}},{}],29:[function(t,h,p){var c=t("../internals/to-string-tag-support"),a=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("toStringTag"),d=a(function(){return arguments}())=="Arguments";h.exports=c?a:function(f){var y;return f===void 0?"Undefined":f===null?"Null":typeof(y=function(u,l){try{return u[l]}catch{}}(f=Object(f),s))=="string"?y:d?a(f):(y=a(f))=="Object"&&typeof f.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(g,h,p){var c=g("../internals/object-define-property").f,a=g("../internals/object-create"),s=g("../internals/redefine-all"),d=g("../internals/function-bind-context"),f=g("../internals/an-instance"),y=g("../internals/iterate"),u=g("../internals/define-iterator"),l=g("../internals/set-species"),i=g("../internals/descriptors"),m=g("../internals/internal-metadata").fastKey,g=g("../internals/internal-state"),v=g.set,b=g.getterFor;h.exports={getConstructor:function(w,S,x,M){function C(I,U,G){var W,te=D(I),Q=E(I,U);return Q?Q.value=G:(te.last=Q={index:W=m(U,!0),key:U,value:G,previous:U=te.last,next:void 0,removed:!1},te.first||(te.first=Q),U&&(U.next=Q),i?te.size++:I.size++,W!=="F"&&(te.index[W]=Q)),I}function E(W,U){var G,W=D(W),te=m(U);if(te!=="F")return W.index[te];for(G=W.first;G;G=G.next)if(G.key==U)return G}var P=w(function(I,U){f(I,P,S),v(I,{type:S,index:a(null),first:void 0,last:void 0,size:0}),i||(I.size=0),U!=null&&y(U,I[M],I,x)}),D=b(S);return s(P.prototype,{clear:function(){for(var I=D(this),U=I.index,G=I.first;G;)G.removed=!0,G.previous&&(G.previous=G.previous.next=void 0),delete U[G.index],G=G.next;I.first=I.last=void 0,i?I.size=0:this.size=0},delete:function(te){var U,G,W=D(this),te=E(this,te);return te&&(U=te.next,G=te.previous,delete W.index[te.index],te.removed=!0,G&&(G.next=U),U&&(U.previous=G),W.first==te&&(W.first=U),W.last==te&&(W.last=G),i?W.size--:this.size--),!!te},forEach:function(I){for(var U,G=D(this),W=d(I,1<arguments.length?arguments[1]:void 0,3);U=U?U.next:G.first;)for(W(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(I){return!!E(this,I)}}),s(P.prototype,x?{get:function(I){return I=E(this,I),I&&I.value},set:function(I,U){return C(this,I===0?0:I,U)}}:{add:function(I){return C(this,I=I===0?0:I,I)}}),i&&c(P.prototype,"size",{get:function(){return D(this).size}}),P},setStrong:function(w,S,x){var M=S+" Iterator",C=b(S),E=b(M);u(w,S,function(P,D){v(this,{type:M,target:P,state:C(P),kind:D,last:void 0})},function(){for(var P=E(this),D=P.kind,I=P.last;I&&I.removed;)I=I.previous;return P.target&&(P.last=I=I?I.next:P.state.first)?D=="keys"?{value:I.key,done:!1}:D=="values"?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:P.target=void 0,done:!0}},x?"entries":"values",!x,!0),l(S)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(v,h,p){function c(C){return C.frozen||(C.frozen=new a)}function a(){this.entries=[]}function s(C,E){return S(C.entries,function(P){return P[0]===E})}var d=v("../internals/redefine-all"),f=v("../internals/internal-metadata").getWeakData,y=v("../internals/an-object"),u=v("../internals/is-object"),l=v("../internals/an-instance"),i=v("../internals/iterate"),m=v("../internals/array-iteration"),g=v("../internals/has"),v=v("../internals/internal-state"),b=v.set,w=v.getterFor,S=m.find,x=m.findIndex,M=0;a.prototype={get:function(C){if(C=s(this,C),C)return C[1]},has:function(C){return!!s(this,C)},set:function(C,E){var P=s(this,C);P?P[1]=E:this.entries.push([C,E])},delete:function(C){var E=x(this.entries,function(P){return P[0]===C});return~E&&this.entries.splice(E,1),!!~E}},h.exports={getConstructor:function(C,E,P,D){function I(W,te,Q){var J=G(W),oe=f(y(te),!0);return oe===!0?c(J).set(te,Q):oe[J.id]=Q,W}var U=C(function(W,te){l(W,U,E),b(W,{type:E,id:M++,frozen:void 0}),te!=null&&i(te,W[D],W,P)}),G=w(E);return d(U.prototype,{delete:function(W){var te,Q=G(this);return!!u(W)&&((te=f(W))===!0?c(Q).delete(W):te&&g(te,Q.id)&&delete te[Q.id])},has:function(W){var te,Q=G(this);return!!u(W)&&((te=f(W))===!0?c(Q).has(W):te&&g(te,Q.id))}}),d(U.prototype,P?{get:function(W){var te,Q=G(this);if(u(W))return(te=f(W))===!0?c(Q).get(W):te?te[Q.id]:void 0},set:function(W,te){return I(this,W,te)}}:{add:function(W){return I(this,W,!0)}}),U}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(t,h,p){var c=t("../internals/export"),a=t("../internals/global"),s=t("../internals/is-forced"),d=t("../internals/redefine"),f=t("../internals/internal-metadata"),y=t("../internals/iterate"),u=t("../internals/an-instance"),l=t("../internals/is-object"),i=t("../internals/fails"),m=t("../internals/check-correctness-of-iteration"),g=t("../internals/set-to-string-tag"),v=t("../internals/inherit-if-required");h.exports=function(b,w,S){function x(oe){var ee=te[oe];d(te,oe,oe=="add"?function(le){return ee.call(this,le===0?0:le),this}:oe=="delete"?function(le){return!(U&&!l(le))&&ee.call(this,le===0?0:le)}:oe=="get"?function(le){return U&&!l(le)?void 0:ee.call(this,le===0?0:le)}:oe=="has"?function(le){return!(U&&!l(le))&&ee.call(this,le===0?0:le)}:function(le,de){return ee.call(this,le===0?0:le,de),this})}var M,C,E,P,D,I=b.indexOf("Map")!==-1,U=b.indexOf("Weak")!==-1,G=I?"set":"add",W=a[b],te=W&&W.prototype,Q=W,J={};return s(b,typeof W!="function"||!(U||te.forEach&&!i(function(){new W().entries().next()})))?(Q=S.getConstructor(w,b,I,G),f.REQUIRED=!0):s(b,!0)&&(C=(M=new Q)[G](U?{}:-0,1)!=M,E=i(function(){M.has(1)}),P=m(function(oe){new W(oe)}),D=!U&&i(function(){for(var oe=new W,ee=5;ee--;)oe[G](ee,ee);return!oe.has(-0)}),P||(((Q=w(function(oe,ee){return u(oe,Q,b),oe=v(new W,oe,Q),ee!=null&&y(ee,oe[G],oe,I),oe})).prototype=te).constructor=Q),(E||D)&&(x("delete"),x("has"),I&&x("get")),(D||C)&&x(G),U&&te.clear&&delete te.clear),J[b]=Q,c({global:!0,forced:Q!=W},J),g(Q,b),U||S.setStrong(Q,b,I),Q}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(t,h,p){var c=t("../internals/has"),a=t("../internals/own-keys"),s=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-define-property");h.exports=function(f,y){for(var u=a(y),l=d.f,i=s.f,m=0;m<u.length;m++){var g=u[m];c(f,g)||l(f,g,i(y,g))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(t,h,p){var c=t("../internals/well-known-symbol")("match");h.exports=function(a){var s=/./;try{"/./"[a](s)}catch{try{return s[c]=!1,"/./"[a](s)}catch{}}return!1}},{"../internals/well-known-symbol":146}],35:[function(t,h,p){t=t("../internals/fails"),h.exports=!t(function(){function c(){}return c.prototype.constructor=null,Object.getPrototypeOf(new c)!==c.prototype})},{"../internals/fails":51}],36:[function(t,h,p){var c=t("../internals/require-object-coercible"),a=/"/g;h.exports=function(u,d,f,y){var u=String(c(u)),l="<"+d;return f!==""&&(l+=" "+f+'="'+String(y).replace(a,"&quot;")+'"'),l+">"+u+"</"+d+">"}},{"../internals/require-object-coercible":113}],37:[function(t,h,p){function c(){return this}var a=t("../internals/iterators-core").IteratorPrototype,s=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),f=t("../internals/set-to-string-tag"),y=t("../internals/iterators");h.exports=function(u,l,i){return l+=" Iterator",u.prototype=s(a,{next:d(1,i)}),f(u,l,!1,!0),y[l]=c,u}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(t,h,p){var c=t("../internals/descriptors"),a=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");h.exports=c?function(d,f,y){return a.f(d,f,s(1,y))}:function(d,f,y){return d[f]=y,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(t,h,p){h.exports=function(c,a){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:a}}},{}],40:[function(t,h,p){var c=t("../internals/to-primitive"),a=t("../internals/object-define-property"),s=t("../internals/create-property-descriptor");h.exports=function(d,f,y){f=c(f),f in d?a.f(d,f,s(0,y)):d[f]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(v,h,p){function c(){return this}var a=v("../internals/export"),s=v("../internals/create-iterator-constructor"),d=v("../internals/object-get-prototype-of"),f=v("../internals/object-set-prototype-of"),y=v("../internals/set-to-string-tag"),u=v("../internals/create-non-enumerable-property"),l=v("../internals/redefine"),i=v("../internals/well-known-symbol"),m=v("../internals/is-pure"),g=v("../internals/iterators"),v=v("../internals/iterators-core"),b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,S=i("iterator"),x="values",M="entries";h.exports=function(C,E,P,J,I,U,G){s(P,E,J);function W(O){if(O===I&&de)return de;if(!w&&O in ee)return ee[O];switch(O){case"keys":case x:case M:return function(){return new P(this,O)}}return function(){return new P(this)}}var te,Q,J=E+" Iterator",oe=!1,ee=C.prototype,le=ee[S]||ee["@@iterator"]||I&&ee[I],de=!w&&le||W(I),se=E=="Array"&&ee.entries||le;if(se&&(se=d(se.call(new C)),b!==Object.prototype&&se.next&&(m||d(se)===b||(f?f(se,b):typeof se[S]!="function"&&u(se,S,c)),y(se,J,!0,!0),m&&(g[J]=c))),I==x&&le&&le.name!==x&&(oe=!0,de=function(){return le.call(this)}),m&&!G||ee[S]===de||u(ee,S,de),g[E]=de,I)if(te={values:W(x),keys:U?de:W("keys"),entries:W(M)},G)for(Q in te)!w&&!oe&&Q in ee||l(ee,Q,te[Q]);else a({target:E,proto:!0,forced:w||oe},te);return te}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(t,h,p){var c=t("../internals/path"),a=t("../internals/has"),s=t("../internals/well-known-symbol-wrapped"),d=t("../internals/object-define-property").f;h.exports=function(f){var y=c.Symbol||(c.Symbol={});a(y,f)||d(y,f,{value:s.f(f)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(t,h,p){t=t("../internals/fails"),h.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(a,h,p){var c=a("../internals/global"),a=a("../internals/is-object"),s=c.document,d=a(s)&&a(s.createElement);h.exports=function(f){return d?s.createElement(f):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(t,h,p){h.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,h,p){t=t("../internals/engine-user-agent"),h.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,h,p){t=t("../internals/get-built-in"),h.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(s,h,p){var c,a,d=s("../internals/global"),s=s("../internals/engine-user-agent"),d=d.process,d=d&&d.versions,d=d&&d.v8;d?a=(c=d.split("."))[0]+c[1]:s&&(!(c=s.match(/Edge\/(\d+)/))||74<=c[1])&&(c=s.match(/Chrome\/(\d+)/))&&(a=c[1]),h.exports=a&&+a},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(t,h,p){h.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,h,p){var c=t("../internals/global"),a=t("../internals/object-get-own-property-descriptor").f,s=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),f=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),u=t("../internals/is-forced");h.exports=function(l,i){var m,g,v,b=l.target,w=l.global,S=l.stat,x=w?c:S?c[b]||f(b,{}):(c[b]||{}).prototype;if(x)for(m in i){if(g=i[m],v=l.noTargetGet?(v=a(x,m))&&v.value:x[m],!u(w?m:b+(S?".":"#")+m,l.forced)&&v!==void 0){if(typeof g==typeof v)continue;y(g,v)}(l.sham||v&&v.sham)&&s(g,"sham",!0),d(x,m,g,l)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(t,h,p){h.exports=function(c){try{return!!c()}catch{return!0}}},{}],52:[function(i,h,p){i("../modules/es.regexp.exec");var c=i("../internals/redefine"),a=i("../internals/fails"),s=i("../internals/well-known-symbol"),d=i("../internals/regexp-exec"),f=i("../internals/create-non-enumerable-property"),y=s("species"),u=!a(function(){var v=/./;return v.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(v,"$<a>")!=="7"}),l="a".replace(/./,"$0")==="$0",i=s("replace"),m=!!/./[i]&&/./[i]("a","$0")==="",g=!a(function(){var b=/(?:)/,v=b.exec,b=(b.exec=function(){return v.apply(this,arguments)},"ab".split(b));return b.length!==2||b[0]!=="a"||b[1]!=="b"});h.exports=function(v,b,w,S){var x,M,C=s(v),E=!a(function(){var D={};return D[C]=function(){return 7},""[v](D)!=7}),P=E&&!a(function(){var D=!1,I=/a/;return v==="split"&&((I={constructor:{}}).constructor[y]=function(){return I},I.flags="",I[C]=/./[C]),I.exec=function(){return D=!0,null},I[C](""),!D});E&&P&&(v!=="replace"||u&&l&&!m)&&(v!=="split"||g)||(x=/./[C],w=(P=w(C,""[v],function(D,I,U,G,W){return I.exec===d?E&&!W?{done:!0,value:x.call(I,U,G)}:{done:!0,value:D.call(U,I,G)}:{done:!1}},{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}))[0],M=P[1],c(String.prototype,v,w),c(RegExp.prototype,C,b==2?function(D,I){return M.call(D,this,I)}:function(D){return M.call(D,this)})),S&&f(RegExp.prototype[C],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(t,h,p){t=t("../internals/fails"),h.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(t,h,p){var c=t("../internals/a-function");h.exports=function(a,s,d){if(c(a),s===void 0)return a;switch(d){case 0:return function(){return a.call(s)};case 1:return function(f){return a.call(s,f)};case 2:return function(f,y){return a.call(s,f,y)};case 3:return function(f,y,u){return a.call(s,f,y,u)}}return function(){return a.apply(s,arguments)}}},{"../internals/a-function":5}],55:[function(t,h,p){var c=t("../internals/a-function"),a=t("../internals/is-object"),s=[].slice,d={};h.exports=Function.bind||function(f){var y=c(this),u=s.call(arguments,1),l=function(){var i=u.concat(s.call(arguments));if(this instanceof l){var m=y,g=i.length,v=i;if(!(g in d)){for(var b=[],w=0;w<g;w++)b[w]="a["+w+"]";d[g]=Function("C,a","return new C("+b.join(",")+")")}return d[g](m,v)}return y.apply(f,i)};return a(y.prototype)&&(l.prototype=y.prototype),l}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(t,h,p){function c(d){return typeof d=="function"?d:void 0}var a=t("../internals/path"),s=t("../internals/global");h.exports=function(d,f){return arguments.length<2?c(a[d])||c(s[d]):a[d]&&a[d][f]||s[d]&&s[d][f]}},{"../internals/global":59,"../internals/path":104}],57:[function(t,h,p){var c=t("../internals/classof"),a=t("../internals/iterators"),s=t("../internals/well-known-symbol")("iterator");h.exports=function(d){if(d!=null)return d[s]||d["@@iterator"]||a[c(d)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(t,h,p){var c=t("../internals/an-object"),a=t("../internals/get-iterator-method");h.exports=function(s){var d=a(s);if(typeof d!="function")throw TypeError(String(s)+" is not iterable");return c(d.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(t,h,p){(function(c){function a(s){return s&&s.Math==Math&&s}h.exports=a(typeof globalThis=="object"&&globalThis)||a(typeof window=="object"&&window)||a(typeof self=="object"&&self)||a(typeof c=="object"&&c)||Function("return this")()}).call(this,typeof Ds<"u"?Ds:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(t,h,p){var c={}.hasOwnProperty;h.exports=function(a,s){return c.call(a,s)}},{}],61:[function(t,h,p){h.exports={}},{}],62:[function(t,h,p){var c=t("../internals/global");h.exports=function(a,s){var d=c.console;d&&d.error&&(arguments.length===1?d.error(a):d.error(a,s))}},{"../internals/global":59}],63:[function(t,h,p){t=t("../internals/get-built-in"),h.exports=t("document","documentElement")},{"../internals/get-built-in":56}],64:[function(t,h,p){var c=t("../internals/descriptors"),a=t("../internals/fails"),s=t("../internals/document-create-element");h.exports=!c&&!a(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(t,h,p){var c=Math.abs,a=Math.pow,s=Math.floor,d=Math.log,f=Math.LN2;h.exports={pack:function(y,u,w){var i,m,g,v=new Array(w),b=8*w-u-1,w=(1<<b)-1,S=w>>1,x=u===23?a(2,-24)-a(2,-77):0,M=y<0||y===0&&1/y<0?1:0,C=0;for((y=c(y))!=y||y===1/0?(m=y!=y?1:0,i=w):(i=s(d(y)/f),y*(g=a(2,-i))<1&&(i--,g*=2),2<=(y+=1<=i+S?x/g:x*a(2,1-S))*g&&(i++,g/=2),w<=i+S?(m=0,i=w):1<=i+S?(m=(y*g-1)*a(2,u),i+=S):(m=y*a(2,S-1)*a(2,u),i=0));8<=u;v[C++]=255&m,m/=256,u-=8);for(i=i<<u|m,b+=u;0<b;v[C++]=255&i,i/=256,b-=8);return v[--C]|=128*M,v},unpack:function(y,u){var l,i=y.length,w=8*i-u-1,m=(1<<w)-1,g=m>>1,v=w-7,b=i-1,w=y[b--],S=127&w;for(w>>=7;0<v;S=256*S+y[b],b--,v-=8);for(l=S&(1<<-v)-1,S>>=-v,v+=u;0<v;l=256*l+y[b],b--,v-=8);if(S===0)S=1-g;else{if(S===m)return l?NaN:w?-1/0:1/0;l+=a(2,u),S-=g}return(w?-1:1)*l*a(2,S-u)}}},{}],66:[function(t,h,p){var c=t("../internals/fails"),a=t("../internals/classof-raw"),s="".split;h.exports=c(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return a(d)=="String"?s.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(t,h,p){var c=t("../internals/is-object"),a=t("../internals/object-set-prototype-of");h.exports=function(s,d,f){return a&&typeof(d=d.constructor)=="function"&&d!==f&&c(d=d.prototype)&&d!==f.prototype&&a(s,d),s}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(c,h,p){var c=c("../internals/shared-store"),a=Function.toString;typeof c.inspectSource!="function"&&(c.inspectSource=function(s){return a.call(s)}),h.exports=c.inspectSource},{"../internals/shared-store":119}],69:[function(t,h,p){function c(v){f(v,l,{value:{objectID:"O"+ ++i,weakData:{}}})}var a=t("../internals/hidden-keys"),s=t("../internals/is-object"),d=t("../internals/has"),f=t("../internals/object-define-property").f,y=t("../internals/uid"),u=t("../internals/freezing"),l=y("meta"),i=0,m=Object.isExtensible||function(){return!0},g=h.exports={REQUIRED:!1,fastKey:function(v,b){if(!s(v))return typeof v=="symbol"?v:(typeof v=="string"?"S":"P")+v;if(!d(v,l)){if(!m(v))return"F";if(!b)return"E";c(v)}return v[l].objectID},getWeakData:function(v,b){if(!d(v,l)){if(!m(v))return!0;if(!b)return!1;c(v)}return v[l].weakData},onFreeze:function(v){return u&&g.REQUIRED&&m(v)&&!d(v,l)&&c(v),v}};a[l]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(w,h,p){var c,a,s,d,f,y,u,l,i=w("../internals/native-weak-map"),S=w("../internals/global"),m=w("../internals/is-object"),g=w("../internals/create-non-enumerable-property"),v=w("../internals/has"),b=w("../internals/shared-key"),w=w("../internals/hidden-keys"),S=S.WeakMap;u=i?(c=new S,a=c.get,s=c.has,d=c.set,f=function(x,M){return d.call(c,x,M),M},y=function(x){return a.call(c,x)||{}},function(x){return s.call(c,x)}):(w[l=b("state")]=!0,f=function(x,M){return g(x,l,M),M},y=function(x){return v(x,l)?x[l]:{}},function(x){return v(x,l)}),h.exports={set:f,get:y,has:u,enforce:function(x){return u(x)?y(x):f(x,{})},getterFor:function(x){return function(M){if(m(M)&&(M=y(M)).type===x)return M;throw TypeError("Incompatible receiver, "+x+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(t,h,p){var c=t("../internals/well-known-symbol"),a=t("../internals/iterators"),s=c("iterator"),d=Array.prototype;h.exports=function(f){return f!==void 0&&(a.Array===f||d[s]===f)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(t,h,p){var c=t("../internals/classof-raw");h.exports=Array.isArray||function(a){return c(a)=="Array"}},{"../internals/classof-raw":28}],73:[function(t,h,p){function c(l,i){return(l=f[d(l)])==u||l!=y&&(typeof i=="function"?a(i):!!i)}var a=t("../internals/fails"),s=/#|\.prototype\./,d=c.normalize=function(l){return String(l).replace(s,".").toLowerCase()},f=c.data={},y=c.NATIVE="N",u=c.POLYFILL="P";h.exports=c},{"../internals/fails":51}],74:[function(t,h,p){h.exports=function(c){return typeof c=="object"?c!==null:typeof c=="function"}},{}],75:[function(t,h,p){h.exports=!1},{}],76:[function(t,h,p){var c=t("../internals/is-object"),a=t("../internals/classof-raw"),s=t("../internals/well-known-symbol")("match");h.exports=function(d){var f;return c(d)&&((f=d[s])!==void 0?!!f:a(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(t,h,p){function c(l,i){this.stopped=l,this.result=i}var a=t("../internals/an-object"),s=t("../internals/is-array-iterator-method"),d=t("../internals/to-length"),f=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),u=t("../internals/call-with-safe-iteration-closing");(h.exports=function(l,i,m,g,v){var b,w,S,x,M,C,E=f(i,m,g?2:1);if(v)b=l;else{if(typeof(i=y(l))!="function")throw TypeError("Target is not iterable");if(s(i)){for(w=0,S=d(l.length);w<S;w++)if((x=g?E(a(C=l[w])[0],C[1]):E(l[w]))&&x instanceof c)return x;return new c(!1)}b=i.call(l)}for(M=b.next;!(C=M.call(b)).done;)if(typeof(x=u(b,E,C.value,g))=="object"&&x&&x instanceof c)return x;return new c(!1)}).stop=function(l){return new c(!0,l)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(y,h,p){var c,a,s=y("../internals/object-get-prototype-of"),d=y("../internals/create-non-enumerable-property"),f=y("../internals/has"),u=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),u=u("iterator"),l=!1;[].keys&&("next"in(a=[].keys())?(s=s(s(a)))!==Object.prototype&&(c=s):l=!0),c==null&&(c={}),y||f(c,u)||d(c,u,function(){return this}),h.exports={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:l}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(t,h,p){h.exports={}},{}],80:[function(t,h,p){h.exports=Math.sign||function(c){return(c=+c)==0||c!=c?c:c<0?-1:1}},{}],81:[function(g,h,p){var c,a,s,d,f,y,u,l,i=g("../internals/global"),M=g("../internals/object-get-own-property-descriptor").f,x=g("../internals/classof-raw"),m=g("../internals/task").set,g=g("../internals/engine-is-ios"),v=i.MutationObserver||i.WebKitMutationObserver,b=i.process,w=i.Promise,S=x(b)=="process",x=M(i,"queueMicrotask"),M=x&&x.value;M||(c=function(){var C,E;for(S&&(C=b.domain)&&C.exit();a;){E=a.fn,a=a.next;try{E()}catch(P){throw a?d():s=void 0,P}}s=void 0,C&&C.enter()},d=S?function(){b.nextTick(c)}:v&&!g?(f=!0,y=document.createTextNode(""),new v(c).observe(y,{characterData:!0}),function(){y.data=f=!f}):w&&w.resolve?(u=w.resolve(void 0),l=u.then,function(){l.call(u,c)}):function(){m.call(i,c)}),h.exports=M||function(C){C={fn:C,next:void 0},s&&(s.next=C),a||(a=C,d()),s=C}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(t,h,p){t=t("../internals/global"),h.exports=t.Promise},{"../internals/global":59}],83:[function(t,h,p){t=t("../internals/fails"),h.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(t,h,p){var c=t("../internals/fails"),a=t("../internals/well-known-symbol"),s=t("../internals/is-pure"),d=a("iterator");h.exports=!c(function(){var f=new URL("b?a=1&b=2&c=3","http://a"),y=f.searchParams,u="";return f.pathname="c%20d",y.forEach(function(l,i){y.delete("b"),u+=i+l}),s&&!f.toJSON||!y.sort||f.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||u!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(c,h,p){var a=c("../internals/global"),c=c("../internals/inspect-source"),a=a.WeakMap;h.exports=typeof a=="function"&&/native code/.test(c(a))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(t,h,p){function c(s){var d,f;this.promise=new s(function(y,u){if(d!==void 0||f!==void 0)throw TypeError("Bad Promise constructor");d=y,f=u}),this.resolve=a(d),this.reject=a(f)}var a=t("../internals/a-function");h.exports.f=function(s){return new c(s)}},{"../internals/a-function":5}],87:[function(t,h,p){var c=t("../internals/is-regexp");h.exports=function(a){if(c(a))throw TypeError("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":76}],88:[function(t,h,p){var c=t("../internals/global").isFinite;h.exports=Number.isFinite||function(a){return typeof a=="number"&&c(a)}},{"../internals/global":59}],89:[function(t,h,p){var c=t("../internals/descriptors"),a=t("../internals/fails"),s=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),f=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),u=t("../internals/indexed-object"),l=Object.assign,i=Object.defineProperty;h.exports=!l||a(function(){var m,g,v,b;return!(!c||l({b:1},l(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(g={},b="abcdefghijklmnopqrst",(m={})[v=Symbol()]=7,b.split("").forEach(function(w){g[w]=w}),l({},m)[v]!=7||s(l({},g)).join("")!=b)})?function(m,g){for(var v=y(m),b=arguments.length,w=1,S=d.f,x=f.f;w<b;)for(var M,C=u(arguments[w++]),E=S?s(C).concat(S(C)):s(C),P=E.length,D=0;D<P;)M=E[D++],c&&!x.call(C,M)||(v[M]=C[M]);return v}:l},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(i,h,p){function c(){}var a,s=i("../internals/an-object"),d=i("../internals/object-define-properties"),f=i("../internals/enum-bug-keys"),y=i("../internals/hidden-keys"),u=i("../internals/html"),l=i("../internals/document-create-element"),i=i("../internals/shared-key"),m="prototype",g="script",v=i("IE_PROTO"),b=function(S){return"<"+g+">"+S+"</"+g+">"},w=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch{}w=a?((S=a).write(b("")),S.close(),x=S.parentWindow.Object,S=null,x):(S=l("iframe"),x="java"+g+":",S.style.display="none",u.appendChild(S),S.src=String(x),(x=S.contentWindow.document).open(),x.write(b("document.F=Object")),x.close(),x.F);for(var S,x,M=f.length;M--;)delete w[m][f[M]];return w()};y[v]=!0,h.exports=Object.create||function(S,x){var M;return S!==null?(c[m]=s(S),M=new c,c[m]=null,M[v]=S):M=w(),x===void 0?M:d(M,x)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(t,h,p){var c=t("../internals/descriptors"),a=t("../internals/object-define-property"),s=t("../internals/an-object"),d=t("../internals/object-keys");h.exports=c?Object.defineProperties:function(f,y){s(f);for(var u,l=d(y),i=l.length,m=0;m<i;)a.f(f,u=l[m++],y[u]);return f}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(t,h,p){var c=t("../internals/descriptors"),a=t("../internals/ie8-dom-define"),s=t("../internals/an-object"),d=t("../internals/to-primitive"),f=Object.defineProperty;p.f=c?f:function(y,u,l){if(s(y),u=d(u,!0),s(l),a)try{return f(y,u,l)}catch{}if("get"in l||"set"in l)throw TypeError("Accessors not supported");return"value"in l&&(y[u]=l.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(t,h,p){var c=t("../internals/descriptors"),a=t("../internals/object-property-is-enumerable"),s=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),f=t("../internals/to-primitive"),y=t("../internals/has"),u=t("../internals/ie8-dom-define"),l=Object.getOwnPropertyDescriptor;p.f=c?l:function(i,m){if(i=d(i),m=f(m,!0),u)try{return l(i,m)}catch{}if(y(i,m))return s(!a.f.call(i,m),i[m])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(t,h,p){var c=t("../internals/to-indexed-object"),a=t("../internals/object-get-own-property-names").f,s={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h.exports.f=function(f){if(!d||s.call(f)!="[object Window]")return a(c(f));try{return a(f)}catch{return d.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(t,h,p){var c=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys").concat("length","prototype");p.f=Object.getOwnPropertyNames||function(s){return c(s,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(t,h,p){p.f=Object.getOwnPropertySymbols},{}],97:[function(d,h,p){var c=d("../internals/has"),a=d("../internals/to-object"),s=d("../internals/shared-key"),d=d("../internals/correct-prototype-getter"),f=s("IE_PROTO"),y=Object.prototype;h.exports=d?Object.getPrototypeOf:function(u){return u=a(u),c(u,f)?u[f]:typeof u.constructor=="function"&&u instanceof u.constructor?u.constructor.prototype:u instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(t,h,p){var c=t("../internals/has"),a=t("../internals/to-indexed-object"),s=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys");h.exports=function(f,y){var u,l=a(f),i=0,m=[];for(u in l)!c(d,u)&&c(l,u)&&m.push(u);for(;y.length>i;)!c(l,u=y[i++])||~s(m,u)||m.push(u);return m}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(t,h,p){var c=t("../internals/object-keys-internal"),a=t("../internals/enum-bug-keys");h.exports=Object.keys||function(s){return c(s,a)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(t,h,p){var c={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,s=a&&!c.call({1:2},1);p.f=s?function(d){return d=a(this,d),!!d&&d.enumerable}:c},{}],101:[function(t,h,p){var c=t("../internals/an-object"),a=t("../internals/a-possible-prototype");h.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,d=!1,f={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(f,[]),d=f instanceof Array}catch{}return function(y,u){return c(y),a(u),d?s.call(y,u):y.__proto__=u,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(t,h,p){var c=t("../internals/to-string-tag-support"),a=t("../internals/classof");h.exports=c?{}.toString:function(){return"[object "+a(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(t,h,p){var c=t("../internals/get-built-in"),a=t("../internals/object-get-own-property-names"),s=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object");h.exports=c("Reflect","ownKeys")||function(f){var y=a.f(d(f)),u=s.f;return u?y.concat(u(f)):y}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(t,h,p){t=t("../internals/global"),h.exports=t},{"../internals/global":59}],105:[function(t,h,p){h.exports=function(c){try{return{error:!1,value:c()}}catch(a){return{error:!0,value:a}}}},{}],106:[function(t,h,p){var c=t("../internals/an-object"),a=t("../internals/is-object"),s=t("../internals/new-promise-capability");h.exports=function(d,f){return c(d),a(f)&&f.constructor===d?f:((0,(d=s.f(d)).resolve)(f),d.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(t,h,p){var c=t("../internals/redefine");h.exports=function(a,s,d){for(var f in s)c(a,f,s[f],d);return a}},{"../internals/redefine":108}],108:[function(y,h,p){var c=y("../internals/global"),a=y("../internals/create-non-enumerable-property"),s=y("../internals/has"),d=y("../internals/set-global"),f=y("../internals/inspect-source"),y=y("../internals/internal-state"),u=y.get,l=y.enforce,i=String(String).split("String");(h.exports=function(m,g,v,x){var w=!!x&&!!x.unsafe,S=!!x&&!!x.enumerable,x=!!x&&!!x.noTargetGet;typeof v=="function"&&(typeof g!="string"||s(v,"name")||a(v,"name",g),l(v).source=i.join(typeof g=="string"?g:"")),m===c?S?m[g]=v:d(g,v):(w?!x&&m[g]&&(S=!0):delete m[g],S?m[g]=v:a(m,g,v))})(Function.prototype,"toString",function(){return typeof this=="function"&&u(this).source||f(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(t,h,p){var c=t("./classof-raw"),a=t("./regexp-exec");h.exports=function(s,d){var f=s.exec;if(typeof f=="function"){if(f=f.call(s,d),typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(c(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return a.call(s,d)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(d,h,p){var c,a,s=d("./regexp-flags"),d=d("./regexp-sticky-helpers"),f=RegExp.prototype.exec,y=String.prototype.replace,u=f,l=(c=/a/,a=/b*/g,f.call(c,"a"),f.call(a,"a"),c.lastIndex!==0||a.lastIndex!==0),i=d.UNSUPPORTED_Y||d.BROKEN_CARET,m=/()??/.exec("")[1]!==void 0;h.exports=u=l||m||i?function(g){var v,b,w,S,x=this,M=i&&x.sticky,C=s.call(x),E=x.source,P=0,D=g;return M&&((C=C.replace("y","")).indexOf("g")===-1&&(C+="g"),D=String(g).slice(x.lastIndex),0<x.lastIndex&&(!x.multiline||x.multiline&&g[x.lastIndex-1]!==`
`)&&(E="(?: "+E+")",D=" "+D,P++),b=new RegExp("^(?:"+E+")",C)),m&&(b=new RegExp("^"+E+"$(?!\\s)",C)),l&&(v=x.lastIndex),w=f.call(M?b:x,D),M?w?(w.input=w.input.slice(P),w[0]=w[0].slice(P),w.index=x.lastIndex,x.lastIndex+=w[0].length):x.lastIndex=0:l&&w&&(x.lastIndex=x.global?w.index+w[0].length:v),m&&w&&1<w.length&&y.call(w[0],b,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(w[S]=void 0)}),w}:u},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(t,h,p){var c=t("../internals/an-object");h.exports=function(){var a=c(this),s="";return a.global&&(s+="g"),a.ignoreCase&&(s+="i"),a.multiline&&(s+="m"),a.dotAll&&(s+="s"),a.unicode&&(s+="u"),a.sticky&&(s+="y"),s}},{"../internals/an-object":10}],112:[function(t,h,p){t=t("./fails");function c(a,s){return RegExp(a,s)}p.UNSUPPORTED_Y=t(function(){var a=c("a","y");return a.lastIndex=2,a.exec("abcd")!=null}),p.BROKEN_CARET=t(function(){var a=c("^r","gy");return a.lastIndex=2,a.exec("str")!=null})},{"./fails":51}],113:[function(t,h,p){h.exports=function(c){if(c==null)throw TypeError("Can't call method on "+c);return c}},{}],114:[function(t,h,p){h.exports=Object.is||function(c,a){return c===a?c!==0||1/c==1/a:c!=c&&a!=a}},{}],115:[function(t,h,p){var c=t("../internals/global"),a=t("../internals/create-non-enumerable-property");h.exports=function(s,d){try{a(c,s,d)}catch{c[s]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(t,h,p){var c=t("../internals/get-built-in"),a=t("../internals/object-define-property"),s=t("../internals/well-known-symbol"),d=t("../internals/descriptors"),f=s("species");h.exports=function(u){var u=c(u),l=a.f;d&&u&&!u[f]&&l(u,f,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(t,h,p){var c=t("../internals/object-define-property").f,a=t("../internals/has"),s=t("../internals/well-known-symbol")("toStringTag");h.exports=function(d,f,y){d&&!a(d=y?d:d.prototype,s)&&c(d,s,{configurable:!0,value:f})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(t,h,p){var c=t("../internals/shared"),a=t("../internals/uid"),s=c("keys");h.exports=function(d){return s[d]||(s[d]=a(d))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(c,h,p){var s=c("../internals/global"),c=c("../internals/set-global"),a="__core-js_shared__",s=s[a]||c(a,{});h.exports=s},{"../internals/global":59,"../internals/set-global":115}],120:[function(t,h,p){var c=t("../internals/is-pure"),a=t("../internals/shared-store");(h.exports=function(s,d){return a[s]||(a[s]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:c?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(t,h,p){var c=t("../internals/an-object"),a=t("../internals/a-function"),s=t("../internals/well-known-symbol")("species");h.exports=function(y,f){var y=c(y).constructor;return y===void 0||(y=c(y)[s])==null?f:a(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(t,h,p){var c=t("../internals/fails");h.exports=function(a){return c(function(){var s=""[a]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],123:[function(t,h,p){function c(d){return function(l,i){var u,l=String(s(l)),i=a(i),m=l.length;return i<0||m<=i?d?"":void 0:(u=l.charCodeAt(i))<55296||56319<u||i+1===m||(m=l.charCodeAt(i+1))<56320||57343<m?d?l.charAt(i):u:d?l.slice(i,i+2):m-56320+(u-55296<<10)+65536}}var a=t("../internals/to-integer"),s=t("../internals/require-object-coercible");h.exports={codeAt:c(!1),charAt:c(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(t,h,p){function c(w){return w+22+75*(w<26)}function a(w){var S,x=[],M=(w=function(le){for(var de=[],se=0,O=le.length;se<O;){var j,F=le.charCodeAt(se++);55296<=F&&F<=56319&&se<O?(64512&(j=le.charCodeAt(se++)))==56320?de.push(((1023&F)<<10)+(1023&j)+65536):(de.push(F),se--):de.push(F)}return de}(w)).length,C=128,E=0,P=72;for(G=0;G<w.length;G++)(S=w[G])<128&&x.push(b(S));var D=x.length,I=D;for(D&&x.push("-");I<M;){for(var U=s,G=0;G<w.length;G++)C<=(S=w[G])&&S<U&&(U=S);var W=I+1;if(U-C>v((s-E)/W))throw RangeError(m);for(E+=(U-C)*W,C=U,G=0;G<w.length;G++){if((S=w[G])<C&&++E>s)throw RangeError(m);if(S==C){for(var te=E,Q=d;;Q+=d){var J=Q<=P?1:P+f<=Q?f:Q-P;if(te<J)break;var oe=te-J,ee=d-J;x.push(b(c(J+oe%ee))),te=v(oe/ee)}x.push(b(c(te))),P=function(le,de,se){var O=0;for(le=se?v(le/u):le>>1,le+=v(le/de);g*f>>1<le;O+=d)le=v(le/g);return v(O+(g+1)*le/(le+y))}(E,W,I==D),E=0,++I}}++E,++C}return x.join("")}var s=2147483647,d=36,f=26,y=38,u=700,l=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=d-1,v=Math.floor,b=String.fromCharCode;h.exports=function(w){for(var S,x=[],M=w.toLowerCase().replace(i,".").split("."),C=0;C<M.length;C++)S=M[C],x.push(l.test(S)?"xn--"+a(S):S);return x.join(".")}},{}],125:[function(t,h,p){var c=t("../internals/to-integer"),a=t("../internals/require-object-coercible");h.exports="".repeat||function(s){var d=String(a(this)),f="",y=c(s);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(d+=d))1&y&&(f+=d);return f}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(t,h,p){var c=t("../internals/fails"),a=t("../internals/whitespaces");h.exports=function(s){return c(function(){return!!a[s]()||"\u200B\x85\u180E"[s]()!="\u200B\x85\u180E"||a[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(s,h,p){function c(y){return function(u){return u=String(a(u)),1&y&&(u=u.replace(d,"")),u=2&y?u.replace(f,""):u}}var a=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",d=RegExp("^"+s+s+"*"),f=RegExp(s+s+"*$");h.exports={start:c(1),end:c(2),trim:c(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(g,h,p){function c(I){return function(){D(I)}}function a(I){D(I.data)}function s(I){f.postMessage(I+"",v.protocol+"//"+v.host)}var d,f=g("../internals/global"),y=g("../internals/fails"),u=g("../internals/classof-raw"),l=g("../internals/function-bind-context"),i=g("../internals/html"),m=g("../internals/document-create-element"),g=g("../internals/engine-is-ios"),v=f.location,b=f.setImmediate,w=f.clearImmediate,S=f.process,x=f.MessageChannel,M=f.Dispatch,C=0,E={},P="onreadystatechange",D=function(I){var U;E.hasOwnProperty(I)&&(U=E[I],delete E[I],U())};b&&w||(b=function(I){for(var U=[],G=1;G<arguments.length;)U.push(arguments[G++]);return E[++C]=function(){(typeof I=="function"?I:Function(I)).apply(void 0,U)},d(C),C},w=function(I){delete E[I]},u(S)=="process"?d=function(I){S.nextTick(c(I))}:M&&M.now?d=function(I){M.now(c(I))}:x&&!g?(g=(u=new x).port2,u.port1.onmessage=a,d=l(g.postMessage,g,1)):!f.addEventListener||typeof postMessage!="function"||f.importScripts||y(s)||v.protocol==="file:"?d=P in m("script")?function(I){i.appendChild(m("script"))[P]=function(){i.removeChild(this),D(I)}}:function(I){setTimeout(c(I),0)}:(d=s,f.addEventListener("message",a,!1))),h.exports={set:b,clear:w}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(t,h,p){var c=t("../internals/classof-raw");h.exports=function(a){if(typeof a!="number"&&c(a)!="Number")throw TypeError("Incorrect invocation");return+a}},{"../internals/classof-raw":28}],130:[function(t,h,p){var c=t("../internals/to-integer"),a=Math.max,s=Math.min;h.exports=function(d,f){return d=c(d),d<0?a(d+f,0):s(d,f)}},{"../internals/to-integer":133}],131:[function(t,h,p){var c=t("../internals/to-integer"),a=t("../internals/to-length");h.exports=function(d){if(d===void 0)return 0;var d=c(d),f=a(d);if(d!==f)throw RangeError("Wrong length or index");return f}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(t,h,p){var c=t("../internals/indexed-object"),a=t("../internals/require-object-coercible");h.exports=function(s){return c(a(s))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(t,h,p){var c=Math.ceil,a=Math.floor;h.exports=function(s){return isNaN(s=+s)?0:(0<s?a:c)(s)}},{}],134:[function(t,h,p){var c=t("../internals/to-integer"),a=Math.min;h.exports=function(s){return 0<s?a(c(s),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(t,h,p){var c=t("../internals/require-object-coercible");h.exports=function(a){return Object(c(a))}},{"../internals/require-object-coercible":113}],136:[function(t,h,p){var c=t("../internals/to-positive-integer");h.exports=function(a,s){if(a=c(a),a%s)throw RangeError("Wrong offset");return a}},{"../internals/to-positive-integer":137}],137:[function(t,h,p){var c=t("../internals/to-integer");h.exports=function(a){if(a=c(a),a<0)throw RangeError("The argument can't be less than 0");return a}},{"../internals/to-integer":133}],138:[function(t,h,p){var c=t("../internals/is-object");h.exports=function(a,s){if(!c(a))return a;var d,f;if(s&&typeof(d=a.toString)=="function"&&!c(f=d.call(a))||typeof(d=a.valueOf)=="function"&&!c(f=d.call(a))||!s&&typeof(d=a.toString)=="function"&&!c(f=d.call(a)))return f;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(t,h,p){var c={};c[t("../internals/well-known-symbol")("toStringTag")]="z",h.exports=String(c)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(t,h,p){function c(Ge,it){for(var ie=0,Be=it.length,Pe=new(we(Ge))(Be);ie<Be;)Pe[ie]=it[ie++];return Pe}function a(Ge,it){j(Ge,it,{get:function(){return se(this)[it]}})}function s(Ge){return Ge instanceof ue||(Ge=D(Ge))=="ArrayBuffer"||Ge=="SharedArrayBuffer"}function d(Ge,it){return Ae(Ge)&&typeof it!="symbol"&&it in Ge&&String(+it)==String(it)}function f(Ge,it){return d(Ge,it=E(it,!0))?w(2,Ge[it]):F(Ge,it)}function y(Ge,it,ie){return!(d(Ge,it=E(it,!0))&&I(ie)&&P(ie,"value"))||P(ie,"get")||P(ie,"set")||ie.configurable||P(ie,"writable")&&!ie.writable||P(ie,"enumerable")&&!ie.enumerable?j(Ge,it,ie):(Ge[it]=ie.value,Ge)}var u=t("../internals/export"),l=t("../internals/global"),i=t("../internals/descriptors"),m=t("../internals/typed-array-constructors-require-wrappers"),g=t("../internals/array-buffer-view-core"),v=t("../internals/array-buffer"),b=t("../internals/an-instance"),w=t("../internals/create-property-descriptor"),S=t("../internals/create-non-enumerable-property"),x=t("../internals/to-length"),M=t("../internals/to-index"),C=t("../internals/to-offset"),E=t("../internals/to-primitive"),P=t("../internals/has"),D=t("../internals/classof"),I=t("../internals/is-object"),U=t("../internals/object-create"),G=t("../internals/object-set-prototype-of"),W=t("../internals/object-get-own-property-names").f,te=t("../internals/typed-array-from"),Q=t("../internals/array-iteration").forEach,J=t("../internals/set-species"),oe=t("../internals/object-define-property"),ee=t("../internals/object-get-own-property-descriptor"),le=t("../internals/internal-state"),de=t("../internals/inherit-if-required"),se=le.get,O=le.set,j=oe.f,F=ee.f,V=Math.round,ae=l.RangeError,ue=v.ArrayBuffer,Ee=v.DataView,Re=g.NATIVE_ARRAY_BUFFER_VIEWS,Ce=g.TYPED_ARRAY_TAG,xe=g.TypedArray,Ze=g.TypedArrayPrototype,we=g.aTypedArrayConstructor,Ae=g.isTypedArray,Ue="BYTES_PER_ELEMENT",qe="Wrong length";i?(Re||(ee.f=f,oe.f=y,a(Ze,"buffer"),a(Ze,"byteOffset"),a(Ze,"byteLength"),a(Ze,"length")),u({target:"Object",stat:!0,forced:!Re},{getOwnPropertyDescriptor:f,defineProperty:y}),h.exports=function(Fe,it,ie){function Be(Te,B){j(Te,B,{get:function(){var z=this,L=B;return(z=se(z)).view[Je](L*Pe+z.byteOffset,!0)},set:function(z){var L=this,k=B;L=se(L),ie&&(z=(z=V(z))<0?0:255<z?255:255&z),L.view[ze](k*Pe+L.byteOffset,z,!0)},enumerable:!0})}var Pe=Fe.match(/\d+$/)[0]/8,We=Fe+(ie?"Clamped":"")+"Array",Je="get"+Fe,ze="set"+Fe,tt=l[We],ct=tt,Fe=ct&&ct.prototype,Me={};Re?m&&(ct=it(function(Te,B,z,L){return b(Te,ct,We),de(I(B)?s(B)?L!==void 0?new tt(B,C(z,Pe),L):z!==void 0?new tt(B,C(z,Pe)):new tt(B):Ae(B)?c(ct,B):te.call(ct,B):new tt(M(B)),Te,ct)}),G&&G(ct,xe),Q(W(tt),function(Te){Te in ct||S(ct,Te,tt[Te])}),ct.prototype=Fe):(ct=it(function(Te,B,z,L){b(Te,ct,We);var k,ge,ve=0,_e=0;if(I(B)){if(!s(B))return Ae(B)?c(ct,B):te.call(ct,B);var H=B,_e=C(z,Pe),z=B.byteLength;if(L===void 0){if(z%Pe||(k=z-_e)<0)throw ae(qe)}else if(z<(k=x(L)*Pe)+_e)throw ae(qe);ge=k/Pe}else ge=M(B),H=new ue(k=ge*Pe);for(O(Te,{buffer:H,byteOffset:_e,byteLength:k,length:ge,view:new Ee(H)});ve<ge;)Be(Te,ve++)}),G&&G(ct,xe),Fe=ct.prototype=U(Ze)),Fe.constructor!==ct&&S(Fe,"constructor",ct),Ce&&S(Fe,Ce,We),Me[We]=ct,u({global:!0,forced:ct!=tt,sham:!Re},Me),Ue in ct||S(ct,Ue,Pe),Ue in Fe||S(Fe,Ue,Pe),J(We)}):h.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(d,h,p){var c=d("../internals/global"),a=d("../internals/fails"),s=d("../internals/check-correctness-of-iteration"),d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,f=c.ArrayBuffer,y=c.Int8Array;h.exports=!d||!a(function(){y(1)})||!a(function(){new y(-1)})||!s(function(u){new y,new y(null),new y(1.5),new y(u)},!0)||a(function(){return new y(new f(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(t,h,p){var c=t("../internals/to-object"),a=t("../internals/to-length"),s=t("../internals/get-iterator-method"),d=t("../internals/is-array-iterator-method"),f=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;h.exports=function(u){var l,i,m,g,v,b,w=c(u),S=arguments.length,x=1<S?arguments[1]:void 0,M=x!==void 0,C=s(w);if(C!=null&&!d(C))for(b=(v=C.call(w)).next,w=[];!(g=b.call(v)).done;)w.push(g.value);for(M&&2<S&&(x=f(x,arguments[2],2)),i=a(w.length),m=new(y(this))(i),l=0;l<i;l++)m[l]=M?x(w[l],l):w[l];return m}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(t,h,p){var c=0,a=Math.random();h.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++c+a).toString(36)}},{}],144:[function(t,h,p){t=t("../internals/native-symbol"),h.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(t,h,p){t=t("../internals/well-known-symbol"),p.f=t},{"../internals/well-known-symbol":146}],146:[function(y,h,p){var c=y("../internals/global"),a=y("../internals/shared"),s=y("../internals/has"),d=y("../internals/uid"),f=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),u=a("wks"),l=c.Symbol,i=y?l:l&&l.withoutSetter||d;h.exports=function(m){return s(u,m)||(f&&s(l,m)?u[m]=l[m]:u[m]=i("Symbol."+m)),u[m]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(t,h,p){h.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],148:[function(s,h,p){var c=s("../internals/export"),a=s("../internals/global"),f=s("../internals/array-buffer"),s=s("../internals/set-species"),d="ArrayBuffer",f=f[d];c({global:!0,forced:a[d]!==f},{ArrayBuffer:f}),s(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(w,h,p){var c=w("../internals/export"),a=w("../internals/fails"),s=w("../internals/is-array"),d=w("../internals/is-object"),f=w("../internals/to-object"),y=w("../internals/to-length"),u=w("../internals/create-property"),l=w("../internals/array-species-create"),i=w("../internals/array-method-has-species-support"),b=w("../internals/well-known-symbol"),w=w("../internals/engine-v8-version"),m=b("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",b=51<=w||!a(function(){var S=[];return S[m]=!1,S.concat()[0]!==S}),w=i("concat");c({target:"Array",proto:!0,forced:!b||!w},{concat:function(S){for(var x,M,C,E,P,D=f(this),I=l(D,0),U=0,G=-1,W=arguments.length;G<W;G++)if(P=void 0,!d(E=C=G===-1?D:arguments[G])||((P=E[m])!==void 0?!P:!s(E))){if(g<=U)throw TypeError(v);u(I,U++,C)}else{if(M=y(C.length),g<U+M)throw TypeError(v);for(x=0;x<M;x++,U++)x in C&&u(I,U,C[x])}return I.length=U,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(s,h,p){var c=s("../internals/export"),a=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");c({target:"Array",proto:!0},{copyWithin:a}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(d,h,p){var c=d("../internals/export"),a=d("../internals/array-iteration").every,s=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),s=s("every"),d=d("every");c({target:"Array",proto:!0,forced:!s||!d},{every:function(f){return a(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(s,h,p){var c=s("../internals/export"),a=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");c({target:"Array",proto:!0},{fill:a}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(d,h,p){var c=d("../internals/export"),a=d("../internals/array-iteration").filter,s=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),s=s("filter"),d=d("filter");c({target:"Array",proto:!0,forced:!s||!d},{filter:function(f){return a(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(a,h,p){var c=a("../internals/export"),a=a("../internals/array-for-each");c({target:"Array",proto:!0,forced:[].forEach!=a},{forEach:a})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(t,h,p){var c=t("../internals/export"),a=t("../internals/array-from");c({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:a})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(t,h,p){var c=t("../internals/export"),a=t("../internals/array-includes").includes,s=t("../internals/add-to-unscopables");c({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return a(this,d,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(y,h,p){var c=y("../internals/export"),a=y("../internals/array-includes").indexOf,f=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),s=[].indexOf,d=!!s&&1/[1].indexOf(1,-0)<0,f=f("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});c({target:"Array",proto:!0,forced:d||!f||!y},{indexOf:function(u){return d?s.apply(this,arguments)||0:a(this,u,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(f,h,p){var c=f("../internals/to-indexed-object"),a=f("../internals/add-to-unscopables"),s=f("../internals/iterators"),d=f("../internals/internal-state"),f=f("../internals/define-iterator"),y="Array Iterator",u=d.set,l=d.getterFor(y);h.exports=f(Array,"Array",function(i,m){u(this,{type:y,target:c(i),index:0,kind:m})},function(){var i=l(this),m=i.target,g=i.kind,v=i.index++;return!m||v>=m.length?{value:i.target=void 0,done:!0}:g=="keys"?{value:v,done:!1}:g=="values"?{value:m[v],done:!1}:{value:[v,m[v]],done:!1}},"values"),s.Arguments=s.Array,a("keys"),a("values"),a("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(f,h,p){var c=f("../internals/export"),d=f("../internals/indexed-object"),a=f("../internals/to-indexed-object"),f=f("../internals/array-method-is-strict"),s=[].join,d=d!=Object,f=f("join",",");c({target:"Array",proto:!0,forced:d||!f},{join:function(y){return s.call(a(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(a,h,p){var c=a("../internals/export"),a=a("../internals/array-last-index-of");c({target:"Array",proto:!0,forced:a!==[].lastIndexOf},{lastIndexOf:a})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(d,h,p){var c=d("../internals/export"),a=d("../internals/array-iteration").map,s=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),s=s("map"),d=d("map");c({target:"Array",proto:!0,forced:!s||!d},{map:function(f){return a(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(m,h,p){var c=m("../internals/export"),a=m("../internals/is-object"),s=m("../internals/is-array"),d=m("../internals/to-absolute-index"),f=m("../internals/to-length"),y=m("../internals/to-indexed-object"),u=m("../internals/create-property"),l=m("../internals/well-known-symbol"),i=m("../internals/array-method-has-species-support"),m=m("../internals/array-method-uses-to-length"),i=i("slice"),m=m("slice",{ACCESSORS:!0,0:0,1:2}),g=l("species"),v=[].slice,b=Math.max;c({target:"Array",proto:!0,forced:!i||!m},{slice:function(w,S){var x,M,C,E=y(this),P=f(E.length),D=d(w,P),I=d(S===void 0?P:S,P);if(s(E)&&((x=typeof(x=E.constructor)=="function"&&(x===Array||s(x.prototype))||a(x)&&(x=x[g])===null?void 0:x)===Array||x===void 0))return v.call(E,D,I);for(M=new(x===void 0?Array:x)(b(I-D,0)),C=0;D<I;D++,C++)D in E&&u(M,C,E[D]);return M.length=C,M}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(d,h,p){var c=d("../internals/export"),a=d("../internals/array-iteration").some,s=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),s=s("some"),d=d("some");c({target:"Array",proto:!0,forced:!s||!d},{some:function(f){return a(this,f,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(i,h,p){var c=i("../internals/export"),a=i("../internals/to-absolute-index"),s=i("../internals/to-integer"),d=i("../internals/to-length"),f=i("../internals/to-object"),y=i("../internals/array-species-create"),u=i("../internals/create-property"),l=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),l=l("splice"),i=i("splice",{ACCESSORS:!0,0:0,1:2}),m=Math.max,g=Math.min;c({target:"Array",proto:!0,forced:!l||!i},{splice:function(U,b){var w,S,x,M,C,E,P=f(this),D=d(P.length),I=a(U,D),U=arguments.length;if(U===0?w=S=0:S=U===1?(w=0,D-I):(w=U-2,g(m(s(b),0),D-I)),9007199254740991<D+w-S)throw TypeError("Maximum allowed length exceeded");for(x=y(P,S),M=0;M<S;M++)(C=I+M)in P&&u(x,M,P[C]);if(w<(x.length=S)){for(M=I;M<D-S;M++)E=M+w,(C=M+S)in P?P[E]=P[C]:delete P[E];for(M=D;D-S+w<M;M--)delete P[M-1]}else if(S<w)for(M=D-S;I<M;M--)E=M+w-1,(C=M+S-1)in P?P[E]=P[C]:delete P[E];for(M=0;M<w;M++)P[M+I]=arguments[M+2];return P.length=D-S+w,x}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(a,h,p){var c=a("../internals/descriptors"),a=a("../internals/object-define-property").f,s=Function.prototype,d=s.toString,f=/^\s*function ([^ (]*)/;!c||"name"in s||a(s,"name",{configurable:!0,get:function(){try{return d.call(this).match(f)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(a,h,p){var c=a("../internals/collection"),a=a("../internals/collection-strong");h.exports=c("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(c,h,p){var c=c("../internals/export"),a=Math.hypot,s=Math.abs,d=Math.sqrt;c({target:"Math",stat:!0,forced:!!a&&a(1/0,NaN)!==1/0},{hypot:function(f,y){for(var u,l,i=0,m=0,g=arguments.length,v=0;m<g;)v<(u=s(arguments[m++]))?(i=i*(l=v/u)*l+1,v=u):i+=0<u?(l=u/v)*l:u;return v===1/0?1/0:v*d(i)}})},{"../internals/export":50}],168:[function(t,h,p){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(t,h,p){function c(G){var W,te,Q,J,oe,ee,le,de=i(G,!1);if(typeof de=="string"&&2<de.length){if((G=(de=S(de)).charCodeAt(0))===43||G===45){if((W=de.charCodeAt(2))===88||W===120)return NaN}else if(G===48){switch(de.charCodeAt(1)){case 66:case 98:te=2,Q=49;break;case 79:case 111:te=8,Q=55;break;default:return+de}for(oe=(J=de.slice(2)).length,ee=0;ee<oe;ee++)if((le=J.charCodeAt(ee))<48||Q<le)return NaN;return parseInt(J,te)}}return+de}var a=t("../internals/descriptors"),s=t("../internals/global"),d=t("../internals/is-forced"),f=t("../internals/redefine"),y=t("../internals/has"),u=t("../internals/classof-raw"),l=t("../internals/inherit-if-required"),i=t("../internals/to-primitive"),m=t("../internals/fails"),g=t("../internals/object-create"),v=t("../internals/object-get-own-property-names").f,b=t("../internals/object-get-own-property-descriptor").f,w=t("../internals/object-define-property").f,S=t("../internals/string-trim").trim,x="Number",M=s[x],C=M.prototype,E=u(g(C))==x;if(d(x,!M(" 0o1")||!M("0b1")||M("+0x1"))){for(var P,D=function(W){var W=arguments.length<1?0:W,te=this;return te instanceof D&&(E?m(function(){C.valueOf.call(te)}):u(te)!=x)?l(new M(c(W)),te,D):c(W)},I=a?v(M):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;I.length>U;U++)y(M,P=I[U])&&!y(D,P)&&w(D,P,b(M,P));(D.prototype=C).constructor=D,f(s,x,D)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(t,h,p){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(y,h,p){function c(i,m,g){return m===0?g:m%2==1?c(i,m-1,g*i):c(i*i,m/2,g)}var a=y("../internals/export"),s=y("../internals/to-integer"),d=y("../internals/this-number-value"),f=y("../internals/string-repeat"),y=y("../internals/fails"),u=1 .toFixed,l=Math.floor;a({target:"Number",proto:!0,forced:u&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!y(function(){u.call({})})},{toFixed:function(x){function m(P,D){for(var I=-1,U=D;++I<6;)U+=P*M[I],M[I]=U%1e7,U=l(U/1e7)}function g(P){for(var D=6,I=0;0<=--D;)I+=M[D],M[D]=l(I/P),I=I%P*1e7}function v(){for(var P,D=6,I="";0<=--D;)I===""&&D!==0&&M[D]===0||(P=String(M[D]),I=I===""?P:I+f.call("0",7-P.length)+P);return I}var b,w,S=d(this),x=s(x),M=[0,0,0,0,0,0],C="",E="0";if(x<0||20<x)throw RangeError("Incorrect fraction digits");if(S!=S)return"NaN";if(S<=-1e21||1e21<=S)return String(S);if(S<0&&(C="-",S=-S),1e-21<S)if(S=(b=function(P){for(var D=0,I=P;4096<=I;)D+=12,I/=4096;for(;2<=I;)D+=1,I/=2;return D}(S*c(2,69,1))-69)<0?S*c(2,-b,1):S/c(2,b,1),S*=4503599627370496,0<(b=52-b)){for(m(0,S),w=x;7<=w;)m(1e7,0),w-=7;for(m(c(10,w,1),0),w=b-1;23<=w;)g(1<<23),w-=23;g(1<<w),m(1,1),g(2),E=v()}else m(0,S),m(1<<-b,0),E=v()+f.call("0",x);return E=0<x?C+((S=E.length)<=x?"0."+f.call("0",x-S)+E:E.slice(0,S-x)+"."+E.slice(S-x)):C+E}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(a,h,p){var c=a("../internals/export"),a=a("../internals/object-assign");c({target:"Object",stat:!0,forced:Object.assign!==a},{assign:a})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(d,h,p){var c=d("../internals/export"),f=d("../internals/fails"),a=d("../internals/to-indexed-object"),s=d("../internals/object-get-own-property-descriptor").f,d=d("../internals/descriptors"),f=f(function(){s(1)});c({target:"Object",stat:!0,forced:!d||f,sham:!d},{getOwnPropertyDescriptor:function(y,u){return s(a(y),u)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(s,h,p){var c=s("../internals/export"),a=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;c({target:"Object",stat:!0,forced:a(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(f,h,p){var c=f("../internals/export"),a=f("../internals/fails"),s=f("../internals/to-object"),d=f("../internals/object-get-prototype-of"),f=f("../internals/correct-prototype-getter");c({target:"Object",stat:!0,forced:a(function(){d(1)}),sham:!f},{getPrototypeOf:function(y){return d(s(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(t,h,p){var c=t("../internals/export"),a=t("../internals/to-object"),s=t("../internals/object-keys");c({target:"Object",stat:!0,forced:t("../internals/fails")(function(){s(1)})},{keys:function(d){return s(a(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(s,h,p){var c=s("../internals/to-string-tag-support"),a=s("../internals/redefine"),s=s("../internals/object-to-string");c||a(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(ie,h,p){var c,a,s,d,f=ie("../internals/export"),y=ie("../internals/is-pure"),u=ie("../internals/global"),l=ie("../internals/get-built-in"),i=ie("../internals/native-promise-constructor"),m=ie("../internals/redefine"),g=ie("../internals/redefine-all"),v=ie("../internals/set-to-string-tag"),b=ie("../internals/set-species"),w=ie("../internals/is-object"),S=ie("../internals/a-function"),x=ie("../internals/an-instance"),M=ie("../internals/classof-raw"),C=ie("../internals/inspect-source"),E=ie("../internals/iterate"),P=ie("../internals/check-correctness-of-iteration"),D=ie("../internals/species-constructor"),I=ie("../internals/task").set,U=ie("../internals/microtask"),G=ie("../internals/promise-resolve"),W=ie("../internals/host-report-errors"),te=ie("../internals/new-promise-capability"),Q=ie("../internals/perform"),J=ie("../internals/internal-state"),oe=ie("../internals/is-forced"),Be=ie("../internals/well-known-symbol"),ee=ie("../internals/engine-v8-version"),le=Be("species"),de="Promise",se=J.get,O=J.set,j=J.getterFor(de),F=i,V=u.TypeError,ae=u.document,ue=u.process,Ee=l("fetch"),Re=te.f,Ce=Re,xe=M(ue)=="process",Ze=!!(ae&&ae.createEvent&&u.dispatchEvent),we="unhandledrejection",Ae="rejectionhandled",Ue=1,qe=2,Ge=1,it=2,ie=oe(de,function(){var Me,Te;return C(F)===String(F)&&(ee===66||!xe&&typeof PromiseRejectionEvent!="function")?!0:!(!y||F.prototype.finally)||!(51<=ee&&/native code/.test(F))&&(Te=function(B){B(function(){},function(){})},((Me=F.resolve(1)).constructor={})[le]=Te,!(Me.then(function(){})instanceof Te))}),Be=ie||!P(function(Me){F.all(Me).catch(function(){})}),Pe=function(Me){var Te;return!(!w(Me)||typeof(Te=Me.then)!="function")&&Te},We=function(Me,Te,B){var z;Te.notified||(Te.notified=!0,z=Te.reactions,U(function(){for(var L,k,ge=Te.value,ve=Te.state==Ue,_e=0;z.length>_e;){var H,ye,je,pe=z[_e++],Oe=ve?pe.ok:pe.fail,Y=pe.resolve,me=pe.reject,$=pe.domain;try{Oe?(ve||(Te.rejection===it&&function(X,re){I.call(u,function(){xe?ue.emit("rejectionHandled",X):Je(Ae,X,re.value)})}(Me,Te),Te.rejection=Ge),Oe===!0?H=ge:($&&$.enter(),H=Oe(ge),$&&($.exit(),je=!0)),H===pe.promise?me(V("Promise-chain cycle")):(ye=Pe(H))?ye.call(H,Y,me):Y(H)):me(ge)}catch(X){$&&!je&&$.exit(),me(X)}}Te.reactions=[],Te.notified=!1,B&&!Te.rejection&&(L=Me,k=Te,I.call(u,function(){var X=k.value,re=ze(k);if(re&&(re=Q(function(){xe?ue.emit("unhandledRejection",X,L):Je(we,L,X)}),k.rejection=xe||ze(k)?it:Ge,re.error))throw re.value}))}))},Je=function(Me,Te,B){var z;Ze?((z=ae.createEvent("Event")).promise=Te,z.reason=B,z.initEvent(Me,!1,!0),u.dispatchEvent(z)):z={promise:Te,reason:B},(Te=u["on"+Me])?Te(z):Me===we&&W("Unhandled promise rejection",B)},ze=function(Me){return Me.rejection!==Ge&&!Me.parent},tt=function(Me,Te,B,z){return function(L){Me(Te,B,L,z)}},ct=function(Me,Te,B,z){Te.done||(Te.done=!0,(Te=z||Te).value=B,Te.state=qe,We(Me,Te,!0))},Fe=function(Me,Te,B,z){if(!Te.done){Te.done=!0,z&&(Te=z);try{if(Me===B)throw V("Promise can't be resolved itself");var L=Pe(B);L?U(function(){var k={done:!1};try{L.call(B,tt(Fe,Me,k,Te),tt(ct,Me,k,Te))}catch(ge){ct(Me,k,ge,Te)}}):(Te.value=B,Te.state=Ue,We(Me,Te,!1))}catch(k){ct(Me,{done:!1},k,Te)}}};ie&&(F=function(Me){x(this,F,de),S(Me),c.call(this);var Te=se(this);try{Me(tt(Fe,this,Te),tt(ct,this,Te))}catch(B){ct(this,Te,B)}},(c=function(Me){O(this,{type:de,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(F.prototype,{then:function(Me,Te){var B=j(this),z=Re(D(this,F));return z.ok=typeof Me!="function"||Me,z.fail=typeof Te=="function"&&Te,z.domain=xe?ue.domain:void 0,B.parent=!0,B.reactions.push(z),B.state!=0&&We(this,B,!1),z.promise},catch:function(Me){return this.then(void 0,Me)}}),a=function(){var Me=new c,Te=se(Me);this.promise=Me,this.resolve=tt(Fe,Me,Te),this.reject=tt(ct,Me,Te)},te.f=Re=function(Me){return Me===F||Me===s?new a:Ce(Me)},y||typeof i!="function"||(d=i.prototype.then,m(i.prototype,"then",function(Me,Te){var B=this;return new F(function(z,L){d.call(B,z,L)}).then(Me,Te)},{unsafe:!0}),typeof Ee=="function"&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(Me){return G(F,Ee.apply(u,arguments))}}))),f({global:!0,wrap:!0,forced:ie},{Promise:F}),v(F,de,!1,!0),b(de),s=l(de),f({target:de,stat:!0,forced:ie},{reject:function(Me){var Te=Re(this);return Te.reject.call(void 0,Me),Te.promise}}),f({target:de,stat:!0,forced:y||ie},{resolve:function(Me){return G(y&&this===s?F:this,Me)}}),f({target:de,stat:!0,forced:Be},{all:function(Me){var Te=this,B=Re(Te),z=B.resolve,L=B.reject,k=Q(function(){var ge=S(Te.resolve),ve=[],_e=0,H=1;E(Me,function(ye){var je=_e++,pe=!1;ve.push(void 0),H++,ge.call(Te,ye).then(function(Oe){pe||(pe=!0,ve[je]=Oe,--H||z(ve))},L)}),--H||z(ve)});return k.error&&L(k.value),B.promise},race:function(Me){var Te=this,B=Re(Te),z=B.reject,L=Q(function(){var k=S(Te.resolve);E(Me,function(ge){k.call(Te,ge).then(B.resolve,z)})});return L.error&&z(L.value),B.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(u,h,p){var c=u("../internals/export"),g=u("../internals/get-built-in"),a=u("../internals/a-function"),s=u("../internals/an-object"),d=u("../internals/is-object"),f=u("../internals/object-create"),y=u("../internals/function-bind"),u=u("../internals/fails"),l=g("Reflect","construct"),i=u(function(){function v(){}return!(l(function(){},[],v)instanceof v)}),m=!u(function(){l(function(){})}),g=i||m;c({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(v,b){a(v),s(b);var w=arguments.length<3?v:a(arguments[2]);if(m&&!i)return l(v,b,w);if(v==w){switch(b.length){case 0:return new v;case 1:return new v(b[0]);case 2:return new v(b[0],b[1]);case 3:return new v(b[0],b[1],b[2]);case 4:return new v(b[0],b[1],b[2],b[3])}var S=[null];return S.push.apply(S,b),new(y.apply(v,S))}return S=w.prototype,w=f(d(S)?S:Object.prototype),S=Function.apply.call(v,w,b),d(S)?S:w}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(t,h,p){var c=t("../internals/descriptors"),a=t("../internals/global"),s=t("../internals/is-forced"),d=t("../internals/inherit-if-required"),f=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,u=t("../internals/is-regexp"),l=t("../internals/regexp-flags"),i=t("../internals/regexp-sticky-helpers"),m=t("../internals/redefine"),g=t("../internals/fails"),v=t("../internals/internal-state").set,b=t("../internals/set-species"),w=t("../internals/well-known-symbol")("match"),S=a.RegExp,x=S.prototype,M=/a/g,C=/a/g,E=new S(M)!==M,P=i.UNSUPPORTED_Y;if(c&&s("RegExp",!E||P||g(function(){return C[w]=!1,S(M)!=M||S(C)==C||S(M,"i")!="/a/i"}))){for(var D=function(G,W){var te,Q=this instanceof D,J=u(G),oe=W===void 0;return!Q&&J&&G.constructor===D&&oe?G:(E?J&&!oe&&(G=G.source):G instanceof D&&(oe&&(W=l.call(G)),G=G.source),P&&(te=!!W&&-1<W.indexOf("y"))&&(W=W.replace(/y/g,"")),J=d(E?new S(G,W):S(G,W),Q?this:x,D),P&&te&&v(J,{sticky:te}),J)},I=y(S),U=0;I.length>U;)(function(G){G in D||f(D,G,{configurable:!0,get:function(){return S[G]},set:function(W){S[G]=W}})})(I[U++]);(x.constructor=D).prototype=x,m(a,"RegExp",D)}b("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(a,h,p){var c=a("../internals/export"),a=a("../internals/regexp-exec");c({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(d,h,p){var c=d("../internals/redefine"),a=d("../internals/an-object"),u=d("../internals/fails"),s=d("../internals/regexp-flags"),d="toString",f=RegExp.prototype,y=f[d],u=u(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),l=y.name!=d;(u||l)&&c(RegExp.prototype,d,function(){var i=a(this),m=String(i.source),g=i.flags;return"/"+m+"/"+String(g===void 0&&i instanceof RegExp&&!("flags"in f)?s.call(i):g)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(a,h,p){var c=a("../internals/collection"),a=a("../internals/collection-strong");h.exports=c("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},a)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(y,h,p){var c=y("../internals/export"),a=y("../internals/object-get-own-property-descriptor").f,s=y("../internals/to-length"),d=y("../internals/not-a-regexp"),f=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),u="".endsWith,l=Math.min,i=i("endsWith");c({target:"String",proto:!0,forced:!!(y||i||!(c=a(String.prototype,"endsWith"))||c.writable)&&!i},{endsWith:function(m){var g=String(f(this)),v=(d(m),1<arguments.length?arguments[1]:void 0),b=s(g.length),v=v===void 0?b:l(s(v),b),b=String(m);return u?u.call(g,b,v):g.slice(v-b.length,v)===b}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(t,h,p){var c=t("../internals/export"),a=t("../internals/not-a-regexp"),s=t("../internals/require-object-coercible");c({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(s(this)).indexOf(a(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(s,h,p){var c=s("../internals/string-multibyte").charAt,a=s("../internals/internal-state"),s=s("../internals/define-iterator"),d="String Iterator",f=a.set,y=a.getterFor(d);s(String,"String",function(u){f(this,{type:d,string:String(u),index:0})},function(){var u=y(this),l=u.string,i=u.index;return i>=l.length?{value:void 0,done:!0}:(l=c(l,i),u.index+=l.length,{value:l,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(t,h,p){var c=t("../internals/fix-regexp-well-known-symbol-logic"),a=t("../internals/an-object"),s=t("../internals/to-length"),d=t("../internals/require-object-coercible"),f=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");c("match",1,function(u,l,i){return[function(m){var g=d(this),v=m==null?void 0:m[u];return v!==void 0?v.call(m,g):new RegExp(m)[u](String(g))},function(m){var g=i(l,m,this);if(g.done)return g.value;var v=a(m),b=String(this);if(!v.global)return y(v,b);for(var w=v.unicode,S=[],x=v.lastIndex=0;(M=y(v,b))!==null;){var M=String(M[0]);(S[x]=M)===""&&(v.lastIndex=f(b,s(v.lastIndex),w)),x++}return x===0?null:S}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(t,h,p){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(t,h,p){var c=t("../internals/fix-regexp-well-known-symbol-logic"),a=t("../internals/an-object"),s=t("../internals/to-object"),d=t("../internals/to-length"),f=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),u=t("../internals/advance-string-index"),l=t("../internals/regexp-exec-abstract"),i=Math.max,m=Math.min,g=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;c("replace",2,function(w,S,x,M){var C=M.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=M.REPLACE_KEEPS_$0,P=C?"$":"$0";return[function(D,I){var U=y(this),G=D==null?void 0:D[w];return G!==void 0?G.call(D,U,I):S.call(String(U),D,I)},function(D,I){if(!C&&E||typeof I=="string"&&I.indexOf(P)===-1){var U=x(S,D,this,I);if(U.done)return U.value}for(var G,W=a(D),te=String(this),Q=typeof I=="function",J=(Q||(I=String(I)),W.global),oe=(J&&(G=W.unicode,W.lastIndex=0),[]);(O=l(W,te))!==null&&(oe.push(O),J);)String(O[0])===""&&(W.lastIndex=u(te,d(W.lastIndex),G));for(var ee,le="",de=0,se=0;se<oe.length;se++){for(var O=oe[se],j=String(O[0]),F=i(m(f(O.index),te.length),0),V=[],ae=1;ae<O.length;ae++)V.push((ee=O[ae])===void 0?ee:String(ee));var ue=O.groups,Ee=Q?(Ee=[j].concat(V,F,te),ue!==void 0&&Ee.push(ue),String(I.apply(void 0,Ee))):function(Re,Ce,xe,Ze,we,Ae){var Ue=xe+Re.length,qe=Ze.length,Ge=b;return we!==void 0&&(we=s(we),Ge=v),S.call(Ae,Ge,function(it,ie){var Be;switch(ie.charAt(0)){case"$":return"$";case"&":return Re;case"`":return Ce.slice(0,xe);case"'":return Ce.slice(Ue);case"<":Be=we[ie.slice(1,-1)];break;default:var Pe,We=+ie;if(We==0)return it;if(qe<We)return(Pe=g(We/10))!==0&&Pe<=qe?Ze[Pe-1]===void 0?ie.charAt(1):Ze[Pe-1]+ie.charAt(1):it;Be=Ze[We-1]}return Be===void 0?"":Be})}(j,te,F,V,ue,I);de<=F&&(le+=te.slice(de,F)+Ee,de=F+j.length)}return le+te.slice(de)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(t,h,p){var c=t("../internals/fix-regexp-well-known-symbol-logic"),a=t("../internals/an-object"),s=t("../internals/require-object-coercible"),d=t("../internals/same-value"),f=t("../internals/regexp-exec-abstract");c("search",1,function(y,u,l){return[function(i){var m=s(this),g=i==null?void 0:i[y];return g!==void 0?g.call(i,m):new RegExp(i)[y](String(m))},function(i){var m,g=l(u,i,this);return g.done?g.value:(g=a(i),i=String(this),m=g.lastIndex,d(m,0)||(g.lastIndex=0),i=f(g,i),d(g.lastIndex,m)||(g.lastIndex=m),i===null?-1:i.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(m,h,p){var c=m("../internals/fix-regexp-well-known-symbol-logic"),a=m("../internals/is-regexp"),s=m("../internals/an-object"),d=m("../internals/require-object-coercible"),f=m("../internals/species-constructor"),y=m("../internals/advance-string-index"),u=m("../internals/to-length"),l=m("../internals/regexp-exec-abstract"),i=m("../internals/regexp-exec"),m=m("../internals/fails"),g=[].push,v=Math.min,b=4294967295,w=!m(function(){return!RegExp(b,"y")});c("split",2,function(S,x,M){var C="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(E,P){var D=String(d(this)),I=P===void 0?b:P>>>0;if(I==0)return[];if(E===void 0)return[D];if(!a(E))return x.call(D,E,I);for(var U,G,W,te=[],P=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(E.sticky?"y":""),Q=0,J=new RegExp(E.source,P+"g");(U=i.call(J,D))&&!(Q<(G=J.lastIndex)&&(te.push(D.slice(Q,U.index)),1<U.length&&U.index<D.length&&g.apply(te,U.slice(1)),W=U[0].length,Q=G,te.length>=I));)J.lastIndex===U.index&&J.lastIndex++;return Q===D.length?!W&&J.test("")||te.push(""):te.push(D.slice(Q)),te.length>I?te.slice(0,I):te}:"0".split(void 0,0).length?function(E,P){return E===void 0&&P===0?[]:x.call(this,E,P)}:x;return[function(E,P){var D=d(this),I=E==null?void 0:E[S];return I!==void 0?I.call(E,D,P):C.call(String(D),E,P)},function(U,P){var D=M(C,U,this,P,C!==x);if(D.done)return D.value;var D=s(U),I=String(this),U=f(D,RegExp),G=D.unicode,W=(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.unicode?"u":"")+(w?"y":"g"),te=new U(w?D:"^(?:"+D.source+")",W),Q=P===void 0?b:P>>>0;if(Q==0)return[];if(I.length===0)return l(te,I)===null?[I]:[];for(var J=0,oe=0,ee=[];oe<I.length;){te.lastIndex=w?oe:0;var le,de=l(te,w?I:I.slice(oe));if(de===null||(le=v(u(te.lastIndex+(w?0:oe)),I.length))===J)oe=y(I,oe,G);else{if(ee.push(I.slice(J,oe)),ee.length===Q)return ee;for(var se=1;se<=de.length-1;se++)if(ee.push(de[se]),ee.length===Q)return ee;oe=J=le}}return ee.push(I.slice(J)),ee}]},!w)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(t,h,p){var c=t("../internals/export"),a=t("../internals/create-html");c({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return a(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(t,h,p){var c=t("../internals/export"),a=t("../internals/string-trim").trim;c({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return a(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(v,h,p){var c,a,s,d,f,y=v("../internals/export"),u=v("../internals/descriptors"),l=v("../internals/global"),i=v("../internals/has"),m=v("../internals/is-object"),g=v("../internals/object-define-property").f,v=v("../internals/copy-constructor-properties"),b=l.Symbol;!u||typeof b!="function"||"description"in b.prototype&&b().description===void 0||(c={},v(a=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),S=this instanceof a?new b(w):w===void 0?b():b(w);return w===""&&(c[S]=!0),S},b),(l=a.prototype=b.prototype).constructor=a,s=l.toString,d=String(b("test"))=="Symbol(test)",f=/^Symbol\((.*)\)[^)]+$/,g(l,"description",{configurable:!0,get:function(){var w=m(this)?this.valueOf():this,S=s.call(w);return i(c,w)?"":(w=d?S.slice(7,-1):S.replace(f,"$1"))===""?void 0:w}}),y({global:!0,forced:!0},{Symbol:a}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(t,h,p){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(Ce,h,p){function c(L,k){var ge=Be[L]=D(Ae[Re]);return xe(ge,{type:Ee,tag:L,description:k}),i||(ge.description=k),ge}function a(L,ve){x(L);var ge=C(ve),ve=I(ge).concat(z(ge));return ae(ve,function(_e){i&&!B.call(ge,_e)||Te(L,_e,ge[_e])}),L}function s(ve,_e){var ge,ve=C(ve),_e=E(_e,!0);if(ve!==we||!b(Be,_e)||b(Pe,_e))return!(ge=qe(ve,_e))||!b(Be,_e)||b(ve,ue)&&ve[ue][_e]||(ge.enumerable=!0),ge}function d(k){var k=it(C(k)),ge=[];return ae(k,function(ve){b(Be,ve)||b(de,ve)||ge.push(ve)}),ge}var f=Ce("../internals/export"),y=Ce("../internals/global"),u=Ce("../internals/get-built-in"),l=Ce("../internals/is-pure"),i=Ce("../internals/descriptors"),m=Ce("../internals/native-symbol"),g=Ce("../internals/use-symbol-as-uid"),v=Ce("../internals/fails"),b=Ce("../internals/has"),w=Ce("../internals/is-array"),S=Ce("../internals/is-object"),x=Ce("../internals/an-object"),M=Ce("../internals/to-object"),C=Ce("../internals/to-indexed-object"),E=Ce("../internals/to-primitive"),P=Ce("../internals/create-property-descriptor"),D=Ce("../internals/object-create"),I=Ce("../internals/object-keys"),U=Ce("../internals/object-get-own-property-names"),G=Ce("../internals/object-get-own-property-names-external"),W=Ce("../internals/object-get-own-property-symbols"),te=Ce("../internals/object-get-own-property-descriptor"),Q=Ce("../internals/object-define-property"),J=Ce("../internals/object-property-is-enumerable"),oe=Ce("../internals/create-non-enumerable-property"),ee=Ce("../internals/redefine"),le=Ce("../internals/shared"),ze=Ce("../internals/shared-key"),de=Ce("../internals/hidden-keys"),se=Ce("../internals/uid"),O=Ce("../internals/well-known-symbol"),j=Ce("../internals/well-known-symbol-wrapped"),F=Ce("../internals/define-well-known-symbol"),V=Ce("../internals/set-to-string-tag"),tt=Ce("../internals/internal-state"),ae=Ce("../internals/array-iteration").forEach,ue=ze("hidden"),Ee="Symbol",Re="prototype",Ce=O("toPrimitive"),xe=tt.set,Ze=tt.getterFor(Ee),we=Object[Re],Ae=y.Symbol,Ue=u("JSON","stringify"),qe=te.f,Ge=Q.f,it=G.f,ie=J.f,Be=le("symbols"),Pe=le("op-symbols"),We=le("string-to-symbol-registry"),Je=le("symbol-to-string-registry"),ze=le("wks"),tt=y.QObject,ct=!tt||!tt[Re]||!tt[Re].findChild,Fe=i&&v(function(){return D(Ge({},"a",{get:function(){return Ge(this,"a",{value:7}).a}})).a!=7})?function(L,k,ge){var ve=qe(we,k);ve&&delete we[k],Ge(L,k,ge),ve&&L!==we&&Ge(we,k,ve)}:Ge,Me=g?function(L){return typeof L=="symbol"}:function(L){return Object(L)instanceof Ae},Te=function(L,k,ge){return L===we&&Te(Pe,k,ge),x(L),k=E(k,!0),x(ge),(b(Be,k)?(ge.enumerable?(b(L,ue)&&L[ue][k]&&(L[ue][k]=!1),ge=D(ge,{enumerable:P(0,!1)})):(b(L,ue)||Ge(L,ue,P(1,{})),L[ue][k]=!0),Fe):Ge)(L,k,ge)},B=function(k){var k=E(k,!0),ge=ie.call(this,k);return!(this===we&&b(Be,k)&&!b(Pe,k))&&(!(ge||!b(this,k)||!b(Be,k)||b(this,ue)&&this[ue][k])||ge)},z=function(ge){var k=ge===we,ge=it(k?Pe:C(ge)),ve=[];return ae(ge,function(_e){!b(Be,_e)||k&&!b(we,_e)||ve.push(Be[_e])}),ve};m||(ee((Ae=function(){if(this instanceof Ae)throw TypeError("Symbol is not a constructor");var L=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,k=se(L),ge=function(ve){this===we&&ge.call(Pe,ve),b(this,ue)&&b(this[ue],k)&&(this[ue][k]=!1),Fe(this,k,P(1,ve))};return i&&ct&&Fe(we,k,{configurable:!0,set:ge}),c(k,L)})[Re],"toString",function(){return Ze(this).tag}),ee(Ae,"withoutSetter",function(L){return c(se(L),L)}),J.f=B,Q.f=Te,te.f=s,U.f=G.f=d,W.f=z,j.f=function(L){return c(O(L),L)},i&&(Ge(Ae[Re],"description",{configurable:!0,get:function(){return Ze(this).description}}),l||ee(we,"propertyIsEnumerable",B,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:Ae}),ae(I(ze),function(L){F(L)}),f({target:Ee,stat:!0,forced:!m},{for:function(ge){var k,ge=String(ge);return b(We,ge)?We[ge]:(k=Ae(ge),We[ge]=k,Je[k]=ge,k)},keyFor:function(L){if(!Me(L))throw TypeError(L+" is not a symbol");if(b(Je,L))return Je[L]},useSetter:function(){ct=!0},useSimple:function(){ct=!1}}),f({target:"Object",stat:!0,forced:!m,sham:!i},{create:function(L,k){return k===void 0?D(L):a(D(L),k)},defineProperty:Te,defineProperties:a,getOwnPropertyDescriptor:s}),f({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:d,getOwnPropertySymbols:z}),f({target:"Object",stat:!0,forced:v(function(){W.f(1)})},{getOwnPropertySymbols:function(L){return W.f(M(L))}}),Ue&&f({target:"JSON",stat:!0,forced:!m||v(function(){var L=Ae();return Ue([L])!="[null]"||Ue({a:L})!="{}"||Ue(Object(L))!="{}"})},{stringify:function(L,k,ge){for(var ve,_e=[L],H=1;H<arguments.length;)_e.push(arguments[H++]);if((S(ve=k)||L!==void 0)&&!Me(L))return w(k)||(k=function(ye,je){if(typeof ve=="function"&&(je=ve.call(this,ye,je)),!Me(je))return je}),_e[1]=k,Ue.apply(null,_e)}}),Ae[Re][Ce]||oe(Ae[Re],Ce,Ae[Re].valueOf),V(Ae,Ee),de[ue]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-copy-within"),s=c.aTypedArray;(0,c.exportTypedArrayMethod)("copyWithin",function(d,f){return a.call(s(this),d,f,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").every,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("every",function(d){return a(s(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-fill"),s=c.aTypedArray;(0,c.exportTypedArrayMethod)("fill",function(d){return a.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").filter,s=t("../internals/species-constructor"),d=c.aTypedArray,f=c.aTypedArrayConstructor;(0,c.exportTypedArrayMethod)("filter",function(y){for(var u=a(d(this),y,1<arguments.length?arguments[1]:void 0),y=s(this,this.constructor),l=0,i=u.length,m=new(f(y))(i);l<i;)m[l]=u[l++];return m})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").findIndex,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("findIndex",function(d){return a(s(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").find,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("find",function(d){return a(s(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(t,h,p){t("../internals/typed-array-constructor")("Float32",function(c){return function(a,s,d){return c(this,a,s,d)}})},{"../internals/typed-array-constructor":140}],204:[function(t,h,p){t("../internals/typed-array-constructor")("Float64",function(c){return function(a,s,d){return c(this,a,s,d)}})},{"../internals/typed-array-constructor":140}],205:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").forEach,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("forEach",function(d){a(s(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-includes").includes,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("includes",function(d){return a(s(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-includes").indexOf,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("indexOf",function(d){return a(s(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(t,h,p){t("../internals/typed-array-constructor")("Int16",function(c){return function(a,s,d){return c(this,a,s,d)}})},{"../internals/typed-array-constructor":140}],209:[function(t,h,p){t("../internals/typed-array-constructor")("Int32",function(c){return function(a,s,d){return c(this,a,s,d)}})},{"../internals/typed-array-constructor":140}],210:[function(a,h,p){function c(){return s.call(y(this))}var i=a("../internals/global"),l=a("../internals/array-buffer-view-core"),u=a("../modules/es.array.iterator"),a=a("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,s=u.values,d=u.keys,f=u.entries,y=l.aTypedArray,u=l.exportTypedArrayMethod,l=i&&i.prototype[a],i=!!l&&(l.name=="values"||l.name==null);u("entries",function(){return f.call(y(this))}),u("keys",function(){return d.call(y(this))}),u("values",c,!i),u(a,c,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(a,h,p){var a=a("../internals/array-buffer-view-core"),c=a.aTypedArray,a=a.exportTypedArrayMethod,s=[].join;a("join",function(d){return s.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-last-index-of"),s=c.aTypedArray;(0,c.exportTypedArrayMethod)("lastIndexOf",function(d){return a.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").map,s=t("../internals/species-constructor"),d=c.aTypedArray,f=c.aTypedArrayConstructor;(0,c.exportTypedArrayMethod)("map",function(y){return a(d(this),y,1<arguments.length?arguments[1]:void 0,function(u,l){return new(f(s(u,u.constructor)))(l)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-reduce").right,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduceRight",function(d){return a(s(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-reduce").left,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("reduce",function(d){return a(s(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(a,h,p){var a=a("../internals/array-buffer-view-core"),c=a.aTypedArray,a=a.exportTypedArrayMethod,s=Math.floor;a("reverse",function(){for(var d,f=c(this).length,y=s(f/2),u=0;u<y;)d=this[u],this[u++]=this[--f],this[f]=d;return this})},{"../internals/array-buffer-view-core":12}],217:[function(f,h,p){var c=f("../internals/array-buffer-view-core"),a=f("../internals/to-length"),s=f("../internals/to-offset"),d=f("../internals/to-object"),f=f("../internals/fails"),y=c.aTypedArray;(0,c.exportTypedArrayMethod)("set",function(u){y(this);var l=s(1<arguments.length?arguments[1]:void 0,1),i=this.length,m=d(u),g=a(m.length),v=0;if(i<g+l)throw RangeError("Wrong length");for(;v<g;)this[l+v]=m[v++]},f(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(a,h,p){var f=a("../internals/array-buffer-view-core"),c=a("../internals/species-constructor"),a=a("../internals/fails"),s=f.aTypedArray,d=f.aTypedArrayConstructor,f=f.exportTypedArrayMethod,y=[].slice;f("slice",function(u,l){for(var i=y.call(s(this),u,l),u=c(this,this.constructor),m=0,g=i.length,v=new(d(u))(g);m<g;)v[m]=i[m++];return v},a(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/array-iteration").some,s=c.aTypedArray;(0,c.exportTypedArrayMethod)("some",function(d){return a(s(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(a,h,p){var a=a("../internals/array-buffer-view-core"),c=a.aTypedArray,a=a.exportTypedArrayMethod,s=[].sort;a("sort",function(d){return s.call(c(this),d)})},{"../internals/array-buffer-view-core":12}],221:[function(t,h,p){var c=t("../internals/array-buffer-view-core"),a=t("../internals/to-length"),s=t("../internals/to-absolute-index"),d=t("../internals/species-constructor"),f=c.aTypedArray;(0,c.exportTypedArrayMethod)("subarray",function(m,u){var l=f(this),i=l.length,m=s(m,i);return new(d(l,l.constructor))(l.buffer,l.byteOffset+m*l.BYTES_PER_ELEMENT,a((u===void 0?i:s(u,i))-m))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(a,h,p){var f=a("../internals/global"),c=a("../internals/array-buffer-view-core"),a=a("../internals/fails"),s=f.Int8Array,d=c.aTypedArray,f=c.exportTypedArrayMethod,y=[].toLocaleString,u=[].slice,l=!!s&&a(function(){y.call(new s(1))});f("toLocaleString",function(){return y.apply(l?u.call(d(this)):d(this),arguments)},a(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!a(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(a,h,p){var c=a("../internals/array-buffer-view-core").exportTypedArrayMethod,f=a("../internals/fails"),a=a("../internals/global").Uint8Array,a=a&&a.prototype||{},s=[].toString,d=[].join,f=(f(function(){s.call({})})&&(s=function(){return d.call(this)}),a.toString!=s);c("toString",s,f)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(t,h,p){t("../internals/typed-array-constructor")("Uint16",function(c){return function(a,s,d){return c(this,a,s,d)}})},{"../internals/typed-array-constructor":140}],225:[function(t,h,p){t("../internals/typed-array-constructor")("Uint32",function(c){return function(a,s,d){return c(this,a,s,d)}})},{"../internals/typed-array-constructor":140}],226:[function(t,h,p){t("../internals/typed-array-constructor")("Uint8",function(c){return function(a,s,d){return c(this,a,s,d)}})},{"../internals/typed-array-constructor":140}],227:[function(t,h,p){t("../internals/typed-array-constructor")("Uint8",function(c){return function(a,s,d){return c(this,a,s,d)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(b,x,p){function c(M){return function(){return M(this,arguments.length?arguments[0]:void 0)}}var a,s,d,f,y,w=b("../internals/global"),u=b("../internals/redefine-all"),l=b("../internals/internal-metadata"),i=b("../internals/collection"),m=b("../internals/collection-weak"),g=b("../internals/is-object"),v=b("../internals/internal-state").enforce,b=b("../internals/native-weak-map"),w=!w.ActiveXObject&&"ActiveXObject"in w,S=Object.isExtensible,x=x.exports=i("WeakMap",c,m);b&&w&&(a=m.getConstructor(c,"WeakMap",!0),l.REQUIRED=!0,i=x.prototype,s=i.delete,d=i.has,f=i.get,y=i.set,u(i,{delete:function(M){var C;return g(M)&&!S(M)?((C=v(this)).frozen||(C.frozen=new a),s.call(this,M)||C.frozen.delete(M)):s.call(this,M)},has:function(M){var C;return g(M)&&!S(M)?((C=v(this)).frozen||(C.frozen=new a),d.call(this,M)||C.frozen.has(M)):d.call(this,M)},get:function(M){var C;return!g(M)||S(M)||((C=v(this)).frozen||(C.frozen=new a),d.call(this,M))?f.call(this,M):C.frozen.get(M)},set:function(M,C){var E;return!g(M)||S(M)||((E=v(this)).frozen||(E.frozen=new a),d.call(this,M))?y.call(this,M,C):E.frozen.set(M,C),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(t,h,p){var c,a=t("../internals/global"),s=t("../internals/dom-iterables"),d=t("../internals/array-for-each"),f=t("../internals/create-non-enumerable-property");for(c in s){var y=a[c],y=y&&y.prototype;if(y&&y.forEach!==d)try{f(y,"forEach",d)}catch{y.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(y,h,p){var c,a=y("../internals/global"),s=y("../internals/dom-iterables"),d=y("../modules/es.array.iterator"),f=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),u=y("iterator"),l=y("toStringTag"),i=d.values;for(c in s){var m=a[c],g=m&&m.prototype;if(g){if(g[u]!==i)try{f(g,u,i)}catch{g[u]=i}if(g[l]||f(g,l,c),s[c]){for(var v in d)if(g[v]!==d[v])try{f(g,v,d[v])}catch{g[v]=d[v]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(ue,h,p){ue("../modules/es.array.iterator");function c(Ee){try{return decodeURIComponent(Ee)}catch{return Ee}}function a(Ee){return F[Ee]}function s(Ee){return encodeURIComponent(Ee).replace(j,a)}function d(Ee){this.entries.length=0,V(this.entries,Ee)}function f(Ee,Re){if(Ee<Re)throw TypeError("Not enough arguments")}function y(){w(this,y,Q);var Ee,Re,Ce,xe,Ze,we,Ae,Ue,qe=0<arguments.length?arguments[0]:void 0,Ge=[];if(oe(this,{type:Q,entries:Ge,updateURL:function(){},updateSearchParams:d}),qe!==void 0)if(E(qe))if(typeof(Ee=U(qe))=="function")for(Ce=(Re=Ee.call(qe)).next;!(xe=Ce.call(Re)).done;){if((we=(Ze=(xe=I(C(xe.value))).next).call(xe)).done||(Ae=Ze.call(xe)).done||!Ze.call(xe).done)throw TypeError("Expected sequence with length 2");Ge.push({key:we.value+"",value:Ae.value+""})}else for(Ue in qe)S(qe,Ue)&&Ge.push({key:Ue,value:qe[Ue]+""});else V(Ge,typeof qe=="string"?qe.charAt(0)==="?"?qe.slice(1):qe:qe+"")}var u=ue("../internals/export"),te=ue("../internals/get-built-in"),l=ue("../internals/native-url"),i=ue("../internals/redefine"),m=ue("../internals/redefine-all"),g=ue("../internals/set-to-string-tag"),v=ue("../internals/create-iterator-constructor"),b=ue("../internals/internal-state"),w=ue("../internals/an-instance"),S=ue("../internals/has"),x=ue("../internals/function-bind-context"),M=ue("../internals/classof"),C=ue("../internals/an-object"),E=ue("../internals/is-object"),P=ue("../internals/object-create"),D=ue("../internals/create-property-descriptor"),I=ue("../internals/get-iterator"),U=ue("../internals/get-iterator-method"),ue=ue("../internals/well-known-symbol"),G=te("fetch"),W=te("Headers"),te=ue("iterator"),Q="URLSearchParams",J=Q+"Iterator",oe=b.set,ee=b.getterFor(Q),le=b.getterFor(J),de=/\+/g,se=Array(4),O=function(Ee){var Re,Ce=Ee.replace(de," "),xe=4;try{return decodeURIComponent(Ce)}catch{for(;xe;)Ce=Ce.replace((Re=xe--,se[Re-1]||(se[Re-1]=RegExp("((?:%[\\da-f]{2}){"+Re+"})","gi"))),c);return Ce}},j=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},V=function(Ee,Re){if(Re)for(var Ce,xe=Re.split("&"),Ze=0;Ze<xe.length;)(Ce=xe[Ze++]).length&&(Ce=Ce.split("="),Ee.push({key:O(Ce.shift()),value:O(Ce.join("="))}))},ae=v(function(Ee,Re){oe(this,{type:J,iterator:I(ee(Ee).entries),kind:Re})},"Iterator",function(){var Re=le(this),Ee=Re.kind,Re=Re.iterator.next(),Ce=Re.value;return Re.done||(Re.value=Ee==="keys"?Ce.key:Ee==="values"?Ce.value:[Ce.key,Ce.value]),Re}),ue=y.prototype;m(ue,{append:function(Ee,Re){f(arguments.length,2);var Ce=ee(this);Ce.entries.push({key:Ee+"",value:Re+""}),Ce.updateURL()},delete:function(Ee){f(arguments.length,1);for(var Re=ee(this),Ce=Re.entries,xe=Ee+"",Ze=0;Ze<Ce.length;)Ce[Ze].key===xe?Ce.splice(Ze,1):Ze++;Re.updateURL()},get:function(Ee){f(arguments.length,1);for(var Re=ee(this).entries,Ce=Ee+"",xe=0;xe<Re.length;xe++)if(Re[xe].key===Ce)return Re[xe].value;return null},getAll:function(Ee){f(arguments.length,1);for(var Re=ee(this).entries,Ce=Ee+"",xe=[],Ze=0;Ze<Re.length;Ze++)Re[Ze].key===Ce&&xe.push(Re[Ze].value);return xe},has:function(Ee){f(arguments.length,1);for(var Re=ee(this).entries,Ce=Ee+"",xe=0;xe<Re.length;)if(Re[xe++].key===Ce)return!0;return!1},set:function(Ee,Re){f(arguments.length,1);for(var Ce,xe=ee(this),Ze=xe.entries,we=!1,Ae=Ee+"",Ue=Re+"",qe=0;qe<Ze.length;qe++)(Ce=Ze[qe]).key===Ae&&(we?Ze.splice(qe--,1):(we=!0,Ce.value=Ue));we||Ze.push({key:Ae,value:Ue}),xe.updateURL()},sort:function(){for(var Ee,Re,Ce=ee(this),xe=Ce.entries,Ze=xe.slice(),we=xe.length=0;we<Ze.length;we++){for(Ee=Ze[we],Re=0;Re<we;Re++)if(xe[Re].key>Ee.key){xe.splice(Re,0,Ee);break}Re===we&&xe.push(Ee)}Ce.updateURL()},forEach:function(Ee){for(var Re,Ce=ee(this).entries,xe=x(Ee,1<arguments.length?arguments[1]:void 0,3),Ze=0;Ze<Ce.length;)xe((Re=Ce[Ze++]).value,Re.key,this)},keys:function(){return new ae(this,"keys")},values:function(){return new ae(this,"values")},entries:function(){return new ae(this,"entries")}},{enumerable:!0}),i(ue,te,ue.entries),i(ue,"toString",function(){for(var Ee,Re=ee(this).entries,Ce=[],xe=0;xe<Re.length;)Ee=Re[xe++],Ce.push(s(Ee.key)+"="+s(Ee.value));return Ce.join("&")},{enumerable:!0}),g(y,Q),u({global:!0,forced:!l},{URLSearchParams:y}),l||typeof G!="function"||typeof W!="function"||u({global:!0,enumerable:!0,forced:!0},{fetch:function(Ze){var Re,Ce,xe,Ze=[Ze];return 1<arguments.length&&(E(Re=arguments[1])&&(Ce=Re.body,M(Ce)===Q&&((xe=Re.headers?new W(Re.headers):new W).has("content-type")||xe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Re=P(Re,{body:D(0,String(Ce)),headers:D(0,xe)}))),Ze.push(Re)),G.apply(this,Ze)}}),h.exports={URLSearchParams:y,getState:ee}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(I,h,p){I("../modules/es.string.iterator");function c(ke){var yt,vt,rt,qt;if(typeof ke=="number"){for(yt=[],vt=0;vt<4;vt++)yt.unshift(ke%256),ke=J(ke/256);return yt.join(".")}if(typeof ke!="object")return ke;for(yt="",rt=Ae(ke),vt=0;vt<8;vt++)qt&&ke[vt]===0||(qt=qt&&!1,rt===vt?(yt+=vt?":":"::",qt=!0):(yt+=ke[vt].toString(16),vt<7&&(yt+=":")));return"["+yt+"]"}function a(ke){return!ke.host||ke.cannotBeABaseURL||ke.scheme=="file"}function s(ke,yt,vt,rt){var qt,wt,Wt,At=vt||Me,Qt=0,kt="",cr=!1,gr=!1,fr=!1;for(vt||(ke.scheme="",ke.username="",ke.password="",ke.host=null,ke.port=null,ke.path=[],ke.query=null,ke.fragment=null,ke.cannotBeABaseURL=!1,yt=yt.replace(xe,"")),yt=yt.replace(Ze,""),qt=M(yt);Qt<=qt.length;){switch(wt=qt[Qt],At){case Me:if(!wt||!O.test(wt)){if(vt)return le;At=B;continue}kt+=wt.toLowerCase(),At=Te;break;case Te:if(wt&&(j.test(wt)||wt=="+"||wt=="-"||wt=="."))kt+=wt.toLowerCase();else{if(wt!=":"){if(vt)return le;kt="",At=B,Qt=0;continue}if(vt&&(Pe(ke)!=S(Be,kt)||kt=="file"&&(We(ke)||ke.port!==null)||ke.scheme=="file"&&!ke.host))return;if(ke.scheme=kt,vt)return void(Pe(ke)&&Be[ke.scheme]==ke.port&&(ke.port=null));kt="",ke.scheme=="file"?At=Oe:Pe(ke)&&rt&&rt.scheme==ke.scheme?At=z:Pe(ke)?At=ve:qt[Qt+1]=="/"?(At=L,Qt++):(ke.cannotBeABaseURL=!0,ke.path.push(""),At=re)}break;case B:if(!rt||rt.cannotBeABaseURL&&wt!="#")return le;if(rt.cannotBeABaseURL&&wt=="#"){ke.scheme=rt.scheme,ke.path=rt.path.slice(),ke.query=rt.query,ke.fragment="",ke.cannotBeABaseURL=!0,At=ne;break}At=rt.scheme=="file"?Oe:k;continue;case z:if(wt!="/"||qt[Qt+1]!="/"){At=k;continue}At=_e,Qt++;break;case L:if(wt=="/"){At=H;break}At=X;continue;case k:if(ke.scheme=rt.scheme,wt==y)ke.username=rt.username,ke.password=rt.password,ke.host=rt.host,ke.port=rt.port,ke.path=rt.path.slice(),ke.query=rt.query;else if(wt=="/"||wt=="\\"&&Pe(ke))At=ge;else if(wt=="?")ke.username=rt.username,ke.password=rt.password,ke.host=rt.host,ke.port=rt.port,ke.path=rt.path.slice(),ke.query="",At=he;else{if(wt!="#"){ke.username=rt.username,ke.password=rt.password,ke.host=rt.host,ke.port=rt.port,ke.path=rt.path.slice(),ke.path.pop(),At=X;continue}ke.username=rt.username,ke.password=rt.password,ke.host=rt.host,ke.port=rt.port,ke.path=rt.path.slice(),ke.query=rt.query,ke.fragment="",At=ne}break;case ge:if(!Pe(ke)||wt!="/"&&wt!="\\"){if(wt!="/"){ke.username=rt.username,ke.password=rt.password,ke.host=rt.host,ke.port=rt.port,At=X;continue}At=H}else At=_e;break;case ve:if(At=_e,wt!="/"||kt.charAt(Qt+1)!="/")continue;Qt++;break;case _e:if(wt=="/"||wt=="\\")break;At=H;continue;case H:if(wt=="@"){cr&&(kt="%40"+kt);for(var cr=!0,pr=M(kt),qr=0;qr<pr.length;qr++){var Qr=pr[qr];Qr!=":"||fr?(Qr=ie(Qr,it),fr?ke.password+=Qr:ke.username+=Qr):fr=!0}kt=""}else if(wt==y||wt=="/"||wt=="?"||wt=="#"||wt=="\\"&&Pe(ke)){if(cr&&kt=="")return ee;Qt-=M(kt).length+1,kt="",At=ye}else kt+=wt;break;case ye:case je:if(vt&&ke.scheme=="file"){At=me;continue}if(wt!=":"||gr){if(wt==y||wt=="/"||wt=="?"||wt=="#"||wt=="\\"&&Pe(ke)){if(Pe(ke)&&kt=="")return de;if(vt&&kt==""&&(We(ke)||ke.port!==null))return;if(Wt=we(ke,kt))return Wt;if(kt="",At=$,vt)return;continue}wt=="["?gr=!0:wt=="]"&&(gr=!1),kt+=wt}else{if(kt=="")return de;if(Wt=we(ke,kt))return Wt;if(kt="",At=pe,vt==je)return}break;case pe:if(!F.test(wt)){if(wt==y||wt=="/"||wt=="?"||wt=="#"||wt=="\\"&&Pe(ke)||vt){if(kt!=""){var fn=parseInt(kt,10);if(65535<fn)return se;ke.port=Pe(ke)&&fn===Be[ke.scheme]?null:fn,kt=""}if(vt)return;At=$;continue}return se}kt+=wt;break;case Oe:if(ke.scheme="file",wt=="/"||wt=="\\")At=Y;else{if(!rt||rt.scheme!="file"){At=X;continue}if(wt==y)ke.host=rt.host,ke.path=rt.path.slice(),ke.query=rt.query;else if(wt=="?")ke.host=rt.host,ke.path=rt.path.slice(),ke.query="",At=he;else{if(wt!="#"){ze(qt.slice(Qt).join(""))||(ke.host=rt.host,ke.path=rt.path.slice(),tt(ke)),At=X;continue}ke.host=rt.host,ke.path=rt.path.slice(),ke.query=rt.query,ke.fragment="",At=ne}}break;case Y:if(wt=="/"||wt=="\\"){At=me;break}rt&&rt.scheme=="file"&&!ze(qt.slice(Qt).join(""))&&(Je(rt.path[0],!0)?ke.path.push(rt.path[0]):ke.host=rt.host),At=X;continue;case me:if(wt==y||wt=="/"||wt=="\\"||wt=="?"||wt=="#"){if(!vt&&Je(kt))At=X;else{if(kt==""){if(ke.host="",vt)return}else{if(Wt=we(ke,kt))return Wt;if(ke.host=="localhost"&&(ke.host=""),vt)return;kt=""}At=$}continue}kt+=wt;break;case $:if(Pe(ke)){if(At=X,wt!="/"&&wt!="\\")continue}else if(vt||wt!="?")if(vt||wt!="#"){if(wt!=y&&(At=X,wt!="/"))continue}else ke.fragment="",At=ne;else ke.query="",At=he;break;case X:if(wt==y||wt=="/"||wt=="\\"&&Pe(ke)||!vt&&(wt=="?"||wt=="#")){if(Fe(kt)?(tt(ke),wt=="/"||wt=="\\"&&Pe(ke)||ke.path.push("")):ct(kt)?wt=="/"||wt=="\\"&&Pe(ke)||ke.path.push(""):(ke.scheme=="file"&&!ke.path.length&&Je(kt)&&(ke.host&&(ke.host=""),kt=kt.charAt(0)+":"),ke.path.push(kt)),kt="",ke.scheme=="file"&&(wt==y||wt=="?"||wt=="#"))for(;1<ke.path.length&&ke.path[0]==="";)ke.path.shift();wt=="?"?(ke.query="",At=he):wt=="#"&&(ke.fragment="",At=ne)}else kt+=ie(wt,Ge);break;case re:wt=="?"?(ke.query="",At=he):wt=="#"?(ke.fragment="",At=ne):wt!=y&&(ke.path[0]+=ie(wt,Ue));break;case he:vt||wt!="#"?wt!=y&&(wt=="'"&&Pe(ke)?ke.query+="%27":ke.query+=wt=="#"?"%23":ie(wt,Ue)):(ke.fragment="",At=ne);break;case ne:wt!=y&&(ke.fragment+=ie(wt,qe))}Qt++}}function d(wt){var yt,vt,rt=w(this,d,"URL"),qt=1<arguments.length?arguments[1]:void 0,wt=String(wt),Wt=te(rt,{type:"URL"});if(qt!==void 0){if(qt instanceof d)yt=Q(qt);else if(vt=s(yt={},String(qt)))throw TypeError(vt)}if(vt=s(Wt,wt,null,yt))throw TypeError(vt);var At=Wt.searchParams=new G;(qt=W(At)).updateSearchParams(Wt.query),qt.updateURL=function(){Wt.query=String(At)||null},m||(rt.href=be.call(rt),rt.origin=Ve.call(rt),rt.protocol=et.call(rt),rt.username=Ye.call(rt),rt.password=nt.call(rt),rt.host=K.call(rt),rt.hostname=fe.call(rt),rt.port=mt.call(rt),rt.pathname=bt.call(rt),rt.search=Rt.call(rt),rt.searchParams=Ut.call(rt),rt.hash=Lt.call(rt))}function f(ke,yt){return{get:ke,set:yt,configurable:!0,enumerable:!0}}var y,u,l,i=I("../internals/export"),m=I("../internals/descriptors"),g=I("../internals/native-url"),ce=I("../internals/global"),v=I("../internals/object-define-properties"),b=I("../internals/redefine"),w=I("../internals/an-instance"),S=I("../internals/has"),x=I("../internals/object-assign"),M=I("../internals/array-from"),C=I("../internals/string-multibyte").codeAt,E=I("../internals/string-punycode-to-ascii"),P=I("../internals/set-to-string-tag"),D=I("../modules/web.url-search-params"),I=I("../internals/internal-state"),U=ce.URL,G=D.URLSearchParams,W=D.getState,te=I.set,Q=I.getterFor("URL"),J=Math.floor,oe=Math.pow,ee="Invalid authority",le="Invalid scheme",de="Invalid host",se="Invalid port",O=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,F=/\d/,V=/^(0x|0X)/,ae=/^[0-7]+$/,ue=/^\d+$/,Ee=/^[\dA-Fa-f]+$/,Re=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Ce=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,xe=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Ze=/[\u0009\u000A\u000D]/g,we=function(ke,yt){var vt,rt,qt;if(yt.charAt(0)=="[")return yt.charAt(yt.length-1)=="]"&&(vt=function(wt){var Wt=[0,0,0,0,0,0,0,0],At=0,Qt=null,kt=0,cr,gr,fr,pr,qr,Qr,fn,mr=function(){return wt.charAt(kt)};if(mr()==":"){if(wt.charAt(1)!=":")return;kt+=2,At++,Qt=At}for(;mr();){if(At==8)return;if(mr()==":"){if(Qt!==null)return;kt++,At++,Qt=At;continue}for(cr=gr=0;gr<4&&Ee.test(mr());)cr=cr*16+parseInt(mr(),16),kt++,gr++;if(mr()=="."){if(gr==0||(kt-=gr,At>6))return;for(fr=0;mr();){if(pr=null,fr>0)if(mr()=="."&&fr<4)kt++;else return;if(!F.test(mr()))return;for(;F.test(mr());){if(qr=parseInt(mr(),10),pr===null)pr=qr;else{if(pr==0)return;pr=pr*10+qr}if(pr>255)return;kt++}Wt[At]=Wt[At]*256+pr,fr++,(fr==2||fr==4)&&At++}if(fr!=4)return;break}else if(mr()==":"){if(kt++,!mr())return}else if(mr())return;Wt[At++]=cr}if(Qt!==null)for(Qr=At-Qt,At=7;At!=0&&Qr>0;)fn=Wt[At],Wt[At--]=Wt[Qt+Qr-1],Wt[Qt+--Qr]=fn;else if(At!=8)return;return Wt}(yt.slice(1,-1)))?void(ke.host=vt):de;if(Pe(ke))return yt=E(yt),Re.test(yt)||(vt=function(wt){var Wt=wt.split("."),At,Qt,kt,cr,gr,fr,pr;if(Wt.length&&Wt[Wt.length-1]==""&&Wt.pop(),(At=Wt.length)>4)return wt;for(Qt=[],kt=0;kt<At;kt++){if(cr=Wt[kt],cr=="")return wt;if(gr=10,cr.length>1&&cr.charAt(0)=="0"&&(gr=V.test(cr)?16:8,cr=cr.slice(gr==8?1:2)),cr==="")fr=0;else{if(!(gr==10?ue:gr==8?ae:Ee).test(cr))return wt;fr=parseInt(cr,gr)}Qt.push(fr)}for(kt=0;kt<At;kt++)if(fr=Qt[kt],kt==At-1){if(fr>=oe(256,5-At))return null}else if(fr>255)return null;for(pr=Qt.pop(),kt=0;kt<Qt.length;kt++)pr+=Qt[kt]*oe(256,3-kt);return pr}(yt))===null?de:void(ke.host=vt);if(Ce.test(yt))return de;for(vt="",rt=M(yt),qt=0;qt<rt.length;qt++)vt+=ie(rt[qt],Ue);ke.host=vt},Ae=function(ke){for(var yt=null,vt=1,rt=null,qt=0,wt=0;wt<8;wt++)ke[wt]!==0?(vt<qt&&(yt=rt,vt=qt),rt=null,qt=0):(rt===null&&(rt=wt),++qt);return vt<qt&&(yt=rt,vt=qt),yt},Ue={},qe=x({},Ue,{" ":1,'"':1,"<":1,">":1,"`":1}),Ge=x({},qe,{"#":1,"?":1,"{":1,"}":1}),it=x({},Ge,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ie=function(ke,yt){var vt=C(ke,0);return 32<vt&&vt<127&&!S(yt,ke)?ke:encodeURIComponent(ke)},Be={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Pe=function(ke){return S(Be,ke.scheme)},We=function(ke){return ke.username!=""||ke.password!=""},Je=function(ke,yt){return ke.length==2&&O.test(ke.charAt(0))&&((ke=ke.charAt(1))==":"||!yt&&ke=="|")},ze=function(ke){return 1<ke.length&&Je(ke.slice(0,2))&&(ke.length==2||(ke=ke.charAt(2))==="/"||ke==="\\"||ke==="?"||ke==="#")},tt=function(ke){var yt=ke.path,vt=yt.length;!vt||ke.scheme=="file"&&vt==1&&Je(yt[0],!0)||yt.pop()},ct=function(ke){return ke==="."||ke.toLowerCase()==="%2e"},Fe=function(ke){return(ke=ke.toLowerCase())===".."||ke==="%2e."||ke===".%2e"||ke==="%2e%2e"},Me={},Te={},B={},z={},L={},k={},ge={},ve={},_e={},H={},ye={},je={},pe={},Oe={},Y={},me={},$={},X={},re={},he={},ne={},ce=d.prototype,be=function(){var ke=Q(this),yt=ke.scheme,vt=ke.username,rt=ke.password,qt=ke.host,wt=ke.port,Wt=ke.path,At=ke.query,Qt=ke.fragment,kt=yt+":";return qt!==null?(kt+="//",We(ke)&&(kt+=vt+(rt?":"+rt:"")+"@"),kt+=c(qt),wt!==null&&(kt+=":"+wt)):yt=="file"&&(kt+="//"),kt+=ke.cannotBeABaseURL?Wt[0]:Wt.length?"/"+Wt.join("/"):"",At!==null&&(kt+="?"+At),Qt!==null&&(kt+="#"+Qt),kt},Ve=function(){var ke=Q(this),yt=ke.scheme,vt=ke.port;if(yt=="blob")try{return new URL(yt.path[0]).origin}catch{return"null"}return yt!="file"&&Pe(ke)?yt+"://"+c(ke.host)+(vt!==null?":"+vt:""):"null"},et=function(){return Q(this).scheme+":"},Ye=function(){return Q(this).username},nt=function(){return Q(this).password},K=function(){var yt=Q(this),ke=yt.host,yt=yt.port;return ke===null?"":yt===null?c(ke):c(ke)+":"+yt},fe=function(){var ke=Q(this).host;return ke===null?"":c(ke)},mt=function(){var ke=Q(this).port;return ke===null?"":String(ke)},bt=function(){var ke=Q(this),yt=ke.path;return ke.cannotBeABaseURL?yt[0]:yt.length?"/"+yt.join("/"):""},Rt=function(){var ke=Q(this).query;return ke?"?"+ke:""},Ut=function(){return Q(this).searchParams},Lt=function(){var ke=Q(this).fragment;return ke?"#"+ke:""};m&&v(ce,{href:f(be,function(vt){var yt=Q(this),vt=String(vt),vt=s(yt,vt);if(vt)throw TypeError(vt);W(yt.searchParams).updateSearchParams(yt.query)}),origin:f(Ve),protocol:f(et,function(ke){var yt=Q(this);s(yt,String(ke)+":",Me)}),username:f(Ye,function(ke){var yt=Q(this),vt=M(String(ke));if(!a(yt)){yt.username="";for(var rt=0;rt<vt.length;rt++)yt.username+=ie(vt[rt],it)}}),password:f(nt,function(ke){var yt=Q(this),vt=M(String(ke));if(!a(yt)){yt.password="";for(var rt=0;rt<vt.length;rt++)yt.password+=ie(vt[rt],it)}}),host:f(K,function(ke){var yt=Q(this);yt.cannotBeABaseURL||s(yt,String(ke),ye)}),hostname:f(fe,function(ke){var yt=Q(this);yt.cannotBeABaseURL||s(yt,String(ke),je)}),port:f(mt,function(ke){var yt=Q(this);a(yt)||((ke=String(ke))==""?yt.port=null:s(yt,ke,pe))}),pathname:f(bt,function(ke){var yt=Q(this);yt.cannotBeABaseURL||(yt.path=[],s(yt,ke+"",$))}),search:f(Rt,function(ke){var yt=Q(this);(ke=String(ke))==""?yt.query=null:(ke.charAt(0)=="?"&&(ke=ke.slice(1)),yt.query="",s(yt,ke,he)),W(yt.searchParams).updateSearchParams(yt.query)}),searchParams:f(Ut),hash:f(Lt,function(ke){var yt=Q(this);(ke=String(ke))==""?yt.fragment=null:(ke.charAt(0)=="#"&&(ke=ke.slice(1)),yt.fragment="",s(yt,ke,ne))})}),b(ce,"toJSON",function(){return be.call(this)},{enumerable:!0}),b(ce,"toString",function(){return be.call(this)},{enumerable:!0}),U&&(u=U.createObjectURL,l=U.revokeObjectURL,u&&b(d,"createObjectURL",function(ke){return u.apply(U,arguments)}),l&&b(d,"revokeObjectURL",function(ke){return l.apply(U,arguments)})),P(d,"URL"),i({global:!0,forced:!g,sham:!m},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(t,h,p){h.exports=t("./").polyfill()},{"./":234}],234:[function(t,h,p){(function(c,a){var s,d;s=this,d=function(){function f(we){return typeof we=="function"}var y=Array.isArray||function(we){return Object.prototype.toString.call(we)==="[object Array]"},u=0,l=void 0,i=void 0,m=function(we,Ae){x[u]=we,x[u+1]=Ae,(u+=2)===2&&(i?i(M):G())},g=typeof window<"u"?window:void 0,v=g||{},v=v.MutationObserver||v.WebKitMutationObserver,b=typeof self>"u"&&c!==void 0&&{}.toString.call(c)==="[object process]",w=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var we=setTimeout;return function(){return we(M,1)}}var x=new Array(1e3);function M(){for(var we=0;we<u;we+=2)(0,x[we])(x[we+1]),x[we]=void 0,x[we+1]=void 0;u=0}function C(){try{var we=Function("return this")().require("vertx");return(l=we.runOnLoop||we.runOnContext)!==void 0?function(){l(M)}:S()}catch{return S()}}var E,P,D,G=void 0;function I(we,Ae){var Ue,qe=this,Ge=new this.constructor(te),it=(Ge[W]===void 0&&Ee(Ge),qe._state);return it?(Ue=arguments[it-1],m(function(){return ae(it,Ge,Ue,qe._result)})):F(qe,Ge,we,Ae),Ge}function U(we){var Ae;return we&&typeof we=="object"&&we.constructor===this?we:(de(Ae=new this(te),we),Ae)}var G=b?function(){return c.nextTick(M)}:v?(P=0,b=new v(M),D=document.createTextNode(""),b.observe(D,{characterData:!0}),function(){D.data=P=++P%2}):w?((E=new MessageChannel).port1.onmessage=M,function(){return E.port2.postMessage(0)}):(g===void 0&&typeof t=="function"?C:S)(),W=Math.random().toString(36).substring(2);function te(){}var Q=void 0,J=1,oe=2;function ee(we,Ae,Ue){m(function(qe){var Ge=!1,it=function(ie,Be,Pe,We){try{ie.call(Be,Pe,We)}catch(Je){return Je}}(Ue,Ae,function(ie){Ge||(Ge=!0,(Ae!==ie?de:O)(qe,ie))},function(ie){Ge||(Ge=!0,j(qe,ie))},qe._label);!Ge&&it&&(Ge=!0,j(qe,it))},we)}function le(we,Ae,Ue){var qe,Ge;Ae.constructor===we.constructor&&Ue===I&&Ae.constructor.resolve===U?(qe=we,(Ge=Ae)._state===J?O(qe,Ge._result):Ge._state===oe?j(qe,Ge._result):F(Ge,void 0,function(it){return de(qe,it)},function(it){return j(qe,it)})):Ue!==void 0&&f(Ue)?ee(we,Ae,Ue):O(we,Ae)}function de(we,Ae){if(we===Ae)j(we,new TypeError("You cannot resolve a promise with itself"));else if(Ue=typeof Ae,Ae===null||Ue!="object"&&Ue!="function")O(we,Ae);else{Ue=void 0;try{Ue=Ae.then}catch(qe){return void j(we,qe)}le(we,Ae,Ue)}var Ue}function se(we){we._onerror&&we._onerror(we._result),V(we)}function O(we,Ae){we._state===Q&&(we._result=Ae,we._state=J,we._subscribers.length!==0&&m(V,we))}function j(we,Ae){we._state===Q&&(we._state=oe,we._result=Ae,m(se,we))}function F(we,Ae,Ue,qe){var Ge=we._subscribers,it=Ge.length;we._onerror=null,Ge[it]=Ae,Ge[it+J]=Ue,Ge[it+oe]=qe,it===0&&we._state&&m(V,we)}function V(we){var Ae=we._subscribers,Ue=we._state;if(Ae.length!==0){for(var qe,Ge=void 0,it=we._result,ie=0;ie<Ae.length;ie+=3)qe=Ae[ie],Ge=Ae[ie+Ue],qe?ae(Ue,qe,Ge,it):Ge(it);we._subscribers.length=0}}function ae(we,Ae,Ue,qe){var Ge=f(Ue),it=void 0,ie=void 0,Be=!0;if(Ge){try{it=Ue(qe)}catch(Pe){Be=!1,ie=Pe}if(Ae===it)return void j(Ae,new TypeError("A promises callback cannot return that same promise."))}else it=qe;Ae._state===Q&&(Ge&&Be?de(Ae,it):Be===!1?j(Ae,ie):we===J?O(Ae,it):we===oe&&j(Ae,it))}var ue=0;function Ee(we){we[W]=ue++,we._state=void 0,we._result=void 0,we._subscribers=[]}Ce.prototype._enumerate=function(we){for(var Ae=0;this._state===Q&&Ae<we.length;Ae++)this._eachEntry(we[Ae],Ae)},Ce.prototype._eachEntry=function(we,Ae){var Ue=this._instanceConstructor,qe=Ue.resolve;if(qe===U){var Ge,it=void 0,ie=void 0,Be=!1;try{it=we.then}catch(Pe){Be=!0,ie=Pe}it===I&&we._state!==Q?this._settledAt(we._state,Ae,we._result):typeof it!="function"?(this._remaining--,this._result[Ae]=we):Ue===xe?(Ge=new Ue(te),Be?j(Ge,ie):le(Ge,we,it),this._willSettleAt(Ge,Ae)):this._willSettleAt(new Ue(function(Pe){return Pe(we)}),Ae)}else this._willSettleAt(qe(we),Ae)},Ce.prototype._settledAt=function(we,Ae,Ue){var qe=this.promise;qe._state===Q&&(this._remaining--,we===oe?j(qe,Ue):this._result[Ae]=Ue),this._remaining===0&&O(qe,this._result)},Ce.prototype._willSettleAt=function(we,Ae){var Ue=this;F(we,void 0,function(qe){return Ue._settledAt(J,Ae,qe)},function(qe){return Ue._settledAt(oe,Ae,qe)})};var Re=Ce;function Ce(we,Ae){this._instanceConstructor=we,this.promise=new we(te),this.promise[W]||Ee(this.promise),y(Ae)?(this.length=Ae.length,this._remaining=Ae.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(Ae),this._remaining!==0)||O(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}Ze.prototype.catch=function(we){return this.then(null,we)},Ze.prototype.finally=function(we){var Ae=this.constructor;return f(we)?this.then(function(Ue){return Ae.resolve(we()).then(function(){return Ue})},function(Ue){return Ae.resolve(we()).then(function(){throw Ue})}):this.then(we,we)};var xe=Ze;function Ze(we){if(this[W]=ue++,this._result=this._state=void 0,this._subscribers=[],te!==we){if(typeof we!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Ze))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Ae=this;try{we(function(Ue){de(Ae,Ue)},function(Ue){j(Ae,Ue)})}catch(Ue){j(Ae,Ue)}}}return xe.prototype.then=I,xe.all=function(we){return new Re(this,we).promise},xe.race=function(we){var Ae=this;return y(we)?new Ae(function(Ue,qe){for(var Ge=we.length,it=0;it<Ge;it++)Ae.resolve(we[it]).then(Ue,qe)}):new Ae(function(Ue,qe){return qe(new TypeError("You must pass an array to race."))})},xe.resolve=U,xe.reject=function(we){var Ae=new this(te);return j(Ae,we),Ae},xe._setScheduler=function(we){i=we},xe._setAsap=function(we){m=we},xe._asap=m,xe.polyfill=function(){var we=void 0;if(a!==void 0)we=a;else if(typeof self<"u")we=self;else try{we=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ae=we.Promise;if(Ae){var Ue=null;try{Ue=Object.prototype.toString.call(Ae.resolve())}catch{}if(Ue==="[object Promise]"&&!Ae.cast)return}we.Promise=xe},xe.Promise=xe},typeof p=="object"&&h!==void 0?h.exports=d():s.ES6Promise=d()}).call(this,t("_process"),typeof Ds<"u"?Ds:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:243}],235:[function(t,h,p){var c,a;c=this,a=function(s,d){var f=5e3,y="callback";function u(i){try{delete window[i]}catch{window[i]=void 0}}function l(i){i=document.getElementById(i),i&&document.getElementsByTagName("head")[0].removeChild(i)}d.exports=function(i){var m=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],g=i,v=m.timeout||f,b=m.jsonpCallback||y,w=void 0;return new Promise(function(S,x){var M=m.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),C=b+"_"+M,E=(window[M]=function(P){S({ok:!0,json:function(){return Promise.resolve(P)}}),w&&clearTimeout(w),l(C),u(M)},g+=g.indexOf("?")===-1?"?":"&",document.createElement("script"));E.setAttribute("src",""+g+b+"="+M),m.charset&&E.setAttribute("charset",m.charset),E.id=C,document.getElementsByTagName("head")[0].appendChild(E),w=setTimeout(function(){x(new Error("JSONP request to "+i+" timed out")),u(M),l(C),window[M]=function(){u(M)}},v),E.onerror=function(){x(new Error("JSONP request to "+i+" failed")),u(M),l(C),w&&clearTimeout(w)}})}},p!==void 0&&h!==void 0?a(0,h):(a(a={exports:{}},a),c.fetchJsonp=a.exports)},{}],236:[function(t,h,p){var c=function(a){var s,d,f,y,u,l,i,m,g,v,b;if(!(a===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return b=a.document,s=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),f="download"in d,y=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent),l=function(w){(a.setImmediate||a.setTimeout)(function(){throw w},0)},i=4e4,m=function(w){setTimeout(function(){typeof w=="string"?s().revokeObjectURL(w):w.remove()},i)},g=function(w){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(w.type)?new Blob([String.fromCharCode(65279),w],{type:w.type}):w},b=(v=function(w,S,P){P||(w=g(w));var M,C,E=this,P=w.type==="application/octet-stream",D=function(){for(var I=E,U="writestart progress write writeend".split(" "),G=void 0,W=(U=[].concat(U)).length;W--;){var te=I["on"+U[W]];if(typeof te=="function")try{te.call(I,G||I)}catch(Q){l(Q)}}};E.readyState=E.INIT,f?(M=s().createObjectURL(w),setTimeout(function(){var I,U;d.href=M,d.download=S,I=d,U=new MouseEvent("click"),I.dispatchEvent(U),D(),m(M),E.readyState=E.DONE})):(u||P&&y)&&a.FileReader?((C=new FileReader).onloadend=function(){var I=u?C.result:C.result.replace(/^data:[^;]*;/,"data:attachment/file;");a.open(I,"_blank")||(a.location.href=I),I=void 0,E.readyState=E.DONE,D()},C.readAsDataURL(w),E.readyState=E.INIT):(M=M||s().createObjectURL(w),!P&&a.open(M,"_blank")||(a.location.href=M),E.readyState=E.DONE,D(),m(M))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(w,S,x){return S=S||w.name||"download",x||(w=g(w)),navigator.msSaveOrOpenBlob(w,S)}:(b.abort=function(){},b.readyState=b.INIT=0,b.WRITING=1,b.DONE=2,b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null,function(w,S,x){return new v(w,S||w.name||"download",x)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);h!==void 0&&h.exports?h.exports.saveAs=c:o!=null},{}],237:[function(t,h,p){var c,a=Object.defineProperty,s=(a(p,"__esModule",{value:!0}),p),d={GIFEncoder:()=>D,applyPalette:()=>function(Q,J,oe="rgb565"){if(!Q||!Q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Q instanceof Uint8Array||Q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<J.length)throw new Error("applyPalette() only works with 256 colors or less");const ee=new Uint32Array(Q.buffer),le=ee.length,de=oe==="rgb444"?4096:65536,se=new Uint8Array(le),O=new Array(de);if(oe==="rgba4444")for(let Ze=0;Ze<le;Ze++){var ae=ee[Ze],j=ae>>24&255,F=ae>>16&255,V=ae>>8&255,ae=255&ae,ue=m(ae,V,F,j),ue=ue in O?O[ue]:O[ue]=function(we,Ae,Ue,qe,Ge){let it=0,ie=1e100;for(let Je=0;Je<Ge.length;Je++){var Be,Pe=Ge[Je],We=C(Pe[3]-qe);We>ie||(Be=Pe[0],(We+=C(Be-we))>ie||(Be=Pe[1],(We+=C(Be-Ae))>ie||(Be=Pe[2],(We+=C(Be-Ue))>ie||(ie=We,it=Je))))}return it}(ae,V,F,j,J);se[Ze]=ue}else{const Ze=oe==="rgb444"?g:i;for(let we=0;we<le;we++){var Ce=ee[we],Ee=Ce>>16&255,Re=Ce>>8&255,Ce=255&Ce,xe=Ze(Ce,Re,Ee),xe=xe in O?O[xe]:O[xe]=function(Ae,Ue,qe,Ge){let it=0,ie=1e100;for(let Je=0;Je<Ge.length;Je++){var Be,Pe=Ge[Je],We=C(Pe[0]-Ae);We>ie||(Be=Pe[1],(We+=C(Be-Ue))>ie||(Be=Pe[2],(We+=C(Be-qe))>ie||(ie=We,it=Je)))}return it}(Ce,Re,Ee,J);se[we]=xe}}return se},default:()=>te,nearestColor:()=>function(Q,J,oe=x){return Q[E(Q,J,oe)]},nearestColorIndex:()=>E,nearestColorIndexWithDistance:()=>P,prequantize:()=>function(Q,{roundRGB:J=5,roundAlpha:oe=10,oneBitAlpha:ee=null}={}){const le=new Uint32Array(Q.buffer);for(let F=0;F<le.length;F++){var j=le[F];let V=j>>24&255;var de,se=j>>16&255,O=j>>8&255,j=255&j;V=M(V,oe),ee&&(de=typeof ee=="number"?ee:127,V=V<=de?0:255),j=M(j,J),O=M(O,J),se=M(se,J),le[F]=V<<24|se<<16|O<<8|j<<0}},quantize:()=>function(Q,J,oe={}){var{format:ee="rgb565",clearAlpha:le=!0,clearAlphaColor:de=0,clearAlphaThreshold:se=0,oneBitAlpha:O=!1}=oe;if(!Q||!Q.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(Q instanceof Uint8Array||Q instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");Q=new Uint32Array(Q.buffer);let j=oe.useSqrt!==!1;const F=ee==="rgba4444",V=function(ze,tt){const ct=tt==="rgb444"?4096:65536,Fe=new Array(ct),Me=ze.length;if(tt==="rgba4444")for(let Y=0;Y<Me;++Y){var L=ze[Y],Te=L>>24&255,B=L>>16&255,z=L>>8&255,L=255&L,k=m(L,z,B,Te);let me=k in Fe?Fe[k]:Fe[k]=S();me.rc+=L,me.gc+=z,me.bc+=B,me.ac+=Te,me.cnt++}else if(tt==="rgb444")for(let Y=0;Y<Me;++Y){var _e=ze[Y],ge=_e>>16&255,ve=_e>>8&255,_e=255&_e,H=g(_e,ve,ge);let me=H in Fe?Fe[H]:Fe[H]=S();me.rc+=_e,me.gc+=ve,me.bc+=ge,me.cnt++}else for(let Y=0;Y<Me;++Y){var pe=ze[Y],ye=pe>>16&255,je=pe>>8&255,pe=255&pe,Oe=i(pe,je,ye);let me=Oe in Fe?Fe[Oe]:Fe[Oe]=S();me.rc+=pe,me.gc+=je,me.bc+=ye,me.cnt++}return Fe}(Q,ee),ae=V.length,ue=ae-1,Ee=new Uint32Array(ae+1);for(var Re=0,Ce=0;Ce<ae;++Ce){const ze=V[Ce];ze!=null&&(Pe=1/ze.cnt,F&&(ze.ac*=Pe),ze.rc*=Pe,ze.gc*=Pe,ze.bc*=Pe,V[Re++]=ze)}b(J)/Re<.022&&(j=!1);for(var xe,Ze,we,Ce=0;Ce<Re-1;++Ce)V[Ce].fw=Ce+1,V[Ce+1].bk=Ce,j&&(V[Ce].cnt=Math.sqrt(V[Ce].cnt));for(j&&(V[Ce].cnt=Math.sqrt(V[Ce].cnt)),Ce=0;Ce<Re;++Ce){w(V,Ce,!1);var Ae=V[Ce].err;for(Ze=++Ee[0];1<Ze&&(we=Ze>>1,!(V[xe=Ee[we]].err<=Ae));Ze=we)Ee[Ze]=xe;Ee[Ze]=Ce}var Ue,qe=Re-J;for(Ce=0;Ce<qe;){for(;;){var Ge=Ee[1];if((Ue=V[Ge]).tm>=Ue.mtm&&V[Ue.nn].mtm<=Ue.tm)break;for(Ue.mtm==ue?Ge=Ee[1]=Ee[Ee[0]--]:(w(V,Ge,!1),Ue.tm=Ce),Ae=V[Ge].err,Ze=1;(we=Ze+Ze)<=Ee[0]&&(we<Ee[0]&&V[Ee[we]].err>V[Ee[we+1]].err&&we++,!(Ae<=V[xe=Ee[we]].err));Ze=we)Ee[Ze]=xe;Ee[Ze]=Ge}var it=V[Ue.nn],ie=Ue.cnt,Be=it.cnt,Pe=1/(ie+Be);F&&(Ue.ac=Pe*(ie*Ue.ac+Be*it.ac)),Ue.rc=Pe*(ie*Ue.rc+Be*it.rc),Ue.gc=Pe*(ie*Ue.gc+Be*it.gc),Ue.bc=Pe*(ie*Ue.bc+Be*it.bc),Ue.cnt+=it.cnt,Ue.mtm=++Ce,V[it.bk].fw=it.fw,V[it.fw].bk=it.bk,it.mtm=ue}let We=[];for(Ce=0;;0){let ze=v(Math.round(V[Ce].rc),0,255),tt=v(Math.round(V[Ce].gc),0,255),ct=v(Math.round(V[Ce].bc),0,255),Fe=255;F&&(Fe=v(Math.round(V[Ce].ac),0,255),O&&(Je=typeof O=="number"?O:127,Fe=Fe<=Je?0:255),le&&Fe<=se&&(ze=tt=ct=de,Fe=0));var Je=F?[ze,tt,ct,Fe]:[ze,tt,ct];if(function(Me,Te){for(let L=0;L<Me.length;L++){var z=Me[L],B=z[0]===Te[0]&&z[1]===Te[1]&&z[2]===Te[2],z=!(4<=z.length&&4<=Te.length)||z[3]===Te[3];if(B&&z)return!0}return!1}(We,Je)||We.push(Je),(Ce=V[Ce].fw)==0)break}return We},snapColorsToPalette:()=>function(Q,J,oe=5){if(Q.length&&J.length){var ee=Q.map(j=>j.slice(0,3)),le=oe*oe,de=Q[0].length;for(let j=0;j<J.length;j++){let F=J[j];F=F.length<de?[F[0],F[1],F[2],255]:F.length>de?F.slice(0,3):F.slice();var O=P(ee,F.slice(0,3),x),se=O[0],O=O[1];0<O&&O<=le&&(Q[se]=F)}}}};for(c in d)a(s,c,{get:d[c],enumerable:!0});var f={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function y(Q=256){let J=0,oe=new Uint8Array(Q);return{get buffer(){return oe.buffer},reset(){J=0},bytesView(){return oe.subarray(0,J)},bytes(){return oe.slice(0,J)},writeByte(le){ee(J+1),oe[J]=le,J++},writeBytes(le,de=0,se=le.length){ee(J+se);for(let O=0;O<se;O++)oe[J++]=le[O+de]},writeBytesView(le,de=0,se=le.byteLength){ee(J+se),oe.set(le.subarray(de,de+se),J),J+=se}};function ee(le){var de=oe.length;if(!(le<=de)){le=Math.max(le,de*(de<1048576?2:1.125)>>>0),de!=0&&(le=Math.max(le,256));const se=oe;oe=new Uint8Array(le),0<J&&oe.set(se.subarray(0,J),0)}}}var u=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=function(Q,J,oe,F,le=y(512),de=new Uint8Array(256),se=new Int32Array(5003),O=new Int32Array(5003)){var j=se.length,F=Math.max(2,F);de.fill(0),O.fill(0),se.fill(-1);let V=0,ae=0;var ue=F+1;const Ee=ue;let Re=!1,Ce=Ee,xe=(1<<Ce)-1;var Ze=1<<ue-1;const we=1+Ze;let Ae=2+Ze,Ue=0,qe=oe[0],Ge=0;for(let Je=j;Je<65536;Je*=2)++Ge;Ge=8-Ge,le.writeByte(F),We(Ze);var it=oe.length;for(let Je=1;Je<it;Je++)e:{var ie=oe[Je],Be=(ie<<12)+qe;let ze=ie<<Ge^qe;if(se[ze]===Be)qe=O[ze];else{for(var Pe=ze===0?1:j-ze;0<=se[ze];)if((ze-=Pe)<0&&(ze+=j),se[ze]===Be){qe=O[ze];break e}We(qe),qe=ie,Ae<4096?(O[ze]=Ae++,se[ze]=Be):(se.fill(-1),Ae=2+Ze,Re=!0,We(Ze))}}return We(qe),We(we),le.writeByte(0),le.bytesView();function We(Je){for(V&=u[ae],0<ae?V|=Je<<ae:V=Je,ae+=Ce;8<=ae;)de[Ue++]=255&V,254<=Ue&&(le.writeByte(Ue),le.writeBytesView(de,0,Ue),Ue=0),V>>=8,ae-=8;if((Ae>xe||Re)&&(Re?(Ce=Ee,xe=(1<<Ce)-1,Re=!1):(++Ce,xe=Ce===12?1<<Ce:(1<<Ce)-1)),Je==we){for(;0<ae;)de[Ue++]=255&V,254<=Ue&&(le.writeByte(Ue),le.writeBytesView(de,0,Ue),Ue=0),V>>=8,ae-=8;0<Ue&&(le.writeByte(Ue),le.writeBytesView(de,0,Ue),Ue=0)}}};function i(Q,J,oe){return Q<<8&63488|J<<2&992|oe>>3}function m(Q,J,oe,ee){return Q>>4|240&J|(240&oe)<<4|(240&ee)<<8}function g(Q,J,oe){return Q>>4<<8|240&J|oe>>4}function v(Q,J,oe){return Q<J?J:oe<Q?oe:Q}function b(Q){return Q*Q}function w(Q,J,oe){var ee=0,le=1e100;const de=Q[J];for(var se=de.cnt,O=de.ac,j=de.rc,F=de.gc,V=de.bc,ae=de.fw;ae!=0;ae=Q[ae].fw){var ue,Ee=Q[ae],Re=Ee.cnt,Re=se*Re/(se+Re);le<=Re||(ue=0,oe&&le<=(ue+=Re*b(Ee.ac-O))||le<=(ue+=Re*b(Ee.rc-j))||le<=(ue+=Re*b(Ee.gc-F))||le<=(ue+=Re*b(Ee.bc-V))||(le=ue,ee=ae))}de.err=le,de.nn=ee}function S(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function x(Q,J){for(var oe=0,ee=0;ee<Q.length;ee++){var le=Q[ee]-J[ee];oe+=le*le}return oe}function M(Q,J){return 1<J?Math.round(Q/J)*J:Q}function C(Q){return Q*Q}function E(Q,J,oe=x){let ee=1/0,le=-1;for(let se=0;se<Q.length;se++){var de=oe(J,Q[se]);de<ee&&(ee=de,le=se)}return le}function P(Q,J,oe=x){let ee=1/0,le=-1;for(let se=0;se<Q.length;se++){var de=oe(J,Q[se]);de<ee&&(ee=de,le=se)}return[le,ee]}function D(Q={}){const{initialCapacity:J=4096,auto:oe=!0}=Q,ee=y(J),le=new Uint8Array(256),de=new Int32Array(5003),se=new Int32Array(5003);let O=!1;return{reset(){ee.reset(),O=!1},finish(){ee.writeByte(f.trailer)},bytes(){return ee.bytes()},bytesView(){return ee.bytesView()},get buffer(){return ee.buffer},get stream(){return ee},writeHeader:j,writeFrame(F,V,ae,qe={}){var{transparent:Ee=!1,transparentIndex:Re=0,delay:Pe=0,palette:Ce=null,repeat:it=0,colorDepth:xe=8,dispose:Ze=-1}=qe;let we=!1;if(oe?O||(we=!0,j(),O=!0):we=Boolean(qe.first),V=Math.max(0,Math.floor(V)),ae=Math.max(0,Math.floor(ae)),we){if(!Ce)throw new Error("First frame must include a { palette } option");var[qe,ie,Ue,Be,Ge=8]=[ee,V,ae,Ce,xe];Be=W(Be.length)-1,Ge=128|Ge-1<<4|Be,U(qe,ie),U(qe,Ue),qe.writeBytes([Ge,0,0]),I(ee,Ce),0<=it&&(Be=ee,ie=it,Be.writeByte(33),Be.writeByte(255),Be.writeByte(11),G(Be,"NETSCAPE2.0"),Be.writeByte(3),Be.writeByte(1),U(Be,ie),Be.writeByte(0))}var Ae,Ue=Math.round(Pe/10),qe=ee,Ge=Ze,it=Ue,ie=Ee,Be=Re,Pe=(qe.writeByte(33),qe.writeByte(249),qe.writeByte(4),Be<0&&(Be=0,ie=!1),ie=ie?(Ae=1,2):Ae=0,0<=Ge&&(ie=7&Ge),ie<<=2,qe.writeByte(0|ie|Ae),U(qe,it),qe.writeByte(Be||0),qe.writeByte(0),Boolean(Ce)&&!we);Ze=ee,Ee=V,Re=ae,Ae=Pe?Ce:null,Ze.writeByte(44),U(Ze,0),U(Ze,0),U(Ze,Ee),U(Ze,Re),Ae?(Ee=W(Ae.length)-1,Ze.writeByte(128|Ee)):Ze.writeByte(0),Pe&&I(ee,Ce),[it,qe,Re,Ee,Ze=8,Pe,Ce,F]=[ee,F,V,ae,xe,le,de,se],l(Re,Ee,qe,Ze,it,Pe,Ce,F)}};function j(){G(ee,"GIF89a")}}function I(Q,J){var oe=1<<W(J.length);for(let ee=0;ee<oe;ee++){let le=[0,0,0];ee<J.length&&(le=J[ee]),Q.writeByte(le[0]),Q.writeByte(le[1]),Q.writeByte(le[2])}}function U(Q,J){Q.writeByte(255&J),Q.writeByte(J>>8&255)}function G(Q,J){for(var oe=0;oe<J.length;oe++)Q.writeByte(J.charCodeAt(oe))}function W(Q){return Math.max(Math.ceil(Math.log2(Q)),1)}var te=D},{}],238:[function(t,h,p){p.read=function(c,a,s,d,w){var y,u,l=8*w-d-1,i=(1<<l)-1,m=i>>1,g=-7,v=s?w-1:0,b=s?-1:1,w=c[a+v];for(v+=b,y=w&(1<<-g)-1,w>>=-g,g+=l;0<g;y=256*y+c[a+v],v+=b,g-=8);for(u=y&(1<<-g)-1,y>>=-g,g+=d;0<g;u=256*u+c[a+v],v+=b,g-=8);if(y===0)y=1-m;else{if(y===i)return u?NaN:1/0*(w?-1:1);u+=Math.pow(2,d),y-=m}return(w?-1:1)*u*Math.pow(2,y-d)},p.write=function(c,a,s,d,f,S){var u,l,i=8*S-f-1,m=(1<<i)-1,g=m>>1,v=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=d?0:S-1,w=d?1:-1,S=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(l=isNaN(a)?1:0,u=m):(u=Math.floor(Math.log(a)/Math.LN2),a*(d=Math.pow(2,-u))<1&&(u--,d*=2),2<=(a+=1<=u+g?v/d:v*Math.pow(2,1-g))*d&&(u++,d/=2),m<=u+g?(l=0,u=m):1<=u+g?(l=(a*d-1)*Math.pow(2,f),u+=g):(l=a*Math.pow(2,g-1)*Math.pow(2,f),u=0));8<=f;c[s+b]=255&l,b+=w,l/=256,f-=8);for(u=u<<f|l,i+=f;0<i;c[s+b]=255&u,b+=w,u/=256,i-=8);c[s+b-w]|=128*S}},{}],239:[function(t,h,p){var c;function a(B,z){return B.b===z.b&&B.a===z.a}function s(B,z){return B.b<z.b||B.b===z.b&&B.a<=z.a}function d(B,z,L){var k=z.b-B.b,ge=L.b-z.b;return 0<k+ge?k<ge?z.a-B.a+k/(k+ge)*(B.a-L.a):z.a-L.a+ge/(k+ge)*(L.a-B.a):0}function f(B,z,L){var k=z.b-B.b,ge=L.b-z.b;return 0<k+ge?(z.a-L.a)*k+(z.a-B.a)*ge:0}function y(B,z){return B.a<z.a||B.a===z.a&&B.b<=z.b}function u(B,z,L){var k=z.a-B.a,ge=L.a-z.a;return 0<k+ge?k<ge?z.b-B.b+k/(k+ge)*(B.b-L.b):z.b-L.b+ge/(k+ge)*(L.b-B.b):0}function l(B,z,L){var k=z.a-B.a,ge=L.a-z.a;return 0<k+ge?(z.b-L.b)*k+(z.b-B.b)*ge:0}function i(B,z,L,k){return(B=B<0?0:B)<=(L=L<0?0:L)?L===0?(z+k)/2:z+B/(B+L)*(k-z):k+L/(B+L)*(z-k)}function m(B){var z=S(B.b);return M(z,B.c),M(z.b,B.c),C(z,B.a),z}function g(B,z){var L=!1,k=!1;B!==z&&(z.a!==B.a&&(k=!0,P(z.a,B.a)),z.d!==B.d&&(L=!0,D(z.d,B.d)),x(z,B),k||(M(z,B.a),B.a.c=B),L||(C(z,B.d),B.d.a=B))}function v(B){var z=B.b,L=!1;B.d!==B.b.d&&(L=!0,D(B.d,B.b.d)),B.c===B?P(B.a,null):(B.b.d.a=B.b.e,B.a.c=B.c,x(B,B.b.e),L||C(B,B.d)),z.c===z?(P(z.a,null),D(z.d,null)):(B.d.a=z.b.e,z.a.c=z.c,x(z,z.b.e)),E(B)}function b(B){var z=S(B),L=z.b;return x(z,B.e),z.a=B.b.a,M(L,z.a),z.d=L.d=B.d,z=z.b,x(B.b,B.b.b.e),x(B.b,z),B.b.a=z.a,z.b.a.c=z.b,z.b.d=B.b.d,z.f=B.f,z.b.f=B.b.f,z}function w(B,z){var L=!1,k=S(B),ge=k.b;return z.d!==B.d&&(L=!0,D(z.d,B.d)),x(k,B.e),x(ge,z),k.a=B.b.a,ge.a=z.a,k.d=ge.d=B.d,B.d.a=ge,L||C(k,B.d),k}function S(B){var z=new Ue,L=new Ue,k=B.b.h;return(((L.h=k).b.h=z).h=B).b.h=L,z.b=L,((z.c=z).e=L).b=z,(L.c=L).e=z}function x(B,z){var L=B.c,k=z.c;L.b.e=z,(k.b.e=B).c=k,z.c=L}function M(B,z){var L=z.f,k=new Ge(z,L);for(L.e=k,L=(z.f=k).c=B;L.a=k,(L=L.c)!==B;);}function C(B,z){var L=z.d,k=new Ae(z,L);for(L.b=k,(z.d=k).a=B,k.c=z.c,L=B;L.d=k,(L=L.e)!==B;);}function E(B){var z=B.h;B=B.b.h,(z.b.h=B).b.h=z}function P(B,z){for(var L=B.c,k=L;k.a=z,(k=k.c)!==L;);L=B.f,((k=B.e).f=L).e=k}function D(B,z){for(var L=B.a,k=L;k.d=z,(k=k.e)!==L;);L=B.d,((k=B.b).d=L).b=k}function I(B){var z=0;return Math.abs(B[1])>Math.abs(B[0])&&(z=1),z=Math.abs(B[2])>Math.abs(B[z])?2:z}function U(B,z){B.f+=z.f,B.b.f+=z.b.f}function G(B,z,L){return B=B.a,z=z.a,L=L.a,z.b.a===B?L.b.a===B?s(z.a,L.a)?f(L.b.a,z.a,L.a)<=0:0<=f(z.b.a,L.a,z.a):f(L.b.a,B,L.a)<=0:L.b.a===B?0<=f(z.b.a,B,z.a):(z=d(z.b.a,B,z.a),(B=d(L.b.a,B,L.a))<=z)}function W(B){B.a.i=null;var z=B.e;z.a.c=z.c,z.c.a=z.a,B.e=null}function te(B,z){v(B.a),B.c=!1,(B.a=z).i=B}function Q(B){for(var z=B.a.a;(B=Te(B)).a.a===z;);return B.c&&(te(B,z=w(Me(B).a.b,B.a.e)),B=Te(B)),B}function J(B,z,L){var k=new Fe;return k.a=L,k.e=Re(B.f,z.e,k),L.i=k}function oe(B,z){switch(B.s){case 100130:return(1&z)!=0;case 100131:return z!==0;case 100132:return 0<z;case 100133:return z<0;case 100134:return 2<=z||z<=-2}return!1}function ee(B){var z=B.a,L=z.d;L.c=B.d,L.a=z,W(B)}function le(B,z,L){for(z=(B=z).a;B!==L;){B.c=!1;var k=Me(B),ge=k.a;if(ge.a!==z.a){if(!k.c){ee(B);break}te(k,ge=w(z.c.b,ge.b))}z.c!==ge&&(g(ge.b.e,ge),g(z,ge)),ee(B),z=k.a,B=k}return z}function de(B,z,L,k,ge,ve){for(var _e=!0;J(B,z,L.b),(L=L.c)!==k;);for(ge===null&&(ge=Me(z).a.b.c);(L=(k=Me(z)).a.b).a===ge.a;)L.c!==ge&&(g(L.b.e,L),g(ge.b.e,L)),k.f=z.f-L.f,k.d=oe(B,k.f),z.b=!0,!_e&&F(B,z)&&(U(L,ge),W(z),v(ge)),_e=!1,z=k,ge=L;z.b=!0,ve&&ae(B,z)}function se(B,z,L,k,ge){var ve=[z.g[0],z.g[1],z.g[2]];z.d=null,z.d=B.o&&B.o(ve,L,k,B.c)||null,z.d===null&&(ge?B.n||(we(B,100156),B.n=!0):z.d=L[0])}function O(B,z,L){var k=[null,null,null,null];k[0]=z.a.d,k[1]=L.a.d,se(B,z.a,k,[.5,.5,0,0],!1),g(z,L)}function j(B,z,L,k,ge){var ve=Math.abs(z.b-B.b)+Math.abs(z.a-B.a),_e=Math.abs(L.b-B.b)+Math.abs(L.a-B.a),H=ge+1;k[ge]=.5*_e/(ve+_e),k[H]=.5*ve/(ve+_e),B.g[0]+=k[ge]*z.g[0]+k[H]*L.g[0],B.g[1]+=k[ge]*z.g[1]+k[H]*L.g[1],B.g[2]+=k[ge]*z.g[2]+k[H]*L.g[2]}function F(B,z){var L=Me(z),k=z.a,ge=L.a;if(s(k.a,ge.a)){if(0<f(ge.b.a,k.a,ge.a))return;if(a(k.a,ge.a)){if(k.a!==ge.a){var L=B.e,ve=k.a.h;if(0<=ve){var _e=(L=L.b).d,H=L.e,ye=L.c,je=ye[ve];_e[je]=_e[L.a],(ye[_e[je]]=je)<=--L.a&&(je<=1||s(H[_e[je>>1]],H[_e[je]])?tt:ct)(L,je),H[ve]=null,ye[ve]=L.b,L.b=ve}else for(L.c[-(ve+1)]=null;0<L.a&&L.c[L.d[L.a-1]]===null;)--L.a;O(B,ge.b.e,k)}}else b(ge.b),g(k,ge.b.e),z.b=L.b=!0}else{if(f(k.b.a,ge.a,k.a)<0)return;Te(z).b=z.b=!0,b(k.b),g(ge.b.e,k)}return 1}function V(B,z){var L=Me(z),k=z.a,ge=L.a,ve=k.a,_e=ge.a,H=k.b.a,ye=ge.b.a,je=new Ge;if(f(H,B.a,ve),f(ye,B.a,_e),!(ve===_e||Math.min(ve.a,H.a)>Math.max(_e.a,ye.a))){if(s(ve,_e)){if(0<f(ye,ve,_e))return}else if(f(H,_e,ve)<0)return;var pe,Oe,Y=H,me=ve,$=ye,X=_e;if(s(Y,me)||(pe=Y,Y=me,me=pe),s($,X)||(pe=$,$=X,X=pe),s(Y,$)||(pe=Y,Y=$,$=pe,pe=me,me=X,X=pe),s($,me)?s(me,X)?((pe=d(Y,$,me))+(Oe=d($,me,X))<0&&(pe=-pe,Oe=-Oe),je.b=i(pe,$.b,Oe,me.b)):((pe=f(Y,$,me))+(Oe=-f(Y,X,me))<0&&(pe=-pe,Oe=-Oe),je.b=i(pe,$.b,Oe,X.b)):je.b=($.b+me.b)/2,y(Y,me)||(pe=Y,Y=me,me=pe),y($,X)||(pe=$,$=X,X=pe),y(Y,$)||(pe=Y,Y=$,$=pe,pe=me,me=X,X=pe),y($,me)?y(me,X)?((pe=u(Y,$,me))+(Oe=u($,me,X))<0&&(pe=-pe,Oe=-Oe),je.a=i(pe,$.a,Oe,me.a)):((pe=l(Y,$,me))+(Oe=-l(Y,X,me))<0&&(pe=-pe,Oe=-Oe),je.a=i(pe,$.a,Oe,X.a)):je.a=($.a+me.a)/2,s(je,B.a)&&(je.b=B.a.b,je.a=B.a.a),Y=s(ve,_e)?ve:_e,s(Y,je)&&(je.b=Y.b,je.a=Y.a),a(je,ve)||a(je,_e))return F(B,z),0;if(!a(H,B.a)&&0<=f(H,B.a,je)||!a(ye,B.a)&&f(ye,B.a,je)<=0){if(ye===B.a)b(k.b),g(ge.b,k),k=Me(z=Q(z)).a,le(B,Me(z),L),de(B,z,k.b.e,k,k,!0);else{if(H!==B.a)return 0<=f(H,B.a,je)&&(Te(z).b=z.b=!0,b(k.b),k.a.b=B.a.b,k.a.a=B.a.a),void(f(ye,B.a,je)<=0&&(z.b=L.b=!0,b(ge.b),ge.a.b=B.a.b,ge.a.a=B.a.a));for(b(ge.b),g(k.e,ge.b.e),_e=(ve=L=z).a.b.a;(ve=Te(ve)).a.b.a===_e;);ve=Me(z=ve).a.b.c,L.a=ge.b.e,de(B,z,(ge=le(B,L,null)).c,k.b.c,ve,!0)}return 1}b(k.b),b(ge.b),g(ge.b.e,k),k.a.b=je.b,k.a.a=je.a,k.a.h=ie(B.e,k.a),k=k.a,ge=[0,0,0,0],je=[ve.d,H.d,_e.d,ye.d],k.g[0]=k.g[1]=k.g[2]=0,j(k,ve,H,ge,0),j(k,_e,ye,ge,2),se(B,k,je,ge,!0),Te(z).b=z.b=L.b=!0}}function ae(B,z){for(var L=Me(z);;){for(;L.b;)L=Me(z=L);if(!z.b&&((z=Te(L=z))===null||!z.b))break;z.b=!1;var k=z.a,ge=L.a;if(ve=k.b.a!==ge.b.a)e:{var ve,_e=Me(ve=z),H=ve.a,ye=_e.a,je=void 0;if(s(H.b.a,ye.b.a)){if(f(H.b.a,ye.b.a,H.a)<0){ve=!1;break e}Te(ve).b=ve.b=!0,je=b(H),g(ye.b,je),je.d.c=ve.d}else{if(0<f(ye.b.a,H.b.a,ye.a)){ve=!1;break e}ve.b=_e.b=!0,je=b(ye),g(H.e,ye.b),je.b.d.c=ve.d}ve=!0}if(ve&&(L.c?(W(L),v(ge),ge=(L=Me(z)).a):z.c&&(W(z),v(k),k=(z=Te(L)).a)),k.a!==ge.a){if(k.b.a===ge.b.a||z.c||L.c||k.b.a!==B.a&&ge.b.a!==B.a)F(B,z);else if(V(B,z))break}k.a===ge.a&&k.b.a===ge.b.a&&(U(ge,k),W(z),v(k),z=Te(L))}}function ue(B,z){var L=new Fe,k=m(B.b);k.a.b=4e150,k.a.a=z,k.b.a.b=-4e150,k.b.a.a=z,B.a=k.b.a,L.a=k,L.f=0,L.d=!1,L.c=!1,L.h=!0,L.b=!1,k=Re(k=B.f,k.a,L),L.e=k}function Ee(B){this.a=new Ce,this.b=B,this.c=G}function Re(B,z,L){for(;(z=z.c).b!==null&&!B.c(B.b,z.b,L););return B=new Ce(L,z.a,z),z.a.c=B,z.a=B}function Ce(B,z,L){this.b=B||null,this.a=z||this,this.c=L||this}function xe(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Ze(B,z){if(B.d!==z)for(;B.d!==z;)if(B.d<z)switch(B.d){case 0:we(B,100151),B.u(null);break;case 1:we(B,100152),B.t()}else switch(B.d){case 2:we(B,100154),B.v();break;case 1:we(B,100153),B.w()}}function we(B,z){B.p&&B.p(z,B.c)}function Ae(B,z){this.b=B||this,this.d=z||this,this.a=null,this.c=!1}function Ue(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function qe(){this.c=new Ge,this.a=new Ae,this.b=new Ue,this.d=new Ue,this.b.b=this.d,this.d.b=this.b}function Ge(B,z){this.e=B||this,this.f=z||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function it(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Pe}function ie(B,z){var L,k,ge;return B.e?(2*(k=++(L=B.b).a)>L.f&&(L.f*=2,L.c=We(L.c,L.f+1)),L.b===0?ge=k:(ge=L.b,L.b=L.c[L.b]),L.e[ge]=z,L.c[ge]=k,L.d[k]=ge,L.h&&ct(L,k),ge):(L=B.a++,B.c[L]=z,-(L+1))}function Be(B){if(B.a===0)return ze(B.b);var z=B.c[B.d[B.a-1]];if(B.b.a!==0&&s(Je(B.b),z))return ze(B.b);for(;--B.a,0<B.a&&B.c[B.d[B.a-1]]===null;);return z}function Pe(){this.d=We([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function We(B,z){for(var L=Array(z),k=0;k<B.length;k++)L[k]=B[k];for(;k<z;k++)L[k]=0;return L}function Je(B){return B.e[B.d[1]]}function ze(B){var z=B.d,L=B.e,k=B.c,ge=z[1],ve=L[ge];return 0<B.a&&(z[1]=z[B.a],k[z[1]]=1,L[ge]=null,k[ge]=B.b,B.b=ge,0<--B.a&&tt(B,1)),ve}function tt(B,z){for(var L=B.d,k=B.e,ge=B.c,ve=z,_e=L[ve];;){var H=ve<<1,ye=(H<B.a&&s(k[L[H+1]],k[L[H]])&&(H+=1),L[H]);if(H>B.a||s(k[_e],k[ye])){ge[L[ve]=_e]=ve;break}ge[L[ve]=ye]=ve,ve=H}}function ct(B,z){for(var L=B.d,k=B.e,ge=B.c,ve=z,_e=L[ve];;){var H=ve>>1,ye=L[H];if(H==0||s(k[ye],k[_e])){ge[L[ve]=_e]=ve;break}ge[L[ve]=ye]=ve,ve=H}}function Fe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Me(B){return B.e.c.b}function Te(B){return B.e.a.b}(c=xe.prototype).x=function(){Ze(this,0)},c.B=function(B,z){switch(B){case 100142:return;case 100140:switch(z){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=z)}break;case 100141:return void(this.m=!!z);default:return void we(this,100900)}we(this,100901)},c.y=function(B){switch(B){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:we(this,100900)}return!1},c.A=function(B,z,L){this.j[0]=B,this.j[1]=z,this.j[2]=L},c.z=function(B,z){var L=z||null;switch(B){case 100100:case 100106:this.h=L;break;case 100104:case 100110:this.l=L;break;case 100101:case 100107:this.k=L;break;case 100102:case 100108:this.i=L;break;case 100103:case 100109:this.p=L;break;case 100105:case 100111:this.o=L;break;case 100112:this.r=L;break;default:we(this,100900)}},c.C=function(B,z){var L=!1,k=[0,0,0];Ze(this,2);for(var ge=0;ge<3;++ge){var ve=B[ge];ve<-1e150&&(ve=-1e150,L=!0),1e150<ve&&(ve=1e150,L=!0),k[ge]=ve}L&&we(this,100155),(L=this.q)===null?g(L=m(this.b),L.b):(b(L),L=L.e),L.a.d=z,L.a.g[0]=k[0],L.a.g[1]=k[1],L.a.g[2]=k[2],L.f=1,L.b.f=-1,this.q=L},c.u=function(B){Ze(this,0),this.d=1,this.b=new qe,this.c=B},c.t=function(){Ze(this,1),this.d=2,this.q=null},c.v=function(){Ze(this,2),this.d=1},c.w=function(){Ze(this,1),this.d=0;var B,z,L=this.j[0],k=this.j[1],ge=this.j[2],ve=!1,_e=[L,k,ge];if(L===0&&k===0&&ge===0){for(var k=[-2e150,-2e150,-2e150],H=[2e150,2e150,2e150],ge=[],ye=[],L=(ve=this.b.c).e;L!==ve;L=L.e)for(var je=0;je<3;++je){var pe=L.g[je];pe<H[je]&&(H[je]=pe,ye[je]=L),pe>k[je]&&(k[je]=pe,ge[je]=L)}if(k[1]-H[1]>k[L=0]-H[0]&&(L=1),H[L=k[2]-H[2]>k[L]-H[L]?2:L]>=k[L])_e[0]=0,_e[1]=0,_e[2]=1;else{for(H=ye[L],ge=ge[L],ye=[k=0,0,0],H=[H.g[0]-ge.g[0],H.g[1]-ge.g[1],H.g[2]-ge.g[2]],je=[0,0,0],L=ve.e;L!==ve;L=L.e)je[0]=L.g[0]-ge.g[0],je[1]=L.g[1]-ge.g[1],je[2]=L.g[2]-ge.g[2],ye[0]=H[1]*je[2]-H[2]*je[1],ye[1]=H[2]*je[0]-H[0]*je[2],ye[2]=H[0]*je[1]-H[1]*je[0],k<(pe=ye[0]*ye[0]+ye[1]*ye[1]+ye[2]*ye[2])&&(k=pe,_e[0]=ye[0],_e[1]=ye[1],_e[2]=ye[2]);k<=0&&(_e[0]=_e[1]=_e[2]=0,_e[I(H)]=1)}ve=!0}for(ye=I(_e),L=this.b.c,k=(ye+1)%3,ge=(ye+2)%3,ye=0<_e[ye]?1:-1,_e=L.e;_e!==L;_e=_e.e)_e.b=_e.g[k],_e.a=ye*_e.g[ge];if(ve){for(_e=0,L=(ve=this.b.a).b;L!==ve;L=L.b)if(!((k=L.a).f<=0))for(;_e+=(k.a.b-k.b.a.b)*(k.a.a+k.b.a.a),(k=k.e)!==L.a;);if(_e<0)for(ve=(_e=this.b.c).e;ve!==_e;ve=ve.e)ve.a=-ve.a}for(this.n=!1,_e=this.b.b,L=_e.h;L!==_e;L=ve)ve=L.h,k=L.e,a(L.a,L.b.a)&&L.e.e!==L&&(O(this,k,L),v(L),k=(L=k).e),k.e===L&&(k!==L&&(k!==ve&&k!==ve.b||(ve=ve.h),v(k)),L!==ve&&L!==ve.b||(ve=ve.h),v(L));for(this.e=_e=new it,ve=this.b.c,L=ve.e;L!==ve;L=L.e)L.h=ie(_e,L);var Oe=_e;Oe.d=[];for(var Y=0;Y<Oe.a;Y++)Oe.d[Y]=Y;Oe.d.sort(function(X){return function(re,he){return s(X[re],X[he])?1:-1}}(Oe.c)),Oe.e=!0;for(var me=Oe.b,$=me.a;1<=$;--$)tt(me,$);for(me.h=!0,this.f=new Ee(this),ue(this,-4e150),ue(this,4e150);(_e=Be(this.e))!==null;){for(;;){e:if((L=this.e).a===0)ve=Je(L.b);else if(ve=L.c[L.d[L.a-1]],L.b.a!==0&&s(L=Je(L.b),ve)){ve=L;break e}if(ve===null||!a(ve,_e))break;ve=Be(this.e),O(this,_e.c,ve.c)}(function X(re,he){for(var ne,ce=(re.a=he).c;ce.i===null;)if((ce=ce.c)===he.c){var ce=re,be=he;(nt=new Fe).a=be.c.b;for(var K=(Ve=ce.f).a;(K=K.a).b!==null&&!Ve.c(Ve.b,nt,K.b););var Ve,et,Ye=Me(Ve=K.b),nt=Ve.a,K=Ye.a;return void(f(nt.b.a,be,nt.a)===0?a((nt=Ve.a).a,be)||a(nt.b.a,be)||(b(nt.b),Ve.c&&(v(nt.c),Ve.c=!1),g(be.c,nt),X(ce,be)):(et=s(K.b.a,nt.b.a)?Ve:Ye,Ye=void 0,Ve.d||et.c?(Ye=et===Ve?w(be.c.b,nt.e):w(K.b.c.b,be.c).b,et.c?te(et,Ye):((Ve=J(nt=ce,Ve,Ye)).f=Te(Ve).f+Ve.a.f,Ve.d=oe(nt,Ve.f)),X(ce,be)):de(ce,Ve,be.c,be.c,null,!0)))}Ve=(nt=Me(ce=Q(ce.i))).a,(nt=le(re,nt,null)).c===Ve?(nt=(Ve=nt).c,K=Me(ce),Ye=ce.a,et=K.a,ne=!1,Ye.b.a!==et.b.a&&V(re,ce),a(Ye.a,re.a)&&(g(nt.b.e,Ye),nt=Me(ce=Q(ce)).a,le(re,Me(ce),K),ne=!0),a(et.a,re.a)&&(g(Ve,et.b.e),Ve=le(re,K,null),ne=!0),ne?de(re,ce,Ve.c,nt,nt,!0):(be=s(et.a,Ye.a)?et.b.e:Ye,de(re,ce,be=w(Ve.c.b,be),be.c,be.c,!1),be.b.i.c=!0,ae(re,ce))):de(re,ce,nt.c,Ve,Ve,!0)})(this,_e)}for(this.a=this.f.a.a.b.a.a,_e=0;(ve=this.f.a.a.b)!==null;)ve.h||++_e,W(ve);for(this.f=null,(_e=this.e).b=null,_e.d=null,this.e=_e.c=null,_e=this.b,L=_e.a.b;L!==_e.a;L=ve)ve=L.b,(L=L.a).e.e===L&&(U(L.c,L),v(L));if(!this.n){if(_e=this.b,this.m)for(L=_e.b.h;L!==_e.b;L=ve)ve=L.h,L.b.d.c!==L.d.c?L.f=L.d.c?1:-1:v(L);else for(L=_e.a.b;L!==_e.a;L=ve)if(ve=L.b,L.c){for(L=L.a;s(L.b.a,L.a);L=L.c.b);for(;s(L.a,L.b.a);L=L.e);for(k=L.c.b,ge=void 0;L.e!==k;)if(s(L.b.a,k.a)){for(;k.e!==L&&(s((z=k.e).b.a,z.a)||f(k.a,k.b.a,k.e.b.a)<=0);)k=(ge=w(k.e,k)).b;k=k.c.b}else{for(;k.e!==L&&(s((B=L.c.b).a,B.b.a)||0<=f(L.b.a,L.a,L.c.b.a));)L=(ge=w(L,L.c.b)).b;L=L.e}for(;k.e.e!==L;)ge=w(k.e,k),k=ge.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ve=(_e=this.b).a.b;ve!==_e.a;ve=ve.b)if(ve.c){for(this.h&&this.h(2,this.c),L=ve.a;this.k&&this.k(L.a.d,this.c),(L=L.e)!==ve.a;);this.i&&this.i(this.c)}}else{for(_e=this.b,ve=!!this.l,L=!1,k=-1,ge=_e.a.d;ge!==_e.a;ge=ge.d)if(ge.c)for(L||(this.h&&this.h(4,this.c),L=!0),ye=ge.a;ve&&(H=ye.b.d.c?0:1,k!==H&&(k=H,this.l&&this.l(!!k,this.c))),this.k&&this.k(ye.a.d,this.c),(ye=ye.e)!==ge.a;);L&&this.i&&this.i(this.c)}if(this.r){for(_e=this.b,L=_e.a.b;L!==_e.a;L=ve)if(ve=L.b,!L.c){for(ge=(k=L.a).e,ye=void 0;ge=(ye=ge).e,(ye.d=null)===ye.b.d&&(ye.c===ye?P(ye.a,null):(ye.a.c=ye.c,x(ye,ye.b.e)),(H=ye.b).c===H?P(H.a,null):(H.a.c=H.c,x(H,H.b.e)),E(ye)),ye!==k;);k=L.d,((L=L.b).d=k).b=L}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:xe,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},xe.prototype.gluDeleteTess=xe.prototype.x,xe.prototype.gluTessProperty=xe.prototype.B,xe.prototype.gluGetTessProperty=xe.prototype.y,xe.prototype.gluTessNormal=xe.prototype.A,xe.prototype.gluTessCallback=xe.prototype.z,xe.prototype.gluTessVertex=xe.prototype.C,xe.prototype.gluTessBeginPolygon=xe.prototype.u,xe.prototype.gluTessBeginContour=xe.prototype.t,xe.prototype.gluTessEndContour=xe.prototype.v,xe.prototype.gluTessEndPolygon=xe.prototype.w,h!==void 0&&(h.exports=this.libtess)},{}],240:[function(t,h,p){function c(s,d,f,y){var u=0,l=(y=y===void 0?{}:y).loop===void 0?null:y.loop,i=y.palette===void 0?null:y.palette;if(d<=0||f<=0||65535<d||65535<f)throw new Error("Width/Height invalid.");function m(C){if(C=C.length,C<2||256<C||C&C-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return C}s[u++]=71,s[u++]=73,s[u++]=70,s[u++]=56,s[u++]=57,s[u++]=97;var g=0,v=0;if(i!==null){for(var b=m(i);b>>=1;)++g;if(b=1<<g,--g,y.background!==void 0){if(b<=(v=y.background))throw new Error("Background index out of range.");if(v===0)throw new Error("Background index explicitly passed as 0.")}}if(s[u++]=255&d,s[u++]=d>>8&255,s[u++]=255&f,s[u++]=f>>8&255,s[u++]=(i!==null?128:0)|g,s[u++]=v,s[u++]=0,i!==null)for(var w=0,S=i.length;w<S;++w){var x=i[w];s[u++]=x>>16&255,s[u++]=x>>8&255,s[u++]=255&x}if(l!==null){if(l<0||65535<l)throw new Error("Loop count invalid.");s[u++]=33,s[u++]=255,s[u++]=11,s[u++]=78,s[u++]=69,s[u++]=84,s[u++]=83,s[u++]=67,s[u++]=65,s[u++]=80,s[u++]=69,s[u++]=50,s[u++]=46,s[u++]=48,s[u++]=3,s[u++]=1,s[u++]=255&l,s[u++]=l>>8&255,s[u++]=0}var M=!1;this.addFrame=function(C,E,P,D,I,U){if(M===!0&&(--u,M=!1),U=U===void 0?{}:U,C<0||E<0||65535<C||65535<E)throw new Error("x/y invalid.");if(P<=0||D<=0||65535<P||65535<D)throw new Error("Width/Height invalid.");if(I.length<P*D)throw new Error("Not enough pixels for the frame size.");var G=!0,W=U.palette;if(W==null&&(G=!1,W=i),W==null)throw new Error("Must supply either a local or global palette.");for(var Q=m(W),te=0;Q>>=1;)++te;var Q=1<<te,J=U.delay===void 0?0:U.delay,oe=U.disposal===void 0?0:U.disposal;if(oe<0||3<oe)throw new Error("Disposal out of range.");var ee=!1,le=0;if(U.transparent!==void 0&&U.transparent!==null&&(ee=!0,(le=U.transparent)<0||Q<=le))throw new Error("Transparent color index.");if(oe===0&&!ee&&J===0||(s[u++]=33,s[u++]=249,s[u++]=4,s[u++]=oe<<2|(ee===!0?1:0),s[u++]=255&J,s[u++]=J>>8&255,s[u++]=le,s[u++]=0),s[u++]=44,s[u++]=255&C,s[u++]=C>>8&255,s[u++]=255&E,s[u++]=E>>8&255,s[u++]=255&P,s[u++]=P>>8&255,s[u++]=255&D,s[u++]=D>>8&255,s[u++]=G===!0?128|te-1:0,G===!0)for(var de=0,se=W.length;de<se;++de){var O=W[de];s[u++]=O>>16&255,s[u++]=O>>8&255,s[u++]=255&O}return u=function(j,F,V,ae){j[F++]=V;var ue=F++,Ee=1<<V,Re=Ee-1,Ce=1+Ee,xe=1+Ce,Ze=V+1,we=0,Ae=0;function Ue(ze){for(;ze<=we;)j[F++]=255&Ae,Ae>>=8,we-=8,F===ue+256&&(j[ue]=255,ue=F++)}function qe(ze){Ae|=ze<<we,we+=Ze,Ue(8)}var Ge=ae[0]&Re,it={};qe(Ee);for(var ie=1,Be=ae.length;ie<Be;++ie){var Pe=ae[ie]&Re,We=Ge<<8|Pe,Je=it[We];if(Je===void 0){for(Ae|=Ge<<we,we+=Ze;8<=we;)j[F++]=255&Ae,Ae>>=8,we-=8,F===ue+256&&(j[ue]=255,ue=F++);xe===4096?(qe(Ee),xe=1+Ce,Ze=V+1,it={}):(1<<Ze<=xe&&++Ze,it[We]=xe++),Ge=Pe}else Ge=Je}return qe(Ge),qe(Ce),Ue(1),ue+1===F?j[ue]=0:(j[ue]=F-ue-1,j[F++]=0),F}(s,u,te<2?2:te,I)},this.end=function(){return M===!1&&(s[u++]=59,M=!0),u},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(C){s=C},this.getOutputBufferPosition=function(){return u},this.setOutputBufferPosition=function(C){u=C}}function a(s,d,f,y){for(var u=s[d++],l=1<<u,i=1+l,m=1+i,g=u+1,v=(1<<g)-1,b=0,w=0,S=0,x=s[d++],M=new Int32Array(4096),C=null;;){for(;b<16&&x!==0;)w|=s[d++]<<b,b+=8,x===1?x=s[d++]:--x;if(b<g)break;var E=w&v;if(w>>=g,b-=g,E==l)m=1+i,v=(1<<(g=u+1))-1,C=null;else{if(E==i)break;for(var P=E<m?E:C,D=0,I=P;l<I;)I=M[I]>>8,++D;var U=I;if(y<S+D+(P!==E?1:0))return void console.log("Warning, gif stream longer than expected.");f[S++]=U;var G=S+=D;for(P!==E&&(f[S++]=U),I=P;D--;)I=M[I],f[--G]=255&I,I>>=8;C!==null&&m<4096&&(M[m++]=C<<8|U,v+1<=m&&g<12&&(++g,v=v<<1|1)),C=E}}S!==y&&console.log("Warning, gif stream shorter than expected.")}try{p.GifWriter=c,p.GifReader=function(s){var d=0;if(s[d++]!==71||s[d++]!==73||s[d++]!==70||s[d++]!==56||(s[d++]+1&253)!=56||s[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var f=s[d++]|s[d++]<<8,y=s[d++]|s[d++]<<8,u=s[d++],l=1<<1+(7&u),i=(s[d++],s[d++],null),m=null,g=(u>>7&&(i=d,d+=3*(m=l)),!0),v=[],b=0,w=null,S=0,x=null;for(this.width=f,this.height=y;g&&d<s.length;)switch(s[d++]){case 33:switch(s[d++]){case 255:if(s[d]!==11||s[d+1]==78&&s[d+2]==69&&s[d+3]==84&&s[d+4]==83&&s[d+5]==67&&s[d+6]==65&&s[d+7]==80&&s[d+8]==69&&s[d+9]==50&&s[d+10]==46&&s[d+11]==48&&s[d+12]==3&&s[d+13]==1&&s[d+16]==0)d+=14,x=s[d++]|s[d++]<<8,d++;else for(d+=12;;){if(!(0<=(C=s[d++])))throw Error("Invalid block size");if(C===0)break;d+=C}break;case 249:if(s[d++]!==4||s[d+4]!==0)throw new Error("Invalid graphics extension block.");var M=s[d++],b=s[d++]|s[d++]<<8,w=s[d++];(1&M)==0&&(w=null),S=M>>2&7,d++;break;case 254:for(;;){if(!(0<=(C=s[d++])))throw Error("Invalid block size");if(C===0)break;d+=C}break;default:throw new Error("Unknown graphic control label: 0x"+s[d-1].toString(16))}break;case 44:var C,E=s[d++]|s[d++]<<8,P=s[d++]|s[d++]<<8,D=s[d++]|s[d++]<<8,I=s[d++]|s[d++]<<8,J=s[d++],U=J>>6&1,G=1<<1+(7&J),W=i,te=m,Q=!1,J=(J>>7&&(Q=!0,W=d,d+=3*(te=G)),d);for(d++;;){if(!(0<=(C=s[d++])))throw Error("Invalid block size");if(C===0)break;d+=C}v.push({x:E,y:P,width:D,height:I,has_local_palette:Q,palette_offset:W,palette_size:te,data_offset:J,data_length:d-J,transparent_index:w,interlaced:!!U,delay:b,disposal:S});break;case 59:g=!1;break;default:throw new Error("Unknown gif block: 0x"+s[d-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return x},this.frameInfo=function(oe){if(oe<0||oe>=v.length)throw new Error("Frame index out of range.");return v[oe]},this.decodeAndBlitFrameBGRA=function(oe,ee){for(var oe=this.frameInfo(oe),le=oe.width*oe.height,de=new Uint8Array(le),se=(a(s,oe.data_offset,de,le),oe.palette_offset),O=oe.transparent_index,j=(O===null&&(O=256),oe.width),F=f-j,V=j,ae=4*(oe.y*f+oe.x),ue=4*((oe.y+oe.height)*f+oe.x),Ee=ae,Re=4*F,Ce=(oe.interlaced===!0&&(Re+=4*f*7),8),xe=0,Ze=de.length;xe<Ze;++xe){var we,Ae,Ue=de[xe];V===0&&(V=j,ue<=(Ee+=Re)&&(Re=4*F+4*f*(Ce-1),Ee=ae+(j+F)*(Ce<<1),Ce>>=1)),Ue===O?Ee+=4:(we=s[se+3*Ue],Ae=s[se+3*Ue+1],Ue=s[se+3*Ue+2],ee[Ee++]=Ue,ee[Ee++]=Ae,ee[Ee++]=we,ee[Ee++]=255),--V}},this.decodeAndBlitFrameRGBA=function(oe,ee){for(var oe=this.frameInfo(oe),le=oe.width*oe.height,de=new Uint8Array(le),se=(a(s,oe.data_offset,de,le),oe.palette_offset),O=oe.transparent_index,j=(O===null&&(O=256),oe.width),F=f-j,V=j,ae=4*(oe.y*f+oe.x),ue=4*((oe.y+oe.height)*f+oe.x),Ee=ae,Re=4*F,Ce=(oe.interlaced===!0&&(Re+=4*f*7),8),xe=0,Ze=de.length;xe<Ze;++xe){var we,Ae,Ue=de[xe];V===0&&(V=j,ue<=(Ee+=Re)&&(Re=4*F+4*f*(Ce-1),Ee=ae+(j+F)*(Ce<<1),Ce>>=1)),Ue===O?Ee+=4:(we=s[se+3*Ue],Ae=s[se+3*Ue+1],Ue=s[se+3*Ue+2],ee[Ee++]=we,ee[Ee++]=Ae,ee[Ee++]=Ue,ee[Ee++]=255),--V}}}}catch{}},{}],241:[function(t,h,p){(function(c){var a,s;a=this,s=function(d){function f(N){if(this==null)throw TypeError();var T,A=String(this),R=A.length,N=N?Number(N):0;if(!((N=N!=N?0:N)<0||R<=N))return 55296<=(T=A.charCodeAt(N))&&T<=56319&&N+1<R&&56320<=(R=A.charCodeAt(N+1))&&R<=57343?1024*(T-55296)+R-56320+65536:T}String.prototype.codePointAt||((y=function(){try{var _={},T=Object.defineProperty,A=T(_,_,_)&&T}catch{}return A}())?y(String.prototype,"codePointAt",{value:f,configurable:!0,writable:!0}):String.prototype.codePointAt=f);var y,u=0,l=-3;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function m(_,T){this.source=_,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=T,this.destLen=0,this.ltree=new i,this.dtree=new i}var g=new i,v=new i,b=new Uint8Array(30),w=new Uint16Array(30),S=new Uint8Array(30),x=new Uint16Array(30),M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),C=new i,E=new Uint8Array(320);function P(_,T,A,R){for(var N,q=0;q<A;++q)_[q]=0;for(q=0;q<30-A;++q)_[q+A]=q/A|0;for(N=R,q=0;q<30;++q)T[q]=N,N+=1<<_[q]}var D=new Uint16Array(16);function I(_,T,A,R){for(var N,q=0;q<16;++q)_.table[q]=0;for(q=0;q<R;++q)_.table[T[A+q]]++;for(q=N=_.table[0]=0;q<16;++q)D[q]=N,N+=_.table[q];for(q=0;q<R;++q)T[A+q]&&(_.trans[D[T[A+q]]++]=q)}function U(_,T,A){if(!T)return A;for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;var R=_.tag&65535>>>16-T;return _.tag>>>=T,_.bitcount-=T,R+A}function G(_,T){for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;for(var A=0,R=0,N=0,q=_.tag;R=2*R+(1&q),q>>>=1,A+=T.table[++N],0<=(R-=T.table[N]););return _.tag=q,_.bitcount-=N,T.trans[A+R]}function W(_,T,A){for(;;){var R=G(_,T);if(R===256)return u;if(R<256)_.dest[_.destLen++]=R;else for(var N,q=U(_,b[R-=257],w[R]),R=G(_,A),Z=N=_.destLen-U(_,S[R],x[R]);Z<N+q;++Z)_.dest[_.destLen++]=_.dest[Z]}}for(var te=g,Q=v,J=0;J<7;++J)te.table[J]=0;for(te.table[7]=24,te.table[8]=152,te.table[9]=112,J=0;J<24;++J)te.trans[J]=256+J;for(J=0;J<144;++J)te.trans[24+J]=J;for(J=0;J<8;++J)te.trans[168+J]=280+J;for(J=0;J<112;++J)te.trans[176+J]=144+J;for(J=0;J<5;++J)Q.table[J]=0;for(Q.table[5]=32,J=0;J<32;++J)Q.trans[J]=J;P(b,w,4,3),P(S,x,2,1),b[28]=0,w[28]=258;var oe=function(_,T){var A,R,N,q=new m(_,T);do{switch(N=void 0,(R=q).bitcount--||(R.tag=R.source[R.sourceIndex++],R.bitcount=7),N=1&R.tag,R.tag>>>=1,R=N,U(q,2,0)){case 0:A=function(ft){for(var Zt,sr;8<ft.bitcount;)ft.sourceIndex--,ft.bitcount-=8;if((Zt=256*ft.source[ft.sourceIndex+1]+ft.source[ft.sourceIndex])!==(65535&~(256*ft.source[ft.sourceIndex+3]+ft.source[ft.sourceIndex+2])))return l;for(ft.sourceIndex+=4,sr=Zt;sr;--sr)ft.dest[ft.destLen++]=ft.source[ft.sourceIndex++];return ft.bitcount=0,u}(q);break;case 1:A=W(q,g,v);break;case 2:St=gt=jt=ht=Z=He=ot=ut=Ke=De=Ne=Se=void 0;for(var Z,Se=q,Ne=q.ltree,De=q.dtree,Ke=U(Se,5,257),ut=U(Se,5,1),ot=U(Se,4,4),He=0;He<19;++He)E[He]=0;for(He=0;He<ot;++He){var jt=U(Se,3,0);E[M[He]]=jt}for(I(C,E,0,19),Z=0;Z<Ke+ut;){var gt=G(Se,C);switch(gt){case 16:for(var St=E[Z-1],ht=U(Se,2,3);ht;--ht)E[Z++]=St;break;case 17:for(ht=U(Se,3,3);ht;--ht)E[Z++]=0;break;case 18:for(ht=U(Se,7,11);ht;--ht)E[Z++]=0;break;default:E[Z++]=gt}}I(Ne,E,0,Ke),I(De,E,Ke,ut),A=W(q,q.ltree,q.dtree);break;default:A=l}if(A!==u)throw new Error("Data error")}while(!R);return q.destLen<q.dest.length?typeof q.dest.slice=="function"?q.dest.slice(0,q.destLen):q.dest.subarray(0,q.destLen):q.dest};function ee(_,T,A,R,N){return Math.pow(1-N,3)*_+3*Math.pow(1-N,2)*N*T+3*(1-N)*Math.pow(N,2)*A+Math.pow(N,3)*R}function le(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function de(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function se(_){throw new Error(_)}function O(_,T){_||se(T)}le.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},le.prototype.addPoint=function(_,T){typeof _=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=_,this.x2=_),_<this.x1&&(this.x1=_),_>this.x2&&(this.x2=_)),typeof T=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=T,this.y2=T),T<this.y1&&(this.y1=T),T>this.y2&&(this.y2=T))},le.prototype.addX=function(_){this.addPoint(_,null)},le.prototype.addY=function(_){this.addPoint(null,_)},le.prototype.addBezier=function(_,T,A,R,N,q,Z,Se){var Ne=[_,T],De=[A,R],Ke=[N,q],ut=[Z,Se];this.addPoint(_,T),this.addPoint(Z,Se);for(var ot=0;ot<=1;ot++){var He,jt=6*Ne[ot]-12*De[ot]+6*Ke[ot],gt=-3*Ne[ot]+9*De[ot]-9*Ke[ot]+3*ut[ot],St=3*De[ot]-3*Ne[ot];gt==0?jt==0||0<(He=-St/jt)&&He<1&&(ot===0&&this.addX(ee(Ne[ot],De[ot],Ke[ot],ut[ot],He)),ot===1&&this.addY(ee(Ne[ot],De[ot],Ke[ot],ut[ot],He))):(He=Math.pow(jt,2)-4*St*gt)<0||(0<(St=(-jt+Math.sqrt(He))/(2*gt))&&St<1&&(ot===0&&this.addX(ee(Ne[ot],De[ot],Ke[ot],ut[ot],St)),ot===1&&this.addY(ee(Ne[ot],De[ot],Ke[ot],ut[ot],St))),0<(St=(-jt-Math.sqrt(He))/(2*gt))&&St<1&&(ot===0&&this.addX(ee(Ne[ot],De[ot],Ke[ot],ut[ot],St)),ot===1&&this.addY(ee(Ne[ot],De[ot],Ke[ot],ut[ot],St))))}},le.prototype.addQuad=function(_,T,A,R,N,q){A=_+2/3*(A-_),R=T+2/3*(R-T),this.addBezier(_,T,A,R,A+1/3*(N-_),R+1/3*(q-T),N,q)},de.prototype.moveTo=function(_,T){this.commands.push({type:"M",x:_,y:T})},de.prototype.lineTo=function(_,T){this.commands.push({type:"L",x:_,y:T})},de.prototype.curveTo=de.prototype.bezierCurveTo=function(_,T,A,R,N,q){this.commands.push({type:"C",x1:_,y1:T,x2:A,y2:R,x:N,y:q})},de.prototype.quadTo=de.prototype.quadraticCurveTo=function(_,T,A,R){this.commands.push({type:"Q",x1:_,y1:T,x:A,y:R})},de.prototype.close=de.prototype.closePath=function(){this.commands.push({type:"Z"})},de.prototype.extend=function(_){var T;if(_.commands)_=_.commands;else if(_ instanceof le)return T=_,this.moveTo(T.x1,T.y1),this.lineTo(T.x2,T.y1),this.lineTo(T.x2,T.y2),this.lineTo(T.x1,T.y2),void this.close();Array.prototype.push.apply(this.commands,_)},de.prototype.getBoundingBox=function(){for(var _=new le,T=0,A=0,R=0,N=0,q=0;q<this.commands.length;q++){var Z=this.commands[q];switch(Z.type){case"M":_.addPoint(Z.x,Z.y),T=R=Z.x,A=N=Z.y;break;case"L":_.addPoint(Z.x,Z.y),R=Z.x,N=Z.y;break;case"Q":_.addQuad(R,N,Z.x1,Z.y1,Z.x,Z.y),R=Z.x,N=Z.y;break;case"C":_.addBezier(R,N,Z.x1,Z.y1,Z.x2,Z.y2,Z.x,Z.y),R=Z.x,N=Z.y;break;case"Z":R=T,N=A;break;default:throw new Error("Unexpected path command "+Z.type)}}return _.isEmpty()&&_.addPoint(0,0),_},de.prototype.draw=function(_){_.beginPath();for(var T=0;T<this.commands.length;T+=1){var A=this.commands[T];A.type==="M"?_.moveTo(A.x,A.y):A.type==="L"?_.lineTo(A.x,A.y):A.type==="C"?_.bezierCurveTo(A.x1,A.y1,A.x2,A.y2,A.x,A.y):A.type==="Q"?_.quadraticCurveTo(A.x1,A.y1,A.x,A.y):A.type==="Z"&&_.closePath()}this.fill&&(_.fillStyle=this.fill,_.fill()),this.stroke&&(_.strokeStyle=this.stroke,_.lineWidth=this.strokeWidth,_.stroke())},de.prototype.toPathData=function(_){function T(){for(var q=arguments,Z="",Se=0;Se<arguments.length;Se+=1){var Ne=q[Se];0<=Ne&&0<Se&&(Z+=" "),Z+=(Ne=Ne,Math.round(Ne)===Ne?""+Math.round(Ne):Ne.toFixed(_))}return Z}_=_!==void 0?_:2;for(var A="",R=0;R<this.commands.length;R+=1){var N=this.commands[R];N.type==="M"?A+="M"+T(N.x,N.y):N.type==="L"?A+="L"+T(N.x,N.y):N.type==="C"?A+="C"+T(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?A+="Q"+T(N.x1,N.y1,N.x,N.y):N.type==="Z"&&(A+="Z")}return A},de.prototype.toSVG=function(_){var T=(T='<path d="')+this.toPathData(_)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?T+=' fill="none"':T+=' fill="'+this.fill+'"'),this.stroke&&(T+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),T+="/>"},de.prototype.toDOMElement=function(T){var T=this.toPathData(T),A=document.createElementNS("http://www.w3.org/2000/svg","path");return A.setAttribute("d",T),A};var j={fail:se,argument:O,assert:O},F={},V={},ae={};function ue(_){return function(){return _}}V.BYTE=function(_){return j.argument(0<=_&&_<=255,"Byte value should be between 0 and 255."),[_]},ae.BYTE=ue(1),V.CHAR=function(_){return[_.charCodeAt(0)]},ae.CHAR=ue(1),V.CHARARRAY=function(_){for(var T=[],A=0;A<_.length;A+=1)T[A]=_.charCodeAt(A);return T},ae.CHARARRAY=function(_){return _.length},V.USHORT=function(_){return[_>>8&255,255&_]},ae.USHORT=ue(2),V.SHORT=function(_){return[(_=32768<=_?-(65536-_):_)>>8&255,255&_]},ae.SHORT=ue(2),V.UINT24=function(_){return[_>>16&255,_>>8&255,255&_]},ae.UINT24=ue(3),V.ULONG=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},ae.ULONG=ue(4),V.LONG=function(_){return[(_=2147483648<=_?-(4294967296-_):_)>>24&255,_>>16&255,_>>8&255,255&_]},ae.LONG=ue(4),V.FIXED=V.ULONG,ae.FIXED=ae.ULONG,V.FWORD=V.SHORT,ae.FWORD=ae.SHORT,V.UFWORD=V.USHORT,ae.UFWORD=ae.USHORT,V.LONGDATETIME=function(_){return[0,0,0,0,_>>24&255,_>>16&255,_>>8&255,255&_]},ae.LONGDATETIME=ue(8),V.TAG=function(_){return j.argument(_.length===4,"Tag should be exactly 4 ASCII characters."),[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)]},ae.TAG=ue(4),V.Card8=V.BYTE,ae.Card8=ae.BYTE,V.Card16=V.USHORT,ae.Card16=ae.USHORT,V.OffSize=V.BYTE,ae.OffSize=ae.BYTE,V.SID=V.USHORT,ae.SID=ae.USHORT,V.NUMBER=function(_){return-107<=_&&_<=107?[_+139]:108<=_&&_<=1131?[247+((_-=108)>>8),255&_]:-1131<=_&&_<=-108?[251+((_=-_-108)>>8),255&_]:-32768<=_&&_<=32767?V.NUMBER16(_):V.NUMBER32(_)},ae.NUMBER=function(_){return V.NUMBER(_).length},V.NUMBER16=function(_){return[28,_>>8&255,255&_]},ae.NUMBER16=ue(3),V.NUMBER32=function(_){return[29,_>>24&255,_>>16&255,_>>8&255,255&_]},ae.NUMBER32=ue(5),V.REAL=function(_){for(var T=_.toString(),A=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(T),R=(A&&(A=parseFloat("1e"+((A[2]?+A[2]:0)+A[1].length)),T=(Math.round(_*A)/A).toString()),""),N=0,q=T.length;N<q;N+=1){var Z=T[N];R+=Z==="e"?T[++N]==="-"?"c":"b":Z==="."?"a":Z==="-"?"e":Z}for(var Se=[30],Ne=0,De=(R+=1&R.length?"f":"ff").length;Ne<De;Ne+=2)Se.push(parseInt(R.substr(Ne,2),16));return Se},ae.REAL=function(_){return V.REAL(_).length},V.NAME=V.CHARARRAY,ae.NAME=ae.CHARARRAY,V.STRING=V.CHARARRAY,ae.STRING=ae.CHARARRAY,F.UTF8=function(_,T,A){for(var R=[],N=A,q=0;q<N;q++,T+=1)R[q]=_.getUint8(T);return String.fromCharCode.apply(null,R)},F.UTF16=function(_,T,A){for(var R=[],N=A/2,q=0;q<N;q++,T+=2)R[q]=_.getUint16(T);return String.fromCharCode.apply(null,R)},V.UTF16=function(_){for(var T=[],A=0;A<_.length;A+=1){var R=_.charCodeAt(A);T[T.length]=R>>8&255,T[T.length]=255&R}return T},ae.UTF16=function(_){return 2*_.length};var Ee,Re={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},Ce=(F.MACSTRING=function(_,T,A,R){var N=Re[R];if(N!==void 0){for(var q="",Z=0;Z<A;Z++){var Se=_.getUint8(T+Z);q+=Se<=127?String.fromCharCode(Se):N[127&Se]}return q}},typeof WeakMap=="function"&&new WeakMap);function xe(_){return-128<=_&&_<=127}V.MACSTRING=function(_,T){var A=function(Z){if(!Ee)for(var Se in Ee={},Re)Ee[Se]=new String(Se);var Ne=Ee[Z];if(Ne!==void 0){if(Ce){var De=Ce.get(Ne);if(De!==void 0)return De}var Ke=Re[Z];if(Ke!==void 0){for(var ut={},ot=0;ot<Ke.length;ot++)ut[Ke.charCodeAt(ot)]=ot+128;return Ce&&Ce.set(Ne,ut),ut}}}(T);if(A!==void 0){for(var R=[],N=0;N<_.length;N++){var q=_.charCodeAt(N);if(128<=q&&(q=A[q])===void 0)return;R[N]=q}return R}},ae.MACSTRING=function(_,T){return _=V.MACSTRING(_,T),_!==void 0?_.length:0},V.VARDELTAS=function(_){for(var R=0,T=[];R<_.length;)var A=_[R],R=(A===0?function(N,q,Z){for(var Se=0,Ne=N.length;q<Ne&&Se<64&&N[q]===0;)++q,++Se;return Z.push(128|Se-1),q}:-128<=A&&A<=127?function(N,q,Z){for(var Se=0,Ne=N.length,De=q;De<Ne&&Se<64;){var Ke=N[De];if(!xe(Ke)||Ke===0&&De+1<Ne&&N[De+1]===0)break;++De,++Se}Z.push(Se-1);for(var ut=q;ut<De;++ut)Z.push(N[ut]+256&255);return De}:function(N,q,Z){for(var Se=0,Ne=N.length,De=q;De<Ne&&Se<64;){var Ke=N[De];if(Ke===0||xe(Ke)&&De+1<Ne&&xe(N[De+1]))break;++De,++Se}Z.push(64|Se-1);for(var ut=q;ut<De;++ut){var ot=N[ut];Z.push(ot+65536>>8&255,ot+256&255)}return De})(_,R,T);return T},V.INDEX=function(_){for(var T=1,A=[T],R=[],N=0;N<_.length;N+=1){var q=V.OBJECT(_[N]);Array.prototype.push.apply(R,q),T+=q.length,A.push(T)}if(R.length===0)return[0,0];for(var Z=[],Se=1+Math.floor(Math.log(T)/Math.log(2))/8|0,Ne=[void 0,V.BYTE,V.USHORT,V.UINT24,V.ULONG][Se],De=0;De<A.length;De+=1){var Ke=Ne(A[De]);Array.prototype.push.apply(Z,Ke)}return Array.prototype.concat(V.Card16(_.length),V.OffSize(Se),Z,R)},ae.INDEX=function(_){return V.INDEX(_).length},V.DICT=function(_){for(var T=[],A=Object.keys(_),R=A.length,N=0;N<R;N+=1){var q=parseInt(A[N],0),Z=_[q];T=(T=T.concat(V.OPERAND(Z.value,Z.type))).concat(V.OPERATOR(q))}return T},ae.DICT=function(_){return V.DICT(_).length},V.OPERATOR=function(_){return _<1200?[_]:[12,_-1200]},V.OPERAND=function(_,T){var A=[];if(Array.isArray(T))for(var R=0;R<T.length;R+=1)j.argument(_.length===T.length,"Not enough arguments given for type"+T),A=A.concat(V.OPERAND(_[R],T[R]));else if(T==="SID")A=A.concat(V.NUMBER(_));else if(T==="offset")A=A.concat(V.NUMBER32(_));else if(T==="number")A=A.concat(V.NUMBER(_));else{if(T!=="real")throw new Error("Unknown operand type "+T);A=A.concat(V.REAL(_))}return A},V.OP=V.BYTE,ae.OP=ae.BYTE;var Ze=typeof WeakMap=="function"&&new WeakMap;function we(_,T,A){for(var R=0;R<T.length;R+=1){var N=T[R];this[N.name]=N.value}if(this.tableName=_,this.fields=T,A)for(var q=Object.keys(A),Z=0;Z<q.length;Z+=1){var Se=q[Z],Ne=A[Se];this[Se]!==void 0&&(this[Se]=Ne)}}function Ae(_,T,A){A===void 0&&(A=T.length);var R=new Array(T.length+1);R[0]={name:_+"Count",type:"USHORT",value:A};for(var N=0;N<T.length;N++)R[N+1]={name:_+N,type:"USHORT",value:T[N]};return R}function Ue(_,T,A){var R=T.length,N=new Array(R+1);N[0]={name:_+"Count",type:"USHORT",value:R};for(var q=0;q<R;q++)N[q+1]={name:_+q,type:"TABLE",value:A(T[q],q)};return N}function qe(_,T,A){var R=T.length,N=[];N[0]={name:_+"Count",type:"USHORT",value:R};for(var q=0;q<R;q++)N=N.concat(A(T[q],q));return N}function Ge(_){_.format===1?we.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ae("glyph",_.glyphs))):j.assert(!1,"Can't create coverage table format 2 yet.")}function it(_){we.call(this,"scriptListTable",qe("scriptRecord",_,function(T,A){var R=T.script,N=R.defaultLangSys;return j.assert(!!N,"Unable to write GSUB: script "+T.tag+" has no default language system."),[{name:"scriptTag"+A,type:"TAG",value:T.tag},{name:"script"+A,type:"TABLE",value:new we("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new we("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:N.reqFeatureIndex}].concat(Ae("featureIndex",N.featureIndexes)))}].concat(qe("langSys",R.langSysRecords,function(q,Z){var Se=q.langSys;return[{name:"langSysTag"+Z,type:"TAG",value:q.tag},{name:"langSys"+Z,type:"TABLE",value:new we("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:Se.reqFeatureIndex}].concat(Ae("featureIndex",Se.featureIndexes)))}]})))}]}))}function ie(_){we.call(this,"featureListTable",qe("featureRecord",_,function(T,A){var R=T.feature;return[{name:"featureTag"+A,type:"TAG",value:T.tag},{name:"feature"+A,type:"TABLE",value:new we("featureTable",[{name:"featureParams",type:"USHORT",value:R.featureParams}].concat(Ae("lookupListIndex",R.lookupListIndexes)))}]}))}function Be(_,T){we.call(this,"lookupListTable",Ue("lookup",_,function(A){var R=T[A.lookupType];return j.assert(!!R,"Unable to write GSUB lookup type "+A.lookupType+" tables."),new we("lookupTable",[{name:"lookupType",type:"USHORT",value:A.lookupType},{name:"lookupFlag",type:"USHORT",value:A.lookupFlag}].concat(Ue("subtable",A.subtables,R)))}))}V.CHARSTRING=function(_){if(Ze){var T=Ze.get(_);if(T!==void 0)return T}for(var q=[],A=_.length,R=0;R<A;R+=1)var N=_[R],q=q.concat(V[N.type](N.value));return Ze&&Ze.set(_,q),q},ae.CHARSTRING=function(_){return V.CHARSTRING(_).length},V.OBJECT=function(_){var T=V[_.type];return j.argument(T!==void 0,"No encoding function for type "+_.type),T(_.value)},ae.OBJECT=function(_){var T=ae[_.type];return j.argument(T!==void 0,"No sizeOf function for type "+_.type),T(_.value)},V.TABLE=function(_){for(var T=[],A=_.fields.length,R=[],N=[],q=0;q<A;q+=1){var Z=_.fields[q],Ne=V[Z.type],Se=(j.argument(Ne!==void 0,"No encoding function for field type "+Z.type+" ("+Z.name+")"),_[Z.name]),Ne=Ne(Se=Se===void 0?Z.value:Se);Z.type==="TABLE"?(N.push(T.length),T=T.concat([0,0]),R.push(Ne)):T=T.concat(Ne)}for(var De=0;De<R.length;De+=1){var Ke=N[De],ut=T.length;j.argument(ut<65536,"Table "+_.tableName+" too big."),T[Ke]=ut>>8,T[Ke+1]=255&ut,T=T.concat(R[De])}return T},ae.TABLE=function(_){for(var T=0,A=_.fields.length,R=0;R<A;R+=1){var N=_.fields[R],q=ae[N.type],Z=(j.argument(q!==void 0,"No sizeOf function for field type "+N.type+" ("+N.name+")"),_[N.name]);T+=q(Z=Z===void 0?N.value:Z),N.type==="TABLE"&&(T+=2)}return T},V.RECORD=V.TABLE,ae.RECORD=ae.TABLE,V.LITERAL=function(_){return _},ae.LITERAL=function(_){return _.length},we.prototype.encode=function(){return V.TABLE(this)},we.prototype.sizeOf=function(){return ae.TABLE(this)};var Pe={Table:we,Record:we,Coverage:(Ge.prototype=Object.create(we.prototype)).constructor=Ge,ScriptList:(it.prototype=Object.create(we.prototype)).constructor=it,FeatureList:(ie.prototype=Object.create(we.prototype)).constructor=ie,LookupList:(Be.prototype=Object.create(we.prototype)).constructor=Be,ushortList:Ae,tableList:Ue,recordList:qe};function We(_,T){return _.getUint8(T)}function Je(_,T){return _.getUint16(T,!1)}function ze(_,T){return _.getUint32(T,!1)}function tt(_,T){return _.getInt16(T,!1)+_.getUint16(T+2,!1)/65535}var ct={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Fe(_,T){this.data=_,this.offset=T,this.relativeOffset=0}Fe.prototype.parseByte=function(){var _=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},Fe.prototype.parseChar=function(){var _=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},Fe.prototype.parseCard8=Fe.prototype.parseByte,Fe.prototype.parseCard16=Fe.prototype.parseUShort=function(){var _=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},Fe.prototype.parseSID=Fe.prototype.parseUShort,Fe.prototype.parseOffset16=Fe.prototype.parseUShort,Fe.prototype.parseShort=function(){var _=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},Fe.prototype.parseF2Dot14=function(){var _=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,_},Fe.prototype.parseOffset32=Fe.prototype.parseULong=function(){var _=ze(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},Fe.prototype.parseFixed=function(){var _=tt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},Fe.prototype.parseString=function(_){var T=this.data,A=this.offset+this.relativeOffset,R="";this.relativeOffset+=_;for(var N=0;N<_;N++)R+=String.fromCharCode(T.getUint8(A+N));return R},Fe.prototype.parseTag=function(){return this.parseString(4)},Fe.prototype.parseLongDateTime=function(){var _=ze(this.data,this.offset+this.relativeOffset+4);return _-=2082844800,this.relativeOffset+=8,_},Fe.prototype.parseVersion=function(_){var T=Je(this.data,this.offset+this.relativeOffset),A=Je(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,T+A/(_=_===void 0?4096:_)/10},Fe.prototype.skip=function(_,T){this.relativeOffset+=ct[_]*(T=T===void 0?1:T)},Fe.prototype.parseULongList=function(_){_===void 0&&(_=this.parseULong());for(var T=new Array(_),A=this.data,R=this.offset+this.relativeOffset,N=0;N<_;N++)T[N]=A.getUint32(R),R+=4;return this.relativeOffset+=4*_,T},Fe.prototype.parseOffset16List=Fe.prototype.parseUShortList=function(_){_===void 0&&(_=this.parseUShort());for(var T=new Array(_),A=this.data,R=this.offset+this.relativeOffset,N=0;N<_;N++)T[N]=A.getUint16(R),R+=2;return this.relativeOffset+=2*_,T},Fe.prototype.parseShortList=function(_){for(var T=new Array(_),A=this.data,R=this.offset+this.relativeOffset,N=0;N<_;N++)T[N]=A.getInt16(R),R+=2;return this.relativeOffset+=2*_,T},Fe.prototype.parseByteList=function(_){for(var T=new Array(_),A=this.data,R=this.offset+this.relativeOffset,N=0;N<_;N++)T[N]=A.getUint8(R++);return this.relativeOffset+=_,T},Fe.prototype.parseList=function(_,T){T||(T=_,_=this.parseUShort());for(var A=new Array(_),R=0;R<_;R++)A[R]=T.call(this);return A},Fe.prototype.parseList32=function(_,T){T||(T=_,_=this.parseULong());for(var A=new Array(_),R=0;R<_;R++)A[R]=T.call(this);return A},Fe.prototype.parseRecordList=function(_,T){T||(T=_,_=this.parseUShort());for(var A=new Array(_),R=Object.keys(T),N=0;N<_;N++){for(var q={},Z=0;Z<R.length;Z++){var Se=R[Z],Ne=T[Se];q[Se]=Ne.call(this)}A[N]=q}return A},Fe.prototype.parseRecordList32=function(_,T){T||(T=_,_=this.parseULong());for(var A=new Array(_),R=Object.keys(T),N=0;N<_;N++){for(var q={},Z=0;Z<R.length;Z++){var Se=R[Z],Ne=T[Se];q[Se]=Ne.call(this)}A[N]=q}return A},Fe.prototype.parseStruct=function(_){if(typeof _=="function")return _.call(this);for(var T=Object.keys(_),A={},R=0;R<T.length;R++){var N=T[R],q=_[N];A[N]=q.call(this)}return A},Fe.prototype.parseValueRecord=function(_){var T;if((_=_===void 0?this.parseUShort():_)!==0)return T={},1&_&&(T.xPlacement=this.parseShort()),2&_&&(T.yPlacement=this.parseShort()),4&_&&(T.xAdvance=this.parseShort()),8&_&&(T.yAdvance=this.parseShort()),16&_&&(T.xPlaDevice=void 0,this.parseShort()),32&_&&(T.yPlaDevice=void 0,this.parseShort()),64&_&&(T.xAdvDevice=void 0,this.parseShort()),128&_&&(T.yAdvDevice=void 0,this.parseShort()),T},Fe.prototype.parseValueRecordList=function(){for(var _=this.parseUShort(),T=this.parseUShort(),A=new Array(T),R=0;R<T;R++)A[R]=this.parseValueRecord(_);return A},Fe.prototype.parsePointer=function(_){var T=this.parseOffset16();if(0<T)return new Fe(this.data,this.offset+T).parseStruct(_)},Fe.prototype.parsePointer32=function(_){var T=this.parseOffset32();if(0<T)return new Fe(this.data,this.offset+T).parseStruct(_)},Fe.prototype.parseListOfLists=function(_){for(var T=this.parseOffset16List(),A=T.length,R=this.relativeOffset,N=new Array(A),q=0;q<A;q++){var Z=T[q];if(Z===0)N[q]=void 0;else if(this.relativeOffset=Z,_){for(var Se=this.parseOffset16List(),Ne=new Array(Se.length),De=0;De<Se.length;De++)this.relativeOffset=Z+Se[De],Ne[De]=_.call(this);N[q]=Ne}else N[q]=this.parseUShortList()}return this.relativeOffset=R,N},Fe.prototype.parseCoverage=function(){var _=this.offset+this.relativeOffset,T=this.parseUShort(),A=this.parseUShort();if(T===1)return{format:1,glyphs:this.parseUShortList(A)};if(T!==2)throw new Error("0x"+_.toString(16)+": Coverage format must be 1 or 2.");for(var R=new Array(A),N=0;N<A;N++)R[N]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:R}},Fe.prototype.parseClassDef=function(){var _=this.offset+this.relativeOffset,T=this.parseUShort();if(T===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(T===2)return{format:2,ranges:this.parseRecordList({start:Fe.uShort,end:Fe.uShort,classId:Fe.uShort})};throw new Error("0x"+_.toString(16)+": ClassDef format must be 1 or 2.")},Fe.list=function(_,T){return function(){return this.parseList(_,T)}},Fe.list32=function(_,T){return function(){return this.parseList32(_,T)}},Fe.recordList=function(_,T){return function(){return this.parseRecordList(_,T)}},Fe.recordList32=function(_,T){return function(){return this.parseRecordList32(_,T)}},Fe.pointer=function(_){return function(){return this.parsePointer(_)}},Fe.pointer32=function(_){return function(){return this.parsePointer32(_)}},Fe.tag=Fe.prototype.parseTag,Fe.byte=Fe.prototype.parseByte,Fe.uShort=Fe.offset16=Fe.prototype.parseUShort,Fe.uShortList=Fe.prototype.parseUShortList,Fe.uLong=Fe.offset32=Fe.prototype.parseULong,Fe.uLongList=Fe.prototype.parseULongList,Fe.struct=Fe.prototype.parseStruct,Fe.coverage=Fe.prototype.parseCoverage,Fe.classDef=Fe.prototype.parseClassDef;var Me={reserved:Fe.uShort,reqFeatureIndex:Fe.uShort,featureIndexes:Fe.uShortList},Te=(Fe.prototype.parseScriptList=function(){return this.parsePointer(Fe.recordList({tag:Fe.tag,script:Fe.pointer({defaultLangSys:Fe.pointer(Me),langSysRecords:Fe.recordList({tag:Fe.tag,langSys:Fe.pointer(Me)})})}))||[]},Fe.prototype.parseFeatureList=function(){return this.parsePointer(Fe.recordList({tag:Fe.tag,feature:Fe.pointer({featureParams:Fe.offset16,lookupListIndexes:Fe.uShortList})}))||[]},Fe.prototype.parseLookupList=function(_){return this.parsePointer(Fe.list(Fe.pointer(function(){var T=this.parseUShort(),A=(j.argument(1<=T&&T<=9,"GPOS/GSUB lookup type "+T+" unknown."),this.parseUShort()),R=16&A;return{lookupType:T,lookupFlag:A,subtables:this.parseList(Fe.pointer(_[T])),markFilteringSet:R?this.parseUShort():void 0}})))||[]},Fe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var _=this.parseUShort(),T=this.parseUShort();return j.argument(_===1&&T<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Fe.offset32,featureTableSubstitutionOffset:Fe.offset32})})||[]},{getByte:We,getCard8:We,getUShort:Je,getCard16:Je,getShort:function(_,T){return _.getInt16(T,!1)},getULong:ze,getFixed:tt,getTag:function(_,T){for(var A="",R=T;R<T+4;R+=1)A+=String.fromCharCode(_.getInt8(R));return A},getOffset:function(_,T,A){for(var R=0,N=0;N<A;N+=1)R=(R<<=8)+_.getUint8(T+N);return R},getBytes:function(_,T,A){for(var R=[],N=T;N<A;N+=1)R.push(_.getUint8(N));return R},bytesToString:function(_){for(var T="",A=0;A<_.length;A+=1)T+=String.fromCharCode(_[A]);return T},Parser:Fe}),B={parse:function(_,T){for(var A={},R=(A.version=Te.getUShort(_,T),j.argument(A.version===0,"cmap table version should be 0."),A.numTables=Te.getUShort(_,T+2),-1),N=A.numTables-1;0<=N;--N){var q=Te.getUShort(_,T+4+8*N),Z=Te.getUShort(_,T+4+8*N+2);if(q===3&&(Z===0||Z===1||Z===10)||q===0&&(Z===0||Z===1||Z===2||Z===3||Z===4)){R=Te.getULong(_,T+4+8*N+4);break}}if(R===-1)throw new Error("No valid cmap sub-tables found.");var Se=new Te.Parser(_,T+R);if(A.format=Se.parseUShort(),A.format===12){var Ne,De=A,Ke=Se;Ke.parseUShort(),De.length=Ke.parseULong(),De.language=Ke.parseULong(),De.groupCount=Ne=Ke.parseULong(),De.glyphIndexMap={};for(var ut=0;ut<Ne;ut+=1)for(var ot=Ke.parseULong(),He=Ke.parseULong(),jt=Ke.parseULong(),gt=ot;gt<=He;gt+=1)De.glyphIndexMap[gt]=jt,jt++}else{if(A.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+A.format+").");var St=A,ht=_,ft=T,Zt=R;St.length=Se.parseUShort(),St.language=Se.parseUShort(),St.segCount=sr=Se.parseUShort()>>1,Se.skip("uShort",3),St.glyphIndexMap={};for(var sr,Kt=new Te.Parser(ht,ft+Zt+14),Jt=new Te.Parser(ht,ft+Zt+16+2*sr),dr=new Te.Parser(ht,ft+Zt+16+4*sr),Rr=new Te.Parser(ht,ft+Zt+16+6*sr),Xr=ft+Zt+16+8*sr,dn=0;dn<sr-1;dn+=1)for(var On=void 0,Pn=Kt.parseUShort(),Co=Jt.parseUShort(),Mr=dr.parseShort(),Ir=Rr.parseUShort(),_r=Co;_r<=Pn;_r+=1)Ir!==0?(Xr=(Xr=Rr.offset+Rr.relativeOffset-2)+Ir+2*(_r-Co),(On=Te.getUShort(ht,Xr))!==0&&(On=On+Mr&65535)):On=_r+Mr&65535,St.glyphIndexMap[_r]=On}return A},make:function(_){for(var T=!0,A=_.length-1;0<A;--A)if(65535<_.get(A).unicode){console.log("Adding CMAP format 12 (needed!)"),T=!1;break}var R,N,q=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:T?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:T?12:20}],Z=(q=(q=T?q:q.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Pe.Table("cmap",q));for(Z.segments=[],A=0;A<_.length;A+=1){for(var Se=_.get(A),Ne=0;Ne<Se.unicodes.length;Ne+=1)R=Se.unicodes[Ne],N=A,Z.segments.push({end:R,start:R,delta:-(R-N),offset:0,glyphIndex:N});Z.segments=Z.segments.sort(function(ft,Zt){return ft.start-Zt.start})}Z.segments.push({end:65535,start:65535,delta:1,offset:0});var De=Z.segments.length,Ke=0,ut=[],ot=[],He=[],jt=[],gt=[],St=[];for(A=0;A<De;A+=1){var ht=Z.segments[A];ht.end<=65535&&ht.start<=65535?(ut=ut.concat({name:"end_"+A,type:"USHORT",value:ht.end}),ot=ot.concat({name:"start_"+A,type:"USHORT",value:ht.start}),He=He.concat({name:"idDelta_"+A,type:"SHORT",value:ht.delta}),jt=jt.concat({name:"idRangeOffset_"+A,type:"USHORT",value:ht.offset}),ht.glyphId!==void 0&&(gt=gt.concat({name:"glyph_"+A,type:"USHORT",value:ht.glyphId}))):Ke+=1,T||ht.glyphIndex===void 0||(St=(St=(St=St.concat({name:"cmap12Start_"+A,type:"ULONG",value:ht.start})).concat({name:"cmap12End_"+A,type:"ULONG",value:ht.end})).concat({name:"cmap12Glyph_"+A,type:"ULONG",value:ht.glyphIndex}))}return Z.segCountX2=2*(De-Ke),Z.searchRange=2*Math.pow(2,Math.floor(Math.log(De-Ke)/Math.log(2))),Z.entrySelector=Math.log(Z.searchRange/2)/Math.log(2),Z.rangeShift=Z.segCountX2-Z.searchRange,Z.fields=Z.fields.concat(ut),Z.fields.push({name:"reservedPad",type:"USHORT",value:0}),Z.fields=Z.fields.concat(ot),Z.fields=Z.fields.concat(He),Z.fields=Z.fields.concat(jt),Z.fields=Z.fields.concat(gt),Z.cmap4Length=14+2*ut.length+2+2*ot.length+2*He.length+2*jt.length+2*gt.length,T||(q=16+4*St.length,Z.cmap12Offset=20+Z.cmap4Length,Z.fields=Z.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:q},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:St.length/3}]),Z.fields=Z.fields.concat(St)),Z}},z=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],L=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],k=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ge=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ve(_){this.font=_}function _e(_){this.cmap=_}function H(_,T){this.encoding=_,this.charset=T}function ye(_){switch(_.version){case 1:this.names=ge.slice();break;case 2:this.names=new Array(_.numberOfGlyphs);for(var T=0;T<_.numberOfGlyphs;T++)_.glyphNameIndex[T]<ge.length?this.names[T]=ge[_.glyphNameIndex[T]]:this.names[T]=_.names[_.glyphNameIndex[T]-ge.length];break;case 2.5:this.names=new Array(_.numberOfGlyphs);for(var A=0;A<_.numberOfGlyphs;A++)this.names[A]=ge[A+_.glyphNameIndex[A]];break;default:this.names=[]}}ve.prototype.charToGlyphIndex=function(_){var T=_.codePointAt(0),A=this.font.glyphs;if(A){for(var R=0;R<A.length;R+=1)for(var N=A.get(R),q=0;q<N.unicodes.length;q+=1)if(N.unicodes[q]===T)return R}return null},_e.prototype.charToGlyphIndex=function(_){return this.cmap.glyphIndexMap[_.codePointAt(0)]||0},H.prototype.charToGlyphIndex=function(_){return _=_.codePointAt(0),_=this.encoding[_],this.charset.indexOf(_)},ye.prototype.nameToGlyphIndex=function(_){return this.names.indexOf(_)},ye.prototype.glyphIndexToName=function(_){return this.names[_]};var je={line:function(_,T,A,R,N){_.beginPath(),_.moveTo(T,A),_.lineTo(R,N),_.stroke()}};function pe(_){this.bindConstructorValues(_)}function Oe(_,T,A){Object.defineProperty(_,T,{get:function(){return _.path,_[A]},set:function(R){_[A]=R},enumerable:!0,configurable:!0})}function Y(_,T){if(this.font=_,this.glyphs={},Array.isArray(T))for(var A=0;A<T.length;A++)this.glyphs[A]=T[A];this.length=T&&T.length||0}pe.prototype.bindConstructorValues=function(_){var T;this.index=_.index||0,this.name=_.name||null,this.unicode=_.unicode||void 0,this.unicodes=_.unicodes||_.unicode!==void 0?[_.unicode]:[],_.xMin&&(this.xMin=_.xMin),_.yMin&&(this.yMin=_.yMin),_.xMax&&(this.xMax=_.xMax),_.yMax&&(this.yMax=_.yMax),_.advanceWidth&&(this.advanceWidth=_.advanceWidth),Object.defineProperty(this,"path",(_=_.path,T=_||new de,{configurable:!0,get:function(){return T=typeof T=="function"?T():T},set:function(A){T=A}}))},pe.prototype.addUnicode=function(_){this.unicodes.length===0&&(this.unicode=_),this.unicodes.push(_)},pe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},pe.prototype.getPath=function(_,T,A,R,N){_=_!==void 0?_:0,T=T!==void 0?T:0,A=A!==void 0?A:72;for(var q,Z,Se=(R=R||{}).xScale,Ne=R.yScale,De=((q=R.hinting&&N&&N.hinting?this.path&&N.hinting.exec(this,A):q)?(Z=N.hinting.getCommands(q),_=Math.round(_),T=Math.round(T),Se=Ne=1):(Z=this.path.commands,R=1/this.path.unitsPerEm*A,Se===void 0&&(Se=R),Ne===void 0&&(Ne=R)),new de),Ke=0;Ke<Z.length;Ke+=1){var ut=Z[Ke];ut.type==="M"?De.moveTo(_+ut.x*Se,T+-ut.y*Ne):ut.type==="L"?De.lineTo(_+ut.x*Se,T+-ut.y*Ne):ut.type==="Q"?De.quadraticCurveTo(_+ut.x1*Se,T+-ut.y1*Ne,_+ut.x*Se,T+-ut.y*Ne):ut.type==="C"?De.curveTo(_+ut.x1*Se,T+-ut.y1*Ne,_+ut.x2*Se,T+-ut.y2*Ne,_+ut.x*Se,T+-ut.y*Ne):ut.type==="Z"&&De.closePath()}return De},pe.prototype.getContours=function(){if(this.points===void 0)return[];for(var _=[],T=[],A=0;A<this.points.length;A+=1){var R=this.points[A];T.push(R),R.lastPointOfContour&&(_.push(T),T=[])}return j.argument(T.length===0,"There are still points left in the current contour."),_},pe.prototype.getMetrics=function(){for(var _=this.path.commands,T=[],A=[],R=0;R<_.length;R+=1){var N=_[R];N.type!=="Z"&&(T.push(N.x),A.push(N.y)),N.type!=="Q"&&N.type!=="C"||(T.push(N.x1),A.push(N.y1)),N.type==="C"&&(T.push(N.x2),A.push(N.y2))}var q={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,T),yMax:Math.max.apply(null,A),leftSideBearing:this.leftSideBearing};return isFinite(q.xMin)||(q.xMin=0),isFinite(q.xMax)||(q.xMax=this.advanceWidth),isFinite(q.yMin)||(q.yMin=0),isFinite(q.yMax)||(q.yMax=0),q.rightSideBearing=this.advanceWidth-q.leftSideBearing-(q.xMax-q.xMin),q},pe.prototype.draw=function(_,T,A,R,N){this.getPath(T,A,R,N).draw(_)},pe.prototype.drawPoints=function(_,T,A,R){function N(Ke,ut,ot,He){var jt=2*Math.PI;_.beginPath();for(var gt=0;gt<Ke.length;gt+=1)_.moveTo(ut+Ke[gt].x*He,ot+Ke[gt].y*He),_.arc(ut+Ke[gt].x*He,ot+Ke[gt].y*He,2,0,jt,!1);_.closePath(),_.fill()}T=T!==void 0?T:0,A=A!==void 0?A:0;for(var R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),q=[],Z=[],Se=this.path,Ne=0;Ne<Se.commands.length;Ne+=1){var De=Se.commands[Ne];De.x!==void 0&&q.push({x:De.x,y:-De.y}),De.x1!==void 0&&Z.push({x:De.x1,y:-De.y1}),De.x2!==void 0&&Z.push({x:De.x2,y:-De.y2})}_.fillStyle="blue",N(q,T,A,R),_.fillStyle="red",N(Z,T,A,R)},pe.prototype.drawMetrics=function(_,T,A,R){T=T!==void 0?T:0,A=A!==void 0?A:0,R=1/this.path.unitsPerEm*(R=R!==void 0?R:24),_.lineWidth=1,_.strokeStyle="black",je.line(_,T,-1e4,T,1e4),je.line(_,-1e4,A,1e4,A);var N=this.xMin||0,q=this.yMin||0,Z=this.xMax||0,Se=this.yMax||0,Ne=this.advanceWidth||0;_.strokeStyle="blue",je.line(_,T+N*R,-1e4,T+N*R,1e4),je.line(_,T+Z*R,-1e4,T+Z*R,1e4),je.line(_,-1e4,A+-q*R,1e4,A+-q*R),je.line(_,-1e4,A+-Se*R,1e4,A+-Se*R),_.strokeStyle="green",je.line(_,T+Ne*R,-1e4,T+Ne*R,1e4)},Y.prototype.get=function(_){return typeof this.glyphs[_]=="function"&&(this.glyphs[_]=this.glyphs[_]()),this.glyphs[_]},Y.prototype.push=function(_,T){this.glyphs[_]=T,this.length++};var me={GlyphSet:Y,glyphLoader:function(_,T){return new pe({index:T,font:_})},ttfGlyphLoader:function(_,T,A,R,N,q){return function(){var Z=new pe({index:T,font:_});return Z.path=function(){A(Z,R,N);var Se=q(_.glyphs,Z);return Se.unitsPerEm=_.unitsPerEm,Se},Oe(Z,"xMin","_xMin"),Oe(Z,"xMax","_xMax"),Oe(Z,"yMin","_yMin"),Oe(Z,"yMax","_yMax"),Z}},cffGlyphLoader:function(_,T,A,R){return function(){var N=new pe({index:T,font:_});return N.path=function(){var q=A(_,N,R);return q.unitsPerEm=_.unitsPerEm,q},N}}};function $(_){return _=_.length<1240?107:_.length<33900?1131:32768,_}function X(_,T,A){var R,N=[],q=[],Z=Te.getCard16(_,T);if(Z!==0){for(var Se=Te.getByte(_,T+2),Ne=T+(Z+1)*Se+2,De=T+3,Ke=0;Ke<Z+1;Ke+=1)N.push(Te.getOffset(_,De,Se)),De+=Se;R=Ne+N[Z]}else R=T+2;for(var ut=0;ut<N.length-1;ut+=1){var ot=Te.getBytes(_,Ne+N[ut],Ne+N[ut+1]);A&&(ot=A(ot)),q.push(ot)}return{objects:q,startOffset:T,endOffset:R}}function re(_,T){if(T===28)return _.parseByte()<<8|_.parseByte();if(T===29)return _.parseByte()<<24|_.parseByte()<<16|_.parseByte()<<8|_.parseByte();if(T===30){for(var A=_,R="",N=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var Z=A.parseByte(),q=Z>>4,Z=15&Z;if(q==15||(R+=N[q],Z==15))break;R+=N[Z]}return parseFloat(R)}if(32<=T&&T<=246)return T-139;if(247<=T&&T<=250)return 256*(T-247)+_.parseByte()+108;if(251<=T&&T<=254)return 256*-(T-251)-_.parseByte()-108;throw new Error("Invalid b0 "+T)}function he(_,T,A){var R=new Te.Parser(_,T=T!==void 0?T:0),N=[],q=[];for(A=A!==void 0?A:_.length;R.relativeOffset<A;){var Z=R.parseByte();Z<=21?(Z===12&&(Z=1200+R.parseByte()),N.push([Z,q]),q=[]):q.push(re(R,Z))}for(var Se=N,Ne={},De=0;De<Se.length;De+=1){var Ke=Se[De][0],ut=Se[De][1],ot=void 0,ot=ut.length===1?ut[0]:ut;if(Ne.hasOwnProperty(Ke)&&!isNaN(Ne[Ke]))throw new Error("Object "+Ne+" already has key "+Ke);Ne[Ke]=ot}return Ne}function ne(_,T){return T=T<=390?z[T]:_[T-391]}function ce(_,T,A){for(var R,N={},q=0;q<T.length;q+=1){var Z=T[q];if(Array.isArray(Z.type)){var Se=[];Se.length=Z.type.length;for(var Ne=0;Ne<Z.type.length;Ne++)(R=_[Z.op]!==void 0?_[Z.op][Ne]:void 0)===void 0&&(R=Z.value!==void 0&&Z.value[Ne]!==void 0?Z.value[Ne]:null),Z.type[Ne]==="SID"&&(R=ne(A,R)),Se[Ne]=R;N[Z.name]=Se}else(R=_[Z.op])===void 0&&(R=Z.value!==void 0?Z.value:null),Z.type==="SID"&&(R=ne(A,R)),N[Z.name]=R}return N}var be=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ve=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function et(_,T,A,R){return ce(he(_,T,A),Ve,R)}function Ye(_,T,A,R){for(var N=[],q=0;q<A.length;q+=1){var Z=new DataView(new Uint8Array(A[q]).buffer),Z=(Se=R,ce(he(Z,0,Z.byteLength),be,Se)),Se=(Z._subrs=[],Z._subrsBias=0,Z.private[0]),Ne=Z.private[1];Se!==0&&Ne!==0&&(Se=et(_,Ne+T,Se,R),Z._defaultWidthX=Se.defaultWidthX,Z._nominalWidthX=Se.nominalWidthX,Se.subrs!==0&&(Ne=X(_,Ne+Se.subrs+T),Z._subrs=Ne.objects,Z._subrsBias=$(Z._subrs)),Z._privateDict=Se),N.push(Z)}return N}function nt(_,T,A){var R,N,q,Z,Se,Ne,De,Ke,ut,ot=new de,He=[],jt=0,gt=!1,St=!1,ht=0,ft=0,Zt=(ut=(_.isCIDFont?(Se=_.tables.cff.topDict._fdSelect[T.index],Se=_.tables.cff.topDict._fdArray[Se],Ne=Se._subrs,De=Se._subrsBias,Ke=Se._defaultWidthX,Se):(Ne=_.tables.cff.topDict._subrs,De=_.tables.cff.topDict._subrsBias,Ke=_.tables.cff.topDict._defaultWidthX,_.tables.cff.topDict))._nominalWidthX,Ke);function sr(Jt,dr){St&&ot.closePath(),ot.moveTo(Jt,dr),St=!0}function Kt(){He.length%2==0||gt||(Zt=He.shift()+ut),jt+=He.length>>1,He.length=0,gt=!0}return function Jt(dr){for(var Rr,Xr,dn,On,Pn,Co,Mr,Ir,_r,In,zr,Tn,Dr=0;Dr<dr.length;){var _n=dr[Dr];switch(Dr+=1,_n){case 1:case 3:Kt();break;case 4:1<He.length&&!gt&&(Zt=He.shift()+ut,gt=!0),ft+=He.pop(),sr(ht,ft);break;case 5:for(;0<He.length;)ht+=He.shift(),ft+=He.shift(),ot.lineTo(ht,ft);break;case 6:for(;0<He.length&&(ht+=He.shift(),ot.lineTo(ht,ft),He.length!==0);)ft+=He.shift(),ot.lineTo(ht,ft);break;case 7:for(;0<He.length&&(ft+=He.shift(),ot.lineTo(ht,ft),He.length!==0);)ht+=He.shift(),ot.lineTo(ht,ft);break;case 8:for(;0<He.length;)R=ht+He.shift(),N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),ht=q+He.shift(),ft=Z+He.shift(),ot.curveTo(R,N,q,Z,ht,ft);break;case 10:Pn=He.pop()+De,(Co=Ne[Pn])&&Jt(Co);break;case 11:return;case 12:switch(_n=dr[Dr],Dr+=1,_n){case 35:R=ht+He.shift(),N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),Mr=q+He.shift(),Ir=Z+He.shift(),_r=Mr+He.shift(),In=Ir+He.shift(),zr=_r+He.shift(),Tn=In+He.shift(),ht=zr+He.shift(),ft=Tn+He.shift(),He.shift(),ot.curveTo(R,N,q,Z,Mr,Ir),ot.curveTo(_r,In,zr,Tn,ht,ft);break;case 34:R=ht+He.shift(),N=ft,q=R+He.shift(),Z=N+He.shift(),Mr=q+He.shift(),Ir=Z,_r=Mr+He.shift(),In=Z,zr=_r+He.shift(),Tn=ft,ht=zr+He.shift(),ot.curveTo(R,N,q,Z,Mr,Ir),ot.curveTo(_r,In,zr,Tn,ht,ft);break;case 36:R=ht+He.shift(),N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),Mr=q+He.shift(),Ir=Z,_r=Mr+He.shift(),In=Z,zr=_r+He.shift(),Tn=In+He.shift(),ht=zr+He.shift(),ot.curveTo(R,N,q,Z,Mr,Ir),ot.curveTo(_r,In,zr,Tn,ht,ft);break;case 37:R=ht+He.shift(),N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),Mr=q+He.shift(),Ir=Z+He.shift(),_r=Mr+He.shift(),In=Ir+He.shift(),zr=_r+He.shift(),Tn=In+He.shift(),Math.abs(zr-ht)>Math.abs(Tn-ft)?ht=zr+He.shift():ft=Tn+He.shift(),ot.curveTo(R,N,q,Z,Mr,Ir),ot.curveTo(_r,In,zr,Tn,ht,ft);break;default:console.log("Glyph "+T.index+": unknown operator 1200"+_n),He.length=0}break;case 14:0<He.length&&!gt&&(Zt=He.shift()+ut,gt=!0),St&&(ot.closePath(),St=!1);break;case 18:Kt();break;case 19:case 20:Kt(),Dr+=jt+7>>3;break;case 21:2<He.length&&!gt&&(Zt=He.shift()+ut,gt=!0),ft+=He.pop(),sr(ht+=He.pop(),ft);break;case 22:1<He.length&&!gt&&(Zt=He.shift()+ut,gt=!0),sr(ht+=He.pop(),ft);break;case 23:Kt();break;case 24:for(;2<He.length;)R=ht+He.shift(),N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),ht=q+He.shift(),ft=Z+He.shift(),ot.curveTo(R,N,q,Z,ht,ft);ht+=He.shift(),ft+=He.shift(),ot.lineTo(ht,ft);break;case 25:for(;6<He.length;)ht+=He.shift(),ft+=He.shift(),ot.lineTo(ht,ft);R=ht+He.shift(),N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),ht=q+He.shift(),ft=Z+He.shift(),ot.curveTo(R,N,q,Z,ht,ft);break;case 26:for(He.length%2&&(ht+=He.shift());0<He.length;)R=ht,N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),ht=q,ft=Z+He.shift(),ot.curveTo(R,N,q,Z,ht,ft);break;case 27:for(He.length%2&&(ft+=He.shift());0<He.length;)R=ht+He.shift(),N=ft,q=R+He.shift(),Z=N+He.shift(),ht=q+He.shift(),ft=Z,ot.curveTo(R,N,q,Z,ht,ft);break;case 28:Rr=dr[Dr],Xr=dr[Dr+1],He.push((Rr<<24|Xr<<16)>>16),Dr+=2;break;case 29:Pn=He.pop()+_.gsubrsBias,(Co=_.gsubrs[Pn])&&Jt(Co);break;case 30:for(;0<He.length&&(R=ht,N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),ht=q+He.shift(),ft=Z+(He.length===1?He.shift():0),ot.curveTo(R,N,q,Z,ht,ft),He.length!==0);)R=ht+He.shift(),N=ft,q=R+He.shift(),Z=N+He.shift(),ft=Z+He.shift(),ht=q+(He.length===1?He.shift():0),ot.curveTo(R,N,q,Z,ht,ft);break;case 31:for(;0<He.length&&(R=ht+He.shift(),N=ft,q=R+He.shift(),Z=N+He.shift(),ft=Z+He.shift(),ht=q+(He.length===1?He.shift():0),ot.curveTo(R,N,q,Z,ht,ft),He.length!==0);)R=ht,N=ft+He.shift(),q=R+He.shift(),Z=N+He.shift(),ht=q+He.shift(),ft=Z+(He.length===1?He.shift():0),ot.curveTo(R,N,q,Z,ht,ft);break;default:_n<32?console.log("Glyph "+T.index+": unknown operator "+_n):_n<247?He.push(_n-139):_n<251?(Rr=dr[Dr],Dr+=1,He.push(256*(_n-247)+Rr+108)):_n<255?(Rr=dr[Dr],Dr+=1,He.push(256*-(_n-251)-Rr-108)):(Rr=dr[Dr],Xr=dr[Dr+1],dn=dr[Dr+2],On=dr[Dr+3],Dr+=4,He.push((Rr<<24|Xr<<16|dn<<8|On)/65536))}}}(A),T.advanceWidth=Zt,ot}function K(_,T){var A,R=z.indexOf(_);return 0<=R&&(A=R),0<=(R=T.indexOf(_))?A=R+z.length:(A=z.length+T.length,T.push(_)),A}function fe(_,T,A){for(var R={},N=0;N<_.length;N+=1){var q=_[N],Z=T[q.name];Z===void 0||function Se(Ne,De){if(Ne===De)return 1;if(Array.isArray(Ne)&&Array.isArray(De)&&Ne.length===De.length){for(var Ke=0;Ke<Ne.length;Ke+=1)if(!Se(Ne[Ke],De[Ke]))return;return 1}}(Z,q.value)||(q.type==="SID"&&(Z=K(Z,A)),R[q.op]={name:q.name,type:q.type,value:Z})}return R}function mt(_,T){var A=new Pe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return A.dict=fe(be,_,T),A}function bt(_){var T=new Pe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return T.topDicts=[{name:"topDict_0",type:"TABLE",value:_}],T}function Rt(_){for(var T=new Pe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),A=0;A<_.length;A+=1){var R=_.get(A),N=function(q){for(var Z=[],Se=q.path,Ne=(Z.push({name:"width",type:"NUMBER",value:q.advanceWidth}),0),De=0,Ke=0;Ke<Se.commands.length;Ke+=1){var ut,ot,He,jt,gt=void 0,St=void 0,ht=Se.commands[Ke];(ht=ht.type==="Q"?{type:"C",x:ht.x,y:ht.y,x1:1/3*Ne+2/3*ht.x1,y1:1/3*De+2/3*ht.y1,x2:1/3*ht.x+2/3*ht.x1,y2:1/3*ht.y+2/3*ht.y1}:ht).type==="M"?(gt=Math.round(ht.x-Ne),St=Math.round(ht.y-De),Z.push({name:"dx",type:"NUMBER",value:gt}),Z.push({name:"dy",type:"NUMBER",value:St}),Z.push({name:"rmoveto",type:"OP",value:21}),Ne=Math.round(ht.x),De=Math.round(ht.y)):ht.type==="L"?(gt=Math.round(ht.x-Ne),St=Math.round(ht.y-De),Z.push({name:"dx",type:"NUMBER",value:gt}),Z.push({name:"dy",type:"NUMBER",value:St}),Z.push({name:"rlineto",type:"OP",value:5}),Ne=Math.round(ht.x),De=Math.round(ht.y)):ht.type==="C"&&(ut=Math.round(ht.x1-Ne),ot=Math.round(ht.y1-De),He=Math.round(ht.x2-ht.x1),jt=Math.round(ht.y2-ht.y1),gt=Math.round(ht.x-ht.x2),St=Math.round(ht.y-ht.y2),Z.push({name:"dx1",type:"NUMBER",value:ut}),Z.push({name:"dy1",type:"NUMBER",value:ot}),Z.push({name:"dx2",type:"NUMBER",value:He}),Z.push({name:"dy2",type:"NUMBER",value:jt}),Z.push({name:"dx",type:"NUMBER",value:gt}),Z.push({name:"dy",type:"NUMBER",value:St}),Z.push({name:"rrcurveto",type:"OP",value:8}),Ne=Math.round(ht.x),De=Math.round(ht.y))}return Z.push({name:"endchar",type:"OP",value:14}),Z}(R);T.charStrings.push({name:R.name,type:"CHARSTRING",value:N})}return T}var Ut={parse:function(_,T,A){A.tables.cff={},Se=_,R=T,(N={}).formatMajor=Te.getCard8(Se,R),N.formatMinor=Te.getCard8(Se,R+1),N.size=Te.getCard8(Se,R+2),N.offsetSize=Te.getCard8(Se,R+3),N.startOffset=R,N.endOffset=R+4;var Se=X(_,N.endOffset,Te.bytesToString),R=X(_,Se.endOffset),N=X(_,R.endOffset,Te.bytesToString),Se=X(_,N.endOffset);if(A.gsubrs=Se.objects,A.gsubrsBias=$(A.gsubrs),(Se=Ye(_,T,R.objects,N.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+Se.length);if(R=Se[0],(A.tables.cff.topDict=R)._privateDict&&(A.defaultWidthX=R._privateDict.defaultWidthX,A.nominalWidthX=R._privateDict.nominalWidthX),R.ros[0]!==void 0&&R.ros[1]!==void 0&&(A.isCIDFont=!0),A.isCIDFont){var Se=R.fdArray,q=R.fdSelect;if(Se===0||q===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");Se=Ye(_,T,X(_,Se+=T).objects,N.objects),R._fdArray=Se,R._fdSelect=function(ot,He,jt,gt){var St,ht=[],ft=new Te.Parser(ot,He);if((ot=ft.parseCard8())===0)for(var Zt=0;Zt<jt;Zt++){if(gt<=(St=ft.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+St+" (FD count "+gt+")");ht.push(St)}else{if(ot!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+ot);var sr,Kt=ft.parseCard16(),Jt=ft.parseCard16();if(Jt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Jt);for(var dr=0;dr<Kt;dr++){if(St=ft.parseCard8(),sr=ft.parseCard16(),gt<=St)throw new Error("CFF table CID Font FDSelect has bad FD index value "+St+" (FD count "+gt+")");if(jt<sr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+sr);for(;Jt<sr;Jt++)ht.push(St);Jt=sr}if(sr!==jt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+sr)}return ht}(_,q+=T,A.numGlyphs,Se.length)}var q=T+R.private[1],Se=et(_,q,R.private[0],N.objects),Z=(A.defaultWidthX=Se.defaultWidthX,A.nominalWidthX=Se.nominalWidthX,Se.subrs!==0?(q=X(_,q+Se.subrs),A.subrs=q.objects,A.subrsBias=$(A.subrs)):(A.subrs=[],A.subrsBias=0),X(_,T+R.charStrings)),Se=(A.nGlyphs=Z.objects.length,function(Ke,ut,ot,He){var jt=new Te.Parser(Ke,ut),gt=(--ot,[".notdef"]);if((Ke=jt.parseCard8())===0)for(var St=0;St<ot;St+=1)ht=jt.parseSID(),gt.push(ne(He,ht));else if(Ke===1)for(;gt.length<=ot;)for(var ht=jt.parseSID(),ft=jt.parseCard8(),Zt=0;Zt<=ft;Zt+=1)gt.push(ne(He,ht)),ht+=1;else{if(Ke!==2)throw new Error("Unknown charset format "+Ke);for(;gt.length<=ot;){ht=jt.parseSID(),ft=jt.parseCard16();for(var sr=0;sr<=ft;sr+=1)gt.push(ne(He,ht)),ht+=1}}return gt}(_,T+R.charset,A.nGlyphs,N.objects));R.encoding===0?A.cffEncoding=new H(L,Se):R.encoding===1?A.cffEncoding=new H(k,Se):A.cffEncoding=function(Ke,ut,ot){var He={},jt=new Te.Parser(Ke,ut);if((Ke=jt.parseCard8())===0)for(var gt=jt.parseCard8(),St=0;St<gt;St+=1)He[ft=jt.parseCard8()]=St;else{if(Ke!==1)throw new Error("Unknown encoding format "+Ke);for(var ht=jt.parseCard8(),ft=1,Zt=0;Zt<ht;Zt+=1)for(var sr=jt.parseCard8(),Kt=jt.parseCard8(),Jt=sr;Jt<=sr+Kt;Jt+=1)He[Jt]=ft,ft+=1}return new H(He,ot)}(_,T+R.encoding,Se),A.encoding=A.encoding||A.cffEncoding,A.glyphs=new me.GlyphSet(A);for(var Ne=0;Ne<A.nGlyphs;Ne+=1){var De=Z.objects[Ne];A.glyphs.push(Ne,me.cffGlyphLoader(A,Ne,nt,De))}},make:function(_,Ke){for(var A,R=new Pe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),N=1/Ke.unitsPerEm,N={version:Ke.version,fullName:Ke.fullName,familyName:Ke.familyName,weight:Ke.weightName,fontBBox:Ke.fontBBox||[0,0,0,0],fontMatrix:[N,0,0,N,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},q=[],Z=1;Z<_.length;Z+=1)A=_.get(Z),q.push(A.name);var Se,Ne,De=[],Ke=(R.header=new Pe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),R.nameIndex=function(ot){var He=new Pe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);He.names=[];for(var jt=0;jt<ot.length;jt+=1)He.names.push({name:"name_"+jt,type:"NAME",value:ot[jt]});return He}([Ke.postScriptName]),mt(N,De)),ut=(R.topDictIndex=bt(Ke),R.globalSubrIndex=new Pe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),R.charsets=function(ot,He){for(var jt=new Pe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),gt=0;gt<ot.length;gt+=1){var St=K(ot[gt],He);jt.fields.push({name:"glyph_"+gt,type:"SID",value:St})}return jt}(q,De),R.charStringsIndex=Rt(_),R.privateDict=(ut={},Se=De,(Ne=new Pe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=fe(Ve,ut,Se),Ne),R.stringIndex=function(ot){var He=new Pe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);He.strings=[];for(var jt=0;jt<ot.length;jt+=1)He.strings.push({name:"string_"+jt,type:"STRING",value:ot[jt]});return He}(De),R.header.sizeOf()+R.nameIndex.sizeOf()+R.topDictIndex.sizeOf()+R.stringIndex.sizeOf()+R.globalSubrIndex.sizeOf());return N.charset=ut,N.encoding=0,N.charStrings=N.charset+R.charsets.sizeOf(),N.private[1]=N.charStrings+R.charStringsIndex.sizeOf(),Ke=mt(N,De),R.topDictIndex=bt(Ke),R}},Lt={parse:function(R,T){var A={},R=new Te.Parser(R,T);return A.version=R.parseVersion(),A.fontRevision=Math.round(1e3*R.parseFixed())/1e3,A.checkSumAdjustment=R.parseULong(),A.magicNumber=R.parseULong(),j.argument(A.magicNumber===1594834165,"Font header has wrong magic number."),A.flags=R.parseUShort(),A.unitsPerEm=R.parseUShort(),A.created=R.parseLongDateTime(),A.modified=R.parseLongDateTime(),A.xMin=R.parseShort(),A.yMin=R.parseShort(),A.xMax=R.parseShort(),A.yMax=R.parseShort(),A.macStyle=R.parseUShort(),A.lowestRecPPEM=R.parseUShort(),A.fontDirectionHint=R.parseShort(),A.indexToLocFormat=R.parseShort(),A.glyphDataFormat=R.parseShort(),A},make:function(_){var T=Math.round(new Date().getTime()/1e3)+2082844800,A=T;return _.createdTimestamp&&(A=_.createdTimestamp+2082844800),new Pe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:A},{name:"modified",type:"LONGDATETIME",value:T},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],_)}},ke={parse:function(R,T){var A={},R=new Te.Parser(R,T);return A.version=R.parseVersion(),A.ascender=R.parseShort(),A.descender=R.parseShort(),A.lineGap=R.parseShort(),A.advanceWidthMax=R.parseUShort(),A.minLeftSideBearing=R.parseShort(),A.minRightSideBearing=R.parseShort(),A.xMaxExtent=R.parseShort(),A.caretSlopeRise=R.parseShort(),A.caretSlopeRun=R.parseShort(),A.caretOffset=R.parseShort(),R.relativeOffset+=8,A.metricDataFormat=R.parseShort(),A.numberOfHMetrics=R.parseUShort(),A},make:function(_){return new Pe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],_)}},yt={parse:function(_,T,A,R,N){for(var q,Z,Se=new Te.Parser(_,T),Ne=0;Ne<R;Ne+=1){Ne<A&&(q=Se.parseUShort(),Z=Se.parseShort());var De=N.get(Ne);De.advanceWidth=q,De.leftSideBearing=Z}},make:function(_){for(var T=new Pe.Table("hmtx",[]),A=0;A<_.length;A+=1){var N=_.get(A),R=N.advanceWidth||0,N=N.leftSideBearing||0;T.fields.push({name:"advanceWidth_"+A,type:"USHORT",value:R}),T.fields.push({name:"leftSideBearing_"+A,type:"SHORT",value:N})}return T}},vt={make:function(_){for(var T=new Pe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:_.length}]),A="",R=12+4*_.length,N=0;N<_.length;++N){var q=A.indexOf(_[N]);q<0&&(q=A.length,A+=_[N]),T.fields.push({name:"offset "+N,type:"USHORT",value:R+q}),T.fields.push({name:"length "+N,type:"USHORT",value:_[N].length})}return T.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),T},parse:function(_,T){for(var A=new Te.Parser(_,T),R=A.parseULong(),N=(j.argument(R===1,"Unsupported ltag table version."),A.skip("uLong",1),A.parseULong()),q=[],Z=0;Z<N;Z++){for(var Se="",Ne=T+A.parseUShort(),De=A.parseUShort(),Ke=Ne;Ke<Ne+De;++Ke)Se+=String.fromCharCode(_.getInt8(Ke));q.push(Se)}return q}},rt={parse:function(R,T){var A={},R=new Te.Parser(R,T);return A.version=R.parseVersion(),A.numGlyphs=R.parseUShort(),A.version===1&&(A.maxPoints=R.parseUShort(),A.maxContours=R.parseUShort(),A.maxCompositePoints=R.parseUShort(),A.maxCompositeContours=R.parseUShort(),A.maxZones=R.parseUShort(),A.maxTwilightPoints=R.parseUShort(),A.maxStorage=R.parseUShort(),A.maxFunctionDefs=R.parseUShort(),A.maxInstructionDefs=R.parseUShort(),A.maxStackElements=R.parseUShort(),A.maxSizeOfInstructions=R.parseUShort(),A.maxComponentElements=R.parseUShort(),A.maxComponentDepth=R.parseUShort()),A},make:function(_){return new Pe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:_}])}},qt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],wt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Wt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},At={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Qt="utf-16",kt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},cr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function gr(_,T,A){switch(_){case 0:return Qt;case 1:return cr[A]||kt[T];case 3:if(T===1||T===10)return Qt}}function fr(_){var T,A={};for(T in _)A[_[T]]=parseInt(T);return A}function pr(_,T,A,R,N,q){return new Pe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:_},{name:"encodingID",type:"USHORT",value:T},{name:"languageID",type:"USHORT",value:A},{name:"nameID",type:"USHORT",value:R},{name:"length",type:"USHORT",value:N},{name:"offset",type:"USHORT",value:q}])}function qr(_,T){if((A=function(q,Z){var Se=q.length,Ne=Z.length-Se+1;e:for(var De=0;De<Ne;De++)for(;De<Ne;De++){for(var Ke=0;Ke<Se;Ke++)if(Z[De+Ke]!==q[Ke])continue e;return De}return-1}(_,T))<0)for(var A=T.length,R=0,N=_.length;R<N;++R)T.push(_[R]);return A}var Qr={parse:function(_,T,A){for(var R={},N=new Te.Parser(_,T),T=N.parseUShort(),q=N.parseUShort(),Z=N.offset+N.parseUShort(),Se=0;Se<q;Se++){var jt=N.parseUShort(),Ne=N.parseUShort(),De=N.parseUShort(),Ke=N.parseUShort(),Ke=qt[Ke]||Ke,ut=N.parseUShort(),ot=N.parseUShort(),He=function(St,ht,ft){switch(St){case 0:if(ht===65535)return"und";if(ft)return ft[ht];break;case 1:return wt[ht];case 3:return At[ht]}}(jt,De,A),jt=gr(jt,Ne,De);jt!==void 0&&He!==void 0&&(Ne=void 0,(Ne=jt===Qt?F.UTF16(_,Z+ot,ut):F.MACSTRING(_,Z+ot,ut,jt))&&((De=(De=R[Ke])===void 0?R[Ke]={}:De)[He]=Ne))}return T===1&&N.parseUShort(),R},make:function(_,T){var A,R=[],N={},q=fr(qt);for(A in _){var Z=q[A];if(Z===void 0&&(Z=A),ot=parseInt(Z),isNaN(ot))throw new Error('Name table entry "'+A+'" does not exist, see nameTableNames for complete list.');N[ot]=_[A],R.push(ot)}for(var Se=fr(wt),Ne=fr(At),De=[],Ke=[],ut=0;ut<R.length;ut++){var ot,He,jt=N[ot=R[ut]];for(He in jt){var gt=jt[He],sr=1,St=Se[He],ht=Wt[St],ft=gr(sr,ht,St),ft=V.MACSTRING(gt,ft),Zt=(ft===void 0&&(sr=0,(St=T.indexOf(He))<0&&(St=T.length,T.push(He)),ht=4,ft=V.UTF16(gt)),qr(ft,Ke)),sr=(De.push(pr(sr,ht,St,ot,ft.length,Zt)),Ne[He]);sr!==void 0&&(St=qr(ht=V.UTF16(gt),Ke),De.push(pr(3,1,sr,ot,ht.length,St)))}}De.sort(function(dr,Rr){return dr.platformID-Rr.platformID||dr.encodingID-Rr.encodingID||dr.languageID-Rr.languageID||dr.nameID-Rr.nameID});for(var Kt=new Pe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:De.length},{name:"stringOffset",type:"USHORT",value:6+12*De.length}]),Jt=0;Jt<De.length;Jt++)Kt.fields.push({name:"record_"+Jt,type:"RECORD",value:De[Jt]});return Kt.fields.push({name:"strings",type:"LITERAL",value:Ke}),Kt}},fn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],mr={parse:function(_,T){var A={},R=new Te.Parser(_,T);A.version=R.parseUShort(),A.xAvgCharWidth=R.parseShort(),A.usWeightClass=R.parseUShort(),A.usWidthClass=R.parseUShort(),A.fsType=R.parseUShort(),A.ySubscriptXSize=R.parseShort(),A.ySubscriptYSize=R.parseShort(),A.ySubscriptXOffset=R.parseShort(),A.ySubscriptYOffset=R.parseShort(),A.ySuperscriptXSize=R.parseShort(),A.ySuperscriptYSize=R.parseShort(),A.ySuperscriptXOffset=R.parseShort(),A.ySuperscriptYOffset=R.parseShort(),A.yStrikeoutSize=R.parseShort(),A.yStrikeoutPosition=R.parseShort(),A.sFamilyClass=R.parseShort(),A.panose=[];for(var N=0;N<10;N++)A.panose[N]=R.parseByte();return A.ulUnicodeRange1=R.parseULong(),A.ulUnicodeRange2=R.parseULong(),A.ulUnicodeRange3=R.parseULong(),A.ulUnicodeRange4=R.parseULong(),A.achVendID=String.fromCharCode(R.parseByte(),R.parseByte(),R.parseByte(),R.parseByte()),A.fsSelection=R.parseUShort(),A.usFirstCharIndex=R.parseUShort(),A.usLastCharIndex=R.parseUShort(),A.sTypoAscender=R.parseShort(),A.sTypoDescender=R.parseShort(),A.sTypoLineGap=R.parseShort(),A.usWinAscent=R.parseUShort(),A.usWinDescent=R.parseUShort(),1<=A.version&&(A.ulCodePageRange1=R.parseULong(),A.ulCodePageRange2=R.parseULong()),2<=A.version&&(A.sxHeight=R.parseShort(),A.sCapHeight=R.parseShort(),A.usDefaultChar=R.parseUShort(),A.usBreakChar=R.parseUShort(),A.usMaxContent=R.parseUShort()),A},make:function(_){return new Pe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],_)},unicodeRanges:fn,getUnicodeRange:function(_){for(var T=0;T<fn.length;T+=1){var A=fn[T];if(_>=A.begin&&_<A.end)return T}return-1}},Vo={parse:function(_,T){var A={},R=new Te.Parser(_,T);switch(A.version=R.parseVersion(),A.italicAngle=R.parseFixed(),A.underlinePosition=R.parseShort(),A.underlineThickness=R.parseShort(),A.isFixedPitch=R.parseULong(),A.minMemType42=R.parseULong(),A.maxMemType42=R.parseULong(),A.minMemType1=R.parseULong(),A.maxMemType1=R.parseULong(),A.version){case 1:A.names=ge.slice();break;case 2:A.numberOfGlyphs=R.parseUShort(),A.glyphNameIndex=new Array(A.numberOfGlyphs);for(var N=0;N<A.numberOfGlyphs;N++)A.glyphNameIndex[N]=R.parseUShort();A.names=[];for(var q,Z=0;Z<A.numberOfGlyphs;Z++)A.glyphNameIndex[Z]>=ge.length&&(q=R.parseChar(),A.names.push(R.parseString(q)));break;case 2.5:A.numberOfGlyphs=R.parseUShort(),A.offset=new Array(A.numberOfGlyphs);for(var Se=0;Se<A.numberOfGlyphs;Se++)A.offset[Se]=R.parseChar()}return A},make:function(){return new Pe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Kr=new Array(9),sn=(Kr[1]=function(){var _=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{substFormat:1,coverage:this.parsePointer(Fe.coverage),deltaGlyphId:this.parseUShort()}:T===2?{substFormat:2,coverage:this.parsePointer(Fe.coverage),substitute:this.parseOffset16List()}:void j.assert(!1,"0x"+_.toString(16)+": lookup type 1 format must be 1 or 2.")},Kr[2]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Fe.coverage),sequences:this.parseListOfLists()}},Kr[3]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Fe.coverage),alternateSets:this.parseListOfLists()}},Kr[4]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB ligature table identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Fe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Fe.uShort,lookupListIndex:Fe.uShort});Kr[5]=function(){var _,T,A=this.offset+this.relativeOffset,R=this.parseUShort();return R===1?{substFormat:R,coverage:this.parsePointer(Fe.coverage),ruleSets:this.parseListOfLists(function(){var N=this.parseUShort(),q=this.parseUShort();return{input:this.parseUShortList(N-1),lookupRecords:this.parseRecordList(q,sn)}})}:R===2?{substFormat:R,coverage:this.parsePointer(Fe.coverage),classDef:this.parsePointer(Fe.classDef),classSets:this.parseListOfLists(function(){var N=this.parseUShort(),q=this.parseUShort();return{classes:this.parseUShortList(N-1),lookupRecords:this.parseRecordList(q,sn)}})}:R===3?(_=this.parseUShort(),T=this.parseUShort(),{substFormat:R,coverages:this.parseList(_,Fe.pointer(Fe.coverage)),lookupRecords:this.parseRecordList(T,sn)}):void j.assert(!1,"0x"+A.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Kr[6]=function(){var _=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{substFormat:1,coverage:this.parsePointer(Fe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(sn)}})}:T===2?{substFormat:2,coverage:this.parsePointer(Fe.coverage),backtrackClassDef:this.parsePointer(Fe.classDef),inputClassDef:this.parsePointer(Fe.classDef),lookaheadClassDef:this.parsePointer(Fe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(sn)}})}:T===3?{substFormat:3,backtrackCoverage:this.parseList(Fe.pointer(Fe.coverage)),inputCoverage:this.parseList(Fe.pointer(Fe.coverage)),lookaheadCoverage:this.parseList(Fe.pointer(Fe.coverage)),lookupRecords:this.parseRecordList(sn)}:void j.assert(!1,"0x"+_.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Kr[7]=function(){var _=this.parseUShort(),_=(j.argument(_===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),T=new Fe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:_,extension:Kr[_].call(T)}},Kr[8]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Fe.coverage),backtrackCoverage:this.parseList(Fe.pointer(Fe.coverage)),lookaheadCoverage:this.parseList(Fe.pointer(Fe.coverage)),substitutes:this.parseUShortList()}};var To=new Array(9);To[1]=function(_){return _.substFormat===1?new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(_.coverage)},{name:"deltaGlyphID",type:"USHORT",value:_.deltaGlyphId}]):new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Pe.Coverage(_.coverage)}].concat(Pe.ushortList("substitute",_.substitute)))},To[3]=function(_){return j.assert(_.substFormat===1,"Lookup type 3 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(_.coverage)}].concat(Pe.tableList("altSet",_.alternateSets,function(T){return new Pe.Table("alternateSetTable",Pe.ushortList("alternate",T))})))},To[4]=function(_){return j.assert(_.substFormat===1,"Lookup type 4 substFormat must be 1."),new Pe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Pe.Coverage(_.coverage)}].concat(Pe.tableList("ligSet",_.ligatureSets,function(T){return new Pe.Table("ligatureSetTable",Pe.tableList("ligature",T,function(A){return new Pe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:A.ligGlyph}].concat(Pe.ushortList("component",A.components,A.components.length+1)))}))})))};var Ra={parse:function(_,T){return T=(_=new Fe(_,T=T||0)).parseVersion(1),j.argument(T===1||T===1.1,"Unsupported GSUB table version."),T===1?{version:T,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Kr)}:{version:T,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Kr),variations:_.parseFeatureVariationsList()}},make:function(_){return new Pe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(_.lookups,To)}])}},Oa={parse:function(_,T){for(var A=new Te.Parser(_,T),R=A.parseULong(),N=(j.argument(R===1,"Unsupported META table version."),A.parseULong(),A.parseULong(),A.parseULong()),q={},Z=0;Z<N;Z++){var Se=A.parseTag(),De=A.parseULong(),Ne=A.parseULong(),De=F.UTF8(_,T+De,Ne);q[Se]=De}return q},make:function(_){var T,A=Object.keys(_).length,R="",N=16+12*A,q=new Pe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:N},{name:"numTags",type:"ULONG",value:A}]);for(T in _){var Z=R.length;R+=_[T],q.fields.push({name:"tag "+T,type:"TAG",value:T}),q.fields.push({name:"offset "+T,type:"ULONG",value:N+Z}),q.fields.push({name:"length "+T,type:"ULONG",value:_[T].length})}return q.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),q}};function os(_){return Math.log(_)/Math.log(2)|0}function Ie(_){for(;_.length%4!=0;)_.push(0);for(var T=0,A=0;A<_.length;A+=4)T+=(_[A]<<24)+(_[A+1]<<16)+(_[A+2]<<8)+_[A+3];return T%=Math.pow(2,32)}function Le(_,T,A,R){return new Pe.Record("Table Record",[{name:"tag",type:"TAG",value:_!==void 0?_:""},{name:"checkSum",type:"ULONG",value:T!==void 0?T:0},{name:"offset",type:"ULONG",value:A!==void 0?A:0},{name:"length",type:"ULONG",value:R!==void 0?R:0}])}function $e(_){for(var T=new Pe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),A=(T.tables=_,T.numTables=_.length,Math.pow(2,os(T.numTables))),R=(T.searchRange=16*A,T.entrySelector=os(A),T.rangeShift=16*T.numTables-T.searchRange,[]),N=[],q=T.sizeOf()+Le().sizeOf()*T.numTables;q%4!=0;)q+=1,N.push({name:"padding",type:"BYTE",value:0});for(var Z=0;Z<_.length;Z+=1){var Se=_[Z],Ne=(j.argument(Se.tableName.length===4,"Table name"+Se.tableName+" is invalid."),Se.sizeOf()),De=Le(Se.tableName,Ie(Se.encode()),q,Ne);for(R.push({name:De.tag+" Table Record",type:"RECORD",value:De}),N.push({name:Se.tableName+" table",type:"RECORD",value:Se}),q+=Ne,j.argument(!isNaN(q),"Something went wrong calculating the offset.");q%4!=0;)q+=1,N.push({name:"padding",type:"BYTE",value:0})}return R.sort(function(Ke,ut){return Ke.value.tag>ut.value.tag?1:-1}),T.fields=T.fields.concat(R),T.fields=T.fields.concat(N),T}function Qe(_,T,A){for(var R=0;R<T.length;R+=1){var N=_.charToGlyphIndex(T[R]);if(0<N)return _.glyphs.get(N).getMetrics()}return A}var at={make:$e,fontToTable:function(_){for(var T,A=[],R=[],N=[],q=[],Z=[],Se=[],Ne=[],De=0,Ke=0,ut=0,ot=0,He=0,jt=0;jt<_.glyphs.length;jt+=1){var gt=_.glyphs.get(jt),St=0|gt.unicode;if(isNaN(gt.advanceWidth))throw new Error("Glyph "+gt.name+" ("+jt+"): advanceWidth is not a number.");(St<T||T===void 0)&&0<St&&(T=St),De<St&&(De=St);var St=mr.getUnicodeRange(St);if(St<32)Ke|=1<<St;else if(St<64)ut|=1<<St-32;else if(St<96)ot|=1<<St-64;else{if(!(St<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");He|=1<<St-96}gt.name!==".notdef"&&(St=gt.getMetrics(),A.push(St.xMin),R.push(St.yMin),N.push(St.xMax),q.push(St.yMax),Se.push(St.leftSideBearing),Ne.push(St.rightSideBearing),Z.push(gt.advanceWidth))}var ht,ft={xMin:Math.min.apply(null,A),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,N),yMax:Math.max.apply(null,q),advanceWidthMax:Math.max.apply(null,Z),advanceWidthAvg:function(_n){for(var Ua=0,zi=0;zi<_n.length;zi+=1)Ua+=_n[zi];return Ua/_n.length}(Z),minLeftSideBearing:Math.min.apply(null,Se),maxLeftSideBearing:Math.max.apply(null,Se),minRightSideBearing:Math.min.apply(null,Ne)},Zt=(ft.ascender=_.ascender,ft.descender=_.descender,Lt.make({flags:3,unitsPerEm:_.unitsPerEm,xMin:ft.xMin,yMin:ft.yMin,xMax:ft.xMax,yMax:ft.yMax,lowestRecPPEM:3,createdTimestamp:_.createdTimestamp})),sr=ke.make({ascender:ft.ascender,descender:ft.descender,advanceWidthMax:ft.advanceWidthMax,minLeftSideBearing:ft.minLeftSideBearing,minRightSideBearing:ft.minRightSideBearing,xMaxExtent:ft.maxLeftSideBearing+(ft.xMax-ft.xMin),numberOfHMetrics:_.glyphs.length}),Kt=rt.make(_.glyphs.length),Jt=mr.make({xAvgCharWidth:Math.round(ft.advanceWidthAvg),usWeightClass:_.tables.os2.usWeightClass,usWidthClass:_.tables.os2.usWidthClass,usFirstCharIndex:T,usLastCharIndex:De,ulUnicodeRange1:Ke,ulUnicodeRange2:ut,ulUnicodeRange3:ot,ulUnicodeRange4:He,fsSelection:_.tables.os2.fsSelection,sTypoAscender:ft.ascender,sTypoDescender:ft.descender,sTypoLineGap:0,usWinAscent:ft.yMax,usWinDescent:Math.abs(ft.yMin),ulCodePageRange1:1,sxHeight:Qe(_,"xyvw",{yMax:Math.round(ft.ascender/2)}).yMax,sCapHeight:Qe(_,"HIKLEFJMNTZBDPRAGOQSUVWXY",ft).yMax,usDefaultChar:_.hasChar(" ")?32:0,usBreakChar:_.hasChar(" ")?32:0}),dr=yt.make(_.glyphs),Rr=B.make(_.glyphs),Ir=_.getEnglishName("fontFamily"),_r=_.getEnglishName("fontSubfamily"),Mr=Ir+" "+_r,Xr=(Xr=_.getEnglishName("postScriptName"))||Ir.replace(/\s/g,"")+"-"+_r,dn={};for(ht in _.names)dn[ht]=_.names[ht];dn.uniqueID||(dn.uniqueID={en:_.getEnglishName("manufacturer")+":"+Mr}),dn.postScriptName||(dn.postScriptName={en:Xr}),dn.preferredFamily||(dn.preferredFamily=_.names.fontFamily),dn.preferredSubfamily||(dn.preferredSubfamily=_.names.fontSubfamily);var Pn=[],On=Qr.make(dn,Pn),Pn=0<Pn.length?vt.make(Pn):void 0,Co=Vo.make(),Mr=Ut.make(_.glyphs,{version:_.getEnglishName("version"),fullName:Mr,familyName:Ir,weightName:_r,postScriptName:Xr,unitsPerEm:_.unitsPerEm,fontBBox:[0,ft.yMin,ft.ascender,ft.advanceWidthMax]}),Ir=_.metas&&0<Object.keys(_.metas).length?Oa.make(_.metas):void 0,_r=[Zt,sr,Kt,Jt,On,Rr,Co,Mr,dr];Pn&&_r.push(Pn),_.tables.gsub&&_r.push(Ra.make(_.tables.gsub)),Ir&&_r.push(Ir);for(var In=Ie((Xr=$e(_r)).encode()),zr=Xr.fields,Tn=!1,Dr=0;Dr<zr.length;Dr+=1)if(zr[Dr].name==="head table"){zr[Dr].value.checkSumAdjustment=2981146554-In,Tn=!0;break}if(Tn)return Xr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Ie};function Xe(_,T){for(var A=0,R=_.length-1;A<=R;){var N=A+R>>>1,q=_[N].tag;if(q===T)return N;q<T?A=1+N:R=N-1}return-A-1}function lt(_,T){for(var A=0,R=_.length-1;A<=R;){var N=A+R>>>1,q=_[N];if(q===T)return N;q<T?A=1+N:R=N-1}return-A-1}function pt(_,T){for(var A=0,R=_.length-1;A<=R;){var N,q=A+R>>>1,Z=(N=_[q]).start;if(Z===T)return N;Z<T?A=1+q:R=q-1}if(0<A)return T>(N=_[A-1]).end?0:N}function st(_,T){this.font=_,this.tableName=T}function xt(_){st.call(this,_,"gpos")}function dt(_){st.call(this,_,"gsub")}function Tt(_,T,A){for(var R=_.subtables,N=0;N<R.length;N++){var q=R[N];if(q.substFormat===T)return q}if(A)return R.push(A),A}function Dt(_){for(var T=new ArrayBuffer(_.length),A=new Uint8Array(T),R=0;R<_.length;++R)A[R]=_[R];return T}function Xt(_,T){if(!_)throw T}function Et(_,T,A,R,N){var q=0<(T&R)?(q=_.parseByte(),A+(q=(T&N)==0?-q:q)):0<(T&N)?A:A+_.parseShort();return q}function Yt(_,T,A){var R,N=new Te.Parser(T,A);if(_.numberOfContours=N.parseShort(),_._xMin=N.parseShort(),_._yMin=N.parseShort(),_._xMax=N.parseShort(),_._yMax=N.parseShort(),0<_.numberOfContours){for(var q=_.endPointIndices=[],Z=0;Z<_.numberOfContours;Z+=1)q.push(N.parseUShort());_.instructionLength=N.parseUShort(),_.instructions=[];for(var Se=0;Se<_.instructionLength;Se+=1)_.instructions.push(N.parseByte());for(var Ne=q[q.length-1]+1,De=[],Ke=0;Ke<Ne;Ke+=1)if(R=N.parseByte(),De.push(R),0<(8&R))for(var ut=N.parseByte(),ot=0;ot<ut;ot+=1)De.push(R),Ke+=1;if(j.argument(De.length===Ne,"Bad flags."),0<q.length){var He,jt=[];if(0<Ne){for(var gt=0;gt<Ne;gt+=1)R=De[gt],(He={}).onCurve=!!(1&R),He.lastPointOfContour=0<=q.indexOf(gt),jt.push(He);for(var St=0,ht=0;ht<Ne;ht+=1)R=De[ht],(He=jt[ht]).x=Et(N,R,St,2,16),St=He.x;for(var ft=0,Zt=0;Zt<Ne;Zt+=1)R=De[Zt],(He=jt[Zt]).y=Et(N,R,ft,4,32),ft=He.y}_.points=jt}else _.points=[]}else if(_.numberOfContours===0)_.points=[];else{_.isComposite=!0,_.points=[],_.components=[];for(var sr=!0;sr;){De=N.parseUShort();var Kt={glyphIndex:N.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&De)?0<(2&De)?(Kt.dx=N.parseShort(),Kt.dy=N.parseShort()):Kt.matchedPoints=[N.parseUShort(),N.parseUShort()]:0<(2&De)?(Kt.dx=N.parseChar(),Kt.dy=N.parseChar()):Kt.matchedPoints=[N.parseByte(),N.parseByte()],0<(8&De)?Kt.xScale=Kt.yScale=N.parseF2Dot14():0<(64&De)?(Kt.xScale=N.parseF2Dot14(),Kt.yScale=N.parseF2Dot14()):0<(128&De)&&(Kt.xScale=N.parseF2Dot14(),Kt.scale01=N.parseF2Dot14(),Kt.scale10=N.parseF2Dot14(),Kt.yScale=N.parseF2Dot14()),_.components.push(Kt),sr=!!(32&De)}if(256&De){_.instructionLength=N.parseUShort(),_.instructions=[];for(var Jt=0;Jt<_.instructionLength;Jt+=1)_.instructions.push(N.parseByte())}}}function _t(_,T){for(var A=[],R=0;R<_.length;R+=1){var N=_[R],N={x:T.xScale*N.x+T.scale01*N.y+T.dx,y:T.scale10*N.x+T.yScale*N.y+T.dy,onCurve:N.onCurve,lastPointOfContour:N.lastPointOfContour};A.push(N)}return A}function Vt(_){var T=new de;if(_)for(var A=function(ut){for(var ot=[],He=[],jt=0;jt<ut.length;jt+=1){var gt=ut[jt];He.push(gt),gt.lastPointOfContour&&(ot.push(He),He=[])}return j.argument(He.length===0,"There are still points left in the current contour."),ot}(_),R=0;R<A.length;++R){var N,q=A[R],Z=q[q.length-1],Se=q[0];Z.onCurve?T.moveTo(Z.x,Z.y):Se.onCurve?T.moveTo(Se.x,Se.y):(N={x:.5*(Z.x+Se.x),y:.5*(Z.y+Se.y)},T.moveTo(N.x,N.y));for(var Ne=0;Ne<q.length;++Ne){var De,Ke=Z,Z=Se,Se=q[(Ne+1)%q.length];Z.onCurve?T.lineTo(Z.x,Z.y):(De=Se,Ke.onCurve||(Z.x,Ke.x,Z.y,Ke.y),Se.onCurve||(De={x:.5*(Z.x+Se.x),y:.5*(Z.y+Se.y)}),T.quadraticCurveTo(Z.x,Z.y,De.x,De.y))}T.closePath()}return T}function or(_,T){if(T.isComposite)for(var A=0;A<T.components.length;A+=1){var R=T.components[A],N=_.get(R.glyphIndex);if(N.getPath(),N.points){var q=void 0;if(R.matchedPoints===void 0)q=_t(N.points,R);else{if(R.matchedPoints[0]>T.points.length-1||R.matchedPoints[1]>N.points.length-1)throw Error("Matched points out of range in "+T.name);var Z=T.points[R.matchedPoints[0]],Se=N.points[R.matchedPoints[1]],R={xScale:R.xScale,scale01:R.scale01,scale10:R.scale10,yScale:R.yScale,dx:0,dy:0},Se=_t([Se],R)[0];R.dx=Z.x-Se.x,R.dy=Z.y-Se.y,q=_t(N.points,R)}T.points=T.points.concat(q)}}return Vt(T.points)}(xt.prototype=st.prototype={searchTag:Xe,binSearch:lt,getTable:function(_){var T=this.font.tables[this.tableName];return T=!T&&_?this.font.tables[this.tableName]=this.createDefaultTable():T},getScriptNames:function(){var _=this.getTable();return _?_.scripts.map(function(T){return T.tag}):[]},getDefaultScriptName:function(){var _=this.getTable();if(_){for(var T=!1,A=0;A<_.scripts.length;A++){var R=_.scripts[A].tag;if(R==="DFLT")return R;R==="latn"&&(T=!0)}return T?"latn":void 0}},getScriptTable:function(_,T){var A,R=this.getTable(T);if(R)return A=R.scripts,0<=(R=Xe(R.scripts,_=_||"DFLT"))?A[R].script:T?(A.splice(-1-R,0,T={tag:_,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),T.script):void 0},getLangSysTable:function(N,T,A){var R,N=this.getScriptTable(N,A);if(N)return T&&T!=="dflt"&&T!=="DFLT"?0<=(R=Xe(N.langSysRecords,T))?N.langSysRecords[R].langSys:A?(N.langSysRecords.splice(-1-R,0,A={tag:T,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),A.langSys):void 0:N.defaultLangSys},getFeatureTable:function(_,T,A,R){if(_=this.getLangSysTable(_,T,R),_){for(var N,q=_.featureIndexes,Z=this.font.tables[this.tableName].features,Se=0;Se<q.length;Se++)if((N=Z[q[Se]]).tag===A)return N.feature;if(R)return T=Z.length,j.assert(T===0||A>=Z[T-1].tag,"Features must be added in alphabetical order."),Z.push(N={tag:A,feature:{params:0,lookupListIndexes:[]}}),q.push(T),N.feature}},getLookupTables:function(q,T,A,R,N){var q=this.getFeatureTable(q,T,A,N),Z=[];if(q){for(var Se,Ne=q.lookupListIndexes,De=this.font.tables[this.tableName].lookups,Ke=0;Ke<Ne.length;Ke++)(Se=De[Ne[Ke]]).lookupType===R&&Z.push(Se);if(Z.length===0&&N)return T=De.length,De.push(Se={lookupType:R,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Ne.push(T),[Se]}return Z},getGlyphClass:function(_,T){switch(_.format){case 1:return _.startGlyph<=T&&T<_.startGlyph+_.classes.length?_.classes[T-_.startGlyph]:0;case 2:var A=pt(_.ranges,T);return A?A.classId:0}},getCoverageIndex:function(_,T){switch(_.format){case 1:var A=lt(_.glyphs,T);return 0<=A?A:-1;case 2:return A=pt(_.ranges,T),A?A.index+T-A.start:-1}},expandCoverage:function(_){if(_.format===1)return _.glyphs;for(var T=[],A=_.ranges,R=0;R<A.length;R++)for(var N=A[R],q=N.start,Z=N.end,Se=q;Se<=Z;Se++)T.push(Se);return T}}).init=function(){var _=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(_)},xt.prototype.getKerningValue=function(_,T,A){for(var R=0;R<_.length;R++)for(var N=_[R].subtables,q=0;q<N.length;q++){var Z=N[q],Se=this.getCoverageIndex(Z.coverage,T);if(!(Se<0))switch(Z.posFormat){case 1:for(var Ne=Z.pairSets[Se],De=0;De<Ne.length;De++){var Ke=Ne[De];if(Ke.secondGlyph===A)return Ke.value1&&Ke.value1.xAdvance||0}break;case 2:var ot=this.getGlyphClass(Z.classDef1,T),ut=this.getGlyphClass(Z.classDef2,A),ot=Z.classRecords[ot][ut];return ot.value1&&ot.value1.xAdvance||0}}return 0},xt.prototype.getKerningTables=function(_,T){if(this.font.tables.gpos)return this.getLookupTables(_,T,"kern",2)},(dt.prototype=st.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},dt.prototype.getSingle=function(_,T,A){for(var R=[],N=this.getLookupTables(T,A,_,1),q=0;q<N.length;q++)for(var Z=N[q].subtables,Se=0;Se<Z.length;Se++){var Ne=Z[Se],De=this.expandCoverage(Ne.coverage),Ke=void 0;if(Ne.substFormat===1)for(var ut=Ne.deltaGlyphId,Ke=0;Ke<De.length;Ke++){var ot=De[Ke];R.push({sub:ot,by:ot+ut})}else{var He=Ne.substitute;for(Ke=0;Ke<De.length;Ke++)R.push({sub:De[Ke],by:He[Ke]})}}return R},dt.prototype.getAlternates=function(_,T,A){for(var R=[],N=this.getLookupTables(T,A,_,3),q=0;q<N.length;q++)for(var Z=N[q].subtables,Se=0;Se<Z.length;Se++)for(var Ne=Z[Se],De=this.expandCoverage(Ne.coverage),Ke=Ne.alternateSets,ut=0;ut<De.length;ut++)R.push({sub:De[ut],by:Ke[ut]});return R},dt.prototype.getLigatures=function(_,T,A){for(var R=[],N=this.getLookupTables(T,A,_,4),q=0;q<N.length;q++)for(var Z=N[q].subtables,Se=0;Se<Z.length;Se++)for(var Ne=Z[Se],De=this.expandCoverage(Ne.coverage),Ke=Ne.ligatureSets,ut=0;ut<De.length;ut++)for(var ot=De[ut],He=Ke[ut],jt=0;jt<He.length;jt++){var gt=He[jt];R.push({sub:[ot].concat(gt.components),by:gt.ligGlyph})}return R},dt.prototype.addSingle=function(_,T,A,R){A=Tt(this.getLookupTables(A,R,_,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),j.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),R=T.sub,_=this.binSearch(A.coverage.glyphs,R),_<0&&(A.coverage.glyphs.splice(_=-1-_,0,R),A.substitute.splice(_,0,0)),A.substitute[_]=T.by},dt.prototype.addAlternate=function(_,T,A,R){A=Tt(this.getLookupTables(A,R,_,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),j.assert(A.coverage.format===1,"Ligature: unable to modify coverage table format "+A.coverage.format),R=T.sub,_=this.binSearch(A.coverage.glyphs,R),_<0&&(A.coverage.glyphs.splice(_=-1-_,0,R),A.alternateSets.splice(_,0,0)),A.alternateSets[_]=T.by},dt.prototype.addLigature=function(q,Ne,Se,N){var Se=this.getLookupTables(Se,N,q,4,!0)[0],N=Se.subtables[0],q=(N||(Se.subtables[0]=N={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),j.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),Ne.sub[0]),Z=Ne.sub.slice(1),Se={ligGlyph:Ne.by,components:Z},Ne=this.binSearch(N.coverage.glyphs,q);if(0<=Ne){for(var De=N.ligatureSets[Ne],Ke=0;Ke<De.length;Ke++)if(function(ut,ot){var He=ut.length;if(He===ot.length){for(var jt=0;jt<He;jt++)if(ut[jt]!==ot[jt])return;return 1}}(De[Ke].components,Z))return;De.push(Se)}else N.coverage.glyphs.splice(Ne=-1-Ne,0,q),N.ligatureSets.splice(Ne,0,[Se])},dt.prototype.getFeature=function(_,T,A){if(/ss\d\d/.test(_))return this.getSingle(_,T,A);switch(_){case"aalt":case"salt":return this.getSingle(_,T,A).concat(this.getAlternates(_,T,A));case"dlig":case"liga":case"rlig":return this.getLigatures(_,T,A)}},dt.prototype.add=function(_,T,A,R){if(/ss\d\d/.test(_))return this.addSingle(_,T,A,R);switch(_){case"aalt":case"salt":return typeof T.by=="number"?this.addSingle(_,T,A,R):this.addAlternate(_,T,A,R);case"dlig":case"liga":case"rlig":return this.addLigature(_,T,A,R)}};var Ct={getPath:Vt,parse:function(_,T,A,R){for(var N=new me.GlyphSet(R),q=0;q<A.length-1;q+=1){var Z=A[q];Z!==A[q+1]?N.push(q,me.ttfGlyphLoader(R,q,Yt,_,T+Z,or)):N.push(q,me.glyphLoader(R,q))}return N}};function Gt(_){this.font=_,this.getCommands=function(T){return Ct.getPath(T).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Mt(_){return _}function $t(_){return Math.sign(_)*Math.round(Math.abs(_))}function Sr(_){return Math.sign(_)*Math.round(Math.abs(2*_))/2}function Nt(_){return Math.sign(_)*(Math.round(Math.abs(_)+.5)-.5)}function rr(_){return Math.sign(_)*Math.ceil(Math.abs(_))}function lr(_){return Math.sign(_)*Math.floor(Math.abs(_))}function Er(_){var T=this.srPeriod,A=this.srPhase,R=1;return _<0&&(_=-_,R=-1),_+=this.srThreshold-A,_=Math.trunc(_/T)*T,(_+=A)<0?A*R:_*R}var Nr={x:1,y:0,axis:"x",distance:function(_,T,A,R){return(A?_.xo:_.x)-(R?T.xo:T.x)},interpolate:function(_,T,A,R){var N,q,Z,Se,Ne,De,Ke;if(!R||R===this)return N=_.xo-T.xo,q=_.xo-A.xo,Ne=T.x-T.xo,De=A.x-A.xo,(Ke=(Z=Math.abs(N))+(Se=Math.abs(q)))===0?void(_.x=_.xo+(Ne+De)/2):void(_.x=_.xo+(Ne*Se+De*Z)/Ke);N=R.distance(_,T,!0,!0),q=R.distance(_,A,!0,!0),Ne=R.distance(T,T,!1,!0),De=R.distance(A,A,!1,!0),(Ke=(Z=Math.abs(N))+(Se=Math.abs(q)))===0?Nr.setRelative(_,_,(Ne+De)/2,R,!0):Nr.setRelative(_,_,(Ne*Se+De*Z)/Ke,R,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(_,T,A,R,N){var q,Z;R&&R!==this?(q=N?T.xo:T.x,Z=N?T.yo:T.y,q+=A*R.x,Z+=A*R.y,_.x=q+(_.y-Z)/R.normalSlope):_.x=(N?T.xo:T.x)+A},slope:0,touch:function(_){_.xTouched=!0},touched:function(_){return _.xTouched},untouch:function(_){_.xTouched=!1}},yr={x:0,y:1,axis:"y",distance:function(_,T,A,R){return(A?_.yo:_.y)-(R?T.yo:T.y)},interpolate:function(_,T,A,R){var N,q,Z,Se,Ne,De,Ke;if(!R||R===this)return N=_.yo-T.yo,q=_.yo-A.yo,Ne=T.y-T.yo,De=A.y-A.yo,(Ke=(Z=Math.abs(N))+(Se=Math.abs(q)))===0?void(_.y=_.yo+(Ne+De)/2):void(_.y=_.yo+(Ne*Se+De*Z)/Ke);N=R.distance(_,T,!0,!0),q=R.distance(_,A,!0,!0),Ne=R.distance(T,T,!1,!0),De=R.distance(A,A,!1,!0),(Ke=(Z=Math.abs(N))+(Se=Math.abs(q)))===0?yr.setRelative(_,_,(Ne+De)/2,R,!0):yr.setRelative(_,_,(Ne*Se+De*Z)/Ke,R,!0)},normalSlope:0,setRelative:function(_,T,A,R,N){var q,Z;R&&R!==this?(q=N?T.xo:T.x,Z=N?T.yo:T.y,q+=A*R.x,Z+=A*R.y,_.y=Z+R.normalSlope*(_.x-q)):_.y=(N?T.yo:T.y)+A},slope:Number.POSITIVE_INFINITY,touch:function(_){_.yTouched=!0},touched:function(_){return _.yTouched},untouch:function(_){_.yTouched=!1}};function vr(_,T){this.x=_,this.y=T,this.axis=void 0,this.slope=T/_,this.normalSlope=-_/T,Object.freeze(this)}function an(_,T){var A=Math.sqrt(_*_+T*T);return T/=A,(_/=A)===1&&T===0?Nr:_===0&&T===1?yr:new vr(_,T)}function Gr(_,T,A,R){this.x=this.xo=Math.round(64*_)/64,this.y=this.yo=Math.round(64*T)/64,this.lastPointOfContour=A,this.onCurve=R,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Nr),Object.freeze(yr),vr.prototype.distance=function(_,T,A,R){return this.x*Nr.distance(_,T,A,R)+this.y*yr.distance(_,T,A,R)},vr.prototype.interpolate=function(_,N,q,R){var Z=R.distance(_,N,!0,!0),Se=R.distance(_,q,!0,!0),N=R.distance(N,N,!1,!0),q=R.distance(q,q,!1,!0),Z=Math.abs(Z),Se=Math.abs(Se),Ne=Z+Se;Ne===0?this.setRelative(_,_,(N+q)/2,R,!0):this.setRelative(_,_,(N*Se+q*Z)/Ne,R,!0)},vr.prototype.setRelative=function(_,q,Ne,De,Se){var Z=Se?q.xo:q.x,Se=Se?q.yo:q.y,q=Z+Ne*(De=De||this).x,Z=Se+Ne*De.y,Se=De.normalSlope,Ne=this.slope,De=_.x,Ke=_.y;_.x=(Ne*De-Se*q+Z-Ke)/(Ne-Se),_.y=Ne*(_.x-De)+Ke},vr.prototype.touch=function(_){_.xTouched=!0,_.yTouched=!0},Gr.prototype.nextTouched=function(_){for(var T=this.nextPointOnContour;!_.touched(T)&&T!==this;)T=T.nextPointOnContour;return T},Gr.prototype.prevTouched=function(_){for(var T=this.prevPointOnContour;!_.touched(T)&&T!==this;)T=T.prevPointOnContour;return T};var pn=Object.freeze(new Gr(0,0)),Jn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function ln(_,T){switch(this.env=_,this.stack=[],this.prog=T,_){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Nr,this.round=$t}}function un(_){for(var T=_.tZone=new Array(_.gZone.length),A=0;A<T.length;A++)T[A]=new Gr(0,0)}function jo(_,T){var A,R=_.prog,N=_.ip,q=1;do if((A=R[++N])===88)q++;else if(A===89)q--;else if(A===64)N+=R[N+1]+1;else if(A===65)N+=2*R[N+1]+1;else if(176<=A&&A<=183)N+=A-176+1;else if(184<=A&&A<=191)N+=2*(A-184+1);else if(T&&q===1&&A===27)break;while(0<q);_.ip=N}function ss(_,T){d.DEBUG&&console.log(T.step,"SVTCA["+_.axis+"]"),T.fv=T.pv=T.dpv=_}function Ni(_,T){d.DEBUG&&console.log(T.step,"SPVTCA["+_.axis+"]"),T.pv=T.dpv=_}function Pa(_,T){d.DEBUG&&console.log(T.step,"SFVTCA["+_.axis+"]"),T.fv=_}function Ia(_,T){var A,N=T.stack,R=N.pop(),N=N.pop(),q=T.z2[R],Z=T.z1[N];d.DEBUG&&console.log("SPVTL["+_+"]",R,N),R=_?(A=q.y-Z.y,Z.x-q.x):(A=Z.x-q.x,Z.y-q.y),T.pv=T.dpv=an(A,R)}function Da(_,T){var A,N=T.stack,R=N.pop(),N=N.pop(),q=T.z2[R],Z=T.z1[N];d.DEBUG&&console.log("SFVTL["+_+"]",R,N),R=_?(A=q.y-Z.y,Z.x-q.x):(A=Z.x-q.x,Z.y-q.y),T.fv=an(A,R)}function Tr(_){d.DEBUG&&console.log(_.step,"POP[]"),_.stack.pop()}function La(_,T){var A=T.stack.pop(),R=T.z0[A],N=T.fv,q=T.pv,Z=(d.DEBUG&&console.log(T.step,"MDAP["+_+"]",A),q.distance(R,pn));_&&(Z=T.round(Z)),N.setRelative(R,pn,Z,q),N.touch(R),T.rp0=T.rp1=A}function Na(_,T){var A,R,N,q=T.z2,Z=q.length-2;d.DEBUG&&console.log(T.step,"IUP["+_.axis+"]");for(var Se=0;Se<Z;Se++)A=q[Se],_.touched(A)||(R=A.prevTouched(_))!==A&&(R===(N=A.nextTouched(_))&&_.setRelative(A,A,_.distance(R,R,!1,!0),_,!0),_.interpolate(A,R,N,_))}function Bi(_,T){for(var A=T.stack,R=_?T.rp1:T.rp2,N=(_?T.z0:T.z1)[R],q=T.fv,Z=T.pv,Se=T.loop,Ne=T.z2;Se--;){var De=A.pop(),Ke=Ne[De],ut=Z.distance(N,N,!1,!0);q.setRelative(Ke,Ke,ut,Z),q.touch(Ke),d.DEBUG&&console.log(T.step,(1<T.loop?"loop "+(T.loop-Se)+": ":"")+"SHP["+(_?"rp1":"rp2")+"]",De)}T.loop=1}function Fi(_,T){for(var A=T.stack,Z=_?T.rp1:T.rp2,R=(_?T.z0:T.z1)[Z],N=T.fv,q=T.pv,Z=A.pop(),Se=T.z2[T.contours[Z]],Ne=Se,De=(d.DEBUG&&console.log(T.step,"SHC["+_+"]",Z),q.distance(R,R,!1,!0));Ne!==R&&N.setRelative(Ne,Ne,De,q),(Ne=Ne.nextPointOnContour)!==Se;);}function Ba(_,T){var A,R,Se=T.stack,N=_?T.rp1:T.rp2,N=(_?T.z0:T.z1)[N],q=T.fv,Z=T.pv,Se=Se.pop();switch(d.DEBUG&&console.log(T.step,"SHZ["+_+"]",Se),Se){case 0:A=T.tZone;break;case 1:A=T.gZone;break;default:throw new Error("Invalid zone")}for(var Ne=Z.distance(N,N,!1,!0),De=A.length-2,Ke=0;Ke<De;Ke++)R=A[Ke],q.setRelative(R,R,Ne,Z)}function Es(_,T){var R=T.stack,A=R.pop()/64,R=R.pop(),N=T.z1[R],q=T.z0[T.rp0],Z=T.fv,Se=T.pv;Z.setRelative(N,q,A,Se),Z.touch(N),d.DEBUG&&console.log(T.step,"MSIRP["+_+"]",A,R),T.rp1=T.rp0,T.rp2=R,_&&(T.rp0=R)}function ou(_,T){var A=T.stack,Se=A.pop(),A=A.pop(),R=T.z0[A],N=T.fv,q=T.pv,Z=T.cvt[Se],Se=(d.DEBUG&&console.log(T.step,"MIAP["+_+"]",Se,"(",Z,")",A),q.distance(R,pn));_&&(Math.abs(Se-Z)<T.cvCutIn&&(Se=Z),Se=T.round(Se)),N.setRelative(R,pn,Se,q),T.zp0===0&&(R.xo=R.x,R.yo=R.y),N.touch(R),T.rp0=T.rp1=A}function Jr(_,T){var A=T.stack,R=A.pop(),N=T.z2[R];d.DEBUG&&console.log(T.step,"GC["+_+"]",R),A.push(64*T.dpv.distance(N,pn,_,!1))}function Ui(_,T){var R=T.stack,A=R.pop(),R=R.pop(),N=T.z1[A],q=T.z0[R],q=T.dpv.distance(q,N,_,_);d.DEBUG&&console.log(T.step,"MD["+_+"]",A,R,"->",q),T.stack.push(Math.round(64*q))}function ii(_,T){var A=T.stack,R=A.pop(),N=T.fv,q=T.pv,Z=T.ppem,Se=T.deltaBase+16*(_-1),Ne=T.deltaShift,De=T.z0;d.DEBUG&&console.log(T.step,"DELTAP["+_+"]",R,A);for(var Ke=0;Ke<R;Ke++){var ut=A.pop(),ot=A.pop();Se+((240&ot)>>4)===Z&&(0<=(ot=(15&ot)-8)&&ot++,d.DEBUG&&console.log(T.step,"DELTAPFIX",ut,"by",ot*Ne),ut=De[ut],N.setRelative(ut,ut,ot*Ne,q))}}function Cs(_,T){var A=T.stack,R=A.pop();d.DEBUG&&console.log(T.step,"ROUND[]"),A.push(64*T.round(R/64))}function vn(_,T){var A=T.stack,R=A.pop(),N=T.ppem,q=T.deltaBase+16*(_-1),Z=T.deltaShift;d.DEBUG&&console.log(T.step,"DELTAC["+_+"]",R,A);for(var Se=0;Se<R;Se++){var Ne=A.pop(),De=A.pop();q+((240&De)>>4)===N&&(0<=(De=(15&De)-8)&&De++,De=De*Z,d.DEBUG&&console.log(T.step,"DELTACFIX",Ne,"by",De),T.cvt[Ne]+=De)}}function Ms(_,T){var A,N=T.stack,R=N.pop(),N=N.pop(),q=T.z2[R],Z=T.z1[N];d.DEBUG&&console.log(T.step,"SDPVTL["+_+"]",R,N),R=_?(A=q.y-Z.y,Z.x-q.x):(A=Z.x-q.x,Z.y-q.y),T.dpv=an(A,R)}function Rn(_,T){var A=T.stack,R=T.prog,N=T.ip;d.DEBUG&&console.log(T.step,"PUSHB["+_+"]");for(var q=0;q<_;q++)A.push(R[++N]);T.ip=N}function co(_,T){var A=T.ip,R=T.prog,N=T.stack;d.DEBUG&&console.log(T.ip,"PUSHW["+_+"]");for(var q=0;q<_;q++){var Z=R[++A]<<8|R[++A];32768&Z&&(Z=-(1+(65535^Z))),N.push(Z)}T.ip=A}function Ht(_,T,A,R,N,q){var Z,Se,De=q.stack,Ne=_&&De.pop(),De=De.pop(),Ke=q.rp0,Ke=q.z0[Ke],ut=q.z1[De],ot=q.minDis,He=q.fv,jt=q.dpv,gt=Z=jt.distance(ut,Ke,!0,!0),St=0<=gt?1:-1;gt=Math.abs(gt),_&&(Se=q.cvt[Ne],R&&Math.abs(gt-Se)<q.cvCutIn&&(gt=Se)),A&&gt<ot&&(gt=ot),R&&(gt=q.round(gt)),He.setRelative(ut,Ke,St*gt,jt),He.touch(ut),d.DEBUG&&console.log(q.step,(_?"MIRP[":"MDRP[")+(T?"M":"m")+(A?">":"_")+(R?"R":"_")+(N===0?"Gr":N===1?"Bl":N===2?"Wh":"")+"]",_?Ne+"("+q.cvt[Ne]+","+Se+")":"",De,"(d =",Z,"->",St*gt,")"),q.rp1=q.rp0,q.rp2=De,T&&(q.rp0=De)}Gt.prototype.exec=function(_,T){if(typeof T!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var A=this.font,R=this._prepState;if(!R||R.ppem!==T){var N=this._fpgmState;if(!N){ln.prototype=Jn,(N=this._fpgmState=new ln("fpgm",A.tables.fpgm)).funcs=[],N.font=A,d.DEBUG&&(console.log("---EXEC FPGM---"),N.step=-1);try{ho(N)}catch(De){return console.log("Hinting error in FPGM:"+De),void(this._errorState=3)}}ln.prototype=N,(R=this._prepState=new ln("prep",A.tables.prep)).ppem=T;var q=A.tables.cvt;if(q)for(var Z=R.cvt=new Array(q.length),Se=T/A.unitsPerEm,Ne=0;Ne<q.length;Ne++)Z[Ne]=q[Ne]*Se;else R.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),R.step=-1);try{ho(R)}catch(De){this._errorState<2&&console.log("Hinting error in PREP:"+De),this._errorState=2}}if(!(1<this._errorState))try{return Fa(_,R)}catch(De){this._errorState<1&&(console.log("Hinting error:"+De),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Fa=function(_,T){var A=T.ppem/T.font.unitsPerEm,R=A,N=_.components;if(ln.prototype=T,N){for(var q=T.font,Z=[],Se=[],Ne=0;Ne<N.length;Ne++){var De=N[Ne],Ke=q.glyphs.get(De.glyphIndex),ut=new ln("glyf",Ke.instructions);d.DEBUG&&(console.log("---EXEC COMP "+Ne+"---"),ut.step=-1),As(Ke,ut,A,R);for(var ot=Math.round(De.dx*A),He=Math.round(De.dy*R),jt=ut.gZone,gt=ut.contours,St=0;St<jt.length;St++){var ht=jt[St];ht.xTouched=ht.yTouched=!1,ht.xo=ht.x=ht.x+ot,ht.yo=ht.y=ht.y+He}var ft=Z.length;Z.push.apply(Z,jt);for(var Zt=0;Zt<gt.length;Zt++)Se.push(gt[Zt]+ft)}_.instructions&&!ut.inhibitGridFit&&((ut=new ln("glyf",_.instructions)).gZone=ut.z0=ut.z1=ut.z2=Z,ut.contours=Se,Z.push(new Gr(0,0),new Gr(Math.round(_.advanceWidth*A),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),ut.step=-1),ho(ut),Z.length-=2)}else ut=new ln("glyf",_.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),ut.step=-1),As(_,ut,A,R),Z=ut.gZone;return Z},As=function(_,T,A,R){for(var N,q,Z,Se=_.points||[],Ne=Se.length,De=T.gZone=T.z0=T.z1=T.z2=[],Ke=T.contours=[],ut=0;ut<Ne;ut++)N=Se[ut],De[ut]=new Gr(N.x*A,N.y*R,N.lastPointOfContour,N.onCurve);for(var ot=0;ot<Ne;ot++)N=De[ot],q||(q=N,Ke.push(ot)),N.lastPointOfContour?((N.nextPointOnContour=q).prevPointOnContour=N,q=void 0):(Z=De[ot+1],(N.nextPointOnContour=Z).prevPointOnContour=N);if(!T.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",T.stack);for(var He=0;He<Ne;He++)console.log(He,De[He].x,De[He].y)}if(De.push(new Gr(0,0),new Gr(Math.round(_.advanceWidth*A),0)),ho(T),De.length-=2,d.DEBUG){console.log("FINISHED GLYPH",T.stack);for(var jt=0;jt<Ne;jt++)console.log(jt,De[jt].x,De[jt].y)}}},ho=function(_){var T=_.prog;if(T){var A,R=T.length;for(_.ip=0;_.ip<R;_.ip++){if(d.DEBUG&&_.step++,!(A=Vi[T[_.ip]]))throw new Error("unknown instruction: 0x"+Number(T[_.ip]).toString(16));A(_)}}},Vi=[ss.bind(void 0,yr),ss.bind(void 0,Nr),Ni.bind(void 0,yr),Ni.bind(void 0,Nr),Pa.bind(void 0,yr),Pa.bind(void 0,Nr),Ia.bind(void 0,0),Ia.bind(void 0,1),Da.bind(void 0,0),Da.bind(void 0,1),function(_){var T=(A=_.stack).pop(),A=A.pop();d.DEBUG&&console.log(_.step,"SPVFS[]",T,A),_.pv=_.dpv=an(A,T)},function(_){var T=(A=_.stack).pop(),A=A.pop();d.DEBUG&&console.log(_.step,"SPVFS[]",T,A),_.fv=an(A,T)},function(_){var T=_.stack,A=_.pv;d.DEBUG&&console.log(_.step,"GPV[]"),T.push(16384*A.x),T.push(16384*A.y)},function(_){var T=_.stack,A=_.fv;d.DEBUG&&console.log(_.step,"GFV[]"),T.push(16384*A.x),T.push(16384*A.y)},function(_){_.fv=_.pv,d.DEBUG&&console.log(_.step,"SFVTPV[]")},function(T){var A=(Z=T.stack).pop(),R=Z.pop(),N=Z.pop(),q=Z.pop(),Z=Z.pop(),Ne=T.z0,Ke=T.z1,Se=Ne[A],Ne=Ne[R],De=Ke[N],Ke=Ke[q],T=T.z2[Z],A=(d.DEBUG&&console.log("ISECT[], ",A,R,N,q,Z),Se.x),R=Se.y,N=Ne.x,q=Ne.y,Z=De.x,Se=De.y,Ne=Ke.x,De=Ke.y,Ke=(A-N)*(Se-De)-(R-q)*(Z-Ne),ut=A*q-R*N,ot=Z*De-Se*Ne;T.x=(ut*(Z-Ne)-ot*(A-N))/Ke,T.y=(ut*(Se-De)-ot*(R-q))/Ke},function(_){_.rp0=_.stack.pop(),d.DEBUG&&console.log(_.step,"SRP0[]",_.rp0)},function(_){_.rp1=_.stack.pop(),d.DEBUG&&console.log(_.step,"SRP1[]",_.rp1)},function(_){_.rp2=_.stack.pop(),d.DEBUG&&console.log(_.step,"SRP2[]",_.rp2)},function(_){var T=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZP0[]",T),_.zp0=T){case 0:_.tZone||un(_),_.z0=_.tZone;break;case 1:_.z0=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var T=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZP1[]",T),_.zp1=T){case 0:_.tZone||un(_),_.z1=_.tZone;break;case 1:_.z1=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var T=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZP2[]",T),_.zp2=T){case 0:_.tZone||un(_),_.z2=_.tZone;break;case 1:_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var T=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SZPS[]",T),_.zp0=_.zp1=_.zp2=T){case 0:_.tZone||un(_),_.z0=_.z1=_.z2=_.tZone;break;case 1:_.z0=_.z1=_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){_.loop=_.stack.pop(),d.DEBUG&&console.log(_.step,"SLOOP[]",_.loop)},function(_){d.DEBUG&&console.log(_.step,"RTG[]"),_.round=$t},function(_){d.DEBUG&&console.log(_.step,"RTHG[]"),_.round=Nt},function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"SMD[]",T),_.minDis=T/64},function(_){d.DEBUG&&console.log(_.step,"ELSE[]"),jo(_,!1)},function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"JMPR[]",T),_.ip+=T-1},function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"SCVTCI[]",T),_.cvCutIn=T/64},void 0,void 0,function(_){var T=_.stack;d.DEBUG&&console.log(_.step,"DUP[]"),T.push(T[T.length-1])},Tr,function(_){d.DEBUG&&console.log(_.step,"CLEAR[]"),_.stack.length=0},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"SWAP[]"),T.push(A),T.push(R)},function(_){var T=_.stack;d.DEBUG&&console.log(_.step,"DEPTH[]"),T.push(T.length)},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"CINDEX[]",A),T.push(T[T.length-A])},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"MINDEX[]",A),T.push(T.splice(T.length-A,1)[0])},void 0,void 0,void 0,function(_){var T=(R=_.stack).pop(),A=R.pop(),R=(d.DEBUG&&console.log(_.step,"LOOPCALL[]",T,A),_.ip),N=_.prog;_.prog=_.funcs[T];for(var q=0;q<A;q++)ho(_),d.DEBUG&&console.log(++_.step,q+1<A?"next loopcall":"done loopcall",q);_.ip=R,_.prog=N},function(_){var T=_.stack.pop(),A=(d.DEBUG&&console.log(_.step,"CALL[]",T),_.ip),R=_.prog;_.prog=_.funcs[T],ho(_),_.ip=A,_.prog=R,d.DEBUG&&console.log(++_.step,"returning from",T)},function(_){if(_.env!=="fpgm")throw new Error("FDEF not allowed here");var R=_.stack,T=_.prog,A=_.ip,R=R.pop(),N=A;for(d.DEBUG&&console.log(_.step,"FDEF[]",R);T[++A]!==45;);_.ip=A,_.funcs[R]=T.slice(N+1,A)},void 0,La.bind(void 0,0),La.bind(void 0,1),Na.bind(void 0,yr),Na.bind(void 0,Nr),Bi.bind(void 0,0),Bi.bind(void 0,1),Fi.bind(void 0,0),Fi.bind(void 0,1),Ba.bind(void 0,0),Ba.bind(void 0,1),function(_){for(var T=_.stack,A=_.loop,R=_.fv,N=T.pop()/64,q=_.z2;A--;){var Z=T.pop(),Se=q[Z];d.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-A)+": ":"")+"SHPIX[]",Z,N),R.setRelative(Se,Se,N),R.touch(Se)}_.loop=1},function(_){for(var T=_.stack,A=_.rp1,R=_.rp2,N=_.loop,q=_.z0[A],Z=_.z1[R],Se=_.fv,Ne=_.dpv,De=_.z2;N--;){var Ke=T.pop(),ut=De[Ke];d.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-N)+": ":"")+"IP[]",Ke,A,"<->",R),Se.interpolate(ut,q,Z,Ne),Se.touch(ut)}_.loop=1},Es.bind(void 0,0),Es.bind(void 0,1),function(_){for(var T=_.stack,A=_.rp0,R=_.z0[A],N=_.loop,q=_.fv,Z=_.pv,Se=_.z1;N--;){var Ne=T.pop(),De=Se[Ne];d.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-N)+": ":"")+"ALIGNRP[]",Ne),q.setRelative(De,R,0,Z),q.touch(De)}_.loop=1},function(_){d.DEBUG&&console.log(_.step,"RTDG[]"),_.round=Sr},ou.bind(void 0,0),ou.bind(void 0,1),function(_){var T=_.prog,A=_.ip,R=_.stack,N=T[++A];d.DEBUG&&console.log(_.step,"NPUSHB[]",N);for(var q=0;q<N;q++)R.push(T[++A]);_.ip=A},function(_){var T=_.ip,A=_.prog,R=_.stack,N=A[++T];d.DEBUG&&console.log(_.step,"NPUSHW[]",N);for(var q=0;q<N;q++){var Z=A[++T]<<8|A[++T];32768&Z&&(Z=-(1+(65535^Z))),R.push(Z)}_.ip=T},function(_){var R=_.stack,T=(T=_.store)||(_.store=[]),A=R.pop(),R=R.pop();d.DEBUG&&console.log(_.step,"WS",A,R),T[R]=A},function(N){var T=N.stack,A=N.store,R=T.pop(),N=(d.DEBUG&&console.log(N.step,"RS",R),A&&A[R]||0);T.push(N)},function(_){var T=(A=_.stack).pop(),A=A.pop();d.DEBUG&&console.log(_.step,"WCVTP",T,A),_.cvt[A]=T/64},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"RCVT",A),T.push(64*_.cvt[A])},Jr.bind(void 0,0),Jr.bind(void 0,1),void 0,Ui.bind(void 0,0),Ui.bind(void 0,1),function(_){d.DEBUG&&console.log(_.step,"MPPEM[]"),_.stack.push(_.ppem)},void 0,function(_){d.DEBUG&&console.log(_.step,"FLIPON[]"),_.autoFlip=!0},void 0,void 0,function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"LT[]",A,R),T.push(R<A?1:0)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"LTEQ[]",A,R),T.push(R<=A?1:0)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"GT[]",A,R),T.push(A<R?1:0)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"GTEQ[]",A,R),T.push(A<=R?1:0)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"EQ[]",A,R),T.push(A===R?1:0)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"NEQ[]",A,R),T.push(A!==R?1:0)},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"ODD[]",A),T.push(Math.trunc(A)%2?1:0)},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"EVEN[]",A),T.push(Math.trunc(A)%2?0:1)},function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"IF[]",T),T||(jo(_,!0),d.DEBUG&&console.log(_.step,"EIF[]"))},function(_){d.DEBUG&&console.log(_.step,"EIF[]")},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"AND[]",A,R),T.push(A&&R?1:0)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"OR[]",A,R),T.push(A||R?1:0)},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"NOT[]",A),T.push(A?0:1)},ii.bind(void 0,1),function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"SDB[]",T),_.deltaBase=T},function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"SDS[]",T),_.deltaShift=Math.pow(.5,T)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"ADD[]",A,R),T.push(R+A)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"SUB[]",A,R),T.push(R-A)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"DIV[]",A,R),T.push(64*R/A)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"MUL[]",A,R),T.push(R*A/64)},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"ABS[]",A),T.push(Math.abs(A))},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"NEG[]",A),T.push(-A)},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"FLOOR[]",A),T.push(64*Math.floor(A/64))},function(_){var T=_.stack,A=T.pop();d.DEBUG&&console.log(_.step,"CEILING[]",A),T.push(64*Math.ceil(A/64))},Cs.bind(void 0,0),Cs.bind(void 0,1),Cs.bind(void 0,2),Cs.bind(void 0,3),void 0,void 0,void 0,void 0,function(_){var T=(A=_.stack).pop(),A=A.pop();d.DEBUG&&console.log(_.step,"WCVTF[]",T,A),_.cvt[A]=T*_.ppem/_.font.unitsPerEm},ii.bind(void 0,2),ii.bind(void 0,3),vn.bind(void 0,1),vn.bind(void 0,2),vn.bind(void 0,3),function(_){var T,A=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"SROUND[]",A),_.round=Er,192&A){case 0:T=.5;break;case 64:T=1;break;case 128:T=2;break;default:throw new Error("invalid SROUND value")}switch(_.srPeriod=T,48&A){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*T;break;case 32:_.srPhase=.5*T;break;case 48:_.srPhase=.75*T;break;default:throw new Error("invalid SROUND value")}_.srThreshold=(A&=15)===0?0:(A/8-.5)*T},function(_){var T,A=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"S45ROUND[]",A),_.round=Er,192&A){case 0:T=Math.sqrt(2)/2;break;case 64:T=Math.sqrt(2);break;case 128:T=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(_.srPeriod=T,48&A){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*T;break;case 32:_.srPhase=.5*T;break;case 48:_.srPhase=.75*T;break;default:throw new Error("invalid S45ROUND value")}_.srThreshold=(A&=15)===0?0:(A/8-.5)*T},void 0,void 0,function(_){d.DEBUG&&console.log(_.step,"ROFF[]"),_.round=Mt},void 0,function(_){d.DEBUG&&console.log(_.step,"RUTG[]"),_.round=rr},function(_){d.DEBUG&&console.log(_.step,"RDTG[]"),_.round=lr},Tr,Tr,void 0,void 0,void 0,void 0,void 0,function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"SCANCTRL[]",T)},Ms.bind(void 0,0),Ms.bind(void 0,1),function(_){var T=_.stack,A=T.pop(),R=0;d.DEBUG&&console.log(_.step,"GETINFO[]",A),1&A&&(R=35),32&A&&(R|=4096),T.push(R)},void 0,function(_){var T=_.stack,A=T.pop(),R=T.pop(),N=T.pop();d.DEBUG&&console.log(_.step,"ROLL[]"),T.push(R),T.push(A),T.push(N)},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"MAX[]",A,R),T.push(Math.max(R,A))},function(_){var T=_.stack,A=T.pop(),R=T.pop();d.DEBUG&&console.log(_.step,"MIN[]",A,R),T.push(Math.min(R,A))},function(_){var T=_.stack.pop();d.DEBUG&&console.log(_.step,"SCANTYPE[]",T)},function(_){var T=_.stack.pop(),A=_.stack.pop();switch(d.DEBUG&&console.log(_.step,"INSTCTRL[]",T,A),T){case 1:return void(_.inhibitGridFit=!!A);case 2:return void(_.ignoreCvt=!!A);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Rn.bind(void 0,1),Rn.bind(void 0,2),Rn.bind(void 0,3),Rn.bind(void 0,4),Rn.bind(void 0,5),Rn.bind(void 0,6),Rn.bind(void 0,7),Rn.bind(void 0,8),co.bind(void 0,1),co.bind(void 0,2),co.bind(void 0,3),co.bind(void 0,4),co.bind(void 0,5),co.bind(void 0,6),co.bind(void 0,7),co.bind(void 0,8),Ht.bind(void 0,0,0,0,0,0),Ht.bind(void 0,0,0,0,0,1),Ht.bind(void 0,0,0,0,0,2),Ht.bind(void 0,0,0,0,0,3),Ht.bind(void 0,0,0,0,1,0),Ht.bind(void 0,0,0,0,1,1),Ht.bind(void 0,0,0,0,1,2),Ht.bind(void 0,0,0,0,1,3),Ht.bind(void 0,0,0,1,0,0),Ht.bind(void 0,0,0,1,0,1),Ht.bind(void 0,0,0,1,0,2),Ht.bind(void 0,0,0,1,0,3),Ht.bind(void 0,0,0,1,1,0),Ht.bind(void 0,0,0,1,1,1),Ht.bind(void 0,0,0,1,1,2),Ht.bind(void 0,0,0,1,1,3),Ht.bind(void 0,0,1,0,0,0),Ht.bind(void 0,0,1,0,0,1),Ht.bind(void 0,0,1,0,0,2),Ht.bind(void 0,0,1,0,0,3),Ht.bind(void 0,0,1,0,1,0),Ht.bind(void 0,0,1,0,1,1),Ht.bind(void 0,0,1,0,1,2),Ht.bind(void 0,0,1,0,1,3),Ht.bind(void 0,0,1,1,0,0),Ht.bind(void 0,0,1,1,0,1),Ht.bind(void 0,0,1,1,0,2),Ht.bind(void 0,0,1,1,0,3),Ht.bind(void 0,0,1,1,1,0),Ht.bind(void 0,0,1,1,1,1),Ht.bind(void 0,0,1,1,1,2),Ht.bind(void 0,0,1,1,1,3),Ht.bind(void 0,1,0,0,0,0),Ht.bind(void 0,1,0,0,0,1),Ht.bind(void 0,1,0,0,0,2),Ht.bind(void 0,1,0,0,0,3),Ht.bind(void 0,1,0,0,1,0),Ht.bind(void 0,1,0,0,1,1),Ht.bind(void 0,1,0,0,1,2),Ht.bind(void 0,1,0,0,1,3),Ht.bind(void 0,1,0,1,0,0),Ht.bind(void 0,1,0,1,0,1),Ht.bind(void 0,1,0,1,0,2),Ht.bind(void 0,1,0,1,0,3),Ht.bind(void 0,1,0,1,1,0),Ht.bind(void 0,1,0,1,1,1),Ht.bind(void 0,1,0,1,1,2),Ht.bind(void 0,1,0,1,1,3),Ht.bind(void 0,1,1,0,0,0),Ht.bind(void 0,1,1,0,0,1),Ht.bind(void 0,1,1,0,0,2),Ht.bind(void 0,1,1,0,0,3),Ht.bind(void 0,1,1,0,1,0),Ht.bind(void 0,1,1,0,1,1),Ht.bind(void 0,1,1,0,1,2),Ht.bind(void 0,1,1,0,1,3),Ht.bind(void 0,1,1,1,0,0),Ht.bind(void 0,1,1,1,0,1),Ht.bind(void 0,1,1,1,0,2),Ht.bind(void 0,1,1,1,0,3),Ht.bind(void 0,1,1,1,1,0),Ht.bind(void 0,1,1,1,1,1),Ht.bind(void 0,1,1,1,1,2),Ht.bind(void 0,1,1,1,1,3)],Gi=Array.from||function(_){return _.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Cr(_){(_=_||{}).empty||(Xt(_.familyName,"When creating a new Font object, familyName is required."),Xt(_.styleName,"When creating a new Font object, styleName is required."),Xt(_.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Xt(_.ascender,"When creating a new Font object, ascender is required."),Xt(_.descender,"When creating a new Font object, descender is required."),Xt(_.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:_.familyName||" "},fontSubfamily:{en:_.styleName||" "},fullName:{en:_.fullName||_.familyName+" "+_.styleName},postScriptName:{en:_.postScriptName||(_.familyName+_.styleName).replace(/\s/g,"")},designer:{en:_.designer||" "},designerURL:{en:_.designerURL||" "},manufacturer:{en:_.manufacturer||" "},manufacturerURL:{en:_.manufacturerURL||" "},license:{en:_.license||" "},licenseURL:{en:_.licenseURL||" "},version:{en:_.version||"Version 0.1"},description:{en:_.description||" "},copyright:{en:_.copyright||" "},trademark:{en:_.trademark||" "}},this.unitsPerEm=_.unitsPerEm||1e3,this.ascender=_.ascender,this.descender=_.descender,this.createdTimestamp=_.createdTimestamp,this.tables={os2:{usWeightClass:_.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:_.widthClass||this.usWidthClasses.MEDIUM,fsSelection:_.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new me.GlyphSet(this,_.glyphs||[]),this.encoding=new ve(this),this.position=new xt(this),this.substitution=new dt(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Gt(this):void 0)}})}function p0(_,T){var A,R=JSON.stringify(_),N=256;for(A in T){var q=parseInt(A);if(q&&!(q<256)){if(JSON.stringify(T[A])===R)return q;N<=q&&(N=q+1)}}return T[N]=_,N}Cr.prototype.hasChar=function(_){return this.encoding.charToGlyphIndex(_)!==null},Cr.prototype.charToGlyphIndex=function(_){return this.encoding.charToGlyphIndex(_)},Cr.prototype.charToGlyph=function(_){return _=this.charToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},Cr.prototype.stringToGlyphs=function(_,T){T=T||this.defaultRenderOptions;for(var A=Gi(_),R=[],N=0;N<A.length;N+=1){var q=A[N];R.push(this.charToGlyphIndex(q))}var Z=R.length;if(T.features){var _=T.script||this.substitution.getDefaultScriptName(),Se=[];T.features.liga&&(Se=Se.concat(this.substitution.getFeature("liga",_,T.language))),T.features.rlig&&(Se=Se.concat(this.substitution.getFeature("rlig",_,T.language)));for(var Ne=0;Ne<Z;Ne+=1)for(var De=0;De<Se.length;De++){for(var Ke=Se[De],ut=Ke.sub,ot=ut.length,He=0;He<ot&&ut[He]===R[Ne+He];)He++;He===ot&&(R.splice(Ne,ot,Ke.by),Z=Z-ot+1)}}for(var jt=new Array(Z),gt=this.glyphs.get(0),St=0;St<Z;St+=1)jt[St]=this.glyphs.get(R[St])||gt;return jt},Cr.prototype.nameToGlyphIndex=function(_){return this.glyphNames.nameToGlyphIndex(_)},Cr.prototype.nameToGlyph=function(_){return _=this.nameToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},Cr.prototype.glyphIndexToName=function(_){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(_):""},Cr.prototype.getKerningValue=function(_,T){_=_.index||_,T=T.index||T;var A=this.position.defaultKerningTables;return A?this.position.getKerningValue(A,_,T):this.kerningPairs[_+","+T]||0},Cr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Cr.prototype.forEachGlyph=function(_,T,A,R,N,q){T=T!==void 0?T:0,A=A!==void 0?A:0,N=N||this.defaultRenderOptions;var Z,Se=1/this.unitsPerEm*(R=R!==void 0?R:72),Ne=this.stringToGlyphs(_,N);N.kerning&&(_=N.script||this.position.getDefaultScriptName(),Z=this.position.getKerningTables(_,N.language));for(var De=0;De<Ne.length;De+=1){var Ke=Ne[De];q.call(this,Ke,T,A,R,N),Ke.advanceWidth&&(T+=Ke.advanceWidth*Se),N.kerning&&De<Ne.length-1&&(T+=(Z?this.position.getKerningValue(Z,Ke.index,Ne[De+1].index):this.getKerningValue(Ke,Ne[De+1]))*Se),N.letterSpacing?T+=N.letterSpacing*R:N.tracking&&(T+=N.tracking/1e3*R)}return T},Cr.prototype.getPath=function(_,T,A,R,N){var q=new de;return this.forEachGlyph(_,T,A,R,N,function(Z,Se,Ne,De){Z=Z.getPath(Se,Ne,De,N,this),q.extend(Z)}),q},Cr.prototype.getPaths=function(_,T,A,R,N){var q=[];return this.forEachGlyph(_,T,A,R,N,function(Z,Se,Ne,De){Z=Z.getPath(Se,Ne,De,N,this),q.push(Z)}),q},Cr.prototype.getAdvanceWidth=function(_,T,A){return this.forEachGlyph(_,0,0,T,A,function(){})},Cr.prototype.draw=function(_,T,A,R,N,q){this.getPath(T,A,R,N,q).draw(_)},Cr.prototype.drawPoints=function(_,T,A,R,N,q){this.forEachGlyph(T,A,R,N,q,function(Z,Se,Ne,De){Z.drawPoints(_,Se,Ne,De)})},Cr.prototype.drawMetrics=function(_,T,A,R,N,q){this.forEachGlyph(T,A,R,N,q,function(Z,Se,Ne,De){Z.drawMetrics(_,Se,Ne,De)})},Cr.prototype.getEnglishName=function(_){if(_=this.names[_],_)return _.en},Cr.prototype.validate=function(){var _=this;function T(A){A=_.getEnglishName(A),A&&A.trim().length}T("fontFamily"),T("weightName"),T("manufacturer"),T("copyright"),T("version"),this.unitsPerEm},Cr.prototype.toTables=function(){return at.fontToTable(this)},Cr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Cr.prototype.toArrayBuffer=function(){for(var _=this.toTables().encode(),T=new ArrayBuffer(_.length),A=new Uint8Array(T),R=0;R<_.length;R++)A[R]=_[R];return T},Cr.prototype.download=function(_){var T=this.getEnglishName("fontFamily"),A=this.getEnglishName("fontSubfamily"),R=(_=_||T.replace(/\s/g,"")+"-"+A+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,R.byteLength,function(N){N.root.getFile(_,{create:!0},function(q){q.createWriter(function(Z){var Se=new DataView(R),Se=new Blob([Se],{type:"font/opentype"});Z.write(Se),Z.addEventListener("writeend",function(){location.href=q.toURL()},!1)})})},function(N){throw new Error(N.name+": "+N.message)})):(T=t("fs"),A=function(N){for(var q=new c(N.byteLength),Z=new Uint8Array(N),Se=0;Se<q.length;++Se)q[Se]=Z[Se];return q}(R),T.writeFileSync(_,A))},Cr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Cr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Cr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var S_={make:function(_,T){var A=new Pe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:_.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:_.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*_.axes.length}]);A.offsetToData=A.sizeOf();for(var R,N,q,Z=0;Z<_.axes.length;Z++)A.fields=A.fields.concat((R=Z,N=_.axes[Z],q=T,q=p0(N.name,T),[{name:"tag_"+R,type:"TAG",value:N.tag},{name:"minValue_"+R,type:"FIXED",value:N.minValue<<16},{name:"defaultValue_"+R,type:"FIXED",value:N.defaultValue<<16},{name:"maxValue_"+R,type:"FIXED",value:N.maxValue<<16},{name:"flags_"+R,type:"USHORT",value:0},{name:"nameID_"+R,type:"USHORT",value:q}]));for(var Se=0;Se<_.instances.length;Se++)A.fields=A.fields.concat(function(Ne,De,Ke,ut){for(var ot=[{name:"nameID_"+Ne,type:"USHORT",value:p0(De.name,ut)},{name:"flags_"+Ne,type:"USHORT",value:0}],He=0;He<Ke.length;++He){var jt=Ke[He].tag;ot.push({name:"axis_"+Ne+" "+jt,type:"FIXED",value:De.coordinates[jt]<<16})}return ot}(Se,_.instances[Se],_.axes,T));return A},parse:function(_,T,A){for(var R,N,q,Z,Se=new Te.Parser(_,T),Ne=Se.parseULong(),De=(j.argument(Ne===65536,"Unsupported fvar table version."),Se.parseOffset16()),Ke=(Se.skip("uShort",1),Se.parseUShort()),ut=Se.parseUShort(),ot=Se.parseUShort(),He=Se.parseUShort(),jt=[],gt=0;gt<Ke;gt++)jt.push((R=_,N=T+De+gt*ut,q=A,Z={},R=new Te.Parser(R,N),Z.tag=R.parseTag(),Z.minValue=R.parseFixed(),Z.defaultValue=R.parseFixed(),Z.maxValue=R.parseFixed(),R.skip("uShort",1),Z.name=q[R.parseUShort()]||{},Z));for(var St=[],ht=T+De+Ke*ut,ft=0;ft<ot;ft++)St.push(function(Zt,sr,Kt,Jt){var dr={},Rr=new Te.Parser(Zt,sr);dr.name=Jt[Rr.parseUShort()]||{},Rr.skip("uShort",1),dr.coordinates={};for(var Xr=0;Xr<Kt.length;++Xr)dr.coordinates[Kt[Xr].tag]=Rr.parseFixed();return dr}(_,ht+ft*He,jt,A));return{axes:jt,instances:St}}},Eo=new Array(10);Eo[1]=function(){var _=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{posFormat:1,coverage:this.parsePointer(Fe.coverage),value:this.parseValueRecord()}:T===2?{posFormat:2,coverage:this.parsePointer(Fe.coverage),values:this.parseValueRecordList()}:void j.assert(!1,"0x"+_.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Eo[2]=function(){var _,T,A,R,q=this.offset+this.relativeOffset,N=this.parseUShort(),q=(j.assert(N===1||N===2,"0x"+q.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Fe.coverage)),Z=this.parseUShort(),Se=this.parseUShort();return N===1?{posFormat:N,coverage:q,valueFormat1:Z,valueFormat2:Se,pairSets:this.parseList(Fe.pointer(Fe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(Z),value2:this.parseValueRecord(Se)}})))}:N===2?(_=this.parsePointer(Fe.classDef),T=this.parsePointer(Fe.classDef),A=this.parseUShort(),R=this.parseUShort(),{posFormat:N,coverage:q,valueFormat1:Z,valueFormat2:Se,classDef1:_,classDef2:T,class1Count:A,class2Count:R,classRecords:this.parseList(A,Fe.list(R,function(){return{value1:this.parseValueRecord(Z),value2:this.parseValueRecord(Se)}}))}):void 0},Eo[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Eo[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Eo[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Eo[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Eo[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Eo[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Eo[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var T_=new Array(10),j_={parse:function(_,T){return T=(_=new Fe(_,T=T||0)).parseVersion(1),j.argument(T===1||T===1.1,"Unsupported GPOS table version "+T),T===1?{version:T,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Eo)}:{version:T,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Eo),variations:_.parseFeatureVariationsList()}},make:function(_){return new Pe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Pe.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new Pe.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new Pe.LookupList(_.lookups,T_)}])}},E_={parse:function(_,T){if(_=new Te.Parser(_,T),(T=_.parseUShort())===0){var A=_,R={},ut=(A.skip("uShort"),A.parseUShort()),N=(j.argument(ut===0,"Unsupported kern sub-table version."),A.skip("uShort",2),A.parseUShort());A.skip("uShort",3);for(var q=0;q<N;q+=1){var Z=A.parseUShort(),Se=A.parseUShort(),Ne=A.parseShort();R[Z+","+Se]=Ne}return R}if(T!==1)throw new Error("Unsupported kern table version ("+T+").");var De=_,Ke={},ut=(De.skip("uShort"),1<De.parseULong()&&console.warn("Only the first kern subtable is supported."),De.skip("uLong"),255&De.parseUShort());if(De.skip("uShort"),ut==0){var ot=De.parseUShort();De.skip("uShort",3);for(var He=0;He<ot;He+=1){var jt=De.parseUShort(),gt=De.parseUShort(),St=De.parseShort();Ke[jt+","+gt]=St}}return Ke}},C_={parse:function(_,T,A,R){for(var N=new Te.Parser(_,T),q=R?N.parseUShort:N.parseULong,Z=[],Se=0;Se<A+1;Se+=1){var Ne=q.call(N);R&&(Ne*=2),Z.push(Ne)}return Z}};function M_(_,T){t("fs").readFile(_,function(A,R){if(A)return T(A.message);T(null,Dt(R))})}function A_(_,T){var A=new XMLHttpRequest;A.open("get",_,!0),A.responseType="arraybuffer",A.onload=function(){return A.response?T(null,A.response):T("Font could not be loaded: "+A.statusText)},A.onerror=function(){T("Font could not be loaded")},A.send()}function m0(_,T){for(var A=[],R=12,N=0;N<T;N+=1){var q=Te.getTag(_,R),Z=Te.getULong(_,R+4),Se=Te.getULong(_,R+8),Ne=Te.getULong(_,R+12);A.push({tag:q,checksum:Z,offset:Se,length:Ne,compression:!1}),R+=16}return A}function cn(A,T){if(T.compression!=="WOFF")return{data:A,offset:T.offset};var A=new Uint8Array(A.buffer,T.offset+2,T.compressedLength-2),R=new Uint8Array(T.length);if(oe(A,R),R.byteLength!==T.length)throw new Error("Decompression error: "+T.tag+" decompressed length doesn't match recorded length");return{data:new DataView(R.buffer,0),offset:0}}function Bd(ft){var T,A,R,N,q,Z,Se,Ne,De,Ke,ut,ot,He,jt,gt=new Cr({empty:!0}),St=new DataView(ft,0),ht=[],ft=Te.getTag(St,0);if(ft===String.fromCharCode(0,1,0,0)||ft==="true"||ft==="typ1")gt.outlinesFormat="truetype",ht=m0(St,R=Te.getUShort(St,4));else if(ft==="OTTO")gt.outlinesFormat="cff",ht=m0(St,R=Te.getUShort(St,4));else{if(ft!=="wOFF")throw new Error("Unsupported OpenType signature "+ft);var Zt=Te.getTag(St,4);if(Zt===String.fromCharCode(0,1,0,0))gt.outlinesFormat="truetype";else{if(Zt!=="OTTO")throw new Error("Unsupported OpenType flavor "+ft);gt.outlinesFormat="cff"}ht=function(Ir,_r){for(var In=[],zr=44,Tn=0;Tn<_r;Tn+=1){var Dr=Te.getTag(Ir,zr),_n=Te.getULong(Ir,zr+4),Ua=Te.getULong(Ir,zr+8),zi=Te.getULong(Ir,zr+12),y0=void 0,y0=Ua<zi&&"WOFF";In.push({tag:Dr,offset:_n,compression:y0,compressedLength:Ua,length:zi}),zr+=20}return In}(St,R=Te.getUShort(St,12))}for(var sr=0;sr<R;sr+=1){var Kt=ht[sr],Jt=void 0;switch(Kt.tag){case"cmap":Jt=cn(St,Kt),gt.tables.cmap=B.parse(Jt.data,Jt.offset),gt.encoding=new _e(gt.tables.cmap);break;case"cvt ":Jt=cn(St,Kt),jt=new Te.Parser(Jt.data,Jt.offset),gt.tables.cvt=jt.parseShortList(Kt.length/2);break;case"fvar":q=Kt;break;case"fpgm":Jt=cn(St,Kt),jt=new Te.Parser(Jt.data,Jt.offset),gt.tables.fpgm=jt.parseByteList(Kt.length);break;case"head":Jt=cn(St,Kt),gt.tables.head=Lt.parse(Jt.data,Jt.offset),gt.unitsPerEm=gt.tables.head.unitsPerEm,T=gt.tables.head.indexToLocFormat;break;case"hhea":Jt=cn(St,Kt),gt.tables.hhea=ke.parse(Jt.data,Jt.offset),gt.ascender=gt.tables.hhea.ascender,gt.descender=gt.tables.hhea.descender,gt.numberOfHMetrics=gt.tables.hhea.numberOfHMetrics;break;case"hmtx":De=Kt;break;case"ltag":Jt=cn(St,Kt),A=vt.parse(Jt.data,Jt.offset);break;case"maxp":Jt=cn(St,Kt),gt.tables.maxp=rt.parse(Jt.data,Jt.offset),gt.numGlyphs=gt.tables.maxp.numGlyphs;break;case"name":ot=Kt;break;case"OS/2":Jt=cn(St,Kt),gt.tables.os2=mr.parse(Jt.data,Jt.offset);break;case"post":Jt=cn(St,Kt),gt.tables.post=Vo.parse(Jt.data,Jt.offset),gt.glyphNames=new ye(gt.tables.post);break;case"prep":Jt=cn(St,Kt),jt=new Te.Parser(Jt.data,Jt.offset),gt.tables.prep=jt.parseByteList(Kt.length);break;case"glyf":Z=Kt;break;case"loca":ut=Kt;break;case"CFF ":N=Kt;break;case"kern":Ke=Kt;break;case"GPOS":Se=Kt;break;case"GSUB":Ne=Kt;break;case"meta":He=Kt}}if(Zt=cn(St,ot),gt.tables.name=Qr.parse(Zt.data,Zt.offset,A),gt.names=gt.tables.name,Z&&ut)ft=T===0,Zt=cn(St,ut),Zt=C_.parse(Zt.data,Zt.offset,gt.numGlyphs,ft),ft=cn(St,Z),gt.glyphs=Ct.parse(ft.data,ft.offset,Zt,gt);else{if(!N)throw new Error("Font doesn't contain TrueType or CFF outlines.");ft=cn(St,N),Ut.parse(ft.data,ft.offset,gt)}for(var Zt=cn(St,De),dr=(yt.parse(Zt.data,Zt.offset,gt.numberOfHMetrics,gt.numGlyphs,gt.glyphs),gt),Rr=dr.tables.cmap.glyphIndexMap,Xr=Object.keys(Rr),dn=0;dn<Xr.length;dn+=1){var On,Pn=Xr[dn],Co=Rr[Pn];(On=dr.glyphs.get(Co)).addUnicode(parseInt(Pn))}for(var Mr=0;Mr<dr.glyphs.length;Mr+=1)On=dr.glyphs.get(Mr),dr.cffEncoding?dr.isCIDFont?On.name="gid"+Mr:On.name=dr.cffEncoding.charset[Mr]:dr.glyphNames.names&&(On.name=dr.glyphNames.glyphIndexToName(Mr));return Ke?(ft=cn(St,Ke),gt.kerningPairs=E_.parse(ft.data,ft.offset)):gt.kerningPairs={},Se&&(Zt=cn(St,Se),gt.tables.gpos=j_.parse(Zt.data,Zt.offset),gt.position.init()),Ne&&(ft=cn(St,Ne),gt.tables.gsub=Ra.parse(ft.data,ft.offset)),q&&(Zt=cn(St,q),gt.tables.fvar=S_.parse(Zt.data,Zt.offset,gt.names)),He&&(ft=cn(St,He),gt.tables.meta=Oa.parse(ft.data,ft.offset),gt.metas=gt.tables.meta),gt}d.Font=Cr,d.Glyph=pe,d.Path=de,d.BoundingBox=le,d._parse=Te,d.parse=Bd,d.load=function(_,T){(typeof window>"u"?M_:A_)(_,function(A,R){if(A)return T(A);var N;try{N=Bd(R)}catch(q){return T(q,null)}return T(null,N)})},d.loadSync=function(_){return Bd(Dt(t("fs").readFileSync(_)))},Object.defineProperty(d,"__esModule",{value:!0})},s(typeof p=="object"&&h!==void 0?p:a.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],242:[function(t,h,p){(function(c){function a(f,y){for(var u=0,l=f.length-1;0<=l;l--){var i=f[l];i==="."?f.splice(l,1):i===".."?(f.splice(l,1),u++):u&&(f.splice(l,1),u--)}if(y)for(;u--;)f.unshift("..");return f}function s(f,y){if(f.filter)return f.filter(y);for(var u=[],l=0;l<f.length;l++)y(f[l],l,f)&&u.push(f[l]);return u}p.resolve=function(){for(var f="",y=!1,u=arguments.length-1;-1<=u&&!y;u--){var l=0<=u?arguments[u]:c.cwd();if(typeof l!="string")throw new TypeError("Arguments to path.resolve must be strings");l&&(f=l+"/"+f,y=l.charAt(0)==="/")}return(y?"/":"")+(f=a(s(f.split("/"),function(i){return!!i}),!y).join("/"))||"."},p.normalize=function(f){var y=p.isAbsolute(f),u=d(f,-1)==="/";return(f=(f=a(s(f.split("/"),function(l){return!!l}),!y).join("/"))||y?f:".")&&u&&(f+="/"),(y?"/":"")+f},p.isAbsolute=function(f){return f.charAt(0)==="/"},p.join=function(){var f=Array.prototype.slice.call(arguments,0);return p.normalize(s(f,function(y,u){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},p.relative=function(f,y){function u(w){for(var S=0;S<w.length&&w[S]==="";S++);for(var x=w.length-1;0<=x&&w[x]==="";x--);return x<S?[]:w.slice(S,x-S+1)}f=p.resolve(f).substr(1),y=p.resolve(y).substr(1);for(var l=u(f.split("/")),i=u(y.split("/")),m=Math.min(l.length,i.length),g=m,v=0;v<m;v++)if(l[v]!==i[v]){g=v;break}for(var b=[],v=g;v<l.length;v++)b.push("..");return(b=b.concat(i.slice(g))).join("/")},p.sep="/",p.delimiter=":",p.dirname=function(f){if(typeof f!="string"&&(f+=""),f.length===0)return".";for(var y=f.charCodeAt(0)===47,u=-1,l=!0,i=f.length-1;1<=i;--i)if(f.charCodeAt(i)===47){if(!l){u=i;break}}else l=!1;return u===-1?y?"/":".":y&&u===1?"/":f.slice(0,u)},p.basename=function(f,y){return f=function(u){typeof u!="string"&&(u+="");for(var l=0,i=-1,m=!0,g=u.length-1;0<=g;--g)if(u.charCodeAt(g)===47){if(!m){l=g+1;break}}else i===-1&&(m=!1,i=g+1);return i===-1?"":u.slice(l,i)}(f),f=y&&f.substr(-1*y.length)===y?f.substr(0,f.length-y.length):f},p.extname=function(f){typeof f!="string"&&(f+="");for(var y=-1,u=0,l=-1,i=!0,m=0,g=f.length-1;0<=g;--g){var v=f.charCodeAt(g);if(v===47){if(i)continue;u=g+1;break}l===-1&&(i=!1,l=g+1),v===46?y===-1?y=g:m!==1&&(m=1):y!==-1&&(m=-1)}return y===-1||l===-1||m===0||m===1&&y===l-1&&y===u+1?"":f.slice(y,l)};var d="ab".substr(-1)==="b"?function(f,y,u){return f.substr(y,u)}:function(f,y,u){return y<0&&(y=f.length+y),f.substr(y,u)}}).call(this,t("_process"))},{_process:243}],243:[function(t,s,p){var c,a,s=s.exports={};function d(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}try{c=typeof setTimeout=="function"?setTimeout:d}catch{c=d}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}function y(S){if(c===setTimeout)return setTimeout(S,0);if((c===d||!c)&&setTimeout)return(c=setTimeout)(S,0);try{return c(S,0)}catch{try{return c.call(null,S,0)}catch{return c.call(this,S,0)}}}var u,l=[],i=!1,m=-1;function g(){i&&u&&(i=!1,u.length?l=u.concat(l):m=-1,l.length&&v())}function v(){if(!i){for(var S=y(g),x=(i=!0,l.length);x;){for(u=l,l=[];++m<x;)u&&u[m].run();m=-1,x=l.length}u=null,i=!1,function(M){if(a===clearTimeout)return clearTimeout(M);if((a===f||!a)&&clearTimeout)return(a=clearTimeout)(M);try{a(M)}catch{try{return a.call(null,M)}catch{return a.call(this,M)}}}(S)}}function b(S,x){this.fun=S,this.array=x}function w(){}s.nextTick=function(S){var x=new Array(arguments.length-1);if(1<arguments.length)for(var M=1;M<arguments.length;M++)x[M-1]=arguments[M];l.push(new b(S,x)),l.length!==1||i||y(v)},b.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=w,s.addListener=w,s.once=w,s.off=w,s.removeListener=w,s.removeAllListeners=w,s.emit=w,s.prependListener=w,s.prependOnceListener=w,s.listeners=function(S){return[]},s.binding=function(S){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(S){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],244:[function(t,h,p){h=function(c){var a,s=Object.prototype,d=s.hasOwnProperty,C=typeof Symbol=="function"?Symbol:{},f=C.iterator||"@@iterator",y=C.asyncIterator||"@@asyncIterator",u=C.toStringTag||"@@toStringTag";function l(J,F,ee,V){var de,se,O,j,F=F&&F.prototype instanceof S?F:S,F=Object.create(F.prototype),V=new W(V||[]);return F._invoke=(de=J,se=ee,O=V,j=m,function(ae,ue){if(j===v)throw new Error("Generator is already running");if(j===b){if(ae==="throw")throw ue;return Q()}for(O.method=ae,O.arg=ue;;){var Ee=O.delegate;if(Ee&&(Ee=function Re(Ce,xe){var Ze=Ce.iterator[xe.method];if(Ze===a){if(xe.delegate=null,xe.method==="throw"){if(Ce.iterator.return&&(xe.method="return",xe.arg=a,Re(Ce,xe),xe.method==="throw"))return w;xe.method="throw",xe.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}if(Ze=i(Ze,Ce.iterator,xe.arg),Ze.type==="throw")return xe.method="throw",xe.arg=Ze.arg,xe.delegate=null,w;if(Ze=Ze.arg,!Ze)return xe.method="throw",xe.arg=new TypeError("iterator result is not an object"),xe.delegate=null,w;{if(!Ze.done)return Ze;xe[Ce.resultName]=Ze.value,xe.next=Ce.nextLoc,xe.method!=="return"&&(xe.method="next",xe.arg=a)}return xe.delegate=null,w}(Ee,O),Ee)){if(Ee===w)continue;return Ee}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(j===m)throw j=b,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);if(j=v,Ee=i(de,se,O),Ee.type==="normal"){if(j=O.done?b:g,Ee.arg!==w)return{value:Ee.arg,done:O.done}}else Ee.type==="throw"&&(j=b,O.method="throw",O.arg=Ee.arg)}}),F}function i(J,oe,ee){try{return{type:"normal",arg:J.call(oe,ee)}}catch(le){return{type:"throw",arg:le}}}c.wrap=l;var m="suspendedStart",g="suspendedYield",v="executing",b="completed",w={};function S(){}function x(){}function M(){}var C={},E=(C[f]=function(){return this},Object.getPrototypeOf),E=E&&E(E(te([]))),P=(E&&E!==s&&d.call(E,f)&&(C=E),M.prototype=S.prototype=Object.create(C));function D(J){["next","throw","return"].forEach(function(oe){J[oe]=function(ee){return this._invoke(oe,ee)}})}function I(J){var oe;this._invoke=function(ee,le){function de(){return new Promise(function(se,O){(function j(Re,V,ae,ue){var Ee,Re=i(J[Re],J,V);if(Re.type!=="throw")return(V=(Ee=Re.arg).value)&&typeof V=="object"&&d.call(V,"__await")?Promise.resolve(V.__await).then(function(Ce){j("next",Ce,ae,ue)},function(Ce){j("throw",Ce,ae,ue)}):Promise.resolve(V).then(function(Ce){Ee.value=Ce,ae(Ee)},function(Ce){return j("throw",Ce,ae,ue)});ue(Re.arg)})(ee,le,se,O)})}return oe=oe?oe.then(de,de):de()}}function U(J){var oe={tryLoc:J[0]};1 in J&&(oe.catchLoc=J[1]),2 in J&&(oe.finallyLoc=J[2],oe.afterLoc=J[3]),this.tryEntries.push(oe)}function G(J){var oe=J.completion||{};oe.type="normal",delete oe.arg,J.completion=oe}function W(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(U,this),this.reset(!0)}function te(J){if(J){var oe,ee=J[f];if(ee)return ee.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length))return oe=-1,(ee=function le(){for(;++oe<J.length;)if(d.call(J,oe))return le.value=J[oe],le.done=!1,le;return le.value=a,le.done=!0,le}).next=ee}return{next:Q}}function Q(){return{value:a,done:!0}}return(x.prototype=P.constructor=M).constructor=x,M[u]=x.displayName="GeneratorFunction",c.isGeneratorFunction=function(J){return J=typeof J=="function"&&J.constructor,!!J&&(J===x||(J.displayName||J.name)==="GeneratorFunction")},c.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,M):(J.__proto__=M,u in J||(J[u]="GeneratorFunction")),J.prototype=Object.create(P),J},c.awrap=function(J){return{__await:J}},D(I.prototype),I.prototype[y]=function(){return this},c.AsyncIterator=I,c.async=function(J,oe,ee,le){var de=new I(l(J,oe,ee,le));return c.isGeneratorFunction(oe)?de:de.next().then(function(se){return se.done?se.value:de.next()})},D(P),P[u]="Generator",P[f]=function(){return this},P.toString=function(){return"[object Generator]"},c.keys=function(J){var oe,ee=[];for(oe in J)ee.push(oe);return ee.reverse(),function le(){for(;ee.length;){var de=ee.pop();if(de in J)return le.value=de,le.done=!1,le}return le.done=!0,le}},c.values=te,W.prototype={constructor:W,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(G),!J)for(var oe in this)oe.charAt(0)==="t"&&d.call(this,oe)&&!isNaN(+oe.slice(1))&&(this[oe]=a)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var oe=this;function ee(F,V){return se.type="throw",se.arg=J,oe.next=F,V&&(oe.method="next",oe.arg=a),!!V}for(var le=this.tryEntries.length-1;0<=le;--le){var de=this.tryEntries[le],se=de.completion;if(de.tryLoc==="root")return ee("end");if(de.tryLoc<=this.prev){var O=d.call(de,"catchLoc"),j=d.call(de,"finallyLoc");if(O&&j){if(this.prev<de.catchLoc)return ee(de.catchLoc,!0);if(this.prev<de.finallyLoc)return ee(de.finallyLoc)}else if(O){if(this.prev<de.catchLoc)return ee(de.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return ee(de.finallyLoc)}}}},abrupt:function(J,oe){for(var ee=this.tryEntries.length-1;0<=ee;--ee){var le=this.tryEntries[ee];if(le.tryLoc<=this.prev&&d.call(le,"finallyLoc")&&this.prev<le.finallyLoc){var de=le;break}}var se=(de=de&&(J==="break"||J==="continue")&&de.tryLoc<=oe&&oe<=de.finallyLoc?null:de)?de.completion:{};return se.type=J,se.arg=oe,de?(this.method="next",this.next=de.finallyLoc,w):this.complete(se)},complete:function(J,oe){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&oe&&(this.next=oe),w},finish:function(J){for(var oe=this.tryEntries.length-1;0<=oe;--oe){var ee=this.tryEntries[oe];if(ee.finallyLoc===J)return this.complete(ee.completion,ee.afterLoc),G(ee),w}},catch:function(J){for(var oe=this.tryEntries.length-1;0<=oe;--oe){var ee,le,de=this.tryEntries[oe];if(de.tryLoc===J)return(ee=de.completion).type==="throw"&&(le=ee.arg,G(de)),le}throw new Error("illegal catch attempt")},delegateYield:function(J,oe,ee){return this.delegate={iterator:te(J),resultName:oe,nextLoc:ee},this.method==="next"&&(this.arg=a),w}},c}(typeof h=="object"?h.exports:{});try{regeneratorRuntime=h}catch{Function("r","regeneratorRuntime = r")(h)}},{}],245:[function(t,h,p){(function(c){var a,s,d,f,y,u,l,i,m,g;function v(G){if(typeof G!="string"&&(G=String(G)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(G))throw new TypeError("Invalid character in header field name");return G.toLowerCase()}function b(G){return G=typeof G!="string"?String(G):G}function w(G){var W={next:function(){var te=G.shift();return{done:te===void 0,value:te}}};return s&&(W[Symbol.iterator]=function(){return W}),W}function S(G){this.map={},G instanceof S?G.forEach(function(W,te){this.append(te,W)},this):Array.isArray(G)?G.forEach(function(W){this.append(W[0],W[1])},this):G&&Object.getOwnPropertyNames(G).forEach(function(W){this.append(W,G[W])},this)}function x(G){if(G.bodyUsed)return Promise.reject(new TypeError("Already read"));G.bodyUsed=!0}function M(G){return new Promise(function(W,te){G.onload=function(){W(G.result)},G.onerror=function(){te(G.error)}})}function C(G){var W=new FileReader,te=M(W);return W.readAsArrayBuffer(G),te}function E(G){var W;return G.slice?G.slice(0):((W=new Uint8Array(G.byteLength)).set(new Uint8Array(G)),W.buffer)}function P(){return this.bodyUsed=!1,this._initBody=function(G){if(this._bodyInit=G)if(typeof G=="string")this._bodyText=G;else if(d&&Blob.prototype.isPrototypeOf(G))this._bodyBlob=G;else if(f&&FormData.prototype.isPrototypeOf(G))this._bodyFormData=G;else if(a&&URLSearchParams.prototype.isPrototypeOf(G))this._bodyText=G.toString();else if(y&&d&&l(G))this._bodyArrayBuffer=E(G.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(G)&&!i(G))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=E(G)}else this._bodyText="";this.headers.get("content-type")||(typeof G=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf(G)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var G=x(this);if(G)return G;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(C)}),this.text=function(){var G,W,te=x(this);if(te)return te;if(this._bodyBlob)return te=this._bodyBlob,G=new FileReader,W=M(G),G.readAsText(te),W;if(this._bodyArrayBuffer)return Promise.resolve(function(Q){for(var J=new Uint8Array(Q),oe=new Array(J.length),ee=0;ee<J.length;ee++)oe[ee]=String.fromCharCode(J[ee]);return oe.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},f&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function D(G,W){var te,Q=(W=W||{}).body;if(G instanceof D){if(G.bodyUsed)throw new TypeError("Already read");this.url=G.url,this.credentials=G.credentials,W.headers||(this.headers=new S(G.headers)),this.method=G.method,this.mode=G.mode,Q||G._bodyInit==null||(Q=G._bodyInit,G.bodyUsed=!0)}else this.url=String(G);if(this.credentials=W.credentials||this.credentials||"omit",!W.headers&&this.headers||(this.headers=new S(W.headers)),this.method=(G=W.method||this.method||"GET",te=G.toUpperCase(),-1<m.indexOf(te)?te:G),this.mode=W.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Q)}function I(G){var W=new FormData;return G.trim().split("&").forEach(function(te){var Q;te&&(Q=(te=te.split("=")).shift().replace(/\+/g," "),te=te.join("=").replace(/\+/g," "),W.append(decodeURIComponent(Q),decodeURIComponent(te)))}),W}function U(G,W){W=W||{},this.type="default",this.status=W.status===void 0?200:W.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in W?W.statusText:"OK",this.headers=new S(W.headers),this.url=W.url||"",this._initBody(G)}c.fetch||(a="URLSearchParams"in c,s="Symbol"in c&&"iterator"in Symbol,d="FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),f="FormData"in c,(y="ArrayBuffer"in c)&&(u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=function(G){return G&&DataView.prototype.isPrototypeOf(G)},i=ArrayBuffer.isView||function(G){return G&&-1<u.indexOf(Object.prototype.toString.call(G))}),S.prototype.append=function(G,W){G=v(G),W=b(W);var te=this.map[G];this.map[G]=te?te+","+W:W},S.prototype.delete=function(G){delete this.map[v(G)]},S.prototype.get=function(G){return G=v(G),this.has(G)?this.map[G]:null},S.prototype.has=function(G){return this.map.hasOwnProperty(v(G))},S.prototype.set=function(G,W){this.map[v(G)]=b(W)},S.prototype.forEach=function(G,W){for(var te in this.map)this.map.hasOwnProperty(te)&&G.call(W,this.map[te],te,this)},S.prototype.keys=function(){var G=[];return this.forEach(function(W,te){G.push(te)}),w(G)},S.prototype.values=function(){var G=[];return this.forEach(function(W){G.push(W)}),w(G)},S.prototype.entries=function(){var G=[];return this.forEach(function(W,te){G.push([te,W])}),w(G)},s&&(S.prototype[Symbol.iterator]=S.prototype.entries),m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],D.prototype.clone=function(){return new D(this,{body:this._bodyInit})},P.call(D.prototype),P.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},U.error=function(){var G=new U(null,{status:0,statusText:""});return G.type="error",G},g=[301,302,303,307,308],U.redirect=function(G,W){if(g.indexOf(W)===-1)throw new RangeError("Invalid status code");return new U(null,{status:W,headers:{location:G}})},c.Headers=S,c.Request=D,c.Response=U,c.fetch=function(G,W){return new Promise(function(te,Q){var J=new D(G,W),oe=new XMLHttpRequest;oe.onload=function(){var ee,le={status:oe.status,statusText:oe.statusText,headers:(le=oe.getAllResponseHeaders()||"",ee=new S,le.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(O){var O=O.split(":"),j=O.shift().trim();j&&(O=O.join(":").trim(),ee.append(j,O))}),ee)},de=(le.url="responseURL"in oe?oe.responseURL:le.headers.get("X-Request-URL"),"response"in oe?oe.response:oe.responseText);te(new U(de,le))},oe.onerror=function(){Q(new TypeError("Network request failed"))},oe.ontimeout=function(){Q(new TypeError("Network request failed"))},oe.open(J.method,J.url,!0),J.credentials==="include"?oe.withCredentials=!0:J.credentials==="omit"&&(oe.withCredentials=!1),"responseType"in oe&&d&&(oe.responseType="blob"),J.headers.forEach(function(ee,le){oe.setRequestHeader(le,ee)}),oe.send(J._bodyInit===void 0?null:J._bodyInit)})},c.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],246:[function(t,h,p){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c,a=d(t("../core/main")),s=d(t("../color/color_conversion"));function d(u){return u&&u.__esModule?u:{default:u}}var f=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];a.default.prototype._rgbColorName=function(m){var l,i,m=s.default._rgbaToHSBA(m),g=[(c=m)[0],m[1],m[2]];g[0]!==0&&(g[0]=Math.round(100*g[0]),(m=g[0].toString().split(""))[i=m.length-1]=parseInt(m[i]),m[i]<2.5?m[i]=0:2.5<=m[i]&&m[i]<7.5&&(m[i]=5),m.length===2?(m[0]=parseInt(m[0]),7.5<=m[i]&&(m[i]=0,m[0]=m[0]+1),g[0]=10*m[0]+m[1]):7.5<=m[i]?g[0]=10:g[0]=m[i]),g[2]=g[2]/255;for(var v=g.length-1;1<=v;v--)g[v]<=.25?g[v]=0:.25<g[v]&&g[v]<.75?g[v]=.5:g[v]=1;if(g[0]===0&&g[1]===0&&g[2]===1){for(var b=2;0<=b;b--)c[b]=Math.round(1e4*c[b])/1e4;for(var w=0;w<f.length;w++){if(f[w].h===c[0]&&f[w].s===c[1]&&f[w].b===c[2]){l=f[w].name;break}l="white"}}else for(var S=0;S<y.length;S++)if(y[S].h===g[0]&&y[S].s===g[1]&&y[S].b===g[2]){l=y[S].name;break}return l},t=a.default,p.default=t},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t},a="_Description",s="_fallbackDesc",d="_fallbackTable",f="_Label",y="_labelDesc",u="_labelTable";function l(i){if(i==="label"||i==="fallback")throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}c.default.prototype.describe=function(i,m){var g;c.default._validateParameters("describe",arguments),typeof i=="string"&&(g=this.canvas.id,i=l(i),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),m===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i)))},c.default.prototype.describeElement=function(i,m,g){var v,b;c.default._validateParameters("describeElement",arguments),typeof m=="string"&&typeof i=="string"&&(v=this.canvas.id,m=l(m),b=function(w){if(w==="label"||w==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return w.endsWith(".")||w.endsWith(";")||w.endsWith(",")?w=w.replace(/.$/,":"):w.endsWith(":")||(w+=":"),w}(i),i=i.replace(/[^a-zA-Z0-9]/g,""),b='<th scope="row">'.concat(b,"</th><td>").concat(m,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(v).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==b&&(this.descriptions.fallbackElements[i].innerHTML=b):this._describeElementHTML("fallback",i,b),g===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==b&&(this.descriptions.labelElements[i].innerHTML=b):this._describeElementHTML("label",i,b)))},c.default.prototype._describeHTML=function(i,m){var g,v=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(v+a))?this.dummyDOM.querySelector("#"+v+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(v+s,'"></p>')):(g='<div id="'.concat(v).concat(a,'" role="region" aria-label="Canvas Description"><p id="').concat(v).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#".concat(v)).innerHTML=g),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(v).concat(s)),this.descriptions.fallback.innerHTML=m):i==="label"&&(this.dummyDOM.querySelector("#".concat(v+f))?this.dummyDOM.querySelector("#".concat(v+u))&&this.dummyDOM.querySelector("#".concat(v+u)).insertAdjacentHTML("beforebegin",'<p id="'.concat(v).concat(y,'"></p>')):(g='<div id="'.concat(v).concat(f,'" class="p5Label"><p id="').concat(v).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",g)),this.descriptions.label=this.dummyDOM.querySelector("#"+v+y),this.descriptions.label.innerHTML=m)},c.default.prototype._describeElementHTML=function(i,m,g){var v,b=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(b+a))?this.dummyDOM.querySelector("#"+b+d)||this.dummyDOM.querySelector("#"+b+s).insertAdjacentHTML("afterend",'<table id="'.concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(v='<div id="'.concat(b).concat(a,'" role="region" aria-label="Canvas Description"><table id="').concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutput")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+b).innerHTML=v),(v=document.createElement("tr")).id=b+"_fte_"+m,this.dummyDOM.querySelector("#"+b+d).appendChild(v),this.descriptions.fallbackElements[m]=this.dummyDOM.querySelector("#".concat(b).concat("_fte_").concat(m)),this.descriptions.fallbackElements[m].innerHTML=g):i==="label"&&(this.dummyDOM.querySelector("#".concat(b+f))?this.dummyDOM.querySelector("#".concat(b+u))||this.dummyDOM.querySelector("#"+b+y).insertAdjacentHTML("afterend",'<table id="'.concat(b+u,'"></table>')):(v='<div id="'.concat(b).concat(f,'" class="p5Label"><table id="').concat(b).concat(u,'"></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",v):this.dummyDOM.querySelector("#"+b).insertAdjacentHTML("afterend",v)),(i=document.createElement("tr")).id=b+"_lte_"+m,this.dummyDOM.querySelector("#"+b+u).appendChild(i),this.descriptions.labelElements[m]=this.dummyDOM.querySelector("#".concat(b).concat("_lte_").concat(m)),this.descriptions.labelElements[m].innerHTML=g)},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(c){var a,s,d,f;this.dummyDOM.querySelector("#".concat(c,"_summary"))&&(a=this._accessibleOutputs[c],d=function(y,u,l,i){return u="".concat(u," canvas, ").concat(l," by ").concat(i," pixels, contains ").concat(y[0]),u=(y[0]===1?"".concat(u," shape: "):"".concat(u," shapes: ")).concat(y[1]),u}((s=function(y,u){var l,i="",m="",g=0;for(l in u){var v,b=0;for(v in u[l]){var w='<li id="'.concat(y,"shape").concat(g,'">').concat(u[l][v].color," ").concat(l,",");l==="line"?w+=" location = ".concat(u[l][v].pos,", length = ").concat(u[l][v].length," pixels"):(w+=" location = ".concat(u[l][v].pos),l!=="point"&&(w+=", area = ".concat(u[l][v].area," %")),w+="</li>"),i+=w,b++,g++}m=1<b?"".concat(m," ").concat(b," ").concat(l,"s"):"".concat(m," ").concat(b," ").concat(l)}return{numShapes:[g,m],details:i}}(c,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),f=function(y,u){var l,i,m,g=0,v="",b=Array.apply(null,Array(10)).map(function(){});for(l in b)b[l]=Array.apply(null,Array(10)).map(function(){});for(i in u)for(var w in u[i]){var S=void 0;S=i!=="line"?'<a href="#'.concat(y,"shape").concat(g,'">').concat(u[i][w].color," ").concat(i,"</a>"):'<a href="#'.concat(y,"shape").concat(g,'">').concat(u[i][w].color," ").concat(i," midpoint</a>"),b[u[i][w].loc.locY][u[i][w].loc.locX]?b[u[i][w].loc.locY][u[i][w].loc.locX]=b[u[i][w].loc.locY][u[i][w].loc.locX]+"  "+S:b[u[i][w].loc.locY][u[i][w].loc.locX]=S,g++}for(m in b){var x,M="<tr>";for(x in b[m])M+="<td>",b[m][x]!==void 0&&(M+=b[m][x]),M+="</td>";v=v+M+"</tr>"}return v}(c,this.ingredients.shapes),d!==a.summary.innerHTML&&(a.summary.innerHTML=d),f!==a.map.innerHTML&&(a.map.innerHTML=f),s.details!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=s.details),this._accessibleOutputs[c]=a)},t=t.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(d,f,y){return d[0]<.4*f?d[1]<.4*y?"top left":d[1]>.6*y?"bottom left":"mid left":d[0]>.6*f?d[1]<.4*y?"top right":d[1]>.6*y?"bottom right":"mid right":d[1]<.4*y?"top middle":d[1]>.6*y?"bottom middle":"middle"}function s(d,f,y){return f=Math.floor(d[0]/f*10),d=Math.floor(d[1]/y*10),f===10&&(f-=1),d===10&&(d-=1),{locX:f,locY:d}}c.default.prototype.textOutput=function(d){c.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},c.default.prototype.gridOutput=function(d){c.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},c.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},c.default.prototype._createOutput=function(d,f){var y,u,l,i=this.canvas.id,m=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),"");f==="Fallback"?(y=i+d,this.dummyDOM.querySelector("#".concat(u=i+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(u,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(u,'" role="region" aria-label="Canvas Outputs"></div>'))):f==="Label"&&(y=i+d+(m=f),this.dummyDOM.querySelector("#".concat(u=i+"accessibleOutput"+f))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")):this.dummyDOM.querySelector("#".concat(i))).insertAdjacentHTML("afterend",'<div id="'.concat(u,'"></div>'))),this._accessibleOutputs[y]={},d==="textOutput"?(m="#".concat(i,"gridOutput").concat(m),l='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(m)?this.dummyDOM.querySelector(m).insertAdjacentHTML("beforebegin",l):this.dummyDOM.querySelector("#".concat(u)).innerHTML=l,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):d==="gridOutput"&&(m="#".concat(i,"textOutput").concat(m),l='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(m)?this.dummyDOM.querySelector(m).insertAdjacentHTML("afterend",l):this.dummyDOM.querySelector("#".concat(u)).innerHTML=l,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},c.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},c.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},c.default.prototype._accsCanvasColors=function(d,f){d==="fill"?this.ingredients.colors.fillRGBA!==f&&(this.ingredients.colors.fillRGBA=f,this.ingredients.colors.fill=this._rgbColorName(f)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==f&&(this.ingredients.colors.strokeRGBA=f,this.ingredients.colors.stroke=this._rgbColorName(f))},c.default.prototype._accsOutput=function(d,f){d==="ellipse"&&f[2]===f[3]?d="circle":d==="rectangle"&&f[2]===f[3]&&(d="square");var y,u,l={},i=!0,m=function(v,b){var w;return v=v==="rectangle"||v==="ellipse"||v==="arc"||v==="circle"||v==="square"?(w=Math.round(b[0]+b[2]/2),Math.round(b[1]+b[3]/2)):v==="triangle"?(w=(b[0]+b[2]+b[4])/3,(b[1]+b[3]+b[5])/3):v==="quadrilateral"?(w=(b[0]+b[2]+b[4]+b[6])/4,(b[1]+b[3]+b[5]+b[7])/4):v==="line"?(w=(b[0]+b[2])/2,(b[1]+b[3])/2):(w=b[0],b[1]),[w,v]}(d,f);if(d==="line"?(l.color=this.ingredients.colors.stroke,l.length=Math.round(this.dist(f[0],f[1],f[2],f[3])),y=a([f[0],[1]],this.width,this.height),u=a([f[2],[3]],this.width,this.height),l.loc=s(m,this.width,this.height),l.pos=y===u?"at ".concat(y):"from ".concat(y," to ").concat(u)):(d==="point"?l.color=this.ingredients.colors.stroke:(l.color=this.ingredients.colors.fill,l.area=function(v,b,w,S){var x=0;{var M,C,E,P,D,I,U;v==="arc"?(M=((b[5]-b[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI),x=M*b[2]*b[3]/8,b[6]!=="open"&&b[6]!=="chord"||(U=b[0],C=b[1],E=b[0]+b[2]/2*Math.cos(b[4]).toFixed(2),P=b[1]+b[3]/2*Math.sin(b[4]).toFixed(2),D=b[0]+b[2]/2*Math.cos(b[5]).toFixed(2),I=b[1]+b[3]/2*Math.sin(b[5]).toFixed(2),U=Math.abs(U*(P-I)+E*(I-C)+D*(C-P))/2,M>Math.PI?x+=U:x-=U)):v==="ellipse"||v==="circle"?x=3.14*b[2]/2*b[3]/2:v==="line"||v==="point"?x=0:v==="quadrilateral"?x=Math.abs((b[6]+b[0])*(b[7]-b[1])+(b[0]+b[2])*(b[1]-b[3])+(b[2]+b[4])*(b[3]-b[5])+(b[4]+b[6])*(b[5]-b[7]))/2:v==="rectangle"||v==="square"?x=b[2]*b[3]:v==="triangle"&&(x=Math.abs(b[0]*(b[3]-b[5])+b[2]*(b[5]-b[1])+b[4]*(b[1]-b[3]))/2)}return Math.round(100*x/(w*S))}(d,f,this.width,this.height)),l.pos=a(m,this.width,this.height),l.loc=s(m,this.width,this.height)),this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[l]){for(var g in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][g])===JSON.stringify(l)&&(i=!1);i===!0&&this.ingredients.shapes[d].push(l)}}else this.ingredients.shapes[d]=[l]},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(c){var a,s,d,f;this.dummyDOM.querySelector("#".concat(c,"_summary"))&&(a=this._accessibleOutputs[c],d=function(y,u,l,i){return l="Your output is a, ".concat(l," by ").concat(i," pixels, ").concat(u," canvas containing the following"),l=y===1?"".concat(l," shape:"):"".concat(l," ").concat(y," shapes:"),l}((s=function(y,u){var l,i="",m=0;for(l in u)for(var g in u[l]){var v='<li><a href="#'.concat(y,"shape").concat(m,'">').concat(u[l][g].color," ").concat(l,"</a>");l==="line"?v+=", ".concat(u[l][g].pos,", ").concat(u[l][g].length," pixels long.</li>"):(v+=", at ".concat(u[l][g].pos),l!=="point"&&(v+=", covering ".concat(u[l][g].area,"% of the canvas")),v+=".</li>"),i+=v,m++}return{numShapes:m,listShapes:i}}(c,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),f=function(y,u){var l,i="",m=0;for(l in u)for(var g in u[l]){var v='<tr id="'.concat(y,"shape").concat(m,'"><th>').concat(u[l][g].color," ").concat(l,"</th>");l==="line"?v+="<td>location = ".concat(u[l][g].pos,"</td><td>length = ").concat(u[l][g].length," pixels</td></tr>"):(v+="<td>location = ".concat(u[l][g].pos,"</td>"),l!=="point"&&(v+="<td> area = ".concat(u[l][g].area,"%</td>")),v+="</tr>"),i+=v,m++}return i}(c,this.ingredients.shapes),d!==a.summary.innerHTML&&(a.summary.innerHTML=d),s.listShapes!==a.list.innerHTML&&(a.list.innerHTML=s.listShapes),f!==a.shapeDetails.innerHTML&&(a.shapeDetails.innerHTML=f),this._accessibleOutputs[c]=a)},t=t.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(t,h,p){var c=(c=t("./core/main"))&&c.__esModule?c:{default:c};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),h.exports=c.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={},t.default.ColorConversion._hsbaToHSLA=function(c){var a=c[0],s=c[1],d=c[2],f=(2-s)*d/2;return f!=0&&(f==1?s=0:f<.5?s/=2-s:s=s*d/(2-2*f)),[a,s,f,c[3]]},t.default.ColorConversion._hsbaToRGBA=function(c){var a,s,d,f,y,u=6*c[0],l=c[1],i=c[2];return l===0?[i,i,i,c[3]]:(s=i*(1-l),d=i*(1-l*(u-(a=Math.floor(u)))),l=i*(1-l*(1+a-u)),u=a===1?(f=d,y=i,s):a===2?(f=s,y=i,l):a===3?(f=s,y=d,i):a===4?(f=l,y=s,i):a===5?(f=i,y=s,d):(f=i,y=l,s),[f,y,u,c[3]])},t.default.ColorConversion._hslaToHSBA=function(c){var a=c[0],s=c[1],d=c[2],f=d<.5?(1+s)*d:d+s-d*s;return[a,s=2*(f-d)/f,f,c[3]]},t.default.ColorConversion._hslaToRGBA=function(c){var a,s=6*c[0],d=c[1],f=c[2];return d===0?[f,f,f,c[3]]:[(a=function(y,u,l){return y<0?y+=6:6<=y&&(y-=6),y<1?u+(l-u)*y:y<3?l:y<4?u+(l-u)*(4-y):u})(2+s,d=2*f-(f=f<.5?(1+d)*f:f+d-f*d),f),a(s,d,f),a(s-2,d,f),c[3]]},t.default.ColorConversion._rgbaToHSBA=function(c){var a,s,d=c[0],f=c[1],y=c[2],u=Math.max(d,f,y),l=u-Math.min(d,f,y);return l==0?s=a=0:(s=l/u,d===u?a=(f-y)/l:f===u?a=2+(y-d)/l:y===u&&(a=4+(d-f)/l),a<0?a+=6:6<=a&&(a-=6)),[a/6,s,u,c[3]]},t.default.ColorConversion._rgbaToHSLA=function(c){var a,s,d=c[0],f=c[1],y=c[2],u=Math.max(d,f,y),i=Math.min(d,f,y),l=u+i,i=u-i;return i==0?s=a=0:(s=l<1?i/l:i/(2-l),d===u?a=(f-y)/i:f===u?a=2+(y-d)/i:y===u&&(a=4+(d-f)/i),a<0?a+=6:6<=a&&(a-=6)),[a/6,s,l/2,c[3]]},t=t.default.ColorConversion,p.default=t},{"../core/main":267}],253:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../core/constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(u){return s.default._validateParameters("alpha",arguments),this.color(u)._getAlpha()},s.default.prototype.blue=function(u){return s.default._validateParameters("blue",arguments),this.color(u)._getBlue()},s.default.prototype.brightness=function(u){return s.default._validateParameters("brightness",arguments),this.color(u)._getBrightness()},s.default.prototype.color=function(){var u;return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:(u=arguments[0]instanceof Array?arguments[0]:arguments,new s.default.Color(this,u))},s.default.prototype.green=function(u){return s.default._validateParameters("green",arguments),this.color(u)._getGreen()},s.default.prototype.hue=function(u){return s.default._validateParameters("hue",arguments),this.color(u)._getHue()},s.default.prototype.lerpColor=function(u,l,i){s.default._validateParameters("lerpColor",arguments);var m,g,v,b=this._colorMode,w=this._colorMaxes;if(b===d.RGB)g=u.levels.map(function(S){return S/255}),v=l.levels.map(function(S){return S/255});else if(b===d.HSB)u._getBrightness(),l._getBrightness(),g=u.hsba,v=l.hsba;else{if(b!==d.HSL)throw new Error("".concat(b,"cannot be used for interpolation."));u._getLightness(),l._getLightness(),g=u.hsla,v=l.hsla}return i=Math.max(Math.min(i,1),0),this.lerp===void 0&&(this.lerp=function(S,x,M){return M*(x-S)+S}),u=this.lerp(g[0],v[0],i),l=this.lerp(g[1],v[1],i),m=this.lerp(g[2],v[2],i),g=this.lerp(g[3],v[3],i),u*=w[b][0],l*=w[b][1],m*=w[b][2],g*=w[b][3],this.color(u,l,m,g)},s.default.prototype.lightness=function(u){return s.default._validateParameters("lightness",arguments),this.color(u)._getLightness()},s.default.prototype.red=function(u){return s.default._validateParameters("red",arguments),this.color(u)._getRed()},s.default.prototype.saturation=function(u){return s.default._validateParameters("saturation",arguments),this.color(u)._getSaturation()};var y=s.default;p.default=y},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(i,h,p){function c(w){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(w)}function a(w){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(S){return c(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":c(S)})(w)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=u(i("../core/main")),d=function(w){if(w&&w.__esModule)return w;if(w===null||a(w)!=="object"&&typeof w!="function")return{default:w};var S=y();if(S&&S.has(w))return S.get(w);var x,M={},C=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in w){var E;Object.prototype.hasOwnProperty.call(w,x)&&((E=C?Object.getOwnPropertyDescriptor(w,x):null)&&(E.get||E.set)?Object.defineProperty(M,x,E):M[x]=w[x])}return M.default=w,S&&S.set(w,M),M}(i("../core/constants")),f=u(i("./color_conversion"));function y(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,y=function(){return w},w)}function u(w){return w&&w.__esModule?w:{default:w}}s.default.Color=function(w,S){if(this._storeModeAndMaxes(w._colorMode,w._colorMaxes),this.mode!==d.RGB&&this.mode!==d.HSL&&this.mode!==d.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=s.default.Color._parseInputs.apply(this,S),this._calculateLevels(),this},s.default.Color.prototype.toString=function(w){var S=this.levels,x=this._array,M=x[3];switch(w){case"#rrggbb":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16));case"#rrggbbaa":return"#".concat(S[0]<16?"0".concat(S[0].toString(16)):S[0].toString(16),S[1]<16?"0".concat(S[1].toString(16)):S[1].toString(16),S[2]<16?"0".concat(S[2].toString(16)):S[2].toString(16),S[3]<16?"0".concat(S[3].toString(16)):S[3].toString(16));case"#rgb":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16),Math.round(15*x[3]).toString(16));case"rgb":return"rgb(".concat(S[0],", ",S[1],", ",S[2],")");case"rgb%":return"rgb(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%, ",(100*x[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",M,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",M,")");case"hsla%":return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*M).toPrecision(3),"%)");default:return"rgba(".concat(S[0],",",S[1],",",S[2],",",M,")")}},s.default.Color.prototype.setRed=function(w){this._array[0]=w/this.maxes[d.RGB][0],this._calculateLevels()},s.default.Color.prototype.setGreen=function(w){this._array[1]=w/this.maxes[d.RGB][1],this._calculateLevels()},s.default.Color.prototype.setBlue=function(w){this._array[2]=w/this.maxes[d.RGB][2],this._calculateLevels()},s.default.Color.prototype.setAlpha=function(w){this._array[3]=w/this.maxes[this.mode][3],this._calculateLevels()},s.default.Color.prototype._calculateLevels=function(){for(var w=this._array,S=this.levels=new Array(w.length),x=w.length-1;0<=x;--x)S[x]=Math.round(255*w[x]);this.hsla=null,this.hsba=null},s.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},s.default.Color.prototype._storeModeAndMaxes=function(w,S){this.mode=w,this.maxes=S},s.default.Color.prototype._getMode=function(){return this.mode},s.default.Color.prototype._getMaxes=function(){return this.maxes},s.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[d.RGB][2]},s.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]},s.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[d.RGB][1]},s.default.Color.prototype._getHue=function(){return this.mode===d.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])},s.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]},s.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[d.RGB][0]},s.default.Color.prototype._getSaturation=function(){return this.mode===d.HSB?(this.hsba||(this.hsba=f.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=f.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])};var l={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i=/\s*/,b=/(\d{1,3})/,m=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,g=new RegExp("".concat(m.source,"%")),v={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",b.source,",",b.source,",",b.source,"\\)$"].join(i.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",g.source,",",g.source,",",g.source,"\\)$"].join(i.source),"i"),RGBA:new RegExp(["^rgba\\(",b.source,",",b.source,",",b.source,",",m.source,"\\)$"].join(i.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",g.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(i.source),"i"),HSL:new RegExp(["^hsl\\(",b.source,",",g.source,",",g.source,"\\)$"].join(i.source),"i"),HSLA:new RegExp(["^hsla\\(",b.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(i.source),"i"),HSB:new RegExp(["^hsb\\(",b.source,",",g.source,",",g.source,"\\)$"].join(i.source),"i"),HSBA:new RegExp(["^hsba\\(",b.source,",",g.source,",",g.source,",",m.source,"\\)$"].join(i.source),"i")},b=(s.default.Color._parseInputs=function(w,S,x,M){var C,E=arguments.length,P=this.mode,D=this.maxes[P],I=[];if(3<=E){for(I[0]=w/D[0],I[1]=S/D[1],I[2]=x/D[2],I[3]=typeof M=="number"?M/D[3]:1,C=I.length-1;0<=C;--C){var U=I[C];U<0?I[C]=0:1<U&&(I[C]=1)}return P===d.HSL?f.default._hslaToRGBA(I):P===d.HSB?f.default._hsbaToRGBA(I):I}if(E===1&&typeof w=="string"){if(x=w.trim().toLowerCase(),l[x])return s.default.Color._parseInputs.call(this,l[x]);if(v.HEX3.test(x))return(I=v.HEX3.exec(x).slice(1).map(function(G){return parseInt(G+G,16)/255}))[3]=1,I;if(v.HEX6.test(x))return(I=v.HEX6.exec(x).slice(1).map(function(G){return parseInt(G,16)/255}))[3]=1,I;if(v.HEX4.test(x))return I=v.HEX4.exec(x).slice(1).map(function(G){return parseInt(G+G,16)/255});if(v.HEX8.test(x))return I=v.HEX8.exec(x).slice(1).map(function(G){return parseInt(G,16)/255});if(v.RGB.test(x))return(I=v.RGB.exec(x).slice(1).map(function(G){return G/255}))[3]=1,I;if(v.RGB_PERCENT.test(x))return(I=v.RGB_PERCENT.exec(x).slice(1).map(function(G){return parseFloat(G)/100}))[3]=1,I;if(v.RGBA.test(x))return I=v.RGBA.exec(x).slice(1).map(function(G,W){return W===3?parseFloat(G):G/255});if(v.RGBA_PERCENT.test(x))return I=v.RGBA_PERCENT.exec(x).slice(1).map(function(G,W){return W===3?parseFloat(G):parseFloat(G)/100});if(v.HSL.test(x)?(I=v.HSL.exec(x).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:v.HSLA.test(x)&&(I=v.HSLA.exec(x).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:W===3?parseFloat(G):parseInt(G,10)/100})),(I=I.map(function(G){return Math.max(Math.min(G,1),0)})).length)return f.default._hslaToRGBA(I);if(v.HSB.test(x)?(I=v.HSB.exec(x).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:parseInt(G,10)/100}))[3]=1:v.HSBA.test(x)&&(I=v.HSBA.exec(x).slice(1).map(function(G,W){return W===0?parseInt(G,10)/360:W===3?parseFloat(G):parseInt(G,10)/100})),I.length){for(C=I.length-1;0<=C;--C)I[C]=Math.max(Math.min(I[C],1),0);return f.default._hsbaToRGBA(I)}I=[1,1,1,1]}else{if(E!==1&&E!==2||typeof w!="number")throw new Error("".concat(arguments,"is not a valid color representation."));I[0]=w/D[2],I[1]=w/D[2],I[2]=w/D[2],I[3]=typeof S=="number"?S/D[3]:1,I=I.map(function(G){return Math.max(Math.min(G,1),0)})}return I},s.default.Color);p.default=b},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../core/constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}t("./p5.Color"),s.default.prototype.background=function(){var u;return(u=this._renderer).background.apply(u,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(u,l,i,m,g){return s.default._validateParameters("colorMode",arguments),u!==d.RGB&&u!==d.HSB&&u!==d.HSL||(this._colorMode=u,u=this._colorMaxes[u],arguments.length===2?(u[0]=l,u[1]=l,u[2]=l,u[3]=l):arguments.length===4?(u[0]=l,u[1]=i,u[2]=m):arguments.length===5&&(u[0]=l,u[1]=i,u[2]=m,u[3]=g)),this},s.default.prototype.fill=function(){var u;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(u=this._renderer).fill.apply(u,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var u;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(u=this._renderer).stroke.apply(u,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=s.default;p.default=y},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.BEZIER=p.QUADRATIC=p.LINEAR=p._CTX_MIDDLE=p._DEFAULT_LEADMULT=p._DEFAULT_TEXT_FILL=p.WORD=p.CHAR=p.BOLDITALIC=p.BOLD=p.ITALIC=p.NORMAL=p.BLUR=p.ERODE=p.DILATE=p.POSTERIZE=p.INVERT=p.OPAQUE=p.GRAY=p.THRESHOLD=p.BURN=p.DODGE=p.SOFT_LIGHT=p.HARD_LIGHT=p.OVERLAY=p.REPLACE=p.SCREEN=p.MULTIPLY=p.EXCLUSION=p.SUBTRACT=p.DIFFERENCE=p.LIGHTEST=p.DARKEST=p.ADD=p.REMOVE=p.BLEND=p.UP_ARROW=p.TAB=p.SHIFT=p.RIGHT_ARROW=p.RETURN=p.OPTION=p.LEFT_ARROW=p.ESCAPE=p.ENTER=p.DOWN_ARROW=p.DELETE=p.CONTROL=p.BACKSPACE=p.ALT=p.AUTO=p.HSL=p.HSB=p.RGB=p.MITER=p.BEVEL=p.ROUND=p.SQUARE=p.PROJECT=p.PIE=p.CHORD=p.OPEN=p.CLOSE=p.TESS=p.QUAD_STRIP=p.QUADS=p.TRIANGLE_STRIP=p.TRIANGLE_FAN=p.TRIANGLES=p.LINE_LOOP=p.LINE_STRIP=p.LINES=p.POINTS=p.BASELINE=p.BOTTOM=p.TOP=p.CENTER=p.LEFT=p.RIGHT=p.RADIUS=p.CORNERS=p.CORNER=p.RAD_TO_DEG=p.DEG_TO_RAD=p.RADIANS=p.DEGREES=p.TWO_PI=p.TAU=p.QUARTER_PI=p.PI=p.HALF_PI=p.WAIT=p.TEXT=p.MOVE=p.HAND=p.CROSS=p.ARROW=p.WEBGL=p.P2D=p.VERSION=void 0,p.COVER=p.CONTAIN=p.FALLBACK=p.LABEL=p.AXES=p.GRID=p._DEFAULT_FILL=p._DEFAULT_STROKE=p.PORTRAIT=p.LANDSCAPE=p.MIRROR=p.CLAMP=p.REPEAT=p.NEAREST=p.IMAGE=p.IMMEDIATE=p.TEXTURE=p.FILL=p.STROKE=p.CURVE=void 0;var c=Math.PI,a=(p.VERSION="1.6.0",p.P2D="p2d",p.WEBGL="webgl",p.ARROW="default",p.CROSS="crosshair",p.HAND="pointer",p.MOVE="move",p.TEXT="text",p.WAIT="wait",c/2),a=(p.HALF_PI=a,c),a=(p.PI=a,c/4),a=(p.QUARTER_PI=a,2*c),a=(p.TAU=a,2*c),a=(p.TWO_PI=a,p.DEGREES="degrees",p.RADIANS="radians",c/180),a=(p.DEG_TO_RAD=a,180/c);p.RAD_TO_DEG=a,p.CORNER="corner",p.CORNERS="corners",p.RADIUS="radius",p.RIGHT="right",p.LEFT="left",p.CENTER="center",p.TOP="top",p.BOTTOM="bottom",p.BASELINE="alphabetic",p.POINTS=0,p.LINES=1,p.LINE_STRIP=3,p.LINE_LOOP=2,p.TRIANGLES=4,p.TRIANGLE_FAN=6,p.TRIANGLE_STRIP=5,p.QUADS="quads",p.QUAD_STRIP="quad_strip",p.TESS="tess",p.CLOSE="close",p.OPEN="open",p.CHORD="chord",p.PIE="pie",p.PROJECT="square",p.SQUARE="butt",p.ROUND="round",p.BEVEL="bevel",p.MITER="miter",p.RGB="rgb",p.HSB="hsb",p.HSL="hsl",p.AUTO="auto",p.ALT=18,p.BACKSPACE=8,p.CONTROL=17,p.DELETE=46,p.DOWN_ARROW=40,p.ENTER=13,p.ESCAPE=27,p.LEFT_ARROW=37,p.OPTION=18,p.RETURN=13,p.RIGHT_ARROW=39,p.SHIFT=16,p.TAB=9,p.UP_ARROW=38,p.BLEND="source-over",p.REMOVE="destination-out",p.ADD="lighter",p.DARKEST="darken",p.LIGHTEST="lighten",p.DIFFERENCE="difference",p.SUBTRACT="subtract",p.EXCLUSION="exclusion",p.MULTIPLY="multiply",p.SCREEN="screen",p.REPLACE="copy",p.OVERLAY="overlay",p.HARD_LIGHT="hard-light",p.SOFT_LIGHT="soft-light",p.DODGE="color-dodge",p.BURN="color-burn",p.THRESHOLD="threshold",p.GRAY="gray",p.OPAQUE="opaque",p.INVERT="invert",p.POSTERIZE="posterize",p.DILATE="dilate",p.ERODE="erode",p.BLUR="blur",p.NORMAL="normal",p.ITALIC="italic",p.BOLD="bold",p.BOLDITALIC="bold italic",p.CHAR="CHAR",p.WORD="WORD",p._DEFAULT_TEXT_FILL="#000000",p._DEFAULT_LEADMULT=1.25,p._CTX_MIDDLE="middle",p.LINEAR="linear",p.QUADRATIC="quadratic",p.BEZIER="bezier",p.CURVE="curve",p.STROKE="stroke",p.FILL="fill",p.TEXTURE="texture",p.IMMEDIATE="immediate",p.IMAGE="image",p.NEAREST="nearest",p.REPEAT="repeat",p.CLAMP="clamp",p.MIRROR="mirror",p.LANDSCAPE="landscape",p.PORTRAIT="portrait",p._DEFAULT_STROKE="#000000",p._DEFAULT_FILL="#FFFFFF",p.GRID="grid",p.AXES="axes",p.LABEL="label",p.FALLBACK="fallback",p.CONTAIN="contain",p.COVER="cover"},{}],257:[function(t,h,p){function c(m){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(m)}function a(m){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(g){return c(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":c(g)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(d=t("./main"))&&d.__esModule?d:{default:d},d=function(m){if(m&&m.__esModule)return m;if(m===null||a(m)!=="object"&&typeof m!="function")return{default:m};var g=f();if(g&&g.has(m))return g.get(m);var v,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in m){var S;Object.prototype.hasOwnProperty.call(m,v)&&((S=w?Object.getOwnPropertyDescriptor(m,v):null)&&(S.get||S.set)?Object.defineProperty(b,v,S):b[v]=m[v])}return b.default=m,g&&g.set(m,b),b}(t("./constants"));function f(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,f=function(){return m},m)}var y=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],u=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print);function l(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var m;arguments.length?(m=console).log.apply(m,arguments):u()},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(m,g,v){var b,w="auto",S=this._curElement.elt;y.includes(m)?w=m:typeof m=="string"&&(b="",g&&v&&typeof g=="number"&&typeof v=="number"&&(b="".concat(g," ").concat(v)),w=m.substring(0,7)==="http://"||m.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(m)?"url(".concat(m,") ").concat(b,", auto"):m),S.style.cursor=w},s.default.prototype.frameRate=function(m){return s.default._validateParameters("frameRate",arguments),typeof m!="number"||m<0?this._frameRate:(this._setProperty("_targetFrameRate",m),m===0&&this._setProperty("_frameRate",m),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(m){return this.frameRate(m)},s.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=l(),s.default.prototype.windowHeight=i(),s.default.prototype._onresize=function(m){this._setProperty("windowWidth",l()),this._setProperty("windowHeight",i());var g=this._isGlobal?window:this;typeof g.windowResized!="function"||(g=g.windowResized(m))===void 0||g||m.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(m){if(s.default._validateParameters("fullscreen",arguments),m===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(m){if(m=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");m.requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.msRequestFullscreen&&m.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(m){var g;return s.default._validateParameters("pixelDensity",arguments),typeof m=="number"?(m!==this._pixelDensity&&(this._pixelDensity=m),(g=this).resizeCanvas(this.width,this.height,!0)):g=this._pixelDensity,g},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(m){return m!==""})},s.default.prototype.getURLParams=function(){for(var m,g=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,v={};(m=g.exec(location.search))!=null;)m.index===g.lastIndex&&g.lastIndex++,v[m[1]]=m[2];return v},t=s.default,p.default=t},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function a(u,l){l=l||console.log.bind(console),s||f(),s.some(function(i){var m;if(u.message&&u.message.match("\\W?".concat(i.name,"\\W"))!==null)return m=i.type==="function"?"".concat(i.name,"()"):i.name,l("Did you just try to use p5.js's ".concat(m," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0})}var s=null,f=null,d=(c.default._friendlyError=c.default._checkForUserDefinedFunctions=c.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),f=function(){function u(i){return Object.getOwnPropertyNames(i).filter(function(m){return m[0]!=="_"&&!(m in l)&&(l[m]=!0)}).map(function(m){var g=typeof i[m]=="function"?"function":m===m.toUpperCase()?"constant":"variable";return{name:m,type:g}})}var l={};(s=[].concat(u(c.default.prototype),u(t("../constants")))).sort(function(i,m){return m.name.length-i.name.length})},y=(c.default.prototype._helpForMisusedAtTopLevelCode=a,document.readyState!=="complete"&&(window.addEventListener("error",a,!1),window.addEventListener("load",function(){window.removeEventListener("error",a,!1)})),c.default);p.default=y},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(c=t("../main"))&&c.__esModule?c:{default:c};t("../internationalization"),c.default._friendlyFileLoadError=function(){},t=c.default,p.default=t},{"../internationalization":265,"../main":267}],260:[function(t,h,p){function c(l){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function a(l){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=y(t("../main"));t("../internationalization"),f(t("../constants"));function d(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,d=function(){return l},l)}function f(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var i=d();if(i&&i.has(l))return i.get(l);var m,g,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in l)Object.prototype.hasOwnProperty.call(l,m)&&((g=b?Object.getOwnPropertyDescriptor(l,m):null)&&(g.get||g.set)?Object.defineProperty(v,m,g):v[m]=l[m]);return v.default=l,i&&i.set(l,v),v}function y(l){return l&&l.__esModule?l:{default:l}}s.default._fesCodeReader=function(){};var u=s.default;p.default=u},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(t,h,p){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function c(){var a=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(f){return f.stacktrace!==void 0||f["opera#sourceloc"]!==void 0?this.parseOpera(f):f.stack&&f.stack.match(s)?this.parseV8OrIE(f):f.stack?this.parseFFOrSafari(f):void 0},extractLocation:function(f){return f.indexOf(":")===-1?[f]:[(f=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(f.replace(/[()]/g,"")))[1],f[2]||void 0,f[3]||void 0]},parseV8OrIE:function(f){return f.stack.split(`
`).filter(function(y){return!!y.match(s)},this).map(function(y){var u=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),l=u.match(/ (\((.+):(\d+):(\d+)\)$)/),u=(u=l?u.replace(l[0],""):u).split(/\s+/).slice(1),l=this.extractLocation(l?l[1]:u.pop());return{functionName:u.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(l[0])?void 0:l[0],lineNumber:l[1],columnNumber:l[2],source:y}},this)},parseFFOrSafari:function(f){return f.stack.split(`
`).filter(function(y){return!y.match(d)},this).map(function(y){var u,l;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(l=y.match(u=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&l[1]?l[1]:void 0,fileName:(l=this.extractLocation(y.replace(u,"")))[0],lineNumber:l[1],columnNumber:l[2],source:y}},this)},parseOpera:function(f){return!f.stacktrace||-1<f.message.indexOf(`
`)&&f.message.split(`
`).length>f.stacktrace.split(`
`).length?this.parseOpera9(f):f.stack?this.parseOpera11(f):this.parseOpera10(f)},parseOpera9:function(f){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,u=f.message.split(`
`),l=[],i=2,m=u.length;i<m;i+=2){var g=y.exec(u[i]);g&&l.push({fileName:g[2],lineNumber:g[1],source:u[i]})}return l},parseOpera10:function(f){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,u=f.stacktrace.split(`
`),l=[],i=0,m=u.length;i<m;i+=2){var g=y.exec(u[i]);g&&l.push({functionName:g[3]||void 0,fileName:g[2],lineNumber:g[1],source:u[i]})}return l},parseOpera11:function(f){return f.stack.split(`
`).filter(function(y){return!!y.match(a)&&!y.match(/^Error created at/)},this).map(function(y){var u,i=y.split("@"),l=this.extractLocation(i.pop()),i=i.shift()||"";return{functionName:i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(u=i.match(/\(([^)]*)\)/)?i.replace(/^[^(]+\(([^)]*)\)$/,"$1"):u)===void 0||u==="[arguments not available]"?void 0:u.split(","),fileName:l[0],lineNumber:l[1],columnNumber:l[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new c},t=t.default,p.default=t},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(t,h,p){function c(f){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=(a=t("../main"))&&a.__esModule?a:{default:a};(function(f){if(!(f&&f.__esModule)&&!(f===null||d(f)!=="object"&&typeof f!="function")){var y=s();if(y&&y.has(f))return y.get(f);var u,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in f){var m;Object.prototype.hasOwnProperty.call(f,u)&&((m=i?Object.getOwnPropertyDescriptor(f,u):null)&&(m.get||m.set)?Object.defineProperty(l,u,m):l[u]=f[u])}l.default=f,y&&y.set(f,l)}})(t("../constants")),t("../internationalization");function s(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,s=function(){return f},f)}function d(f){return(d=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(y){return c(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":c(y)})(f)}a.default._validateParameters=a.default._clearValidateParamsCache=function(){},t=a.default,p.default=t},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(t,h,p){function c(f){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}function a(f){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(y){return c(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":c(y)})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=function(f){if(f&&f.__esModule)return f;if(f===null||a(f)!=="object"&&typeof f!="function")return{default:f};var y=d();if(y&&y.has(f))return y.get(f);var u,l={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in f){var m;Object.prototype.hasOwnProperty.call(f,u)&&((m=i?Object.getOwnPropertyDescriptor(f,u):null)&&(m.get||m.set)?Object.defineProperty(l,u,m):l[u]=f[u])}return l.default=f,y&&y.set(f,l),l}(t("./constants"));function d(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,d=function(){return f},f)}p.default={modeAdjust:function(f,y,u,l,i){return i===s.CORNER?{x:f,y,w:u,h:l}:i===s.CORNERS?{x:f,y,w:u-f,h:l-y}:i===s.RADIUS?{x:f-u,y:y-l,w:2*u,h:2*l}:i===s.CENTER?{x:f-.5*u,y:y-.5*l,w:u,h:l}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(t,h,p){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var c=(a=t("../core/main"))&&a.__esModule?a:{default:a};t("./internationalization");var a=Promise.resolve();Promise.all([new Promise(function(s,d){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),a]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!c.default.instance&&new c.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(t,h,p){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.setTranslatorLanguage=p.currentTranslatorLanguage=p.availableTranslatorLanguages=p.initialize=p.translator=void 0;var c,a,s=f(t("i18next")),d=f(t("i18next-browser-languagedetector"));function f(l){return l&&l.__esModule?l:{default:l}}function y(l,i){for(var m=0;m<i.length;m++){var g=i[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}var u=function(){function l(g,v){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this.init(g,v)}var i,m;return i=l,(m=[{key:"fetchWithTimeout",value:function(g,v){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(g,v),new Promise(function(w,S){return setTimeout(function(){return S(new Error("timeout"))},b)})])}},{key:"init",value:function(g){var v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=g,this.options=v}},{key:"read",value:function(g,v,b){var w=this.options.loadPath;g===this.options.fallback?b(null,c[g][v]):a.includes(g)?(w=this.services.interpolator.interpolate(w,{lng:g,ns:v}),this.loadUrl(w,b)):b("Not found",!1)}},{key:"loadUrl",value:function(g,v){this.fetchWithTimeout(g).then(function(b){if(b.ok)return b.json();throw new Error("failed loading ".concat(g))},function(){throw new Error("failed loading ".concat(g))}).then(function(b){return v(null,b)}).catch(v)}}])&&y(i.prototype,m),l}();u.type="backend",p.translator=function(l,i){console.debug("p5.js translator called before translations were loaded"),s.default.t(l,i)},p.initialize=function(){return s.default.use(d.default).use(u).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:c}).then(function(l){p.translator=l},function(l){return console.debug("Translations failed to load (".concat(l,")"))})},p.availableTranslatorLanguages=function(){return s.default.languages},p.currentTranslatorLanguage=function(l){return s.default.language},p.setTranslatorLanguage=function(l){return s.default.changeLanguage(l||void 0,function(i){return console.debug("Translations failed to load (".concat(i,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,p.default=t},{"./main":267}],267:[function(t,h,p){function c(l){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function a(l){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t("./shim");var s=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var i=d();if(i&&i.has(l))return i.get(l);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in l){var b;Object.prototype.hasOwnProperty.call(l,m)&&((b=v?Object.getOwnPropertyDescriptor(l,m):null)&&(b.get||b.set)?Object.defineProperty(g,m,b):g[m]=l[m])}return g.default=l,i&&i.set(l,g),g}(t("./constants"));function d(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,d=function(){return l},l)}function f(l,i){for(var m=0;m<i.length;m++){var g=i[m];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(l,g.key,g)}}var y,u=function(){function l(g,S,b){var w=this;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=S,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var S=Object.getOwnPropertyNames(l.prototype._registeredMethods),x=!0,M=!1,C=void 0;try{for(var E,P=S[Symbol.iterator]();!(x=(E=P.next()).done);x=!0){var D=E.value;this._registeredMethods[D]=l.prototype._registeredMethods[D].slice()}}catch(ee){M=!0,C=ee}finally{try{x||P.return==null||P.return()}finally{if(M)throw C}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){w._userNode&&typeof w._userNode=="string"&&(w._userNode=document.getElementById(w._userNode));var ee=w._isGlobal?window:w;if(ee.preload){var le,de=document.getElementById(w._loadingScreenId),se=(de||((de=document.createElement("div")).innerHTML="Loading...",de.style.position="absolute",de.id=w._loadingScreenId,(w._userNode||document.body).appendChild(de)),w._preloadMethods);for(le in se){se[le]=se[le]||l;var O=se[le];O!==l.prototype&&O!==l||(w._isGlobal&&(window[le]=w._wrapPreload(w,le)),O=w),w._registeredPreloadMethods[le]=O[le],O[le]=w._wrapPreload(O,le)}ee.preload(),w._runIfPreloadsAreDone()}else w._setup(),w._recording||w._draw()},this._runIfPreloadsAreDone=function(){var ee,le=this._isGlobal?window:this;le._preloadCount===0&&((ee=document.getElementById(le._loadingScreenId))&&ee.parentNode.removeChild(ee),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),le._setup(),this._recording||le._draw()))},this._decrementPreload=function(){var ee=this._isGlobal?window:this;ee._preloadDone||typeof ee.preload!="function"||(ee._setProperty("_preloadCount",ee._preloadCount-1),ee._runIfPreloadsAreDone())},this._wrapPreload=function(ee,le){var de=this;return function(){de._incrementPreload();for(var se=arguments.length,O=new Array(se),j=0;j<se;j++)O[j]=arguments[j];return de._registeredPreloadMethods[le].apply(ee,O)}},this._incrementPreload=function(){var ee=this._isGlobal?window:this;ee._preloadDone||ee._setProperty("_preloadCount",ee._preloadCount+1)},this._setup=function(){w.createCanvas(w._defaultCanvasSize.width,w._defaultCanvasSize.height,"p2d");var ee=w._isGlobal?window:w;if(typeof ee.preload=="function")for(var le in w._preloadMethods)ee[le]=w._preloadMethods[le][le],ee[le]&&w&&(ee[le]=ee[le].bind(w));w._millisStart=window.performance.now(),ee._preloadDone=!0,typeof ee.setup=="function"&&ee.setup();var de=document.getElementsByTagName("canvas"),se=!0,O=!1,j=void 0;try{for(var F,V=de[Symbol.iterator]();!(se=(F=V.next()).done);se=!0){var ae=F.value;ae.dataset.hidden==="true"&&(ae.style.visibility="",delete ae.dataset.hidden)}}catch(ue){O=!0,j=ue}finally{try{se||V.return==null||V.return()}finally{if(O)throw j}}w._lastTargetFrameTime=window.performance.now(),w._lastRealFrameTime=window.performance.now(),w._setupDone=!0,(w._accessibleOutputs.grid||w._accessibleOutputs.text)&&w._updateAccsOutput()},this._draw=function(){var ee=window.performance.now(),le=ee-w._lastTargetFrameTime,de=1e3/w._targetFrameRate;(!w._loop||de-5<=le)&&(w.redraw(),w._frameRate=1e3/(ee-w._lastRealFrameTime),w.deltaTime=ee-w._lastRealFrameTime,w._setProperty("deltaTime",w.deltaTime),w._lastTargetFrameTime=Math.max(w._lastTargetFrameTime+de,ee),w._lastRealFrameTime=ee,w._updateMouseCoords!==void 0&&(w._updateMouseCoords(),w._setProperty("movedX",0),w._setProperty("movedY",0))),w._loop&&(w._requestAnimId=window.requestAnimationFrame(w._draw))},this._setProperty=function(ee,le){w[ee]=le,w._isGlobal&&(window[ee]=le)},this.remove=function(){var ee=document.getElementById(w._loadingScreenId);if(ee&&(ee.parentNode.removeChild(ee),w._incrementPreload()),w._curElement){for(var le in w._loop=!1,w._requestAnimId&&window.cancelAnimationFrame(w._requestAnimId),w._events)window.removeEventListener(le,w._events[le]);var de=!0,ee=!1,se=void 0;try{for(var O,j=w._elements[Symbol.iterator]();!(de=(O=j.next()).done);de=!0){var F,V=O.value;for(F in V.elt&&V.elt.parentNode&&V.elt.parentNode.removeChild(V.elt),V._events)V.elt.removeEventListener(F,V._events[F])}}catch(Ce){ee=!0,se=Ce}finally{try{de||j.return==null||j.return()}finally{if(ee)throw se}}var ae=w;w._registeredMethods.remove.forEach(function(Ce){Ce!==void 0&&Ce.call(ae)})}if(w._isGlobal){for(var ue in l.prototype)try{delete window[ue]}catch{window[ue]=void 0}for(var Ee in w)if(w.hasOwnProperty(Ee))try{delete window[Ee]}catch{window[Ee]=void 0}l.instance=null}},this._registeredMethods.init.forEach(function(ee){ee!==void 0&&ee.call(this)},this),this._setupPromisePreloads();var I,U,G=this._createFriendlyGlobalFunctionBinder();if(g)g(this),l._checkForUserDefinedFunctions(this);else{for(var W in this._isGlobal=!0,l.instance=this,l.prototype)typeof l.prototype[W]=="function"?(I=W.substring(2),this._events.hasOwnProperty(I)||(Math.hasOwnProperty(W)&&Math[W]===l.prototype[W]?G(W,l.prototype[W]):G(W,l.prototype[W].bind(this)))):G(W,l.prototype[W]);for(var te in this)this.hasOwnProperty(te)&&G(te,this[te])}for(U in this._events){var Q=this["_on".concat(U)];Q&&(Q=Q.bind(this),window.addEventListener(U,Q,{passive:!1}),this._events[U]=Q)}function J(){w._setProperty("focused",!0)}function oe(){w._setProperty("focused",!1)}window.addEventListener("focus",J),window.addEventListener("blur",oe),this.registerMethod("remove",function(){window.removeEventListener("focus",J),window.removeEventListener("blur",oe)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var i,m;return i=l,(m=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(g,v){l.prototype._preloadMethods.hasOwnProperty(g)||(l.prototype._preloadMethods[g]=v)}},{key:"registerMethod",value:function(g,v){var b=this||l.prototype;b._registeredMethods.hasOwnProperty(g)||(b._registeredMethods[g]=[]),b._registeredMethods[g].push(v)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},v=g.globalObject||window;return g.log||console.log.bind(console),function(b,w){l.disableFriendlyErrors,v[b]=w}}}])&&f(i.prototype,m),l}();for(y in u.instance=null,u.disableFriendlyErrors=!1,s)u.prototype[y]=s[y];u.VERSION=s.VERSION,u.prototype._preloadMethods={loadJSON:u.prototype,loadImage:u.prototype,loadStrings:u.prototype,loadXML:u.prototype,loadBytes:u.prototype,loadTable:u.prototype,loadFont:u.prototype,loadModel:u.prototype,loadShader:u.prototype},u.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},u.prototype._registeredPreloadMethods={},p.default=u},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("./main"))&&t.__esModule?t:{default:t};c.default.Element=function(a,s){this.elt=a,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},c.default.Element.prototype.parent=function(a){return a===void 0?this.elt.parentNode:(typeof a=="string"?(a[0]==="#"&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof c.default.Element&&(a=a.elt),a.appendChild(this.elt),this)},c.default.Element.prototype.id=function(a){return a===void 0?this.elt.id:(this.elt.id=a,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},c.default.Element.prototype.class=function(a){return a===void 0?this.elt.className:(this.elt.className=a,this)},c.default.Element.prototype.mousePressed=function(a){return c.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),a.call(this,s)},this),this},c.default.Element.prototype.doubleClicked=function(a){return c.default.Element._adjustListener("dblclick",a,this),this},c.default.Element.prototype.mouseWheel=function(a){return c.default.Element._adjustListener("wheel",a,this),this},c.default.Element.prototype.mouseReleased=function(a){return c.default.Element._adjustListener("mouseup",a,this),this},c.default.Element.prototype.mouseClicked=function(a){return c.default.Element._adjustListener("click",a,this),this},c.default.Element.prototype.mouseMoved=function(a){return c.default.Element._adjustListener("mousemove",a,this),this},c.default.Element.prototype.mouseOver=function(a){return c.default.Element._adjustListener("mouseover",a,this),this},c.default.Element.prototype.mouseOut=function(a){return c.default.Element._adjustListener("mouseout",a,this),this},c.default.Element.prototype.touchStarted=function(a){return c.default.Element._adjustListener("touchstart",a,this),this},c.default.Element.prototype.touchMoved=function(a){return c.default.Element._adjustListener("touchmove",a,this),this},c.default.Element.prototype.touchEnded=function(a){return c.default.Element._adjustListener("touchend",a,this),this},c.default.Element.prototype.dragOver=function(a){return c.default.Element._adjustListener("dragover",a,this),this},c.default.Element.prototype.dragLeave=function(a){return c.default.Element._adjustListener("dragleave",a,this),this},c.default.Element._adjustListener=function(a,s,d){return s===!1?c.default.Element._detachListener(a,d):c.default.Element._attachListener(a,s,d),this},c.default.Element._attachListener=function(a,s,d){d._events[a]&&c.default.Element._detachListener(a,d),s=s.bind(d),d.elt.addEventListener(a,s,!1),d._events[a]=s},c.default.Element._detachListener=function(a,s){var d=s._events[a];s.elt.removeEventListener(a,d,!1),s._events[a]=null},c.default.Element.prototype._setProperty=function(a,s){this[a]=s},t=c.default.Element,p.default=t},{"./main":267}],269:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("./main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("./constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}s.default.Graphics=function(u,l,v,m){var g,v=v||d.P2D;for(g in this.canvas=document.createElement("canvas"),(m._userNode||document.body).appendChild(this.canvas),s.default.Element.call(this,this.canvas,m),s.default.prototype)this[g]||(typeof s.default.prototype[g]=="function"?this[g]=s.default.prototype[g].bind(this):this[g]=s.default.prototype[g]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=u,this.height=l,this._pixelDensity=m._pixelDensity,v===d.WEBGL?this._renderer=new s.default.RendererGL(this.canvas,this,!1):this._renderer=new s.default.Renderer2D(this.canvas,this,!1),m._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(u,l),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var u,l=this._pInst._elements.indexOf(this);for(u in l!==-1&&this._pInst._elements.splice(l,1),this._events)this.elt.removeEventListener(u,this._events[u])};var y=s.default.Graphics;p.default=y},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(t,h,p){function c(l){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=(u=t("./main"))&&u.__esModule?u:{default:u},s=function(l){if(l&&l.__esModule)return l;if(l===null||f(l)!=="object"&&typeof l!="function")return{default:l};var i=d();if(i&&i.has(l))return i.get(l);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in l){var b;Object.prototype.hasOwnProperty.call(l,m)&&((b=v?Object.getOwnPropertyDescriptor(l,m):null)&&(b.get||b.set)?Object.defineProperty(g,m,b):g[m]=l[m])}return g.default=l,i&&i.set(l,g),g}(t("../core/constants"));function d(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,d=function(){return l},l)}function f(l){return(f=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(l)}function y(l){var i=0,m=0;if(l.offsetParent)for(;i+=l.offsetLeft,m+=l.offsetTop,l=l.offsetParent;);else i+=l.offsetLeft,m+=l.offsetTop;return[i,m]}a.default.Renderer=function(l,i,m){a.default.Element.call(this,l,i),this.canvas=l,this._pixelsState=i,m?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=s.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=s.LEFT,this._textBaseline=s.BASELINE,this._textWrap=s.WORD,this._rectMode=s.CORNER,this._ellipseMode=s.CENTER,this._curveTightness=0,this._imageMode=s.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},a.default.Renderer.prototype=Object.create(a.default.Element.prototype),a.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},a.default.Renderer.prototype.pop=function(l){l.properties&&Object.assign(this,l.properties)},a.default.Renderer.prototype.resize=function(l,i){this.width=l,this.height=i,this.elt.width=l*this._pInst._pixelDensity,this.elt.height=i*this._pInst._pixelDensity,this.elt.style.width="".concat(l,"px"),this.elt.style.height="".concat(i,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},a.default.Renderer.prototype.get=function(l,i,m,g){var v=this._pixelsState,b=v._pixelDensity,w=this.canvas;if(l===void 0&&i===void 0)l=i=0,m=v.width,g=v.height;else if(l*=b,i*=b,m===void 0&&g===void 0)return l<0||i<0||l>=w.width||i>=w.height?[0,0,0,0]:this._getPixel(l,i);return v=new a.default.Image(m,g),v.canvas.getContext("2d").drawImage(w,l,i,m*b,g*b,0,0,m,g),v},a.default.Renderer.prototype.textLeading=function(l){return typeof l=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",l),this._pInst):this._textLeading},a.default.Renderer.prototype.textSize=function(l){return typeof l=="number"?(this._setProperty("_textSize",l),this._leadingSet||this._setProperty("_textLeading",l*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},a.default.Renderer.prototype.textStyle=function(l){return l?(l!==s.NORMAL&&l!==s.ITALIC&&l!==s.BOLD&&l!==s.BOLDITALIC||this._setProperty("_textStyle",l),this._applyTextProperties()):this._textStyle},a.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},a.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},a.default.Renderer.prototype.textAlign=function(l,i){return l!==void 0?(this._setProperty("_textAlign",l),i!==void 0&&this._setProperty("_textBaseline",i),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},a.default.Renderer.prototype.textWrap=function(l){return this._setProperty("_textWrap",l),this._textWrap},a.default.Renderer.prototype.text=function(l,i,m,g,v){var b,w,S,x,M=this._pInst,C=this._textWrap,E=Number.MAX_VALUE,P=m;if((this._doFill||this._doStroke)&&l!==void 0){if(b=(l=(l=typeof l!="string"?l.toString():l).replace(/(\t)/g,"  ")).split(`
`),g!==void 0){switch(this._rectMode===s.CENTER&&(i-=g/2),this._textAlign){case s.CENTER:i+=g/2;break;case s.RIGHT:i+=g}if(v!==void 0){this._rectMode===s.CENTER&&(m-=v/2,P-=v/2);var l=m,D=M.textAscent();switch(this._textBaseline){case s.BOTTOM:x=m+v,m=Math.max(x,m),P+=D;break;case s.CENTER:x=m+v/2,m=Math.max(x,m),P+=D/2}E=m+v-D,this._textBaseline===s.CENTER&&(E=l+v-D/2)}else{if(this._textBaseline===s.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===s.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(C===s.WORD){for(var I=[],U=0;U<b.length;U++){for(var G="",W=b[U].split(" "),te=0;te<W.length;te++)w="".concat(G+W[te])+" ",G=g<(S=this.textWidth(w))&&0<G.length?(I.push(G),"".concat(W[te])+" "):w;I.push(G)}var Q=0;this._textBaseline===s.CENTER?Q=(I.length-1)*M.textLeading()/2:this._textBaseline===s.BOTTOM&&(Q=(I.length-1)*M.textLeading());for(var J=0;J<b.length;J++){G="",W=b[J].split(" ");for(var oe=0;oe<W.length;oe++)w="".concat(G+W[oe])+" ",g<(S=this.textWidth(w))&&0<G.length?(this._renderText(M,G.trim(),i,m-Q,E,P),G="".concat(W[oe])+" ",m+=M.textLeading()):G=w;this._renderText(M,G.trim(),i,m-Q,E,P),m+=M.textLeading()}}else{for(var ee=[],le=0;le<b.length;le++)for(var de=b[le].split(G=""),se=0;se<de.length;se++)w="".concat(G+de[se]),(S=this.textWidth(w))<=g?G+=de[se]:g<S&&0<G.length&&(ee.push(G),G="".concat(de[se]));ee.push(G);var O=0;this._textBaseline===s.CENTER?O=(ee.length-1)*M.textLeading()/2:this._textBaseline===s.BOTTOM&&(O=(ee.length-1)*M.textLeading());for(var j=0;j<b.length;j++){de=b[j].split(G="");for(var F=0;F<de.length;F++)w="".concat(G+de[F]),(S=this.textWidth(w))<=g?G+=de[F]:g<S&&0<G.length&&(this._renderText(M,G.trim(),i,m-O,E,P),m+=M.textLeading(),G="".concat(de[F]))}this._renderText(M,G.trim(),i,m-O,E,P),m+=M.textLeading()}}else{var V=0;this._textBaseline===s.CENTER?V=(b.length-1)*M.textLeading()/2:this._textBaseline===s.BOTTOM&&(V=(b.length-1)*M.textLeading());for(var ae=0;ae<b.length;ae++)this._renderText(M,b[ae],i,m-V,E,P-V),m+=M.textLeading()}return M}},a.default.Renderer.prototype._applyDefaults=function(){return this},a.default.Renderer.prototype._isOpenType=function(){var l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return f(l)==="object"&&l.font&&l.font.supported},a.default.Renderer.prototype._updateTextMetrics=function(){var l,i,m,g,v,b;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((l=document.createElement("span")).style.fontFamily=this._textFont,l.style.fontSize="".concat(this._textSize,"px"),l.innerHTML="ABCjgq|",(b=document.createElement("div")).style.display="inline-block",b.style.width="1px",b.style.height="0px",g=((i=document.createElement("div")).appendChild(l),i.appendChild(b),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),b.style.verticalAlign="baseline",y(b)),v=y(l),m=g[1]-v[1],g=(b.style.verticalAlign="bottom",y(b)),v=y(l),b=g[1]-v[1]-m,document.body.removeChild(i),this._setProperty("_textAscent",m),this._setProperty("_textDescent",b)),this};var u=a.default.Renderer;p.default=u},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(t,h,p){function c(l){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function a(l){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(u=t("./main"))&&u.__esModule?u:{default:u},d=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var i=f();if(i&&i.has(l))return i.get(l);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in l){var b;Object.prototype.hasOwnProperty.call(l,m)&&((b=v?Object.getOwnPropertyDescriptor(l,m):null)&&(b.get||b.set)?Object.defineProperty(g,m,b):g[m]=l[m])}return g.default=l,i&&i.set(l,g),g}(t("./constants"));function f(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,f=function(){return l},l)}t("./p5.Renderer");var y="rgba(0,0,0,0)",u=(s.default.Renderer2D=function(l,i,m){return s.default.Renderer.call(this,l,i,m),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},s.default.Renderer2D.prototype=Object.create(s.default.Renderer.prototype),s.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"},s.default.Renderer2D.prototype.resize=function(l,i){s.default.Renderer.prototype.resize.call(this,l,i),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},s.default.Renderer2D.prototype.background=function(){var l,i;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(l=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(l,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(l=this._getFill(),i=(i=this._pInst).color.apply(i,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(i.levels),i=i.toString(),this._setFill(i),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(l),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},s.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},s.default.Renderer2D.prototype.fill=function(){var l=(l=this._pInst).color.apply(l,arguments);this._setFill(l.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",l.levels)},s.default.Renderer2D.prototype.stroke=function(){var l=(l=this._pInst).color.apply(l,arguments);this._setStroke(l.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",l.levels)},s.default.Renderer2D.prototype.erase=function(l,i){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,l=this._pInst.color(255,l).toString(),this.drawingContext.fillStyle=l,this._cachedStrokeStyle=this.drawingContext.strokeStyle,l=this._pInst.color(255,i).toString(),this.drawingContext.strokeStyle=l,i=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=i,this._isErasing=!0)},s.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},s.default.Renderer2D.prototype.image=function(l,i,m,g,v,b,w,S,x){l.gifProperties&&l._animateGif(this._pInst);try{s.default.MediaElement&&l instanceof s.default.MediaElement&&l._ensureCanvas();var M=(M=this._tint&&l.canvas?this._getTintedImageCanvas(l):M)||l.canvas||l.elt,C=1;l.width&&0<l.width&&(C=M.width/l.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(M,C*i,C*m,C*g,C*v,b,w,S,x),this._isErasing&&this._pInst.erase()}catch(E){if(E.name!=="NS_ERROR_NOT_AVAILABLE")throw E}},s.default.Renderer2D.prototype._getTintedImageCanvas=function(l){if(!l.canvas)return l;l.tintCanvas||(l.tintCanvas=document.createElement("canvas")),l.tintCanvas.width!==l.canvas.width&&(l.tintCanvas.width=l.canvas.width),l.tintCanvas.height!==l.canvas.height&&(l.tintCanvas.height=l.canvas.height);var i=l.tintCanvas.getContext("2d");return i.save(),i.clearRect(0,0,l.canvas.width,l.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(i.drawImage(l.canvas,0,0),i.globalCompositeOperation="luminosity",i.drawImage(l.canvas,0,0),i.globalCompositeOperation="color",i.drawImage(l.canvas,0,0),i.globalCompositeOperation="multiply",i.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),i.fillRect(0,0,l.canvas.width,l.canvas.height),i.globalCompositeOperation="destination-in"),i.globalAlpha=this._tint[3]/255,i.drawImage(l.canvas,0,0),i.restore(),l.tintCanvas},s.default.Renderer2D.prototype.blendMode=function(l){if(l===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(l!==d.BLEND&&l!==d.REMOVE&&l!==d.DARKEST&&l!==d.LIGHTEST&&l!==d.DIFFERENCE&&l!==d.MULTIPLY&&l!==d.EXCLUSION&&l!==d.SCREEN&&l!==d.REPLACE&&l!==d.OVERLAY&&l!==d.HARD_LIGHT&&l!==d.SOFT_LIGHT&&l!==d.DODGE&&l!==d.BURN&&l!==d.ADD)throw new Error("Mode ".concat(l," not recognized."));this._cachedBlendMode=l,this.drawingContext.globalCompositeOperation=l}},s.default.Renderer2D.prototype.blend=function(){for(var l=this.drawingContext.globalCompositeOperation,i=arguments.length,m=new Array(i),g=0;g<i;g++)m[g]=arguments[g];var v=m[m.length-1],b=Array.prototype.slice.call(m,0,m.length-1);this.drawingContext.globalCompositeOperation=v,s.default.prototype.copy.apply(this,b),this.drawingContext.globalCompositeOperation=l},s.default.Renderer2D.prototype._getPixel=function(l,i){return l=this.drawingContext.getImageData(l,i,1,1).data,[l[0],l[1],l[2],l[3]]},s.default.Renderer2D.prototype.loadPixels=function(){var l=this._pixelsState,i=l._pixelDensity,m=this.width*i,i=this.height*i,m=this.drawingContext.getImageData(0,0,m,i);l._setProperty("imageData",m),l._setProperty("pixels",m.data)},s.default.Renderer2D.prototype.set=function(l,i,m){l=Math.floor(l),i=Math.floor(i);var g=this._pixelsState;if(m instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(g._pixelDensity,g._pixelDensity),this.drawingContext.clearRect(l,i,m.width,m.height),this.drawingContext.drawImage(m.canvas,l,i),this.drawingContext.restore();else{var v=0,b=0,w=0,S=0,x=4*(i*g._pixelDensity*(this.width*g._pixelDensity)+l*g._pixelDensity);if(g.imageData||g.loadPixels.call(g),typeof m=="number")x<g.pixels.length&&(w=b=v=m,S=255);else if(m instanceof Array){if(m.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");x<g.pixels.length&&(v=m[0],b=m[1],w=m[2],S=m[3])}else m instanceof s.default.Color&&x<g.pixels.length&&(v=m.levels[0],b=m.levels[1],w=m.levels[2],S=m.levels[3]);for(var M=0;M<g._pixelDensity;M++)for(var C=0;C<g._pixelDensity;C++)x=4*((i*g._pixelDensity+C)*this.width*g._pixelDensity+(l*g._pixelDensity+M)),g.pixels[x]=v,g.pixels[x+1]=b,g.pixels[x+2]=w,g.pixels[x+3]=S}},s.default.Renderer2D.prototype.updatePixels=function(l,i,m,g){var v=this._pixelsState,b=v._pixelDensity;l===void 0&&i===void 0&&m===void 0&&g===void 0&&(i=l=0,m=this.width,g=this.height),l*=b,i*=b,m*=b,g*=b,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=v.imageData),this.drawingContext.putImageData(v.imageData,l,i,0,0,m,g)},s.default.Renderer2D.prototype._acuteArcToBezier=function(l,i){var b=i/2,m=Math.cos(b),S=Math.sin(b),g=1/Math.tan(b),b=l+b,v=Math.cos(b),b=Math.sin(b),w=(4-m)/3,S=S+(m-w)*g;return{ax:Math.cos(l).toFixed(7),ay:Math.sin(l).toFixed(7),bx:(w*v+S*b).toFixed(7),by:(w*b-S*v).toFixed(7),cx:(w*v-S*b).toFixed(7),cy:(w*b+S*v).toFixed(7),dx:Math.cos(l+i).toFixed(7),dy:Math.sin(l+i).toFixed(7)}},s.default.Renderer2D.prototype.arc=function(l,i,m,g,v,b,w){var S,x=this.drawingContext,M=m/2,C=g/2,E=[];for(l+=M,i+=C;1e-5<=b-v;)S=Math.min(b-v,d.HALF_PI),E.push(this._acuteArcToBezier(v,S)),v+=S;return this._doFill&&(x.beginPath(),E.forEach(function(P,D){D===0&&x.moveTo(l+P.ax*M,i+P.ay*C),x.bezierCurveTo(l+P.bx*M,i+P.by*C,l+P.cx*M,i+P.cy*C,l+P.dx*M,i+P.dy*C)}),w!==d.PIE&&w!=null||x.lineTo(l,i),x.closePath(),x.fill()),this._doStroke&&(x.beginPath(),E.forEach(function(P,D){D===0&&x.moveTo(l+P.ax*M,i+P.ay*C),x.bezierCurveTo(l+P.bx*M,i+P.by*C,l+P.cx*M,i+P.cy*C,l+P.dx*M,i+P.dy*C)}),w===d.PIE?(x.lineTo(l,i),x.closePath()):w===d.CHORD&&x.closePath(),x.stroke()),this},s.default.Renderer2D.prototype.ellipse=function(E){var i=this.drawingContext,m=this._doFill,g=this._doStroke,v=parseFloat(E[0]),b=parseFloat(E[1]),C=parseFloat(E[2]),E=parseFloat(E[3]);if(m&&!g){if(this._getFill()===y)return this}else if(!m&&g&&this._getStroke()===y)return this;var w=C/2*.5522847498,S=E/2*.5522847498,x=v+C,M=b+E,C=v+C/2,E=b+E/2;i.beginPath(),i.moveTo(v,E),i.bezierCurveTo(v,E-S,C-w,b,C,b),i.bezierCurveTo(C+w,b,x,E-S,x,E),i.bezierCurveTo(x,E+S,C+w,M,C,M),i.bezierCurveTo(C-w,M,v,E+S,v,E),m&&i.fill(),g&&i.stroke()},s.default.Renderer2D.prototype.line=function(l,i,m,g){var v=this.drawingContext;return this._doStroke&&this._getStroke()!==y&&(v.beginPath(),v.moveTo(l,i),v.lineTo(m,g),v.stroke()),this},s.default.Renderer2D.prototype.point=function(l,i){var m,g,v=this.drawingContext;return!this._doStroke||this._getStroke()===y?this:(m=this._getStroke(),g=this._getFill(),this._setFill(m),v.beginPath(),v.arc(l,i,v.lineWidth/2,0,d.TWO_PI,!1),v.fill(),void this._setFill(g))},s.default.Renderer2D.prototype.quad=function(l,i,m,g,v,b,w,S){var x=this.drawingContext,M=this._doFill,C=this._doStroke;if(M&&!C){if(this._getFill()===y)return this}else if(!M&&C&&this._getStroke()===y)return this;return x.beginPath(),x.moveTo(l,i),x.lineTo(m,g),x.lineTo(v,b),x.lineTo(w,S),x.closePath(),M&&x.fill(),C&&x.stroke(),this},s.default.Renderer2D.prototype.rect=function(C){var i,m,g=C[0],v=C[1],b=C[2],w=C[3],S=C[4],x=C[5],M=C[6],C=C[7],E=this.drawingContext,P=this._doFill,D=this._doStroke;if(P&&!D){if(this._getFill()===y)return this}else if(!P&&D&&this._getStroke()===y)return this;return E.beginPath(),S===void 0?E.rect(g,v,b,w):(x===void 0&&(x=S),M===void 0&&(M=x),C===void 0&&(C=M),D=(P=Math.abs(b))/2,m=(i=Math.abs(w))/2,i<2*(S=P<2*S?D:S)&&(S=m),i<2*(x=P<2*x?D:x)&&(x=m),i<2*(M=P<2*M?D:M)&&(M=m),i<2*(C=P<2*C?D:C)&&(C=m),E.beginPath(),E.moveTo(g+S,v),E.arcTo(g+b,v,g+b,v+w,x),E.arcTo(g+b,v+w,g,v+w,M),E.arcTo(g,v+w,g,v,C),E.arcTo(g,v,g+b,v,S),E.closePath()),this._doFill&&E.fill(),this._doStroke&&E.stroke(),this},s.default.Renderer2D.prototype.triangle=function(M){var i=this.drawingContext,m=this._doFill,g=this._doStroke,v=M[0],b=M[1],w=M[2],S=M[3],x=M[4],M=M[5];if(m&&!g){if(this._getFill()===y)return this}else if(!m&&g&&this._getStroke()===y)return this;i.beginPath(),i.moveTo(v,b),i.lineTo(w,S),i.lineTo(x,M),i.closePath(),m&&i.fill(),g&&i.stroke()},s.default.Renderer2D.prototype.endShape=function(l,i,m,g,v,b,w){if(i.length!==0&&(this._doStroke||this._doFill)){var S,x,M,C=l===d.CLOSE,E=(C&&!b&&i.push(i[0]),i.length);if(!m||w!==d.POLYGON&&w!==null)if(!g||w!==d.POLYGON&&w!==null)if(!v||w!==d.POLYGON&&w!==null)if(w===d.POINTS)for(x=0;x<E;x++)S=i[x],this._doStroke&&this._pInst.stroke(S[6]),this._pInst.point(S[0],S[1]);else if(w===d.LINES)for(x=0;x+1<E;x+=2)S=i[x],this._doStroke&&this._pInst.stroke(i[x+1][6]),this._pInst.line(S[0],S[1],i[x+1][0],i[x+1][1]);else if(w===d.TRIANGLES)for(x=0;x+2<E;x+=3)S=i[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0],S[1]),this.drawingContext.lineTo(i[x+1][0],i[x+1][1]),this.drawingContext.lineTo(i[x+2][0],i[x+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(i[x+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(i[x+2][6]),this.drawingContext.stroke());else if(w===d.TRIANGLE_STRIP)for(x=0;x+1<E;x++)S=i[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[x+1][0],i[x+1][1]),this.drawingContext.lineTo(S[0],S[1]),this._doStroke&&this._pInst.stroke(i[x+1][6]),this._doFill&&this._pInst.fill(i[x+1][5]),x+2<E&&(this.drawingContext.lineTo(i[x+2][0],i[x+2][1]),this._doStroke&&this._pInst.stroke(i[x+2][6]),this._doFill&&this._pInst.fill(i[x+2][5])),this._doFillStrokeClose(C);else if(w===d.TRIANGLE_FAN){if(2<E){for(this.drawingContext.beginPath(),x=2;x<E;x++)S=i[x],this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[x-1][0],i[x-1][1]),this.drawingContext.lineTo(S[0],S[1]),this.drawingContext.lineTo(i[0][0],i[0][1]),x<E-1&&(this._doFill&&S[5]!==i[x+1][5]||this._doStroke&&S[6]!==i[x+1][6])&&(this._doFill&&(this._pInst.fill(S[5]),this.drawingContext.fill(),this._pInst.fill(i[x+1][5])),this._doStroke&&(this._pInst.stroke(S[6]),this.drawingContext.stroke(),this._pInst.stroke(i[x+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(C)}}else if(w===d.QUADS)for(x=0;x+3<E;x+=4){for(S=i[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(S[0],S[1]),M=1;M<4;M++)this.drawingContext.lineTo(i[x+M][0],i[x+M][1]);this.drawingContext.lineTo(S[0],S[1]),this._doFill&&this._pInst.fill(i[x+3][5]),this._doStroke&&this._pInst.stroke(i[x+3][6]),this._doFillStrokeClose(C)}else if(w===d.QUAD_STRIP){if(3<E)for(x=0;x+1<E;x+=2)S=i[x],this.drawingContext.beginPath(),x+3<E?(this.drawingContext.moveTo(i[x+2][0],i[x+2][1]),this.drawingContext.lineTo(S[0],S[1]),this.drawingContext.lineTo(i[x+1][0],i[x+1][1]),this.drawingContext.lineTo(i[x+3][0],i[x+3][1]),this._doFill&&this._pInst.fill(i[x+3][5]),this._doStroke&&this._pInst.stroke(i[x+3][6])):(this.drawingContext.moveTo(S[0],S[1]),this.drawingContext.lineTo(i[x+1][0],i[x+1][1])),this._doFillStrokeClose(C)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),x=1;x<E;x++)(S=i[x]).isVert&&(S.moveTo?this.drawingContext.moveTo(S[0],S[1]):this.drawingContext.lineTo(S[0],S[1]));this._doFillStrokeClose(C)}else{for(this.drawingContext.beginPath(),x=0;x<E;x++)i[x].isVert?i[x].moveTo?this.drawingContext.moveTo(i[x][0],i[x][1]):this.drawingContext.lineTo(i[x][0],i[x][1]):this.drawingContext.quadraticCurveTo(i[x][0],i[x][1],i[x][2],i[x][3]);this._doFillStrokeClose(C)}else{for(this.drawingContext.beginPath(),x=0;x<E;x++)i[x].isVert?i[x].moveTo?this.drawingContext.moveTo(i[x][0],i[x][1]):this.drawingContext.lineTo(i[x][0],i[x][1]):this.drawingContext.bezierCurveTo(i[x][0],i[x][1],i[x][2],i[x][3],i[x][4],i[x][5]);this._doFillStrokeClose(C)}else if(3<E){var P=[],D=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[1][0],i[1][1]),x=1;x+2<E;x++)S=i[x],P[0]=[S[0],S[1]],P[1]=[S[0]+(D*i[x+1][0]-D*i[x-1][0])/6,S[1]+(D*i[x+1][1]-D*i[x-1][1])/6],P[2]=[i[x+1][0]+(D*i[x][0]-D*i[x+2][0])/6,i[x+1][1]+(D*i[x][1]-D*i[x+2][1])/6],P[3]=[i[x+1][0],i[x+1][1]],this.drawingContext.bezierCurveTo(P[1][0],P[1][1],P[2][0],P[2][1],P[3][0],P[3][1]);C&&this.drawingContext.lineTo(i[x+1][0],i[x+1][1]),this._doFillStrokeClose(C)}b=v=g=m=!1,C&&i.pop()}return this},s.default.Renderer2D.prototype.strokeCap=function(l){return l!==d.ROUND&&l!==d.SQUARE&&l!==d.PROJECT||(this.drawingContext.lineCap=l),this},s.default.Renderer2D.prototype.strokeJoin=function(l){return l!==d.ROUND&&l!==d.BEVEL&&l!==d.MITER||(this.drawingContext.lineJoin=l),this},s.default.Renderer2D.prototype.strokeWeight=function(l){return this.drawingContext.lineWidth=l===void 0||l===0?1e-4:l,this},s.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},s.default.Renderer2D.prototype._setFill=function(l){l!==this._cachedFillStyle&&(this.drawingContext.fillStyle=l,this._cachedFillStyle=l)},s.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},s.default.Renderer2D.prototype._setStroke=function(l){l!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=l,this._cachedStrokeStyle=l)},s.default.Renderer2D.prototype.bezier=function(l,i,m,g,v,b,w,S){return this._pInst.beginShape(),this._pInst.vertex(l,i),this._pInst.bezierVertex(m,g,v,b,w,S),this._pInst.endShape(),this},s.default.Renderer2D.prototype.curve=function(l,i,m,g,v,b,w,S){return this._pInst.beginShape(),this._pInst.curveVertex(l,i),this._pInst.curveVertex(m,g),this._pInst.curveVertex(v,b),this._pInst.curveVertex(w,S),this._pInst.endShape(),this},s.default.Renderer2D.prototype._doFillStrokeClose=function(l){l&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},s.default.Renderer2D.prototype.applyMatrix=function(l,i,m,g,v,b){this.drawingContext.transform(l,i,m,g,v,b)},s.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},s.default.Renderer2D.prototype.rotate=function(l){this.drawingContext.rotate(l)},s.default.Renderer2D.prototype.scale=function(l,i){return this.drawingContext.scale(l,i),this},s.default.Renderer2D.prototype.translate=function(l,i){return l instanceof s.default.Vector&&(i=l.y,l=l.x),this.drawingContext.translate(l,i),this},s.default.Renderer2D.prototype.text=function(l,i,m,w,v){w!==void 0&&this.drawingContext.textBaseline===d.BASELINE&&(b=!0,this.drawingContext.textBaseline=d.TOP);var b,w=s.default.Renderer.prototype.text.apply(this,arguments);return b&&(this.drawingContext.textBaseline=d.BASELINE),w},s.default.Renderer2D.prototype._renderText=function(l,i,m,g,v,b){if(!(g<b||v<=g))return l.push(),this._isOpenType()?this._textFont._renderPath(i,m,g,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(i,m,g),this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(i,m,g))),l.pop(),l},s.default.Renderer2D.prototype.textWidth=function(l){return this._isOpenType()?this._textFont._textWidth(l,this._textSize):this.drawingContext.measureText(l).width},s.default.Renderer2D.prototype._applyTextProperties=function(){var l,i=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),l=this._textFont,this._isOpenType()&&(l=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(l||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===d.CENTER?this.drawingContext.textBaseline=d._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,i},s.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),s.default.Renderer.prototype.push.apply(this)},s.default.Renderer2D.prototype.pop=function(l){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s.default.Renderer.prototype.pop.call(this,l)},s.default.Renderer2D);p.default=u},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var c=(t=t("./main"))&&t.__esModule?t:{default:t};c.default.prototype._promisePreloads=[];function a(){return{}}var s=!(c.default.prototype.registerPromisePreload=function(d){c.default.prototype._promisePreloads.push(d)});c.default.prototype._setupPromisePreloads=function(){var d=!0,f=!1,y=void 0;try{for(var u,l=this._promisePreloads[Symbol.iterator]();!(d=(u=l.next()).done);d=!0){var i=u.value,m=this,g=i.method,v=i.addCallbacks,b=i.legacyPreloadSetup,w=i.target||this,S=w[g].bind(w);if(w===c.default.prototype){if(s)continue;m=null,S=w[g]}w[g]=this._wrapPromisePreload(m,S,v),b&&(w[b.method]=this._legacyPreloadGenerator(m,b,w[g]))}}catch(x){f=!0,y=x}finally{try{d||l.return==null||l.return()}finally{if(f)throw y}}s=!0},c.default.prototype._wrapPromisePreload=function(d,f,y){var u=function(){for(var l=this,i=(this._incrementPreload(),null),m=null,g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];if(y)for(var w=v.length-1;0<=w&&!m&&typeof v[w]=="function";w--)m=i,i=v.pop();var S=Promise.resolve(f.apply(this,v));return i&&S.then(i),m&&S.catch(m),S.then(function(){return l._decrementPreload()}),S};return u=d?u.bind(d):u},c.default.prototype._legacyPreloadGenerator=function(d,l,y){var u=l.createBaseObject||a,l=function(){var i=this,m=(this._incrementPreload(),u.apply(this,arguments));return y.apply(this,arguments).then(function(g){Object.assign(m,g),i._decrementPreload()}),m};return l=d?l.bind(d):l}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(t,h,p){function c(l){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=(u=t("./main"))&&u.__esModule?u:{default:u},s=function(l){if(l&&l.__esModule)return l;if(l===null||f(l)!=="object"&&typeof l!="function")return{default:l};var i=d();if(i&&i.has(l))return i.get(l);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in l){var b;Object.prototype.hasOwnProperty.call(l,m)&&((b=v?Object.getOwnPropertyDescriptor(l,m):null)&&(b.get||b.set)?Object.defineProperty(g,m,b):g[m]=l[m])}return g.default=l,i&&i.set(l,g),g}(t("./constants"));function d(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,d=function(){return l},l)}function f(l){return(f=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(l)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",u=(a.default.prototype.createCanvas=function(l,i,w){a.default._validateParameters("createCanvas",arguments);var g,v,b,w=w||s.P2D;if(w===s.WEBGL)(v=document.getElementById(y))&&(v.parentNode.removeChild(v),g=this._renderer,this._elements=this._elements.filter(function(x){return x!==g})),(v=document.createElement("canvas")).id=y,v.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)v=this.canvas;else{v=document.createElement("canvas");for(var S=0;document.getElementById("defaultCanvas".concat(S));)S++;y="defaultCanvas".concat(S),v.id=y,v.classList.add("p5Canvas")}return this._setupDone||(v.dataset.hidden=!0,v.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(b=document.createElement("main"),document.body.appendChild(b)),document.getElementsByTagName("main")[0])).appendChild(v),w===s.WEBGL?(this._setProperty("_renderer",new a.default.RendererGL(v,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new a.default.Renderer2D(v,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(l,i),this._renderer._applyDefaults(),this._renderer},a.default.prototype.resizeCanvas=function(l,i,m){if(a.default._validateParameters("resizeCanvas",arguments),this._renderer){var g,v,b={};for(g in this.drawingContext){var w=this.drawingContext[g];f(w)!=="object"&&typeof w!="function"&&(b[g]=w)}for(v in this._renderer.resize(l,i),this.width=l,this.height=i,b)try{this.drawingContext[v]=b[v]}catch{}m||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},a.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},a.default.prototype.createGraphics=function(l,i,m){return a.default._validateParameters("createGraphics",arguments),new a.default.Graphics(l,i,m,this)},a.default.prototype.blendMode=function(l){a.default._validateParameters("blendMode",arguments),l===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),l=s.BLEND),this._renderer.blendMode(l)},a.default);p.default=u},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(t,h,p){function c(l){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function a(l){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=u(t("../main")),d=function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var i=y();if(i&&i.has(l))return i.get(l);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in l){var b;Object.prototype.hasOwnProperty.call(l,m)&&((b=v?Object.getOwnPropertyDescriptor(l,m):null)&&(b.get||b.set)?Object.defineProperty(g,m,b):g[m]=l[m])}return g.default=l,i&&i.set(l,g),g}(t("../constants")),f=u(t("../helpers"));function y(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,y=function(){return l},l)}function u(l){return l&&l.__esModule?l:{default:l}}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(l,i,m,g,v){var b;return l-=d.TWO_PI*Math.floor(l/d.TWO_PI),i-=d.TWO_PI*Math.floor(i/d.TWO_PI),b=Math.min(Math.abs(l-i),d.TWO_PI-Math.abs(l-i)),v&&(l=l<=d.HALF_PI?Math.atan(m/g*Math.tan(l)):l>d.HALF_PI&&l<=3*d.HALF_PI?Math.atan(m/g*Math.tan(l))+d.PI:Math.atan(m/g*Math.tan(l))+d.TWO_PI,i=i<=d.HALF_PI?Math.atan(m/g*Math.tan(i)):i>d.HALF_PI&&i<=3*d.HALF_PI?Math.atan(m/g*Math.tan(i))+d.PI:Math.atan(m/g*Math.tan(i))+d.TWO_PI),i<l&&(i+=d.TWO_PI),{start:l,stop:i,correspondToSamePoint:b<1e-5}},s.default.prototype.arc=function(l,i,m,g,v,b,w,S){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&v!==b&&(v=this._toRadians(v),b=this._toRadians(b),m=Math.abs(m),g=Math.abs(g),l=f.default.modeAdjust(l,i,m,g,this._renderer._ellipseMode),(i=this._normalizeArcAngles(v,b,l.w,l.h,!0)).correspondToSamePoint?this._renderer.ellipse([l.x,l.y,l.w,l.h,S]):(this._renderer.arc(l.x,l.y,l.w,l.h,i.start,i.stop,w,S),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[l.x,l.y,l.w,l.h,i.start,i.stop,w]))),this},s.default.prototype.ellipse=function(l,i,m,g,v){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){s.default._validateParameters("circle",arguments);var l=Array.prototype.slice.call(arguments,0,2);return l.push(arguments[2]),l.push(arguments[2]),this._renderEllipse.apply(this,l)},s.default.prototype._renderEllipse=function(l,i,m,g,v){return(this._renderer._doStroke||this._renderer._doFill)&&(m<0&&(m=Math.abs(m)),g===void 0?g=m:g<0&&(g=Math.abs(g)),l=f.default.modeAdjust(l,i,m,g,this._renderer._ellipseMode),this._renderer.ellipse([l.x,l.y,l.w,l.h,v]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[l.x,l.y,l.w,l.h])),this},s.default.prototype.line=function(){for(var l,i=arguments.length,m=new Array(i),g=0;g<i;g++)m[g]=arguments[g];return s.default._validateParameters("line",m),this._renderer._doStroke&&(l=this._renderer).line.apply(l,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",m),this},s.default.prototype.point=function(){for(var l,i=arguments.length,m=new Array(i),g=0;g<i;g++)m[g]=arguments[g];return s.default._validateParameters("point",m),this._renderer._doStroke&&(m.length===1&&m[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,m[0].x,m[0].y,m[0].z):((l=this._renderer).point.apply(l,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",m))),this},s.default.prototype.quad=function(){for(var l,i=arguments.length,m=new Array(i),g=0;g<i;g++)m[g]=arguments[g];return s.default._validateParameters("quad",m),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&m.length<12?this._renderer.quad.call(this._renderer,m[0],m[1],0,m[2],m[3],0,m[4],m[5],0,m[6],m[7],0,m[8],m[9]):((l=this._renderer).quad.apply(l,m),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",m))),this},s.default.prototype.rect=function(){return s.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},s.default.prototype.square=function(l,i,m,g,v,b,w){return s.default._validateParameters("square",arguments),this._renderRect.call(this,l,i,m,m,g,v,b,w)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var l=f.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),i=[l.x,l.y,l.w,l.h],m=4;m<arguments.length;m++)i[m]=arguments[m];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[l.x,l.y,l.w,l.h])}return this},s.default.prototype.triangle=function(){for(var l=arguments.length,i=new Array(l),m=0;m<l;m++)i[m]=arguments[m];return s.default._validateParameters("triangle",i),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",i),this},t=s.default,p.default=t},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}s.default.prototype.ellipseMode=function(u){return s.default._validateParameters("ellipseMode",arguments),u!==d.CORNER&&u!==d.CORNERS&&u!==d.RADIUS&&u!==d.CENTER||(this._renderer._ellipseMode=u),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(u){return s.default._validateParameters("rectMode",arguments),u!==d.CORNER&&u!==d.CORNERS&&u!==d.RADIUS&&u!==d.CENTER||(this._renderer._rectMode=u),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(u){return s.default._validateParameters("strokeCap",arguments),u!==d.ROUND&&u!==d.SQUARE&&u!==d.PROJECT||this._renderer.strokeCap(u),this},s.default.prototype.strokeJoin=function(u){return s.default._validateParameters("strokeJoin",arguments),u!==d.ROUND&&u!==d.BEVEL&&u!==d.MITER||this._renderer.strokeJoin(u),this},s.default.prototype.strokeWeight=function(u){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(u),this};var y=s.default;p.default=y},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(a=t("../main"))&&a.__esModule?a:{default:a};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),c.default.prototype.bezier=function(){for(var s,d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];return c.default._validateParameters("bezier",f),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,f),this},c.default.prototype.bezierDetail=function(s){return c.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},c.default.prototype.bezierPoint=function(s,d,f,y,u){c.default._validateParameters("bezierPoint",arguments);var l=1-u;return Math.pow(l,3)*s+3*Math.pow(l,2)*u*d+3*l*Math.pow(u,2)*f+Math.pow(u,3)*y},c.default.prototype.bezierTangent=function(s,d,f,y,u){c.default._validateParameters("bezierTangent",arguments);var l=1-u;return 3*y*Math.pow(u,2)-3*f*Math.pow(u,2)+6*f*l*u-6*d*l*u+3*d*Math.pow(l,2)-3*s*Math.pow(l,2)},c.default.prototype.curve=function(){for(var s,d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];return c.default._validateParameters("curve",f),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,f),this},c.default.prototype.curveDetail=function(s){return c.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},c.default.prototype.curveTightness=function(s){return c.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},c.default.prototype.curvePoint=function(s,d,f,y,u){c.default._validateParameters("curvePoint",arguments);var l=this._renderer._curveTightness,i=u*u*u,m=u*u;return s*((l-1)/2*i+(1-l)*m+(l-1)/2*u)+d*((l+3)/2*i+(-5-l)/2*m+1)+f*((-3-l)/2*i+(l+2)*m+(1-l)/2*u)+y*((1-l)/2*i+(l-1)/2*m)},c.default.prototype.curveTangent=function(s,d,f,y,m){c.default._validateParameters("curveTangent",arguments);var l=this._renderer._curveTightness,i=m*m*3,m=2*m;return s*((l-1)/2*i+(1-l)*m+(l-1)/2)+d*((l+3)/2*i+(-5-l)/2*m)+f*((-3-l)/2*i+(l+2)*m+(1-l)/2)+y*((1-l)/2*i+(l-1)/2*m)};var a=c.default;p.default=a},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(t,h,p){function c(S){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(S)}function a(S){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(x){return c(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":c(x)})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(w=t("../main"))&&w.__esModule?w:{default:w},d=function(S){if(S&&S.__esModule)return S;if(S===null||a(S)!=="object"&&typeof S!="function")return{default:S};var x=f();if(x&&x.has(S))return x.get(S);var M,C={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in S){var P;Object.prototype.hasOwnProperty.call(S,M)&&((P=E?Object.getOwnPropertyDescriptor(S,M):null)&&(P.get||P.set)?Object.defineProperty(C,M,P):C[M]=S[M])}return C.default=S,x&&x.set(S,C),C}(t("../constants"));function f(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,f=function(){return S},S)}var y=null,u=[],l=[],i=!1,m=!1,g=!1,v=!1,b=!0,w=(s.default.prototype.beginContour=function(){return l=[],v=!0,this},s.default.prototype.beginShape=function(S){var x;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(x=this._renderer).beginShape.apply(x,arguments):(y=S===d.POINTS||S===d.LINES||S===d.TRIANGLES||S===d.TRIANGLE_FAN||S===d.TRIANGLE_STRIP||S===d.QUADS||S===d.QUAD_STRIP?S:null,u=[],l=[]),this},s.default.prototype.bezierVertex=function(){for(var S,x=arguments.length,M=new Array(x),C=0;C<x;C++)M[C]=arguments[C];if(s.default._validateParameters("bezierVertex",M),this._renderer.isP3D)(S=this._renderer).bezierVertex.apply(S,M);else if(u.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{i=!0;for(var E=[],P=0;P<M.length;P++)E[P]=M[P];E.isVert=!1,(v?l:u).push(E)}return this},s.default.prototype.curveVertex=function(){for(var S,x=arguments.length,M=new Array(x),C=0;C<x;C++)M[C]=arguments[C];return s.default._validateParameters("curveVertex",M),this._renderer.isP3D?(S=this._renderer).curveVertex.apply(S,M):(m=!0,this.vertex(M[0],M[1])),this},s.default.prototype.endContour=function(){var S=l[0].slice();S.isVert=l[0].isVert,S.moveTo=!1,l.push(S),b&&(u.push(u[0]),b=!1);for(var x=0;x<l.length;x++)u.push(l[x]);return this},s.default.prototype.endShape=function(S){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(S,m,i,g,v,y);else{if(u.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var x=S===d.CLOSE;x&&!v&&u.push(u[0]),this._renderer.endShape(S,u,m,i,g,v,y),b=!(v=g=i=m=!1),x&&u.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var S,x=arguments.length,M=new Array(x),C=0;C<x;C++)M[C]=arguments[C];if(s.default._validateParameters("quadraticVertex",M),this._renderer.isP3D)(S=this._renderer).quadraticVertex.apply(S,M);else{if(this._contourInited)return(S={}).x=M[0],S.y=M[1],S.x3=M[2],S.y3=M[3],S.type=d.QUADRATIC,this._contourVertices.push(S),this;if(0<u.length){g=!0;for(var E=[],P=0;P<M.length;P++)E[P]=M[P];E.isVert=!1,(v?l:u).push(E)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(S,x,M,C,E){var P;return this._renderer.isP3D?(P=this._renderer).vertex.apply(P,arguments):((P=[]).isVert=!0,P[0]=S,P[1]=x,P[2]=0,P[3]=0,P[4]=0,P[5]=this._renderer._getFill(),P[6]=this._renderer._getStroke(),M&&(P.moveTo=M),(v?(l.length===0&&(P.moveTo=!0),l):u).push(P)),this},s.default.prototype.normal=function(S,x,M){var C;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(C=this._renderer).normal.apply(C,arguments),this},s.default);p.default=w},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(t,h,p){function c(y){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(y)}function a(y){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(u){return c(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":c(u)})(y)}var s,d,f;t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(y,u){window.setTimeout(y,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(s=Object.keys,t=Object.defineProperty,d=typeof Symbol=="function"&&a(Symbol())==="symbol",f=Object.prototype.propertyIsEnumerable,t(Object,"assign",{value:function(y,u){if(y==null)throw new TypeError("target must be an object");for(var l,i,m,g=Object(y),v=1;v<arguments.length;++v)for(l=Object(arguments[v]),m=s(l),d&&Object.getOwnPropertySymbols&&m.push.apply(m,Object.getOwnPropertySymbols(l).filter(function(b){return function(w){return f.call(b,w)}}(l))),i=0;i<m.length;++i)g[m[i]]=l[m[i]];return g},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(t,h,p){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.object.assign"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var c=this._styles.pop();c?(this._renderer.pop(c.renderer),Object.assign(this,c.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(c){if(!this._inUserDraw&&this._setupDone){var a=parseInt(c),s=((isNaN(a)||a<1)&&(a=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var d=function(y){y.call(s)},f=0;f<a;f++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),s._registeredMethods.pre.forEach(d),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}s._registeredMethods.post.forEach(d)}}}},t=t.default,p.default=t},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("./main"))&&t.__esModule?t:{default:t};function a(s){return function(d){if(Array.isArray(d)){for(var f=0,y=new Array(d.length);f<d.length;f++)y[f]=d[f];return y}}(s)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c.default.prototype.applyMatrix=function(){var s=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,a(arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},c.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},c.default.prototype.rotate=function(s,d){return c.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),d),this},c.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),c.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},c.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),c.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},c.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),c.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},c.default.prototype.scale=function(s,d,f){var y;return c.default._validateParameters("scale",arguments),s instanceof c.default.Vector?(s=(y=s).x,d=y.y,f=y.z):s instanceof Array&&(s=(y=s)[0],d=y[1],f=y[2]||1),isNaN(d)?d=f=s:isNaN(f)&&(f=1),this._renderer.scale.call(this._renderer,s,d,f),this},c.default.prototype.shearX=function(s){return c.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},c.default.prototype.shearY=function(s){return c.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},c.default.prototype.translate=function(s,d,f){return c.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,d,f):this._renderer.translate(s,d),this},t=c.default,p.default=t},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(t,h,p){function c(f){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(f)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(f){return function(y){if(Array.isArray(y)){for(var u=0,l=new Array(y.length);u<y.length;u++)l[u]=y[u];return l}}(f)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(f){return(d=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(y){return c(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":c(y)})(f)}a.default.prototype.storeItem=function(f,y){typeof f!="string"&&console.log("The argument that you passed to storeItem() - ".concat(f," is not a string.")),f.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(f," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var u=d(y);switch(u){case"number":case"boolean":y=y.toString();break;case"object":y instanceof a.default.Color?u="p5.Color":y instanceof a.default.Vector&&(u="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(f,y),f="".concat(f,"p5TypeID"),localStorage.setItem(f,u)},a.default.prototype.getItem=function(f){var y=localStorage.getItem(f),u=localStorage.getItem("".concat(f,"p5TypeID"));if(u===void 0)console.log("Unable to determine type of item stored under ".concat(f,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(u){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,s(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,s(y))}return y},a.default.prototype.clearStorage=function(){localStorage.clear()},a.default.prototype.removeItem=function(f){typeof f!="string"&&console.log("The argument that you passed to removeItem() - ".concat(f," is not a string.")),localStorage.removeItem(f),localStorage.removeItem("".concat(f,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.prototype.createStringDict=function(a,s){return c.default._validateParameters("createStringDict",arguments),new c.default.StringDict(a,s)},c.default.prototype.createNumberDict=function(a,s){return c.default._validateParameters("createNumberDict",arguments),new c.default.NumberDict(a,s)},c.default.TypedDict=function(a,s){return a instanceof Object?this.data=a:(this.data={},this.data[a]=s),this},c.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},c.default.TypedDict.prototype.hasKey=function(a){return this.data.hasOwnProperty(a)},c.default.TypedDict.prototype.get=function(a){if(this.data.hasOwnProperty(a))return this.data[a];console.log("".concat(a," does not exist in this Dictionary"))},c.default.TypedDict.prototype.set=function(a,s){this._validate(s)?this.data[a]=s:console.log("Those values dont work for this dictionary type.")},c.default.TypedDict.prototype._addObj=function(a){for(var s in a)this.set(s,a[s])},c.default.TypedDict.prototype.create=function(a,s){a instanceof Object&&s===void 0?this._addObj(a):a!==void 0?this.set(a,s):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},c.default.TypedDict.prototype.clear=function(){this.data={}},c.default.TypedDict.prototype.remove=function(a){if(!this.data.hasOwnProperty(a))throw new Error("".concat(a," does not exist in this Dictionary"));delete this.data[a]},c.default.TypedDict.prototype.print=function(){for(var a in this.data)console.log("key:".concat(a," value:").concat(this.data[a]))},c.default.TypedDict.prototype.saveTable=function(a){var s,d="";for(s in this.data)d+="".concat(s,",").concat(this.data[s],`
`);var f=new Blob([d],{type:"text/csv"});c.default.prototype.downloadFile(f,a||"mycsv","csv")},c.default.TypedDict.prototype.saveJSON=function(a,s){c.default.prototype.saveJSON(this.data,a,s)},c.default.TypedDict.prototype._validate=function(a){return!0},c.default.StringDict=function(){for(var a=arguments.length,s=new Array(a),d=0;d<a;d++)s[d]=arguments[d];c.default.TypedDict.apply(this,s)},c.default.StringDict.prototype=Object.create(c.default.TypedDict.prototype),c.default.StringDict.prototype._validate=function(a){return typeof a=="string"},c.default.NumberDict=function(){for(var a=arguments.length,s=new Array(a),d=0;d<a;d++)s[d]=arguments[d];c.default.TypedDict.apply(this,s)},c.default.NumberDict.prototype=Object.create(c.default.TypedDict.prototype),c.default.NumberDict.prototype._validate=function(a){return typeof a=="number"},c.default.NumberDict.prototype.add=function(a,s){this.data.hasOwnProperty(a)?this.data[a]+=s:console.log("The key - ".concat(a," does not exist in this dictionary."))},c.default.NumberDict.prototype.sub=function(a,s){this.add(a,-s)},c.default.NumberDict.prototype.mult=function(a,s){this.data.hasOwnProperty(a)?this.data[a]*=s:console.log("The key - ".concat(a," does not exist in this dictionary."))},c.default.NumberDict.prototype.div=function(a,s){this.data.hasOwnProperty(a)?this.data[a]/=s:console.log("The key - ".concat(a," does not exist in this dictionary."))},c.default.NumberDict.prototype._valueTest=function(a){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var s,d=this.data[Object.keys(this.data)[0]];for(s in this.data)this.data[s]*a<d*a&&(d=this.data[s]);return d},c.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},c.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},c.default.NumberDict.prototype._keyTest=function(a){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var s=Object.keys(this.data)[0],d=1;d<Object.keys(this.data).length;d++)Object.keys(this.data)[d]*a<s*a&&(s=Object.keys(this.data)[d]);return s},c.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},c.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},t=c.default.TypedDict,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=(t=t("../core/main"))&&t.__esModule?t:{default:t};function s(u){return(s=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}function d(u,l,i){return(l._userNode||document.body).appendChild(u),i=new(i?a.default.MediaElement:a.default.Element)(u,l),l._elements.push(i),i}function f(u,b,i,m){var g=document.createElement(b),v=(typeof(i=i||"")=="string"&&(i=[i]),!0),b=!1,w=void 0;try{for(var S,x=i[Symbol.iterator]();!(v=(S=x.next()).done);v=!0){var M=S.value,C=document.createElement("source");C.setAttribute("src",M),g.appendChild(C)}}catch(P){b=!0,w=P}finally{try{v||x.return==null||x.return()}finally{if(b)throw w}}typeof m=="function"&&g.addEventListener("canplaythrough",function P(){m(),g.removeEventListener("canplaythrough",P)});var E=d(g,u,!0);return E.loadedmetadata=!1,g.addEventListener("loadedmetadata",function(){E.width=g.videoWidth,E.height=g.videoHeight,E.elt.width===0&&(E.elt.width=g.videoWidth),E.elt.height===0&&(E.elt.height=g.videoHeight),E.presetPlaybackRate&&(E.elt.playbackRate=E.presetPlaybackRate,delete E.presetPlaybackRate),E.loadedmetadata=!0}),E}a.default.prototype.select=function(u,l){return a.default._validateParameters("select",arguments),l=this._getContainer(l).querySelector(u),l?this._wrapElement(l):null},a.default.prototype.selectAll=function(u,l){a.default._validateParameters("selectAll",arguments);var i=[],m=this._getContainer(l).querySelectorAll(u);if(m)for(var g=0;g<m.length;g++){var v=this._wrapElement(m[g]);i.push(v)}return i},a.default.prototype._getContainer=function(u){var l=document;return typeof u=="string"?l=document.querySelector(u)||document:u instanceof a.default.Element?l=u.elt:u instanceof HTMLElement&&(l=u),l},a.default.prototype._wrapElement=function(u){var l,i=Array.prototype.slice.call(u.children);return u.tagName==="INPUT"&&u.type==="checkbox"?((l=new a.default.Element(u,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},l):u.tagName==="VIDEO"||u.tagName==="AUDIO"?new a.default.MediaElement(u,this):u.tagName==="SELECT"?this.createSelect(new a.default.Element(u,this)):0<i.length&&i.every(function(m){return m.tagName==="INPUT"||m.tagName==="LABEL"})?this.createRadio(new a.default.Element(u,this)):new a.default.Element(u,this)},a.default.prototype.removeElements=function(u){a.default._validateParameters("removeElements",arguments),this._elements.filter(function(l){return!(l.elt instanceof HTMLCanvasElement)}).map(function(l){return l.remove()})},a.default.Element.prototype.changed=function(u){return a.default.Element._adjustListener("change",u,this),this},a.default.Element.prototype.input=function(u){return a.default.Element._adjustListener("input",u,this),this},a.default.prototype.createDiv=function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("div");return l.innerHTML=u,d(l,this)},a.default.prototype.createP=function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("p");return l.innerHTML=u,d(l,this)},a.default.prototype.createSpan=function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=document.createElement("span");return l.innerHTML=u,d(l,this)},a.default.prototype.createImg=function(){a.default._validateParameters("createImg",arguments);var u,l=document.createElement("img"),i=arguments;return 1<i.length&&typeof i[1]=="string"&&(l.alt=i[1]),2<i.length&&typeof i[2]=="string"&&(l.crossOrigin=i[2]),l.src=i[0],u=d(l,this),l.addEventListener("load",function(){u.width=l.offsetWidth||l.width,u.height=l.offsetHeight||l.height;var m=i[i.length-1];typeof m=="function"&&m(u)}),u},a.default.prototype.createA=function(u,l,i){a.default._validateParameters("createA",arguments);var m=document.createElement("a");return m.href=u,m.innerHTML=l,i&&(m.target=i),d(m,this)},a.default.prototype.createSlider=function(u,l,i,m){a.default._validateParameters("createSlider",arguments);var g=document.createElement("input");return g.type="range",g.min=u,g.max=l,m===0?g.step=1e-18:m&&(g.step=m),typeof i=="number"&&(g.value=i),d(g,this)},a.default.prototype.createButton=function(u,l){a.default._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=u,l&&(i.value=l),d(i,this)},a.default.prototype.createCheckbox=function(){a.default._validateParameters("createCheckbox",arguments);var u=document.createElement("div"),l=document.createElement("input"),i=(l.type="checkbox",document.createElement("label")),m=(i.appendChild(l),u.appendChild(i),d(u,this));return m.checked=function(){var g=m.elt.firstElementChild.getElementsByTagName("input")[0];if(g){if(arguments.length===0)return g.checked;g.checked=!!arguments[0]}return m},this.value=function(g){return m.value=g,this},arguments[0]&&(m.value(arguments[0]),(u=document.createElement("span")).innerHTML=arguments[0],i.appendChild(u)),arguments[1]&&(l.checked=!0),m},a.default.prototype.createSelect=function(){a.default._validateParameters("createSelect",arguments);var u,l,i=arguments[0];return i instanceof a.default.Element&&i.elt instanceof HTMLSelectElement?this.elt=(u=i).elt:i instanceof HTMLSelectElement?(u=d(i,this),this.elt=i):(l=document.createElement("select"),i&&typeof i=="boolean"&&l.setAttribute("multiple","true"),u=d(l,this),this.elt=l),u.option=function(m,g){var v;if(m!==void 0){for(var b,w=0;w<this.elt.length;w+=1)if(this.elt[w].textContent===m){v=w;break}v!==void 0?g===!1?this.elt.remove(v):this.elt[v].value=g:((b=document.createElement("option")).textContent=m,b.value=g===void 0?m:g,this.elt.appendChild(b),this._pInst._elements.push(b))}},u.selected=function(m){if(m!==void 0){for(var g=0;g<this.elt.length;g+=1)this.elt[g].value.toString()===m.toString()&&(this.elt.selectedIndex=g);return this}if(this.elt.getAttribute("multiple")){var v=[],b=!0,w=!1,S=void 0;try{for(var x,M=this.elt.selectedOptions[Symbol.iterator]();!(b=(x=M.next()).done);b=!0){var C=x.value;v.push(C.value)}}catch(E){w=!0,S=E}finally{try{b||M.return==null||M.return()}finally{if(w)throw S}}return v}return this.elt.value},u.disable=function(m){if(typeof m=="string")for(var g=0;g<this.elt.length;g++)this.elt[g].value.toString()===m&&(this.elt[g].disabled=!0,this.elt[g].selected=!1);else this.elt.disabled=!0;return this},u},a.default.prototype.createRadio=function(){function u(b){return b instanceof HTMLInputElement&&b.type==="radio"}function l(b){return b instanceof HTMLLabelElement}var i,m,g,v=arguments[0];return v instanceof a.default.Element&&(v.elt instanceof HTMLDivElement||v.elt instanceof HTMLSpanElement)?(i=v,this.elt=v.elt):v instanceof HTMLDivElement||v instanceof HTMLSpanElement?(i=d(v,this),m=this.elt=v,typeof arguments[1]=="string"&&(g=arguments[1])):(typeof v=="string"&&(g=v),m=document.createElement("div"),i=d(m,this),this.elt=m),i._name=g||"radioOption",i._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(b){return u(b)||l(b)&&u(b.firstElementChild)}).map(function(b){return u(b)?b:b.firstElementChild})},i.option=function(b,w){var S,x,M,C=!0,E=!1,P=void 0;try{for(var D,I=i._getOptionsArray()[Symbol.iterator]();!(C=(D=I.next()).done);C=!0){var U=D.value;if(U.value===b){S=U;break}}}catch(G){E=!0,P=G}finally{try{C||I.return==null||I.return()}finally{if(E)throw P}}return S===void 0&&((S=document.createElement("input")).setAttribute("type","radio"),S.setAttribute("value",b)),S.setAttribute("name",i._name),l(S.parentElement)?x=S.parentElement:(x=document.createElement("label")).insertAdjacentElement("afterbegin",S),x.lastElementChild instanceof HTMLSpanElement?M=x.lastElementChild:(M=document.createElement("span"),S.insertAdjacentElement("afterend",M)),M.innerHTML=w===void 0?b:w,this.elt.appendChild(x),S},i.remove=function(b){var w=!0,S=!1,x=void 0;try{for(var M,C=i._getOptionsArray()[Symbol.iterator]();!(w=(M=C.next()).done);w=!0){var E=M.value;if(E.value===b)return void(l(E.parentElement)?E.parentElement:E).remove()}}catch(P){S=!0,x=P}finally{try{w||C.return==null||C.return()}finally{if(S)throw x}}},i.value=function(){var b="",w=!0,S=!1,x=void 0;try{for(var M,C=i._getOptionsArray()[Symbol.iterator]();!(w=(M=C.next()).done);w=!0){var E=M.value;if(E.checked){b=E.value;break}}}catch(P){S=!0,x=P}finally{try{w||C.return==null||C.return()}finally{if(S)throw x}}return b},i.selected=function(b){var w=null;if(b===void 0){var S=!0,x=!1,M=void 0;try{for(var C,E=i._getOptionsArray()[Symbol.iterator]();!(S=(C=E.next()).done);S=!0){var P=C.value;if(P.checked){w=P;break}}}catch(W){x=!0,M=W}finally{try{S||E.return==null||E.return()}finally{if(x)throw M}}}else{i._getOptionsArray().forEach(function(Q){Q.checked=!1,Q.removeAttribute("checked")});var D=!0,x=!1,M=void 0;try{for(var I,U=i._getOptionsArray()[Symbol.iterator]();!(D=(I=U.next()).done);D=!0){var G=I.value;G.value===b&&(G.setAttribute("checked",!0),G.checked=!0,w=G)}}catch(Q){x=!0,M=Q}finally{try{D||U.return==null||U.return()}finally{if(x)throw M}}}return w},i.disable=function(){var b=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],w=!0,S=!1,x=void 0;try{for(var M,C=i._getOptionsArray()[Symbol.iterator]();!(w=(M=C.next()).done);w=!0)M.value.setAttribute("disabled",b)}catch(E){S=!0,x=E}finally{try{w||C.return==null||C.return()}finally{if(S)throw x}}},i},a.default.prototype.createColorPicker=function(u){a.default._validateParameters("createColorPicker",arguments);var l=document.createElement("input");return l.type="color",u?u instanceof a.default.Color?l.value=u.toString("#rrggbb"):(a.default.prototype._colorMode="rgb",a.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},l.value=a.default.prototype.color(u).toString("#rrggbb")):l.value="#000000",(l=d(l,this)).color=function(){return u&&(u.mode&&(a.default.prototype._colorMode=u.mode),u.maxes&&(a.default.prototype._colorMaxes=u.maxes)),a.default.prototype.color(this.elt.value)},l},a.default.prototype.createInput=function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",i=(a.default._validateParameters("createInput",arguments),document.createElement("input"));return i.setAttribute("value",u),i.setAttribute("type",l),d(i,this)},a.default.prototype.createFileInput=function(u){var l,i=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(a.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(l=document.createElement("input")).setAttribute("type","file"),i&&l.setAttribute("multiple",!0),l.addEventListener("change",function(m){var g=!0,v=!1,b=void 0;try{for(var w,S=m.target.files[Symbol.iterator]();!(g=(w=S.next()).done);g=!0){var x=w.value;a.default.File._load(x,u)}}catch(M){v=!0,b=M}finally{try{g||S.return==null||S.return()}finally{if(v)throw b}}},!1),d(l,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},a.default.prototype.createVideo=function(u,l){return a.default._validateParameters("createVideo",arguments),f(this,"video",u,l)},a.default.prototype.createAudio=function(u,l){return a.default._validateParameters("createAudio",arguments),f(this,"audio",u,l)},a.default.prototype.VIDEO="video",a.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(u){var l=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return l?new Promise(function(i,m){l.call(navigator,u,i,m)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),a.default.prototype.createCapture=function(){if(a.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var u,l=!0,i=!0,m=!0,g=!1,v=void 0;try{for(var b,w=arguments[Symbol.iterator]();!(m=(b=w.next()).done);m=!0){var S=b.value;S===a.default.prototype.VIDEO?i=!1:S===a.default.prototype.AUDIO?l=!1:s(S)==="object"?x=S:typeof S=="function"&&(u=S)}}catch(E){g=!0,v=E}finally{try{m||w.return==null||w.return()}finally{if(g)throw v}}var x=x||{video:l,audio:i},M=document.createElement("video"),C=(M.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(x).then(function(E){try{"srcObject"in M?M.srcObject=E:M.src=window.URL.createObjectURL(E)}catch{M.src=E}},console.log),d(M,this,!0));return C.loadedmetadata=!1,M.addEventListener("loadedmetadata",function(){M.play(),M.width?(C.width=M.width,C.height=M.height):(C.width=C.elt.width=M.videoWidth,C.height=C.elt.height=M.videoHeight),C.loadedmetadata=!0,u&&u(M.srcObject)}),C},a.default.prototype.createElement=function(u,l){return a.default._validateParameters("createElement",arguments),u=document.createElement(u),l!==void 0&&(u.innerHTML=l),d(u,this)},a.default.Element.prototype.addClass=function(u){return this.elt.className?this.hasClass(u)||(this.elt.className=this.elt.className+" "+u):this.elt.className=u,this},a.default.Element.prototype.removeClass=function(u){return this.elt.classList.remove(u),this},a.default.Element.prototype.hasClass=function(u){return this.elt.classList.contains(u)},a.default.Element.prototype.toggleClass=function(u){return this.elt.classList.contains(u)?this.elt.classList.remove(u):this.elt.classList.add(u),this},a.default.Element.prototype.child=function(u){return u===void 0?this.elt.childNodes:(typeof u=="string"?(u[0]==="#"&&(u=u.substring(1)),u=document.getElementById(u)):u instanceof a.default.Element&&(u=u.elt),u instanceof HTMLElement&&this.elt.appendChild(u),this)},a.default.Element.prototype.center=function(u){var l=this.elt.style.display,i=this.elt.style.display==="none",m=this.parent().style.display==="none",g={x:this.elt.offsetLeft,y:this.elt.offsetTop},v=(i&&this.show(),m&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),b=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return u==="both"||u===void 0?this.position(v/2+this.parent().offsetLeft,b/2+this.parent().offsetTop):u==="horizontal"?this.position(v/2+this.parent().offsetLeft,g.y):u==="vertical"&&this.position(g.x,b/2+this.parent().offsetTop),this.style("display",l),i&&this.hide(),m&&this.parent().hide(),this},a.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},a.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},a.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var u="";return this.elt.style.transform&&(u=(u=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=u,this},a.default.Element.prototype._rotate=function(){var u="";return this.elt.style.transform&&(u=(u=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=u,this},a.default.Element.prototype.style=function(u,l){if((l=l instanceof a.default.Color?"rgba("+l.levels[0]+","+l.levels[1]+","+l.levels[2]+","+l.levels[3]/255+")":l)===void 0){if(u.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(u);for(var i=u.split(";"),m=0;m<i.length;m++){var g=i[m].split(":");g[0]&&g[1]&&(this.elt.style[g[0].trim()]=g[1].trim())}}else this.elt.style[u]=l,u!=="width"&&u!=="height"&&u!=="left"&&u!=="top"||(l=window.getComputedStyle(this.elt).getPropertyValue(u).replace(/[^\d.]/g,""),this[u]=Math.round(parseFloat(l,10)));return this},a.default.Element.prototype.attribute=function(u,l){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return l===void 0?this.elt.getAttribute(u):(this.elt.setAttribute(u,l),this);if(l===void 0)return this.elt.firstChild.getAttribute(u);for(var i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(u,l)},a.default.Element.prototype.removeAttribute=function(u){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var l=0;l<this.elt.childNodes.length;l++)this.elt.childNodes[l].removeAttribute(u);return this.elt.removeAttribute(u),this},a.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},a.default.Element.prototype.show=function(){return this.elt.style.display="block",this},a.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},a.default.Element.prototype.size=function(u,l){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=u,m=l,g=a.default.prototype.AUTO;if(i!==g||m!==g){if(i===g?i=l*this.width/this.height:m===g&&(m=u*this.height/this.width),this.elt instanceof HTMLCanvasElement){var v,b={},w=this.elt.getContext("2d");for(v in w)b[v]=w[v];for(v in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",m*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=m+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),b)this.elt.getContext("2d")[v]=b[v]}else this.elt.style.width=i+"px",this.elt.style.height=m+"px",this.elt.width=i,this.elt.height=m;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},a.default.Element.prototype.remove=function(){this instanceof a.default.MediaElement&&(this.stop(),(l=this.elt.srcObject)!==null&&l.getTracks().forEach(function(i){i.stop()}));var u,l=this._pInst._elements.indexOf(this);for(u in l!==-1&&this._pInst._elements.splice(l,1),this._events)this.elt.removeEventListener(u,this._events[u]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},a.default.Element.prototype.drop=function(u,l){var i;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",i=function(m){m.preventDefault()}),this.elt.addEventListener("dragleave",i)),a.default.Element._attachListener("drop",function(m){m.preventDefault(),typeof l=="function"&&l.call(this,m);for(var g=m.dataTransfer.files,v=0;v<g.length;v++){var b=g[v];a.default.File._load(b,u)}},this)):console.log("The File APIs are not fully supported in this browser."),this},a.default.MediaElement=function(u,l){a.default.Element.call(this,u,l);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(i,"src",{get:function(){var m=i.elt.children[0].src,g=i.elt.src===window.location.href?"":i.elt.src;return m===window.location.href?g:m},set:function(m){for(var g=0;g<i.elt.children.length;g++)i.elt.removeChild(i.elt.children[g]);var v=document.createElement("source");v.src=m,u.appendChild(v),i.elt.src=m,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},a.default.MediaElement.prototype=Object.create(a.default.Element.prototype),a.default.MediaElement.prototype.play=function(){var u;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(u=this.elt.play())&&u.catch&&u.catch(function(l){l.name==="NotAllowedError"?console.error(l):console.error("Media play method encountered an unexpected error",l)}),this},a.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},a.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},a.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},a.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},a.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var u=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(u)},{passive:!0,once:!0})},a.default.MediaElement.prototype.autoplay=function(u){var l=this,i=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",u),u&&!i&&(u=function(){return l._setupAutoplayFailDetection()},this.elt.readyState===4?u():this.elt.addEventListener("canplay",u,{passive:!0,once:!0})),this},a.default.MediaElement.prototype.volume=function(u){if(u===void 0)return this.elt.volume;this.elt.volume=u},a.default.MediaElement.prototype.speed=function(u){if(u===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=u:this.presetPlaybackRate=u},a.default.MediaElement.prototype.time=function(u){return u===void 0?this.elt.currentTime:(this.elt.currentTime=u,this)},a.default.MediaElement.prototype.duration=function(){return this.elt.duration},a.default.MediaElement.prototype.pixels=[],a.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},a.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),a.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},a.default.MediaElement.prototype.updatePixels=function(u,l,i,m){return this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.updatePixels.call(this,u,l,i,m)),this.setModified(!0),this},a.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),a.default.Renderer2D.prototype.get.apply(this,arguments)},a.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),a.default.Renderer2D.prototype._getPixel.apply(this,arguments)},a.default.MediaElement.prototype.set=function(u,l,i){this.loadedmetadata&&(this._ensureCanvas(),a.default.Renderer2D.prototype.set.call(this,u,l,i),this.setModified(!0))},a.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),a.default.prototype.copy.apply(this,arguments)},a.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),a.default.Image.prototype.mask.apply(this,arguments)},a.default.MediaElement.prototype.isModified=function(){return this._modified},a.default.MediaElement.prototype.setModified=function(u){this._modified=u},a.default.MediaElement.prototype.onended=function(u){return this._onended=u,this},a.default.MediaElement.prototype.connect=function(u){var l,i;if(typeof a.default.prototype.getAudioContext=="function")l=a.default.prototype.getAudioContext(),i=a.default.soundOut.input;else try{i=(l=u.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=l.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),u?u.input?this.audioSourceNode.connect(u.input):this.audioSourceNode.connect(u):this.audioSourceNode.connect(i)},a.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},a.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},a.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function y(u,l,i,m){this.callback=u,this.time=l,this.id=i,this.val=m}a.default.MediaElement.prototype.addCue=function(u,g,i){var m=this._cueIDCounter++,g=new y(g,u,m,i);return this._cues.push(g),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),m},a.default.MediaElement.prototype.removeCue=function(u){for(var l=0;l<this._cues.length;l++)this._cues[l].id===u&&(console.log(u),this._cues.splice(l,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},a.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},a.default.MediaElement.prototype._onTimeUpdate=function(){for(var u=this.time(),l=0;l<this._cues.length;l++){var i=this._cues[l].time,m=this._cues[l].val;this._prevTime<i&&i<=u&&this._cues[l].callback(m)}this._prevTime=u},a.default.File=function(u,l){this.file=u,this._pInst=l,l=u.type.split("/"),this.type=l[0],this.subtype=l[1],this.name=u.name,this.size=u.size,this.data=void 0},a.default.File._createLoader=function(u,l){var i=new FileReader;return i.onload=function(m){var g,v=new a.default.File(u);v.file.type==="application/json"?v.data=JSON.parse(m.target.result):v.file.type==="text/xml"?(g=new DOMParser().parseFromString(m.target.result,"text/xml"),v.data=new a.default.XML(g.documentElement)):v.data=m.target.result,l(v)},i},a.default.File._load=function(u,l){var i;/^text\//.test(u.type)||u.type==="application/json"?a.default.File._createLoader(u,l).readAsText(u):/^(video|audio)\//.test(u.type)?((i=new a.default.File(u)).data=URL.createObjectURL(u),l(i)):a.default.File._createLoader(u,l).readAsDataURL(u)},t=a.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(t,h,p){function c(S){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(S)}function a(S){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(x){return c(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":c(x)})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(w=t("../core/main"))&&w.__esModule?w:{default:w},d=function(S){if(S&&S.__esModule)return S;if(S===null||a(S)!=="object"&&typeof S!="function")return{default:S};var x=f();if(x&&x.has(S))return x.get(S);var M,C={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(M in S){var P;Object.prototype.hasOwnProperty.call(S,M)&&((P=E?Object.getOwnPropertyDescriptor(S,M):null)&&(P.get||P.set)?Object.defineProperty(C,M,P):C[M]=S[M])}return C.default=S,x&&x.set(S,C),C}(t("../core/constants"));function f(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,f=function(){return S},S)}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var y=s.default.prototype.pRotationZ=0,u=0,l=0,i="clockwise",m="clockwise",g="clockwise",v=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),b=30,w=(s.default.prototype.setMoveThreshold=function(S){s.default._validateParameters("setMoveThreshold",arguments),v=S},s.default.prototype.setShakeThreshold=function(S){s.default._validateParameters("setShakeThreshold",arguments),b=S},s.default.prototype._ondeviceorientation=function(S){this._updatePRotations(),this._angleMode===d.radians&&(S.beta=S.beta*(_PI/180),S.gamma=S.gamma*(_PI/180),S.alpha=S.alpha*(_PI/180)),this._setProperty("rotationX",S.beta),this._setProperty("rotationY",S.gamma),this._setProperty("rotationZ",S.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(S){this._updatePAccelerations(),this._setProperty("accelerationX",2*S.acceleration.x),this._setProperty("accelerationY",2*S.acceleration.y),this._setProperty("accelerationZ",2*S.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var S,x,M,C,E,P=this._isGlobal?window:this;typeof P.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>v||Math.abs(this.accelerationY-this.pAccelerationY)>v||Math.abs(this.accelerationZ-this.pAccelerationZ)>v)&&P.deviceMoved(),typeof P.deviceTurned=="function"&&(x=this.rotationX+180,S=this.pRotationX+180,M=y+180,0<x-S&&x-S<270||x-S<-270?i="clockwise":(x-S<0||270<x-S)&&(i="counter-clockwise"),i!==this.pRotateDirectionX&&(M=x),90<Math.abs(x-M)&&Math.abs(x-M)<270&&(M=x,this._setProperty("turnAxis","X"),P.deviceTurned()),this.pRotateDirectionX=i,y=M-180,S=this.rotationY+180,x=this.pRotationY+180,M=u+180,0<S-x&&S-x<270||S-x<-270?m="clockwise":(S-x<0||270<S-this.pRotationY)&&(m="counter-clockwise"),m!==this.pRotateDirectionY&&(M=S),90<Math.abs(S-M)&&Math.abs(S-M)<270&&(M=S,this._setProperty("turnAxis","Y"),P.deviceTurned()),this.pRotateDirectionY=m,u=M-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?g="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(g="counter-clockwise"),g!==this.pRotateDirectionZ&&(l=this.rotationZ),90<Math.abs(this.rotationZ-l)&&Math.abs(this.rotationZ-l)<270&&(l=this.rotationZ,this._setProperty("turnAxis","Z"),P.deviceTurned()),this.pRotateDirectionZ=g,this._setProperty("turnAxis",void 0)),typeof P.deviceShaken=="function"&&(this.pAccelerationX!==null&&(C=Math.abs(this.accelerationX-this.pAccelerationX),E=Math.abs(this.accelerationY-this.pAccelerationY)),b<C+E&&P.deviceShaken())},s.default);p.default=w},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.prototype.isKeyPressed=!1,c.default.prototype.keyIsPressed=!1,c.default.prototype.key="",c.default.prototype.keyCode=0,c.default.prototype._onkeydown=function(a){var s;this._downKeys[a.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",a.which),this._downKeys[a.which]=!0,this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||a.charCode||s.keyPressed(a)===!1&&a.preventDefault())},c.default.prototype._onkeyup=function(a){this._downKeys[a.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),this._setProperty("keyCode",a.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(a)===!1&&a.preventDefault()},c.default.prototype._onkeypress=function(a){var s;a.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",a.which),this._setProperty("key",a.key||String.fromCharCode(a.which)||a.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(a)===!1&&a.preventDefault())},c.default.prototype._onblur=function(a){this._downKeys={}},c.default.prototype.keyIsDown=function(a){return c.default._validateParameters("keyIsDown",arguments),this._downKeys[a]||!1},c.default.prototype._areDownKeys=function(){for(var a in this._downKeys)if(this._downKeys.hasOwnProperty(a)&&this._downKeys[a]===!0)return!0;return!1},t=c.default,p.default=t},{"../core/main":267}],286:[function(t,h,p){function c(y){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(y)}function a(y){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(u){return c(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":c(u)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(s=t("../core/main"))&&s.__esModule?s:{default:s},d=function(y){if(y&&y.__esModule)return y;if(y===null||a(y)!=="object"&&typeof y!="function")return{default:y};var u=f();if(u&&u.has(y))return u.get(y);var l,i={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in y){var g;Object.prototype.hasOwnProperty.call(y,l)&&((g=m?Object.getOwnPropertyDescriptor(y,l):null)&&(g.get||g.set)?Object.defineProperty(i,l,g):i[l]=y[l])}return i.default=y,u&&u.set(y,i),i}(t("../core/constants"));function f(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,f=function(){return y},y)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(y){var u,l,i,m,g;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(u=this._curElement.elt,l=this.width,i=this.height,(m=y)&&!m.clientX&&(m.touches?m=m.touches[0]:m.changedTouches&&(m=m.changedTouches[0])),g=u.getBoundingClientRect(),l=u.scrollWidth/l||1,u=u.scrollHeight/i||1,i={x:(m.clientX-g.left)/l,y:(m.clientY-g.top)/u,winX:m.clientX,winY:m.clientY,id:m.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",i.x),this._setProperty("mouseY",i.y),this._setProperty("winMouseX",i.winX),this._setProperty("winMouseY",i.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",d.CENTER):y.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},s.default.prototype._onmousemove=function(y){var u=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof u.mouseDragged=="function"?u.mouseDragged(y)===!1&&y.preventDefault():typeof u.touchMoved=="function"&&u.touchMoved(y)===!1&&y.preventDefault():typeof u.mouseMoved=="function"&&u.mouseMoved(y)===!1&&y.preventDefault()},s.default.prototype._onmousedown=function(y){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),typeof u.mousePressed=="function"?u.mousePressed(y)===!1&&y.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof u.touchStarted=="function"&&u.touchStarted(y)===!1&&y.preventDefault()},s.default.prototype._onmouseup=function(y){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof u.mouseReleased=="function"?u.mouseReleased(y)===!1&&y.preventDefault():typeof u.touchEnded=="function"&&u.touchEnded(y)===!1&&y.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(y){var u=this._isGlobal?window:this;typeof u.mouseClicked=="function"&&u.mouseClicked(y)===!1&&y.preventDefault()},s.default.prototype._ondblclick=function(y){var u=this._isGlobal?window:this;typeof u.doubleClicked=="function"&&u.doubleClicked(y)===!1&&y.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(y){var u=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof u.mouseWheel=="function"&&(y.delta=y.deltaY,u.mouseWheel(y)===!1&&y.preventDefault())},s.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=s.default,p.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(t,h,p){t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.string.includes"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(c){if(this._curElement!==null){for(var a=[],s=0;s<c.touches.length;s++)a[s]=function(g,m,v,u){var l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=g.getBoundingClientRect(),m=g.scrollWidth/m||1,g=g.scrollHeight/v||1,v=u.touches[l]||u.changedTouches[l];return{x:(v.clientX-i.left)/m,y:(v.clientY-i.top)/g,winX:v.clientX,winY:v.clientY,id:v.identifier}}(this._curElement.elt,this.width,this.height,c,s);this._setProperty("touches",a)}},t.default.prototype._ontouchstart=function(c){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(c),this._updateNextMouseCoords(c),this._updateMouseCoords(),typeof a.touchStarted=="function"?a.touchStarted(c)===!1&&c.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof a.mousePressed=="function"&&a.mousePressed(c)===!1&&c.preventDefault()},t.default.prototype._ontouchmove=function(c){var a=this._isGlobal?window:this;this._updateTouchCoords(c),this._updateNextMouseCoords(c),typeof a.touchMoved=="function"?a.touchMoved(c)===!1&&c.preventDefault():typeof a.mouseDragged=="function"&&a.mouseDragged(c)===!1&&c.preventDefault()},t.default.prototype._ontouchend=function(c){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(c),this._updateNextMouseCoords(c);var a=this._isGlobal?window:this;typeof a.touchEnded=="function"?a.touchEnded(c)===!1&&c.preventDefault():typeof a.mouseReleased=="function"&&a.mouseReleased(c)===!1&&c.preventDefault()},t=t.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(t,h,p){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c,a,s,d,f={};function y(u,l){for(var i,m,g,v,b,w,S,x,M,C,E=f._toPixels(u),P=u.width,D=u.height,I=P*D,U=new Int32Array(I),G=0;G<I;G++)U[G]=f._getARGB(E,G);var W,te,Q,J=new Int32Array(I),oe=new Int32Array(I),ee=new Int32Array(I),le=new Int32Array(I),de=0,se=3.5*l|0;if(c!==(se=se<1?1:se<248?se:248)){a=1+(c=se)<<1,s=new Int32Array(a),d=new Array(a);for(var O,j,F=0;F<a;F++)d[F]=new Int32Array(256);for(var V=1,ae=se-1;V<se;V++){s[se+V]=s[ae]=j=ae*ae;for(var ue=d[se+V],Ee=d[ae--],Re=0;Re<256;Re++)ue[Re]=Ee[Re]=j*Re}O=s[se]=se*se,ue=d[se];for(var Ce=0;Ce<256;Ce++)ue[Ce]=O*Ce}for(te=0;te<D;te++){for(W=0;W<P;W++){if(v=g=m=b=i=0,(w=W-c)<0)C=-w,w=0;else{if(P<=w)break;C=0}for(Q=C;Q<a&&!(P<=w);Q++){var xe,Ze=U[w+de];b+=(xe=d[Q])[(-16777216&Ze)>>>24],m+=xe[(16711680&Ze)>>16],g+=xe[(65280&Ze)>>8],v+=xe[255&Ze],i+=s[Q],w++}J[S=de+W]=b/i,oe[S]=m/i,ee[S]=g/i,le[S]=v/i}de+=P}for(M=(x=-c)*P,te=de=0;te<D;te++){for(W=0;W<P;W++){if(x<(v=g=m=b=i=0))C=S=-x,w=W;else{if(D<=x)break;C=0,S=x,w=W+M}for(Q=C;Q<a&&!(D<=S);Q++)b+=(xe=d[Q])[J[w]],m+=xe[oe[w]],g+=xe[ee[w]],v+=xe[le[w]],i+=s[Q],S++,w+=P;U[W+de]=b/i<<24|m/i<<16|g/i<<8|v/i}de+=P,M+=P,x++}f._setPixels(E,U)}f._toPixels=function(u){var l,i;return u instanceof ImageData?u.data:u.getContext("2d")?u.getContext("2d").getImageData(0,0,u.width,u.height).data:u.getContext("webgl")?(i=(l=u.getContext("webgl")).drawingBufferWidth*l.drawingBufferHeight*4,i=new Uint8Array(i),l.readPixels(0,0,u.width,u.height,l.RGBA,l.UNSIGNED_BYTE,i),i):void 0},f._getARGB=function(u,l){return l*=4,u[3+l]<<24&4278190080|u[l]<<16&16711680|u[1+l]<<8&65280|255&u[2+l]},f._setPixels=function(u,l){for(var i,m=0,g=u.length;m<g;m++)u[0+(i=4*m)]=(16711680&l[m])>>>16,u[1+i]=(65280&l[m])>>>8,u[2+i]=255&l[m],u[3+i]=(4278190080&l[m])>>>24},f._toImageData=function(u){return u instanceof ImageData?u:u.getContext("2d").getImageData(0,0,u.width,u.height)},f._createImageData=function(u,l){return f._tmpCanvas=document.createElement("canvas"),f._tmpCtx=f._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(u,l)},f.apply=function(u,v,i){var m=u.getContext("2d"),g=m.getImageData(0,0,u.width,u.height),v=v(g,i);v instanceof ImageData?m.putImageData(v,0,0,0,0,u.width,u.height):m.putImageData(g,0,0,0,0,u.width,u.height)},f.threshold=function(u,l){for(var i=f._toPixels(u),m=(l===void 0&&(l=.5),Math.floor(255*l)),g=0;g<i.length;g+=4){var v=void 0,v=m<=.2126*i[g]+.7152*i[g+1]+.0722*i[g+2]?255:0;i[g]=i[g+1]=i[g+2]=v}},f.gray=function(u){for(var l=f._toPixels(u),i=0;i<l.length;i+=4){var m=l[i],g=l[i+1],v=l[i+2];l[i]=l[i+1]=l[i+2]=.2126*m+.7152*g+.0722*v}},f.opaque=function(u){for(var l=f._toPixels(u),i=0;i<l.length;i+=4)l[i+3]=255;return l},f.invert=function(u){for(var l=f._toPixels(u),i=0;i<l.length;i+=4)l[i]=255-l[i],l[i+1]=255-l[i+1],l[i+2]=255-l[i+2]},f.posterize=function(u,l){var i=f._toPixels(u);if(l<2||255<l)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var m=l-1,g=0;g<i.length;g+=4){var v=i[g],b=i[g+1],w=i[g+2];i[g]=255*(v*l>>8)/m,i[g+1]=255*(b*l>>8)/m,i[g+2]=255*(w*l>>8)/m}},f.dilate=function(u){for(var l,i,m,g,v,b,w,S,x,M=f._toPixels(u),C=0,E=M.length?M.length/4:0,P=new Int32Array(E);C<E;)for(i=(l=C)+u.width;C<i;)g=m=f._getARGB(M,C),(x=C-1)<l&&(x=C),i<=(S=C+1)&&(S=C),(v=C-u.width)<0&&(v=0),E<=(b=C+u.width)&&(b=C),v=f._getARGB(M,v),x=f._getARGB(M,x),b=f._getARGB(M,b),(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<(w=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(m=x,g=w),g<(w=77*((x=f._getARGB(M,S))>>16&255)+151*(x>>8&255)+28*(255&x))&&(m=x,g=w),g<(S=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(m=v,g=S),g<(x=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))&&(m=b,g=x),P[C++]=m;f._setPixels(M,P)},f.erode=function(u){for(var l,i,m,g,v,b,w,S,x,M=f._toPixels(u),C=0,E=M.length?M.length/4:0,P=new Int32Array(E);C<E;)for(i=(l=C)+u.width;C<i;)g=m=f._getARGB(M,C),(x=C-1)<l&&(x=C),i<=(S=C+1)&&(S=C),(v=C-u.width)<0&&(v=0),E<=(b=C+u.width)&&(b=C),v=f._getARGB(M,v),x=f._getARGB(M,x),b=f._getARGB(M,b),(w=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<(g=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(m=x,g=w),(w=77*((x=f._getARGB(M,S))>>16&255)+151*(x>>8&255)+28*(255&x))<g&&(m=x,g=w),(S=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<g&&(m=v,g=S),(x=77*(b>>16&255)+151*(b>>8&255)+28*(255&b))<g&&(m=b,g=x),P[C++]=m;f._setPixels(M,P)},f.blur=function(u,l){y(u,l)},p.default=f},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=s(t("../core/main")),a=s(t("omggif"));function s(f){return f&&f.__esModule?f:{default:f}}function d(f){return function(y){if(Array.isArray(y)){for(var u=0,l=new Array(y.length);u<y.length;u++)l[u]=y[u];return l}}(f)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(f)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}c.default.prototype.createImage=function(f,y){return c.default._validateParameters("createImage",arguments),new c.default.Image(f,y)},c.default.prototype.saveCanvas=function(){c.default._validateParameters("saveCanvas",arguments);var f,y,u,l,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(f=arguments[0],i.shift()):arguments[0]instanceof c.default.Element?(f=arguments[0].elt,i.shift()):f=this._curElement&&this._curElement.elt,1<=i.length&&(y=i[0]),u=(u=2<=i.length?i[1]:u)||c.default.prototype._checkFileExtension(y,u)[1]||"png"){default:l="image/png";break;case"jpeg":case"jpg":l="image/jpeg"}f.toBlob(function(m){c.default.prototype.downloadFile(m,y,u)},l)},c.default.prototype.encodeAndDownloadGif=function(f,y){for(var u=f.gifProperties,l=u.loopLimit,i=(l===1?l=null:l===null&&(l=0),new Uint8Array(f.width*f.height*u.numFrames)),m=[],g={},v=0;v<u.numFrames;v++){for(var b=new Set,w=u.frames[v].image.data,S=w.length,x=new Uint32Array(f.width*f.height),M=0,C=0;M<S;M+=4,C++){var E=w[M+0]<<16|w[M+1]<<8|w[M+2]<<0;b.add(E),x[C]=E}var P=d(b).sort().toString();g[P]===void 0?g[P]={freq:1,frames:[v]}:(g[P].freq+=1,g[P].frames.push(v)),m.push(x)}for(var U=[],D=Object.keys(g).sort(function(O,j){return g[j].freq-g[O].freq}),I=D[0].split(",").map(function(O){return parseInt(O)}),U=U.concat(g[I].frames),G=new Set(I),W=1;W<D.length;W++){var te=D[W].split(",").map(function(O){return parseInt(O)}).filter(function(O){return!G.has(O)});if(I.length+te.length<=256){for(var Q=0;Q<te.length;Q++)I.push(te[Q]),G.add(te[Q]);U=U.concat(g[D[W]].frames)}}U=new Set(U);for(var J={},oe=0;oe<I.length;oe++)J[I[oe]]||(J[I[oe]]=oe);for(var ee=1;ee<I.length;)ee<<=1;I.length=ee;for(var l={loop:l,palette:new Uint32Array(I)},le=new a.default.GifWriter(i,f.width,f.height,l),de={},se=0;se<u.numFrames;se++)(function(j){for(var F=!U.has(j),V=F?[]:I,ae=new Uint8Array(f.width*f.height),ue={},Ee=new Set,Re=0;Re<m[j].length;Re++){var Ce=m[j][Re];F?(ue[Ce]===void 0&&(ue[Ce]=V.length,V.push(Ce)),ae[Re]=ue[Ce]):ae[Re]=J[Ce],0<j&&m[j-1][Re]!==Ce&&Ee.add(Ce)}var xe={},Ze=V.filter(function(qe){return!Ee.has(qe)});if(0<Ze.length){var Ze=Ze[0],we=(F?ue:J)[Ze];if(0<j){for(var Ae=0;Ae<m[j].length;Ae++)m[j-1][Ae]===m[j][Ae]&&(ae[Ae]=we);xe.transparent=we,de.frameOpts.disposal=1}}if(xe.delay=u.frames[j].delay/10,F){for(var Ue=1;Ue<V.length;)Ue<<=1;V.length=Ue,xe.palette=new Uint32Array(V)}0<j&&le.addFrame(0,0,f.width,f.height,de.pixelPaletteIndex,de.frameOpts),de={pixelPaletteIndex:ae,frameOpts:xe}})(se);de.frameOpts.disposal=1,le.addFrame(0,0,f.width,f.height,de.pixelPaletteIndex,de.frameOpts),l=new Blob([i.slice(0,le.end())],{type:"image/gif"}),c.default.prototype.downloadFile(l,y,"gif")},c.default.prototype.saveFrames=function(f,y,u,m,i){c.default._validateParameters("saveFrames",arguments),u=c.default.prototype.constrain(u=u||3,0,15),u*=1e3;var m=c.default.prototype.constrain(m||15,0,22),g=0,v=c.default.prototype._makeFrame,b=this._curElement.elt,w=[],S=setInterval(function(){w.push(v(f+g,y,b)),g++},1e3/m);setTimeout(function(){if(clearInterval(S),i)i(w);else{var x=!0,M=!1,C=void 0;try{for(var E,P=w[Symbol.iterator]();!(x=(E=P.next()).done);x=!0){var D=E.value;c.default.prototype.downloadFile(D.imageData,D.filename,D.ext)}}catch(I){M=!0,C=I}finally{try{x||P.return==null||P.return()}finally{if(M)throw C}}}w=[]},.01+u)},c.default.prototype._makeFrame=function(f,y,i){var l,i=this?this._curElement.elt:i;if(y)switch(y.toLowerCase()){case"png":l="image/png";break;case"jpeg":case"jpg":l="image/jpeg";break;default:l="image/png"}else y="png",l="image/png";var i=(i=i.toDataURL(l)).replace(l,"image/octet-stream"),m={};return m.imageData=i,m.filename=f,m.ext=y,m},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(t,h,p){function c(b){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function a(b){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(w){return c(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":c(w)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t("regenerator-runtime/runtime");var s=i(t("../core/main")),d=i(t("../core/helpers")),f=function(b){if(b&&b.__esModule)return b;if(b===null||a(b)!=="object"&&typeof b!="function")return{default:b};var w=l();if(w&&w.has(b))return w.get(b);var S,x={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var C;Object.prototype.hasOwnProperty.call(b,S)&&((C=M?Object.getOwnPropertyDescriptor(b,S):null)&&(C.get||C.set)?Object.defineProperty(x,S,C):x[S]=b[S])}return x.default=b,w&&w.set(b,x),x}(t("../core/constants")),y=i(t("omggif")),u=t("gifenc");function l(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,l=function(){return b},b)}function i(b){return b&&b.__esModule?b:{default:b}}function m(b,w,S,x,M,C,E){try{var P=b[C](E),D=P.value}catch(I){return void S(I)}P.done?w(D):Promise.resolve(D).then(x,M)}function g(b,w,S,x,M,C,E,P,D,I,U){var G,W,te,Q,J,oe,ee,le,de;return b===f.COVER&&(G=w,te=S,ee=C,le=E,oe=P,de=D,W=I,Q=U,J=Math.max(ee/W,le/Q),ee/=J,le/=J,J=oe,oe=de,G===f.CENTER?J+=(W-ee)/2:G===f.RIGHT&&(J+=W-ee),te===f.CENTER?oe+=(Q-le)/2:te===f.BOTTOM&&(oe+=Q-le),P=(de={x:J,y:oe,w:ee,h:le}).x,D=de.y,I=de.w,U=de.h),b===f.CONTAIN&&(G=w,W=S,te=x,Q=M,J=C,oe=E,ee=I,le=U,de=Math.max(ee/J,le/oe),ee/=de,le/=de,de=te,te=Q,G===f.CENTER?de+=(J-ee)/2:G===f.RIGHT&&(de+=J-ee),W===f.CENTER?te+=(oe-le)/2:W===f.BOTTOM&&(te+=oe-le),x=(b={x:de,y:te,w:ee,h:le}).x,M=b.y,C=b.w,E=b.h),{sx:P,sy:D,sw:I,sh:U,dx:x,dy:M,dw:C,dh:E}}function v(b,w){return 0<b&&b<w?b:w}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(b,w,S){s.default._validateParameters("loadImage",arguments);var x=new s.default.Image(1,1,this),M=this,C=new Request(b,{method:"GET",mode:"cors"});return fetch(b,C).then(function(E){var P,D=E.headers.get("content-type");D===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),D&&D.includes("image/gif")?E.arrayBuffer().then(function(I){if(I){var I=new Uint8Array(I),U=x,G=w,W=S,te=function(F){M._decrementPreload()}.bind(M),Q=new y.default.GifReader(I),J=(U.width=U.canvas.width=Q.width,U.height=U.canvas.height=Q.height,[]),oe=Q.numFrames(),ee=new Uint8ClampedArray(U.width*U.height*4);if(1<oe){for(var le=0;le<oe;le++){var de=Q.frameInfo(le),se=U.drawingContext.getImageData(0,0,U.width,U.height),O=(ee=se.data.slice(),function(F,V){try{V.decodeAndBlitFrameRGBA(F,ee)}catch(ae){s.default._friendlyFileLoadError(8,U.src),typeof W=="function"?W(ae):console.error(ae)}}(le,Q),new ImageData(ee,U.width,U.height)),O=(U.drawingContext.putImageData(O,0,0),de.delay);O===0&&(O=10),J.push({image:U.drawingContext.getImageData(0,0,U.width,U.height),delay:10*O}),de.disposal===2?U.drawingContext.clearRect(de.x,de.y,de.width,de.height):de.disposal===3&&U.drawingContext.putImageData(se,0,0,de.x,de.y,de.width,de.height)}I=Q.loopCount(),I===null?I=1:I===0&&(I=null),U.drawingContext.putImageData(J[0].image,0,0),U.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:J,numFrames:oe,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof G=="function"&&G(U),te()}},function(I){typeof S=="function"?(S(I),M._decrementPreload()):console.error(I)}):((P=new Image).onload=function(){x.width=x.canvas.width=P.width,x.height=x.canvas.height=P.height,x.drawingContext.drawImage(P,0,0),x.modified=!0,typeof w=="function"&&w(x),M._decrementPreload()},P.onerror=function(I){s.default._friendlyFileLoadError(0,P.src),typeof S=="function"?(S(I),M._decrementPreload()):console.error(I)},b.indexOf("data:image/")!==0&&(P.crossOrigin="Anonymous"),P.src=b),x.modified=!0}).catch(function(E){s.default._friendlyFileLoadError(0,b),typeof S=="function"?(S(E),M._decrementPreload()):console.error(E)}),x},s.default.prototype.saveGif=function(){b=regeneratorRuntime.mark(function S(x,M){var C,E,P,D,I,U,G,W,te,Q,J,oe,ee,le,de,se,O,j,F,V,ae,ue,Ee,Re=arguments;return regeneratorRuntime.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(C=2<Re.length&&Re[2]!==void 0?Re[2]:{delay:0,units:"seconds"},typeof x!="string")throw TypeError("fileName parameter must be a string");Ce.next=3;break;case 3:if(typeof M!="number")throw TypeError("Duration parameter must be a number");Ce.next=5;break;case 5:if(E=C&&C.delay||0,P=C&&C.units||"seconds",typeof E!="number")throw TypeError("Delay parameter must be a number");Ce.next=9;break;case 9:if(P!=="seconds"&&P!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');Ce.next=11;break;case 11:this._recording=!0,G=this._targetFrameRate,D=(D=1/(G=G!==1/0&&G!==void 0&&G!==0?G:60)*1e3)<20?20:D,U=(I=P==="seconds"?M*G:M)+(G=P==="seconds"?E*G:E),G=G,this.frameCount=G,W=this._pixelDensity,this.pixelDensity(1),te=[],Q="p5.gif.progressBar",document.getElementById(Q)!==null&&document.getElementById(Q).remove(),(Q=this.createP("")).id("progressBar"),Q.style("font-size","16px"),Q.style("font-family","Montserrat"),Q.style("background-color","#ffffffa0"),Q.style("padding","8px"),Q.style("border-radius","10px"),Q.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(oe=document.getElementById("defaultCanvas0").getContext("webgl"),J=new Uint8Array(oe.drawingBufferWidth*oe.drawingBufferHeight*4)),this.noLoop();case 36:if(G<U)return this.redraw(),ae=void 0,ae=this.drawingContext instanceof WebGLRenderingContext?(J=new Uint8Array(oe.drawingBufferWidth*oe.drawingBufferHeight*4),oe.readPixels(0,0,oe.drawingBufferWidth,oe.drawingBufferHeight,oe.RGBA,oe.UNSIGNED_BYTE,J),function(xe){for(var Ze=parseInt(height/2),we=4*width,Ae=new Uint8Array(4*width),Ue=0;Ue<Ze;++Ue){var qe=Ue*we,Ge=(height-Ue-1)*we;Ae.set(xe.subarray(qe,qe+we)),xe.copyWithin(qe,Ge,Ge+we),xe.set(Ae,Ge)}return xe}(J)):this.drawingContext.getImageData(0,0,this.width,this.height).data,te.push(ae),G++,Q.html("Saved frame <b>"+te.length.toString()+"</b> out of "+I.toString()),Ce.next=45,new Promise(function(xe){return setTimeout(xe,0)});Ce.next=47;break;case 45:Ce.next=36;break;case 47:Q.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(W),ee=(0,u.GIFEncoder)(),le=function(xe){for(var Ze=new Uint8Array(xe.length*xe[0].length),we=0;we<xe.length;we++)Ze.set(xe[we],we*xe[0].length);var Ae=(0,u.quantize)(Ze,256,{format:"rgba4444",oneBitAlpha:!0});return Ae.length===256?Ae[Ae.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Ae.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Ae}(te),de={},se=function(xe){for(var Ze=xe.length/4,we=new Uint8Array(Ze),Ae=0;Ae<Ze;Ae++){var Ue=xe[4*Ae]<<24|xe[4*Ae+1]<<16|xe[4*Ae+2]<<8|xe[4*Ae+3];de[Ue]===void 0&&(de[Ue]=(0,u.nearestColorIndex)(le,xe.slice(4*Ae,4*(Ae+1)))),we[Ae]=de[Ue]}return we},O=le.length-1,j=[],F=0;case 57:if(!(F<te.length)){Ce.next=68;break}if(V=se(te[F]),ae=V.slice(),F===0)ee.writeFrame(V,this.width,this.height,{palette:le,delay:D,dispose:1});else{for(ue=0;ue<V.length;ue++)V[ue]===j[ue]&&(V[ue]=O);ee.writeFrame(V,this.width,this.height,{delay:D,transparent:!0,transparentIndex:O,dispose:1})}return j=ae,Q.html("Rendered frame <b>"+F.toString()+"</b> out of "+I.toString()),Ce.next=65,new Promise(function(xe){return setTimeout(xe,0)});case 65:F++,Ce.next=57;break;case 68:ee.finish(),Ee=ee.bytesView(),Ee=new Blob([Ee],{type:"image/gif"}),te=[],this._recording=!1,this.loop(),Q.html("Done. Downloading your gif!\u{1F338}"),s.default.prototype.downloadFile(Ee,x,"gif");case 77:case"end":return Ce.stop()}},S,this)});var b,w=function(){var S=this,x=arguments;return new Promise(function(M,C){var E=b.apply(S,x);function P(I){m(E,M,C,P,D,"next",I)}function D(I){m(E,M,C,P,D,"throw",I)}P(void 0)})};return function(S,x){return w.apply(this,arguments)}}(),s.default.prototype.image=function(b,w,S,x,Q,J,oe,ee,de,I,U,G){s.default._validateParameters("image",arguments);var le=b.width,W=b.height,te=(G=G||f.CENTER,U=U||f.CENTER,b.elt&&b.elt.videoWidth&&!b.canvas&&(le=b.elt.videoWidth,W=b.elt.videoHeight),x||le),Q=Q||W,J=J||0,oe=oe||0,ee=v(ee||le,le),le=v(de||W,W),de=1;b.elt&&!b.canvas&&b.elt.style.width&&(de=b.elt.videoWidth&&!x?b.elt.videoWidth:b.elt.width,de/=parseInt(b.elt.style.width,10)),J*=de,oe*=de,le*=de,ee*=de,W=g(I,U,G,(W=d.default.modeAdjust(w,S,te,Q,this._renderer._imageMode)).x,W.y,W.w,W.h,J,oe,ee,le),this._renderer.image(b,W.sx,W.sy,W.sw,W.sh,W.dx,W.dy,W.dw,W.dh)},s.default.prototype.tint=function(){for(var b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];s.default._validateParameters("tint",w);var x=this.color.apply(this,w);this._renderer._tint=x.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(b){s.default._validateParameters("imageMode",arguments),b!==f.CORNER&&b!==f.CORNERS&&b!==f.CENTER||(this._renderer._imageMode=b)},t=s.default,p.default=t},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=s(t("../core/main")),a=s(t("./filters"));function s(d){return d&&d.__esModule?d:{default:d}}c.default.Image=function(d,f){this.width=d,this.height=f,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},c.default.Image.prototype._animateGif=function(u){var f,y=this.gifProperties,u=u._lastFrameTime;y.lastChangeTime===0&&(y.lastChangeTime=u),y.playing&&(y.timeDisplayed=u-y.lastChangeTime,f=y.frames[y.displayIndex].delay,y.timeDisplayed>=f&&(f=Math.floor(y.timeDisplayed/f),y.timeDisplayed=0,y.lastChangeTime=u,y.displayIndex+=f,y.loopCount=Math.floor(y.displayIndex/y.numFrames),y.loopLimit!==null&&y.loopCount>=y.loopLimit?y.playing=!1:(u=y.displayIndex%y.numFrames,this.drawingContext.putImageData(y.frames[u].image,0,0),y.displayIndex=u,this.setModified(!0))))},c.default.Image.prototype._setProperty=function(d,f){this[d]=f,this.setModified(!0)},c.default.Image.prototype.loadPixels=function(){c.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},c.default.Image.prototype.updatePixels=function(d,f,y,u){c.default.Renderer2D.prototype.updatePixels.call(this,d,f,y,u),this.setModified(!0)},c.default.Image.prototype.get=function(d,f,y,u){return c.default._validateParameters("p5.Image.get",arguments),c.default.Renderer2D.prototype.get.apply(this,arguments)},c.default.Image.prototype._getPixel=c.default.Renderer2D.prototype._getPixel,c.default.Image.prototype.set=function(d,f,y){c.default.Renderer2D.prototype.set.call(this,d,f,y),this.setModified(!0)},c.default.Image.prototype.resize=function(d,f){d===0&&f===0?(d=this.canvas.width,f=this.canvas.height):d===0?d=this.canvas.width*f/this.canvas.height:f===0&&(f=this.canvas.height*d/this.canvas.width),d=Math.floor(d),f=Math.floor(f);var y=document.createElement("canvas");if(y.width=d,y.height=f,this.gifProperties)for(var u=this.gifProperties,l=0;l<u.numFrames;l++){for(var i=this.drawingContext.createImageData(d,f),m=(S=S=w=b=v=void 0,u.frames[l].image),g=i,v=0,b=0;b<g.height;b++)for(var w=0;w<g.width;w++){var S=Math.floor(w*m.width/g.width),S=4*(Math.floor(b*m.height/g.height)*m.width+S);g.data[v++]=m.data[S++],g.data[v++]=m.data[S++],g.data[v++]=m.data[S++],g.data[v++]=m.data[+S]}u.frames[l].image=i}y.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,y.width,y.height),this.canvas.width=this.width=d,this.canvas.height=this.height=f,this.drawingContext.drawImage(y,0,0,d,f,0,0,d,f),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},c.default.Image.prototype.copy=function(){for(var d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];c.default.prototype.copy.apply(this,f)},c.default.Image.prototype.mask=function(d){var f=this.drawingContext.globalCompositeOperation,y=1,u=[d=d===void 0?this:d,0,0,(y=d instanceof c.default.Renderer?d._pInst._pixelDensity:y)*d.width,y*d.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var l=0;l<this.gifProperties.frames.length;l++)this.drawingContext.putImageData(this.gifProperties.frames[l].image,0,0),c.default.Image.prototype.copy.apply(this,u),this.gifProperties.frames[l].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else c.default.Image.prototype.copy.apply(this,u);this.drawingContext.globalCompositeOperation=f,this.setModified(!0)},c.default.Image.prototype.filter=function(d,f){a.default.apply(this.canvas,a.default[d],f),this.setModified(!0)},c.default.Image.prototype.blend=function(){for(var d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];c.default._validateParameters("p5.Image.blend",arguments),c.default.prototype.blend.apply(this,f),this.setModified(!0)},c.default.Image.prototype.setModified=function(d){this._modified=d},c.default.Image.prototype.isModified=function(){return this._modified},c.default.Image.prototype.save=function(d,f){this.gifProperties?c.default.prototype.encodeAndDownloadGif(this,d):c.default.prototype.saveCanvas(this.canvas,d,f)},c.default.Image.prototype.reset=function(){var d;this.gifProperties&&((d=this.gifProperties).playing=!0,d.timeSinceStart=0,d.timeDisplayed=0,d.lastChangeTime=0,d.loopCount=0,d.displayIndex=0,this.drawingContext.putImageData(d.frames[0].image,0,0))},c.default.Image.prototype.getCurrentFrame=function(){var d;if(this.gifProperties)return(d=this.gifProperties).displayIndex%d.numFrames},c.default.Image.prototype.setFrame=function(d){var f;this.gifProperties&&(d<(f=this.gifProperties).numFrames&&0<=d?(f.timeDisplayed=0,f.lastChangeTime=0,f.displayIndex=d,this.drawingContext.putImageData(f.frames[d].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},c.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},c.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},c.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},c.default.Image.prototype.delay=function(d,f){if(this.gifProperties){var y=this.gifProperties;if(f<y.numFrames&&0<=f)y.frames[f].delay=d;else{var u=!0,f=!1,l=void 0;try{for(var i,m=y.frames[Symbol.iterator]();!(u=(i=m.next()).done);u=!0)i.value.delay=d}catch(v){f=!0,l=v}finally{try{u||m.return==null||m.return()}finally{if(f)throw l}}}}},t=c.default.Image,p.default=t},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(t,h,p){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=s(t("../core/main")),a=s(t("./filters"));function s(d){return d&&d.__esModule?d:{default:d}}t("../color/p5.Color"),c.default.prototype.pixels=[],c.default.prototype.blend=function(){for(var d,f=arguments.length,y=new Array(f),u=0;u<f;u++)y[u]=arguments[u];c.default._validateParameters("blend",y),this._renderer?(d=this._renderer).blend.apply(d,y):c.default.Renderer2D.prototype.blend.apply(this,y)},c.default.prototype.copy=function(){for(var d,f,y,u,l,i,m,g,v,b=arguments.length,w=new Array(b),S=0;S<b;S++)w[S]=arguments[S];if(c.default._validateParameters("copy",w),w.length===9)d=w[0],f=w[1],y=w[2],u=w[3],l=w[4],i=w[5],m=w[6],g=w[7],v=w[8];else{if(w.length!==8)throw new Error("Signature not supported");d=this,f=w[0],y=w[1],u=w[2],l=w[3],i=w[4],m=w[5],g=w[6],v=w[7]}c.default.prototype._copyHelper(this,d,f,y,u,l,i,m,g,v)},c.default.prototype._copyHelper=function(d,f,y,u,l,i,m,g,v,b){f.loadPixels();var w=f.canvas.width/f.width,S=0,x=0;f._renderer&&f._renderer.isP3D&&(S=f.width/2,x=f.height/2),d._renderer&&d._renderer.isP3D?c.default.RendererGL.prototype.image.call(d._renderer,f,y+S,u+x,l,i,m,g,v,b):d.drawingContext.drawImage(f.canvas,w*(y+S),w*(u+x),w*l,w*i,m,g,v,b)},c.default.prototype.filter=function(d,f){c.default._validateParameters("filter",arguments),this.canvas!==void 0?a.default.apply(this.canvas,a.default[d],f):a.default.apply(this.elt,a.default[d],f)},c.default.prototype.get=function(d,f,y,u){var l;return c.default._validateParameters("get",arguments),(l=this._renderer).get.apply(l,arguments)},c.default.prototype.loadPixels=function(){for(var d=arguments.length,f=new Array(d),y=0;y<d;y++)f[y]=arguments[y];c.default._validateParameters("loadPixels",f),this._renderer.loadPixels()},c.default.prototype.set=function(d,f,y){this._renderer.set(d,f,y)},c.default.prototype.updatePixels=function(d,f,y,u){c.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,f,y,u)},t=c.default,p.default=t},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(t,h,p){function c(i){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=f(t("../core/main")),s=(t("whatwg-fetch"),t("es6-promise/auto"),f(t("fetch-jsonp"))),d=f(t("file-saver"));function f(i){return i&&i.__esModule?i:{default:i}}function y(i){return(y=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(m){return c(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":c(m)})(i)}function u(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function l(i,m){m&&m!==!0&&m!=="true"||(m="");var g="";return(i=i||"untitled")&&i.includes(".")&&(g=i.split(".").pop()),m&&g!==m&&(g=m,i="".concat(i,".").concat(g)),[i,g]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),a.default.prototype.loadJSON=function(){for(var i=arguments.length,m=new Array(i),g=0;g<i;g++)m[g]=arguments[g];a.default._validateParameters("loadJSON",m);for(var v,b,w,S=m[0],x={},M="json",C=1;C<m.length;C++){var E=m[C];typeof E=="string"?E!=="jsonp"&&E!=="json"||(M=E):typeof E=="function"?v?b=E:v=E:y(E)==="object"&&(E.hasOwnProperty("jsonpCallback")||E.hasOwnProperty("jsonpCallbackFunction"))&&(M="jsonp",w=E)}var P=this;return this.httpDo(S,"GET",w,M,function(D){for(var I in D)x[I]=D[I];v!==void 0&&v(D),P._decrementPreload()},function(D){if(a.default._friendlyFileLoadError(5,S),!b)throw D;b(D)}),x},a.default.prototype.loadStrings=function(){for(var i=arguments.length,m=new Array(i),g=0;g<i;g++)m[g]=arguments[g];a.default._validateParameters("loadStrings",m);for(var v,b,w=[],S=1;S<m.length;S++){var x=m[S];typeof x=="function"&&(v===void 0?v=x:b===void 0&&(b=x))}var M=this;return a.default.prototype.httpDo.call(this,m[0],"GET","text",function(C){for(var E=C.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),P=0,D=E.length;P<D;P+=32768)Array.prototype.push.apply(w,E.slice(P,Math.min(P+32768,D)));v!==void 0&&v(w),M._decrementPreload()},function(C){if(a.default._friendlyFileLoadError(3,C),!b)throw C;b(C)}),w},a.default.prototype.loadTable=function(i){var m,g,v,b=!1,w=i.substring(i.lastIndexOf(".")+1,i.length);w==="csv"?v=",":w==="ssv"?v=";":w==="tsv"&&(v="	");for(var S=1;S<arguments.length;S++)typeof arguments[S]=="function"?m===void 0?m=arguments[S]:g===void 0&&(g=arguments[S]):typeof arguments[S]=="string"&&(arguments[S]==="header"&&(b=!0),arguments[S]==="csv"?v=",":arguments[S]==="ssv"?v=";":arguments[S]==="tsv"&&(v="	"));var x=new a.default.Table,M=this;return this.httpDo(i,"GET","table",function(C){for(var E,P,D={},I=0,U=[],G=0,W=null,te=function(){D.currentState=I,D.token=""},Q=function(){W.push(D.token),te()},J=function(){D.currentState=4,U.push(W),W=null};;){if((E=C[G++])==null){if(D.escaped)throw new Error("Unclosed quote in file.");if(W){Q(),J();break}}if(W===null&&(D.escaped=!1,W=[],te()),D.currentState===I){if(E==='"'){D.escaped=!0,D.currentState=1;continue}D.currentState=1}if(D.currentState===1&&D.escaped)if(E==='"')C[G]==='"'?(D.token+='"',G++):(D.escaped=!1,D.currentState=2);else{if(E==="\r")continue;D.token+=E}else E==="\r"?(C[G]===`
`&&G++,Q(),J()):E===`
`?(Q(),J()):E===v?Q():D.currentState===1&&(D.token+=E)}if(b)x.columns=U.shift();else for(var oe=0;oe<U[0].length;oe++)x.columns[oe]="null";for(var ee=0;ee<U.length;ee++)(U[ee].length!==1||U[ee][0]!=="undefined"&&U[ee][0]!=="")&&((P=new a.default.TableRow).arr=U[ee],P.obj=function(le,de){var se={};if((de=de||[])===void 0)for(var O=0;O<le.length;O++)de[O.toString()]=O;for(var j=0;j<de.length;j++){var F=de[j],V=le[j];se[F]=V}return se}(U[ee],x.columns),x.addRow(P));typeof m=="function"&&m(x),M._decrementPreload()},function(C){a.default._friendlyFileLoadError(2,i),g?g(C):console.error(C)}),x},a.default.prototype.loadXML=function(){for(var i=arguments.length,m=new Array(i),g=0;g<i;g++)m[g]=arguments[g];for(var v,b,w=new a.default.XML,S=1;S<m.length;S++){var x=m[S];typeof x=="function"&&(v===void 0?v=x:b===void 0&&(b=x))}var M=this;return this.httpDo(m[0],"GET","xml",function(C){for(var E in C)w[E]=C[E];v!==void 0&&v(w),M._decrementPreload()},function(C){if(a.default._friendlyFileLoadError(1,C),!b)throw C;b(C)}),w},a.default.prototype.loadBytes=function(i,m,g){var v={},b=this;return this.httpDo(i,"GET","arrayBuffer",function(w){v.bytes=new Uint8Array(w),typeof m=="function"&&m(v),b._decrementPreload()},function(w){if(a.default._friendlyFileLoadError(6,i),!g)throw w;g(w)}),v},a.default.prototype.httpGet=function(){a.default._validateParameters("httpGet",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"GET"),a.default.prototype.httpDo.apply(this,i)},a.default.prototype.httpPost=function(){a.default._validateParameters("httpPost",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"POST"),a.default.prototype.httpDo.apply(this,i)},a.default.prototype.httpDo=function(){for(var i,m,g,v={},b=0,w="text/plain",S=arguments.length-1;0<S&&typeof(S<0||arguments.length<=S?void 0:arguments[S])=="function";S--)b++;var x=arguments.length-b,M=arguments.length<=0?void 0:arguments[0];if(x==2&&typeof M=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")U=new Request(M,arguments.length<=1?void 0:arguments[1]),m=arguments.length<=2?void 0:arguments[2],g=arguments.length<=3?void 0:arguments[3];else{for(var C,E="GET",P=1;P<arguments.length;P++){var D=P<0||arguments.length<=P?void 0:arguments[P];if(typeof D=="string")D==="GET"||D==="POST"||D==="PUT"||D==="DELETE"?E=D:D==="json"||D==="jsonp"||D==="binary"||D==="arrayBuffer"||D==="xml"||D==="text"||D==="table"?i=D:C=D;else if(typeof D=="number")C=D.toString();else if(y(D)==="object")if(D.hasOwnProperty("jsonpCallback")||D.hasOwnProperty("jsonpCallbackFunction"))for(var I in D)v[I]=D[I];else w=D instanceof a.default.XML?(C=D.serialize(),"application/xml"):(C=JSON.stringify(D),"application/json");else typeof D=="function"&&(m?g=D:m=D)}var x=E==="GET"?new Headers:new Headers({"Content-Type":w}),U=new Request(M,{method:E,mode:"cors",body:C,headers:x})}return(x=(x=(i=i||(M.includes("json")?"json":M.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(M,v):fetch(U)).then(function(G){if(!G.ok)throw(W=new Error(G.body)).status=G.status,W.ok=!1,W;var W=0;switch((W=i!=="jsonp"?G.headers.get("content-length"):W)&&64e6<W&&a.default._friendlyFileLoadError(7,M),i){case"json":case"jsonp":return G.json();case"binary":return G.blob();case"arrayBuffer":return G.arrayBuffer();case"xml":return G.text().then(function(te){return te=new DOMParser().parseFromString(te,"text/xml"),new a.default.XML(te.documentElement)});default:return G.text()}})).then(m||function(){}),x.catch(g||console.error),x},window.URL=window.URL||window.webkitURL,a.default.prototype._pWriters=[],a.default.prototype.createWriter=function(i,m){var g,v;for(v in a.default.prototype._pWriters)if(a.default.prototype._pWriters[v].name===i)return g=new a.default.PrintWriter(i+this.millis(),m),a.default.prototype._pWriters.push(g),g;return g=new a.default.PrintWriter(i,m),a.default.prototype._pWriters.push(g),g},a.default.PrintWriter=function(i,m){var g=this;this.name=i,this.content="",this.write=function(v){this.content+=v},this.print=function(v){this.content+="".concat(v,`
`)},this.clear=function(){this.content=""},this.close=function(){var v,b=[];for(v in b.push(this.content),a.default.prototype.writeFile(b,i,m),a.default.prototype._pWriters)a.default.prototype._pWriters[v].name===this.name&&a.default.prototype._pWriters.splice(v,1);g.clear(),g={}}},a.default.prototype.save=function(i,m,g){var v=arguments,b=(this._curElement||this).elt;if(v.length===0)a.default.prototype.saveCanvas(b);else if(v[0]instanceof a.default.Renderer||v[0]instanceof a.default.Graphics)a.default.prototype.saveCanvas(v[0].elt,v[1],v[2]);else if(v.length===1&&typeof v[0]=="string")a.default.prototype.saveCanvas(b,v[0]);else switch(l(v[1],v[2])[1]){case"json":return void a.default.prototype.saveJSON(v[0],v[1],v[2]);case"txt":return void a.default.prototype.saveStrings(v[0],v[1],v[2]);default:v[0]instanceof Array?a.default.prototype.saveStrings(v[0],v[1],v[2]):v[0]instanceof a.default.Table?a.default.prototype.saveTable(v[0],v[1],v[2]):v[0]instanceof a.default.Image?a.default.prototype.saveCanvas(v[0].canvas,v[1]):v[0]instanceof a.default.SoundFile&&a.default.prototype.saveSound(v[0],v[1],v[2],v[3])}},a.default.prototype.saveJSON=function(i,m,g){a.default._validateParameters("saveJSON",arguments),g=g?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(g.split(`
`),m,"json")},a.default.prototype.saveJSONObject=a.default.prototype.saveJSON,a.default.prototype.saveJSONArray=a.default.prototype.saveJSON,a.default.prototype.saveStrings=function(i,m,g,v){a.default._validateParameters("saveStrings",arguments);for(var b=this.createWriter(m,g||"txt"),w=0;w<i.length;w++)v?b.write(i[w]+`\r
`):b.write(i[w]+`
`);b.close(),b.clear()},a.default.prototype.saveTable=function(i,m,g){a.default._validateParameters("saveTable",arguments),v=g===void 0?m.substring(m.lastIndexOf(".")+1,m.length):g;var v,b=this.createWriter(m,v),w=i.columns,S=v==="tsv"?"	":",";if(v!=="html"){if(w[0]!=="0"){for(var x=0;x<w.length;x++)x<w.length-1?b.write(w[x]+S):b.write(w[x]);b.write(`
`)}for(var M=0;M<i.rows.length;M++){for(var C=void 0,C=0;C<i.rows[M].arr.length;C++)C<i.rows[M].arr.length-1?v==="csv"&&String(i.rows[M].arr[C]).includes(",")?b.write('"'+i.rows[M].arr[C]+'"'+S):b.write(i.rows[M].arr[C]+S):v==="csv"&&String(i.rows[M].arr[C]).includes(",")?b.write('"'+i.rows[M].arr[C]+'"'):b.write(i.rows[M].arr[C]);b.write(`
`)}}else{if(b.print("<html>"),b.print("<head>"),b.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),b.print("</head>"),b.print("<body>"),b.print("  <table>"),w[0]!=="0"){b.print("    <tr>");for(var E=0;E<w.length;E++){var P=u(w[E]);b.print("      <td>".concat(P)),b.print("      </td>")}b.print("    </tr>")}for(var D=0;D<i.rows.length;D++){b.print("    <tr>");for(var I=0;I<i.columns.length;I++){var U=u(i.rows[D].getString(I));b.print("      <td>".concat(U)),b.print("      </td>")}b.print("    </tr>")}b.print("  </table>"),b.print("</body>"),b.print("</html>")}b.close(),b.clear()},a.default.prototype.writeFile=function(b,m,g){var v="application/octet-stream",b=(a.default.prototype._isSafari()&&(v="text/plain"),new Blob(b,{type:v}));a.default.prototype.downloadFile(b,m,g)},a.default.prototype.downloadFile=function(i,b,w){var v,b=l(b,w),w=b[0];i instanceof Blob?d.default.saveAs(i,w):((v=document.createElement("a")).href=i,v.download=w,v.onclick=function(S){document.body.removeChild(S.target),S.stopPropagation()},v.style.display="none",document.body.appendChild(v),a.default.prototype._isSafari()&&(i=(i=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(b[1],'"'),alert(i)),v.click())},a.default.prototype._checkFileExtension=l,a.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},t=a.default,p.default=t},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.Table=function(a){this.columns=[],this.rows=[]},c.default.Table.prototype.addRow=function(a){if(a=a||new c.default.TableRow,a.arr===void 0||a.obj===void 0)throw new Error("invalid TableRow: ".concat(a));return(a.table=this).rows.push(a),a},c.default.Table.prototype.removeRow=function(a){this.rows[a].table=null,a=this.rows.splice(a+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(a)},c.default.Table.prototype.getRow=function(a){return this.rows[a]},c.default.Table.prototype.getRows=function(){return this.rows},c.default.Table.prototype.findRow=function(a,s){if(typeof s=="string"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[s]===a)return this.rows[d]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].arr[s]===a)return this.rows[f];return null},c.default.Table.prototype.findRows=function(a,s){var d=[];if(typeof s=="string")for(var f=0;f<this.rows.length;f++)this.rows[f].obj[s]===a&&d.push(this.rows[f]);else for(var y=0;y<this.rows.length;y++)this.rows[y].arr[s]===a&&d.push(this.rows[y]);return d},c.default.Table.prototype.matchRow=function(a,s){if(typeof s=="number"){for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[s].match(a))return this.rows[d]}else for(var f=0;f<this.rows.length;f++)if(this.rows[f].obj[s].match(a))return this.rows[f];return null},c.default.Table.prototype.matchRows=function(a,s){var d=[];if(typeof s=="number")for(var f=0;f<this.rows.length;f++)this.rows[f].arr[s].match(a)&&d.push(this.rows[f]);else for(var y=0;y<this.rows.length;y++)this.rows[y].obj[s].match(a)&&d.push(this.rows[y]);return d},c.default.Table.prototype.getColumn=function(a){var s=[];if(typeof a=="string")for(var d=0;d<this.rows.length;d++)s.push(this.rows[d].obj[a]);else for(var f=0;f<this.rows.length;f++)s.push(this.rows[f].arr[a]);return s},c.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},c.default.Table.prototype.addColumn=function(a){this.columns.push(a||null)},c.default.Table.prototype.getColumnCount=function(){return this.columns.length},c.default.Table.prototype.getRowCount=function(){return this.rows.length},c.default.Table.prototype.removeTokens=function(a,s){for(var d=[],f=0;f<a.length;f++)d.push(a.charAt(f).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var y=new RegExp(d.join("|"),"g");if(s===void 0)for(var u=0;u<this.columns.length;u++)for(var l=0;l<this.rows.length;l++){var i=(i=this.rows[l].arr[u]).replace(y,"");this.rows[l].arr[u]=i,this.rows[l].obj[this.columns[u]]=i}else if(typeof s=="string")for(var m=0;m<this.rows.length;m++){var g=(g=this.rows[m].obj[s]).replace(y,""),v=(this.rows[m].obj[s]=g,this.columns.indexOf(s));this.rows[m].arr[v]=g}else for(var b=0;b<this.rows.length;b++){var w=(w=this.rows[b].arr[s]).replace(y,"");this.rows[b].arr[s]=w,this.rows[b].obj[this.columns[s]]=w}},c.default.Table.prototype.trim=function(a){var s=new RegExp(" ","g");if(a===void 0)for(var d=0;d<this.columns.length;d++)for(var f=0;f<this.rows.length;f++){var y=(y=this.rows[f].arr[d]).replace(s,"");this.rows[f].arr[d]=y,this.rows[f].obj[this.columns[d]]=y}else if(typeof a=="string")for(var u=0;u<this.rows.length;u++){var l=(l=this.rows[u].obj[a]).replace(s,""),i=(this.rows[u].obj[a]=l,this.columns.indexOf(a));this.rows[u].arr[i]=l}else for(var m=0;m<this.rows.length;m++){var g=(g=this.rows[m].arr[a]).replace(s,"");this.rows[m].arr[a]=g,this.rows[m].obj[this.columns[a]]=g}},c.default.Table.prototype.removeColumn=function(f){typeof f=="string"?d=this.columns.indexOf(s=f):s=this.columns[d=f];var s,d,f=this.columns.splice(d+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(f);for(var y=0;y<this.rows.length;y++){var u=this.rows[y].arr,l=u.splice(d+1,u.length);u.pop(),this.rows[y].arr=u.concat(l),delete this.rows[y].obj[s]}},c.default.Table.prototype.set=function(a,s,d){this.rows[a].set(s,d)},c.default.Table.prototype.setNum=function(a,s,d){this.rows[a].setNum(s,d)},c.default.Table.prototype.setString=function(a,s,d){this.rows[a].setString(s,d)},c.default.Table.prototype.get=function(a,s){return this.rows[a].get(s)},c.default.Table.prototype.getNum=function(a,s){return this.rows[a].getNum(s)},c.default.Table.prototype.getString=function(a,s){return this.rows[a].getString(s)},c.default.Table.prototype.getObject=function(a){for(var s,d={},f=0;f<this.rows.length;f++)if(s=this.rows[f].obj,typeof a=="string"){if(!(0<=this.columns.indexOf(a)))throw new Error('This table has no column named "'.concat(a,'"'));d[s[a]]=s}else d[f]=this.rows[f].obj;return d},c.default.Table.prototype.getArray=function(){for(var a=[],s=0;s<this.rows.length;s++)a.push(this.rows[s].arr);return a},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(t,h,p){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.TableRow=function(c,a){var s=[],d={};c&&(s=c.split(a=a||","));for(var f=0;f<s.length;f++){var y=f,u=s[f];d[y]=u}this.arr=s,this.obj=d,this.table=null},t.default.TableRow.prototype.set=function(c,a){if(typeof c=="string"){var s=this.table.columns.indexOf(c);if(!(0<=s))throw new Error('This table has no column named "'.concat(c,'"'));this.obj[c]=a,this.arr[s]=a}else{if(!(c<this.table.columns.length))throw new Error("Column #".concat(c," is out of the range of this table"));this.arr[c]=a,s=this.table.columns[c],this.obj[s]=a}},t.default.TableRow.prototype.setNum=function(c,a){a=parseFloat(a),this.set(c,a)},t.default.TableRow.prototype.setString=function(c,a){a=a.toString(),this.set(c,a)},t.default.TableRow.prototype.get=function(c){return(typeof c=="string"?this.obj:this.arr)[c]},t.default.TableRow.prototype.getNum=function(c){var a=parseFloat(typeof c=="string"?this.obj[c]:this.arr[c]);if(a.toString()==="NaN")throw"Error: ".concat(this.obj[c]," is NaN (Not a Number)");return a},t.default.TableRow.prototype.getString=function(c){return(typeof c=="string"?this.obj:this.arr)[c].toString()},t=t.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(s){for(var d=[],f=0;f<s.length;f++)d.push(new c.default.XML(s[f]));return d}c.default.XML=function(s){s?this.DOM=s:(s=document.implementation.createDocument(null,"doc"),this.DOM=s.createElement("root"))},c.default.XML.prototype.getParent=function(){return new c.default.XML(this.DOM.parentElement)},c.default.XML.prototype.getName=function(){return this.DOM.tagName},c.default.XML.prototype.setName=function(s){var d=this.DOM.innerHTML,f=this.DOM.attributes,y=document.implementation.createDocument(null,"default").createElement(s);y.innerHTML=d;for(var u=0;u<f.length;u++)y.setAttribute(f[u].nodeName,f.nodeValue);this.DOM=y},c.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},c.default.XML.prototype.listChildren=function(){for(var s=[],d=0;d<this.DOM.childNodes.length;d++)s.push(this.DOM.childNodes[d].nodeName);return s},c.default.XML.prototype.getChildren=function(s){return a(s?this.DOM.getElementsByTagName(s):this.DOM.children)},c.default.XML.prototype.getChild=function(s){if(typeof s!="string")return new c.default.XML(this.DOM.children[s]);var d=!0,f=!1,y=void 0;try{for(var u,l=this.DOM.children[Symbol.iterator]();!(d=(u=l.next()).done);d=!0){var i=u.value;if(i.tagName===s)return new c.default.XML(i)}}catch(m){f=!0,y=m}finally{try{d||l.return==null||l.return()}finally{if(f)throw y}}},c.default.XML.prototype.addChild=function(s){s instanceof c.default.XML&&this.DOM.appendChild(s.DOM)},c.default.XML.prototype.removeChild=function(s){var d=-1;if(typeof s=="string"){for(var f=0;f<this.DOM.children.length;f++)if(this.DOM.children[f].tagName===s){d=f;break}}else d=s;d!==-1&&this.DOM.removeChild(this.DOM.children[d])},c.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},c.default.XML.prototype.listAttributes=function(){var s=[],d=!0,f=!1,y=void 0;try{for(var u,l=this.DOM.attributes[Symbol.iterator]();!(d=(u=l.next()).done);d=!0){var i=u.value;s.push(i.nodeName)}}catch(m){f=!0,y=m}finally{try{d||l.return==null||l.return()}finally{if(f)throw y}}return s},c.default.XML.prototype.hasAttribute=function(s){var d={},f=!0,y=!1,u=void 0;try{for(var l,i=this.DOM.attributes[Symbol.iterator]();!(f=(l=i.next()).done);f=!0){var m=l.value;d[m.nodeName]=m.nodeValue}}catch(g){y=!0,u=g}finally{try{f||i.return==null||i.return()}finally{if(y)throw u}}return!!d[s]},c.default.XML.prototype.getNum=function(s,d){var f={},y=!0,u=!1,l=void 0;try{for(var i,m=this.DOM.attributes[Symbol.iterator]();!(y=(i=m.next()).done);y=!0){var g=i.value;f[g.nodeName]=g.nodeValue}}catch(v){u=!0,l=v}finally{try{y||m.return==null||m.return()}finally{if(u)throw l}}return Number(f[s])||d||0},c.default.XML.prototype.getString=function(s,d){var f={},y=!0,u=!1,l=void 0;try{for(var i,m=this.DOM.attributes[Symbol.iterator]();!(y=(i=m.next()).done);y=!0){var g=i.value;f[g.nodeName]=g.nodeValue}}catch(v){u=!0,l=v}finally{try{y||m.return==null||m.return()}finally{if(u)throw l}}return f[s]?String(f[s]):d||null},c.default.XML.prototype.setAttribute=function(s,d){this.DOM.setAttribute(s,d)},c.default.XML.prototype.getContent=function(s){var d=this.DOM.textContent;return(d=d.replace(/\s\s+/g,","))||s||null},c.default.XML.prototype.setContent=function(s){this.DOM.children.length||(this.DOM.textContent=s)},c.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(t,h,p){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var s=arguments.length,d=[],f=0,y=0;y<s;y++){var u=arguments[y];if((u=+u)===1/0||u===-1/0)return 1/0;f<(u=Math.abs(u))&&(f=u),d[y]=u}f===0&&(f=1);for(var v=0,g=0,l=0;l<s;l++)var i=d[l]/f,i=i*i-g,m=v+i,g=m-v-i,v=m;return Math.sqrt(v)*f}c.default.prototype.abs=Math.abs,c.default.prototype.ceil=Math.ceil,c.default.prototype.constrain=function(s,d,f){return c.default._validateParameters("constrain",arguments),Math.max(Math.min(s,f),d)},c.default.prototype.dist=function(){for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return c.default._validateParameters("dist",d),d.length===4?a(d[2]-d[0],d[3]-d[1]):d.length===6?a(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},c.default.prototype.exp=Math.exp,c.default.prototype.floor=Math.floor,c.default.prototype.lerp=function(s,d,f){return c.default._validateParameters("lerp",arguments),f*(d-s)+s},c.default.prototype.log=Math.log,c.default.prototype.mag=function(s,d){return c.default._validateParameters("mag",arguments),a(s,d)},c.default.prototype.map=function(s,d,f,y,u,l){return c.default._validateParameters("map",arguments),s=(s-d)/(f-d)*(u-y)+y,l?y<u?this.constrain(s,y,u):this.constrain(s,u,y):s},c.default.prototype.max=function(){for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return d[0]instanceof Array?Math.max.apply(null,d[0]):Math.max.apply(null,d)},c.default.prototype.min=function(){for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return d[0]instanceof Array?Math.min.apply(null,d[0]):Math.min.apply(null,d)},c.default.prototype.norm=function(s,d,f){return c.default._validateParameters("norm",arguments),this.map(s,d,f,0,1)},c.default.prototype.pow=Math.pow,c.default.prototype.round=function(s,d){return d?(d=Math.pow(10,d),Math.round(s*d)/d):Math.round(s)},c.default.prototype.sq=function(s){return s*s},c.default.prototype.sqrt=Math.sqrt,c.default.prototype.fract=function(y){c.default._validateParameters("fract",arguments);var d,f=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,f=1),String(y).includes(".")&&!String(y).includes("e")?(d=String(y),d=Number("0"+d.slice(d.indexOf("."))),Math.abs(f-d)):y<1?Math.abs(f-y):0)},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function a(d,f,y){return(a=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(u,l,i){var m=[null];return m.push.apply(m,l),l=new(Function.bind.apply(u,m)),i&&s(l,i.prototype),l}).apply(null,arguments)}function s(d,f){return(s=Object.setPrototypeOf||function(y,u){return y.__proto__=u,y})(d,f)}c.default.prototype.createVector=function(d,f,y){return this instanceof c.default?a(c.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new c.default.Vector(d,f,y)},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(y,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function c(u){return .5*(1-Math.cos(u*Math.PI))}var a,s=4095,d=4,f=.5,y=(y.default.prototype.noise=function(u){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(a==null){a=new Array(4096);for(var m=0;m<4096;m++)a[m]=Math.random()}u<0&&(u=-u),l<0&&(l=-l),i<0&&(i=-i);for(var g,v,b=Math.floor(u),w=Math.floor(l),S=Math.floor(i),x=u-b,M=l-w,C=i-S,E=0,P=.5,D=0;D<d;D++){var I=b+(w<<4)+(S<<8),U=c(x),G=c(M),W=a[I&s];W+=U*(a[I+1&s]-W),g=a[I+16&s],W+=G*((g+=U*(a[I+16+1&s]-g))-W),g=a[(I+=256)&s],g+=U*(a[I+1&s]-g),v=a[I+16&s],g+=G*((v+=U*(a[I+16+1&s]-v))-g),E+=(W+=c(C)*(g-W))*P,P*=f,b<<=1,w<<=1,S<<=1,1<=(x*=2)&&(b++,x--),1<=(M*=2)&&(w++,M--),1<=(C*=2)&&(S++,C--)}return E},y.default.prototype.noiseDetail=function(u,l){0<u&&(d=u),0<l&&(f=l)},y.default.prototype.noiseSeed=function(u){m=4294967296;var l,i,m,g={setSeed:function(b){i=l=(b==null?Math.random()*m:b)>>>0},getSeed:function(){return l},rand:function(){return(i=(1664525*i+1013904223)%m)/m}};g.setSeed(u),a=new Array(4096);for(var v=0;v<4096;v++)a[v]=g.rand()},y.default);p.default=y},{"../core/main":267}],300:[function(t,h,p){function c(i){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(i)}function a(i){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(m){return c(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":c(m)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(l=t("../core/main"))&&l.__esModule?l:{default:l},d=function(i){if(i&&i.__esModule)return i;if(i===null||a(i)!=="object"&&typeof i!="function")return{default:i};var m=f();if(m&&m.has(i))return m.get(i);var g,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in i){var w;Object.prototype.hasOwnProperty.call(i,g)&&((w=b?Object.getOwnPropertyDescriptor(i,g):null)&&(w.get||w.set)?Object.defineProperty(v,g,w):v[g]=i[g])}return v.default=i,m&&m.set(i,v),v}(t("../core/constants"));function f(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,f=function(){return i},i)}s.default.Vector=function(){var i,m,g={}.toString.call(arguments[0])==="[object Function]"?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],i=arguments[2]||0,m=arguments[3]||0,arguments[4]||0):(i=arguments[0]||0,m=arguments[1]||0,arguments[2]||0);this.x=i,this.y=m,this.z=g},s.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},s.default.Vector.prototype.set=function(i,m,g){return i instanceof s.default.Vector?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):i instanceof Array?(this.x=i[0]||0,this.y=i[1]||0,this.z=i[2]||0):(this.x=i||0,this.y=m||0,this.z=g||0),this},s.default.Vector.prototype.copy=function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)},s.default.Vector.prototype.add=function(i,m,g){return i instanceof s.default.Vector?(this.x+=i.x||0,this.y+=i.y||0,this.z+=i.z||0):i instanceof Array?(this.x+=i[0]||0,this.y+=i[1]||0,this.z+=i[2]||0):(this.x+=i||0,this.y+=m||0,this.z+=g||0),this};function y(i,m){return i!==0&&(this.x=this.x%i),m!==0&&(this.y=this.y%m),this}function u(i,m,g){return i!==0&&(this.x=this.x%i),m!==0&&(this.y=this.y%m),g!==0&&(this.z=this.z%g),this}s.default.Vector.prototype.rem=function(i,m,g){var v;if(i instanceof s.default.Vector){if(Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z))return b=parseFloat(i.x),w=parseFloat(i.y),v=parseFloat(i.z),u.call(this,b,w,v)}else if(i instanceof Array){if(i.every(function(S){return Number.isFinite(S)}))return i.length===2?y.call(this,i[0],i[1]):i.length===3?u.call(this,i[0],i[1],i[2]):void 0}else if(arguments.length===1){if(Number.isFinite(i)&&i!==0)return this.x=this.x%i,this.y=this.y%i,this.z=this.z%i,this}else if(arguments.length===2){var b=Array.prototype.slice.call(arguments);if(b.every(function(S){return Number.isFinite(S)})&&b.length===2)return y.call(this,b[0],b[1])}else if(arguments.length===3){var w=Array.prototype.slice.call(arguments);if(w.every(function(S){return Number.isFinite(S)})&&w.length===3)return u.call(this,w[0],w[1],w[2])}},s.default.Vector.prototype.sub=function(i,m,g){return i instanceof s.default.Vector?(this.x-=i.x||0,this.y-=i.y||0,this.z-=i.z||0):i instanceof Array?(this.x-=i[0]||0,this.y-=i[1]||0,this.z-=i[2]||0):(this.x-=i||0,this.y-=m||0,this.z-=g||0),this},s.default.Vector.prototype.mult=function(i,m,g){var v;return i instanceof s.default.Vector?Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z)&&typeof i.x=="number"&&typeof i.y=="number"&&typeof i.z=="number"?(this.x*=i.x,this.y*=i.y,this.z*=i.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):i instanceof Array?i.every(function(b){return Number.isFinite(b)})&&i.every(function(b){return typeof b=="number"})?i.length===1?(this.x*=i[0],this.y*=i[0],this.z*=i[0]):i.length===2?(this.x*=i[0],this.y*=i[1]):i.length===3&&(this.x*=i[0],this.y*=i[1],this.z*=i[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(v=Array.prototype.slice.call(arguments)).every(function(b){return Number.isFinite(b)})&&v.every(function(b){return typeof b=="number"})?(arguments.length===1&&(this.x*=i,this.y*=i,this.z*=i),arguments.length===2&&(this.x*=i,this.y*=m),arguments.length===3&&(this.x*=i,this.y*=m,this.z*=g)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},s.default.Vector.prototype.div=function(i,m,g){if(i instanceof s.default.Vector)if(Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z)&&typeof i.x=="number"&&typeof i.y=="number"&&typeof i.z=="number"){var v=i.z===0&&this.z===0;if(i.x===0||i.y===0||!v&&i.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=i.x,this.y/=i.y,v||(this.z/=i.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(i instanceof Array)if(i.every(function(b){return Number.isFinite(b)})&&i.every(function(b){return typeof b=="number"})){if(i.some(function(b){return b===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;i.length===1?(this.x/=i[0],this.y/=i[0],this.z/=i[0]):i.length===2?(this.x/=i[0],this.y/=i[1]):i.length===3&&(this.x/=i[0],this.y/=i[1],this.z/=i[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(v=Array.prototype.slice.call(arguments),v.every(function(b){return Number.isFinite(b)})&&v.every(function(b){return typeof b=="number"})){if(v.some(function(b){return b===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=i,this.y/=i,this.z/=i),arguments.length===2&&(this.x/=i,this.y/=m),arguments.length===3&&(this.x/=i,this.y/=m,this.z/=g)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this},s.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.default.Vector.prototype.magSq=function(){var i=this.x,m=this.y,g=this.z;return i*i+m*m+g*g},s.default.Vector.prototype.dot=function(i,m,g){return i instanceof s.default.Vector?this.dot(i.x,i.y,i.z):this.x*(i||0)+this.y*(m||0)+this.z*(g||0)},s.default.Vector.prototype.cross=function(v){var m=this.y*v.z-this.z*v.y,g=this.z*v.x-this.x*v.z,v=this.x*v.y-this.y*v.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,m,g,v):new s.default.Vector(m,g,v)},s.default.Vector.prototype.dist=function(i){return i.copy().sub(this).mag()},s.default.Vector.prototype.normalize=function(){var i=this.mag();return i!==0&&this.mult(1/i),this},s.default.Vector.prototype.limit=function(i){var m=this.magSq();return i*i<m&&this.div(Math.sqrt(m)).mult(i),this},s.default.Vector.prototype.setMag=function(i){return this.normalize().mult(i)},s.default.Vector.prototype.heading=function(){var i=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(i):i},s.default.Vector.prototype.setHeading=function(i){this.isPInst&&(i=this._toRadians(i));var m=this.mag();return this.x=m*Math.cos(i),this.y=m*Math.sin(i),this},s.default.Vector.prototype.rotate=function(m){var m=this.heading()+m,g=(this.isPInst&&(m=this._toRadians(m)),this.mag());return this.x=Math.cos(m)*g,this.y=Math.sin(m)*g,this},s.default.Vector.prototype.angleBetween=function(i){var m=this.dot(i)/(this.mag()*i.mag()),m=Math.acos(Math.min(1,Math.max(-1,m)));return m*=Math.sign(this.cross(i).z||1),m=this.isPInst?this._fromRadians(m):m},s.default.Vector.prototype.lerp=function(i,m,g,v){return i instanceof s.default.Vector?this.lerp(i.x,i.y,i.z,m):(this.x+=(i-this.x)*v||0,this.y+=(m-this.y)*v||0,this.z+=(g-this.z)*v||0,this)},s.default.Vector.prototype.reflect=function(i){return i.normalize(),this.sub(i.mult(2*this.dot(i)))},s.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.default.Vector.prototype.equals=function(w,m,g){var v,b,w=w instanceof s.default.Vector?(v=w.x||0,b=w.y||0,w.z||0):w instanceof Array?(v=w[0]||0,b=w[1]||0,w[2]||0):(v=w||0,b=m||0,g||0);return this.x===v&&this.y===b&&this.z===w},s.default.Vector.fromAngle=function(i,m){return new s.default.Vector((m=m===void 0?1:m)*Math.cos(i),m*Math.sin(i),0)},s.default.Vector.fromAngles=function(S,b,g){g===void 0&&(g=1);var v=Math.cos(b),b=Math.sin(b),w=Math.cos(S),S=Math.sin(S);return new s.default.Vector(g*S*b,-g*w,g*S*v)},s.default.Vector.random2D=function(){return this.fromAngle(Math.random()*d.TWO_PI)},s.default.Vector.random3D=function(){var i=Math.random()*d.TWO_PI,m=2*Math.random()-1,v=Math.sqrt(1-m*m),g=v*Math.cos(i),v=v*Math.sin(i);return new s.default.Vector(g,v,m)},s.default.Vector.copy=function(i){return i.copy(i)},s.default.Vector.add=function(i,m,g){return g?g.set(i):(g=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),g.add(m),g},s.default.Vector.rem=function(i,m){if(i instanceof s.default.Vector&&m instanceof s.default.Vector)return(i=i.copy()).rem(m),i},s.default.Vector.sub=function(i,m,g){return g?g.set(i):(g=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),g.sub(m),g},s.default.Vector.mult=function(i,m,g){return g?g.set(i):(g=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),g.mult(m),g},s.default.Vector.rotate=function(i,m,g){return arguments.length===2?g=i.copy():(g instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),g.set(i)),g.rotate(m),g},s.default.Vector.div=function(i,m,g){return g?g.set(i):(g=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),g.div(m),g},s.default.Vector.dot=function(i,m){return i.dot(m)},s.default.Vector.cross=function(i,m){return i.cross(m)},s.default.Vector.dist=function(i,m){return i.dist(m)},s.default.Vector.lerp=function(i,m,g,v){return v?v.set(i):(v=i.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),v.lerp(m,g),v},s.default.Vector.mag=function(i){return i.mag()},s.default.Vector.magSq=function(i){return i.magSq()},s.default.Vector.normalize=function(i,m){return arguments.length<2?m=i.copy():(m instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),m.set(i)),m.normalize()},s.default.Vector.limit=function(i,m,g){return arguments.length<3?g=i.copy():(g instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),g.set(i)),g.limit(m)},s.default.Vector.setMag=function(i,m,g){return arguments.length<3?g=i.copy():(g instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),g.set(i)),g.setMag(m)},s.default.Vector.heading=function(i){return i.heading()},s.default.Vector.angleBetween=function(i,m){return i.angleBetween(m)},s.default.Vector.reflect=function(i,m,g){return arguments.length<3?g=i.copy():(g instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),g.set(i)),g.reflect(m)},s.default.Vector.array=function(i){return i.array()},s.default.Vector.equals=function(i,m){var g;return i instanceof s.default.Vector?g=i:i instanceof Array?g=new s.default.Vector().set(i):s.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),g.equals(m)};var l=s.default.Vector;p.default=l},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(f,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(f=f("../core/main"))&&f.__esModule?f:{default:f},a="_lcg_random_state",s=4294967296,d=0,f=(c.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%s,this[y]/s},c.default.prototype._lcgSetSeed=function(y,u){this[y]=(u==null?Math.random()*s:u)>>>0},c.default.prototype.randomSeed=function(y){this._lcgSetSeed(a,y),this._gaussian_previous=!1},c.default.prototype.random=function(y,u){var l,i;return c.default._validateParameters("random",arguments),l=this[a]!=null?this._lcg(a):Math.random(),y===void 0?l:u===void 0?y instanceof Array?y[Math.floor(l*y.length)]:l*y:(u<y&&(i=y,y=u,u=i),l*(u-y)+y)},c.default.prototype.randomGaussian=function(y){var u,l,i,m,g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)u=d,this._gaussian_previous=!1;else{for(;1<=(m=(l=this.random(2)-1)*l+(i=this.random(2)-1)*i););u=l*(m=Math.sqrt(-2*Math.log(m)/m)),d=i*m,this._gaussian_previous=!0}return u*g+(y||0)},c.default);p.default=f},{"../core/main":267}],302:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../core/constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}s.default.prototype._angleMode=d.RADIANS,s.default.prototype.acos=function(u){return this._fromRadians(Math.acos(u))},s.default.prototype.asin=function(u){return this._fromRadians(Math.asin(u))},s.default.prototype.atan=function(u){return this._fromRadians(Math.atan(u))},s.default.prototype.atan2=function(u,l){return this._fromRadians(Math.atan2(u,l))},s.default.prototype.cos=function(u){return Math.cos(this._toRadians(u))},s.default.prototype.sin=function(u){return Math.sin(this._toRadians(u))},s.default.prototype.tan=function(u){return Math.tan(this._toRadians(u))},s.default.prototype.degrees=function(u){return u*d.RAD_TO_DEG},s.default.prototype.radians=function(u){return u*d.DEG_TO_RAD},s.default.prototype.angleMode=function(u){if(s.default._validateParameters("angleMode",arguments),u===void 0)return this._angleMode;u!==d.DEGREES&&u!==d.RADIANS||(this._angleMode=u)},s.default.prototype._toRadians=function(u){return this._angleMode===d.DEGREES?u*d.DEG_TO_RAD:u},s.default.prototype._toDegrees=function(u){return this._angleMode===d.RADIANS?u*d.RAD_TO_DEG:u},s.default.prototype._fromRadians=function(u){return this._angleMode===d.DEGREES?u*d.RAD_TO_DEG:u};var y=s.default;p.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.prototype.textAlign=function(a,s){var d;return c.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},c.default.prototype.textLeading=function(a){var s;return c.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},c.default.prototype.textSize=function(a){var s;return c.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},c.default.prototype.textStyle=function(a){var s;return c.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},c.default.prototype.textWidth=function(){for(var a,s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return d[0]+="",c.default._validateParameters("textWidth",d),d[0].length===0?0:(a=this._renderer).textWidth.apply(a,d)},c.default.prototype.textAscent=function(){for(var a=arguments.length,s=new Array(a),d=0;d<a;d++)s[d]=arguments[d];return c.default._validateParameters("textAscent",s),this._renderer.textAscent()},c.default.prototype.textDescent=function(){for(var a=arguments.length,s=new Array(a),d=0;d<a;d++)s[d]=arguments[d];return c.default._validateParameters("textDescent",s),this._renderer.textDescent()},c.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},c.default.prototype.textWrap=function(a){if(a!=="WORD"&&a!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(a)},t=c.default,p.default=t},{"../core/main":267}],304:[function(t,h,p){function c(i){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(i)}function a(i){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(m){return c(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":c(m)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(l=t("../core/main"))&&l.__esModule?l:{default:l},d=u(t("../core/constants")),f=u(t("opentype.js"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function u(i){if(i&&i.__esModule)return i;if(i===null||a(i)!=="object"&&typeof i!="function")return{default:i};var m=y();if(m&&m.has(i))return m.get(i);var g,v,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in i)Object.prototype.hasOwnProperty.call(i,g)&&((v=w?Object.getOwnPropertyDescriptor(i,g):null)&&(v.get||v.set)?Object.defineProperty(b,g,v):b[g]=i[g]);return b.default=i,m&&m.set(i,b),b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(i,m,g){s.default._validateParameters("loadFont",arguments);var v=new s.default.Font(this),b=this;return f.load(i,function(x,M){if(x)return s.default._friendlyFileLoadError(4,i),g!==void 0?g(x):void console.error(x,i);v.font=M,m!==void 0&&m(v),b._decrementPreload();var x=i.split("\\").pop().split("/").pop(),M=x.lastIndexOf("."),C=M<1?null:x.slice(M+1);["ttf","otf","woff","woff2"].includes(C)&&(C=x.slice(0,M!==-1?M:0),(x=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(C,`;
src: url(`).concat(i,`);
}
`))),document.head.appendChild(x))}),v},s.default.prototype.text=function(i,m,g,v,b){var w;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(w=this._renderer).text.apply(w,arguments):this},s.default.prototype.textFont=function(i,m){if(s.default._validateParameters("textFont",arguments),arguments.length){if(i)return this._renderer._setProperty("_textFont",i),m&&(this._renderer._setProperty("_textSize",m),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",m*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var l=s.default;p.default=l},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(t,h,p){function c(C){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(C)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=(a=t("../core/main"))&&a.__esModule?a:{default:a},s=function(C){if(C&&C.__esModule)return C;if(C===null||f(C)!=="object"&&typeof C!="function")return{default:C};var E=d();if(E&&E.has(C))return E.get(C);var P,D={},I=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(P in C){var U;Object.prototype.hasOwnProperty.call(C,P)&&((U=I?Object.getOwnPropertyDescriptor(C,P):null)&&(U.get||U.set)?Object.defineProperty(D,P,U):D[P]=C[P])}return D.default=C,E&&E.set(C,D),D}(t("../core/constants"));function d(){var C;return typeof WeakMap!="function"?null:(C=new WeakMap,d=function(){return C},C)}function f(C){return(f=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(E){return c(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":c(E)})(C)}function y(C,E){var P=C.length;return C[E<0?E%P+P:E%P]}function u(C,E,P,D){var I,U,G;return D?(u.tmpPoint1===void 0&&(u.tmpPoint1=[],u.tmpPoint2=[]),U=u.tmpPoint1,G=u.tmpPoint2,U.x=E.x-C.x,U.y=E.y-C.y,G.x=P.x-E.x,G.y=P.y-E.y,I=U.x*G.x+U.y*G.y,U=Math.sqrt(U.x*U.x+U.y*U.y),G=Math.sqrt(G.x*G.x+G.y*G.y),Math.acos(I/(U*G))<D):(E[0]-C[0])*(P[1]-C[1])-(P[0]-C[0])*(E[1]-C[1])==0}function l(O,F,j,V,ae,U,G,W,te){var Q=1-te,oe=Math.pow(Q,3),ee=Math.pow(Q,2),se=te*te,le=se*te,J=oe*O+3*ee*te*j+3*Q*te*te*ae+le*G,oe=oe*F+3*ee*te*V+3*Q*te*te*U+le*W,ee=O+2*te*(j-O)+se*(ae-2*j+O),le=F+2*te*(V-F)+se*(U-2*V+F),de=j+2*te*(ae-j)+se*(G-2*ae+j),se=V+2*te*(U-V)+se*(W-2*U+V),O=Q*O+te*j,j=Q*F+te*V,F=Q*ae+te*G,V=Q*U+te*W,ae=90-180*Math.atan2(ee-de,le-se)/Math.PI;return(de<ee||le<se)&&(ae+=180),{x:J,y:oe,m:{x:ee,y:le},n:{x:de,y:se},start:{x:O,y:j},end:{x:F,y:V},alpha:ae}}function i(C,E,P,D,I,U,G,W,te){return te==null?x(C,E,P,D,I,U,G,W):l(C,E,P,D,I,U,G,W,function(Q,J,oe,ee,le,de,se,O,j){if(!(j<0||x(Q,J,oe,ee,le,de,se,O)<j)){var F,V=.5,ae=1-V;for(F=x(Q,J,oe,ee,le,de,se,O,ae);.01<Math.abs(F-j);)F=x(Q,J,oe,ee,le,de,se,O,ae+=(F<j?1:-1)*(V/=2));return ae}}(C,E,P,D,I,U,G,W,te))}function m(C,E,P){for(var D,I,U,G,W,te=0,Q=0,J=(C=function(oe,ee){function le(qe,Ge,it){var ie,Be;if(!qe)return["C",Ge.x,Ge.y,Ge.x,Ge.y,Ge.x,Ge.y];switch(qe[0]in{T:1,Q:1}||(Ge.qx=Ge.qy=null),qe[0]){case"M":Ge.X=qe[1],Ge.Y=qe[2];break;case"A":qe=["C"].concat(v.apply(0,[Ge.x,Ge.y].concat(qe.slice(1))));break;case"S":Be=it==="C"||it==="S"?(ie=2*Ge.x-Ge.bx,2*Ge.y-Ge.by):(ie=Ge.x,Ge.y),qe=["C",ie,Be].concat(qe.slice(1));break;case"T":it==="Q"||it==="T"?(Ge.qx=2*Ge.x-Ge.qx,Ge.qy=2*Ge.y-Ge.qy):(Ge.qx=Ge.x,Ge.qy=Ge.y),qe=["C"].concat(S(Ge.x,Ge.y,Ge.qx,Ge.qy,qe[1],qe[2]));break;case"Q":Ge.qx=qe[1],Ge.qy=qe[2],qe=["C"].concat(S(Ge.x,Ge.y,qe[1],qe[2],qe[3],qe[4]));break;case"L":qe=["C"].concat(w(Ge.x,Ge.y,qe[1],qe[2]));break;case"H":qe=["C"].concat(w(Ge.x,Ge.y,qe[1],Ge.y));break;case"V":qe=["C"].concat(w(Ge.x,Ge.y,Ge.x,qe[1]));break;case"Z":qe=["C"].concat(w(Ge.x,Ge.y,Ge.X,Ge.Y))}return qe}function de(qe,Ge){if(7<qe[Ge].length){qe[Ge].shift();for(var it=qe[Ge];it.length;)ue[Ge]="A",F&&(Ee[Ge]="A"),qe.splice(Ge++,0,["C"].concat(it.splice(0,6)));qe.splice(Ge,1),O=Math.max(j.length,F&&F.length||0)}}function se(qe,Ge,it,ie,Be){qe&&Ge&&qe[Be][0]==="M"&&Ge[Be][0]!=="M"&&(Ge.splice(Be,0,["M",ie.x,ie.y]),it.bx=0,it.by=0,it.x=qe[Be][1],it.y=qe[Be][2],O=Math.max(j.length,F&&F.length||0))}var O,j=g(oe),F=ee&&g(ee),V={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ue=[],Ee=[],Re="",Ce="";O=Math.max(j.length,F&&F.length||0);for(var xe=0;xe<O;xe++){(Re=j[xe]?j[xe][0]:Re)!=="C"&&(ue[xe]=Re,xe&&(Ce=ue[xe-1])),j[xe]=le(j[xe],V,Ce),ue[xe]!=="A"&&Re==="C"&&(ue[xe]="C"),de(j,xe),F&&((Re=F[xe]?F[xe][0]:Re)!=="C"&&(Ee[xe]=Re,xe&&(Ce=Ee[xe-1])),F[xe]=le(F[xe],ae,Ce),Ee[xe]!=="A"&&Re==="C"&&(Ee[xe]="C"),de(F,xe)),se(j,F,V,ae,xe),se(F,j,ae,V,xe);var Ze=j[xe],we=F&&F[xe],Ae=Ze.length,Ue=F&&we.length;V.x=Ze[Ae-2],V.y=Ze[Ae-1],V.bx=parseFloat(Ze[Ae-4])||V.x,V.by=parseFloat(Ze[Ae-3])||V.y,ae.bx=F&&(parseFloat(we[Ue-4])||ae.x),ae.by=F&&(parseFloat(we[Ue-3])||ae.y),ae.x=F&&we[Ue-2],ae.y=F&&we[Ue-1]}return F?[j,F]:j}(C)).length;Q<J;Q++){if((U=C[Q])[0]==="M")D=+U[1],I=+U[2];else{if(E<te+(G=i(D,I,U[1],U[2],U[3],U[4],U[5],U[6]))&&!P)return{x:(W=i(D,I,U[1],U[2],U[3],U[4],U[5],U[6],E-te)).x,y:W.y,alpha:W.alpha};te+=G,D=+U[5],I=+U[6]}U.shift()}return W=(W=P?te:l(D,I,U[0],U[1],U[2],U[3],U[4],U[5],1)).alpha?{x:W.x,y:W.y,alpha:W.alpha}:W}function g(C){var E=[],P=0,D=0,I=0,U=0,G=0;if(C){C[0][0]==="M"&&(I=P=+C[0][1],U=D=+C[0][2],G++,E[0]=["M",P,D]);for(var W,te,Q=C.length===3&&C[0][0]==="M"&&C[1][0].toUpperCase()==="R"&&C[2][0].toUpperCase()==="Z",J=G,oe=C.length;J<oe;J++){if(E.push(W=[]),(te=C[J])[0]!==String.prototype.toUpperCase.call(te[0]))switch(W[0]=String.prototype.toUpperCase.call(te[0]),W[0]){case"A":W[1]=te[1],W[2]=te[2],W[3]=te[3],W[4]=te[4],W[5]=te[5],W[6]=+(te[6]+P),W[7]=+(te[7]+D);break;case"V":W[1]=+te[1]+D;break;case"H":W[1]=+te[1]+P;break;case"R":for(var ee,le=2,de=(ee=[P,D].concat(te.slice(1))).length;le<de;le++)ee[le]=+ee[le]+P,ee[++le]=+ee[le]+D;E.pop(),E=E.concat(b(ee,Q));break;case"M":I=+te[1]+P,U=+te[2]+D;break;default:for(var se=1,O=te.length;se<O;se++)W[se]=+te[se]+(se%2?P:D)}else if(te[0]==="R")ee=[P,D].concat(te.slice(1)),E.pop(),E=E.concat(b(ee,Q)),W=["R"].concat(te.slice(-2));else for(var j=0,F=te.length;j<F;j++)W[j]=te[j];switch(W[0]){case"Z":P=I,D=U;break;case"H":P=W[1];break;case"V":D=W[1];break;case"M":I=W[W.length-2],U=W[W.length-1];break;default:P=W[W.length-2],D=W[W.length-1]}}}return E}function v(C,E,P,D,F,ue,V,W,te,Q){function J(Ue,qe,Ge){return{x:Ue*Math.cos(Ge)-qe*Math.sin(Ge),y:Ue*Math.sin(Ge)+qe*Math.cos(Ge)}}var oe,O=Math.PI,j=120*O/180,ee=O/180*(+F||0),le=[],de=(Q?(xe=Q[0],oe=Q[1],Re=Q[2],Ce=Q[3]):(C=(ae=J(C,E,-ee)).x,E=ae.y,1<(de=(se=(C-(W=(ae=J(W,te,-ee)).x))/2)*se/(P*P)+(ae=(E-(te=ae.y))/2)*ae/(D*D))&&(P*=de=Math.sqrt(de),D*=de),de=P*P,Ee=D*D,Re=(ue=(ue===V?-1:1)*Math.sqrt(Math.abs((de*Ee-de*ae*ae-Ee*se*se)/(de*ae*ae+Ee*se*se))))*P*ae/D+(C+W)/2,Ce=ue*-D*se/P+(E+te)/2,xe=Math.asin(((E-Ce)/D).toFixed(9)),oe=Math.asin(((te-Ce)/D).toFixed(9)),(xe=C<Re?O-xe:xe)<0&&(xe=2*O+xe),(oe=W<Re?O-oe:oe)<0&&(oe=2*O+oe),V&&oe<xe&&(xe-=2*O),!V&&xe<oe&&(oe-=2*O)),oe-xe),se=(Math.abs(de)>j&&(Ee=oe,ae=W,ue=te,oe=xe+j*(V&&xe<oe?1:-1),le=v(W=Re+P*Math.cos(oe),te=Ce+D*Math.sin(oe),P,D,F,0,V,ae,ue,[oe,Ee,Re,Ce])),de=oe-xe,Math.cos(xe)),O=Math.sin(xe),j=Math.cos(oe),F=Math.sin(oe),V=Math.tan(de/4),ae=4/3*P*V,ue=4/3*D*V,Ee=[C,E],Re=[C+ae*O,E-ue*se],Ce=[W+ae*F,te-ue*j],xe=[W,te];if(Re[0]=2*Ee[0]-Re[0],Re[1]=2*Ee[1]-Re[1],Q)return[Re,Ce,xe].concat(le);for(var Ze=[],we=0,Ae=(le=[Re,Ce,xe].concat(le).join().split(",")).length;we<Ae;we++)Ze[we]=we%2?J(le[we-1],le[we],ee).y:J(le[we],le[we+1],ee).x;return Ze}function b(C,E){for(var P=[],D=0,I=C.length;D<I-2*!E;D+=2){var U=[{x:+C[D-2],y:+C[D-1]},{x:+C[D],y:+C[D+1]},{x:+C[D+2],y:+C[D+3]},{x:+C[D+4],y:+C[D+5]}];E?D?I-4===D?U[3]={x:+C[0],y:+C[1]}:I-2===D&&(U[2]={x:+C[0],y:+C[1]},U[3]={x:+C[2],y:+C[3]}):U[0]={x:+C[I-2],y:+C[I-1]}:I-4===D?U[3]=U[2]:D||(U[0]={x:+C[D],y:+C[D+1]}),P.push(["C",(-U[0].x+6*U[1].x+U[2].x)/6,(-U[0].y+6*U[1].y+U[2].y)/6,(U[1].x+6*U[2].x-U[3].x)/6,(U[1].y+6*U[2].y-U[3].y)/6,U[2].x,U[2].y])}return P}function w(C,E,P,D){return[C,E,P,D,P,D]}function S(C,E,P,D,I,U){return[1/3*C+2/3*P,1/3*E+2/3*D,1/3*I+2/3*P,1/3*U+2/3*D,I,U]}function x(C,E,P,D,I,U,G,W,te){for(var Q=(te=1<(te=te==null?1:te)?1:te<0?0:te)/2,J=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],oe=0,ee=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],le=0;le<12;le++){var se=Q*J[le]+Q,de=M(se,C,P,I,G),se=M(se,E,D,U,W);oe+=ee[le]*Math.sqrt(de*de+se*se)}return Q*oe}function M(C,E,P,D,I){return C*(C*(-3*E+9*P-9*D+3*I)+6*E-12*P+6*D)-3*E+3*P}a.default.Font=function(C){this.parent=C,this.cache={},this.font=void 0},a.default.Font.prototype.textBounds=function(C){var E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,G=3<arguments.length?arguments[3]:void 0,D=4<arguments.length?arguments[4]:void 0,I=D&&D.renderer&&D.renderer._pInst||this.parent,U=I._renderer.drawingContext,G=(U.textAlign||s.LEFT,U.textBaseline||s.BASELINE,G||I._renderer._textSize);if(!j){for(var W=[],te=[],Q=[],J=(Q[0]=[],[]),oe=this._scale(G),ee=I._renderer.textLeading(),le=0,de=(this.font.forEachGlyph(C,E,P,G,D,function(ae,ue,Ee,Re){var Ce=ae.getMetrics();ae.index===0||ae.index===10?Q[le+=1]=[]:(Q[le].push(ue+Ce.xMin*oe),Q[le].push(ue+Ce.xMax*oe),J.push(Ee+le*ee+-Ce.yMin*oe),J.push(Ee+le*ee+-Ce.yMax*oe))}),0<Q[le].length&&(W[le]=Math.min.apply(null,Q[le]),te[le]=Math.max.apply(null,Q[le])),0),se=0;se<=le;se++){W[se]=Math.min.apply(null,Q[se]),te[se]=Math.max.apply(null,Q[se]);var O=te[se]-W[se];de<O&&(de=O)}var U=Math.min.apply(null,W),j={x:U,y:P=Math.min.apply(null,J),h:Math.max.apply(null,J)-P,w:de,advance:U-E},G=this._handleAlignment(I._renderer,C,j.x,j.y,j.w+j.advance);j.x=G.x,j.y=G.y}return j},a.default.Font.prototype.textToPoints=function(C,E,P,D,I){var U=0,G=[],W=this._getGlyphs(C);D=D||this.parent._renderer._textSize;for(var te,Q=0;Q<W.length;Q++){if(!(W[te=Q].name&&W[te].name==="space"||C.length===W.length&&C[te]===" "))for(var J=function(de){for(var se,O=[],j=0;j<de.length;j++)de[j].type==="M"&&(se&&O.push(se),se=[]),se.push(function(F){var V=[F.type];return F.type==="M"||F.type==="L"?V.push(F.x,F.y):F.type==="C"?V.push(F.x1,F.y1,F.x2,F.y2,F.x,F.y):F.type==="Q"&&V.push(F.x1,F.y1,F.x,F.y),V}(de[j]));return O.push(se),O}(W[Q].getPath(E,P,D).commands),oe=0;oe<J.length;oe++)for(var ee=function(de,se){for(var se=function(ue,Ee){if(f(ue)!=="object")ue=Ee;else for(var Re in Ee)ue[Re]===void 0&&(ue[Re]=Ee[Re]);return ue}(se,{sampleFactor:.1,simplifyThreshold:0}),O=m(de,0,1),j=O/(O*se.sampleFactor),F=[],V=0;V<O;V+=j)F.push(m(de,V));return se.simplifyThreshold&&function(ae){for(var ue=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Ee=0,Re=ae.length-1;3<ae.length&&0<=Re;--Re)u(y(ae,Re-1),y(ae,Re),y(ae,Re+1),ue)&&(ae.splice(Re%ae.length,1),Ee++)}(F,se.simplifyThreshold),F}(J[oe],I),le=0;le<ee.length;le++)ee[le].x+=U,G.push(ee[le]);U+=W[Q].advanceWidth*this._scale(D)}return G},a.default.Font.prototype._getGlyphs=function(C){return this.font.stringToGlyphs(C)},a.default.Font.prototype._getPath=function(C,U,P,D){var I=(D&&D.renderer&&D.renderer._pInst||this.parent)._renderer,U=this._handleAlignment(I,C,U,P);return this.font.getPath(C,U.x,U.y,I._textSize,D)},a.default.Font.prototype._getPathData=function(C,E,P,D){var I=3;return typeof C=="string"&&2<arguments.length?C=this._getPath(C,E,P,D):f(E)==="object"&&(D=E),D&&typeof D.decimals=="number"&&(I=D.decimals),C.toPathData(I)},a.default.Font.prototype._getSVG=function(C,E,P,D){var I=3;return typeof C=="string"&&2<arguments.length?C=this._getPath(C,E,P,D):f(E)==="object"&&(D=E),D&&(typeof D.decimals=="number"&&(I=D.decimals),typeof D.strokeWidth=="number"&&(C.strokeWidth=D.strokeWidth),D.fill!==void 0&&(C.fill=D.fill),D.stroke!==void 0&&(C.stroke=D.stroke)),C.toSVG(I)},a.default.Font.prototype._renderPath=function(G,te,Q,D){var I=D&&D.renderer||this.parent._renderer,U=I.drawingContext,G=(f(G)==="object"&&G.commands?G:this._getPath(G,te,Q,D)).commands,W=(U.beginPath(),!0),te=!1,Q=void 0;try{for(var J,oe=G[Symbol.iterator]();!(W=(J=oe.next()).done);W=!0){var ee=J.value;ee.type==="M"?U.moveTo(ee.x,ee.y):ee.type==="L"?U.lineTo(ee.x,ee.y):ee.type==="C"?U.bezierCurveTo(ee.x1,ee.y1,ee.x2,ee.y2,ee.x,ee.y):ee.type==="Q"?U.quadraticCurveTo(ee.x1,ee.y1,ee.x,ee.y):ee.type==="Z"&&U.closePath()}}catch(le){te=!0,Q=le}finally{try{W||oe.return==null||oe.return()}finally{if(te)throw Q}}return I._doStroke&&I._strokeSet&&U.stroke(),I._doFill&&(I._fillSet||I._setFill(s._DEFAULT_TEXT_FILL),U.fill()),this},a.default.Font.prototype._textWidth=function(C,E){return this.font.getAdvanceWidth(C,E)},a.default.Font.prototype._textAscent=function(C){return this.font.ascender*this._scale(C)},a.default.Font.prototype._textDescent=function(C){return-this.font.descender*this._scale(C)},a.default.Font.prototype._scale=function(C){return 1/this.font.unitsPerEm*(C||this.parent._renderer._textSize)},a.default.Font.prototype._handleAlignment=function(C,E,P,D,I){var U=C._textSize;switch(I===void 0&&(I=this._textWidth(E,U)),C._textAlign){case s.CENTER:P-=I/2;break;case s.RIGHT:P-=I}switch(C._textBaseline){case s.TOP:D+=this._textAscent(U);break;case s.CENTER:D+=this._textAscent(U)/2;break;case s.BOTTOM:D-=this._textDescent(U)}return{x:P,y:D}},t=a.default,p.default=t},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(c,a){return c.push(a),c},t.default.prototype.arrayCopy=function(c,a,s,d,f){var y,u;c=f!==void 0?(u=Math.min(f,c.length),y=d,c.slice(a,u+a)):(u=s!==void 0?(u=s,Math.min(u,c.length)):c.length,s=a,c.slice(y=0,u)),Array.prototype.splice.apply(s,[y,u].concat(c))},t.default.prototype.concat=function(c,a){return c.concat(a)},t.default.prototype.reverse=function(c){return c.reverse()},t.default.prototype.shorten=function(c){return c.pop(),c},t.default.prototype.shuffle=function(c,a){for(var s,d,f=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(c),y=(c=a||f?c:c.slice()).length;1<y;)s=this.random(0,1)*y|0,d=c[--y],c[y]=c[s],c[s]=d;return c},t.default.prototype.sort=function(c,d){var s=d?c.slice(0,Math.min(d,c.length)):c,d=d?c.slice(Math.min(d,c.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(f,y){return f-y})).concat(d)},t.default.prototype.splice=function(c,a,s){return Array.prototype.splice.apply(c,[s,0].concat(a)),c},t.default.prototype.subset=function(c,a,s){return s!==void 0?c.slice(a,a+s):c.slice(a,c.length)},t=t.default,p.default=t},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(t,h,p){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.prototype.float=function(a){return a instanceof Array?a.map(parseFloat):parseFloat(a)},c.default.prototype.int=function(a){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return a===1/0||a==="Infinity"?1/0:a===-1/0||a==="-Infinity"?-1/0:typeof a=="string"?parseInt(a,s):typeof a=="number"?0|a:typeof a=="boolean"?a?1:0:a instanceof Array?a.map(function(d){return c.default.prototype.int(d,s)}):void 0},c.default.prototype.str=function(a){return a instanceof Array?a.map(c.default.prototype.str):String(a)},c.default.prototype.boolean=function(a){return typeof a=="number"?a!==0:typeof a=="string"?a.toLowerCase()==="true":typeof a=="boolean"?a:a instanceof Array?a.map(c.default.prototype.boolean):void 0},c.default.prototype.byte=function(a){return a=c.default.prototype.int(a,10),typeof a=="number"?(a+128)%256-128:a instanceof Array?a.map(c.default.prototype.byte):void 0},c.default.prototype.char=function(a){return typeof a!="number"||isNaN(a)?a instanceof Array?a.map(c.default.prototype.char):typeof a=="string"?c.default.prototype.char(parseInt(a,10)):void 0:String.fromCharCode(a)},c.default.prototype.unchar=function(a){return typeof a=="string"&&a.length===1?a.charCodeAt(0):a instanceof Array?a.map(c.default.prototype.unchar):void 0},c.default.prototype.hex=function(a,s){if(s=s==null?8:s,a instanceof Array)return a.map(function(f){return c.default.prototype.hex(f,s)});if(a===1/0||a===-1/0)return(a===1/0?"F":"0").repeat(s);if(typeof a=="number"){a<0&&(a=4294967295+a+1);for(var d=Number(a).toString(16).toUpperCase();d.length<s;)d="0".concat(d);return d=d.length>=s?d.substring(d.length-s,d.length):d}},c.default.prototype.unhex=function(a){return a instanceof Array?a.map(c.default.prototype.unhex):parseInt("0x".concat(a),16)},t=c.default,p.default=t},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(t,h,p){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y};function a(g,l,i){var m=g<0,g=m?g.toString().substring(1):g.toString(),v=g.indexOf("."),b=v!==-1?g.substring(0,v):g,w=v!==-1?g.substring(v+1):"",S=m?"-":"";if(i!==void 0){m="",(v!==-1||0<i-w.length)&&(m="."),w.length>i&&(w=w.substring(0,i));for(var x=0;x<l-b.length;x++)S+="0";for(var S=(S+=b)+m+w,M=0;M<i-w.length;M++)S+="0";return S}for(var C=0;C<Math.max(l-b.length,0);C++)S+="0";return S+=g}function s(g,l){var i=(g=g.toString()).indexOf("."),m=i!==-1?g.substring(i):"",g=(g=i!==-1?g.substring(0,i):g).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(l===0)m="";else if(l!==void 0)if(l>m.length)for(var v=l-(m+=i===-1?".":"").length+1,b=0;b<v;b++)m+="0";else m=m.substring(0,l+1);return g+m}function d(u){return 0<parseFloat(u)?"+".concat(u.toString()):u.toString()}function f(u){return 0<=parseFloat(u)?" ".concat(u.toString()):u.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.join=function(u,l){return c.default._validateParameters("join",arguments),u.join(l)},c.default.prototype.match=function(u,l){return c.default._validateParameters("match",arguments),u.match(l)},c.default.prototype.matchAll=function(u,l){c.default._validateParameters("matchAll",arguments);for(var i=new RegExp(l,"g"),m=i.exec(u),g=[];m!==null;)g.push(m),m=i.exec(u);return g},c.default.prototype.nf=function(u,l,i){return c.default._validateParameters("nf",arguments),u instanceof Array?u.map(function(m){return a(m,l,i)}):Object.prototype.toString.call(u)==="[object Arguments]"?u.length===3?this.nf(u[0],u[1],u[2]):u.length===2?this.nf(u[0],u[1]):this.nf(u[0]):a(u,l,i)},c.default.prototype.nfc=function(u,l){return c.default._validateParameters("nfc",arguments),u instanceof Array?u.map(function(i){return s(i,l)}):s(u,l)},c.default.prototype.nfp=function(){for(var u=arguments.length,l=new Array(u),i=0;i<u;i++)l[i]=arguments[i];c.default._validateParameters("nfp",l);var m=c.default.prototype.nf.apply(this,l);return m instanceof Array?m.map(d):d(m)},c.default.prototype.nfs=function(){for(var u=arguments.length,l=new Array(u),i=0;i<u;i++)l[i]=arguments[i];c.default._validateParameters("nfs",l);var m=c.default.prototype.nf.apply(this,l);return m instanceof Array?m.map(f):f(m)},c.default.prototype.split=function(u,l){return c.default._validateParameters("split",arguments),u.split(l)},c.default.prototype.splitTokens=function(u,l){var i,m;return c.default._validateParameters("splitTokens",arguments),m=l!==void 0?(m=/\]/g.exec(l=l),(i=/\[/g.exec(l))&&m?(l=l.slice(0,m.index)+l.slice(m.index+1),i=/\[/g.exec(l),l=l.slice(0,i.index)+l.slice(i.index+1),new RegExp("[\\[".concat(l,"\\]]"),"g")):m?(l=l.slice(0,m.index)+l.slice(m.index+1),new RegExp("[".concat(l,"\\]]"),"g")):i?(l=l.slice(0,i.index)+l.slice(i.index+1),new RegExp("[".concat(l,"\\[]"),"g")):new RegExp("[".concat(l,"]"),"g")):/\s/g,u.split(m).filter(function(g){return g})},c.default.prototype.trim=function(u){return c.default._validateParameters("trim",arguments),u instanceof Array?u.map(this.trim):u.trim()};var y=c.default;p.default=y},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,p.default=t},{"../core/main":267}],310:[function(t,h,p){function c(l){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(l)}function a(l){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(i){return c(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":c(i)})(l)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(u=t("../core/main"))&&u.__esModule?u:{default:u},d=(t("./p5.Geometry"),function(l){if(l&&l.__esModule)return l;if(l===null||a(l)!=="object"&&typeof l!="function")return{default:l};var i=f();if(i&&i.has(l))return i.get(l);var m,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in l){var b;Object.prototype.hasOwnProperty.call(l,m)&&((b=v?Object.getOwnPropertyDescriptor(l,m):null)&&(b.get||b.set)?Object.defineProperty(g,m,b):g[m]=l[m])}return g.default=l,i&&i.set(l,g),g}(t("../core/constants")));function f(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,f=function(){return l},l)}s.default.prototype.plane=function(l,i,m,g){this._assert3d("plane"),s.default._validateParameters("plane",arguments),l===void 0&&(l=50),i===void 0&&(i=l),g===void 0&&(g=1);var v,b="plane|".concat(m=m===void 0?1:m,"|").concat(g);return this._renderer.geometryInHash(b)||((v=new s.default.Geometry(m,g,function(){for(var w,S,x=0;x<=this.detailY;x++)for(var M=x/this.detailY,C=0;C<=this.detailX;C++)w=C/this.detailX,S=new s.default.Vector(w-.5,M-.5,0),this.vertices.push(S),this.uvs.push(w,M)})).computeFaces().computeNormals(),m<=1&&g<=1?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(b,v)),this._renderer.drawBuffersScaled(b,l,i,1),this},s.default.prototype.box=function(l,i,m,g,v){this._assert3d("box"),s.default._validateParameters("box",arguments),l===void 0&&(l=50),i===void 0&&(i=l),m===void 0&&(m=i);var b,w=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,w=(v===void 0&&(v=w?1:4),"box|".concat(g=g===void 0?w?1:4:g,"|").concat(v));return this._renderer.geometryInHash(w)||((b=new s.default.Geometry(g,v,function(){var S=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var x=0;x<S.length;x++){for(var M=S[x],C=4*x,E=0;E<4;E++){var P=M[E],P=new s.default.Vector((2*(1&P)-1)/2,((2&P)-1)/2,((4&P)/2-1)/2);this.vertices.push(P),this.uvs.push(1&E,(2&E)/2)}this.faces.push([C,1+C,2+C]),this.faces.push([2+C,1+C,3+C])}})).computeNormals(),g<=4&&v<=4?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(w,b)),this._renderer.drawBuffersScaled(w,l,i,m),this},s.default.prototype.sphere=function(l,i,m){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(l=l===void 0?50:l,l,l,i=i===void 0?24:i,m=m===void 0?16:m),this};function y(l,i,m,g,v,b,w){l=l<=0?1:l,i=i<0?0:i,m=m<=0?l:m,g=g<3?3:g;for(var S,x,M=(b=b===void 0||b)?-2:0,C=(v=v<1?1:v)+((w=w===void 0?i!==0:w)?2:0),E=Math.atan2(l-i,m),P=Math.sin(E),D=Math.cos(E),I=M;I<=C;++I){var U=I/v,G=m*U,W=void 0,W=I<0?(U=G=0,l):v<I?(G=m,U=1,i):l+(i-l)*U;for(I!==-2&&I!==v+2||(W=0),G-=m/2,S=0;S<g;++S){var te=S/(g-1),J=2*Math.PI*te,Q=Math.sin(J),J=Math.cos(J),oe=(this.vertices.push(new s.default.Vector(Q*W,G,J*W)),void 0),oe=I<0?new s.default.Vector(0,-1,0):v<I&&i?new s.default.Vector(0,1,0):new s.default.Vector(Q*D,P,J*D);this.vertexNormals.push(oe),this.uvs.push(te,U)}}var ee=0;if(b){for(x=0;x<g;++x)this.faces.push([ee+x,ee+g+(x+1)%g,ee+g+x]);ee+=2*g}for(I=0;I<v;++I){for(S=0;S<g;++S){var le=(S+1)%g;this.faces.push([ee+S,ee+le,ee+g+le]),this.faces.push([ee+S,ee+g+le,ee+g+S])}ee+=g}if(w)for(ee+=g,S=0;S<g;++S)this.faces.push([ee+S,ee+(S+1)%g,ee+g])}s.default.prototype.cylinder=function(l,i,m,g,v,b){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),l===void 0&&(l=50),i===void 0&&(i=l),g===void 0&&(g=1),b===void 0&&(b=!0),v===void 0&&(v=!0);var w,S="cylinder|".concat(m=m===void 0?24:m,"|").concat(g,"|").concat(v,"|").concat(b);return this._renderer.geometryInHash(S)||(w=new s.default.Geometry(m,g),y.call(w,1,1,1,m,g,v,b),m<=24&&g<=16?w._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(S,w)),this._renderer.drawBuffersScaled(S,l,i,l),this},s.default.prototype.cone=function(l,i,m,g,v){this._assert3d("cone"),s.default._validateParameters("cone",arguments),l===void 0&&(l=50),i===void 0&&(i=l),g===void 0&&(g=1),v===void 0&&(v=!0);var b,w="cone|".concat(m=m===void 0?24:m,"|").concat(g,"|").concat(v);return this._renderer.geometryInHash(w)||(b=new s.default.Geometry(m,g),y.call(b,1,0,1,m,g,v,!1),m<=24&&g<=16?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,b)),this._renderer.drawBuffersScaled(w,l,i,l),this},s.default.prototype.ellipsoid=function(l,i,m,g,v){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),l===void 0&&(l=50),i===void 0&&(i=l),m===void 0&&(m=l),v===void 0&&(v=16);var b,w="ellipsoid|".concat(g=g===void 0?24:g,"|").concat(v);return this._renderer.geometryInHash(w)||((b=new s.default.Geometry(g,v,function(){for(var S=0;S<=this.detailY;S++)for(var x=S/this.detailY,M=Math.PI*x-Math.PI/2,C=Math.cos(M),E=Math.sin(M),P=0;P<=this.detailX;P++){var D=P/this.detailX,U=2*Math.PI*D,I=Math.cos(U),U=Math.sin(U),U=new s.default.Vector(C*U,E,C*I);this.vertices.push(U),this.vertexNormals.push(U),this.uvs.push(D,x)}})).computeFaces(),g<=24&&v<=24?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(w,b)),this._renderer.drawBuffersScaled(w,l,i,m),this},s.default.prototype.torus=function(l,w,m,g){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),l===void 0)l=50;else if(!l)return;if(w===void 0)w=10;else if(!w)return;m===void 0&&(m=24),g===void 0&&(g=16);var v,b=(w/l).toPrecision(4),w="torus|".concat(b,"|").concat(m,"|").concat(g);return this._renderer.geometryInHash(w)||((v=new s.default.Geometry(m,g,function(){for(var S=0;S<=this.detailY;S++)for(var x=S/this.detailY,M=2*Math.PI*x,C=Math.cos(M),E=Math.sin(M),P=1+b*C,D=0;D<=this.detailX;D++){var I=D/this.detailX,U=2*Math.PI*I,W=Math.cos(U),U=Math.sin(U),G=new s.default.Vector(P*W,P*U,b*E),W=new s.default.Vector(C*W,C*U,E);this.vertices.push(G),this.vertexNormals.push(W),this.uvs.push(I,x)}})).computeFaces(),m<=24&&g<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,v)),this._renderer.drawBuffersScaled(w,l,l,l),this},s.default.RendererGL.prototype.point=function(l,i,m){var g=[];return g.push(new s.default.Vector(l,i,m=m===void 0?0:m)),this._drawPoints(g,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(w){var i=w[0],m=w[1],g=w[2],v=w[3],b=w[4],w=w[5],S=(this.geometryInHash("tri")||((S=new s.default.Geometry(1,1,function(){var M=[];M.push(new s.default.Vector(0,0,0)),M.push(new s.default.Vector(1,0,0)),M.push(new s.default.Vector(0,1,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._makeTriangleEdges()._edgesToVertices(),S.computeNormals(),this.createBuffers("tri",S)),this.uMVMatrix.copy());try{var x=new s.default.Matrix([g-i,v-m,0,0,b-i,w-m,0,0,0,0,1,0,i,m,0,1]).mult(this.uMVMatrix);this.uMVMatrix=x,this.drawBuffers("tri")}finally{this.uMVMatrix=S}return this},s.default.RendererGL.prototype.ellipse=function(l){this.arc(l[0],l[1],l[2],l[3],0,d.TWO_PI,d.OPEN,l[4])},s.default.RendererGL.prototype.arc=function(l){var i,m=arguments[1],g=arguments[2],v=arguments[3],b=arguments[4],w=arguments[5],S=arguments[6],x=arguments[7]||25,M=(Math.abs(w-b)>=d.TWO_PI?"".concat(C="ellipse","|"):"".concat(C="arc","|").concat(b,"|").concat(w,"|").concat(S,"|")).concat(x,"|"),C=(this.geometryInHash(M)||((i=new s.default.Geometry(x,1,function(){if(this.strokeIndices=[],b.toFixed(10)!==w.toFixed(10)){S!==d.PIE&&S!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var E=0;E<=x;E++){var D=(w-b)*(E/x)+b,P=.5+Math.cos(D)/2,D=.5+Math.sin(D)/2;this.vertices.push(new s.default.Vector(P,D,0)),this.uvs.push([P,D]),E<x-1&&(this.faces.push([0,E+1,E+2]),this.strokeIndices.push([E+1,E+2]))}switch(S){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case d.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),x<=50?i._makeTriangleEdges()._edgesToVertices(i):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(C," with more than 50 detail")),this.createBuffers(M,i)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([l,m,0]),this.uMVMatrix.scale(g,v,1),this.drawBuffers(M)}finally{this.uMVMatrix=C}return this},s.default.RendererGL.prototype.rect=function(l){var i=l[0],m=l[1],g=l[2],v=l[3];if(l[4]===void 0){var S=this._pInst._glAttributes.perPixelLighting,b=l[4]||(S?1:24),w=l[5]||(S?1:16),S="rect|".concat(b,"|").concat(w),x=(this.geometryInHash(S)||((x=new s.default.Geometry(b,w,function(){for(var oe=0;oe<=this.detailY;oe++)for(var ee=oe/this.detailY,le=0;le<=this.detailX;le++){var de=le/this.detailX,se=new s.default.Vector(de,ee,0);this.vertices.push(se),this.uvs.push(de,ee)}0<b&&0<w&&(this.strokeIndices=[[0,b],[b,(b+1)*(w+1)-1],[(b+1)*(w+1)-1,(b+1)*w],[(b+1)*w,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(S,x)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([i,m,0]),this.uMVMatrix.scale(g,v,1),this.drawBuffers(S)}finally{this.uMVMatrix=x}}else{var S=l[4],x=l[5]===void 0?S:l[5],M=l[6]===void 0?x:l[6],l=l[7]===void 0?M:l[7],U=g,C=v,D=((U+=i)<i&&(D=i,i=U,U=D),(C+=m)<m&&(D=m,m=C,C=D),Math.min((U-i)/2,(C-m)/2)),E=(D<S&&(S=D),D<x&&(x=D),D<M&&(M=D),D<l&&(l=D),i),P=m,D=U,i=C,I=(this.beginShape(),x!==0?(this.vertex(D-x,P),this.quadraticVertex(D,P,D,P+x)):this.vertex(D,P),M!==0?(this.vertex(D,i-M),this.quadraticVertex(D,i,D-M,i)):this.vertex(D,i),l!==0?(this.vertex(E+l,i),this.quadraticVertex(E,i,E,i-l)):this.vertex(E,i),S!==0?(this.vertex(E,P+S),this.quadraticVertex(E,P,E+S,P)):this.vertex(E,P),!(this.immediateMode.geometry.uvs.length=0)),m=!1,U=void 0;try{for(var G,W=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(G=W.next()).done);I=!0){var te=G.value,Q=(te.x-E)/g,J=(te.y-P)/v;this.immediateMode.geometry.uvs.push(Q,J)}}catch(O){m=!0,U=O}finally{try{I||W.return==null||W.return()}finally{if(m)throw U}}this.endShape(d.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(l,i,m,g,v,b,w,S,x,M,C,E,P,D){P===void 0&&(P=2),D===void 0&&(D=2);var I="quad|".concat(l,"|").concat(i,"|").concat(m,"|").concat(g,"|").concat(v,"|").concat(b,"|").concat(w,"|").concat(S,"|").concat(x,"|").concat(M,"|").concat(C,"|").concat(E,"|").concat(P,"|").concat(D);if(!this.geometryInHash(I)){var U=new s.default.Geometry(P,D,function(){for(var oe=1/(this.detailX-1),ee=1/(this.detailY-1),le=0;le<this.detailY;le++)for(var de=0;de<this.detailX;de++){var se=de*oe,O=le*ee;this.vertices.push(new s.default.Vector((1-se)*((1-O)*l+O*M)+se*((1-O)*g+O*w),(1-se)*((1-O)*i+O*C)+se*((1-O)*v+O*S),(1-se)*((1-O)*m+O*E)+se*((1-O)*b+O*x))),this.uvs.push([se,O])}});U.faces=[];for(var G=0;G<D-1;G++)for(var W=0;W<P-1;W++){var te=W+G*P,Q=W+1+(G+1)*P,J=W+(G+1)*P;U.faces.push([te,W+1+G*P,Q]),U.faces.push([te,Q,J])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(I,U)}return this.drawBuffers(I),this},s.default.RendererGL.prototype.bezier=function(l,i,m,g,v,b,w,S,x,M,C,E){arguments.length===8&&(C=S,M=w,S=b,w=v,v=g,g=m,m=b=x=E=0);var P=this._pInst._bezierDetail||20;this.beginShape();for(var D=0;D<=P;D++){var I=Math.pow(1-D/P,3),U=D/P*3*Math.pow(1-D/P,2),G=3*Math.pow(D/P,2)*(1-D/P),W=Math.pow(D/P,3);this.vertex(l*I+g*U+w*G+M*W,i*I+v*U+S*G+C*W,m*I+b*U+x*G+E*W)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(l,i,m,g,v,b,w,S,x,M,C,E){arguments.length===8&&(M=w,C=S,w=v,S=g,v=g=m,m=b=x=E=0);var P=this._pInst._curveDetail;this.beginShape();for(var D=0;D<=P;D++){var I=.5*Math.pow(D/P,3),U=.5*Math.pow(D/P,2),G=D/P*.5;this.vertex(I*(3*g-l-3*w+M)+U*(2*l-5*g+4*w-M)+G*(-l+w)+2*g*.5,I*(3*v-i-3*S+C)+U*(2*i-5*v+4*S-C)+G*(-i+S)+2*v*.5,I*(3*b-m-3*x+E)+U*(2*m-5*b+4*x-E)+G*(-m+x)+2*b*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var l,i,m,g,v,b,w=[],S=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,C=0,E=1,P=0;C<1;){if(b=parseFloat(C.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(b),E.toFixed(6)===M.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(C.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(b);break}C+=M,E-=M,++P}}for(var D=this._lookUpTableBezier.length,I=[],U=0;U<4;U++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var G=[];for(U=0;U<4;U++)G.push([]);if(G[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),G[3]=this.curStrokeColor.slice(),x===6){this.isBezier=!0;var w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],S=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],W=Math.hypot(w[0]-w[1],S[0]-S[1]),Q=Math.hypot(w[1]-w[2],S[1]-S[2]),te=Math.hypot(w[2]-w[3],S[2]-S[3]),Q=W+Q+te;for(W/=Q,te/=Q,v=0;v<4;v++)I[1].push(I[0][v]*(1-W)+I[3][v]*W),I[2].push(I[0][v]*te+I[3][v]*(1-te)),G[1].push(G[0][v]*(1-W)+G[3][v]*W),G[2].push(G[0][v]*te+G[3][v]*(1-te));for(g=0;g<D;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=l=i=0;U<4;U++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableBezier[g][U]*I[U][v],this.curStrokeColor[v]+=this._lookUpTableBezier[g][U]*G[U][v];l+=w[U]*this._lookUpTableBezier[g][U],i+=S[U]*this._lookUpTableBezier[g][U]}this.vertex(l,i)}this.curFillColor=I[3],this.curStrokeColor=G[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(x===9){this.isBezier=!0,w=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],S=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var J=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],oe=Math.hypot(w[0]-w[1],S[0]-S[1],J[0]-J[1]),Q=Math.hypot(w[1]-w[2],S[1]-S[2],J[1]-J[2]),ee=Math.hypot(w[2]-w[3],S[2]-S[3],J[2]-J[3]),x=oe+Q+ee;for(oe/=x,ee/=x,v=0;v<4;v++)I[1].push(I[0][v]*(1-oe)+I[3][v]*oe),I[2].push(I[0][v]*ee+I[3][v]*(1-ee)),G[1].push(G[0][v]*(1-oe)+G[3][v]*oe),G[2].push(G[0][v]*ee+G[3][v]*(1-ee));for(g=0;g<D;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=l=i=m=0;U<4;U++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableBezier[g][U]*I[U][v],this.curStrokeColor[v]+=this._lookUpTableBezier[g][U]*G[U][v];l+=w[U]*this._lookUpTableBezier[g][U],i+=S[U]*this._lookUpTableBezier[g][U],m+=J[U]*this._lookUpTableBezier[g][U]}this.vertex(l,i,m)}this.curFillColor=I[3],this.curStrokeColor=G[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var l,i,m,g,v,b,w=[],S=[],x=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var M=1/this._lutQuadraticDetail,C=0,E=1,P=0;C<1;){if(b=parseFloat(C.toFixed(6)),this._lookUpTableQuadratic[P]=this._quadraticCoefficients(b),E.toFixed(6)===M.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(C.toFixed(6)),++P,this._lookUpTableQuadratic[P]=this._quadraticCoefficients(b);break}C+=M,E-=M,++P}}for(var D=this._lookUpTableQuadratic.length,I=[],U=0;U<3;U++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var G=[];for(U=0;U<3;U++)G.push([]);if(G[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),G[2]=this.curStrokeColor.slice(),x===4){this.isQuadratic=!0;var w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],S=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],W=Math.hypot(w[0]-w[1],S[0]-S[1]);for(W/=W+Math.hypot(w[1]-w[2],S[1]-S[2]),v=0;v<4;v++)I[1].push(I[0][v]*(1-W)+I[2][v]*W),G[1].push(G[0][v]*(1-W)+G[2][v]*W);for(g=0;g<D;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=l=i=0;U<3;U++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableQuadratic[g][U]*I[U][v],this.curStrokeColor[v]+=this._lookUpTableQuadratic[g][U]*G[U][v];l+=w[U]*this._lookUpTableQuadratic[g][U],i+=S[U]*this._lookUpTableQuadratic[g][U]}this.vertex(l,i)}this.curFillColor=I[2],this.curStrokeColor=G[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(x===6){this.isQuadratic=!0,w=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],S=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var te=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],Q=Math.hypot(w[0]-w[1],S[0]-S[1],te[0]-te[1]);for(Q/=Q+Math.hypot(w[1]-w[2],S[1]-S[2],te[1]-te[2]),v=0;v<4;v++)I[1].push(I[0][v]*(1-Q)+I[2][v]*Q),G[1].push(G[0][v]*(1-Q)+G[2][v]*Q);for(g=0;g<D;g++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],U=l=i=m=0;U<3;U++){for(v=0;v<4;v++)this.curFillColor[v]+=this._lookUpTableQuadratic[g][U]*I[U][v],this.curStrokeColor[v]+=this._lookUpTableQuadratic[g][U]*G[U][v];l+=w[U]*this._lookUpTableQuadratic[g][U],i+=S[U]*this._lookUpTableQuadratic[g][U],m+=te[U]*this._lookUpTableQuadratic[g][U]}this.vertex(l,i,m)}this.curFillColor=I[2],this.curStrokeColor=G[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var l,i,m,g,v,b,w=[],S=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var M=1/this._lutBezierDetail,C=0,E=1,P=0;C<1;){if(b=parseFloat(C.toFixed(6)),this._lookUpTableBezier[P]=this._bezierCoefficients(b),E.toFixed(6)===M.toFixed(6)){b=parseFloat(E.toFixed(6))+parseFloat(C.toFixed(6)),++P,this._lookUpTableBezier[P]=this._bezierCoefficients(b);break}C+=M,E-=M,++P}}var D=this._lookUpTableBezier.length;if(x===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),v=0;v<D;v++)i=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],m=S[0]*this._lookUpTableBezier[v][0]+S[1]*this._lookUpTableBezier[v][1]+S[2]*this._lookUpTableBezier[v][2]+S[3]*this._lookUpTableBezier[v][3],this.vertex(i,m);for(v=0;v<x;v++)this.immediateMode._curveVertex.shift()}}else if(x===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,w=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),l=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),v=0;v<D;v++)i=w[0]*this._lookUpTableBezier[v][0]+w[1]*this._lookUpTableBezier[v][1]+w[2]*this._lookUpTableBezier[v][2]+w[3]*this._lookUpTableBezier[v][3],m=S[0]*this._lookUpTableBezier[v][0]+S[1]*this._lookUpTableBezier[v][1]+S[2]*this._lookUpTableBezier[v][2]+S[3]*this._lookUpTableBezier[v][3],g=l[0]*this._lookUpTableBezier[v][0]+l[1]*this._lookUpTableBezier[v][1]+l[2]*this._lookUpTableBezier[v][2]+l[3]*this._lookUpTableBezier[v][3],this.vertex(i,m,g);for(v=0;v<x;v++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(l,E,m,P,v,b,w,S,x){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(l),this._pInst.textureMode(d.NORMAL);var M=0,C=(E<=l.width&&(M=E/l.width),1),E=(E+P<=l.width&&(C=(E+P)/l.width),0),P=(m<=l.height&&(E=m/l.height),1);m+v<=l.height&&(P=(m+v)/l.height),this.beginShape(),this.vertex(b,w,0,M,E),this.vertex(b+S,w,0,C,E),this.vertex(b+S,w+x,0,C,P),this.vertex(b,w+x,0,M,P),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var u=s.default;p.default=u},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../core/constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}s.default.prototype.orbitControl=function(u,l,i){var m,g;if(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return m=this._renderer._curCamera,u===void 0&&(u=1),l===void 0&&(l=u),i===void 0&&(i=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),g=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,i*g):this._renderer._curCamera._orbit(0,0,-i*g)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(i=-u*(this.mouseX-this.pmouseX)/g,g=l*(this.mouseY-this.pmouseY)/g,this._renderer._curCamera._orbit(i,g,0)):this.mouseButton===this.RIGHT&&(i=m._getLocalAxes(),(g=Math.sqrt(i.x[0]*i.x[0]+i.x[2]*i.x[2]))!==0&&(i.x[0]/=g,i.x[2]/=g),(g=Math.sqrt(i.y[0]*i.y[0]+i.y[2]*i.y[2]))!==0&&(i.y[0]/=g,i.y[2]/=g),g=-1*u*(this.mouseX-this.pmouseX),u=-1*l*(this.mouseY-this.pmouseY),m.setPosition(m.eyeX+g*i.x[0]+u*i.z[0],m.eyeY,m.eyeZ+g*i.x[2]+u*i.z[2]))),this},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var u=arguments.length,l=new Array(u),i=0;i<u;i++)l[i]=arguments[i];s.default._validateParameters("debugMode",l);for(var m=this._registeredMethods.post.length-1;0<=m;m--)this._registeredMethods.post[m].toString()!==this._grid().toString()&&this._registeredMethods.post[m].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(m,1);l[0]===d.GRID?this.registerMethod("post",this._grid.call(this,l[1],l[2],l[3],l[4],l[5])):l[0]===d.AXES?this.registerMethod("post",this._axesIcon.call(this,l[1],l[2],l[3],l[4])):(this.registerMethod("post",this._grid.call(this,l[0],l[1],l[2],l[3],l[4])),this.registerMethod("post",this._axesIcon.call(this,l[5],l[6],l[7],l[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var u=this._registeredMethods.post.length-1;0<=u;u--)this._registeredMethods.post[u].toString()!==this._grid().toString()&&this._registeredMethods.post[u].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(u,1)},s.default.prototype._grid=function(u,l,i,m,g){u===void 0&&(u=this.width/2),l===void 0&&(l=Math.round(u/30)<4?4:Math.round(u/30)),i===void 0&&(i=0),m===void 0&&(m=0),g===void 0&&(g=0);var v=u/l,b=u/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var w=0;w<=l;w++)this.beginShape(this.LINES),this.vertex(-b+i,m,w*v-b+g),this.vertex(b+i,m,w*v-b+g),this.endShape();for(var S=0;S<=l;S++)this.beginShape(this.LINES),this.vertex(S*v-b+i,m,-b+g),this.vertex(S*v-b+i,m,b+g),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(u,l,i,m){return u===void 0&&(u=40<this.width/20?this.width/20:40),l===void 0&&(l=-this.width/4),i===void 0&&(i=l),m===void 0&&(m=l),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(l,i,m),this.vertex(l+u,i,m),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(l,i,m),this.vertex(l,i+u,m),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(l,i,m),this.vertex(l,i,m+u),this.endShape(),this.pop()}};var y=s.default;p.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../core/constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}s.default.prototype.ambientLight=function(u,l,i,m){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var g=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(g._array[0],g._array[1],g._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(u,l,i){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var m=this.color.apply(this,arguments);return this._renderer.specularColors=[m._array[0],m._array[1],m._array[2]],this},s.default.prototype.directionalLight=function(u,x,S,m,g,v){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),u=u instanceof s.default.Color?u:this.color(u,x,S);var b,w,x=arguments[arguments.length-1],S=typeof x=="number"?(b=arguments[arguments.length-3],w=arguments[arguments.length-2],arguments[arguments.length-1]):(b=x.x,w=x.y,x.z),x=Math.sqrt(b*b+w*w+S*S);return this._renderer.directionalLightDirections.push(b/x,w/x,S/x),this._renderer.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(u,S,x,m,g,v){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),u=u instanceof s.default.Color?u:this.color(u,S,x);var b,w,S=arguments[arguments.length-1],x=typeof S=="number"?(b=arguments[arguments.length-3],w=arguments[arguments.length-2],arguments[arguments.length-1]):(b=S.x,w=S.y,S.z);return this._renderer.pointLightPositions.push(b,w,x),this._renderer.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.lights=function(){var u;return this._assert3d("lights"),this._colorMode===d.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(u=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,u),this.directionalLight(0,0,u,0,0,-1)),this},s.default.prototype.lightFalloff=function(u,l,i){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),u<0&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),l<0&&(l=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),u===0&&l===0&&i===0&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=l,this._renderer.quadraticAttenuation=i,this},s.default.prototype.spotLight=function(u,l,i,m,g,v,b,w,S,x,M){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var C,E,P,D=arguments.length;switch(D){case 11:case 10:C=this.color(u,l,i),E=new s.default.Vector(m,g,v),P=new s.default.Vector(b,w,S);break;case 9:u instanceof s.default.Color?(C=u,E=new s.default.Vector(l,i,m),P=new s.default.Vector(g,v,b),x=w,M=S):m instanceof s.default.Vector?(C=this.color(u,l,i),E=m,P=new s.default.Vector(g,v,b),x=w,M=S):b instanceof s.default.Vector?(C=this.color(u,l,i),E=new s.default.Vector(m,g,v),P=b,x=w,M=S):(C=this.color(u,l,i),E=new s.default.Vector(m,g,v),P=new s.default.Vector(b,w,S));break;case 8:x=(P=u instanceof s.default.Color?(C=u,E=new s.default.Vector(l,i,m),new s.default.Vector(g,v,b)):m instanceof s.default.Vector?(C=this.color(u,l,i),E=m,new s.default.Vector(g,v,b)):(C=this.color(u,l,i),E=new s.default.Vector(m,g,v),b),w);break;case 7:u instanceof s.default.Color&&l instanceof s.default.Vector?(C=u,E=l,P=new s.default.Vector(i,m,g),x=v,M=b):u instanceof s.default.Color&&g instanceof s.default.Vector?(C=u,E=new s.default.Vector(l,i,m),P=g,x=v,M=b):m instanceof s.default.Vector&&g instanceof s.default.Vector?(C=this.color(u,l,i),E=m,P=g,x=v,M=b):P=u instanceof s.default.Color?(C=u,E=new s.default.Vector(l,i,m),new s.default.Vector(g,v,b)):m instanceof s.default.Vector?(C=this.color(u,l,i),E=m,new s.default.Vector(g,v,b)):(C=this.color(u,l,i),E=new s.default.Vector(m,g,v),b);break;case 6:m instanceof s.default.Vector&&g instanceof s.default.Vector?(C=this.color(u,l,i),E=m,P=g,x=v):u instanceof s.default.Color&&g instanceof s.default.Vector?(C=u,E=new s.default.Vector(l,i,m),P=g,x=v):u instanceof s.default.Color&&l instanceof s.default.Vector&&(C=u,E=l,P=new s.default.Vector(i,m,g),x=v);break;case 5:u instanceof s.default.Color&&l instanceof s.default.Vector&&i instanceof s.default.Vector?(C=u,E=l,P=i,x=m,M=g):m instanceof s.default.Vector&&g instanceof s.default.Vector?(C=this.color(u,l,i),E=m,P=g):u instanceof s.default.Color&&g instanceof s.default.Vector?(C=u,E=new s.default.Vector(l,i,m),P=g):u instanceof s.default.Color&&l instanceof s.default.Vector&&(C=u,E=l,P=new s.default.Vector(i,m,g));break;case 4:C=u,E=l,P=i,x=m;break;case 3:C=u,E=l,P=i;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(D<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(C._array[0],C._array[1],C._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(E.x,E.y,E.z),P.normalize(),this._renderer.spotLightDirections.push(P.x,P.y,P.z),x===void 0&&(x=Math.PI/3),M!==void 0&&M<1?(M=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):M===void 0&&(M=100),x=this._renderer._pInst._toRadians(x),this._renderer.spotLightAngle.push(Math.cos(x)),this._renderer.spotLightConc.push(M),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){return this._assert3d("noLights"),s.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var y=s.default;p.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(t,h,p){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(a=t("../core/main"))&&a.__esModule?a:{default:a};t("./p5.Geometry"),c.default.prototype.loadModel=function(s){c.default._validateParameters("loadModel",arguments);var d,f,y,u=s.slice(-4),l=(typeof arguments[1]=="boolean"?(d=arguments[1],f=arguments[2],y=arguments[3],arguments[4]!==void 0&&(u=arguments[4])):(d=!1,f=arguments[1],y=arguments[2],arguments[3]!==void 0&&(u=arguments[3])),new c.default.Geometry),i=(l.gid="".concat(s,"|").concat(d),this);return u.match(/\.stl$/i)?this.httpDo(s,"GET","arrayBuffer",function(m){(function(g,v){if(function(b){for(var w=new DataView(b),S=[115,111,108,105,100],x=0;x<5;x++)if(function(M,C,E){for(var P=0,D=M.length;P<D;P++)if(M[P]!==C.getUint8(E+P,!1))return;return 1}(S,w,x))return;return 1}(v))(function(b,w){for(var S,x,M,C,E,P,D,I=new DataView(w),U=I.getUint32(80,!0),G=!1,W=0;W<70;W++)I.getUint32(W,!1)===1129270351&&I.getUint8(W+4)===82&&I.getUint8(W+5)===61&&(G=!0,C=[],E=I.getUint8(W+6)/255,P=I.getUint8(W+7)/255,D=I.getUint8(W+8)/255);for(var te=0;te<U;te++){for(var Q,J=84+50*te,oe=I.getFloat32(J,!0),ee=I.getFloat32(4+J,!0),le=I.getFloat32(8+J,!0),de=(G&&(Q=I.getUint16(48+J,!0),M=(32768&Q)==0?(S=(31&Q)/31,x=(Q>>5&31)/31,(Q>>10&31)/31):(S=E,x=P,D)),new c.default.Vector(oe,ee,le)),se=1;se<=3;se++){var O=J+12*se,O=new c.default.Vector(I.getFloat32(O,!0),I.getFloat32(4+O,!0),I.getFloat32(8+O,!0));b.vertices.push(O),b.vertexNormals.push(de),G&&C.push(S,x,M)}b.faces.push([3*te,3*te+1,3*te+2]),b.uvs.push([0,0],[0,0],[0,0])}})(g,v);else{if(v=new DataView(v),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");v=new TextDecoder("utf-8").decode(v).split(`
`),function(b,w){for(var S,x,M="",C=[],E=0;E<w.length;++E){for(var P=w[E].trim(),D=P.split(" "),I=0;I<D.length;++I)D[I]===""&&D.splice(I,1);if(D.length!==0)switch(M){case"":if(D[0]!=="solid")return console.error(P),console.error('Invalid state "'.concat(D[0],'", should be "solid"'));M="solid";break;case"solid":if(D[0]!=="facet"||D[1]!=="normal")return console.error(P),console.error('Invalid state "'.concat(D[0],'", should be "facet normal"'));S=new c.default.Vector(parseFloat(D[2]),parseFloat(D[3]),parseFloat(D[4])),b.vertexNormals.push(S,S,S),M="facet normal";break;case"facet normal":if(D[0]!=="outer"||D[1]!=="loop")return console.error(P),console.error('Invalid state "'.concat(D[0],'", should be "outer loop"'));M="vertex";break;case"vertex":if(D[0]==="vertex")x=new c.default.Vector(parseFloat(D[1]),parseFloat(D[2]),parseFloat(D[3])),b.vertices.push(x),b.uvs.push([0,0]),C.push(b.vertices.indexOf(x));else{if(D[0]!=="endloop")return console.error(P),console.error('Invalid state "'.concat(D[0],'", should be "vertex" or "endloop"'));b.faces.push(C),C=[],M="endloop"}break;case"endloop":if(D[0]!=="endfacet")return console.error(P),console.error('Invalid state "'.concat(D[0],'", should be "endfacet"'));M="endfacet";break;case"endfacet":if(D[0]!=="endsolid"){if(D[0]!=="facet"||D[1]!=="normal")return console.error(P),console.error('Invalid state "'.concat(D[0],'", should be "endsolid" or "facet normal"'));S=new c.default.Vector(parseFloat(D[2]),parseFloat(D[3]),parseFloat(D[4])),b.vertexNormals.push(S,S,S),M="facet normal"}break;default:console.error('Invalid state "'.concat(M,'"'))}}}(g,v)}})(l,m),d&&l.normalize(),i._decrementPreload(),typeof f=="function"&&f(l)},y):u.match(/\.obj$/i)?this.loadStrings(s,function(m){for(var g=l,v=m,b={v:[],vt:[],vn:[]},w={},S=0;S<v.length;++S){var x=v[S].trim().split(/\b\s+/);if(0<x.length){if(x[0]==="v"||x[0]==="vn"){var M=new c.default.Vector(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));b[x[0]].push(M)}else if(x[0]==="vt")M=[parseFloat(x[1]),1-parseFloat(x[2])],b[x[0]].push(M);else if(x[0]==="f")for(var C=3;C<x.length;++C){for(var E=[],P=[1,C-1,C],D=0;D<P.length;++D){var I=x[P[D]],U=0;if(w[I]!==void 0)U=w[I];else{for(var G=I.split("/"),W=0;W<G.length;W++)G[W]=parseInt(G[W])-1;U=w[I]=g.vertices.length,g.vertices.push(b.v[G[0]].copy()),b.vt[G[1]]?g.uvs.push(b.vt[G[1]].slice()):g.uvs.push([0,0]),b.vn[G[2]]&&g.vertexNormals.push(b.vn[G[2]].copy())}E.push(U)}E[0]!==E[1]&&E[0]!==E[2]&&E[1]!==E[2]&&g.faces.push(E)}}}g.vertexNormals.length===0&&g.computeNormals(),d&&l.normalize(),i._decrementPreload(),typeof f=="function"&&f(l)},y):(c.default._friendlyFileLoadError(3,s),y?y():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),l},c.default.prototype.model=function(s){this._assert3d("model"),c.default._validateParameters("model",arguments),0<s.vertices.length&&(this._renderer.geometryInHash(s.gid)||(s._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(s.gid,s)),this._renderer.drawBuffers(s.gid))};var a=c.default;p.default=a},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.join"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../core/constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}t("./p5.Texture"),s.default.prototype.loadShader=function(u,l,i,m){s.default._validateParameters("loadShader",arguments),m=m||console.error;function g(){b._decrementPreload(),i&&i(v)}var v=new s.default.Shader,b=this,w=!1,S=!1;return this.loadStrings(u,function(x){v._vertSrc=x.join(`
`),S=!0,w&&g()},m),this.loadStrings(l,function(x){v._fragSrc=x.join(`
`),w=!0,S&&g()},m),v},s.default.prototype.createShader=function(u,l){return this._assert3d("createShader"),s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,u,l)},s.default.prototype.shader=function(u){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),u._renderer===void 0&&(u._renderer=this._renderer),u.init(),u.isStrokeShader()?this._renderer.userStrokeShader=u:(this._renderer.userFillShader=u,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(u){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),u.gifProperties&&u._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=u,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(u){u!==d.IMAGE&&u!==d.NORMAL?console.warn("You tried to set ".concat(u," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=u},s.default.prototype.textureWrap=function(u){for(var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:u,i=(this._renderer.textureWrapX=u,this._renderer.textureWrapY=l,this._renderer.textures),m=0;m<i.length;m++)i[m].setWrapMode(u,l)},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var u=arguments.length,l=new Array(u),i=0;i<u;i++)l[i]=arguments[i];return s.default._validateParameters("normalMaterial",l),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(u,l,i){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var m=s.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=m._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(u,l,i,m){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var g=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=g._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.specularMaterial=function(u,l,i,m){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var g=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=g._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.shininess=function(u){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=u=u<1?1:u,this},s.default.RendererGL.prototype._applyColorBlend=function(u){var l=this.GL,i=this.drawMode===d.TEXTURE,i=this.userFillShader||this.userStrokeShader||this.userPointShader||i||this.curBlendMode!==d.BLEND||u[u.length-1]<1||this._isErasing;return i!==this._isBlending&&(i||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?l.enable(l.BLEND):l.disable(l.BLEND),l.depthMask(!0),this._isBlending=i),this._applyBlendMode(),u},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var u=this.GL;switch(this.curBlendMode){case d.BLEND:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_ALPHA);break;case d.ADD:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.ONE,u.ONE);break;case d.REMOVE:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.ZERO,u.ONE_MINUS_SRC_ALPHA);break;case d.MULTIPLY:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.DST_COLOR,u.ONE_MINUS_SRC_ALPHA);break;case d.SCREEN:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.ONE,u.ONE_MINUS_SRC_COLOR);break;case d.EXCLUSION:u.blendEquationSeparate(u.FUNC_ADD,u.FUNC_ADD),u.blendFuncSeparate(u.ONE_MINUS_DST_COLOR,u.ONE_MINUS_SRC_COLOR,u.ONE,u.ONE);break;case d.REPLACE:u.blendEquation(u.FUNC_ADD),u.blendFunc(u.ONE,u.ZERO);break;case d.SUBTRACT:u.blendEquationSeparate(u.FUNC_REVERSE_SUBTRACT,u.FUNC_ADD),u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE_MINUS_SRC_ALPHA);break;case d.DARKEST:this.blendExt?(u.blendEquationSeparate(this.blendExt.MIN_EXT,u.FUNC_ADD),u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(u.blendEquationSeparate(this.blendExt.MAX_EXT,u.FUNC_ADD),u.blendFuncSeparate(u.ONE,u.ONE,u.ONE,u.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=s.default;p.default=y},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(t,h,p){Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.prototype.camera=function(){var a;this._assert3d("camera");for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return c.default._validateParameters("camera",d),(a=this._renderer._curCamera).camera.apply(a,d),this},c.default.prototype.perspective=function(){var a;this._assert3d("perspective");for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return c.default._validateParameters("perspective",d),(a=this._renderer._curCamera).perspective.apply(a,d),this},c.default.prototype.ortho=function(){var a;this._assert3d("ortho");for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return c.default._validateParameters("ortho",d),(a=this._renderer._curCamera).ortho.apply(a,d),this},c.default.prototype.frustum=function(){var a;this._assert3d("frustum");for(var s=arguments.length,d=new Array(s),f=0;f<s;f++)d[f]=arguments[f];return c.default._validateParameters("frustum",d),(a=this._renderer._curCamera).frustum.apply(a,d),this},c.default.prototype.createCamera=function(){this._assert3d("createCamera");var a=new c.default.Camera(this._renderer);return a._computeCameraDefaultSettings(),a._setDefaultCamera(),this._renderer._curCamera=a},c.default.Camera=function(a){this._renderer=a,this.cameraType="default",this.cameraMatrix=new c.default.Matrix,this.projMatrix=new c.default.Matrix},c.default.Camera.prototype.perspective=function(y,s,d,f){this.cameraType=0<arguments.length?"custom":"default",y===void 0?(y=this.defaultCameraFOV,this.cameraFOV=y):this.cameraFOV=this._renderer._pInst._toRadians(y),s===void 0&&(s=this.defaultAspectRatio),d===void 0&&(d=this.defaultCameraNear),f===void 0&&(f=this.defaultCameraFar),d<=1e-4&&(d=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),f<d&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=s,this.cameraNear=d,this.cameraFar=f,this.projMatrix=c.default.Matrix.identity();var y=1/Math.tan(this.cameraFOV/2),u=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(y/s,0,0,0,0,-y,0,0,0,0,(f+d)*u,-1,0,0,2*f*d*u,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},c.default.Camera.prototype.ortho=function(w,b,d,f,y,u){w===void 0&&(w=-this._renderer.width/2),b===void 0&&(b=+this._renderer.width/2),d===void 0&&(d=-this._renderer.height/2),y===void 0&&(y=0);var S=b-w,l=(f=f===void 0?+this._renderer.height/2:f)-d,i=(u=u===void 0?Math.max(this._renderer.width,this._renderer.height):u)-y,m=2/S,g=2/l,v=-2/i,b=-(b+w)/S,w=-(f+d)/l,S=-(u+y)/i;this.projMatrix=c.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,-g,0,0,0,0,v,0,b,w,S,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},c.default.Camera.prototype.frustum=function(w,b,d,f,y,u){w===void 0&&(w=-this._renderer.width/2),b===void 0&&(b=+this._renderer.width/2),d===void 0&&(d=-this._renderer.height/2),y===void 0&&(y=0);var S=b-w,l=(f=f===void 0?+this._renderer.height/2:f)-d,i=(u=u===void 0?Math.max(this._renderer.width,this._renderer.height):u)-y,m=2*y/S,g=2*y/l,v=-2*u*y/i,b=(b+w)/S,w=(f+d)/l,S=-(u+y)/i;this.projMatrix=c.default.Matrix.identity(),this.projMatrix.set(m,0,0,0,0,g,0,0,b,w,S,-1,0,0,v,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},c.default.Camera.prototype._rotateView=function(m,s,d,f){var y=this.centerX,u=this.centerY,l=this.centerZ,i=(y-=this.eyeX,u-=this.eyeY,l-=this.eyeZ,c.default.Matrix.identity(this._renderer._pInst)),m=(i.rotate(this._renderer._pInst._toRadians(m),s,d,f),[y*i.mat4[0]+u*i.mat4[4]+l*i.mat4[8],y*i.mat4[1]+u*i.mat4[5]+l*i.mat4[9],y*i.mat4[2]+u*i.mat4[6]+l*i.mat4[10]]);m[0]+=this.eyeX,m[1]+=this.eyeY,m[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,m[0],m[1],m[2],this.upX,this.upY,this.upZ)},c.default.Camera.prototype.pan=function(a){var s=this._getLocalAxes();this._rotateView(a,s.y[0],s.y[1],s.y[2])},c.default.Camera.prototype.tilt=function(a){var s=this._getLocalAxes();this._rotateView(a,s.x[0],s.x[1],s.x[2])},c.default.Camera.prototype.lookAt=function(a,s,d){this.camera(this.eyeX,this.eyeY,this.eyeZ,a,s,d,this.upX,this.upY,this.upZ)},c.default.Camera.prototype.camera=function(a,s,d,f,y,u,l,i,m){return a===void 0&&(a=this.defaultEyeX,s=this.defaultEyeY,d=this.defaultEyeZ,f=a,y=s,i=1,m=l=u=0),this.eyeX=a,this.eyeY=s,this.eyeZ=d,f!==void 0&&(this.centerX=f,this.centerY=y,this.centerZ=u),l!==void 0&&(this.upX=l,this.upY=i,this.upZ=m),f=this._getLocalAxes(),this.cameraMatrix.set(f.x[0],f.y[0],f.z[0],0,f.x[1],f.y[1],f.z[1],0,f.x[2],f.y[2],f.z[2],0,0,0,0,1),y=-a,this.cameraMatrix.translate([y,-s,-d]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},c.default.Camera.prototype.move=function(f,y,d){var u=this._getLocalAxes(),f=[u.x[0]*f,u.x[1]*f,u.x[2]*f],y=[u.y[0]*y,u.y[1]*y,u.y[2]*y],u=[u.z[0]*d,u.z[1]*d,u.z[2]*d];this.camera(this.eyeX+f[0]+y[0]+u[0],this.eyeY+f[1]+y[1]+u[1],this.eyeZ+f[2]+y[2]+u[2],this.centerX+f[0]+y[0]+u[0],this.centerY+f[1]+y[1]+u[1],this.centerZ+f[2]+y[2]+u[2],this.upX,this.upY,this.upZ)},c.default.Camera.prototype.setPosition=function(a,s,d){var f=a-this.eyeX,y=s-this.eyeY,u=d-this.eyeZ;this.camera(a,s,d,this.centerX+f,this.centerY+y,this.centerZ+u,this.upX,this.upY,this.upZ)},c.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},c.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},c.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},c.default.Camera.prototype.copy=function(){var a=new c.default.Camera(this._renderer);return a.cameraFOV=this.cameraFOV,a.aspectRatio=this.aspectRatio,a.eyeX=this.eyeX,a.eyeY=this.eyeY,a.eyeZ=this.eyeZ,a.centerX=this.centerX,a.centerY=this.centerY,a.centerZ=this.centerZ,a.cameraNear=this.cameraNear,a.cameraFar=this.cameraFar,a.cameraType=this.cameraType,a.cameraMatrix=this.cameraMatrix.copy(),a.projMatrix=this.projMatrix.copy(),a},c.default.Camera.prototype._getLocalAxes=function(){var a=this.eyeX-this.centerX,s=this.eyeY-this.centerY,d=this.eyeZ-this.centerZ,l=Math.sqrt(a*a+s*s+d*d),l=(l!==0&&(a/=l,s/=l,d/=l),this.upX),f=(i=this.upY)*d-(m=this.upZ)*s,y=-l*d+m*a,u=l*s-i*a,l=s*u-d*y,i=-a*u+d*f,m=a*y-s*f,g=Math.sqrt(f*f+y*y+u*u),g=(g!==0&&(f/=g,y/=g,u/=g),Math.sqrt(l*l+i*i+m*m));return g!==0&&(l/=g,i/=g,m/=g),{x:[f,y,u],y:[l,i,m],z:[a,s,d]}},c.default.Camera.prototype._orbit=function(i,m,g){var y=this.eyeX-this.centerX,l=this.eyeY-this.centerY,u=this.eyeZ-this.centerZ,f=Math.sqrt(y*y+l*l+u*u),y=Math.atan2(y,u),u=Math.acos(Math.max(-1,Math.min(1,l/f))),l=0<this.upY?1:-1,i=(y+=l*i,((u+=l*m)<=0||u>=Math.PI)&&(l*=-1),(f+=g)<0&&(f=.1),Math.sin(u)*f*Math.sin(y)),m=Math.cos(u)*f,g=Math.sin(u)*f*Math.cos(y);this.camera(i+this.centerX,m+this.centerY,g+this.centerZ,this.centerX,this.centerY,this.centerZ,0,l,0)},c.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},c.default.prototype.setCamera=function(a){this._renderer._curCamera=a,this._renderer.uPMatrix.set(a.projMatrix.mat4[0],a.projMatrix.mat4[1],a.projMatrix.mat4[2],a.projMatrix.mat4[3],a.projMatrix.mat4[4],a.projMatrix.mat4[5],a.projMatrix.mat4[6],a.projMatrix.mat4[7],a.projMatrix.mat4[8],a.projMatrix.mat4[9],a.projMatrix.mat4[10],a.projMatrix.mat4[11],a.projMatrix.mat4[12],a.projMatrix.mat4[13],a.projMatrix.mat4[14],a.projMatrix.mat4[15])},t=c.default.Camera,p.default=t},{"../core/main":267}],316:[function(t,h,p){t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.Geometry=function(a,s,d){return this.vertices=[],this.lineVertices=[],this.lineTangentsIn=[],this.lineTangentsOut=[],this.lineSides=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=[],this.detailX=a!==void 0?a:1,this.detailY=s!==void 0?s:1,this.dirtyFlags={},d instanceof Function&&d.call(this),this},c.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},c.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var a,s,d,f=this.detailX+1,y=0;y<this.detailY;y++)for(var u=0;u<this.detailX;u++)s=(y+1)*f+u+1,this.faces.push([y*f+u,a=y*f+u+1,d=(y+1)*f+u]),this.faces.push([d,a,s]);return this},c.default.Geometry.prototype._getFaceNormal=function(s){var s=this.faces[s],d=this.vertices[s[0]],y=this.vertices[s[1]],s=this.vertices[s[2]],y=c.default.Vector.sub(y,d),s=c.default.Vector.sub(s,d),d=c.default.Vector.cross(y,s),f=c.default.Vector.mag(d),y=f/(c.default.Vector.mag(y)*c.default.Vector.mag(s));return y===0||isNaN(y)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),d):(1<y&&(y=1),d.mult(Math.asin(y)/f))},c.default.Geometry.prototype.computeNormals=function(){for(var a=this.vertexNormals,s=this.vertices,d=this.faces,f=a.length=0;f<s.length;++f)a.push(new c.default.Vector);for(var y=0;y<d.length;++y)for(var u=d[y],l=this._getFaceNormal(y),i=0;i<3;++i)a[u[i]].add(l);for(f=0;f<s.length;++f)a[f].normalize();return this},c.default.Geometry.prototype.averageNormals=function(){for(var a=0;a<=this.detailY;a++){var s=this.detailX+1,d=c.default.Vector.add(this.vertexNormals[a*s],this.vertexNormals[a*s+this.detailX]),d=c.default.Vector.div(d,2);this.vertexNormals[a*s]=d,this.vertexNormals[a*s+this.detailX]=d}return this},c.default.Geometry.prototype.averagePoleNormals=function(){for(var a=new c.default.Vector(0,0,0),s=0;s<this.detailX;s++)a.add(this.vertexNormals[s]);for(var a=c.default.Vector.div(a,this.detailX),d=0;d<this.detailX;d++)this.vertexNormals[d]=a;a=new c.default.Vector(0,0,0);for(var f=this.vertices.length-1;f>this.vertices.length-1-this.detailX;f--)a.add(this.vertexNormals[f]);a=c.default.Vector.div(a,this.detailX);for(var y=this.vertices.length-1;y>this.vertices.length-1-this.detailX;y--)this.vertexNormals[y]=a;return this},c.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var a=0,s=this.strokeIndices.length;a<s;a++)this.edges.push(this.strokeIndices[a]);else for(var d=0;d<this.faces.length;d++)this.edges.push([this.faces[d][0],this.faces[d][1]]),this.edges.push([this.faces[d][1],this.faces[d][2]]),this.edges.push([this.faces[d][2],this.faces[d][0]]);return this},c.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0,this.lineTangentsIn.length=0,this.lineTangentsOut.length=0,this.lineSides.length=0;for(var a,s=1<this.edges.length&&this.edges[0][0]===this.edges[this.edges.length-1][1],d=!1,f=0;f<this.edges.length;f++){var y=this.edges[f-1],u=this.edges[f],l=this.vertices[u[0]],i=this.vertices[u[1]],m=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*u[0],4*(u[0]+1)):[0,0,0,0],g=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*u[1],4*(u[1]+1)):[0,0,0,0],v=i.copy().sub(l).normalize(),b=0<v.magSq();b&&this._addSegment(l,i,m,g,v),0<f&&y[1]===u[0]?(a&&b&&v.dot(a)<1-1e-8&&this._addJoin(l,a,v,m),!b||d||s||(this._addCap(l,v.copy().mult(-1),m),d=!0)):(d=!1,b&&(!s||0<f)&&(this._addCap(l,v.copy().mult(-1),m),d=!0),a&&(!s||f<this.edges.length-1)&&(this._addCap(this.vertices[y[1]],a,m),a=void 0)),f===this.edges.length-1&&(s?this._addJoin(i,v,this.vertices[this.edges[0][1]].copy().sub(i).normalize(),g):this._addCap(i,v,g)),b&&(a=v)}return this},c.default.Geometry.prototype._addSegment=function(u,l,d,f,y){var u=u.array(),l=l.array(),i=y.array();this.lineSides.push(1,-1,1,1,-1,-1);for(var m=0,g=[this.lineTangentsIn,this.lineTangentsOut];m<g.length;m++)g[m].push(i,i,i,i,i,i);return this.lineVertices.push(u,u,l,l,u,l),this.lineVertexColors.push(d,d,f,f,d,f),this},c.default.Geometry.prototype._addCap=function(a,s,d){for(var f=a.array(),y=s.array(),u=[0,0,0],l=0;l<6;l++)this.lineVertices.push(f),this.lineTangentsIn.push(y),this.lineTangentsOut.push(u),this.lineVertexColors.push(d);return this.lineSides.push(-1,-2,2,2,1,-1),this},c.default.Geometry.prototype._addJoin=function(a,s,d,f){for(var y=a.array(),u=s.array(),l=d.array(),i=0;i<12;i++)this.lineVertices.push(y),this.lineTangentsIn.push(u),this.lineTangentsOut.push(l),this.lineVertexColors.push(f);for(var m=0,g=[-1,1];m<g.length;m++){var v=g[m];this.lineSides.push(v,2*v,3*v,v,3*v,0)}return this},c.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var a=this.vertices[0].copy(),s=this.vertices[0].copy(),d=0;d<this.vertices.length;d++)a.x=Math.max(a.x,this.vertices[d].x),s.x=Math.min(s.x,this.vertices[d].x),a.y=Math.max(a.y,this.vertices[d].y),s.y=Math.min(s.y,this.vertices[d].y),a.z=Math.max(a.z,this.vertices[d].z),s.z=Math.min(s.z,this.vertices[d].z);for(var f=c.default.Vector.lerp(a,s,.5),y=c.default.Vector.sub(a,s),u=200/Math.max(Math.max(y.x,y.y),y.z),l=0;l<this.vertices.length;l++)this.vertices[l].sub(f),this.vertices[l].mult(u)}return this},t=c.default.Geometry,p.default=t},{"../core/main":267,"core-js/modules/es.array.slice":162,"core-js/modules/es.string.sub":192}],317:[function(d,h,p){d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.typed-array.float32-array"),d("core-js/modules/es.typed-array.copy-within"),d("core-js/modules/es.typed-array.every"),d("core-js/modules/es.typed-array.fill"),d("core-js/modules/es.typed-array.filter"),d("core-js/modules/es.typed-array.find"),d("core-js/modules/es.typed-array.find-index"),d("core-js/modules/es.typed-array.for-each"),d("core-js/modules/es.typed-array.includes"),d("core-js/modules/es.typed-array.index-of"),d("core-js/modules/es.typed-array.iterator"),d("core-js/modules/es.typed-array.join"),d("core-js/modules/es.typed-array.last-index-of"),d("core-js/modules/es.typed-array.map"),d("core-js/modules/es.typed-array.reduce"),d("core-js/modules/es.typed-array.reduce-right"),d("core-js/modules/es.typed-array.reverse"),d("core-js/modules/es.typed-array.set"),d("core-js/modules/es.typed-array.slice"),d("core-js/modules/es.typed-array.some"),d("core-js/modules/es.typed-array.sort"),d("core-js/modules/es.typed-array.subarray"),d("core-js/modules/es.typed-array.to-locale-string"),d("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(d=d("../core/main"))&&d.__esModule?d:{default:d},a=Array,s=function(f){return f instanceof Array},d=(typeof Float32Array<"u"&&(a=Float32Array,s=function(f){return f instanceof Array||f instanceof Float32Array}),c.default.Matrix=function(){for(var f=new Array(arguments.length),y=0;y<f.length;++y)f[y]=arguments[y];return f.length&&f[f.length-1]instanceof c.default&&(this.p5=f[f.length-1]),f[0]==="mat3"?this.mat3=Array.isArray(f[1])?f[1]:new a([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(f[0])?f[0]:new a([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},c.default.Matrix.prototype.set=function(f){return f instanceof c.default.Matrix?this.mat4=f.mat4:s(f)?this.mat4=f:arguments.length===16&&(this.mat4[0]=f,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},c.default.Matrix.prototype.get=function(){return new c.default.Matrix(this.mat4,this.p5)},c.default.Matrix.prototype.copy=function(){var f=new c.default.Matrix(this.p5);return f.mat4[0]=this.mat4[0],f.mat4[1]=this.mat4[1],f.mat4[2]=this.mat4[2],f.mat4[3]=this.mat4[3],f.mat4[4]=this.mat4[4],f.mat4[5]=this.mat4[5],f.mat4[6]=this.mat4[6],f.mat4[7]=this.mat4[7],f.mat4[8]=this.mat4[8],f.mat4[9]=this.mat4[9],f.mat4[10]=this.mat4[10],f.mat4[11]=this.mat4[11],f.mat4[12]=this.mat4[12],f.mat4[13]=this.mat4[13],f.mat4[14]=this.mat4[14],f.mat4[15]=this.mat4[15],f},c.default.Matrix.identity=function(f){return new c.default.Matrix(f)},c.default.Matrix.prototype.transpose=function(f){var y,u,l,i,m,g;return f instanceof c.default.Matrix?(y=f.mat4[1],u=f.mat4[2],l=f.mat4[3],i=f.mat4[6],m=f.mat4[7],g=f.mat4[11],this.mat4[0]=f.mat4[0],this.mat4[1]=f.mat4[4],this.mat4[2]=f.mat4[8],this.mat4[3]=f.mat4[12],this.mat4[4]=y,this.mat4[5]=f.mat4[5],this.mat4[6]=f.mat4[9],this.mat4[7]=f.mat4[13],this.mat4[8]=u,this.mat4[9]=i,this.mat4[10]=f.mat4[10],this.mat4[11]=f.mat4[14],this.mat4[12]=l,this.mat4[13]=m,this.mat4[14]=g,this.mat4[15]=f.mat4[15]):s(f)&&(y=f[1],u=f[2],l=f[3],i=f[6],m=f[7],g=f[11],this.mat4[0]=f[0],this.mat4[1]=f[4],this.mat4[2]=f[8],this.mat4[3]=f[12],this.mat4[4]=y,this.mat4[5]=f[5],this.mat4[6]=f[9],this.mat4[7]=f[13],this.mat4[8]=u,this.mat4[9]=i,this.mat4[10]=f[10],this.mat4[11]=f[14],this.mat4[12]=l,this.mat4[13]=m,this.mat4[14]=g,this.mat4[15]=f[15]),this},c.default.Matrix.prototype.invert=function(I){I instanceof c.default.Matrix?(y=I.mat4[0],u=I.mat4[1],l=I.mat4[2],i=I.mat4[3],m=I.mat4[4],g=I.mat4[5],v=I.mat4[6],b=I.mat4[7],w=I.mat4[8],S=I.mat4[9],x=I.mat4[10],M=I.mat4[11],C=I.mat4[12],E=I.mat4[13],P=I.mat4[14],D=I.mat4[15]):s(I)&&(y=I[0],u=I[1],l=I[2],i=I[3],m=I[4],g=I[5],v=I[6],b=I[7],w=I[8],S=I[9],x=I[10],M=I[11],C=I[12],E=I[13],P=I[14],D=I[15]);var y,u,l,i,m,g,v,b,w,S,x,M,C,E,P,D,I=y*g-u*m,U=y*v-l*m,G=y*b-i*m,W=u*v-l*g,te=u*b-i*g,Q=l*b-i*v,J=w*E-S*C,oe=w*P-x*C,ee=w*D-M*C,le=S*P-x*E,de=S*D-M*E,se=x*D-M*P,O=I*se-U*de+G*le+W*ee-te*oe+Q*J;return O?(this.mat4[0]=(g*se-v*de+b*le)*(O=1/O),this.mat4[1]=(l*de-u*se-i*le)*O,this.mat4[2]=(E*Q-P*te+D*W)*O,this.mat4[3]=(x*te-S*Q-M*W)*O,this.mat4[4]=(v*ee-m*se-b*oe)*O,this.mat4[5]=(y*se-l*ee+i*oe)*O,this.mat4[6]=(P*G-C*Q-D*U)*O,this.mat4[7]=(w*Q-x*G+M*U)*O,this.mat4[8]=(m*de-g*ee+b*J)*O,this.mat4[9]=(u*ee-y*de-i*J)*O,this.mat4[10]=(C*te-E*G+D*I)*O,this.mat4[11]=(S*G-w*te-M*I)*O,this.mat4[12]=(g*oe-m*le-v*J)*O,this.mat4[13]=(y*le-u*oe+l*J)*O,this.mat4[14]=(E*U-C*W-P*I)*O,this.mat4[15]=(w*W-S*U+x*I)*O,this):null},c.default.Matrix.prototype.invert3x3=function(){var f=this.mat3[0],y=this.mat3[1],u=this.mat3[2],l=this.mat3[3],i=this.mat3[4],m=this.mat3[5],g=this.mat3[6],v=this.mat3[7],b=this.mat3[8],w=b*i-m*v,S=-b*l+m*g,x=v*l-i*g,M=f*w+y*S+u*x;return M?(this.mat3[0]=w*(M=1/M),this.mat3[1]=(-b*y+u*v)*M,this.mat3[2]=(m*y-u*i)*M,this.mat3[3]=S*M,this.mat3[4]=(b*f-u*g)*M,this.mat3[5]=(-m*f+u*l)*M,this.mat3[6]=x*M,this.mat3[7]=(-v*f+y*g)*M,this.mat3[8]=(i*f-y*l)*M,this):null},c.default.Matrix.prototype.transpose3x3=function(f){var y=f[1],u=f[2],l=f[5];return this.mat3[1]=f[3],this.mat3[2]=f[6],this.mat3[3]=y,this.mat3[5]=f[7],this.mat3[6]=u,this.mat3[7]=l,this},c.default.Matrix.prototype.inverseTranspose=function(f){if(this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=f.mat4[0],this.mat3[1]=f.mat4[1],this.mat3[2]=f.mat4[2],this.mat3[3]=f.mat4[4],this.mat3[4]=f.mat4[5],this.mat3[5]=f.mat4[6],this.mat3[6]=f.mat4[8],this.mat3[7]=f.mat4[9],this.mat3[8]=f.mat4[10]),f=this.invert3x3(),f)f.transpose3x3(this.mat3);else for(var y=0;y<9;y++)this.mat3[y]=0;return this},c.default.Matrix.prototype.determinant=function(){var f=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],y=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],u=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],l=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],m=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],g=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],v=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],b=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],w=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],S=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return f*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-y*S+u*w+l*b-i*v+m*g},c.default.Matrix.prototype.mult=function(u){var y;if(u===this||u===this.mat4)y=this.copy().mat4;else if(u instanceof c.default.Matrix)y=u.mat4;else if(s(u))y=u;else{if(arguments.length!==16)return;y=arguments}var u=this.mat4[0],l=this.mat4[1],i=this.mat4[2],m=this.mat4[3];return this.mat4[0]=u*y[0]+l*y[4]+i*y[8]+m*y[12],this.mat4[1]=u*y[1]+l*y[5]+i*y[9]+m*y[13],this.mat4[2]=u*y[2]+l*y[6]+i*y[10]+m*y[14],this.mat4[3]=u*y[3]+l*y[7]+i*y[11]+m*y[15],u=this.mat4[4],l=this.mat4[5],i=this.mat4[6],m=this.mat4[7],this.mat4[4]=u*y[0]+l*y[4]+i*y[8]+m*y[12],this.mat4[5]=u*y[1]+l*y[5]+i*y[9]+m*y[13],this.mat4[6]=u*y[2]+l*y[6]+i*y[10]+m*y[14],this.mat4[7]=u*y[3]+l*y[7]+i*y[11]+m*y[15],u=this.mat4[8],l=this.mat4[9],i=this.mat4[10],m=this.mat4[11],this.mat4[8]=u*y[0]+l*y[4]+i*y[8]+m*y[12],this.mat4[9]=u*y[1]+l*y[5]+i*y[9]+m*y[13],this.mat4[10]=u*y[2]+l*y[6]+i*y[10]+m*y[14],this.mat4[11]=u*y[3]+l*y[7]+i*y[11]+m*y[15],u=this.mat4[12],l=this.mat4[13],i=this.mat4[14],m=this.mat4[15],this.mat4[12]=u*y[0]+l*y[4]+i*y[8]+m*y[12],this.mat4[13]=u*y[1]+l*y[5]+i*y[9]+m*y[13],this.mat4[14]=u*y[2]+l*y[6]+i*y[10]+m*y[14],this.mat4[15]=u*y[3]+l*y[7]+i*y[11]+m*y[15],this},c.default.Matrix.prototype.apply=function(u){var y;if(u===this||u===this.mat4)y=this.copy().mat4;else if(u instanceof c.default.Matrix)y=u.mat4;else if(s(u))y=u;else{if(arguments.length!==16)return;y=arguments}var u=this.mat4,l=u[0],i=u[4],m=u[8],g=u[12],l=(u[0]=y[0]*l+y[1]*i+y[2]*m+y[3]*g,u[4]=y[4]*l+y[5]*i+y[6]*m+y[7]*g,u[8]=y[8]*l+y[9]*i+y[10]*m+y[11]*g,u[12]=y[12]*l+y[13]*i+y[14]*m+y[15]*g,u[1]),i=u[5],m=u[9],g=u[13],l=(u[1]=y[0]*l+y[1]*i+y[2]*m+y[3]*g,u[5]=y[4]*l+y[5]*i+y[6]*m+y[7]*g,u[9]=y[8]*l+y[9]*i+y[10]*m+y[11]*g,u[13]=y[12]*l+y[13]*i+y[14]*m+y[15]*g,u[2]),i=u[6],m=u[10],g=u[14],l=(u[2]=y[0]*l+y[1]*i+y[2]*m+y[3]*g,u[6]=y[4]*l+y[5]*i+y[6]*m+y[7]*g,u[10]=y[8]*l+y[9]*i+y[10]*m+y[11]*g,u[14]=y[12]*l+y[13]*i+y[14]*m+y[15]*g,u[3]),i=u[7],m=u[11],g=u[15];return u[3]=y[0]*l+y[1]*i+y[2]*m+y[3]*g,u[7]=y[4]*l+y[5]*i+y[6]*m+y[7]*g,u[11]=y[8]*l+y[9]*i+y[10]*m+y[11]*g,u[15]=y[12]*l+y[13]*i+y[14]*m+y[15]*g,this},c.default.Matrix.prototype.scale=function(f,y,u){return f instanceof c.default.Vector?(y=f.y,u=f.z,f=f.x):f instanceof Array&&(y=f[1],u=f[2],f=f[0]),this.mat4[0]*=f,this.mat4[1]*=f,this.mat4[2]*=f,this.mat4[3]*=f,this.mat4[4]*=y,this.mat4[5]*=y,this.mat4[6]*=y,this.mat4[7]*=y,this.mat4[8]*=u,this.mat4[9]*=u,this.mat4[10]*=u,this.mat4[11]*=u,this},c.default.Matrix.prototype.rotate=function(I,de,le,l){de instanceof c.default.Vector?(le=de.y,l=de.z,de=de.x):de instanceof Array&&(le=de[1],l=de[2],de=de[0]);var i=Math.sqrt(de*de+le*le+l*l),i=(de*=1/i,le*=1/i,l*=1/i,this.mat4[0]),m=this.mat4[1],g=this.mat4[2],v=this.mat4[3],b=this.mat4[4],w=this.mat4[5],S=this.mat4[6],x=this.mat4[7],M=this.mat4[8],C=this.mat4[9],E=this.mat4[10],P=this.mat4[11],D=Math.sin(I),I=Math.cos(I),U=1-I,G=de*de*U+I,W=le*de*U+l*D,te=l*de*U-le*D,Q=de*le*U-l*D,J=le*le*U+I,oe=l*le*U+de*D,ee=de*l*U+le*D,le=le*l*U-de*D,de=l*l*U+I;return this.mat4[0]=i*G+b*W+M*te,this.mat4[1]=m*G+w*W+C*te,this.mat4[2]=g*G+S*W+E*te,this.mat4[3]=v*G+x*W+P*te,this.mat4[4]=i*Q+b*J+M*oe,this.mat4[5]=m*Q+w*J+C*oe,this.mat4[6]=g*Q+S*J+E*oe,this.mat4[7]=v*Q+x*J+P*oe,this.mat4[8]=i*ee+b*le+M*de,this.mat4[9]=m*ee+w*le+C*de,this.mat4[10]=g*ee+S*le+E*de,this.mat4[11]=v*ee+x*le+P*de,this},c.default.Matrix.prototype.translate=function(l){var y=l[0],u=l[1],l=l[2]||0;this.mat4[12]+=this.mat4[0]*y+this.mat4[4]*u+this.mat4[8]*l,this.mat4[13]+=this.mat4[1]*y+this.mat4[5]*u+this.mat4[9]*l,this.mat4[14]+=this.mat4[2]*y+this.mat4[6]*u+this.mat4[10]*l,this.mat4[15]+=this.mat4[3]*y+this.mat4[7]*u+this.mat4[11]*l},c.default.Matrix.prototype.rotateX=function(f){this.rotate(f,1,0,0)},c.default.Matrix.prototype.rotateY=function(f){this.rotate(f,0,1,0)},c.default.Matrix.prototype.rotateZ=function(f){this.rotate(f,0,0,1)},c.default.Matrix.prototype.perspective=function(i,y,u,l){var i=1/Math.tan(i/2),m=1/(u-l);return this.mat4[0]=i/y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(l+u)*m,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*l*u*m,this.mat4[15]=0,this},c.default.Matrix.prototype.ortho=function(f,y,u,l,i,m){var g=1/(f-y),v=1/(u-l),b=1/(i-m);return this.mat4[0]=-2*g,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*v,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*b,this.mat4[11]=0,this.mat4[12]=(f+y)*g,this.mat4[13]=(l+u)*v,this.mat4[14]=(m+i)*b,this.mat4[15]=1,this},c.default.Matrix);p.default=d},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(t,h,p){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.RenderBuffer=function(c,a,s,d,f,y){this.size=c,this.src=a,this.dst=s,this.attr=d,this._renderer=f,this.map=y},t.default.RenderBuffer.prototype._prepareBuffer=function(c,a){var s,d,f,l=a.attributes,y=this._renderer.GL,u=c.model||c,l=l[this.attr];l&&(s=c[this.dst],0<(d=u[this.src]).length?((f=!s)&&(c[this.dst]=s=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,s),!f&&u.dirtyFlags[this.src]===!1||(f=(c=this.map)?c(d):d,this._renderer._bindBuffer(s,y.ARRAY_BUFFER,f),u.dirtyFlags[this.src]=!1),a.enableAttrib(l,this.size)):(c=l.location)!==-1&&this._renderer.registerEnabled[c]&&(y.disableVertexAttribArray(c),this._renderer.registerEnabled[c]=!1))},t=t.default.RenderBuffer,p.default=t},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(t,h,p){function c(i){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(i)}function a(i){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(m){return c(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":c(m)})(i)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(l=t("../core/main"))&&l.__esModule?l:{default:l},d=function(i){if(i&&i.__esModule)return i;if(i===null||a(i)!=="object"&&typeof i!="function")return{default:i};var m=f();if(m&&m.has(i))return m.get(i);var g,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in i){var w;Object.prototype.hasOwnProperty.call(i,g)&&((w=b?Object.getOwnPropertyDescriptor(i,g):null)&&(w.get||w.set)?Object.defineProperty(v,g,w):v[g]=i[g])}return v.default=i,m&&m.set(i,v),v}(t("../core/constants"));function f(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,f=function(){return i},i)}function y(i){return function(m){if(Array.isArray(m)){for(var g=0,v=new Array(m.length);g<m.length;g++)v[g]=m[g];return v}}(i)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=i!==void 0?i:d.TESS,this.immediateMode.geometry.reset(),this};var u={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},l=(s.default.RendererGL.prototype.vertex=function(i,m){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var g in u){var v=u[g],g=this.immediateMode.geometry[g];g.push.apply(g,y(g.slice(g.length-3*v,g.length-2*v)).concat(y(g.slice(g.length-v,g.length))))}var b,w,S=b=w=0,x=(arguments.length===3?S=arguments[2]:arguments.length===4?(b=arguments[2],w=arguments[3]):arguments.length===5&&(S=arguments[2],b=arguments[3],w=arguments[4]),new s.default.Vector(i,m,S)),x=(this.immediateMode.geometry.vertices.push(x),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),x=(this.immediateMode.geometry.vertexColors.push(x[0],x[1],x[2],x[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(x[0],x[1],x[2],x[3]),this.textureMode===d.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(b/=this._tex.width,w/=this._tex.height):!this.isProcessingVertices&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(b,w),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=m,this.immediateMode._bezierVertex[2]=S,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=m,this.immediateMode._quadraticVertex[2]=S,this},s.default.RendererGL.prototype.normal=function(i,m,g){return i instanceof s.default.Vector?this._currentNormal=i:this._currentNormal=new s.default.Vector(i,m,g),this},s.default.RendererGL.prototype.endShape=function(i,m,g,v,b,w){return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),this.isProcessingVertices=!1,this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(i){var m;this.immediateMode.geometry.vertices.length!==0&&(m=this._doStroke,i=i===d.CLOSE,m&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,i),this.immediateMode.geometry._edgesToVertices()),m=this.immediateMode.shapeMode===d.TESS,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||m)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(i,m,g){var v=[],b=0;switch(i){case d.TRIANGLE_STRIP:for(b=0;b<m.length-2;b++)v.push([b,b+1]),v.push([b,b+2]);v.push([b,b+1]);break;case d.TRIANGLE_FAN:for(b=1;b<m.length-1;b++)v.push([0,b]),v.push([b,b+1]);v.push([0,m.length-1]);break;case d.TRIANGLES:for(b=0;b<m.length-2;b+=3)v.push([b,b+1]),v.push([b+1,b+2]),v.push([b+2,b]);break;case d.LINES:for(b=0;b<m.length-1;b+=2)v.push([b,b+1]);break;case d.QUADS:for(b=0;b<m.length-5;b+=6)v.push([b,b+1]),v.push([b+1,b+2]),v.push([b+3,b+5]),v.push([b+4,b+5]);break;case d.QUAD_STRIP:for(b=0;b<m.length-2;b+=2)v.push([b,b+1]),v.push([b,b+2]),v.push([b+1,b+3]);v.push([b,b+1]);break;default:for(b=0;b<m.length-1;b++)v.push([b,b+1])}return g&&v.push([m.length-1,0]),v},s.default.RendererGL.prototype._tesselateShape=function(){for(var i=this,m=(this.immediateMode.shapeMode=d.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(S,x){return[S.x,S.y,S.z,i.immediateMode.geometry.uvs[2*x],i.immediateMode.geometry.uvs[2*x+1],i.immediateMode.geometry.vertexColors[4*x],i.immediateMode.geometry.vertexColors[4*x+1],i.immediateMode.geometry.vertexColors[4*x+2],i.immediateMode.geometry.vertexColors[4*x+3],i.immediateMode.geometry.vertexNormals[x].x,i.immediateMode.geometry.vertexNormals[x].y,i.immediateMode.geometry.vertexNormals[x].z]}))]),g=this._triangulate(m),v=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),b=0,w=g.length;b<w;b+=s.default.RendererGL.prototype.tessyVertexSize)v.push.apply(v,y(g.slice(b+5,b+9))),this.normal.apply(this,y(g.slice(b+9,b+12))),this.vertex.apply(this,y(g.slice(b,b+5)));this.immediateMode.geometry.vertexColors=v},s.default.RendererGL.prototype._drawImmediateFill=function(){var i=this.GL,m=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,this._getImmediateFillShader()),g=(this._setFillUniforms(m),!0),v=!1,b=void 0;try{for(var w,S=this.immediateMode.buffers.fill[Symbol.iterator]();!(g=(w=S.next()).done);g=!0)w.value._prepareBuffer(this.immediateMode.geometry,m)}catch(x){v=!0,b=x}finally{try{g||S.return==null||S.return()}finally{if(v)throw b}}this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),i.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),m.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,m=i.isEnabled(i.CULL_FACE),g=(i.disable(i.CULL_FACE),this._getImmediateStrokeShader()),v=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._setStrokeUniforms(g),!0),b=!1,w=void 0;try{for(var S,x=this.immediateMode.buffers.stroke[Symbol.iterator]();!(v=(S=x.next()).done);v=!0)S.value._prepareBuffer(this.immediateMode.geometry,g)}catch(M){b=!0,w=M}finally{try{v||x.return==null||x.return()}finally{if(b)throw w}}this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),m&&i.enable(i.CULL_FACE),g.unbindShader()},s.default.RendererGL);p.default=l},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(s=t("../core/main"))&&s.__esModule?s:{default:s};t("./p5.RendererGL"),t("./p5.RenderBuffer");var a=0,s=(c.default.RendererGL.prototype._initBufferDefaults=function(d){var f;return this._freeBuffers(d),1e3<++a&&(f=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[f],a--),this.retainedMode.geometry[d]={}},c.default.RendererGL.prototype._freeBuffers=function(d){var f,y=this.retainedMode.geometry[d];function u(l){var i=!0,m=!1,g=void 0;try{for(var v,b=l[Symbol.iterator]();!(i=(v=b.next()).done);i=!0){var w=v.value;y[w.dst]&&(f.deleteBuffer(y[w.dst]),y[w.dst]=null)}}catch(S){m=!0,g=S}finally{try{i||b.return==null||b.return()}finally{if(m)throw g}}}y&&(delete this.retainedMode.geometry[d],a--,f=this.GL,y.indexBuffer&&f.deleteBuffer(y.indexBuffer),u(this.retainedMode.buffers.stroke),u(this.retainedMode.buffers.fill))},c.default.RendererGL.prototype.createBuffers=function(m,f){var y,u,l,i=this.GL,m=this._initBufferDefaults(m),g=(m.model=f,m.indexBuffer);return f.faces.length?(g=g||(m.indexBuffer=i.createBuffer()),l=(u=(y=c.default.RendererGL.prototype._flatten(f.faces)).some(function(v){return 65535<v}))?Uint32Array:Uint16Array,this._bindBuffer(g,i.ELEMENT_ARRAY_BUFFER,y,l),m.indexBufferType=u?i.UNSIGNED_INT:i.UNSIGNED_SHORT,m.vertexCount=3*f.faces.length):(g&&(i.deleteBuffer(g),m.indexBuffer=null),m.vertexCount=f.vertices?f.vertices.length:0),m.lineVertexCount=f.lineVertices?f.lineVertices.length:0,m},c.default.RendererGL.prototype.drawBuffers=function(d){var f=this.GL,y=this.retainedMode.geometry[d];if(this._doStroke&&0<y.lineVertexCount){var u=f.isEnabled(f.CULL_FACE),l=(f.disable(f.CULL_FACE),this._getRetainedStrokeShader()),i=(this._useLineColor=0<y.model.vertexStrokeColors.length,this._setStrokeUniforms(l),!0),m=!1,g=void 0;try{for(var v,b=this.retainedMode.buffers.stroke[Symbol.iterator]();!(i=(v=b.next()).done);i=!0)v.value._prepareBuffer(y,l)}catch(C){m=!0,g=C}finally{try{i||b.return==null||b.return()}finally{if(m)throw g}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(f.TRIANGLES,d),u&&f.enable(f.CULL_FACE),l.unbindShader()}if(this._doFill){this._useVertexColor=0<y.model.vertexColors.length;var w=this._getRetainedFillShader(),S=(this._setFillUniforms(w),!0),m=!1,g=void 0;try{for(var x,M=this.retainedMode.buffers.fill[Symbol.iterator]();!(S=(x=M.next()).done);S=!0)x.value._prepareBuffer(y,w)}catch(P){m=!0,g=P}finally{try{S||M.return==null||M.return()}finally{if(m)throw g}}y.indexBuffer&&this._bindBuffer(y.indexBuffer,f.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(f.TRIANGLES,d),w.unbindShader()}return this},c.default.RendererGL.prototype.drawBuffersScaled=function(d,f,y,u){var l=this.uMVMatrix.copy();try{this.uMVMatrix.scale(f,y,u),this.drawBuffers(d)}finally{this.uMVMatrix=l}},c.default.RendererGL.prototype._drawArrays=function(d,f){return this.GL.drawArrays(d,0,this.retainedMode.geometry[f].lineVertexCount),this},c.default.RendererGL.prototype._drawElements=function(d,y){var y=this.retainedMode.geometry[y],u=this.GL;if(y.indexBuffer){if(y.indexBufferType===u.UNSIGNED_INT&&!u.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");u.drawElements(u.TRIANGLES,y.vertexCount,y.indexBufferType,0)}else u.drawArrays(d||u.TRIANGLES,0,y.vertexCount)},c.default.RendererGL.prototype._drawPoints=function(d,f){var y=this.GL,u=this._getImmediatePointShader();this._setPointUniforms(u),this._bindBuffer(f,y.ARRAY_BUFFER,this._vToNArray(d),Float32Array,y.STATIC_DRAW),u.enableAttrib(u.attributes.aPosition,3),y.drawArrays(y.Points,0,d.length),u.unbindShader()},c.default.RendererGL);p.default=s},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(S,h,p){function c(x){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(x)}function a(x){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(M){return c(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":c(M)})(x)}S("core-js/modules/es.symbol"),S("core-js/modules/es.symbol.description"),S("core-js/modules/es.symbol.iterator"),S("core-js/modules/es.array.concat"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.filter"),S("core-js/modules/es.array.from"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.array.slice"),S("core-js/modules/es.object.assign"),S("core-js/modules/es.object.get-own-property-descriptor"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.regexp.to-string"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.string.iterator"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.float64-array"),S("core-js/modules/es.typed-array.int16-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint16-array"),S("core-js/modules/es.typed-array.uint32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/es.weak-map"),S("core-js/modules/web.dom-collections.iterator"),S("core-js/modules/es.symbol"),S("core-js/modules/es.symbol.description"),S("core-js/modules/es.symbol.iterator"),S("core-js/modules/es.array.concat"),S("core-js/modules/es.array.fill"),S("core-js/modules/es.array.filter"),S("core-js/modules/es.array.from"),S("core-js/modules/es.array.includes"),S("core-js/modules/es.array.iterator"),S("core-js/modules/es.array.slice"),S("core-js/modules/es.object.assign"),S("core-js/modules/es.object.to-string"),S("core-js/modules/es.regexp.to-string"),S("core-js/modules/es.string.includes"),S("core-js/modules/es.string.iterator"),S("core-js/modules/es.typed-array.float32-array"),S("core-js/modules/es.typed-array.float64-array"),S("core-js/modules/es.typed-array.int16-array"),S("core-js/modules/es.typed-array.uint8-array"),S("core-js/modules/es.typed-array.uint16-array"),S("core-js/modules/es.typed-array.uint32-array"),S("core-js/modules/es.typed-array.copy-within"),S("core-js/modules/es.typed-array.every"),S("core-js/modules/es.typed-array.fill"),S("core-js/modules/es.typed-array.filter"),S("core-js/modules/es.typed-array.find"),S("core-js/modules/es.typed-array.find-index"),S("core-js/modules/es.typed-array.for-each"),S("core-js/modules/es.typed-array.includes"),S("core-js/modules/es.typed-array.index-of"),S("core-js/modules/es.typed-array.iterator"),S("core-js/modules/es.typed-array.join"),S("core-js/modules/es.typed-array.last-index-of"),S("core-js/modules/es.typed-array.map"),S("core-js/modules/es.typed-array.reduce"),S("core-js/modules/es.typed-array.reduce-right"),S("core-js/modules/es.typed-array.reverse"),S("core-js/modules/es.typed-array.set"),S("core-js/modules/es.typed-array.slice"),S("core-js/modules/es.typed-array.some"),S("core-js/modules/es.typed-array.sort"),S("core-js/modules/es.typed-array.subarray"),S("core-js/modules/es.typed-array.to-locale-string"),S("core-js/modules/es.typed-array.to-string"),S("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=u(S("../core/main")),d=function(x){if(x&&x.__esModule)return x;if(x===null||a(x)!=="object"&&typeof x!="function")return{default:x};var M=y();if(M&&M.has(x))return M.get(x);var C,E={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in x){var D;Object.prototype.hasOwnProperty.call(x,C)&&((D=P?Object.getOwnPropertyDescriptor(x,C):null)&&(D.get||D.set)?Object.defineProperty(E,C,D):E[C]=x[C])}return E.default=x,M&&M.set(x,E),E}(S("../core/constants")),f=u(S("libtess"));S("./p5.Shader"),S("./p5.Camera"),S("../core/p5.Renderer"),S("./p5.Matrix"),S("path");function y(){var x;return typeof WeakMap!="function"?null:(x=new WeakMap,y=function(){return x},x)}function u(x){return x&&x.__esModule?x:{default:x}}function l(x){return function(M){if(Array.isArray(M)){for(var C=0,E=new Array(M.length);C<M.length;C++)E[C]=M[C];return E}}(x)||function(M){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]")return Array.from(M)}(x)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(x,M){b+="#define STROKE_CAP_".concat(x," ").concat(M,`
`),g[d[x]]=M}function m(x,M){b+="#define STROKE_JOIN_".concat(x," ").concat(M,`
`),v[d[x]]=M}var g={},v={},b="",S=(i("ROUND",0),i("PROJECT",1),i("SQUARE",2),m("ROUND",0),m("MITER",1),m("BEVEL",2),`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),w={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;
varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:S+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;
varying vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = vColor;
  }
  else {
    vec4 baseColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
    gl_FragColor = vec4(gl_FragColor.rgb * vDiffuseColor + vSpecularColor, 1.) * baseColor.a;
  }
}
`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;
attribute vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:S+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;
varying vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : vColor;
  gl_FragColor = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * uAmbientMatColor.rgb + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, 1.) * baseColor.a;
}
`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec2 pixelScale = vec2(
    1. / uModelViewMatrix[0][0],
    1. / uModelViewMatrix[1][1]
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  gl_FragColor *= saturate(max(antialias, cover));
}
`,lineVert:b+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump float;
precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

attribute vec4 aPosition;
attribute vec3 aTangentIn;
attribute vec3 aTangentOut;
attribute float aSide;
attribute vec4 aVertexColor;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posqIn.xyz = posqIn.xyz * scale;
  posqOut.xyz = posqOut.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.) * curPerspScale,
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.) * curPerspScale,
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * curPerspScale * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * curPerspScale * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5 * curPerspScale;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset / curPerspScale;

  gl_Position.xy = p.xy + offset.xy;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:b+`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

varying vec4 vColor;
varying vec2 vTangent;
varying vec2 vCenter;
varying vec2 vPosition;
varying float vMaxDist;
varying float vCap;
varying float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  gl_FragColor = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  gl_FragColor = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`},S=(s.default.RendererGL=function(x,M,C,E){return s.default.Renderer.call(this,x,M,C),this._setAttributeDefaults(M),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=d.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[1,1,1,1],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=d.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._useLineColor=!1,this._useVertexColor=!1,this.registerEnabled=[],this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new s.default.Matrix,this.uPMatrix=new s.default.Matrix,this.uNMatrix=new s.default.Matrix("mat3"),this._currentNormal=new s.default.Vector(0,0,1),this._curCamera=new s.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new s.default.Geometry,shapeMode:d.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new s.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",this,this._flatten),new s.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",this,this._flatten),new s.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",this,this._flatten),new s.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",this)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.curStrokeCap=d.ROUND,this.curStrokeJoin=d.ROUND,this.textures=[],this.textureMode=d.IMAGE,this.textureWrapX=d.CLAMP,this.textureWrapY=d.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this.isProcessingVertices=!1,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},s.default.RendererGL.prototype=Object.create(s.default.Renderer.prototype),s.default.RendererGL.prototype._setAttributeDefaults=function(x){var M={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0};x._glAttributes===null?x._glAttributes=M:x._glAttributes=Object.assign(M,x._glAttributes)},s.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var x=this.drawingContext;x.enable(x.DEPTH_TEST),x.depthFunc(x.LEQUAL),x.viewport(0,0,x.drawingBufferWidth,x.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},s.default.RendererGL.prototype._resetContext=function(x,M){var C,E=this.width,P=this.height,I=this.canvas.id,D=this._pInst instanceof s.default.Graphics,I=(D?((C=this._pInst).canvas.parentNode.removeChild(C.canvas),C.canvas=document.createElement("canvas"),(C._pInst._userNode||document.body).appendChild(C.canvas),s.default.Element.call(C,C.canvas,C._pInst),C.width=E,C.height=P):((C=this.canvas)&&C.parentNode.removeChild(C),(C=document.createElement("canvas")).id=I,(this._pInst._userNode||document.body).appendChild(C),this._pInst.canvas=C,this.canvas=C),new s.default.RendererGL(this._pInst.canvas,this._pInst,!D));this._pInst._setProperty("_renderer",I),I.resize(E,P),I._applyDefaults(),D||this._pInst._elements.push(I),typeof M=="function"&&setTimeout(function(){M.apply(window._renderer,x)},0)},s.default.prototype.setAttributes=function(x,M){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var C=!0;if(M!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[x]!==M&&(this._glAttributes[x]=M,C=!1)):x instanceof Object&&this._glAttributes!==x&&(this._glAttributes=x,C=!1),this._renderer.isP3D&&!C){if(!this._setupDone){for(var E in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(E))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.background=function(){var E=(E=this._pInst).color.apply(E,arguments),x=E.levels[0]/255,M=E.levels[1]/255,C=E.levels[2]/255,E=E.levels[3]/255;this.clear(x,M,C,E)},s.default.RendererGL.prototype.fill=function(x,M,C,E){var P=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=P._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null},s.default.RendererGL.prototype.stroke=function(x,M,C,E){var P=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=P._array},s.default.RendererGL.prototype.strokeCap=function(x){this.curStrokeCap=x},s.default.RendererGL.prototype.strokeJoin=function(x){this.curStrokeJoin=x},s.default.RendererGL.prototype.filter=function(x){console.error("filter() does not work in WEBGL mode")},s.default.RendererGL.prototype.blendMode=function(x){x===d.DARKEST||x===d.LIGHTEST||x===d.ADD||x===d.BLEND||x===d.SUBTRACT||x===d.SCREEN||x===d.EXCLUSION||x===d.REPLACE||x===d.MULTIPLY||x===d.REMOVE?this.curBlendMode=x:x!==d.BURN&&x!==d.OVERLAY&&x!==d.HARD_LIGHT&&x!==d.SOFT_LIGHT&&x!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},s.default.RendererGL.prototype.erase=function(x,M){this._isErasing||(this._applyBlendMode(d.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,x/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,M/255])},s.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},s.default.RendererGL.prototype.strokeWeight=function(x){this.curStrokeWeight!==x&&(this.pointSize=x,this.curStrokeWeight=x)},s.default.RendererGL.prototype._getPixel=function(x,M){var C=new Uint8Array(4);return this.drawingContext.readPixels(x,M,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,C),[C[0],C[1],C[2],C[3]]},s.default.RendererGL.prototype.loadPixels=function(){var x,M=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(M=M.pixels,x=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,M instanceof Uint8Array&&M.length===x||(M=new Uint8Array(x),this._pixelsState._setProperty("pixels",M)),x=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*x,this.height*x,this.GL.RGBA,this.GL.UNSIGNED_BYTE,M))},s.default.RendererGL.prototype.geometryInHash=function(x){return this.retainedMode.geometry[x]!==void 0},s.default.RendererGL.prototype.resize=function(x,M){s.default.Renderer.prototype.resize.call(this,x,M),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),x=this._pixelsState,x.pixels!==void 0&&x._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},s.default.RendererGL.prototype.clear=function(){var x=(arguments.length<=0?void 0:arguments[0])||0,M=(arguments.length<=1?void 0:arguments[1])||0,C=(arguments.length<=2?void 0:arguments[2])||0,E=(arguments.length<=3?void 0:arguments[3])||0;this.GL.clearColor(x*E,M*E,C*E,E),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.applyMatrix=function(x,M,C,E,P,D){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([x,M,0,0,C,E,0,0,0,0,1,0,P,D,0,1])},s.default.RendererGL.prototype.translate=function(x,M,C){return x instanceof s.default.Vector&&(C=x.z,M=x.y,x=x.x),this.uMVMatrix.translate([x,M,C]),this},s.default.RendererGL.prototype.scale=function(x,M,C){return this.uMVMatrix.scale(x,M,C),this},s.default.RendererGL.prototype.rotate=function(x,M){return M===void 0?this.rotateZ(x):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},s.default.RendererGL.prototype.rotateX=function(x){return this.rotate(x,1,0,0),this},s.default.RendererGL.prototype.rotateY=function(x){return this.rotate(x,0,1,0),this},s.default.RendererGL.prototype.rotateZ=function(x){return this.rotate(x,0,0,1),this},s.default.RendererGL.prototype.push=function(){var x=s.default.Renderer.prototype.push.apply(this),M=x.properties;return M.uMVMatrix=this.uMVMatrix.copy(),M.uPMatrix=this.uPMatrix.copy(),M._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),M.ambientLightColors=this.ambientLightColors.slice(),M.specularColors=this.specularColors.slice(),M.directionalLightDirections=this.directionalLightDirections.slice(),M.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),M.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),M.pointLightPositions=this.pointLightPositions.slice(),M.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),M.pointLightSpecularColors=this.pointLightSpecularColors.slice(),M.spotLightPositions=this.spotLightPositions.slice(),M.spotLightDirections=this.spotLightDirections.slice(),M.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),M.spotLightSpecularColors=this.spotLightSpecularColors.slice(),M.spotLightAngle=this.spotLightAngle.slice(),M.spotLightConc=this.spotLightConc.slice(),M.userFillShader=this.userFillShader,M.userStrokeShader=this.userStrokeShader,M.userPointShader=this.userPointShader,M.pointSize=this.pointSize,M.curStrokeWeight=this.curStrokeWeight,M.curStrokeColor=this.curStrokeColor,M.curFillColor=this.curFillColor,M.curAmbientColor=this.curAmbientColor,M.curSpecularColor=this.curSpecularColor,M.curEmissiveColor=this.curEmissiveColor,M._useSpecularMaterial=this._useSpecularMaterial,M._useEmissiveMaterial=this._useEmissiveMaterial,M._useShininess=this._useShininess,M.constantAttenuation=this.constantAttenuation,M.linearAttenuation=this.linearAttenuation,M.quadraticAttenuation=this.quadraticAttenuation,M._enableLighting=this._enableLighting,M._useNormalMaterial=this._useNormalMaterial,M._tex=this._tex,M.drawMode=this.drawMode,M._currentNormal=this._currentNormal,M.curBlendMode=this.curBlendMode,x},s.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this},s.default.RendererGL.prototype._getImmediateStrokeShader=function(){var x=this.userStrokeShader;return x&&x.isStrokeShader()?x:this._getLineShader()},s.default.RendererGL.prototype._getRetainedStrokeShader=s.default.RendererGL.prototype._getImmediateStrokeShader,s.default.RendererGL.prototype._getImmediateFillShader=function(){var x=this.userFillShader;if(this._useNormalMaterial&&(!x||!x.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!x||!x.isLightShader())return this._getLightShader()}else if(this._tex){if(!x||!x.isTextureShader())return this._getLightShader()}else if(!x)return this._getImmediateModeShader();return x},s.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var x=this.userFillShader;if(this._enableLighting){if(!x||!x.isLightShader())return this._getLightShader()}else if(this._tex){if(!x||!x.isTextureShader())return this._getLightShader()}else if(!x)return this._getColorShader();return x},s.default.RendererGL.prototype._getImmediatePointShader=function(){var x=this.userPointShader;return x&&x.isPointShader()?x:this._getPointShader()},s.default.RendererGL.prototype._getRetainedLineShader=s.default.RendererGL.prototype._getImmediateLineShader,s.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,w.phongVert,w.phongFrag):this._defaultLightShader=new s.default.Shader(this,w.lightVert,w.lightTextureFrag)),this._defaultLightShader},s.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,w.immediateVert,w.vertexColorFrag)),this._defaultImmediateModeShader},s.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,w.normalVert,w.normalFrag)),this._defaultNormalShader},s.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,w.normalVert,w.basicFrag)),this._defaultColorShader},s.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,w.pointVert,w.pointFrag)),this._defaultPointShader},s.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,w.lineVert,w.lineFrag)),this._defaultLineShader},s.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,w.fontVert,w.fontFrag)),this._defaultFontShader},s.default.RendererGL.prototype._getEmptyTexture=function(){var x;return this._emptyTexture||((x=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,x)),this._emptyTexture},s.default.RendererGL.prototype.getTexture=function(x){var M=this.textures,C=!0,E=!1,P=void 0;try{for(var D,I=M[Symbol.iterator]();!(C=(D=I.next()).done);C=!0){var U=D.value;if(U.src===x)return U}}catch(G){E=!0,P=G}finally{try{C||I.return==null||I.return()}finally{if(E)throw P}}return E=new s.default.Texture(this,x),M.push(E),E},s.default.RendererGL.prototype._setStrokeUniforms=function(x){x.bindShader(),x.setUniform("uUseLineColor",this._useLineColor),x.setUniform("uMaterialColor",this.curStrokeColor),x.setUniform("uStrokeWeight",this.curStrokeWeight),x.setUniform("uStrokeCap",g[this.curStrokeCap]),x.setUniform("uStrokeJoin",v[this.curStrokeJoin])},s.default.RendererGL.prototype._setFillUniforms=function(x){x.bindShader(),x.setUniform("uUseVertexColor",this._useVertexColor),x.setUniform("uMaterialColor",this.curFillColor),x.setUniform("isTexture",!!this._tex),this._tex&&x.setUniform("uSampler",this._tex),x.setUniform("uTint",this._tint),x.setUniform("uAmbientMatColor",this.curAmbientColor),x.setUniform("uSpecularMatColor",this.curSpecularColor),x.setUniform("uEmissiveMatColor",this.curEmissiveColor),x.setUniform("uSpecular",this._useSpecularMaterial),x.setUniform("uEmissive",this._useEmissiveMaterial),x.setUniform("uShininess",this._useShininess),x.setUniform("uUseLighting",this._enableLighting);var M=this.pointLightDiffuseColors.length/3,M=(x.setUniform("uPointLightCount",M),x.setUniform("uPointLightLocation",this.pointLightPositions),x.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),x.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),M=(x.setUniform("uDirectionalLightCount",M),x.setUniform("uLightingDirection",this.directionalLightDirections),x.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),x.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),M=(x.setUniform("uAmbientLightCount",M),x.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);x.setUniform("uSpotLightCount",M),x.setUniform("uSpotLightAngle",this.spotLightAngle),x.setUniform("uSpotLightConc",this.spotLightConc),x.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),x.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),x.setUniform("uSpotLightLocation",this.spotLightPositions),x.setUniform("uSpotLightDirection",this.spotLightDirections),x.setUniform("uConstantAttenuation",this.constantAttenuation),x.setUniform("uLinearAttenuation",this.linearAttenuation),x.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),x.bindTextures()},s.default.RendererGL.prototype._setPointUniforms=function(x){x.bindShader(),x.setUniform("uMaterialColor",this.curStrokeColor),x.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},s.default.RendererGL.prototype._bindBuffer=function(x,M,C,E,P){M=M||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(M,x),C!==void 0&&(x=new(E||Float32Array)(C),this.GL.bufferData(M,x,P||this.GL.STATIC_DRAW))},s.default.RendererGL.prototype._arraysEqual=function(x,M){var C=x.length;if(C!==M.length)return!1;for(var E=0;E<C;E++)if(x[E]!==M[E])return!1;return!0},s.default.RendererGL.prototype._isTypedArray=function(x){return x instanceof Uint32Array},s.default.RendererGL.prototype._flatten=function(x){if(x.length===0)return[];var M;if(2e4<x.length){for(var C=Object.prototype.toString,E=[],P=x.slice(),D=P.pop();C.call(D)==="[object Array]"?P.push.apply(P,l(D)):E.push(D),P.length&&(D=P.pop())!==void 0;);return E.reverse(),E}return(M=[]).concat.apply(M,l(x))},s.default.RendererGL.prototype._vToNArray=function(x){var M=[],C=!0,E=!1,P=void 0;try{for(var D,I=x[Symbol.iterator]();!(C=(D=I.next()).done);C=!0){var U=D.value;M.push(U.x,U.y,U.z)}}catch(G){E=!0,P=G}finally{try{C||I.return==null||I.return()}finally{if(E)throw P}}return M},s.default.prototype._assert3d=function(x){if(!this._renderer.isP3D)throw new Error("".concat(x,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype.tessyVertexSize=12,s.default.RendererGL.prototype._initTessy=function(){var x=new f.default.GluTesselator;return x.gluTessCallback(f.default.gluEnum.GLU_TESS_VERTEX_DATA,function(M,C){for(var E=0;E<M.length;E++)C[C.length]=M[E]}),x.gluTessCallback(f.default.gluEnum.GLU_TESS_BEGIN,function(M){M!==f.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(M))}),x.gluTessCallback(f.default.gluEnum.GLU_TESS_ERROR,function(M){console.log("error callback"),console.log("error number: ".concat(M))}),x.gluTessCallback(f.default.gluEnum.GLU_TESS_COMBINE,function(M,C,E){for(var P=new Array(s.default.RendererGL.prototype.tessyVertexSize).fill(0),D=0;D<E.length;D++)for(var I=0;I<P.length;I++)E[D]!==0&&C[D]&&(P[I]+=C[D][I]*E[D]);return P}),x.gluTessCallback(f.default.gluEnum.GLU_TESS_EDGE_FLAG,function(M){}),x},s.default.RendererGL.prototype._triangulate=function(x){var M=x[0]?x[0][2]:void 0,C=!0,E=!0,P=!1,D=void 0;try{for(var I,U=x[Symbol.iterator]();!(E=(I=U.next()).done);E=!0)for(var G=I.value,W=0;W<G.length;W+=s.default.RendererGL.prototype.tessyVertexSize)if(G[W+2]!==M){C=!1;break}}catch(ee){P=!0,D=ee}finally{try{E||U.return==null||U.return()}finally{if(P)throw D}}C?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0),P=[],this._tessy.gluTessBeginPolygon(P);for(var te=0;te<x.length;te++){this._tessy.gluTessBeginContour();for(var Q=x[te],J=0;J<Q.length;J+=s.default.RendererGL.prototype.tessyVertexSize){var oe=Q.slice(J,J+s.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(oe,oe)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),P},s.default.RendererGL.prototype._bezierCoefficients=function(x){var M=x*x,C=1-x,E=C*C;return[E*C,3*E*x,3*C*M,M*x]},s.default.RendererGL.prototype._quadraticCoefficients=function(x){var M=1-x;return[M*M,2*M*x,x*x]},s.default.RendererGL.prototype._bezierToCatmull=function(x){return[x[1],x[1]+(x[2]-x[0])/this._curveTightness,x[2]-(x[3]-x[1])/this._curveTightness,x[2]]},s.default.RendererGL);p.default=S},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(t,h,p){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};c.default.Shader=function(a,s,d){this._renderer=a,this._vertSrc=s,this._fragSrc=d,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},c.default.Shader.prototype.init=function(){if(this._glProgram===0){var a=this._renderer.GL;if(this._vertShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this._vertShader,this._vertSrc),a.compileShader(this._vertShader),!a.getShaderParameter(this._vertShader,a.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(a.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this._fragShader,this._fragSrc),a.compileShader(this._fragShader),!a.getShaderParameter(this._fragShader,a.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(a.getShaderInfoLog(this._fragShader))),null;this._glProgram=a.createProgram(),a.attachShader(this._glProgram,this._vertShader),a.attachShader(this._glProgram,this._fragShader),a.linkProgram(this._glProgram),a.getProgramParameter(this._glProgram,a.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(a.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},c.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var a=this._renderer.GL,s=a.getProgramParameter(this._glProgram,a.ACTIVE_ATTRIBUTES),d=0;d<s;++d){var f=a.getActiveAttrib(this._glProgram,d),y=f.name,u=a.getAttribLocation(this._glProgram,y),l={};l.name=y,l.location=u,l.index=d,l.type=f.type,l.size=f.size,this.attributes[y]=l}this._loadedAttributes=!0}},c.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var a=this._renderer.GL,s=a.getProgramParameter(this._glProgram,a.ACTIVE_UNIFORMS),d=0,f=0;f<s;++f){var y=a.getActiveUniform(this._glProgram,f),u={},l=(u.location=a.getUniformLocation(this._glProgram,y.name),u.size=y.size,y.name);1<y.size&&(l=l.substring(0,l.indexOf("[0]"))),u.name=l,u.type=y.type,u._cachedData=void 0,u.type===a.SAMPLER_2D&&(u.samplerIndex=d,d++,this.samplers.push(u)),u.isArray=1<y.size||u.type===a.FLOAT_MAT3||u.type===a.FLOAT_MAT4||u.type===a.FLOAT_VEC2||u.type===a.FLOAT_VEC3||u.type===a.FLOAT_VEC4||u.type===a.INT_VEC2||u.type===a.INT_VEC4||u.type===a.INT_VEC3,this.uniforms[l]=u}this._loadedUniforms=!0}},c.default.Shader.prototype.compile=function(){},c.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},c.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},c.default.Shader.prototype.bindTextures=function(){var a=this._renderer.GL,s=!0,d=!1,f=void 0;try{for(var y,u=this.samplers[Symbol.iterator]();!(s=(y=u.next()).done);s=!0){var l=y.value,i=l.texture;i===void 0&&(i=this._renderer._getEmptyTexture()),a.activeTexture(a.TEXTURE0+l.samplerIndex),i.bindTexture(),i.update(),a.uniform1i(l.location,l.samplerIndex)}}catch(m){d=!0,f=m}finally{try{s||u.return==null||u.return()}finally{if(d)throw f}}},c.default.Shader.prototype.updateTextures=function(){var a=!0,s=!1,d=void 0;try{for(var f,y=this.samplers[Symbol.iterator]();!(a=(f=y.next()).done);a=!0){var u=f.value.texture;u&&u.update()}}catch(l){s=!0,d=l}finally{try{a||y.return==null||y.return()}finally{if(s)throw d}}},c.default.Shader.prototype.unbindTextures=function(){var a=!0,s=!1,d=void 0;try{for(var f,y=this.samplers[Symbol.iterator]();!(a=(f=y.next()).done);a=!0){var u=f.value;this.setUniform(u.name,this._renderer._getEmptyTexture())}}catch(l){s=!0,d=l}finally{try{a||y.return==null||y.return()}finally{if(s)throw d}}},c.default.Shader.prototype._setMatrixUniforms=function(){var a=this._renderer._curCamera.cameraMatrix,s=this._renderer.uPMatrix,d=this._renderer.uMVMatrix,f=d.copy();f.mult(s),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",a.mat4),this.setUniform("uProjectionMatrix",s.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",f.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},c.default.Shader.prototype.useProgram=function(){var a=this._renderer.GL;return this._renderer._curShader!==this&&(a.useProgram(this._glProgram),this._renderer._curShader=this),this},c.default.Shader.prototype.setUniform=function(a,s){var d=this.uniforms[a];if(d){var f=this._renderer.GL;if(d.isArray){if(d._cachedData&&this._renderer._arraysEqual(d._cachedData,s))return;d._cachedData=s.slice(0)}else{if(d._cachedData&&d._cachedData===s)return;Array.isArray(s)?d._cachedData=s.slice(0):d._cachedData=s}var y=d.location;switch(this.useProgram(),d.type){case f.BOOL:s===!0?f.uniform1i(y,1):f.uniform1i(y,0);break;case f.INT:1<d.size?s.length&&f.uniform1iv(y,s):f.uniform1i(y,s);break;case f.FLOAT:1<d.size?s.length&&f.uniform1fv(y,s):f.uniform1f(y,s);break;case f.FLOAT_MAT3:f.uniformMatrix3fv(y,!1,s);break;case f.FLOAT_MAT4:f.uniformMatrix4fv(y,!1,s);break;case f.FLOAT_VEC2:1<d.size?s.length&&f.uniform2fv(y,s):f.uniform2f(y,s[0],s[1]);break;case f.FLOAT_VEC3:1<d.size?s.length&&f.uniform3fv(y,s):f.uniform3f(y,s[0],s[1],s[2]);break;case f.FLOAT_VEC4:1<d.size?s.length&&f.uniform4fv(y,s):f.uniform4f(y,s[0],s[1],s[2],s[3]);break;case f.INT_VEC2:1<d.size?s.length&&f.uniform2iv(y,s):f.uniform2i(y,s[0],s[1]);break;case f.INT_VEC3:1<d.size?s.length&&f.uniform3iv(y,s):f.uniform3i(y,s[0],s[1],s[2]);break;case f.INT_VEC4:1<d.size?s.length&&f.uniform4iv(y,s):f.uniform4i(y,s[0],s[1],s[2],s[3]);break;case f.SAMPLER_2D:f.activeTexture(f.TEXTURE0+d.samplerIndex),d.texture=s instanceof c.default.Texture?s:this._renderer.getTexture(s),f.uniform1i(y,d.samplerIndex),d.texture.src.gifProperties&&d.texture.src._animateGif(this._renderer._pInst)}return this}},c.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},c.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},c.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},c.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},c.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},c.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},c.default.Shader.prototype.enableAttrib=function(a,s,d,f,y,u){var l;return a&&(a=a.location)!==-1&&(l=this._renderer.GL,this._renderer.registerEnabled[a]||(l.enableVertexAttribArray(a),this._renderer.registerEnabled[a]=!0),this._renderer.GL.vertexAttribPointer(a,s,d||l.FLOAT,f||!1,y||0,u||0)),this},t=c.default.Shader,p.default=t},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(t,h,p){function c(u){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(u)}function a(u){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(l){return c(l)}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":c(l)})(u)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var s=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(u){if(u&&u.__esModule)return u;if(u===null||a(u)!=="object"&&typeof u!="function")return{default:u};var l=f();if(l&&l.has(u))return l.get(u);var i,m={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in u){var v;Object.prototype.hasOwnProperty.call(u,i)&&((v=g?Object.getOwnPropertyDescriptor(u,i):null)&&(v.get||v.set)?Object.defineProperty(m,i,v):m[i]=u[i])}return m.default=u,l&&l.set(u,m),m}(t("../core/constants"));function f(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,f=function(){return u},u)}s.default.Texture=function(u,l,i){return this._renderer=u,u=this._renderer.GL,(i=i||{}).dataType===u.FLOAT&&(u.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),u.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=l,this.glTex=void 0,this.glTarget=u.TEXTURE_2D,this.glFormat=i.format||u.RGBA,this.mipmaps=!1,this.glMinFilter=i.minFilter||u.LINEAR,this.glMagFilter=i.magFilter||u.LINEAR,this.glWrapS=i.wrapS||u.CLAMP_TO_EDGE,this.glWrapT=i.wrapT||u.CLAMP_TO_EDGE,this.glDataType=i.dataType||u.UNSIGNED_BYTE,this.isSrcMediaElement=s.default.MediaElement!==void 0&&l instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&l instanceof s.default.Element&&!(l instanceof s.default.Graphics)&&!(l instanceof s.default.Renderer),this.isSrcP5Image=l instanceof s.default.Image,this.isSrcP5Graphics=l instanceof s.default.Graphics,this.isSrcP5Renderer=l instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&l instanceof ImageData,i=this._getTextureDataFromSource(),this.width=i.width,this.height=i.height,this.init(i),this},s.default.Texture.prototype._getTextureDataFromSource=function(){var u;return this.isSrcP5Image?u=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?u=this.src.elt:this.isImageData&&(u=this.src),u},s.default.Texture.prototype.init=function(u){var l,i=this._renderer.GL;this.glTex=i.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(l=new Uint8Array([1,1,1,1]),i.texImage2D(this.glTarget,0,i.RGBA,1,1,0,this.glFormat,this.glDataType,l)):i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,u)},s.default.Texture.prototype.update=function(){var u,l,i,m=this.src;return m.width!==0&&m.height!==0&&(u=this._getTextureDataFromSource(),l=!1,i=this._renderer.GL,u.width!==this.width||u.height!==this.height?(l=!0,this.width=u.width,this.height=u.height,this.isSrcP5Image?m.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&m.setModified(!0)):this.isSrcP5Image?m.isModified()&&m.setModified(!(l=!0)):this.isSrcMediaElement?m.isModified()?m.setModified(!(l=!0)):m.loadedmetadata&&this._videoPrevUpdateTime!==m.time()&&(this._videoPrevUpdateTime=m.time(),l=!0):this.isImageData?m._dirty&&(l=!(m._dirty=!1)):l=!0,l&&(this.bindTexture(),i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,u)),l)},s.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},s.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},s.default.Texture.prototype.setInterpolation=function(u,l){var i=this._renderer.GL;u===d.NEAREST?this.glMinFilter=i.NEAREST:this.glMinFilter=i.LINEAR,l===d.NEAREST?this.glMagFilter=i.NEAREST:this.glMagFilter=i.LINEAR,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},s.default.Texture.prototype.setWrapMode=function(u,l){function i(b){return(b&b-1)==0}var m=this._renderer.GL,v=this._getTextureDataFromSource(),v=v.naturalWidth&&v.naturalHeight?(g=v.naturalWidth,v.naturalHeight):(g=this.width,this.height),g=i(g),v=i(v);u===d.REPEAT?g&&v?this.glWrapS=m.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=m.CLAMP_TO_EDGE):u===d.MIRROR?g&&v?this.glWrapS=m.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=m.CLAMP_TO_EDGE):this.glWrapS=m.CLAMP_TO_EDGE,l===d.REPEAT?g&&v?this.glWrapT=m.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=m.CLAMP_TO_EDGE):l===d.MIRROR?g&&v?this.glWrapT=m.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=m.CLAMP_TO_EDGE):this.glWrapT=m.CLAMP_TO_EDGE,this.bindTexture(),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,this.glWrapS),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var y=s.default.Texture;p.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(t,h,p){function c(g){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(g)}function a(g){return(a=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(v){return c(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":c(v)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var s,d=(s=t("../core/main"))&&s.__esModule?s:{default:s},f=function(g){if(g&&g.__esModule)return g;if(g===null||a(g)!=="object"&&typeof g!="function")return{default:g};var v=y();if(v&&v.has(g))return v.get(g);var b,w={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in g){var x;Object.prototype.hasOwnProperty.call(g,b)&&((x=S?Object.getOwnPropertyDescriptor(g,b):null)&&(x.get||x.set)?Object.defineProperty(w,b,x):w[b]=g[b])}return w.default=g,v&&v.set(g,w),w}(t("../core/constants"));function y(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,y=function(){return g},g)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){},d.default.RendererGL.prototype.textWidth=function(g){return this._isOpenType()?this._textFont._textWidth(g,this._textSize):0};function u(g,v){this.width=g,this.height=v,this.infos=[],this.findImage=function(b){var w,S,x=this.width*this.height;if(x<b)throw new Error("font is too complex to render in 3D");for(var M=this.infos.length-1;0<=M;--M){var C=this.infos[M];if(C.index+b<x){S=(w=C).imageData;break}}if(!w){try{S=new ImageData(this.width,this.height)}catch{var E=document.getElementsByTagName("canvas")[0],P=!E,D=(E||((E=document.createElement("canvas")).style.display="none",document.body.appendChild(E)),E.getContext("2d"));D&&(S=D.createImageData(this.width,this.height)),P&&document.body.removeChild(E)}this.infos.push(w={index:0,imageData:S})}return D=w.index,w.index+=b,S._dirty=!0,{imageData:S,index:D}}}function l(M,v,b,w,S){var x=M.imageData.data,M=4*M.index++;x[M++]=v,x[M++]=b,x[M++]=w,x[+M]=S}function i(g){this.font=g,this.strokeImageInfos=new u(64,64),this.colDimImageInfos=new u(64,64),this.rowDimImageInfos=new u(64,64),this.colCellImageInfos=new u(64,64),this.rowCellImageInfos=new u(64,64),this.glyphInfos={},this.getGlyphInfo=function(v){var b=this.glyphInfos[v.index];if(!b){var w=v.getBoundingBox(),S=w.x1,x=w.y1,M=w.x2-S,C=w.y2-x,E=v.path.commands;if(M==0||C==0||!E.length)return this.glyphInfos[v.index]={};for(var P,D,I,U,G=[],W=[],te=[],Q=8;0<=Q;--Q)te.push([]);for(Q=8;0<=Q;--Q)W.push([]);var J=!0,oe=!1,ee=void 0;try{for(var le,de=E[Symbol.iterator]();!(J=(le=de.next()).done);J=!0){var se=le.value,O=(se.x-S)/M,j=(se.y-x)/C;if(!it(P,D,O,j)){switch(se.type){case"M":I=O,U=j;break;case"L":Ge(P,D,O,j);break;case"Q":var F=(se.x1-S)/M,V=(se.y1-x)/C;Ae([P,O,F],[D,j,V],{x:P,y:D,cx:F,cy:V});break;case"Z":it(P,D,I,U)?G.push({x:P,y:D}):(Ge(P,D,I,U),G.push({x:I,y:U}));break;case"C":for(var ae=function(Me,L,k,Je,ze,tt,ct,Fe){var Me=new qe(new d.default.Vector(Me,L),new d.default.Vector(k,Je),new d.default.Vector(ze,tt),new d.default.Vector(ct,Fe)).splitInflections(),Te=[],B=30/m,z=!0,L=!1,k=void 0;try{for(var ge,ve=Me[Symbol.iterator]();!(z=(ge=ve.next()).done);z=!0){for(var _e=ge.value,H=[],ye=void 0;!(.125<=(ye=B/_e.quadError()));){var je=Math.pow(ye,.3333333333333333),pe=_e.split(je),Oe=_e.split(1-je/(1-je));Te.push(pe),H.push(_e),_e=Oe}ye<1&&Te.push(_e.split(.5)),Te.push(_e),Array.prototype.push.apply(Te,H.reverse())}}catch(Y){L=!0,k=Y}finally{try{z||ve.return==null||ve.return()}finally{if(L)throw k}}return Te}(P,D,(se.x1-S)/M,(se.y1-x)/C,(se.x2-S)/M,(se.y2-x)/C,O,j),ue=0;ue<ae.length;ue++){var Ee=ae[ue].toQuadratic();Ae([Ee.x,Ee.x1,Ee.cx],[Ee.y,Ee.y1,Ee.cy],Ee)}break;default:throw new Error("unknown command type: ".concat(se.type))}P=O,D=j}}}catch(Be){oe=!0,ee=Be}finally{try{J||de.return==null||de.return()}finally{if(oe)throw ee}}for(var Re=G.length,Ce=this.strokeImageInfos.findImage(Re),xe=Ce.index,Ze=0;Ze<Re;++Ze){var we=G[Ze];l(Ce,Ue(we.x),Ue(we.y),Ue(we.cx),Ue(we.cy))}(b=this.glyphInfos[v.index]={glyph:v,uGlyphRect:[w.x1,-w.y1,w.x2,-w.y2],strokeImageInfo:Ce,strokes:G,colInfo:ie(te,this.colDimImageInfos,this.colCellImageInfos),rowInfo:ie(W,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[b.colInfo.dimOffset,b.rowInfo.dimOffset]}return b;function Ae(Be,Pe,We){var Je=G.length;function ze(Te,B,z){for(var L=Te.length;0<L--;){var k=Te[L];k<B&&(B=k),z<k&&(z=k)}return{min:B,max:z}}G.push(We);for(var We=ze(Be,1,0),Be=Math.max(Math.floor(9*We.min-.5),0),tt=Math.min(Math.ceil(9*We.max+.5),9),ct=Be;ct<tt;++ct)te[ct].push(Je);for(var We=ze(Pe,1,0),Be=Math.max(Math.floor(9*We.min-.5),0),Fe=Math.min(Math.ceil(9*We.max+.5),9),Me=Be;Me<Fe;++Me)W[Me].push(Je)}function Ue(Be){return(Be=(We=255)*Be)<(Pe=0)?Pe:We<Be?We:Be;var Pe,We}function qe(Be,Pe,We,Je){this.p0=Be,this.c0=Pe,this.c1=We,this.p1=Je,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Me){var tt=d.default.Vector.lerp(this.p0,this.c0,Me),Fe=d.default.Vector.lerp(this.c0,this.c1,Me),ct=d.default.Vector.lerp(tt,Fe,Me),Fe=(this.c1=d.default.Vector.lerp(this.c1,this.p1,Me),this.c0=d.default.Vector.lerp(Fe,this.c1,Me),d.default.Vector.lerp(ct,this.c0,Me)),Me=new qe(this.p0,tt,ct,Fe);return this.p0=Fe,Me},this.splitInflections=function(){var ze=d.default.Vector.sub(this.c0,this.p0),tt=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),ze),ct=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),ze),d.default.Vector.mult(tt,2)),Fe=[],Me=tt.x*ct.y-tt.y*ct.x;return Me!==0&&0<=(ze=(ct=ze.x*ct.y-ze.y*ct.x)*ct-4*Me*(ze.x*tt.y-ze.y*tt.x))&&(Me<0&&(Me=-Me,ct=-ct),ze=(-ct+(tt=Math.sqrt(ze)))/(2*Me),0<(ct=(-ct-tt)/(2*Me))&&ct<1&&(Fe.push(this.split(ct)),ze=1-(1-ze)/(1-ct)),0<ze&&ze<1&&Fe.push(this.split(ze))),Fe.push(this),Fe}}function Ge(Be,Pe,We,Je){Ae([Be,We],[Pe,Je],{x:Be,y:Pe,cx:(Be+We)/2,cy:(Pe+Je)/2})}function it(Be,Pe,We,Je){return Math.abs(We-Be)<1e-5&&Math.abs(Je-Pe)<1e-5}function ie(Be,Pe,We){for(var Je=Be.length,ze=Pe.findImage(Je),Pe=ze.index,tt=0,ct=0;ct<Je;++ct)tt+=Be[ct].length;for(var Fe=We.findImage(tt),Me=0;Me<Je;++Me){var Te=Be[Me],B=Te.length,z=Fe.index;l(ze,z>>7,127&z,B>>7,127&B);for(var L=0;L<B;++L){var k=Te[L]+xe;l(Fe,k>>7,127&k,0,0)}}return{cellImageInfo:Fe,dimOffset:Pe,dimImageInfo:ze}}}}var m=Math.sqrt(3);d.default.RendererGL.prototype._renderText=function(g,v,b,w,S){if(this._textFont&&typeof this._textFont!="string"){if(!(S<=w)&&this._doFill){if(this._isOpenType()){g.push();var S=this._doStroke,x=this.drawMode,M=(this._doStroke=!1,this.drawMode=f.TEXTURE,this._textFont.font),C=(C=this._textFont._fontInfo)||(this._textFont._fontInfo=new i(M)),b=this._textFont._handleAlignment(this,v,b,w),w=this._textSize/M.unitsPerEm,E=(this.translate(b.x,b.y,0),this.scale(w,w,1),this.GL),b=!this._defaultFontShader,P=this._getFontShader(),D=(P.init(),P.bindShader(),b&&(P.setUniform("uGridImageSize",[64,64]),P.setUniform("uCellsImageSize",[64,64]),P.setUniform("uStrokeImageSize",[64,64]),P.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),I=(D||((w=this._textGeom=new d.default.Geometry(1,1,function(){for(var Ee=0;Ee<=1;Ee++)for(var Re=0;Re<=1;Re++)this.vertices.push(new d.default.Vector(Re,Ee,0)),this.uvs.push(Re,Ee)})).computeFaces().computeNormals(),D=this.createBuffers("glyph",w)),!0),b=!1,w=void 0;try{for(var U,G=this.retainedMode.buffers.text[Symbol.iterator]();!(I=(U=G.next()).done);I=!0)U.value._prepareBuffer(D,P)}catch(Ee){b=!0,w=Ee}finally{try{I||G.return==null||G.return()}finally{if(b)throw w}}this._bindBuffer(D.indexBuffer,E.ELEMENT_ARRAY_BUFFER),P.setUniform("uMaterialColor",this.curFillColor);try{var W=0,te=null,Q=M.stringToGlyphs(v),J=!0,oe=!1,ee=void 0;try{for(var le,de=Q[Symbol.iterator]();!(J=(le=de.next()).done);J=!0){var se,O,j=le.value,F=(te&&(W+=M.getKerningValue(te,j)),C.getGlyphInfo(j));F.uGlyphRect&&(se=F.rowInfo,O=F.colInfo,P.setUniform("uSamplerStrokes",F.strokeImageInfo.imageData),P.setUniform("uSamplerRowStrokes",se.cellImageInfo.imageData),P.setUniform("uSamplerRows",se.dimImageInfo.imageData),P.setUniform("uSamplerColStrokes",O.cellImageInfo.imageData),P.setUniform("uSamplerCols",O.dimImageInfo.imageData),P.setUniform("uGridOffset",F.uGridOffset),P.setUniform("uGlyphRect",F.uGlyphRect),P.setUniform("uGlyphOffset",W),P.bindTextures(),E.drawElements(E.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),W+=j.advanceWidth,te=j}}catch(Ee){oe=!0,ee=Ee}finally{try{J||de.return==null||de.return()}finally{if(oe)throw ee}}}finally{P.unbindShader(),this._doStroke=S,this.drawMode=x,g.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return g}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)})})(Zv);const ru=Sf(Zv.exports),bj=Bt.div`
    width: ${n=>n.length}px;
`,xj=Bt.div`
    display: flex;
    box-sizing: border-box;
    border-radius: 4px;
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    scrollbar-width: none;
    &::-webkit-scrollbar {
        display: none;
    }
    color: ${zt.AppTextColor};
`,wj=Bt.div`
    @media only screen and (max-width: 768px) {
        min-width: ${vo}px;
    }
    @media only screen and (min-width: 768px) {
        min-width: ${vo}px;
    }
    position: sticky;
    left: 0;
    display: flex;
    flex-direction: column;
    z-index: 10;
`,Sj=Bt.div`
    min-width: ${n=>n.length}px;
    background-image:
        linear-gradient(to right, rgba(206, 212, 222, 0.075) 1px, transparent 1px),
        linear-gradient(to bottom, ${zt.AppGradient} 4px, transparent 1px);
    background-size: 50px 100px;
    background-color: ${zt.ChannelColor};
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    z-index: 4;
`;Bt.div`
`;const Tj=Bt.div`
    position: relative;
    display: flex;
    height: ${n=>n.height}px;
`,jj=Bt.div`
    position: sticky;
    bottom: 0;
    width: 100%;
    height: ${Pd}px;
`,Ej=Bt.div`
    position: sticky;
    display: flex;
    justify-content: center;
    align-items: center;
    left: 0;
    bottom: 0;
    height: ${Pd}px;
    background-color: ${zt.AppGradient};
    border-radius: 0px 0px 0px 8px;
    z-index: 3;
`,Cj=Bt.div`
    position: relative;
    display: flex;
    box-sizing: border-box;
    height: ${Pd}px;
    width: 100%;
    :hover {cursor: col-resize;};
`;Bt.button`
    background: url('images/plus.png') no-repeat;
    background-size: 30px;
    width: 30px;
    height: 30px;
    border: none;
    opacity: 0.8;
    :hover {
        cursor: pointer;
        opacity: 1;
    }
`;const Mj=Bt.div`
    width: 100%;
    height: 3vh;
    display: flex;
    justify-content: space-around;
    align-items: center;
`;Bt.span`
    display: flex;
    align-items: center;
    width: 60%;
    height: 60%;
    margin-right: 10%;
    font-size: 1rem;
`;Bt.label`
    margin-right: 10%;
`;Bt.input`
    background-color: ${zt.AppSecondaryColor};
    font-size: 0.9rem;
    text-indent: 0.3rem;
    color: ${zt.AppTextColor};
    ::placeholder {
        color: ${zt.AppTextColor};
    }
    :focus::placeholder {
        color: transparent;
    }
    border: none;
    border-radius: 4px;
    width: 35%;
    height: 2rem;
    margin-right: 5px;
`;const Aj=Bt.div`
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    font-size: 1rem;
`,kj=Bt.button`
    background: url('images/power_white.png') no-repeat;
    height: 1.5rem;
    width: 1.5rem;
    background-size: 1.5rem;
    border: none;
    border-radius: 50%;
    margin-left: 10%;
    :hover {
        cursor: pointer
    }
    opacity: ${n=>n.snapState?"0.9":"0.3"};
`,Rj=Bt.span``,Oj=Bt.div`
	position: absolute;
	top: 5px;
	width: 1px;
	background-clip: content-box;

	height: ${n=>n.height-5+"px"};
	background-color: red;
	opacity: 0.5;
	z-index: 4;
	:hover {cursor: col-resize;}
`,Uo=Ot.exports.createContext(null),ts=Ot.exports.createContext(null),Pj=Bt.div`
	box-sizing: border-box;
	display: flex;
    justify-content: center;
	align-items: center;
	background-color: ${n=>n.selected?zt.ChannelHighlight:zt.ChannelColor};

    @media only screen and (max-width: 768px) {
        width: ${vo}px;
        height: ${vo}px;
    }
    @media only screen and (min-width: 768px) {
        width: ${vo}px;
	    height: ${vo}px;
    }
    border-top: 4px solid ${zt.AppGradient};
    border-right: 2px solid ${zt.AppGradient};
	z-index: 10;
`,Ij=Bt.h3`
	width: 100%;
    text-align: center;
	color: ${zt.AppTextColor};
	font-size: 0.9rem;
    -webkit-user-select: none; /* Safari */
    -ms-user-select: none; /* IE 10 and IE 11 */
    user-select: none;
    :hover {cursor: text;}
`,Dj=Bt.input`
    all: unset;
    text-align: center;
	color: ${zt.AppTextColor};
	font-size: 0.9rem;
	font-weight: bold;
    height: 30%;
	width: 80%;
	background-color: ${zt.AppGradient};
	border: none;
	border-radius: 2px;

	::placeholder,
	::-webkit-input-placeholder {
		color: ${zt.AppTextColor};
	}
	:-ms-input-placeholder {
		color:  ${zt.AppTextColor};
	}
`;function Lj(){const[n,r]=Ot.exports.useState(""),o=["Escape","Backspace"," "];function t({key:p}){o.findIndex(a=>a==p)!=-1&&r(p)}function h({key:p}){r("")}return Ot.exports.useEffect(()=>(window.addEventListener("keydown",t),window.addEventListener("keyup",h),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",h)}),[]),n}const Qv=n=>{n==null||n.click()};function Nj(n,r){Ot.exports.useEffect(()=>{function o(t){n.current&&!n.current.contains(t.target)&&r(!1)}return document.addEventListener("mousedown",t=>o(t)),()=>document.removeEventListener("mousedown",t=>o(t))},[n])}const Bj=(n,r)=>{n.stopPropagation(),r.current=n.target.value},Fj=(n,r,o,t)=>{n.stopPropagation(),n.key==="Enter"&&r.current!=""?(t(),o(!1)):n.key==="Escape"&&o(!1)};var c0={exports:{}},nu={};/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uj=Ot.exports,Kv=60103;nu.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var r1=Symbol.for;Kv=r1("react.element"),nu.Fragment=r1("react.fragment")}var Vj=Uj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gj=Object.prototype.hasOwnProperty,zj={key:!0,ref:!0,__self:!0,__source:!0};function Jv(n,r,o){var t,h={},p=null,c=null;o!==void 0&&(p=""+o),r.key!==void 0&&(p=""+r.key),r.ref!==void 0&&(c=r.ref);for(t in r)Gj.call(r,t)&&!zj.hasOwnProperty(t)&&(h[t]=r[t]);if(n&&n.defaultProps)for(t in r=n.defaultProps,r)h[t]===void 0&&(h[t]=r[t]);return{$$typeof:Kv,type:n,key:p,ref:c,props:h,_owner:Vj.current}}nu.jsx=Jv;nu.jsxs=Jv;(function(n){n.exports=nu})(c0);const It=c0.exports.jsx,Ar=c0.exports.jsxs;function Hj({channelData:n}){const[r,o]=Ot.exports.useState(!1),t=Ot.exports.useRef(),h=Ot.exports.useRef(""),p=Lj(),c=Ot.exports.useRef(null);d(c);const a=Ot.exports.useContext(Uo),s=Ot.exports.useContext(ts);function d(g){Ot.exports.useEffect(()=>{function v(b){g.current&&!g.current.contains(b.target)&&o(!1)}return document.addEventListener("mousedown",b=>v(b)),()=>document.removeEventListener("mousedown",b=>v(b))},[g])}const f=g=>{g.stopPropagation(),h.current=g.target.value},y=g=>{g.stopPropagation(),g.key==="Enter"&&h.current!=""?(s({type:tr.editChannelName,payload:{id:n.id,name:h.current}}),o(!1)):g.key==="Escape"&&o(!1)},u=g=>{clearTimeout(t.current),g.detail===1?t.current=setTimeout(l,50):g.detail===2&&g.target&&g.target.id=="channelName"&&(o(!0),Qv(document.getElementById("channelNameInput")))},l=()=>{s({type:tr.selectChannel,payload:n.id})},i=()=>{tn(a.selectedRecording)&&s({type:tr.deleteSelectedRecording,payload:a.selectedRecording})},m=()=>{s({type:tr.deleteSelectedChannel})};return Ot.exports.useEffect(()=>{switch(p){case"Escape":case"Backspace":Object.keys(a.selectedRecording).length!=0?i():a.selectedChannel&&a.channels.length>1&&m();default:return}},[p]),It(Pj,{selected:n.id==a.selectedChannel,onClick:g=>u(g),children:r?It(Dj,{type:"text",id:"channelNameInput",ref:c,onChange:g=>f(g),onKeyDown:g=>y(g),placeholder:n.name,autoFocus:!0}):It(Ij,{id:"channelName",children:n.name})},n.toString())}const e_=Ot.exports.createContext(!1);var ri={exports:{}},t_={},Id={exports:{}},Wj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",qj=Wj,Xj=qj;function r_(){}function n_(){}n_.resetWarningCache=r_;var Yj=function(){function n(t,h,p,c,a,s){if(s!==Xj){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}n.isRequired=n;function r(){return n}var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:n_,resetWarningCache:r_};return o.PropTypes=o,o};Id.exports=Yj();function o_(n){var r,o,t="";if(typeof n=="string"||typeof n=="number")t+=n;else if(typeof n=="object")if(Array.isArray(n))for(r=0;r<n.length;r++)n[r]&&(o=o_(n[r]))&&(t&&(t+=" "),t+=o);else for(r in n)n[r]&&(t&&(t+=" "),t+=r);return t}function n1(){for(var n,r,o=0,t="";o<arguments.length;)(n=arguments[o++])&&(r=o_(n))&&(t&&(t+=" "),t+=r);return t}const $j=Object.freeze(Object.defineProperty({__proto__:null,clsx:n1,default:n1},Symbol.toStringTag,{value:"Module"})),Zj=k_($j);var Zr={},rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.dontSetMe=t6;rs.findInArray=Qj;rs.int=e6;rs.isFunction=Kj;rs.isNum=Jj;function Qj(n,r){for(var o=0,t=n.length;o<t;o++)if(r.apply(r,[n[o],o,n]))return n[o]}function Kj(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function Jj(n){return typeof n=="number"&&!isNaN(n)}function e6(n){return parseInt(n,10)}function t6(n,r,o){if(n[r])return new Error("Invalid prop ".concat(r," passed to ").concat(o," - do not set this, set it on the child."))}var Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.browserPrefixToKey=i_;Li.browserPrefixToStyle=r6;Li.default=void 0;Li.getPrefix=s_;var oh=["Moz","Webkit","O","ms"];function s_(){var n,r,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var t=(n=window.document)===null||n===void 0||(r=n.documentElement)===null||r===void 0?void 0:r.style;if(!t||o in t)return"";for(var h=0;h<oh.length;h++)if(i_(o,oh[h])in t)return oh[h];return""}function i_(n,r){return r?"".concat(r).concat(n6(n)):n}function r6(n,r){return r?"-".concat(r.toLowerCase(),"-").concat(n):n}function n6(n){for(var r="",o=!0,t=0;t<n.length;t++)o?(r+=n[t].toUpperCase(),o=!1):n[t]==="-"?o=!0:r+=n[t];return r}var o6=s_();Li.default=o6;function bf(n){return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},bf(n)}Object.defineProperty(Zr,"__esModule",{value:!0});Zr.addClassName=d_;Zr.addEvent=a6;Zr.addUserSelectStyles=v6;Zr.createCSSTransform=p6;Zr.createSVGTransform=m6;Zr.getTouch=y6;Zr.getTouchIdentifier=g6;Zr.getTranslation=d0;Zr.innerHeight=d6;Zr.innerWidth=h6;Zr.matchesSelector=c_;Zr.matchesSelectorAndParentsTo=i6;Zr.offsetXYFromParent=f6;Zr.outerHeight=u6;Zr.outerWidth=c6;Zr.removeClassName=h_;Zr.removeEvent=l6;Zr.removeUserSelectStyles=_6;var io=rs,o1=s6(Li);function a_(n){if(typeof WeakMap!="function")return null;var r=new WeakMap,o=new WeakMap;return(a_=function(h){return h?o:r})(n)}function s6(n,r){if(!r&&n&&n.__esModule)return n;if(n===null||bf(n)!=="object"&&typeof n!="function")return{default:n};var o=a_(r);if(o&&o.has(n))return o.get(n);var t={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if(p!=="default"&&Object.prototype.hasOwnProperty.call(n,p)){var c=h?Object.getOwnPropertyDescriptor(n,p):null;c&&(c.get||c.set)?Object.defineProperty(t,p,c):t[p]=n[p]}return t.default=n,o&&o.set(n,t),t}function s1(n,r){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter(function(h){return Object.getOwnPropertyDescriptor(n,h).enumerable})),o.push.apply(o,t)}return o}function l_(n){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?s1(Object(o),!0).forEach(function(t){u_(n,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):s1(Object(o)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(o,t))})}return n}function u_(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}var Tu="";function c_(n,r){return Tu||(Tu=(0,io.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(o){return(0,io.isFunction)(n[o])})),(0,io.isFunction)(n[Tu])?n[Tu](r):!1}function i6(n,r,o){var t=n;do{if(c_(t,r))return!0;if(t===o)return!1;t=t.parentNode}while(t);return!1}function a6(n,r,o,t){if(!!n){var h=l_({capture:!0},t);n.addEventListener?n.addEventListener(r,o,h):n.attachEvent?n.attachEvent("on"+r,o):n["on"+r]=o}}function l6(n,r,o,t){if(!!n){var h=l_({capture:!0},t);n.removeEventListener?n.removeEventListener(r,o,h):n.detachEvent?n.detachEvent("on"+r,o):n["on"+r]=null}}function u6(n){var r=n.clientHeight,o=n.ownerDocument.defaultView.getComputedStyle(n);return r+=(0,io.int)(o.borderTopWidth),r+=(0,io.int)(o.borderBottomWidth),r}function c6(n){var r=n.clientWidth,o=n.ownerDocument.defaultView.getComputedStyle(n);return r+=(0,io.int)(o.borderLeftWidth),r+=(0,io.int)(o.borderRightWidth),r}function d6(n){var r=n.clientHeight,o=n.ownerDocument.defaultView.getComputedStyle(n);return r-=(0,io.int)(o.paddingTop),r-=(0,io.int)(o.paddingBottom),r}function h6(n){var r=n.clientWidth,o=n.ownerDocument.defaultView.getComputedStyle(n);return r-=(0,io.int)(o.paddingLeft),r-=(0,io.int)(o.paddingRight),r}function f6(n,r,o){var t=r===r.ownerDocument.body,h=t?{left:0,top:0}:r.getBoundingClientRect(),p=(n.clientX+r.scrollLeft-h.left)/o,c=(n.clientY+r.scrollTop-h.top)/o;return{x:p,y:c}}function p6(n,r){var o=d0(n,r,"px");return u_({},(0,o1.browserPrefixToKey)("transform",o1.default),o)}function m6(n,r){var o=d0(n,r,"");return o}function d0(n,r,o){var t=n.x,h=n.y,p="translate(".concat(t).concat(o,",").concat(h).concat(o,")");if(r){var c="".concat(typeof r.x=="string"?r.x:r.x+o),a="".concat(typeof r.y=="string"?r.y:r.y+o);p="translate(".concat(c,", ").concat(a,")")+p}return p}function y6(n,r){return n.targetTouches&&(0,io.findInArray)(n.targetTouches,function(o){return r===o.identifier})||n.changedTouches&&(0,io.findInArray)(n.changedTouches,function(o){return r===o.identifier})}function g6(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function v6(n){if(!!n){var r=n.getElementById("react-draggable-style-el");r||(r=n.createElement("style"),r.type="text/css",r.id="react-draggable-style-el",r.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,r.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(r)),n.body&&d_(n.body,"react-draggable-transparent-selection")}}function _6(n){if(!!n)try{if(n.body&&h_(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{var r=(n.defaultView||window).getSelection();r&&r.type!=="Caret"&&r.removeAllRanges()}}catch{}}function d_(n,r){n.classList?n.classList.add(r):n.className.match(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)")))||(n.className+=" ".concat(r))}function h_(n,r){n.classList?n.classList.remove(r):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)"),"g"),"")}var ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.canDragX=w6;ns.canDragY=S6;ns.createCoreData=j6;ns.createDraggableData=E6;ns.getBoundPosition=b6;ns.getControlPosition=T6;ns.snapToGrid=x6;var ro=rs,ea=Zr;function b6(n,r,o){if(!n.props.bounds)return[r,o];var t=n.props.bounds;t=typeof t=="string"?t:C6(t);var h=h0(n);if(typeof t=="string"){var p=h.ownerDocument,c=p.defaultView,a;if(t==="parent"?a=h.parentNode:a=p.querySelector(t),!(a instanceof c.HTMLElement))throw new Error('Bounds selector "'+t+'" could not find an element.');var s=a,d=c.getComputedStyle(h),f=c.getComputedStyle(s);t={left:-h.offsetLeft+(0,ro.int)(f.paddingLeft)+(0,ro.int)(d.marginLeft),top:-h.offsetTop+(0,ro.int)(f.paddingTop)+(0,ro.int)(d.marginTop),right:(0,ea.innerWidth)(s)-(0,ea.outerWidth)(h)-h.offsetLeft+(0,ro.int)(f.paddingRight)-(0,ro.int)(d.marginRight),bottom:(0,ea.innerHeight)(s)-(0,ea.outerHeight)(h)-h.offsetTop+(0,ro.int)(f.paddingBottom)-(0,ro.int)(d.marginBottom)}}return(0,ro.isNum)(t.right)&&(r=Math.min(r,t.right)),(0,ro.isNum)(t.bottom)&&(o=Math.min(o,t.bottom)),(0,ro.isNum)(t.left)&&(r=Math.max(r,t.left)),(0,ro.isNum)(t.top)&&(o=Math.max(o,t.top)),[r,o]}function x6(n,r,o){var t=Math.round(r/n[0])*n[0],h=Math.round(o/n[1])*n[1];return[t,h]}function w6(n){return n.props.axis==="both"||n.props.axis==="x"}function S6(n){return n.props.axis==="both"||n.props.axis==="y"}function T6(n,r,o){var t=typeof r=="number"?(0,ea.getTouch)(n,r):null;if(typeof r=="number"&&!t)return null;var h=h0(o),p=o.props.offsetParent||h.offsetParent||h.ownerDocument.body;return(0,ea.offsetXYFromParent)(t||n,p,o.props.scale)}function j6(n,r,o){var t=n.state,h=!(0,ro.isNum)(t.lastX),p=h0(n);return h?{node:p,deltaX:0,deltaY:0,lastX:r,lastY:o,x:r,y:o}:{node:p,deltaX:r-t.lastX,deltaY:o-t.lastY,lastX:t.lastX,lastY:t.lastY,x:r,y:o}}function E6(n,r){var o=n.props.scale;return{node:r.node,x:n.state.x+r.deltaX/o,y:n.state.y+r.deltaY/o,deltaX:r.deltaX/o,deltaY:r.deltaY/o,lastX:n.state.x,lastY:n.state.y}}function C6(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function h0(n){var r=n.findDOMNode();if(!r)throw new Error("<DraggableCore>: Unmounted during event!");return r}var Dd={},Ld={};Object.defineProperty(Ld,"__esModule",{value:!0});Ld.default=M6;function M6(){}function Uc(n){return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Uc(n)}Object.defineProperty(Dd,"__esModule",{value:!0});Dd.default=void 0;var sh=k6(Ot.exports),to=f0(Id.exports),A6=f0(Gc.exports),Dn=Zr,Rs=ns,ih=rs,Ya=f0(Ld);function f0(n){return n&&n.__esModule?n:{default:n}}function f_(n){if(typeof WeakMap!="function")return null;var r=new WeakMap,o=new WeakMap;return(f_=function(h){return h?o:r})(n)}function k6(n,r){if(!r&&n&&n.__esModule)return n;if(n===null||Uc(n)!=="object"&&typeof n!="function")return{default:n};var o=f_(r);if(o&&o.has(n))return o.get(n);var t={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in n)if(p!=="default"&&Object.prototype.hasOwnProperty.call(n,p)){var c=h?Object.getOwnPropertyDescriptor(n,p):null;c&&(c.get||c.set)?Object.defineProperty(t,p,c):t[p]=n[p]}return t.default=n,o&&o.set(n,t),t}function i1(n,r){return I6(n)||P6(n,r)||O6(n,r)||R6()}function R6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O6(n,r){if(!!n){if(typeof n=="string")return a1(n,r);var o=Object.prototype.toString.call(n).slice(8,-1);if(o==="Object"&&n.constructor&&(o=n.constructor.name),o==="Map"||o==="Set")return Array.from(n);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return a1(n,r)}}function a1(n,r){(r==null||r>n.length)&&(r=n.length);for(var o=0,t=new Array(r);o<r;o++)t[o]=n[o];return t}function P6(n,r){var o=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(o!=null){var t=[],h=!0,p=!1,c,a;try{for(o=o.call(n);!(h=(c=o.next()).done)&&(t.push(c.value),!(r&&t.length===r));h=!0);}catch(s){p=!0,a=s}finally{try{!h&&o.return!=null&&o.return()}finally{if(p)throw a}}return t}}function I6(n){if(Array.isArray(n))return n}function D6(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}function l1(n,r){for(var o=0;o<r.length;o++){var t=r[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function L6(n,r,o){return r&&l1(n.prototype,r),o&&l1(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n}function N6(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&xf(n,r)}function xf(n,r){return xf=Object.setPrototypeOf||function(t,h){return t.__proto__=h,t},xf(n,r)}function B6(n){var r=U6();return function(){var t=Vc(n),h;if(r){var p=Vc(this).constructor;h=Reflect.construct(t,arguments,p)}else h=t.apply(this,arguments);return F6(this,h)}}function F6(n,r){if(r&&(Uc(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ln(n)}function Ln(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function U6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vc(n){return Vc=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)},Vc(n)}function po(n,r,o){return r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n}var Mo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Os=Mo.mouse,Nd=function(n){N6(o,n);var r=B6(o);function o(){var t;D6(this,o);for(var h=arguments.length,p=new Array(h),c=0;c<h;c++)p[c]=arguments[c];return t=r.call.apply(r,[this].concat(p)),po(Ln(t),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),po(Ln(t),"mounted",!1),po(Ln(t),"handleDragStart",function(a){if(t.props.onMouseDown(a),!t.props.allowAnyClick&&typeof a.button=="number"&&a.button!==0)return!1;var s=t.findDOMNode();if(!s||!s.ownerDocument||!s.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var d=s.ownerDocument;if(!(t.props.disabled||!(a.target instanceof d.defaultView.Node)||t.props.handle&&!(0,Dn.matchesSelectorAndParentsTo)(a.target,t.props.handle,s)||t.props.cancel&&(0,Dn.matchesSelectorAndParentsTo)(a.target,t.props.cancel,s))){a.type==="touchstart"&&a.preventDefault();var f=(0,Dn.getTouchIdentifier)(a);t.setState({touchIdentifier:f});var y=(0,Rs.getControlPosition)(a,f,Ln(t));if(y!=null){var u=y.x,l=y.y,i=(0,Rs.createCoreData)(Ln(t),u,l);(0,Ya.default)("DraggableCore: handleDragStart: %j",i),(0,Ya.default)("calling",t.props.onStart);var m=t.props.onStart(a,i);m===!1||t.mounted===!1||(t.props.enableUserSelectHack&&(0,Dn.addUserSelectStyles)(d),t.setState({dragging:!0,lastX:u,lastY:l}),(0,Dn.addEvent)(d,Os.move,t.handleDrag),(0,Dn.addEvent)(d,Os.stop,t.handleDragStop))}}}),po(Ln(t),"handleDrag",function(a){var s=(0,Rs.getControlPosition)(a,t.state.touchIdentifier,Ln(t));if(s!=null){var d=s.x,f=s.y;if(Array.isArray(t.props.grid)){var y=d-t.state.lastX,u=f-t.state.lastY,l=(0,Rs.snapToGrid)(t.props.grid,y,u),i=i1(l,2);if(y=i[0],u=i[1],!y&&!u)return;d=t.state.lastX+y,f=t.state.lastY+u}var m=(0,Rs.createCoreData)(Ln(t),d,f);(0,Ya.default)("DraggableCore: handleDrag: %j",m);var g=t.props.onDrag(a,m);if(g===!1||t.mounted===!1){try{t.handleDragStop(new MouseEvent("mouseup"))}catch{var v=document.createEvent("MouseEvents");v.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.handleDragStop(v)}return}t.setState({lastX:d,lastY:f})}}),po(Ln(t),"handleDragStop",function(a){if(!!t.state.dragging){var s=(0,Rs.getControlPosition)(a,t.state.touchIdentifier,Ln(t));if(s!=null){var d=s.x,f=s.y;if(Array.isArray(t.props.grid)){var y=d-t.state.lastX||0,u=f-t.state.lastY||0,l=(0,Rs.snapToGrid)(t.props.grid,y,u),i=i1(l,2);y=i[0],u=i[1],d=t.state.lastX+y,f=t.state.lastY+u}var m=(0,Rs.createCoreData)(Ln(t),d,f),g=t.props.onStop(a,m);if(g===!1||t.mounted===!1)return!1;var v=t.findDOMNode();v&&t.props.enableUserSelectHack&&(0,Dn.removeUserSelectStyles)(v.ownerDocument),(0,Ya.default)("DraggableCore: handleDragStop: %j",m),t.setState({dragging:!1,lastX:NaN,lastY:NaN}),v&&((0,Ya.default)("DraggableCore: Removing handlers"),(0,Dn.removeEvent)(v.ownerDocument,Os.move,t.handleDrag),(0,Dn.removeEvent)(v.ownerDocument,Os.stop,t.handleDragStop))}}}),po(Ln(t),"onMouseDown",function(a){return Os=Mo.mouse,t.handleDragStart(a)}),po(Ln(t),"onMouseUp",function(a){return Os=Mo.mouse,t.handleDragStop(a)}),po(Ln(t),"onTouchStart",function(a){return Os=Mo.touch,t.handleDragStart(a)}),po(Ln(t),"onTouchEnd",function(a){return Os=Mo.touch,t.handleDragStop(a)}),t}return L6(o,[{key:"componentDidMount",value:function(){this.mounted=!0;var h=this.findDOMNode();h&&(0,Dn.addEvent)(h,Mo.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var h=this.findDOMNode();if(h){var p=h.ownerDocument;(0,Dn.removeEvent)(p,Mo.mouse.move,this.handleDrag),(0,Dn.removeEvent)(p,Mo.touch.move,this.handleDrag),(0,Dn.removeEvent)(p,Mo.mouse.stop,this.handleDragStop),(0,Dn.removeEvent)(p,Mo.touch.stop,this.handleDragStop),(0,Dn.removeEvent)(h,Mo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Dn.removeUserSelectStyles)(p)}}},{key:"findDOMNode",value:function(){var h,p,c;return(h=this.props)!==null&&h!==void 0&&h.nodeRef?(p=this.props)===null||p===void 0||(c=p.nodeRef)===null||c===void 0?void 0:c.current:A6.default.findDOMNode(this)}},{key:"render",value:function(){return sh.cloneElement(sh.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),o}(sh.Component);Dd.default=Nd;po(Nd,"displayName","DraggableCore");po(Nd,"propTypes",{allowAnyClick:to.default.bool,disabled:to.default.bool,enableUserSelectHack:to.default.bool,offsetParent:function(r,o){if(r[o]&&r[o].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:to.default.arrayOf(to.default.number),handle:to.default.string,cancel:to.default.string,nodeRef:to.default.object,onStart:to.default.func,onDrag:to.default.func,onStop:to.default.func,onMouseDown:to.default.func,scale:to.default.number,className:ih.dontSetMe,style:ih.dontSetMe,transform:ih.dontSetMe});po(Nd,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){function r(se){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},r(se)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),n.default=void 0;var o=i(Ot.exports),t=u(Id.exports),h=u(Gc.exports),p=u(Zj),c=Zr,a=ns,s=rs,d=u(Dd),f=u(Ld),y=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function u(se){return se&&se.__esModule?se:{default:se}}function l(se){if(typeof WeakMap!="function")return null;var O=new WeakMap,j=new WeakMap;return(l=function(V){return V?j:O})(se)}function i(se,O){if(!O&&se&&se.__esModule)return se;if(se===null||r(se)!=="object"&&typeof se!="function")return{default:se};var j=l(O);if(j&&j.has(se))return j.get(se);var F={},V=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in se)if(ae!=="default"&&Object.prototype.hasOwnProperty.call(se,ae)){var ue=V?Object.getOwnPropertyDescriptor(se,ae):null;ue&&(ue.get||ue.set)?Object.defineProperty(F,ae,ue):F[ae]=se[ae]}return F.default=se,j&&j.set(se,F),F}function m(){return m=Object.assign||function(se){for(var O=1;O<arguments.length;O++){var j=arguments[O];for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&(se[F]=j[F])}return se},m.apply(this,arguments)}function g(se,O){if(se==null)return{};var j=v(se,O),F,V;if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(se);for(V=0;V<ae.length;V++)F=ae[V],!(O.indexOf(F)>=0)&&(!Object.prototype.propertyIsEnumerable.call(se,F)||(j[F]=se[F]))}return j}function v(se,O){if(se==null)return{};var j={},F=Object.keys(se),V,ae;for(ae=0;ae<F.length;ae++)V=F[ae],!(O.indexOf(V)>=0)&&(j[V]=se[V]);return j}function b(se,O){var j=Object.keys(se);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(se);O&&(F=F.filter(function(V){return Object.getOwnPropertyDescriptor(se,V).enumerable})),j.push.apply(j,F)}return j}function w(se){for(var O=1;O<arguments.length;O++){var j=arguments[O]!=null?arguments[O]:{};O%2?b(Object(j),!0).forEach(function(F){le(se,F,j[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(j)):b(Object(j)).forEach(function(F){Object.defineProperty(se,F,Object.getOwnPropertyDescriptor(j,F))})}return se}function S(se,O){return P(se)||E(se,O)||M(se,O)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M(se,O){if(!!se){if(typeof se=="string")return C(se,O);var j=Object.prototype.toString.call(se).slice(8,-1);if(j==="Object"&&se.constructor&&(j=se.constructor.name),j==="Map"||j==="Set")return Array.from(se);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return C(se,O)}}function C(se,O){(O==null||O>se.length)&&(O=se.length);for(var j=0,F=new Array(O);j<O;j++)F[j]=se[j];return F}function E(se,O){var j=se==null?null:typeof Symbol<"u"&&se[Symbol.iterator]||se["@@iterator"];if(j!=null){var F=[],V=!0,ae=!1,ue,Ee;try{for(j=j.call(se);!(V=(ue=j.next()).done)&&(F.push(ue.value),!(O&&F.length===O));V=!0);}catch(Re){ae=!0,Ee=Re}finally{try{!V&&j.return!=null&&j.return()}finally{if(ae)throw Ee}}return F}}function P(se){if(Array.isArray(se))return se}function D(se,O){if(!(se instanceof O))throw new TypeError("Cannot call a class as a function")}function I(se,O){for(var j=0;j<O.length;j++){var F=O[j];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(se,F.key,F)}}function U(se,O,j){return O&&I(se.prototype,O),j&&I(se,j),Object.defineProperty(se,"prototype",{writable:!1}),se}function G(se,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(O&&O.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),Object.defineProperty(se,"prototype",{writable:!1}),O&&W(se,O)}function W(se,O){return W=Object.setPrototypeOf||function(F,V){return F.__proto__=V,F},W(se,O)}function te(se){var O=oe();return function(){var F=ee(se),V;if(O){var ae=ee(this).constructor;V=Reflect.construct(F,arguments,ae)}else V=F.apply(this,arguments);return Q(this,V)}}function Q(se,O){if(O&&(r(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J(se)}function J(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function oe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ee(se){return ee=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},ee(se)}function le(se,O,j){return O in se?Object.defineProperty(se,O,{value:j,enumerable:!0,configurable:!0,writable:!0}):se[O]=j,se}var de=function(se){G(j,se);var O=te(j);function j(F){var V;return D(this,j),V=O.call(this,F),le(J(V),"onDragStart",function(ae,ue){(0,f.default)("Draggable: onDragStart: %j",ue);var Ee=V.props.onStart(ae,(0,a.createDraggableData)(J(V),ue));if(Ee===!1)return!1;V.setState({dragging:!0,dragged:!0})}),le(J(V),"onDrag",function(ae,ue){if(!V.state.dragging)return!1;(0,f.default)("Draggable: onDrag: %j",ue);var Ee=(0,a.createDraggableData)(J(V),ue),Re={x:Ee.x,y:Ee.y};if(V.props.bounds){var Ce=Re.x,xe=Re.y;Re.x+=V.state.slackX,Re.y+=V.state.slackY;var Ze=(0,a.getBoundPosition)(J(V),Re.x,Re.y),we=S(Ze,2),Ae=we[0],Ue=we[1];Re.x=Ae,Re.y=Ue,Re.slackX=V.state.slackX+(Ce-Re.x),Re.slackY=V.state.slackY+(xe-Re.y),Ee.x=Re.x,Ee.y=Re.y,Ee.deltaX=Re.x-V.state.x,Ee.deltaY=Re.y-V.state.y}var qe=V.props.onDrag(ae,Ee);if(qe===!1)return!1;V.setState(Re)}),le(J(V),"onDragStop",function(ae,ue){if(!V.state.dragging)return!1;var Ee=V.props.onStop(ae,(0,a.createDraggableData)(J(V),ue));if(Ee===!1)return!1;(0,f.default)("Draggable: onDragStop: %j",ue);var Re={dragging:!1,slackX:0,slackY:0},Ce=Boolean(V.props.position);if(Ce){var xe=V.props.position,Ze=xe.x,we=xe.y;Re.x=Ze,Re.y=we}V.setState(Re)}),V.state={dragging:!1,dragged:!1,x:F.position?F.position.x:F.defaultPosition.x,y:F.position?F.position.y:F.defaultPosition.y,prevPropsPosition:w({},F.position),slackX:0,slackY:0,isElementSVG:!1},F.position&&!(F.onDrag||F.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),V}return U(j,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var V,ae,ue;return(V=(ae=this.props)===null||ae===void 0||(ue=ae.nodeRef)===null||ue===void 0?void 0:ue.current)!==null&&V!==void 0?V:h.default.findDOMNode(this)}},{key:"render",value:function(){var V,ae=this.props;ae.axis,ae.bounds;var ue=ae.children,Ee=ae.defaultPosition,Re=ae.defaultClassName,Ce=ae.defaultClassNameDragging,xe=ae.defaultClassNameDragged,Ze=ae.position,we=ae.positionOffset;ae.scale;var Ae=g(ae,y),Ue={},qe=null,Ge=Boolean(Ze),it=!Ge||this.state.dragging,ie=Ze||Ee,Be={x:(0,a.canDragX)(this)&&it?this.state.x:ie.x,y:(0,a.canDragY)(this)&&it?this.state.y:ie.y};this.state.isElementSVG?qe=(0,c.createSVGTransform)(Be,we):Ue=(0,c.createCSSTransform)(Be,we);var Pe=(0,p.default)(ue.props.className||"",Re,(V={},le(V,Ce,this.state.dragging),le(V,xe,this.state.dragged),V));return o.createElement(d.default,m({},Ae,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.cloneElement(o.Children.only(ue),{className:Pe,style:w(w({},ue.props.style),Ue),transform:qe}))}}],[{key:"getDerivedStateFromProps",value:function(V,ae){var ue=V.position,Ee=ae.prevPropsPosition;return ue&&(!Ee||ue.x!==Ee.x||ue.y!==Ee.y)?((0,f.default)("Draggable: getDerivedStateFromProps %j",{position:ue,prevPropsPosition:Ee}),{x:ue.x,y:ue.y,prevPropsPosition:w({},ue)}):null}}]),j}(o.Component);n.default=de,le(de,"displayName","Draggable"),le(de,"propTypes",w(w({},d.default.propTypes),{},{axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe})),le(de,"defaultProps",w(w({},d.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(t_);var p_=t_,m_=p_.default,V6=p_.DraggableCore;ri.exports=m_;ri.exports.default=m_;ri.exports.DraggableCore=V6;const G6=Bt.div`
    position: absolute;
	height: ${vo-4}px;
    margin-top: 4px;
    box-sizing: border-box;
	background-color: ${n=>n.selected?zt.SelectedRecordingColor:zt.RecordingColor};
    background-clip: padding-box;
	border-top: 2px solid transparent;
    border-bottom: 6px solid transparent;
	border-radius: 12px;
	:hover {cursor: pointer;}
    padding: 4px 8px;
    z-index: 2;
`,z6=Bt.p`
    margin: 0;
    font-size: 0.9rem;
    max-width: 100%;
    height: 25px;
    overflow: hidden;
    white-space: nowrap;
`;function H6({r:n,onDrag:r,onStop:o,selected:t,channelIndex:h}){const p=Ot.exports.useContext(ts),c=Ot.exports.useContext(e_),a=Ot.exports.useRef(null);s(a);function s(d){Ot.exports.useEffect(()=>{function f(y){if(d.current&&!d.current.contains(y.target)){if(y.target.id!="recordings_view")return;p({type:tr.deselectRecordings})}}return document.addEventListener("mousedown",y=>f(y)),()=>document.removeEventListener("mousedown",y=>f(y))},[d])}return Ot.exports.useEffect(()=>{let d=document.getElementById("recording_clip_"+n.id),f=n.duration-n.start;d.style.width=f*En+"px"},[n]),It(ri.exports,{onDrag:d=>r(d),onStop:(d,f)=>o(f,n),bounds:"parent",position:{x:n.start*En,y:h*vo},grid:c?[En/4,vo]:[-1,vo],scale:1,children:It(G6,{ref:a,selected:n.id==t.id,id:"recording_clip_"+n.id,children:It(z6,{children:n.name})})},"drag_rec_clip_"+n.id)}function W6({height:n}){const r=Ot.exports.useContext(Uo),o=Ot.exports.useContext(ts),t=Ot.exports.useRef(r.time),h=s=>{let d=s.x/En;d<.1&&(d=0),hn.seconds=d,p(d)},p=s=>{t.current=s,o({type:tr.updateTransportPosition,payload:s})},c=s=>s*En>r.transportLength,a=()=>{const s=[{transform:`translateX(${r.time*En}px)`},{transform:`translateX(${r.transportLength}px)`}];let d=(r.transportLength-r.time*En)*10;const f={duration:d>=0?d:0,fill:"forwards",iterations:1};let y=document.getElementById("playline"),u=new KeyframeEffect(y,s,f),l=new Animation(u,document.timeline);return l.oncancel=i=>{y.style.transform=`translate(${t.current*En}px, 0px)`},l};return Ot.exports.useEffect(()=>{if(c(hn.seconds))return;let s=a();r.playing?s.play():(s.cancel(),s.commitStyles())},[r.playing]),It(Rj,{children:It(ri.exports,{bounds:{left:0,top:0,bottom:0},onStop:(s,d)=>h(d),position:{x:r.time*En,y:0},children:It(Oj,{id:"playline",height:n})})},"playline_elem")}function q6(){const n=Ot.exports.useRef(null),r=Ot.exports.useContext(Uo),o=Ot.exports.useContext(ts),[t,h]=Ot.exports.useState(!1),p=Ot.exports.useRef(!1),c=()=>vo*r.channels.length,a=(l,i)=>{p.current?(p.current=!1,d({x:l.x,y:l.y},i)):o({type:tr.selectRecording,payload:i})},s=l=>{(l.type==="mousemove"||l.type==="touchmove")&&(p.current=!0)},d=(l,i)=>{o({type:tr.updateRecordingPosition,payload:{r:i,pos:l.x}});let m=a0(r.channels,i.channel),g=Math.floor(l.y/vo);g!=m&&(i.channel=r.channels[g].id,o({type:tr.switchRecordingChannel,payload:{r:i,index:m,newIndex:g}}))},f=()=>It(Mj,{children:Ar(Aj,{children:[It("p",{children:"Snap"}),It(kj,{snapState:t,onClick:()=>h(!t)})]})}),y=()=>r.channels.map((l,i)=>It(Hj,{channelData:{...l,index:i}},(l.id+i).toString())),u=()=>{let l=[];return r.channels.map(i=>{i.recordings.map(m=>{l.push(It(H6,{r:m,onDrag:g=>s(g),onStop:(g,v)=>a(g,v),selected:r.selectedRecording,channelIndex:i.index},m.id))})}),Ar(Tj,{id:"recordings_view",height:c(),children:[It(W6,{height:c()}),l]})};return Ot.exports.useEffect(()=>{const l=i=>{let m=r.transportLength,g=Pd;i.setup=()=>{i.createCanvas(m,g)},i.draw=()=>{i.background(zt.AppGradient),i.fill(51),i.textSize(12),i.line(0,0,m,0);let v=0;for(;v<m;)i.fill(zt.AppTextColor),$T(v,50)==0?(v!=0&&i.text(v/En,v+.5,g-15),i.line(v+.5,g-50,v+.5,g-40)):i.line(v+.5,g-50,v+.5,g-45),i.stroke(206,212,222,75),i.textAlign(i.CENTER),v+=25},i.mouseClicked=()=>{if(i.mouseY<0||i.mouseY>g)return;hn.pause();let v=(i.mouseX+1)/En;v<.1&&(v=0),hn.seconds=v,o({type:tr.updateTransportPosition,payload:v})}};if(n.current){let i=new ru(l,n.current);return()=>i.remove()}},[r.transportLength]),It(bj,{length:r.transportLength,children:Ar(xj,{children:[Ar(wj,{children:[y(),It(Ej,{id:"timeline_padding",children:It(f,{})})]}),Ar(Sj,{id:"grid_area",length:r.transportLength,children:[It(e_.Provider,{value:t,children:It(u,{})}),It(jj,{children:It(Cj,{id:"timeline",ref:n})})]})]})})}const X6=Bt.div`
    @media only screen and (min-width: 768px) {
        height: 20%;
        width: 60%;
    }
    @media only screen and (max-width: 768px) {
        display: none;
    }
	position: relative;
    margin-top: 1%;
	
	display: flex;
	justify-content: flex-start;
	align-items: center;
	align-self: center;
	z-index: 3;
`,Y6=Bt.div`
	display: flex;
	flex-direction: column;
	justify-content: space-around;
	align-items: center;
    box-sizing: border-box;
	width: 6%;
	height: 100%;
`,$6=Bt.span`
    position: absolute;
    top: 0;
    left: 0;
    margin: 5px 5px;
    color: ${zt.AppTextOffColor};
`,Z6=Bt.input`
    all: unset;
    position: absolute;
    top: 0;
    left: 0;
    padding: 0;
    margin: 5px 5px;
	color: ${zt.AppTextOffColor};
	background-color: ${zt.AppGradient};
	border: none;
	border-radius: 2px;

	::placeholder,
	::-webkit-input-placeholder {
		color: ${zt.AppTextOffColor};
	}
	:-ms-input-placeholder {
		color:  ${zt.AppTextOffColor};
	}
`,Q6=Bt(zt.EditorButton)`
	background: ${n=>n.cropping?"url('images/checkmark.png') no-repeat":"url('images/crop.png') no-repeat"};
	
	background-color: ${n=>n.cropping?zt.EditorButtonHighlight:"transparent"};
`,K6=Bt(zt.EditorButton)`
	background: url('images/scissors.png') no-repeat;
	background-color: ${n=>n.splitting?zt.EditorButtonHighlight:"transparent"};
`,J6=Bt(zt.EditorButton)`
	background: ${n=>n.muted?"url('images/mute_white.png') no-repeat;":"url('images/unmute_white.png') no-repeat;"};
	background-position: center;
`,eE=Bt(zt.EditorButton)`
	background: none;
	font-size: 30px;
	line-height: 30px;
	color: ${n=>n.solo?zt.ContrastBlue:zt.AppTextColor};
`,tE=Bt.div`
	position: relative;
	height: 100%;
    flex-grow: 1;
	border: 1px solid ${zt.MutedGreyBorder};
    border-radius: 4px;
`,rE=Bt.div`
	position: absolute;
	display: ${n=>n.cropping?"flex":"none"};
	width: 100%;
	height: 100%;
`,nE=Bt.div`
	flex-grow: 1;
	flex-shrink: 1;
	background-color: rgba(29, 75, 143, 0.4);
`,y_=Bt.div`
	width: 2px;
	height: 100%;
	background-color: rgba(69, 114, 181, 0.7);
	padding: 0px 1px;
	z-index: 100;
	:hover {cursor: col-resize;}
`,oE=Bt(y_)`
`;function g_({cropping:n,setPoints:r}){const o=Ot.exports.useRef(-1),t=Ot.exports.useRef(-1),h=Ot.exports.useRef(!1),p=f=>{let y=f.clientX-o.current;r("start",y)},c=f=>{let y=t.current-f.clientX;r("end",y)},a=f=>{if(o.current<0)o.current=f.clientX;else{let y=document.getElementById("range_left_padding"),u=f.clientX-o.current;y.style.width=`${u}px`}(f.type==="mousemove"||f.type==="touchmove")&&(h.current=!0)},s=f=>{if(t.current<0)t.current=f.clientX;else{let y=document.getElementById("range_right_padding"),u=t.current-f.clientX;y.style.width=`${u}px`}(f.type==="mousemove"||f.type==="touchmove")&&(h.current=!0)},d=()=>{o.current=-1,t.current=-1};return Ot.exports.useEffect(()=>{let f=document.getElementById("range_left_padding"),y=document.getElementById("range_right_padding");f.style.width="0px",y.style.width="0px"},[]),Ot.exports.useEffect(()=>{d()},[n]),Ar(rE,{cropping:n,id:"drag_range_view",children:[It(ri.exports,{bounds:"#drag_range_view",onStop:f=>p(f),onDrag:f=>a(f),children:It(y_,{id:"drag_handle_left"})}),It("div",{id:"range_left_padding"}),It(nE,{id:"drag_highlight"}),It(ri.exports,{axis:"none",bounds:"#drag_range_view",onStop:f=>c(f),onDrag:f=>s(f),children:It(oE,{id:"drag_handle_right"})}),It("div",{id:"range_right_padding"})]},n?"cropElem":"croppedElem")}const sE=Bt.div`
	position: absolute;
	display: ${n=>n.splitting?"flex":"none"};
	width: 100%;
	height: 100%;
`,iE=Bt.span`
	height: 100%;
	border-left: 2px dotted rgba(75, 126, 201, 0.8);
	z-index: 9;
	:hover {cursor: col-resize;}
`;function v_({splitting:n,splitClip:r}){const o=Ot.exports.useContext(Uo),t=p=>{let c=document.getElementById("split_view"),a=document.getElementById("split_line");if(p.currentTarget){let s=c.getBoundingClientRect(),d=p.clientX-s.left;a.style.transform=`translate(${d}px, 0px)`}},h=p=>{let c=document.getElementById("split_view");p.stopPropagation();let a=c.getBoundingClientRect();r(p.clientX-a.left)};return Ot.exports.useEffect(()=>{let p=document.getElementById("split_view");return p.addEventListener("mousemove",t),p.addEventListener("mouseup",h),()=>{p.removeEventListener("mousemove",t),p.removeEventListener("mouseup",h)}},[o.selectedRecording,n]),It(sE,{id:"split_view",splitting:n,children:It(ri.exports,{bounds:"#split_view",children:It(iE,{id:"split_line"})})},"split_elem")}const aE=Bt.div`
	height: 100%;
    flex-grow: 1;
`;function __(){const n=Ot.exports.useContext(Uo),r=Ot.exports.useRef(null),o=Ot.exports.useRef(null),t=h=>{let p=0,c=0;r.current&&(p=r.current.offsetWidth,c=r.current.offsetHeight),h.setup=()=>{h.createCanvas(p,c)},h.draw=()=>{if(h.noFill(),h.background("#1e2126"),!o.current)return;let a=o.current.getValue();h.beginShape();for(let s=0;s<a.length;s++){const d=a[s],f=h.map(s,0,a.length-1,0,p),y=c/2+d*c*3;h.vertex(f,y),h.stroke("#dbdbdb")}h.endShape()}};return Ot.exports.useEffect(()=>{o.current=new Bc(8192)},[]),Ot.exports.useEffect(()=>{if(!n.mic||!r.current)return;n.mic.connect(o.current);let h=new ru(t,r.current);return()=>{h.remove(),n.mic.disconnect(o)}},[n.mic]),It(aE,{id:"waveform",ref:r})}function lE(){const n=Ot.exports.useContext(Uo),r=Ot.exports.useContext(ts),o=Ot.exports.useRef(null),t=Ot.exports.useRef(),[h,p]=Ot.exports.useState(!1),c=Ot.exports.useRef(""),[a,s]=Ot.exports.useState(new Float32Array),[d,f]=Ot.exports.useState(!1),[y,u]=Ot.exports.useState(!1),[l,i]=Ot.exports.useState(0),[m,g]=Ot.exports.useState(0),[v,b]=Ot.exports.useState(!1),w=Ot.exports.useRef(null);Nj(w,p);const S=Q=>{clearTimeout(t.current),Q.detail===2&&Q.target&&Q.target.id=="editorRecordingName"&&(p(!0),Qv(document.getElementById("channelNameInput")))},x=Q=>{let J=0,oe=0;o.current&&(J=o.current.offsetWidth,oe=o.current.offsetHeight),Q.setup=()=>{Q.createCanvas(J,oe)},Q.draw=()=>{let ee=n.selectedRecording;if(!tn(ee))return;Q.background("#2c3036"),Q.beginShape(),Q.stroke(zt.AppTextOffColor);let le=hn.seconds,de=ee.position+ee.player.buffer.duration,se=Q.map(le,ee.start,ee.duration,0,J),O=Math.round(Q.map(ee.start,ee.position,de,0,a.length)),j=Math.round(Q.map(ee.duration,ee.position,de,0,a.length)),F=O,V=F;for(;F<j;){let ae=0,ue=100;for(let Ce=V;Ce<V+ue;Ce++)ae+=a[Ce]*500;let Ee=Q.map(F,O,j,0,J),Re=ae*2/ue;Q.vertex(Ee,oe/2-Re),F+=ue,V+=ue}Q.endShape(),Q.stroke("#868e9c"),Q.rect(se,0,1,oe,0)}},M=()=>{r({type:tr.editRecordingName,payload:{id:n.selectedRecording.id,name:c.current}})},C=Q=>{!tn(n.selectedRecording)||r(Q?{type:tr.unsoloRecording,payload:n.selectedRecording}:{type:tr.soloRecording,payload:n.selectedRecording})},E=()=>{let Q=n.selectedRecording;tn(Q)&&(d?Q.player.mute=!1:Q.player.mute=!0,f(!d))},P=()=>{let Q=n.selectedRecording;tn(Q)&&C(Q.solo)},D=()=>{v&&b(!1),u(!y);let Q=n.selectedRecording;tn(Q)&&y&&(r({type:tr.cropRecording,payload:{r:Q,left:l,right:m}}),I())},I=()=>{i(0),g(0)},U=(Q,J)=>{let oe=J.duration-J.start,ee=o.current?o.current.offsetWidth:0;return o0(Q,0,ee,0,oe)},G=(Q,J)=>{let oe=n.selectedRecording;tn(oe)&&(J=U(J,oe),Q==="start"?i(J):g(J))},W=()=>{let Q=n.selectedRecording;y&&u(!1),tn(Q)&&b(!v)},te=Q=>{let J=n.selectedRecording;tn(J)&&Q/En>J.start&&(b(!v),Q=U(Q,J),r({type:tr.splitRecording,payload:{r:J,split:Q}}))};return Ot.exports.useEffect(()=>{let Q=n.selectedRecording;if(tn(Q)){try{s(Q.player.buffer.getChannelData(0))}catch(J){console.log(J)}if(o.current){let J=new ru(x,o.current);return()=>J.remove()}}else u(!1)},[n.selectedRecording,a]),Ar(X6,{id:"editor",children:[Ar(Y6,{children:[It(J6,{onClick:E,muted:d}),It(eE,{onClick:P,solo:tn(n.selectedRecording)?n.selectedRecording.solo:!1,children:"S"}),It(Q6,{cropping:y,onClick:D}),It(K6,{splitting:v,onClick:W})]}),n.recordingState?It(__,{}):Ar(tE,{onClick:Q=>S(Q),ref:o,children:[h?It(Z6,{type:"text",id:"channelNameInput",ref:w,onChange:Q=>Bj(Q,c),onKeyDown:Q=>Fj(Q,c,p,M),placeholder:n.selectedRecording.name,autoFocus:!0}):It($6,{id:"editorRecordingName",children:n.selectedRecording.name}),It(g_,{cropping:y,setPoints:G},"cropElem"),It(v_,{splitting:v,splitClip:te},"splitElem")]})]})}const uE=Bt.div`
    height: 100%;
    width: 100%;
`,cE=n=>new Date(n*1e3).toISOString().substring(11,22);function b_(){const n=Ot.exports.useRef(null);return Ot.exports.useEffect(()=>{const r=o=>{if(!n.current)return;let t=n.current.offsetWidth,h=n.current.offsetHeight;o.setup=()=>{o.createCanvas(t,h)},o.draw=()=>{o.clear(0,0,0,0),o.textSize(30),o.select("#transportClock").elt.style.letterSpacing="1px",o.fill(zt.AppTextColor);let p=cE(hn.seconds);o.text(p,t/2,h/2),o.textAlign(o.CENTER,o.CENTER)}};if(n.current){let o=new ru(r,n.current);return()=>o.remove()}},[]),It(uE,{id:"transportClock",ref:n},"clock")}Bt.div`
    height: 250px;
    width: 500px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-color: #1f324d;

    @media only screen and (max-width: 768px) {
        height: 200px;
        width: 300px;
    }
    border-radius: 10px;
`;const dE=Bt.button`
    width: 30px;
    height: 30px;
    background-color: transparent;
    border: none;
    background: ${n=>n.recording?"url('images/stop.png') no-repeat;":"url('images/record_muted.png') no-repeat;"};
    background-size: 30px;
    margin: 8px 0px;
    @media (min-width: 768px) {
        :hover {
            cursor: pointer;
            box-shadow: 0 0 8px red;
            border-radius: 50%;
        }
    }
`;function hE(){const n=Ot.exports.useContext(Uo),r=Ot.exports.useContext(ts),o=Ot.exports.useRef(),t=Ot.exports.useRef(),h=Ot.exports.useRef(!1),[p,c]=Ot.exports.useState(!1),a=new ul,s=async l=>{l.connect(a),await l.open()},d=l=>{l.disconnect(a),l.close()},f=l=>{l.player=n0(l.data),r({type:tr.scheduleNewRecording,payload:l})},y=()=>({id:"",name:sj(n,n.selectedChannel)+" - untitled",channel:"",position:hn.seconds,duration:-1,start:hn.seconds,data:"",player:void 0,solo:!1}),u=async l=>{if(l.stopPropagation(),!!n.mic)if(Gv.resume(),h.current&&o.current){d(n.mic);let i=await a.stop(),m=URL.createObjectURL(i);t.current.data=m,t.current.duration=hn.seconds,h.current=!1,c(!1),ui.mute=!1,hn.pause(),f(t.current),r({type:tr.toggleRecordingState,payload:!1})}else{try{await s(n.mic),a.start()}catch{return}t.current=y(),o.current=new Date,h.current=!0,c(!0),ui.mute=!0,hn.start(),r({type:tr.toggleRecordingState,payload:!0})}};return Ot.exports.useEffect(()=>{let l=document.getElementById("rec_btn");return l.disabled=!mi.supported,l.addEventListener("click",i=>u(i)),()=>{l.removeEventListener("click",i=>u(i))}},[n.mic,n.selectedChannel]),It(dE,{type:"button",id:"rec_btn",recording:p})}const fE=Bt.div`
	display: flex;
    position: absolute;
    left: 0;
    bottom: 0;
	justify-content: center;
	align-items: center;
	height: 7%;
	width: 100%;
	border-radius: 10px;
	background-color: ${zt.AppSecondaryColor};
    border-top: 1px solid ${zt.MutedGreyBorder};
`,pE=Bt.div`
    @media only screen and (max-width: 768px) {
        display: none;
    }
    position: absolute;
    left: 1em;
    width: 190px;
    height: 100%;
`,mE=Bt.div`
    width: 200px;
    display: flex;
    justify-content: space-between;
    align-items: center;
`,yE=Bt(zt.ControlButton)`
	background: ${n=>n.playState?"url('images/pause_white.png') center;":"url('images/play-button.png') center;"}
`,gE=Bt(zt.ControlButton)`
	background: url('images/rewind.png') center;
    width: 30px;
    height: 30px;
    background-size: 30px;
`,vE=Bt(zt.ControlButton)`
  	background: url('images/fast-forward.png') center;
    width: 30px;
    height: 30px;
    background-size: 30px;
`,_E=Bt.div`
    height: 100%;
    z-index: 99;
    display: flex;
    position: absolute;
    right: 1em;
`,bE=Bt.input`
    @media (max-width: 768px) {
        display: none;
    }
    -webkit-appearance: none;
    appearance: none;
    background: transparent;
    cursor: pointer;
    &::-webkit-slider-runnable-track {
        background: ${zt.AppColor};
        height: 0.75rem;
        border-radius: 2px;
    }
    &::-moz-range-track {
        background: #053a5f;
        height: 0.75rem;
        border-radius: 2px;
    }
    &::-webkit-slider-thumb {
        -webkit-appearance: none; 
        appearance: none;
        margin-top: -4px;
        background-color: ${zt.VolumeSliderThumbColor};
        height: 1.25rem;
        border: 1px solid ${zt.EditorBoxHighlight};
        border-radius: 50%;
        width: 1.25rem;    
    }
`,xE=Bt(zt.DefaultButton)`
    width: 30px;
    height: 30px;
    background-size: 30px;
    background: ${n=>n.muted?"url('images/mute_white.png') center;":"url('images/unmute_white.png') center;"}
    align-self: center;
    margin-right: 8px;
`;function wE(){const n=Ot.exports.useContext(Uo),[r,o]=Ot.exports.useState(""),t=Ot.exports.useContext(ts),h=()=>{hn.stop(),t({type:tr.updateTransportPosition,payload:0})},p=()=>{hn.state==="started"?(hn.pause(),t({type:tr.togglePlay,payload:{playing:!1,time:hn.seconds}})):n.channels.length>0&&(Gv.resume(),hn.start(),t({type:tr.togglePlay,payload:{playing:!0,time:hn.seconds}}))},c=()=>{let s=document.getElementById("volume-range-control");ui.mute?s.value=r:(o(s.value),s.value="1"),ui.mute=!ui.mute,t({type:tr.toggleMute,payload:{muted:ui.mute}})},a=()=>{let s=document.getElementById("volume-range-control");ui.input.volume.value=o0(parseInt(s.value),1,100,0,e1)-e1};return Ar(fE,{children:[It(pE,{children:It(b_,{})}),Ar(mE,{children:[It(hE,{}),It(gE,{onClick:h}),It(yE,{id:"play_btn",onClick:p,playState:n.playing}),It(vE,{})]}),Ar(_E,{children:[It(xE,{onClick:c,muted:n.muted}),It(bE,{id:"volume-range-control",type:"range",min:"1",max:"100",defaultValue:"100",onChange:()=>a()})]})]})}const SE=Ig`
    0% { opacity: 0; }
    100% { opacity: 1; }
`,TE=Ig`
    0% { opacity: 1; }
    100% { opacity: 0; }
`,jE=Bt.div`
    visibility: ${n=>n.displayState?"visible":"hidden"};
    width: 250px;
    position: absolute;
    right: 0;
    border-radius: 6px;
    background: linear-gradient(to bottom, ${zt.AppSecondaryColor}, ${zt.AppSecondaryGradient});
    animation: 0.05s ${n=>n.displayState?SE:TE} linear;
    transition: visibility 0.05s linear;
    border: none;
    box-shadow: 0 0 0 2px #424242;
    z-index: 5;
`,EE=Bt.span`
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    align-items: flex-start;
    width: 15vw;
    margin: 5% 10%;
`,ju=Bt(zt.DefaultButton)`
    background-color: transparent;
    color: ${zt.AppTextOffColor};
    font-size: 1rem;
    height: 8vh;
`,CE=Bt.div`
    margin: 5% 5%;
    width: 18vw;
`,ME=Bt.span`
    display: flex;
    align-items: center;
    height: 15%;
    min-width: 100px;
    margin: 4% 0;
`,AE=Bt.h3`
    color: ${zt.AppTextOffColor};
    font-size: 1.2rem;
    margin: 0;
`,kE=Bt(zt.DefaultButton)`
    width: 35px;
    height: 35px;
    background-size: 35px;
    background: url('images/arrow_left.png') no-repeat;
`,RE=Bt.section`
    position: relative;
    height: 35vh;
    width: 250px;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    color: ${zt.AppTextColor};
    font-size: 0.7rem;
    font-weight: normal;
`,ah=Bt.div`
    display: flex;
    align-items: center;
    font-size: 0.7rem;
    width: 80%;
    margin-left: 5%;
`,u1=Bt(zt.DefaultButton)`
    width: 25%;
    height: 30px;
    margin-left: 10%;
    background-color: ${n=>n.isWav?zt.ContrastBlue:zt.AppTextOffColor};
    color: ${n=>n.isWav?zt.AppTextColor:"black"};
`,lh=Bt.h3`
    min-width: 20%;
`,c1=Bt.input`
    height: 25px;
    width: 20%;
    margin-left: 10%;
    margin-right: 2%;
    background-color: ${zt.AppTextOffColor};
    border-radius: 4px;
    border: none;
    font-family: Avenir, Arial, sans-serif;
    text-indent: 0.3rem;
`,OE=Bt(zt.DefaultButton)`
    height: 30px;
    width: 30%;
    font-size: 1rem;
    align-self: flex-start;
    color: black;
    background-color: ${zt.AppTextColor};
`;function PE({channels:n}){const[r,o]=Ot.exports.useState(""),t=i=>{o(i)},h=()=>{if(!r)return;let i=document.getElementsByClassName("export_range_input"),m=p(i);c(r,m)},p=i=>Array.from(i).map(g=>g instanceof HTMLInputElement?parseInt(g.value):-1),c=(i,m)=>{i=="mp3"?d(m):a(m)},a=async i=>{let m=await l(i),g=XT(m);y(g,_f.wav)},s=i=>i.map(m=>m*FT),d=async i=>{let m=[],g=await l(i),v=new window.lamejs.Mp3Encoder(1,44100,128),b=g.getChannelData(0);b=s(b);let w=576;for(let x=0;x<b.length;x+=w){let M=b.subarray(x,x+w),C=v.encodeBuffer(M);C.length>0&&m.push(C)}let S=v.flush();S.length>0&&m.push(S),f(m,_f.mp3)},f=(i,m)=>{let g=new window.Blob(i,{type:m});u(g,m)},y=(i,m)=>{let g=[new DataView(i)],v=new window.Blob(g,{type:m});u(v,m)},u=(i,m)=>{let g=document.createElement("a"),v=window.URL.createObjectURL(i);g.href=v,g.download=UT(m),g.click(),window.URL.revokeObjectURL(v)},l=async i=>{const m=new OfflineAudioContext(2,Jm*i[1],Jm);return n.forEach(function(g){g.recordings.forEach(function(v){let b=m.createBufferSource(),w=u0(i[0],v),S=v.start-v.position+w;b.buffer=YT(v.data),b.connect(m.destination),b.start(v.position+S,S)})}),await m.startRendering()};return Ar(RE,{children:[Ar(ah,{children:[It(lh,{children:"Format:"}),It(u1,{isWav:r=="wav",onClick:()=>t("wav"),children:"WAV"}),It(u1,{isWav:r=="mp3",onClick:()=>t("mp3"),children:"MP3"})]}),Ar(ah,{children:[It(lh,{children:"Start:"}),It(c1,{className:"export_range_input"}),"s"]}),Ar(ah,{children:[It(lh,{children:"End:"}),It(c1,{className:"export_range_input"}),"s"]}),It(OE,{onClick:h,children:"Bounce"})]})}function IE({displayState:n,channels:r}){const[o,t]=Ot.exports.useState(!1),h=c=>{t(!0)};return It(jE,{displayState:n,children:o?Ar(CE,{children:[Ar(ME,{children:[It(kE,{onClick:()=>{t(!1)}}),It(AE,{children:"Export"})]}),It(PE,{channels:r})]}):Ar(EE,{children:[It(ju,{children:"Project"}),It(ju,{children:"Microphone"}),It(ju,{children:"Recordings"}),It(ju,{onClick:()=>h(),children:"Export"})]})})}var x_={},DE=Ds&&Ds.__extends||function(){var n=function(r,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,h){t.__proto__=h}||function(t,h){for(var p in h)h.hasOwnProperty(p)&&(t[p]=h[p])},n(r,o)};return function(r,o){n(r,o);function t(){this.constructor=r}r.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),w_=Ds&&Ds.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(x_,"__esModule",{value:!0});var fo=w_(Id.exports),uh=w_(Ot.exports),LE=function(n){DE(r,n);function r(o){var t=n.call(this,o)||this;return t.resetDragging=function(){t.frameDragCounter=0,t.setState({draggingOverFrame:!1,draggingOverTarget:!1})},t.handleWindowDragOverOrDrop=function(h){h.preventDefault()},t.handleFrameDrag=function(h){if(!!r.eventHasFiles(h)){if(t.frameDragCounter+=h.type==="dragenter"?1:-1,t.frameDragCounter===1){t.setState({draggingOverFrame:!0}),t.props.onFrameDragEnter&&t.props.onFrameDragEnter(h);return}if(t.frameDragCounter===0){t.setState({draggingOverFrame:!1}),t.props.onFrameDragLeave&&t.props.onFrameDragLeave(h);return}}},t.handleFrameDrop=function(h){t.state.draggingOverTarget||(t.resetDragging(),t.props.onFrameDrop&&t.props.onFrameDrop(h))},t.handleDragOver=function(h){r.eventHasFiles(h)&&(t.setState({draggingOverTarget:!0}),!r.isIE()&&t.props.dropEffect&&(h.dataTransfer.dropEffect=t.props.dropEffect),t.props.onDragOver&&t.props.onDragOver(h))},t.handleDragLeave=function(h){t.setState({draggingOverTarget:!1}),t.props.onDragLeave&&t.props.onDragLeave(h)},t.handleDrop=function(h){if(t.props.onDrop&&r.eventHasFiles(h)){var p=h.dataTransfer?h.dataTransfer.files:null;t.props.onDrop(p,h)}t.resetDragging()},t.handleTargetClick=function(h){t.props.onTargetClick&&t.props.onTargetClick(h),t.resetDragging()},t.stopFrameListeners=function(h){h&&(h.removeEventListener("dragenter",t.handleFrameDrag),h.removeEventListener("dragleave",t.handleFrameDrag),h.removeEventListener("drop",t.handleFrameDrop))},t.startFrameListeners=function(h){h&&(h.addEventListener("dragenter",t.handleFrameDrag),h.addEventListener("dragleave",t.handleFrameDrag),h.addEventListener("drop",t.handleFrameDrop))},t.frameDragCounter=0,t.state={draggingOverFrame:!1,draggingOverTarget:!1},t}return r.prototype.componentDidMount=function(){this.startFrameListeners(this.props.frame),this.resetDragging(),window.addEventListener("dragover",this.handleWindowDragOverOrDrop),window.addEventListener("drop",this.handleWindowDragOverOrDrop)},r.prototype.componentDidUpdate=function(o){o.frame!==this.props.frame&&(this.resetDragging(),this.stopFrameListeners(o.frame),this.startFrameListeners(this.props.frame))},r.prototype.componentWillUnmount=function(){this.stopFrameListeners(this.props.frame),window.removeEventListener("dragover",this.handleWindowDragOverOrDrop),window.removeEventListener("drop",this.handleWindowDragOverOrDrop)},r.prototype.render=function(){var o=this.props,t=o.children,h=o.className,p=o.targetClassName,c=o.draggingOverFrameClassName,a=o.draggingOverTargetClassName,s=this.state,d=s.draggingOverTarget,f=s.draggingOverFrame,y=p;return f&&(y+=" "+c),d&&(y+=" "+a),uh.default.createElement("div",{className:h,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},uh.default.createElement("div",{className:y,onClick:this.handleTargetClick},t))},r.isIE=function(){return typeof window<"u"&&(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>0)},r.eventHasFiles=function(o){var t=!1;if(o.dataTransfer){var h=o.dataTransfer.types;for(var p in h)if(h[p]==="Files"){t=!0;break}}return t},r.propTypes={className:fo.default.string,targetClassName:fo.default.string,draggingOverFrameClassName:fo.default.string,draggingOverTargetClassName:fo.default.string,onDragOver:fo.default.func,onDragLeave:fo.default.func,onDrop:fo.default.func,onTargetClick:fo.default.func,dropEffect:fo.default.oneOf(["copy","move","link","none"]),frame:function(o,t,h){var p=o[t];if(p==null)return new Error("Warning: Required prop `"+t+"` was not specified in `"+h+"`");if(p!==document&&!(p instanceof HTMLElement))return new Error("Warning: Prop `"+t+"` must be one of the following: document, HTMLElement!")},onFrameDragEnter:fo.default.func,onFrameDragLeave:fo.default.func,onFrameDrop:fo.default.func},r.defaultProps={dropEffect:"copy",frame:typeof window>"u"?void 0:window.document,className:"file-drop",targetClassName:"file-drop-target",draggingOverFrameClassName:"file-drop-dragging-over-frame",draggingOverTargetClassName:"file-drop-dragging-over-target"},r}(uh.default.PureComponent),NE=x_.FileDrop=LE;const BE=Bt.div`
    position: absolute;
    width: 100vw;
    overflow-x: scroll;
	box-shadow: ${n=>n.dropping?"0 0 3px #c3d8f7":"none"};
    & .file-drop {
        position: relative;
        z-index: 1;
    }
    & .file-drop > .file-drop-target {
        height: 450px;
    }  
`;function FE(){const n=Ot.exports.useContext(Uo),r=Ot.exports.useContext(ts),[o,t]=Ot.exports.useState(!1),h=new FileReader,p=f=>{let y=hn.seconds;return{id:"",name:"",channel:"",position:y,start:y,duration:y+f.duration,data:f,player:void 0,solo:!1}},c=(f,y)=>{y.preventDefault(),t(!1),f&&s(f[0])&&(h.readAsArrayBuffer(f[0]),h.onload=async()=>{let u=h.result;if(!(!u||typeof u=="string"))try{let l=await yo().rawContext.decodeAudioData(u);if(d(l)){l.duration*En>n.transportLength&&r({type:tr.updateTransportLength,payload:l.duration*En});let m=p(l);a(m)}else return}catch(l){console.log(l)}},h.onerror=()=>{console.log(h.error)})},a=f=>{f.player=n0(f.data),r({type:tr.scheduleNewRecording,payload:f})},s=f=>(f.type=="audio/mpeg"||f.type!=="audio/wav")&&f.size<NT,d=f=>f.duration*En<=BT;return It(BE,{id:"drop-view",dropping:o,children:It(NE,{onDrop:(f,y)=>c(f,y),onDragOver:f=>t(!0),onDragLeave:f=>t(!1)})})}const UE=Bt.div`
    @media only screen and (min-width: 768px) {
        display: none;
    }
    @media only screen and (max-width: 768px) {
        display: flex;
        flex-direction: column;
        width: 100vw;
        height: 100%;
    }
	position: relative;
`,VE=Bt.div`
	display: flex;
	justify-content: space-around;
    box-sizing: border-box;
    margin: 5px 0;
`,GE=Bt(zt.EditorButton)`
	background: ${n=>n.cropping?"url('images/checkmark.png') no-repeat":"url('images/crop.png') no-repeat"};
	
	background-color: ${n=>n.cropping?zt.EditorButtonHighlight:"transparent"};
`,zE=Bt(zt.EditorButton)`
	background: url('images/scissors.png') no-repeat;
	background-color: ${n=>n.splitting?zt.EditorButtonHighlight:"transparent"};
`,HE=Bt(zt.EditorButton)`
	background: ${n=>n.muted?"url('images/mute_white.png') no-repeat;":"url('images/unmute_white.png') no-repeat;"};
	background-position: center;
`,WE=Bt(zt.EditorButton)`
	background: none;
	font-size: 30px;
	line-height: 30px;
	color: ${n=>n.solo?zt.ContrastBlue:zt.AppTextColor};
`,qE=Bt.div`
	position: relative;
	height: 100%;
    flex-grow: 1;
	border: 1px solid ${zt.MutedGreyBorder};
    border-radius: 4px;
`;function XE(){const n=Ot.exports.useContext(Uo),r=Ot.exports.useContext(ts),o=Ot.exports.useRef(null),[t,h]=Ot.exports.useState(new Float32Array),[p,c]=Ot.exports.useState(!1),[a,s]=Ot.exports.useState(!1),[d,f]=Ot.exports.useState(0),[y,u]=Ot.exports.useState(0),[l,i]=Ot.exports.useState(!1),m=E=>{let P=0,D=0;o.current&&(P=o.current.offsetWidth,D=o.current.offsetHeight),E.setup=()=>{E.createCanvas(P,D)},E.draw=()=>{let I=n.selectedRecording;if(!tn(I))return;E.background("#2c3036"),E.beginShape(),E.stroke(zt.AppTextOffColor);let U=hn.seconds,G=I.position+I.player.buffer.duration,W=E.map(U,I.start,I.duration,0,P),te=Math.round(E.map(I.start,I.position,G,0,t.length)),Q=Math.round(E.map(I.duration,I.position,G,0,t.length)),J=te,oe=J;for(;J<Q;){let ee=0,le=100;for(let O=oe;O<oe+le;O++)ee+=t[O]*500;let de=E.map(J,te,Q,0,P),se=ee*2/le;E.vertex(de,D/2-se),J+=le,oe+=le}E.endShape(),E.stroke("#868e9c"),E.rect(W,0,1,D,0)}},g=E=>{!tn(n.selectedRecording)||r(E?{type:tr.unsoloRecording,payload:n.selectedRecording}:{type:tr.soloRecording,payload:n.selectedRecording})},v=()=>{let E=n.selectedRecording;tn(E)&&(p?E.player.mute=!1:E.player.mute=!0,c(!p))},b=()=>{let E=n.selectedRecording;tn(E)&&g(E.solo)},w=()=>{l&&i(!1);let E=n.selectedRecording;tn(E)&&(r({type:tr.cropRecording,payload:{r:E,left:d,right:y}}),s(!a))},S=(E,P)=>{let D=P.duration-P.start,I=o.current?o.current.offsetWidth:0;return o0(E,0,I,0,D)},x=(E,P)=>{let D=n.selectedRecording;tn(D)&&(P=S(P,D),E=="start"?f(P):E=="end"&&u(P))},M=()=>{let E=n.selectedRecording;a&&s(!1),tn(E)&&i(!l)},C=E=>{let P=n.selectedRecording;tn(P)&&E/En>P.start&&(i(!l),E=S(E,P),r({type:tr.splitRecording,payload:{r:P,split:E}}))};return Ot.exports.useEffect(()=>{let E=n.selectedRecording;if(tn(E)){try{h(E.player.buffer.getChannelData(0))}catch(P){console.log(P)}if(o.current){let P=new ru(m,o.current);return()=>P.remove()}}},[n.selectedRecording,t]),Ar(UE,{id:"mobile-editor",children:[n.recordingState?It(__,{}):Ar(qE,{ref:o,children:[It(g_,{cropping:a,setPoints:x},"cropElem"),It(v_,{splitting:l,splitClip:C},"splitElem")]}),Ar(VE,{children:[It(HE,{onClick:v,muted:p}),It(WE,{onClick:b,solo:tn(n.selectedRecording)?n.selectedRecording.solo:!1,children:"S"}),It(GE,{cropping:a,onClick:w}),It(zE,{splitting:l,onClick:M})]})]})}const YE={recordingState:!1,mic:void 0,editing:!1,channels:[],selectedRecording:i0(),selectedChannel:"",endPosition:0,soloChannel:void 0,time:0,muted:!1,playing:!1,transportLength:3e3};function $E(){const[n,r]=Ot.exports.useReducer(ej,YE),[o,t]=Ot.exports.useState(!1);new FileReader;const h=Ot.exports.useRef(null);p(h);function p(c){Ot.exports.useEffect(()=>{function a(s){c.current&&!c.current.contains(s.target)&&t(!1)}return document.addEventListener("mousedown",s=>a(s)),()=>document.removeEventListener("mousedown",s=>a(s))},[c])}return Ot.exports.useEffect(()=>{const c=()=>{document.documentElement.style.setProperty("--doc-height",`${window.innerHeight}px`)};window.addEventListener("resize",c),c();const a=new mi;r({type:tr.initialize,payload:a})},[]),It(Uo.Provider,{value:n,children:It(ts.Provider,{value:r,children:Ar(Nx,{id:"Tone",children:[Ar(Bx,{children:[It(Vx,{children:"MIXIN"}),It(Gx,{children:"Untitled"}),Ar(Fx,{ref:h,children:[It(Ux,{onClick:()=>t(!o)}),It(IE,{displayState:o,channels:n.channels})]})]}),Ar(zx,{children:[It(FE,{}),It(q6,{})]}),It(lE,{}),n.editing?It(XE,{}):Ar(Wx,{children:[It(Hx,{children:It(b_,{})}),It(wE,{})]})]})})})}Fb.render(It($E,{}),document.getElementById("root"));function wf(){function n(ie){return new Int8Array(ie)}function r(ie){return new Int16Array(ie)}function o(ie){return new Int32Array(ie)}function t(ie){return new Float32Array(ie)}function h(ie){return new Float64Array(ie)}function p(ie){if(ie.length==1)return t(ie[0]);var Be=ie[0];ie=ie.slice(1);for(var Pe=[],We=0;We<Be;We++)Pe.push(p(ie));return Pe}function c(ie){if(ie.length==1)return o(ie[0]);var Be=ie[0];ie=ie.slice(1);for(var Pe=[],We=0;We<Be;We++)Pe.push(c(ie));return Pe}function a(ie){if(ie.length==1)return r(ie[0]);var Be=ie[0];ie=ie.slice(1);for(var Pe=[],We=0;We<Be;We++)Pe.push(a(ie));return Pe}function s(ie){if(ie.length==1)return new Array(ie[0]);var Be=ie[0];ie=ie.slice(1);for(var Pe=[],We=0;We<Be;We++)Pe.push(s(ie));return Pe}var d={};d.fill=function(ie,Be,Pe,We){if(arguments.length==2)for(var Je=0;Je<ie.length;Je++)ie[Je]=arguments[1];else for(var Je=Be;Je<Pe;Je++)ie[Je]=We};var f={};f.arraycopy=function(ie,Be,Pe,We,Je){for(var ze=Be+Je;Be<ze;)Pe[We++]=ie[Be++]};var y={};y.SQRT2=1.4142135623730951,y.FAST_LOG10=function(ie){return Math.log10(ie)},y.FAST_LOG10_X=function(ie,Be){return Math.log10(ie)*Be};function u(ie){this.ordinal=ie}u.short_block_allowed=new u(0),u.short_block_coupled=new u(1),u.short_block_dispensed=new u(2),u.short_block_forced=new u(3);var l={};l.MAX_VALUE=34028235e31;function i(ie){this.ordinal=ie}i.vbr_off=new i(0),i.vbr_mt=new i(1),i.vbr_rh=new i(2),i.vbr_abr=new i(3),i.vbr_mtrh=new i(4),i.vbr_default=i.vbr_mtrh;function m(ie){var Be=ie;this.ordinal=function(){return Be}}m.STEREO=new m(0),m.JOINT_STEREO=new m(1),m.DUAL_CHANNEL=new m(2),m.MONO=new m(3),m.NOT_SET=new m(4);function g(){var ie="http://www.mp3dev.org/",Be=3,Pe=98,We=4,Je=0,ze=93;this.getLameVersion=function(){return Be+"."+Pe+"."+We},this.getLameShortVersion=function(){return Be+"."+Pe+"."+We},this.getLameVeryShortVersion=function(){return"LAME"+Be+"."+Pe+"r"},this.getPsyVersion=function(){return Je+"."+ze},this.getLameUrl=function(){return ie},this.getLameOsBitness=function(){return"32bits"}}v.STEPS_per_dB=100,v.MAX_dB=120,v.GAIN_NOT_ENOUGH_SAMPLES=-24601,v.GAIN_ANALYSIS_ERROR=0,v.GAIN_ANALYSIS_OK=1,v.INIT_GAIN_ANALYSIS_ERROR=0,v.INIT_GAIN_ANALYSIS_OK=1,v.YULE_ORDER=10,v.MAX_ORDER=v.YULE_ORDER,v.MAX_SAMP_FREQ=48e3,v.RMS_WINDOW_TIME_NUMERATOR=1,v.RMS_WINDOW_TIME_DENOMINATOR=20,v.MAX_SAMPLES_PER_WINDOW=v.MAX_SAMP_FREQ*v.RMS_WINDOW_TIME_NUMERATOR/v.RMS_WINDOW_TIME_DENOMINATOR+1;function v(){var ie=64.82,Be=.95,Pe=v.RMS_WINDOW_TIME_NUMERATOR,We=v.RMS_WINDOW_TIME_DENOMINATOR,Je=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],ze=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function tt(B,z,L,k,ge,ve){for(;ge--!=0;)L[k]=1e-10+B[z+0]*ve[0]-L[k-1]*ve[1]+B[z-1]*ve[2]-L[k-2]*ve[3]+B[z-2]*ve[4]-L[k-3]*ve[5]+B[z-3]*ve[6]-L[k-4]*ve[7]+B[z-4]*ve[8]-L[k-5]*ve[9]+B[z-5]*ve[10]-L[k-6]*ve[11]+B[z-6]*ve[12]-L[k-7]*ve[13]+B[z-7]*ve[14]-L[k-8]*ve[15]+B[z-8]*ve[16]-L[k-9]*ve[17]+B[z-9]*ve[18]-L[k-10]*ve[19]+B[z-10]*ve[20],++k,++z}function ct(B,z,L,k,ge,ve){for(;ge--!=0;)L[k]=B[z+0]*ve[0]-L[k-1]*ve[1]+B[z-1]*ve[2]-L[k-2]*ve[3]+B[z-2]*ve[4],++k,++z}function Fe(B,z){for(var L=0;L<MAX_ORDER;L++)B.linprebuf[L]=B.lstepbuf[L]=B.loutbuf[L]=B.rinprebuf[L]=B.rstepbuf[L]=B.routbuf[L]=0;switch(0|z){case 48e3:B.reqindex=0;break;case 44100:B.reqindex=1;break;case 32e3:B.reqindex=2;break;case 24e3:B.reqindex=3;break;case 22050:B.reqindex=4;break;case 16e3:B.reqindex=5;break;case 12e3:B.reqindex=6;break;case 11025:B.reqindex=7;break;case 8e3:B.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return B.sampleWindow=0|(z*Pe+We-1)/We,B.lsum=0,B.rsum=0,B.totsamp=0,d.ill(B.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(B,z){return Fe(B,z)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(B.linpre=MAX_ORDER,B.rinpre=MAX_ORDER,B.lstep=MAX_ORDER,B.rstep=MAX_ORDER,B.lout=MAX_ORDER,B.rout=MAX_ORDER,d.fill(B.B,0),INIT_GAIN_ANALYSIS_OK)};function Me(B){return B*B}this.AnalyzeSamples=function(B,z,L,k,ge,ve,_e){var H,ye,je,pe,Oe,Y,me;if(ve==0)return GAIN_ANALYSIS_OK;switch(me=0,Oe=ve,_e){case 1:k=z,ge=L;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(ve<MAX_ORDER?(f.arraycopy(z,L,B.linprebuf,MAX_ORDER,ve),f.arraycopy(k,ge,B.rinprebuf,MAX_ORDER,ve)):(f.arraycopy(z,L,B.linprebuf,MAX_ORDER,MAX_ORDER),f.arraycopy(k,ge,B.rinprebuf,MAX_ORDER,MAX_ORDER));Oe>0;){Y=Oe>B.sampleWindow-B.totsamp?B.sampleWindow-B.totsamp:Oe,me<MAX_ORDER?(H=B.linpre+me,ye=B.linprebuf,je=B.rinpre+me,pe=B.rinprebuf,Y>MAX_ORDER-me&&(Y=MAX_ORDER-me)):(H=L+me,ye=z,je=ge+me,pe=k),tt(ye,H,B.lstepbuf,B.lstep+B.totsamp,Y,Je[B.reqindex]),tt(pe,je,B.rstepbuf,B.rstep+B.totsamp,Y,Je[B.reqindex]),ct(B.lstepbuf,B.lstep+B.totsamp,B.loutbuf,B.lout+B.totsamp,Y,ze[B.reqindex]),ct(B.rstepbuf,B.rstep+B.totsamp,B.routbuf,B.rout+B.totsamp,Y,ze[B.reqindex]),H=B.lout+B.totsamp,ye=B.loutbuf,je=B.rout+B.totsamp,pe=B.routbuf;for(var $=Y%8;$--!=0;)B.lsum+=Me(ye[H++]),B.rsum+=Me(pe[je++]);for($=Y/8;$--!=0;)B.lsum+=Me(ye[H+0])+Me(ye[H+1])+Me(ye[H+2])+Me(ye[H+3])+Me(ye[H+4])+Me(ye[H+5])+Me(ye[H+6])+Me(ye[H+7]),H+=8,B.rsum+=Me(pe[je+0])+Me(pe[je+1])+Me(pe[je+2])+Me(pe[je+3])+Me(pe[je+4])+Me(pe[je+5])+Me(pe[je+6])+Me(pe[je+7]),je+=8;if(Oe-=Y,me+=Y,B.totsamp+=Y,B.totsamp==B.sampleWindow){var X=v.STEPS_per_dB*10*Math.log10((B.lsum+B.rsum)/B.totsamp*.5+1e-37),re=X<=0?0:0|X;re>=B.A.length&&(re=B.A.length-1),B.A[re]++,B.lsum=B.rsum=0,f.arraycopy(B.loutbuf,B.totsamp,B.loutbuf,0,MAX_ORDER),f.arraycopy(B.routbuf,B.totsamp,B.routbuf,0,MAX_ORDER),f.arraycopy(B.lstepbuf,B.totsamp,B.lstepbuf,0,MAX_ORDER),f.arraycopy(B.rstepbuf,B.totsamp,B.rstepbuf,0,MAX_ORDER),B.totsamp=0}if(B.totsamp>B.sampleWindow)return GAIN_ANALYSIS_ERROR}return ve<MAX_ORDER?(f.arraycopy(B.linprebuf,ve,B.linprebuf,0,MAX_ORDER-ve),f.arraycopy(B.rinprebuf,ve,B.rinprebuf,0,MAX_ORDER-ve),f.arraycopy(z,L,B.linprebuf,MAX_ORDER-ve,ve),f.arraycopy(k,ge,B.rinprebuf,MAX_ORDER-ve,ve)):(f.arraycopy(z,L+ve-MAX_ORDER,B.linprebuf,0,MAX_ORDER),f.arraycopy(k,ge+ve-MAX_ORDER,B.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function Te(B,z){var L,k=0;for(L=0;L<z;L++)k+=B[L];if(k==0)return GAIN_NOT_ENOUGH_SAMPLES;var ge=0|Math.ceil(k*(1-Be));for(L=z;L-- >0&&!((ge-=B[L])<=0););return ie-L/v.STEPS_per_dB}this.GetTitleGain=function(B){for(var z=Te(B.A,B.A.length),L=0;L<B.A.length;L++)B.B[L]+=B.A[L],B.A[L]=0;for(var L=0;L<MAX_ORDER;L++)B.linprebuf[L]=B.lstepbuf[L]=B.loutbuf[L]=B.rinprebuf[L]=B.rstepbuf[L]=B.routbuf[L]=0;return B.totsamp=0,B.lsum=B.rsum=0,z}}function b(){function ie(Me,Te,B,z,L,k,ge,ve,_e,H,ye,je,pe,Oe,Y){this.vbr_q=Me,this.quant_comp=Te,this.quant_comp_s=B,this.expY=z,this.st_lrm=L,this.st_s=k,this.masking_adj=ge,this.masking_adj_short=ve,this.ath_lower=_e,this.ath_curve=H,this.ath_sensitivity=ye,this.interch=je,this.safejoint=pe,this.sfb21mod=Oe,this.msfix=Y}function Be(Me,Te,B,z,L,k,ge,ve,_e,H,ye,je,pe,Oe){this.quant_comp=Te,this.quant_comp_s=B,this.safejoint=z,this.nsmsfix=L,this.st_lrm=k,this.st_s=ge,this.nsbass=ve,this.scale=_e,this.masking_adj=H,this.ath_lower=ye,this.ath_curve=je,this.interch=pe,this.sfscale=Oe}var Pe;this.setModules=function(Me){Pe=Me};var We=[new ie(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new ie(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new ie(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new ie(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new ie(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new ie(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new ie(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new ie(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new ie(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new ie(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new ie(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],Je=[new ie(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new ie(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new ie(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new ie(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new ie(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new ie(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new ie(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new ie(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new ie(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new ie(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new ie(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function ze(Me,Te,B){var z=Me.VBR==i.vbr_rh?We:Je,L=Me.VBR_q_frac,k=z[Te],ge=z[Te+1],ve=k;k.st_lrm=k.st_lrm+L*(ge.st_lrm-k.st_lrm),k.st_s=k.st_s+L*(ge.st_s-k.st_s),k.masking_adj=k.masking_adj+L*(ge.masking_adj-k.masking_adj),k.masking_adj_short=k.masking_adj_short+L*(ge.masking_adj_short-k.masking_adj_short),k.ath_lower=k.ath_lower+L*(ge.ath_lower-k.ath_lower),k.ath_curve=k.ath_curve+L*(ge.ath_curve-k.ath_curve),k.ath_sensitivity=k.ath_sensitivity+L*(ge.ath_sensitivity-k.ath_sensitivity),k.interch=k.interch+L*(ge.interch-k.interch),k.msfix=k.msfix+L*(ge.msfix-k.msfix),Fe(Me,ve.vbr_q),B!=0?Me.quant_comp=ve.quant_comp:Math.abs(Me.quant_comp- -1)>0||(Me.quant_comp=ve.quant_comp),B!=0?Me.quant_comp_short=ve.quant_comp_s:Math.abs(Me.quant_comp_short- -1)>0||(Me.quant_comp_short=ve.quant_comp_s),ve.expY!=0&&(Me.experimentalY=ve.expY!=0),B!=0?Me.internal_flags.nsPsy.attackthre=ve.st_lrm:Math.abs(Me.internal_flags.nsPsy.attackthre- -1)>0||(Me.internal_flags.nsPsy.attackthre=ve.st_lrm),B!=0?Me.internal_flags.nsPsy.attackthre_s=ve.st_s:Math.abs(Me.internal_flags.nsPsy.attackthre_s- -1)>0||(Me.internal_flags.nsPsy.attackthre_s=ve.st_s),B!=0?Me.maskingadjust=ve.masking_adj:Math.abs(Me.maskingadjust-0)>0||(Me.maskingadjust=ve.masking_adj),B!=0?Me.maskingadjust_short=ve.masking_adj_short:Math.abs(Me.maskingadjust_short-0)>0||(Me.maskingadjust_short=ve.masking_adj_short),B!=0?Me.ATHlower=-ve.ath_lower/10:Math.abs(-Me.ATHlower*10-0)>0||(Me.ATHlower=-ve.ath_lower/10),B!=0?Me.ATHcurve=ve.ath_curve:Math.abs(Me.ATHcurve- -1)>0||(Me.ATHcurve=ve.ath_curve),B!=0?Me.athaa_sensitivity=ve.ath_sensitivity:Math.abs(Me.athaa_sensitivity- -1)>0||(Me.athaa_sensitivity=ve.ath_sensitivity),ve.interch>0&&(B!=0?Me.interChRatio=ve.interch:Math.abs(Me.interChRatio- -1)>0||(Me.interChRatio=ve.interch)),ve.safejoint>0&&(Me.exp_nspsytune=Me.exp_nspsytune|ve.safejoint),ve.sfb21mod>0&&(Me.exp_nspsytune=Me.exp_nspsytune|ve.sfb21mod<<20),B!=0?Me.msfix=ve.msfix:Math.abs(Me.msfix- -1)>0||(Me.msfix=ve.msfix),B==0&&(Me.VBR_q=Te,Me.VBR_q_frac=L)}var tt=[new Be(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new Be(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new Be(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new Be(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new Be(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new Be(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new Be(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new Be(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new Be(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new Be(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new Be(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new Be(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new Be(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new Be(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new Be(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new Be(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new Be(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function ct(Me,Te,B){var z=Te,L=Pe.nearestBitrateFullIndex(Te);if(Me.VBR=i.vbr_abr,Me.VBR_mean_bitrate_kbps=z,Me.VBR_mean_bitrate_kbps=Math.min(Me.VBR_mean_bitrate_kbps,320),Me.VBR_mean_bitrate_kbps=Math.max(Me.VBR_mean_bitrate_kbps,8),Me.brate=Me.VBR_mean_bitrate_kbps,Me.VBR_mean_bitrate_kbps>320&&(Me.disable_reservoir=!0),tt[L].safejoint>0&&(Me.exp_nspsytune=Me.exp_nspsytune|2),tt[L].sfscale>0&&(Me.internal_flags.noise_shaping=2),Math.abs(tt[L].nsbass)>0){var k=int(tt[L].nsbass*4);k<0&&(k+=64),Me.exp_nspsytune=Me.exp_nspsytune|k<<2}return B!=0?Me.quant_comp=tt[L].quant_comp:Math.abs(Me.quant_comp- -1)>0||(Me.quant_comp=tt[L].quant_comp),B!=0?Me.quant_comp_short=tt[L].quant_comp_s:Math.abs(Me.quant_comp_short- -1)>0||(Me.quant_comp_short=tt[L].quant_comp_s),B!=0?Me.msfix=tt[L].nsmsfix:Math.abs(Me.msfix- -1)>0||(Me.msfix=tt[L].nsmsfix),B!=0?Me.internal_flags.nsPsy.attackthre=tt[L].st_lrm:Math.abs(Me.internal_flags.nsPsy.attackthre- -1)>0||(Me.internal_flags.nsPsy.attackthre=tt[L].st_lrm),B!=0?Me.internal_flags.nsPsy.attackthre_s=tt[L].st_s:Math.abs(Me.internal_flags.nsPsy.attackthre_s- -1)>0||(Me.internal_flags.nsPsy.attackthre_s=tt[L].st_s),B!=0?Me.scale=tt[L].scale:Math.abs(Me.scale- -1)>0||(Me.scale=tt[L].scale),B!=0?Me.maskingadjust=tt[L].masking_adj:Math.abs(Me.maskingadjust-0)>0||(Me.maskingadjust=tt[L].masking_adj),tt[L].masking_adj>0?B!=0?Me.maskingadjust_short=tt[L].masking_adj*.9:Math.abs(Me.maskingadjust_short-0)>0||(Me.maskingadjust_short=tt[L].masking_adj*.9):B!=0?Me.maskingadjust_short=tt[L].masking_adj*1.1:Math.abs(Me.maskingadjust_short-0)>0||(Me.maskingadjust_short=tt[L].masking_adj*1.1),B!=0?Me.ATHlower=-tt[L].ath_lower/10:Math.abs(-Me.ATHlower*10-0)>0||(Me.ATHlower=-tt[L].ath_lower/10),B!=0?Me.ATHcurve=tt[L].ath_curve:Math.abs(Me.ATHcurve- -1)>0||(Me.ATHcurve=tt[L].ath_curve),B!=0?Me.interChRatio=tt[L].interch:Math.abs(Me.interChRatio- -1)>0||(Me.interChRatio=tt[L].interch),Te}this.apply_preset=function(Me,Te,B){switch(Te){case xe.R3MIX:{Te=xe.V3,Me.VBR=i.vbr_mtrh;break}case xe.MEDIUM:{Te=xe.V4,Me.VBR=i.vbr_rh;break}case xe.MEDIUM_FAST:{Te=xe.V4,Me.VBR=i.vbr_mtrh;break}case xe.STANDARD:{Te=xe.V2,Me.VBR=i.vbr_rh;break}case xe.STANDARD_FAST:{Te=xe.V2,Me.VBR=i.vbr_mtrh;break}case xe.EXTREME:{Te=xe.V0,Me.VBR=i.vbr_rh;break}case xe.EXTREME_FAST:{Te=xe.V0,Me.VBR=i.vbr_mtrh;break}case xe.INSANE:return Te=320,Me.preset=Te,ct(Me,Te,B),Me.VBR=i.vbr_off,Te}switch(Me.preset=Te,Te){case xe.V9:return ze(Me,9,B),Te;case xe.V8:return ze(Me,8,B),Te;case xe.V7:return ze(Me,7,B),Te;case xe.V6:return ze(Me,6,B),Te;case xe.V5:return ze(Me,5,B),Te;case xe.V4:return ze(Me,4,B),Te;case xe.V3:return ze(Me,3,B),Te;case xe.V2:return ze(Me,2,B),Te;case xe.V1:return ze(Me,1,B),Te;case xe.V0:return ze(Me,0,B),Te}return 8<=Te&&Te<=320?ct(Me,Te,B):(Me.preset=0,Te)};function Fe(Me,Te){var B=0;return 0>Te&&(B=-1,Te=0),9<Te&&(B=-1,Te=9),Me.VBR_q=Te,Me.VBR_q_frac=0,B}}function w(){var ie=null;this.qupvt=null,this.setModules=function($){this.qupvt=$,ie=$};function Be($){this.bits=0|$}var Pe=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function We($,X,re,he,ne,ce){var be=.5946/X;for($=$>>1;$--!=0;)ne[ce++]=be>re[he++]?0:1,ne[ce++]=be>re[he++]?0:1}function Je($,X,re,he,ne,ce){$=$>>1;var be=$%2;for($=$>>1;$--!=0;){var Ve,et,Ye,nt,K,fe,mt,bt;Ve=re[he++]*X,et=re[he++]*X,K=0|Ve,Ye=re[he++]*X,fe=0|et,nt=re[he++]*X,mt=0|Ye,Ve+=ie.adj43[K],bt=0|nt,et+=ie.adj43[fe],ne[ce++]=0|Ve,Ye+=ie.adj43[mt],ne[ce++]=0|et,nt+=ie.adj43[bt],ne[ce++]=0|Ye,ne[ce++]=0|nt}if(be!=0){var Ve,et,K,fe;Ve=re[he++]*X,et=re[he++]*X,K=0|Ve,fe=0|et,Ve+=ie.adj43[K],et+=ie.adj43[fe],ne[ce++]=0|Ve,ne[ce++]=0|et}}function ze($,X,re,he,ne){var ce,be,Ve=0,et,Ye=0,nt=0,K=0,fe=X,mt=0,bt=fe,Rt=0,Ut=$,Lt=0;for(et=ne!=null&&he.global_gain==ne.global_gain,he.block_type==j.SHORT_TYPE?be=38:be=21,ce=0;ce<=be;ce++){var ke=-1;if((et||he.block_type==j.NORM_TYPE)&&(ke=he.global_gain-(he.scalefac[ce]+(he.preflag!=0?ie.pretab[ce]:0)<<he.scalefac_scale+1)-he.subblock_gain[he.window[ce]]*8),et&&ne.step[ce]==ke)Ye!=0&&(Je(Ye,re,Ut,Lt,bt,Rt),Ye=0),nt!=0&&(We(nt,re,Ut,Lt,bt,Rt),nt=0);else{var yt=he.width[ce];if(Ve+he.width[ce]>he.max_nonzero_coeff){var vt;vt=he.max_nonzero_coeff-Ve+1,d.fill(X,he.max_nonzero_coeff,576,0),yt=vt,yt<0&&(yt=0),ce=be+1}if(Ye==0&&nt==0&&(bt=fe,Rt=mt,Ut=$,Lt=K),ne!=null&&ne.sfb_count1>0&&ce>=ne.sfb_count1&&ne.step[ce]>0&&ke>=ne.step[ce]?(Ye!=0&&(Je(Ye,re,Ut,Lt,bt,Rt),Ye=0,bt=fe,Rt=mt,Ut=$,Lt=K),nt+=yt):(nt!=0&&(We(nt,re,Ut,Lt,bt,Rt),nt=0,bt=fe,Rt=mt,Ut=$,Lt=K),Ye+=yt),yt<=0){nt!=0&&(We(nt,re,Ut,Lt,bt,Rt),nt=0),Ye!=0&&(Je(Ye,re,Ut,Lt,bt,Rt),Ye=0);break}}ce<=be&&(mt+=he.width[ce],K+=he.width[ce],Ve+=he.width[ce])}Ye!=0&&(Je(Ye,re,Ut,Lt,bt,Rt),Ye=0),nt!=0&&(We(nt,re,Ut,Lt,bt,Rt),nt=0)}function tt($,X,re){var he=0,ne=0;do{var ce=$[X++],be=$[X++];he<ce&&(he=ce),ne<be&&(ne=be)}while(X<re);return he<ne&&(he=ne),he}function ct($,X,re,he,ne,ce){var be=E.ht[he].xlen*65536+E.ht[ne].xlen,Ve=0,et;do{var Ye=$[X++],nt=$[X++];Ye!=0&&(Ye>14&&(Ye=15,Ve+=be),Ye*=16),nt!=0&&(nt>14&&(nt=15,Ve+=be),Ye+=nt),Ve+=E.largetbl[Ye]}while(X<re);return et=Ve&65535,Ve>>=16,Ve>et&&(Ve=et,he=ne),ce.bits+=Ve,he}function Fe($,X,re,he){var ne=0,ce=E.ht[1].hlen;do{var be=$[X+0]*2+$[X+1];X+=2,ne+=ce[be]}while(X<re);return he.bits+=ne,1}function Me($,X,re,he,ne){var ce=0,be,Ve=E.ht[he].xlen,et;he==2?et=E.table23:et=E.table56;do{var Ye=$[X+0]*Ve+$[X+1];X+=2,ce+=et[Ye]}while(X<re);return be=ce&65535,ce>>=16,ce>be&&(ce=be,he++),ne.bits+=ce,he}function Te($,X,re,he,ne){var ce=0,be=0,Ve=0,et=E.ht[he].xlen,Ye=E.ht[he].hlen,nt=E.ht[he+1].hlen,K=E.ht[he+2].hlen;do{var fe=$[X+0]*et+$[X+1];X+=2,ce+=Ye[fe],be+=nt[fe],Ve+=K[fe]}while(X<re);var mt=he;return ce>be&&(ce=be,mt++),ce>Ve&&(ce=Ve,mt=he+2),ne.bits+=ce,mt}var B=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function z($,X,re,he){var ne=tt($,X,re);switch(ne){case 0:return ne;case 1:return Fe($,X,re,he);case 2:case 3:return Me($,X,re,B[ne-1],he);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return Te($,X,re,B[ne-1],he);default:if(ne>J.IXMAX_VAL)return he.bits=J.LARGE_BITS,-1;ne-=15;var ce;for(ce=24;ce<32&&!(E.ht[ce].linmax>=ne);ce++);var be;for(be=ce-8;be<24&&!(E.ht[be].linmax>=ne);be++);return ct($,X,re,be,ce,he)}}this.noquant_count_bits=function($,X,re){var he=X.l3_enc,ne=Math.min(576,X.max_nonzero_coeff+2>>1<<1);for(re!=null&&(re.sfb_count1=0);ne>1&&(he[ne-1]|he[ne-2])==0;ne-=2);X.count1=ne;for(var ce=0,be=0;ne>3;ne-=4){var Ve;if(((he[ne-1]|he[ne-2]|he[ne-3]|he[ne-4])&2147483647)>1)break;Ve=((he[ne-4]*2+he[ne-3])*2+he[ne-2])*2+he[ne-1],ce+=E.t32l[Ve],be+=E.t33l[Ve]}var et=ce;if(X.count1table_select=0,ce>be&&(et=be,X.count1table_select=1),X.count1bits=et,X.big_values=ne,ne==0)return et;if(X.block_type==j.SHORT_TYPE)ce=3*$.scalefac_band.s[3],ce>X.big_values&&(ce=X.big_values),be=X.big_values;else if(X.block_type==j.NORM_TYPE){if(ce=X.region0_count=$.bv_scf[ne-2],be=X.region1_count=$.bv_scf[ne-1],be=$.scalefac_band.l[ce+be+2],ce=$.scalefac_band.l[ce+1],be<ne){var Ye=new Be(et);X.table_select[2]=z(he,be,ne,Ye),et=Ye.bits}}else X.region0_count=7,X.region1_count=j.SBMAX_l-1-7-1,ce=$.scalefac_band.l[7+1],be=ne,ce>be&&(ce=be);if(ce=Math.min(ce,ne),be=Math.min(be,ne),0<ce){var Ye=new Be(et);X.table_select[0]=z(he,0,ce,Ye),et=Ye.bits}if(ce<be){var Ye=new Be(et);X.table_select[1]=z(he,ce,be,Ye),et=Ye.bits}if($.use_best_huffman==2&&(X.part2_3_length=et,best_huffman_divide($,X),et=X.part2_3_length),re!=null&&X.block_type==j.NORM_TYPE){for(var nt=0;$.scalefac_band.l[nt]<X.big_values;)nt++;re.sfb_count1=nt}return et},this.count_bits=function($,X,re,he){var ne=re.l3_enc,ce=J.IXMAX_VAL/ie.IPOW20(re.global_gain);if(re.xrpow_max>ce)return J.LARGE_BITS;if(ze(X,ne,ie.IPOW20(re.global_gain),re,he),($.substep_shaping&2)!=0)for(var be=0,Ve=re.global_gain+re.scalefac_scale,et=.634521682242439/ie.IPOW20(Ve),Ye=0;Ye<re.sfbmax;Ye++){var nt=re.width[Ye];if($.pseudohalf[Ye]==0)be+=nt;else{var K;for(K=be,be+=nt;K<be;++K)ne[K]=X[K]>=et?ne[K]:0}}return this.noquant_count_bits($,re,he)};function L($,X,re,he,ne,ce,be){for(var Ve=X.big_values,et=0;et<=7+15;et++)he[et]=J.LARGE_BITS;for(var et=0;et<16;et++){var Ye=$.scalefac_band.l[et+1];if(Ye>=Ve)break;var nt=0,K=new Be(nt),fe=z(re,0,Ye,K);nt=K.bits;for(var mt=0;mt<8;mt++){var bt=$.scalefac_band.l[et+mt+2];if(bt>=Ve)break;var Rt=nt;K=new Be(Rt);var Ut=z(re,Ye,bt,K);Rt=K.bits,he[et+mt]>Rt&&(he[et+mt]=Rt,ne[et+mt]=et,ce[et+mt]=fe,be[et+mt]=Ut)}}}function k($,X,re,he,ne,ce,be,Ve){for(var et=X.big_values,Ye=2;Ye<j.SBMAX_l+1;Ye++){var nt=$.scalefac_band.l[Ye];if(nt>=et)break;var K=ne[Ye-2]+X.count1bits;if(re.part2_3_length<=K)break;var fe=new Be(K),mt=z(he,nt,et,fe);K=fe.bits,!(re.part2_3_length<=K)&&(re.assign(X),re.part2_3_length=K,re.region0_count=ce[Ye-2],re.region1_count=Ye-2-ce[Ye-2],re.table_select[0]=be[Ye-2],re.table_select[1]=Ve[Ye-2],re.table_select[2]=mt)}}this.best_huffman_divide=function($,X){var re=new ee,he=X.l3_enc,ne=o(7+15+1),ce=o(7+15+1),be=o(7+15+1),Ve=o(7+15+1);if(!(X.block_type==j.SHORT_TYPE&&$.mode_gr==1)){re.assign(X),X.block_type==j.NORM_TYPE&&(L($,X,he,ne,ce,be,Ve),k($,re,X,he,ne,ce,be,Ve));var et=re.big_values;if(!(et==0||(he[et-2]|he[et-1])>1)&&(et=X.count1+2,!(et>576))){re.assign(X),re.count1=et;for(var Ye=0,nt=0;et>re.big_values;et-=4){var K=((he[et-4]*2+he[et-3])*2+he[et-2])*2+he[et-1];Ye+=E.t32l[K],nt+=E.t33l[K]}if(re.big_values=et,re.count1table_select=0,Ye>nt&&(Ye=nt,re.count1table_select=1),re.count1bits=Ye,re.block_type==j.NORM_TYPE)k($,re,X,he,ne,ce,be,Ve);else{if(re.part2_3_length=Ye,Ye=$.scalefac_band.l[7+1],Ye>et&&(Ye=et),Ye>0){var fe=new Be(re.part2_3_length);re.table_select[0]=z(he,0,Ye,fe),re.part2_3_length=fe.bits}if(et>Ye){var fe=new Be(re.part2_3_length);re.table_select[1]=z(he,Ye,et,fe),re.part2_3_length=fe.bits}X.part2_3_length>re.part2_3_length&&X.assign(re)}}}};var ge=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],ve=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],_e=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],H=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];w.slen1_tab=_e,w.slen2_tab=H;function ye($,X){for(var re,he=X.tt[1][$],ne=X.tt[0][$],ce=0;ce<E.scfsi_band.length-1;ce++){for(re=E.scfsi_band[ce];re<E.scfsi_band[ce+1]&&!(ne.scalefac[re]!=he.scalefac[re]&&he.scalefac[re]>=0);re++);if(re==E.scfsi_band[ce+1]){for(re=E.scfsi_band[ce];re<E.scfsi_band[ce+1];re++)he.scalefac[re]=-1;X.scfsi[$][ce]=1}}var be=0,Ve=0;for(re=0;re<11;re++)he.scalefac[re]!=-1&&(Ve++,be<he.scalefac[re]&&(be=he.scalefac[re]));for(var et=0,Ye=0;re<j.SBPSY_l;re++)he.scalefac[re]!=-1&&(Ye++,et<he.scalefac[re]&&(et=he.scalefac[re]));for(var ce=0;ce<16;ce++)if(be<ge[ce]&&et<ve[ce]){var nt=_e[ce]*Ve+H[ce]*Ye;he.part2_length>nt&&(he.part2_length=nt,he.scalefac_compress=ce)}}this.best_scalefac_store=function($,X,re,he){var ne=he.tt[X][re],ce,be,Ve,et,Ye=0;for(Ve=0,ce=0;ce<ne.sfbmax;ce++){var nt=ne.width[ce];for(Ve+=nt,et=-nt;et<0&&ne.l3_enc[et+Ve]==0;et++);et==0&&(ne.scalefac[ce]=Ye=-2)}if(ne.scalefac_scale==0&&ne.preflag==0){var K=0;for(ce=0;ce<ne.sfbmax;ce++)ne.scalefac[ce]>0&&(K|=ne.scalefac[ce]);if((K&1)==0&&K!=0){for(ce=0;ce<ne.sfbmax;ce++)ne.scalefac[ce]>0&&(ne.scalefac[ce]>>=1);ne.scalefac_scale=Ye=1}}if(ne.preflag==0&&ne.block_type!=j.SHORT_TYPE&&$.mode_gr==2){for(ce=11;ce<j.SBPSY_l&&!(ne.scalefac[ce]<ie.pretab[ce]&&ne.scalefac[ce]!=-2);ce++);if(ce==j.SBPSY_l){for(ce=11;ce<j.SBPSY_l;ce++)ne.scalefac[ce]>0&&(ne.scalefac[ce]-=ie.pretab[ce]);ne.preflag=Ye=1}}for(be=0;be<4;be++)he.scfsi[re][be]=0;for($.mode_gr==2&&X==1&&he.tt[0][re].block_type!=j.SHORT_TYPE&&he.tt[1][re].block_type!=j.SHORT_TYPE&&(ye(re,he),Ye=0),ce=0;ce<ne.sfbmax;ce++)ne.scalefac[ce]==-2&&(ne.scalefac[ce]=0);Ye!=0&&($.mode_gr==2?this.scale_bitcount(ne):this.scale_bitcount_lsf($,ne))};var je=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],pe=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],Oe=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function($){var X,re,he=0,ne=0,ce,be=$.scalefac;if($.block_type==j.SHORT_TYPE)ce=je,$.mixed_block_flag!=0&&(ce=pe);else if(ce=Oe,$.preflag==0){for(re=11;re<j.SBPSY_l&&!(be[re]<ie.pretab[re]);re++);if(re==j.SBPSY_l)for($.preflag=1,re=11;re<j.SBPSY_l;re++)be[re]-=ie.pretab[re]}for(re=0;re<$.sfbdivide;re++)he<be[re]&&(he=be[re]);for(;re<$.sfbmax;re++)ne<be[re]&&(ne=be[re]);for($.part2_length=J.LARGE_BITS,X=0;X<16;X++)he<ge[X]&&ne<ve[X]&&$.part2_length>ce[X]&&($.part2_length=ce[X],$.scalefac_compress=X);return $.part2_length==J.LARGE_BITS};var Y=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function($,X){var re,he,ne,ce,be,Ve,et,Ye,nt=o(4),K=X.scalefac;for(X.preflag!=0?re=2:re=0,et=0;et<4;et++)nt[et]=0;if(X.block_type==j.SHORT_TYPE){he=1;var fe=ie.nr_of_sfb_block[re][he];for(Ye=0,ne=0;ne<4;ne++)for(ce=fe[ne]/3,et=0;et<ce;et++,Ye++)for(be=0;be<3;be++)K[Ye*3+be]>nt[ne]&&(nt[ne]=K[Ye*3+be])}else{he=0;var fe=ie.nr_of_sfb_block[re][he];for(Ye=0,ne=0;ne<4;ne++)for(ce=fe[ne],et=0;et<ce;et++,Ye++)K[Ye]>nt[ne]&&(nt[ne]=K[Ye])}for(Ve=!1,ne=0;ne<4;ne++)nt[ne]>Y[re][ne]&&(Ve=!0);if(!Ve){var mt,bt,Rt,Ut;for(X.sfb_partition_table=ie.nr_of_sfb_block[re][he],ne=0;ne<4;ne++)X.slen[ne]=me[nt[ne]];switch(mt=X.slen[0],bt=X.slen[1],Rt=X.slen[2],Ut=X.slen[3],re){case 0:X.scalefac_compress=(mt*5+bt<<4)+(Rt<<2)+Ut;break;case 1:X.scalefac_compress=400+(mt*5+bt<<2)+Rt;break;case 2:X.scalefac_compress=500+mt*3+bt;break;default:f.err.printf(`intensity stereo not implemented yet
`);break}}if(!Ve)for(X.part2_length=0,ne=0;ne<4;ne++)X.part2_length+=X.slen[ne]*X.sfb_partition_table[ne];return Ve};var me=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function($){for(var X=2;X<=576;X+=2){for(var re=0,he;$.scalefac_band.l[++re]<X;);for(he=Pe[re][0];$.scalefac_band.l[he+1]>X;)he--;for(he<0&&(he=Pe[re][0]),$.bv_scf[X-2]=he,he=Pe[re][1];$.scalefac_band.l[he+$.bv_scf[X-2]+2]>X;)he--;he<0&&(he=Pe[re][1]),$.bv_scf[X-1]=he}}}function S(){var ie;this.setModules=function(Be){ie=Be},this.ResvFrameBegin=function(Be,Pe){var We=Be.internal_flags,Je,ze=We.l3_side,tt=ie.getframebits(Be);Pe.bits=(tt-We.sideinfo_len*8)/We.mode_gr;var ct=8*256*We.mode_gr-8;Be.brate>320?Je=8*int(Be.brate*1e3/(Be.out_samplerate/1152)/8+.5):(Je=8*1440,Be.strict_ISO&&(Je=8*int(32e4/(Be.out_samplerate/1152)/8+.5))),We.ResvMax=Je-tt,We.ResvMax>ct&&(We.ResvMax=ct),(We.ResvMax<0||Be.disable_reservoir)&&(We.ResvMax=0);var Fe=Pe.bits*We.mode_gr+Math.min(We.ResvSize,We.ResvMax);return Fe>Je&&(Fe=Je),ze.resvDrain_pre=0,We.pinfo!=null&&(We.pinfo.mean_bits=Pe.bits/2,We.pinfo.resvsize=We.ResvSize),Fe},this.ResvMaxBits=function(Be,Pe,We,Je){var ze=Be.internal_flags,tt,ct=ze.ResvSize,Fe=ze.ResvMax;Je!=0&&(ct+=Pe),(ze.substep_shaping&1)!=0&&(Fe*=.9),We.bits=Pe,ct*10>Fe*9?(tt=ct-Fe*9/10,We.bits+=tt,ze.substep_shaping|=128):(tt=0,ze.substep_shaping&=127,!Be.disable_reservoir&&(ze.substep_shaping&1)==0&&(We.bits-=.1*Pe));var Me=ct<ze.ResvMax*6/10?ct:ze.ResvMax*6/10;return Me-=tt,Me<0&&(Me=0),Me},this.ResvAdjust=function(Be,Pe){Be.ResvSize-=Pe.part2_3_length+Pe.part2_length},this.ResvFrameEnd=function(Be,Pe){var We,Je=Be.l3_side;Be.ResvSize+=Pe*Be.mode_gr;var ze=0;Je.resvDrain_post=0,Je.resvDrain_pre=0,(We=Be.ResvSize%8)!=0&&(ze+=We),We=Be.ResvSize-ze-Be.ResvMax,We>0&&(ze+=We);{var tt=Math.min(Je.main_data_begin*8,ze)/8;Je.resvDrain_pre+=8*tt,ze-=8*tt,Be.ResvSize-=8*tt,Je.main_data_begin-=tt}Je.resvDrain_post+=ze,Be.ResvSize-=ze}}x.EQ=function(ie,Be){return Math.abs(ie)>Math.abs(Be)?Math.abs(ie-Be)<=Math.abs(ie)*1e-6:Math.abs(ie-Be)<=Math.abs(Be)*1e-6},x.NEQ=function(ie,Be){return!x.EQ(ie,Be)};function x(){var ie=this,Be=32773,Pe=null,We=null,Je=null,ze=null;this.setModules=function(me,$,X,re){Pe=me,We=$,Je=X,ze=re};var tt=null,ct=0,Fe=0,Me=0;this.getframebits=function(me){var $=me.internal_flags,X;$.bitrate_index!=0?X=E.bitrate_table[me.version][$.bitrate_index]:X=me.brate;var re=0|(me.version+1)*72e3*X/me.out_samplerate+$.padding;return 8*re};function Te(me){f.arraycopy(me.header[me.w_ptr].buf,0,tt,Fe,me.sideinfo_len),Fe+=me.sideinfo_len,ct+=me.sideinfo_len*8,me.w_ptr=me.w_ptr+1&Ee.MAX_HEADER_BUF-1}function B(me,$,X){for(;X>0;){var re;Me==0&&(Me=8,Fe++,me.header[me.w_ptr].write_timing==ct&&Te(me),tt[Fe]=0),re=Math.min(X,Me),X-=re,Me-=re,tt[Fe]|=$>>X<<Me,ct+=re}}function z(me,$,X){for(;X>0;){var re;Me==0&&(Me=8,Fe++,tt[Fe]=0),re=Math.min(X,Me),X-=re,Me-=re,tt[Fe]|=$>>X<<Me,ct+=re}}function L(me,$){var X=me.internal_flags,re;if($>=8&&(B(X,76,8),$-=8),$>=8&&(B(X,65,8),$-=8),$>=8&&(B(X,77,8),$-=8),$>=8&&(B(X,69,8),$-=8),$>=32){var he=Je.getLameShortVersion();if($>=32)for(re=0;re<he.length&&$>=8;++re)$-=8,B(X,he.charAt(re),8)}for(;$>=1;$-=1)B(X,X.ancillary_flag,1),X.ancillary_flag^=me.disable_reservoir?0:1}function k(me,$,X){for(var re=me.header[me.h_ptr].ptr;X>0;){var he=Math.min(X,8-(re&7));X-=he,me.header[me.h_ptr].buf[re>>3]|=$>>X<<8-(re&7)-he,re+=he}me.header[me.h_ptr].ptr=re}function ge(me,$){me<<=8;for(var X=0;X<8;X++)me<<=1,$<<=1,(($^me)&65536)!=0&&($^=Be);return $}this.CRC_writeheader=function(me,$){var X=65535;X=ge($[2]&255,X),X=ge($[3]&255,X);for(var re=6;re<me.sideinfo_len;re++)X=ge($[re]&255,X);$[4]=byte(X>>8),$[5]=byte(X&255)};function ve(me,$){var X=me.internal_flags,re,he,ne;if(re=X.l3_side,X.header[X.h_ptr].ptr=0,d.fill(X.header[X.h_ptr].buf,0,X.sideinfo_len,0),me.out_samplerate<16e3?k(X,4094,12):k(X,4095,12),k(X,me.version,1),k(X,4-3,2),k(X,me.error_protection?0:1,1),k(X,X.bitrate_index,4),k(X,X.samplerate_index,2),k(X,X.padding,1),k(X,me.extension,1),k(X,me.mode.ordinal(),2),k(X,X.mode_ext,2),k(X,me.copyright,1),k(X,me.original,1),k(X,me.emphasis,2),me.error_protection&&k(X,0,16),me.version==1){for(k(X,re.main_data_begin,9),X.channels_out==2?k(X,re.private_bits,3):k(X,re.private_bits,5),ne=0;ne<X.channels_out;ne++){var ce;for(ce=0;ce<4;ce++)k(X,re.scfsi[ne][ce],1)}for(he=0;he<2;he++)for(ne=0;ne<X.channels_out;ne++){var be=re.tt[he][ne];k(X,be.part2_3_length+be.part2_length,12),k(X,be.big_values/2,9),k(X,be.global_gain,8),k(X,be.scalefac_compress,4),be.block_type!=j.NORM_TYPE?(k(X,1,1),k(X,be.block_type,2),k(X,be.mixed_block_flag,1),be.table_select[0]==14&&(be.table_select[0]=16),k(X,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),k(X,be.table_select[1],5),k(X,be.subblock_gain[0],3),k(X,be.subblock_gain[1],3),k(X,be.subblock_gain[2],3)):(k(X,0,1),be.table_select[0]==14&&(be.table_select[0]=16),k(X,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),k(X,be.table_select[1],5),be.table_select[2]==14&&(be.table_select[2]=16),k(X,be.table_select[2],5),k(X,be.region0_count,4),k(X,be.region1_count,3)),k(X,be.preflag,1),k(X,be.scalefac_scale,1),k(X,be.count1table_select,1)}}else for(k(X,re.main_data_begin,8),k(X,re.private_bits,X.channels_out),he=0,ne=0;ne<X.channels_out;ne++){var be=re.tt[he][ne];k(X,be.part2_3_length+be.part2_length,12),k(X,be.big_values/2,9),k(X,be.global_gain,8),k(X,be.scalefac_compress,9),be.block_type!=j.NORM_TYPE?(k(X,1,1),k(X,be.block_type,2),k(X,be.mixed_block_flag,1),be.table_select[0]==14&&(be.table_select[0]=16),k(X,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),k(X,be.table_select[1],5),k(X,be.subblock_gain[0],3),k(X,be.subblock_gain[1],3),k(X,be.subblock_gain[2],3)):(k(X,0,1),be.table_select[0]==14&&(be.table_select[0]=16),k(X,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),k(X,be.table_select[1],5),be.table_select[2]==14&&(be.table_select[2]=16),k(X,be.table_select[2],5),k(X,be.region0_count,4),k(X,be.region1_count,3)),k(X,be.scalefac_scale,1),k(X,be.count1table_select,1)}me.error_protection&&CRC_writeheader(X,X.header[X.h_ptr].buf);{var Ve=X.h_ptr;X.h_ptr=Ve+1&Ee.MAX_HEADER_BUF-1,X.header[X.h_ptr].write_timing=X.header[Ve].write_timing+$,X.h_ptr==X.w_ptr&&f.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function _e(me,$){var X=E.ht[$.count1table_select+32],re,he=0,ne=$.big_values,ce=$.big_values;for(re=($.count1-$.big_values)/4;re>0;--re){var be=0,Ve=0,et;et=$.l3_enc[ne+0],et!=0&&(Ve+=8,$.xr[ce+0]<0&&be++),et=$.l3_enc[ne+1],et!=0&&(Ve+=4,be*=2,$.xr[ce+1]<0&&be++),et=$.l3_enc[ne+2],et!=0&&(Ve+=2,be*=2,$.xr[ce+2]<0&&be++),et=$.l3_enc[ne+3],et!=0&&(Ve++,be*=2,$.xr[ce+3]<0&&be++),ne+=4,ce+=4,B(me,be+X.table[Ve],X.hlen[Ve]),he+=X.hlen[Ve]}return he}function H(me,$,X,re,he){var ne=E.ht[$],ce=0;if($==0)return ce;for(var be=X;be<re;be+=2){var Ve=0,et=0,Ye=ne.xlen,nt=ne.xlen,K=0,fe=he.l3_enc[be],mt=he.l3_enc[be+1];if(fe!=0&&(he.xr[be]<0&&K++,Ve--),$>15){if(fe>14){var bt=fe-15;K|=bt<<1,et=Ye,fe=15}if(mt>14){var Rt=mt-15;K<<=Ye,K|=Rt,et+=Ye,mt=15}nt=16}mt!=0&&(K<<=1,he.xr[be+1]<0&&K++,Ve--),fe=fe*nt+mt,et-=Ve,Ve+=ne.hlen[fe],B(me,ne.table[fe],Ve),B(me,K,et),ce+=Ve+et}return ce}function ye(me,$){var X=3*me.scalefac_band.s[3];X>$.big_values&&(X=$.big_values);var re=H(me,$.table_select[0],0,X,$);return re+=H(me,$.table_select[1],X,$.big_values,$),re}function je(me,$){var X,re,he,ne;X=$.big_values;var ce=$.region0_count+1;return he=me.scalefac_band.l[ce],ce+=$.region1_count+1,ne=me.scalefac_band.l[ce],he>X&&(he=X),ne>X&&(ne=X),re=H(me,$.table_select[0],0,he,$),re+=H(me,$.table_select[1],he,ne,$),re+=H(me,$.table_select[2],ne,X,$),re}function pe(me){var $,X,re,he,ne=0,ce=me.internal_flags,be=ce.l3_side;if(me.version==1)for($=0;$<2;$++)for(X=0;X<ce.channels_out;X++){var Ve=be.tt[$][X],et=w.slen1_tab[Ve.scalefac_compress],Ye=w.slen2_tab[Ve.scalefac_compress];for(he=0,re=0;re<Ve.sfbdivide;re++)Ve.scalefac[re]!=-1&&(B(ce,Ve.scalefac[re],et),he+=et);for(;re<Ve.sfbmax;re++)Ve.scalefac[re]!=-1&&(B(ce,Ve.scalefac[re],Ye),he+=Ye);Ve.block_type==j.SHORT_TYPE?he+=ye(ce,Ve):he+=je(ce,Ve),he+=_e(ce,Ve),ne+=he}else for($=0,X=0;X<ce.channels_out;X++){var Ve=be.tt[$][X],nt,K,fe=0;if(he=0,re=0,K=0,Ve.block_type==j.SHORT_TYPE){for(;K<4;K++){var mt=Ve.sfb_partition_table[K]/3,bt=Ve.slen[K];for(nt=0;nt<mt;nt++,re++)B(ce,Math.max(Ve.scalefac[re*3+0],0),bt),B(ce,Math.max(Ve.scalefac[re*3+1],0),bt),B(ce,Math.max(Ve.scalefac[re*3+2],0),bt),fe+=3*bt}he+=ye(ce,Ve)}else{for(;K<4;K++){var mt=Ve.sfb_partition_table[K],bt=Ve.slen[K];for(nt=0;nt<mt;nt++,re++)B(ce,Math.max(Ve.scalefac[re],0),bt),fe+=bt}he+=je(ce,Ve)}he+=_e(ce,Ve),ne+=fe+he}return ne}function Oe(){this.total=0}function Y(me,$){var X=me.internal_flags,re,he,ne,ce,be;return be=X.w_ptr,ce=X.h_ptr-1,ce==-1&&(ce=Ee.MAX_HEADER_BUF-1),re=X.header[ce].write_timing-ct,$.total=re,re>=0&&(he=1+ce-be,ce<be&&(he=1+ce-be+Ee.MAX_HEADER_BUF),re-=he*8*X.sideinfo_len),ne=ie.getframebits(me),re+=ne,$.total+=ne,$.total%8!=0?$.total=1+$.total/8:$.total=$.total/8,$.total+=Fe+1,re<0&&f.err.println(`strange error flushing buffer ... 
`),re}this.flush_bitstream=function(me){var $=me.internal_flags,X,re;if($.h_ptr-1,X=$.l3_side,!((re=Y(me,new Oe))<0)){if(L(me,re),$.ResvSize=0,X.main_data_begin=0,$.findReplayGain){var he=Pe.GetTitleGain($.rgdata);$.RadioGain=Math.floor(he*10+.5)|0}$.findPeakSample&&($.noclipGainChange=Math.ceil(Math.log10($.PeakSample/32767)*20*10)|0,$.noclipGainChange>0&&(EQ(me.scale,1)||EQ(me.scale,0))?$.noclipScale=Math.floor(32767/$.PeakSample*100)/100:$.noclipScale=-1)}},this.add_dummy_byte=function(me,$,X){for(var re=me.internal_flags,he;X-- >0;)for(z(re,$,8),he=0;he<Ee.MAX_HEADER_BUF;++he)re.header[he].write_timing+=8},this.format_bitstream=function(me){var $=me.internal_flags,X;X=$.l3_side;var re=this.getframebits(me);L(me,X.resvDrain_pre),ve(me,re);var he=8*$.sideinfo_len;if(he+=pe(me),L(me,X.resvDrain_post),he+=X.resvDrain_post,X.main_data_begin+=(re-he)/8,Y(me,new Oe)!=$.ResvSize&&f.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),X.main_data_begin*8!=$.ResvSize&&(f.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*X.main_data_begin,$.ResvSize,X.resvDrain_post,X.resvDrain_pre,8*$.sideinfo_len,he-X.resvDrain_post-8*$.sideinfo_len,he,he%8,re),f.err.println("This is a fatal error.  It has several possible causes:"),f.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),f.err.println(" 9%%  Your system is overclocked"),f.err.println(" 1%%  bug in LAME encoding library"),$.ResvSize=X.main_data_begin*8),ct>1e9){var ne;for(ne=0;ne<Ee.MAX_HEADER_BUF;++ne)$.header[ne].write_timing-=ct;ct=0}return 0},this.copy_buffer=function(me,$,X,re,he){var ne=Fe+1;if(ne<=0)return 0;if(re!=0&&ne>re)return-1;if(f.arraycopy(tt,0,$,X,ne),Fe=-1,Me=0,he!=0){var ce=o(1);if(ce[0]=me.nMusicCRC,ze.updateMusicCRC(ce,$,X,ne),me.nMusicCRC=ce[0],ne>0&&(me.VBR_seek_table.nBytesWritten+=ne),me.decode_on_the_fly){for(var be=p([2,1152]),Ve=ne,et=-1,Ye;et!=0;)if(et=We.hip_decode1_unclipped(me.hip,$,X,Ve,be[0],be[1]),Ve=0,et==-1&&(et=0),et>0){if(me.findPeakSample){for(Ye=0;Ye<et;Ye++)be[0][Ye]>me.PeakSample?me.PeakSample=be[0][Ye]:-be[0][Ye]>me.PeakSample&&(me.PeakSample=-be[0][Ye]);if(me.channels_out>1)for(Ye=0;Ye<et;Ye++)be[1][Ye]>me.PeakSample?me.PeakSample=be[1][Ye]:-be[1][Ye]>me.PeakSample&&(me.PeakSample=-be[1][Ye])}if(me.findReplayGain&&Pe.AnalyzeSamples(me.rgdata,be[0],0,be[1],0,et,me.channels_out)==v.GAIN_ANALYSIS_ERROR)return-6}}}return ne},this.init_bit_stream_w=function(me){tt=n(xe.LAME_MAXMP3BUFFER),me.h_ptr=me.w_ptr=0,me.header[me.h_ptr].write_timing=0,Fe=-1,Me=0,ct=0}}M.NUMTOCENTRIES=100,M.MAXFRAMESIZE=2880;function M(){var ie,Be,Pe;this.setModules=function(ne,ce,be){ie=ne,Be=ce,Pe=be};var We=1,Je=2,ze=4,tt=8,ct=M.NUMTOCENTRIES,Fe=M.MAXFRAMESIZE,Me=ct+4+4+4+4+4,Te=Me+9+1+1+8+1+1+3+1+1+2+4+2+2,B=128,z=64,L=32,k=null,ge="Xing",ve="Info",_e=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function H(ne,ce){if(ne.nVbrNumFrames++,ne.sum+=ce,ne.seen++,!(ne.seen<ne.want)&&(ne.pos<ne.size&&(ne.bag[ne.pos]=ne.sum,ne.pos++,ne.seen=0),ne.pos==ne.size)){for(var be=1;be<ne.size;be+=2)ne.bag[be/2]=ne.bag[be];ne.want*=2,ne.pos/=2}}function ye(ne,ce){if(!(ne.pos<=0))for(var be=1;be<ct;++be){var Ve=be/ct,et,Ye,nt=0|Math.floor(Ve*ne.pos);nt>ne.pos-1&&(nt=ne.pos-1),et=ne.bag[nt],Ye=ne.sum;var K=0|256*et/Ye;K>255&&(K=255),ce[be]=255&K}}this.addVbrFrame=function(ne){var ce=ne.internal_flags,be=E.bitrate_table[ne.version][ce.bitrate_index];H(ce.VBR_seek_table,be)};function je(ne,ce){var be=ne[ce+0]&255;return be<<=8,be|=ne[ce+1]&255,be<<=8,be|=ne[ce+2]&255,be<<=8,be|=ne[ce+3]&255,be}function pe(ne,ce,be){ne[ce+0]=255&(be>>24&255),ne[ce+1]=255&(be>>16&255),ne[ce+2]=255&(be>>8&255),ne[ce+3]=255&(be&255)}function Oe(ne,ce,be){ne[ce+0]=255&(be>>8&255),ne[ce+1]=255&(be&255)}function Y(ne,ce){return new String(ne,ce,ge.length(),k).equals(ge)||new String(ne,ce,ve.length(),k).equals(ve)}function me(ne,ce,be){return 255&(ne<<ce|be&~(-1<<ce))}function $(ne,ce){var be=ne.internal_flags;ce[0]=me(ce[0],8,255),ce[1]=me(ce[1],3,7),ce[1]=me(ce[1],1,ne.out_samplerate<16e3?0:1),ce[1]=me(ce[1],1,ne.version),ce[1]=me(ce[1],2,4-3),ce[1]=me(ce[1],1,ne.error_protection?0:1),ce[2]=me(ce[2],4,be.bitrate_index),ce[2]=me(ce[2],2,be.samplerate_index),ce[2]=me(ce[2],1,0),ce[2]=me(ce[2],1,ne.extension),ce[3]=me(ce[3],2,ne.mode.ordinal()),ce[3]=me(ce[3],2,be.mode_ext),ce[3]=me(ce[3],1,ne.copyright),ce[3]=me(ce[3],1,ne.original),ce[3]=me(ce[3],2,ne.emphasis),ce[0]=255;var Ve=255&(ce[1]&241),et;ne.version==1?et=B:ne.out_samplerate<16e3?et=L:et=z,ne.VBR==i.vbr_off&&(et=ne.brate);var Ye;ne.free_format?Ye=0:Ye=255&16*ie.BitrateIndex(et,ne.version,ne.out_samplerate),ne.version==1?(ce[1]=255&(Ve|10),Ve=255&(ce[2]&13),ce[2]=255&(Ye|Ve)):(ce[1]=255&(Ve|2),Ve=255&(ce[2]&13),ce[2]=255&(Ye|Ve))}this.getVbrTag=function(ne){var ce=new VBRTagData,be=0;ce.flags=0;var Ve=ne[be+1]>>3&1,et=ne[be+2]>>2&3,Ye=ne[be+3]>>6&3,nt=ne[be+2]>>4&15;if(nt=E.bitrate_table[Ve][nt],ne[be+1]>>4==14?ce.samprate=E.samplerate_table[2][et]:ce.samprate=E.samplerate_table[Ve][et],Ve!=0?Ye!=3?be+=32+4:be+=17+4:Ye!=3?be+=17+4:be+=9+4,!Y(ne,be))return null;be+=4,ce.hId=Ve;var K=ce.flags=je(ne,be);if(be+=4,(K&We)!=0&&(ce.frames=je(ne,be),be+=4),(K&Je)!=0&&(ce.bytes=je(ne,be),be+=4),(K&ze)!=0){if(ce.toc!=null)for(var fe=0;fe<ct;fe++)ce.toc[fe]=ne[be+fe];be+=ct}ce.vbrScale=-1,(K&tt)!=0&&(ce.vbrScale=je(ne,be),be+=4),ce.headersize=(Ve+1)*72e3*nt/ce.samprate,be+=21;var mt=ne[be+0]<<4;mt+=ne[be+1]>>4;var bt=(ne[be+1]&15)<<8;return bt+=ne[be+2]&255,(mt<0||mt>3e3)&&(mt=-1),(bt<0||bt>3e3)&&(bt=-1),ce.encDelay=mt,ce.encPadding=bt,ce},this.InitVbrTag=function(ne){var ce=ne.internal_flags,be;ne.version==1?be=B:ne.out_samplerate<16e3?be=L:be=z,ne.VBR==i.vbr_off&&(be=ne.brate);var Ve=(ne.version+1)*72e3*be/ne.out_samplerate,et=ce.sideinfo_len+Te;if(ce.VBR_seek_table.TotalFrameSize=Ve,Ve<et||Ve>Fe){ne.bWriteVbrTag=!1;return}ce.VBR_seek_table.nVbrNumFrames=0,ce.VBR_seek_table.nBytesWritten=0,ce.VBR_seek_table.sum=0,ce.VBR_seek_table.seen=0,ce.VBR_seek_table.want=1,ce.VBR_seek_table.pos=0,ce.VBR_seek_table.bag==null&&(ce.VBR_seek_table.bag=new int[400],ce.VBR_seek_table.size=400);var Ye=n(Fe);$(ne,Ye);for(var nt=ce.VBR_seek_table.TotalFrameSize,K=0;K<nt;++K)Be.add_dummy_byte(ne,Ye[K]&255,1)};function X(ne,ce){var be=ce^ne;return ce=ce>>8^_e[be&255],ce}this.updateMusicCRC=function(ne,ce,be,Ve){for(var et=0;et<Ve;++et)ne[0]=X(ce[be+et],ne[0])};function re(ne,ce,be,Ve,et){var Ye=ne.internal_flags,nt=0,K=ne.encoder_delay,fe=ne.encoder_padding,mt=100-10*ne.VBR_q-ne.quality,bt=Pe.getLameVeryShortVersion(),Rt,Ut=0,Lt,ke=[1,5,3,2,4,0,3],yt=0|(ne.lowpassfreq/100+.5>255?255:ne.lowpassfreq/100+.5),vt=0,rt=0,qt=0,wt=ne.internal_flags.noise_shaping,Wt=0,At=0,Qt=0,kt=0,cr=0,gr=(ne.exp_nspsytune&1)!=0,fr=(ne.exp_nspsytune&2)!=0,pr=!1,qr=!1,Qr=ne.internal_flags.nogap_total,fn=ne.internal_flags.nogap_current,mr=ne.ATHtype,Vo=0,Kr;switch(ne.VBR){case vbr_abr:Kr=ne.VBR_mean_bitrate_kbps;break;case vbr_off:Kr=ne.brate;break;default:Kr=ne.VBR_min_bitrate_kbps}switch(ne.VBR.ordinal()<ke.length?Rt=ke[ne.VBR.ordinal()]:Rt=0,Lt=16*Ut+Rt,Ye.findReplayGain&&(Ye.RadioGain>510&&(Ye.RadioGain=510),Ye.RadioGain<-510&&(Ye.RadioGain=-510),rt=8192,rt|=3072,Ye.RadioGain>=0?rt|=Ye.RadioGain:(rt|=512,rt|=-Ye.RadioGain)),Ye.findPeakSample&&(vt=Math.abs(0|Ye.PeakSample/32767*Math.pow(2,23)+.5)),Qr!=-1&&(fn>0&&(qr=!0),fn<Qr-1&&(pr=!0)),Vo=mr+((gr?1:0)<<4)+((fr?1:0)<<5)+((pr?1:0)<<6)+((qr?1:0)<<7),mt<0&&(mt=0),ne.mode){case MONO:Wt=0;break;case STEREO:Wt=1;break;case DUAL_CHANNEL:Wt=2;break;case JOINT_STEREO:ne.force_ms?Wt=4:Wt=3;break;case NOT_SET:default:Wt=7;break}ne.in_samplerate<=32e3?Qt=0:ne.in_samplerate==48e3?Qt=2:ne.in_samplerate>48e3?Qt=3:Qt=1,(ne.short_blocks==u.short_block_forced||ne.short_blocks==u.short_block_dispensed||ne.lowpassfreq==-1&&ne.highpassfreq==-1||ne.scale_left<ne.scale_right||ne.scale_left>ne.scale_right||ne.disable_reservoir&&ne.brate<320||ne.noATH||ne.ATHonly||mr==0||ne.in_samplerate<=32e3)&&(At=1),kt=wt+(Wt<<2)+(At<<5)+(Qt<<6),cr=Ye.nMusicCRC,pe(be,Ve+nt,mt),nt+=4;for(var sn=0;sn<9;sn++)be[Ve+nt+sn]=255&bt.charAt(sn);nt+=9,be[Ve+nt]=255&Lt,nt++,be[Ve+nt]=255&yt,nt++,pe(be,Ve+nt,vt),nt+=4,Oe(be,Ve+nt,rt),nt+=2,Oe(be,Ve+nt,qt),nt+=2,be[Ve+nt]=255&Vo,nt++,Kr>=255?be[Ve+nt]=255:be[Ve+nt]=255&Kr,nt++,be[Ve+nt]=255&K>>4,be[Ve+nt+1]=255&(K<<4)+(fe>>8),be[Ve+nt+2]=255&fe,nt+=3,be[Ve+nt]=255&kt,nt++,be[Ve+nt++]=0,Oe(be,Ve+nt,ne.preset),nt+=2,pe(be,Ve+nt,ce),nt+=4,Oe(be,Ve+nt,cr),nt+=2;for(var To=0;To<nt;To++)et=X(be[Ve+To],et);return Oe(be,Ve+nt,et),nt+=2,nt}function he(ne){ne.seek(0);var ce=n(10);ne.readFully(ce);var be;return new String(ce,"ISO-8859-1").startsWith("ID3")?be=0:be=((ce[6]&127)<<21|(ce[7]&127)<<14|(ce[8]&127)<<7|ce[9]&127)+ce.length,be}this.getLameTagFrame=function(ne,ce){var be=ne.internal_flags;if(!ne.bWriteVbrTag||be.Class_ID!=xe.LAME_ID||be.VBR_seek_table.pos<=0)return 0;if(ce.length<be.VBR_seek_table.TotalFrameSize)return be.VBR_seek_table.TotalFrameSize;d.fill(ce,0,be.VBR_seek_table.TotalFrameSize,0),$(ne,ce);var Ve=n(ct);if(ne.free_format)for(var et=1;et<ct;++et)Ve[et]=255&255*et/100;else ye(be.VBR_seek_table,Ve);var Ye=be.sideinfo_len;ne.error_protection&&(Ye-=2),ne.VBR==i.vbr_off?(ce[Ye++]=255&ve.charAt(0),ce[Ye++]=255&ve.charAt(1),ce[Ye++]=255&ve.charAt(2),ce[Ye++]=255&ve.charAt(3)):(ce[Ye++]=255&ge.charAt(0),ce[Ye++]=255&ge.charAt(1),ce[Ye++]=255&ge.charAt(2),ce[Ye++]=255&ge.charAt(3)),pe(ce,Ye,We+Je+ze+tt),Ye+=4,pe(ce,Ye,be.VBR_seek_table.nVbrNumFrames),Ye+=4;var nt=be.VBR_seek_table.nBytesWritten+be.VBR_seek_table.TotalFrameSize;pe(ce,Ye,0|nt),Ye+=4,f.arraycopy(Ve,0,ce,Ye,Ve.length),Ye+=Ve.length,ne.error_protection&&Be.CRC_writeheader(be,ce);for(var K=0,et=0;et<Ye;et++)K=X(ce[et],K);return Ye+=re(ne,nt,ce,Ye,K),be.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(ne,ce){var be=ne.internal_flags;if(be.VBR_seek_table.pos<=0||(ce.seek(ce.length()),ce.length()==0))return-1;var Ve=he(ce);ce.seek(Ve);var et=n(Fe),Ye=getLameTagFrame(ne,et);return Ye>et.length?-1:(Ye<1||ce.write(et,0,Ye),0)}}function C(ie,Be,Pe,We){this.xlen=ie,this.linmax=Be,this.table=Pe,this.hlen=We}var E={};E.t1HB=[1,1,1,0],E.t2HB=[1,2,1,3,1,1,3,2,0],E.t3HB=[3,2,1,1,1,1,3,2,0],E.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],E.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],E.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],E.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],E.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],E.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],E.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],E.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],E.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],E.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],E.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],E.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],E.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4],E.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4],E.t1l=[1,4,3,5],E.t2l=[1,4,7,4,5,7,6,7,8],E.t3l=[2,3,7,4,4,7,6,7,8],E.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],E.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],E.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],E.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],E.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],E.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],E.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],E.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],E.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],E.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],E.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],E.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],E.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],E.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4],E.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4],E.ht=[new C(0,0,null,null),new C(2,0,E.t1HB,E.t1l),new C(3,0,E.t2HB,E.t2l),new C(3,0,E.t3HB,E.t3l),new C(0,0,null,null),new C(4,0,E.t5HB,E.t5l),new C(4,0,E.t6HB,E.t6l),new C(6,0,E.t7HB,E.t7l),new C(6,0,E.t8HB,E.t8l),new C(6,0,E.t9HB,E.t9l),new C(8,0,E.t10HB,E.t10l),new C(8,0,E.t11HB,E.t11l),new C(8,0,E.t12HB,E.t12l),new C(16,0,E.t13HB,E.t13l),new C(0,0,null,E.t16_5l),new C(16,0,E.t15HB,E.t15l),new C(1,1,E.t16HB,E.t16l),new C(2,3,E.t16HB,E.t16l),new C(3,7,E.t16HB,E.t16l),new C(4,15,E.t16HB,E.t16l),new C(6,63,E.t16HB,E.t16l),new C(8,255,E.t16HB,E.t16l),new C(10,1023,E.t16HB,E.t16l),new C(13,8191,E.t16HB,E.t16l),new C(4,15,E.t24HB,E.t24l),new C(5,31,E.t24HB,E.t24l),new C(6,63,E.t24HB,E.t24l),new C(7,127,E.t24HB,E.t24l),new C(8,255,E.t24HB,E.t24l),new C(9,511,E.t24HB,E.t24l),new C(11,2047,E.t24HB,E.t24l),new C(13,8191,E.t24HB,E.t24l),new C(0,0,E.t32HB,E.t32l),new C(0,0,E.t33HB,E.t33l)],E.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],E.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],E.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],E.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],E.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],E.scfsi_band=[0,6,11,16,21];function P(ie){this.bits=ie}function D(){this.setModules=function(ie,Be){}}function I(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function U(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=m.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function G(){this.linprebuf=t(v.MAX_ORDER*2),this.linpre=0,this.lstepbuf=t(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.lstep=0,this.loutbuf=t(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.lout=0,this.rinprebuf=t(v.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=t(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.rstep=0,this.routbuf=t(v.MAX_SAMPLES_PER_WINDOW+v.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=o(0|v.STEPS_per_dB*v.MAX_dB),this.B=o(0|v.STEPS_per_dB*v.MAX_dB)}function W(ie){var Be=ie;this.quantize=Be,this.iteration_loop=function(Pe,We,Je,ze){var tt=Pe.internal_flags,ct=t(le.SFBMAX),Fe=t(576),Me=o(2),Te=0,B,z=tt.l3_side,L=new P(Te);this.quantize.rv.ResvFrameBegin(Pe,L),Te=L.bits;for(var k=0;k<tt.mode_gr;k++){B=this.quantize.qupvt.on_pe(Pe,We,Me,Te,k,k),tt.mode_ext==j.MPG_MD_MS_LR&&(this.quantize.ms_convert(tt.l3_side,k),this.quantize.qupvt.reduce_side(Me,Je[k],Te,B));for(var ge=0;ge<tt.channels_out;ge++){var ve,_e,H=z.tt[k][ge];H.block_type!=j.SHORT_TYPE?(ve=0,_e=tt.PSY.mask_adjust-ve):(ve=0,_e=tt.PSY.mask_adjust_short-ve),tt.masking_lower=Math.pow(10,_e*.1),this.quantize.init_outer_loop(tt,H),this.quantize.init_xrpow(tt,H,Fe)&&(this.quantize.qupvt.calc_xmin(Pe,ze[k][ge],H,ct),this.quantize.outer_loop(Pe,H,ct,Fe,ge,Me[ge])),this.quantize.iteration_finish_one(tt,k,ge)}}this.quantize.rv.ResvFrameEnd(tt,Te)}}function te(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=t(j.SBMAX_l),this.s=t(j.SBMAX_s),this.psfb21=t(j.PSFB21),this.psfb12=t(j.PSFB12),this.cb_l=t(j.CBANDS),this.cb_s=t(j.CBANDS),this.eql_w=t(j.BLKSIZE/2)}function Q(ie,Be,Pe,We){this.l=o(1+j.SBMAX_l),this.s=o(1+j.SBMAX_s),this.psfb21=o(1+j.PSFB21),this.psfb12=o(1+j.PSFB12);var Je=this.l,ze=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],f.arraycopy(this.arrL,0,Je,0,Math.min(this.arrL.length,this.l.length)),f.arraycopy(this.arrS,0,ze,0,Math.min(this.arrS.length,this.s.length)),f.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),f.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}J.Q_MAX=256+1,J.Q_MAX2=116,J.LARGE_BITS=1e5,J.IXMAX_VAL=8206;function J(){var ie=null,Be=null,Pe=null;this.setModules=function(H,ye,je){ie=H,Be=ye,Pe=je};function We(H){return B[H+J.Q_MAX2]}this.IPOW20=function(H){return z[H]};var Je=2220446049250313e-31,ze=J.IXMAX_VAL,tt=ze+2,ct=J.Q_MAX,Fe=J.Q_MAX2,Me=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var Te=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=Te,this.sfBandIndex=[new Q([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new Q([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var B=t(ct+Fe+1),z=t(ct),L=t(tt),k=t(tt);this.adj43=k;function ge(H,ye){var je=Pe.ATHformula(ye,H);return je-=Me,je=Math.pow(10,je/10+H.ATHlower),je}function ve(H){for(var ye=H.internal_flags.ATH.l,je=H.internal_flags.ATH.psfb21,pe=H.internal_flags.ATH.s,Oe=H.internal_flags.ATH.psfb12,Y=H.internal_flags,me=H.out_samplerate,$=0;$<j.SBMAX_l;$++){var X=Y.scalefac_band.l[$],re=Y.scalefac_band.l[$+1];ye[$]=l.MAX_VALUE;for(var he=X;he<re;he++){var ne=he*me/1152,ce=ge(H,ne);ye[$]=Math.min(ye[$],ce)}}for(var $=0;$<j.PSFB21;$++){var X=Y.scalefac_band.psfb21[$],re=Y.scalefac_band.psfb21[$+1];je[$]=l.MAX_VALUE;for(var he=X;he<re;he++){var ne=he*me/1152,ce=ge(H,ne);je[$]=Math.min(je[$],ce)}}for(var $=0;$<j.SBMAX_s;$++){var X=Y.scalefac_band.s[$],re=Y.scalefac_band.s[$+1];pe[$]=l.MAX_VALUE;for(var he=X;he<re;he++){var ne=he*me/384,ce=ge(H,ne);pe[$]=Math.min(pe[$],ce)}pe[$]*=Y.scalefac_band.s[$+1]-Y.scalefac_band.s[$]}for(var $=0;$<j.PSFB12;$++){var X=Y.scalefac_band.psfb12[$],re=Y.scalefac_band.psfb12[$+1];Oe[$]=l.MAX_VALUE;for(var he=X;he<re;he++){var ne=he*me/384,ce=ge(H,ne);Oe[$]=Math.min(Oe[$],ce)}Oe[$]*=Y.scalefac_band.s[13]-Y.scalefac_band.s[12]}if(H.noATH){for(var $=0;$<j.SBMAX_l;$++)ye[$]=1e-20;for(var $=0;$<j.PSFB21;$++)je[$]=1e-20;for(var $=0;$<j.SBMAX_s;$++)pe[$]=1e-20;for(var $=0;$<j.PSFB12;$++)Oe[$]=1e-20}Y.ATH.floor=10*Math.log10(ge(H,-1))}this.iteration_init=function(H){var ye=H.internal_flags,je=ye.l3_side,pe;if(ye.iteration_init_init==0){for(ye.iteration_init_init=1,je.main_data_begin=0,ve(H),L[0]=0,pe=1;pe<tt;pe++)L[pe]=Math.pow(pe,4/3);for(pe=0;pe<tt-1;pe++)k[pe]=pe+1-Math.pow(.5*(L[pe]+L[pe+1]),.75);for(k[pe]=.5,pe=0;pe<ct;pe++)z[pe]=Math.pow(2,(pe-210)*-.1875);for(pe=0;pe<=ct+Fe;pe++)B[pe]=Math.pow(2,(pe-210-Fe)*.25);ie.huffman_init(ye);{var Oe,Y,me,$;for(pe=H.exp_nspsytune>>2&63,pe>=32&&(pe-=64),Oe=Math.pow(10,pe/4/10),pe=H.exp_nspsytune>>8&63,pe>=32&&(pe-=64),Y=Math.pow(10,pe/4/10),pe=H.exp_nspsytune>>14&63,pe>=32&&(pe-=64),me=Math.pow(10,pe/4/10),pe=H.exp_nspsytune>>20&63,pe>=32&&(pe-=64),$=me*Math.pow(10,pe/4/10),pe=0;pe<j.SBMAX_l;pe++){var X;pe<=6?X=Oe:pe<=13?X=Y:pe<=20?X=me:X=$,ye.nsPsy.longfact[pe]=X}for(pe=0;pe<j.SBMAX_s;pe++){var X;pe<=5?X=Oe:pe<=10?X=Y:pe<=11?X=me:X=$,ye.nsPsy.shortfact[pe]=X}}}},this.on_pe=function(H,ye,je,pe,Oe,Y){var me=H.internal_flags,$=0,X,re=o(2),he,ne=new P($),ce=Be.ResvMaxBits(H,pe,ne,Y);$=ne.bits;var be=$+ce;for(be>Ee.MAX_BITS_PER_GRANULE&&(be=Ee.MAX_BITS_PER_GRANULE),X=0,he=0;he<me.channels_out;++he)je[he]=Math.min(Ee.MAX_BITS_PER_CHANNEL,$/me.channels_out),re[he]=0|je[he]*ye[Oe][he]/700-je[he],re[he]>pe*3/4&&(re[he]=pe*3/4),re[he]<0&&(re[he]=0),re[he]+je[he]>Ee.MAX_BITS_PER_CHANNEL&&(re[he]=Math.max(0,Ee.MAX_BITS_PER_CHANNEL-je[he])),X+=re[he];if(X>ce)for(he=0;he<me.channels_out;++he)re[he]=ce*re[he]/X;for(he=0;he<me.channels_out;++he)je[he]+=re[he],ce-=re[he];for(X=0,he=0;he<me.channels_out;++he)X+=je[he];if(X>Ee.MAX_BITS_PER_GRANULE){var Ve=0;for(he=0;he<me.channels_out;++he)je[he]*=Ee.MAX_BITS_PER_GRANULE,je[he]/=X,Ve+=je[he]}return be},this.reduce_side=function(H,ye,je,pe){var Oe=.33*(.5-ye)/.5;Oe<0&&(Oe=0),Oe>.5&&(Oe=.5);var Y=0|Oe*.5*(H[0]+H[1]);Y>Ee.MAX_BITS_PER_CHANNEL-H[0]&&(Y=Ee.MAX_BITS_PER_CHANNEL-H[0]),Y<0&&(Y=0),H[1]>=125&&(H[1]-Y>125?(H[0]<je&&(H[0]+=Y),H[1]-=Y):(H[0]+=H[1]-125,H[1]=125)),Y=H[0]+H[1],Y>pe&&(H[0]=pe*H[0]/Y,H[1]=pe*H[1]/Y)},this.athAdjust=function(H,ye,je){var pe=90.30873362,Oe=94.82444863,Y=y.FAST_LOG10_X(ye,10),me=H*H,$=0;return Y-=je,me>1e-20&&($=1+y.FAST_LOG10_X(me,10/pe)),$<0&&($=0),Y*=$,Y+=je+pe-Oe,Math.pow(10,.1*Y)},this.calc_xmin=function(H,ye,je,pe){var Oe=0,Y=H.internal_flags,me,$=0,X=0,re=Y.ATH,he=je.xr,ne=H.VBR==i.vbr_mtrh?1:0,ce=Y.masking_lower;for((H.VBR==i.vbr_mtrh||H.VBR==i.vbr_mt)&&(ce=1),me=0;me<je.psy_lmax;me++){var be,Ve,et,Ye,nt,K;H.VBR==i.vbr_rh||H.VBR==i.vbr_mtrh?Ve=athAdjust(re.adjust,re.l[me],re.floor):Ve=re.adjust*re.l[me],nt=je.width[me],et=Ve/nt,Ye=Je,K=nt>>1,be=0;do{var fe,mt;fe=he[$]*he[$],be+=fe,Ye+=fe<et?fe:et,$++,mt=he[$]*he[$],be+=mt,Ye+=mt<et?mt:et,$++}while(--K>0);if(be>Ve&&X++,me==j.SBPSY_l){var bt=Ve*Y.nsPsy.longfact[me];Ye<bt&&(Ye=bt)}if(ne!=0&&(Ve=Ye),!H.ATHonly){var Rt=ye.en.l[me];if(Rt>0){var bt;bt=be*ye.thm.l[me]*ce/Rt,ne!=0&&(bt*=Y.nsPsy.longfact[me]),Ve<bt&&(Ve=bt)}}ne!=0?pe[Oe++]=Ve:pe[Oe++]=Ve*Y.nsPsy.longfact[me]}var Ut=575;if(je.block_type!=j.SHORT_TYPE)for(var Lt=576;Lt--!=0&&x.EQ(he[Lt],0);)Ut=Lt;je.max_nonzero_coeff=Ut;for(var ke=je.sfb_smin;me<je.psymax;ke++,me+=3){var nt,yt,vt;for(H.VBR==i.vbr_rh||H.VBR==i.vbr_mtrh?vt=athAdjust(re.adjust,re.s[ke],re.floor):vt=re.adjust*re.s[ke],nt=je.width[me],yt=0;yt<3;yt++){var be=0,Ve,et,Ye,K=nt>>1;et=vt/nt,Ye=Je;do{var fe,mt;fe=he[$]*he[$],be+=fe,Ye+=fe<et?fe:et,$++,mt=he[$]*he[$],be+=mt,Ye+=mt<et?mt:et,$++}while(--K>0);if(be>vt&&X++,ke==j.SBPSY_s){var bt=vt*Y.nsPsy.shortfact[ke];Ye<bt&&(Ye=bt)}if(ne!=0?Ve=Ye:Ve=vt,!H.ATHonly&&!H.ATHshort){var Rt=ye.en.s[ke][yt];if(Rt>0){var bt;bt=be*ye.thm.s[ke][yt]*ce/Rt,ne!=0&&(bt*=Y.nsPsy.shortfact[ke]),Ve<bt&&(Ve=bt)}}ne!=0?pe[Oe++]=Ve:pe[Oe++]=Ve*Y.nsPsy.shortfact[ke]}H.useTemporal&&(pe[Oe-3]>pe[Oe-3+1]&&(pe[Oe-3+1]+=(pe[Oe-3]-pe[Oe-3+1])*Y.decay),pe[Oe-3+1]>pe[Oe-3+2]&&(pe[Oe-3+2]+=(pe[Oe-3+1]-pe[Oe-3+2])*Y.decay))}return X};function _e(H){this.s=H}this.calc_noise_core=function(H,ye,je,pe){var Oe=0,Y=ye.s,me=H.l3_enc;if(Y>H.count1)for(;je--!=0;){var $;$=H.xr[Y],Y++,Oe+=$*$,$=H.xr[Y],Y++,Oe+=$*$}else if(Y>H.big_values){var X=t(2);for(X[0]=0,X[1]=pe;je--!=0;){var $;$=Math.abs(H.xr[Y])-X[me[Y]],Y++,Oe+=$*$,$=Math.abs(H.xr[Y])-X[me[Y]],Y++,Oe+=$*$}}else for(;je--!=0;){var $;$=Math.abs(H.xr[Y])-L[me[Y]]*pe,Y++,Oe+=$*$,$=Math.abs(H.xr[Y])-L[me[Y]]*pe,Y++,Oe+=$*$}return ye.s=Y,Oe},this.calc_noise=function(H,ye,je,pe,Oe){var Y=0,me=0,$,X,re=0,he=0,ne=0,ce=-20,be=0,Ve=H.scalefac,et=0;for(pe.over_SSD=0,$=0;$<H.psymax;$++){var Ye=H.global_gain-(Ve[et++]+(H.preflag!=0?Te[$]:0)<<H.scalefac_scale+1)-H.subblock_gain[H.window[$]]*8,nt=0;if(Oe!=null&&Oe.step[$]==Ye)nt=Oe.noise[$],be+=H.width[$],je[Y++]=nt/ye[me++],nt=Oe.noise_log[$];else{var K=We(Ye);if(X=H.width[$]>>1,be+H.width[$]>H.max_nonzero_coeff){var fe;fe=H.max_nonzero_coeff-be+1,fe>0?X=fe>>1:X=0}var mt=new _e(be);nt=this.calc_noise_core(H,mt,X,K),be=mt.s,Oe!=null&&(Oe.step[$]=Ye,Oe.noise[$]=nt),nt=je[Y++]=nt/ye[me++],nt=y.FAST_LOG10(Math.max(nt,1e-20)),Oe!=null&&(Oe.noise_log[$]=nt)}if(Oe!=null&&(Oe.global_gain=H.global_gain),ne+=nt,nt>0){var bt;bt=Math.max(0|nt*10+.5,1),pe.over_SSD+=bt*bt,re++,he+=nt}ce=Math.max(ce,nt)}return pe.over_count=re,pe.tot_noise=ne,pe.over_noise=he,pe.max_noise=ce,re},this.set_pinfo=function(H,ye,je,pe,Oe){var Y=H.internal_flags,me,$,X,re,he,ne=ye.scalefac_scale==0?.5:1,ce=ye.scalefac,be=t(le.SFBMAX),Ve=t(le.SFBMAX),et=new I;calc_xmin(H,je,ye,be),calc_noise(ye,be,Ve,et,null);var Ye=0;for($=ye.sfb_lmax,ye.block_type!=j.SHORT_TYPE&&ye.mixed_block_flag==0&&($=22),me=0;me<$;me++){var nt=Y.scalefac_band.l[me],K=Y.scalefac_band.l[me+1],fe=K-nt;for(re=0;Ye<K;Ye++)re+=ye.xr[Ye]*ye.xr[Ye];re/=fe,he=1e15,Y.pinfo.en[pe][Oe][me]=he*re,Y.pinfo.xfsf[pe][Oe][me]=he*be[me]*Ve[me]/fe,je.en.l[me]>0&&!H.ATHonly?re=re/je.en.l[me]:re=0,Y.pinfo.thr[pe][Oe][me]=he*Math.max(re*je.thm.l[me],Y.ATH.l[me]),Y.pinfo.LAMEsfb[pe][Oe][me]=0,ye.preflag!=0&&me>=11&&(Y.pinfo.LAMEsfb[pe][Oe][me]=-ne*Te[me]),me<j.SBPSY_l&&(Y.pinfo.LAMEsfb[pe][Oe][me]-=ne*ce[me])}if(ye.block_type==j.SHORT_TYPE)for($=me,me=ye.sfb_smin;me<j.SBMAX_s;me++)for(var nt=Y.scalefac_band.s[me],K=Y.scalefac_band.s[me+1],fe=K-nt,mt=0;mt<3;mt++){for(re=0,X=nt;X<K;X++)re+=ye.xr[Ye]*ye.xr[Ye],Ye++;re=Math.max(re/fe,1e-20),he=1e15,Y.pinfo.en_s[pe][Oe][3*me+mt]=he*re,Y.pinfo.xfsf_s[pe][Oe][3*me+mt]=he*be[$]*Ve[$]/fe,je.en.s[me][mt]>0?re=re/je.en.s[me][mt]:re=0,(H.ATHonly||H.ATHshort)&&(re=0),Y.pinfo.thr_s[pe][Oe][3*me+mt]=he*Math.max(re*je.thm.s[me][mt],Y.ATH.s[me]),Y.pinfo.LAMEsfb_s[pe][Oe][3*me+mt]=-2*ye.subblock_gain[mt],me<j.SBPSY_s&&(Y.pinfo.LAMEsfb_s[pe][Oe][3*me+mt]-=ne*ce[$]),$++}Y.pinfo.LAMEqss[pe][Oe]=ye.global_gain,Y.pinfo.LAMEmainbits[pe][Oe]=ye.part2_3_length+ye.part2_length,Y.pinfo.LAMEsfbits[pe][Oe]=ye.part2_length,Y.pinfo.over[pe][Oe]=et.over_count,Y.pinfo.max_noise[pe][Oe]=et.max_noise*10,Y.pinfo.over_noise[pe][Oe]=et.over_noise*10,Y.pinfo.tot_noise[pe][Oe]=et.tot_noise*10,Y.pinfo.over_SSD[pe][Oe]=et.over_SSD}}function oe(){this.global_gain=0,this.sfb_count1=0,this.step=o(39),this.noise=t(39),this.noise_log=t(39)}function ee(){this.xr=t(576),this.l3_enc=o(576),this.scalefac=o(le.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=o(3),this.subblock_gain=o(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=o(le.SFBMAX),this.window=o(le.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=o(4),this.max_nonzero_coeff=0;var ie=this;function Be(We){return new Int32Array(We)}function Pe(We){return new Float32Array(We)}this.assign=function(We){ie.xr=Pe(We.xr),ie.l3_enc=Be(We.l3_enc),ie.scalefac=Be(We.scalefac),ie.xrpow_max=We.xrpow_max,ie.part2_3_length=We.part2_3_length,ie.big_values=We.big_values,ie.count1=We.count1,ie.global_gain=We.global_gain,ie.scalefac_compress=We.scalefac_compress,ie.block_type=We.block_type,ie.mixed_block_flag=We.mixed_block_flag,ie.table_select=Be(We.table_select),ie.subblock_gain=Be(We.subblock_gain),ie.region0_count=We.region0_count,ie.region1_count=We.region1_count,ie.preflag=We.preflag,ie.scalefac_scale=We.scalefac_scale,ie.count1table_select=We.count1table_select,ie.part2_length=We.part2_length,ie.sfb_lmax=We.sfb_lmax,ie.sfb_smin=We.sfb_smin,ie.psy_lmax=We.psy_lmax,ie.sfbmax=We.sfbmax,ie.psymax=We.psymax,ie.sfbdivide=We.sfbdivide,ie.width=Be(We.width),ie.window=Be(We.window),ie.count1bits=We.count1bits,ie.sfb_partition_table=We.sfb_partition_table.slice(0),ie.slen=Be(We.slen),ie.max_nonzero_coeff=We.max_nonzero_coeff}}var le={};le.SFBMAX=j.SBMAX_s*3;function de(){var ie;this.rv=null;var Be;this.qupvt=null;var Pe,We=new D,Je;this.setModules=function(_e,H,ye,je){ie=_e,Be=H,this.rv=H,Pe=ye,this.qupvt=ye,Je=je,We.setModules(Pe,Je)},this.ms_convert=function(_e,H){for(var ye=0;ye<576;++ye){var je=_e.tt[H][0].xr[ye],pe=_e.tt[H][1].xr[ye];_e.tt[H][0].xr[ye]=(je+pe)*(y.SQRT2*.5),_e.tt[H][1].xr[ye]=(je-pe)*(y.SQRT2*.5)}};function ze(_e,H,ye,je){je=0;for(var pe=0;pe<=ye;++pe){var Oe=Math.abs(_e.xr[pe]);je+=Oe,H[pe]=Math.sqrt(Oe*Math.sqrt(Oe)),H[pe]>_e.xrpow_max&&(_e.xrpow_max=H[pe])}return je}this.init_xrpow=function(_e,H,ye){var je=0,pe=0|H.max_nonzero_coeff;if(H.xrpow_max=0,d.fill(ye,pe,576,0),je=ze(H,ye,pe,je),je>1e-20){var Oe=0;(_e.substep_shaping&2)!=0&&(Oe=1);for(var Y=0;Y<H.psymax;Y++)_e.pseudohalf[Y]=Oe;return!0}return d.fill(H.l3_enc,0,576,0),!1};function tt(_e,H){var ye=_e.ATH,je=H.xr;if(H.block_type!=j.SHORT_TYPE)for(var pe=!1,Oe=j.PSFB21-1;Oe>=0&&!pe;Oe--){var Y=_e.scalefac_band.psfb21[Oe],me=_e.scalefac_band.psfb21[Oe+1],$=Pe.athAdjust(ye.adjust,ye.psfb21[Oe],ye.floor);_e.nsPsy.longfact[21]>1e-12&&($*=_e.nsPsy.longfact[21]);for(var X=me-1;X>=Y;X--)if(Math.abs(je[X])<$)je[X]=0;else{pe=!0;break}}else for(var re=0;re<3;re++)for(var pe=!1,Oe=j.PSFB12-1;Oe>=0&&!pe;Oe--){var Y=_e.scalefac_band.s[12]*3+(_e.scalefac_band.s[13]-_e.scalefac_band.s[12])*re+(_e.scalefac_band.psfb12[Oe]-_e.scalefac_band.psfb12[0]),me=Y+(_e.scalefac_band.psfb12[Oe+1]-_e.scalefac_band.psfb12[Oe]),he=Pe.athAdjust(ye.adjust,ye.psfb12[Oe],ye.floor);_e.nsPsy.shortfact[12]>1e-12&&(he*=_e.nsPsy.shortfact[12]);for(var X=me-1;X>=Y;X--)if(Math.abs(je[X])<he)je[X]=0;else{pe=!0;break}}}this.init_outer_loop=function(_e,H){H.part2_3_length=0,H.big_values=0,H.count1=0,H.global_gain=210,H.scalefac_compress=0,H.table_select[0]=0,H.table_select[1]=0,H.table_select[2]=0,H.subblock_gain[0]=0,H.subblock_gain[1]=0,H.subblock_gain[2]=0,H.subblock_gain[3]=0,H.region0_count=0,H.region1_count=0,H.preflag=0,H.scalefac_scale=0,H.count1table_select=0,H.part2_length=0,H.sfb_lmax=j.SBPSY_l,H.sfb_smin=j.SBPSY_s,H.psy_lmax=_e.sfb21_extra?j.SBMAX_l:j.SBPSY_l,H.psymax=H.psy_lmax,H.sfbmax=H.sfb_lmax,H.sfbdivide=11;for(var ye=0;ye<j.SBMAX_l;ye++)H.width[ye]=_e.scalefac_band.l[ye+1]-_e.scalefac_band.l[ye],H.window[ye]=3;if(H.block_type==j.SHORT_TYPE){var je=t(576);H.sfb_smin=0,H.sfb_lmax=0,H.mixed_block_flag!=0&&(H.sfb_smin=3,H.sfb_lmax=_e.mode_gr*2+4),H.psymax=H.sfb_lmax+3*((_e.sfb21_extra?j.SBMAX_s:j.SBPSY_s)-H.sfb_smin),H.sfbmax=H.sfb_lmax+3*(j.SBPSY_s-H.sfb_smin),H.sfbdivide=H.sfbmax-18,H.psy_lmax=H.sfb_lmax;var pe=_e.scalefac_band.l[H.sfb_lmax];f.arraycopy(H.xr,0,je,0,576);for(var ye=H.sfb_smin;ye<j.SBMAX_s;ye++)for(var Oe=_e.scalefac_band.s[ye],Y=_e.scalefac_band.s[ye+1],me=0;me<3;me++)for(var $=Oe;$<Y;$++)H.xr[pe++]=je[3*$+me];for(var X=H.sfb_lmax,ye=H.sfb_smin;ye<j.SBMAX_s;ye++)H.width[X]=H.width[X+1]=H.width[X+2]=_e.scalefac_band.s[ye+1]-_e.scalefac_band.s[ye],H.window[X]=0,H.window[X+1]=1,H.window[X+2]=2,X+=3}H.count1bits=0,H.sfb_partition_table=Pe.nr_of_sfb_block[0][0],H.slen[0]=0,H.slen[1]=0,H.slen[2]=0,H.slen[3]=0,H.max_nonzero_coeff=575,d.fill(H.scalefac,0),tt(_e,H)};function ct(_e){this.ordinal=_e}ct.BINSEARCH_NONE=new ct(0),ct.BINSEARCH_UP=new ct(1),ct.BINSEARCH_DOWN=new ct(2);function Fe(_e,H,ye,je,pe){var Oe,Y=_e.CurrentStep[je],me=!1,$=_e.OldValue[je],X=ct.BINSEARCH_NONE;for(H.global_gain=$,ye-=H.part2_length;;){var re;if(Oe=Je.count_bits(_e,pe,H,null),Y==1||Oe==ye)break;Oe>ye?(X==ct.BINSEARCH_DOWN&&(me=!0),me&&(Y/=2),X=ct.BINSEARCH_UP,re=Y):(X==ct.BINSEARCH_UP&&(me=!0),me&&(Y/=2),X=ct.BINSEARCH_DOWN,re=-Y),H.global_gain+=re,H.global_gain<0&&(H.global_gain=0,me=!0),H.global_gain>255&&(H.global_gain=255,me=!0)}for(;Oe>ye&&H.global_gain<255;)H.global_gain++,Oe=Je.count_bits(_e,pe,H,null);return _e.CurrentStep[je]=$-H.global_gain>=4?4:2,_e.OldValue[je]=H.global_gain,H.part2_3_length=Oe,Oe}this.trancate_smallspectrums=function(_e,H,ye,je){var pe=t(le.SFBMAX);if(!((_e.substep_shaping&4)==0&&H.block_type==j.SHORT_TYPE||(_e.substep_shaping&128)!=0)){Pe.calc_noise(H,ye,pe,new I,null);for(var Y=0;Y<576;Y++){var Oe=0;H.l3_enc[Y]!=0&&(Oe=Math.abs(H.xr[Y])),je[Y]=Oe}var Y=0,me=8;H.block_type==j.SHORT_TYPE&&(me=6);do{var $,X,re,he,ne=H.width[me];if(Y+=ne,!(pe[me]>=1)&&(d.sort(je,Y-ne,ne),!x.EQ(je[Y-1],0))){$=(1-pe[me])*ye[me],X=0,he=0;do{var ce;for(re=1;he+re<ne&&!x.NEQ(je[he+Y-ne],je[he+Y+re-ne]);re++);if(ce=je[he+Y-ne]*je[he+Y-ne]*re,$<ce){he!=0&&(X=je[he+Y-ne-1]);break}$-=ce,he+=re}while(he<ne);if(!x.EQ(X,0))do Math.abs(H.xr[Y-ne])<=X&&(H.l3_enc[Y-ne]=0);while(--ne>0)}}while(++me<H.psymax);H.part2_3_length=Je.noquant_count_bits(_e,H,null)}};function Me(_e){for(var H=0;H<_e.sfbmax;H++)if(_e.scalefac[H]+_e.subblock_gain[_e.window[H]]==0)return!1;return!0}function Te(_e){return y.FAST_LOG10(.368+.632*_e*_e*_e)}function B(_e,H){for(var ye=1e-37,je=0;je<H.psymax;je++)ye+=Te(_e[je]);return Math.max(1e-20,ye)}function z(_e,H,ye,je,pe){var Oe;switch(_e){default:case 9:{H.over_count>0?(Oe=ye.over_SSD<=H.over_SSD,ye.over_SSD==H.over_SSD&&(Oe=ye.bits<H.bits)):Oe=ye.max_noise<0&&ye.max_noise*10+ye.bits<=H.max_noise*10+H.bits;break}case 0:Oe=ye.over_count<H.over_count||ye.over_count==H.over_count&&ye.over_noise<H.over_noise||ye.over_count==H.over_count&&x.EQ(ye.over_noise,H.over_noise)&&ye.tot_noise<H.tot_noise;break;case 8:ye.max_noise=B(pe,je);case 1:Oe=ye.max_noise<H.max_noise;break;case 2:Oe=ye.tot_noise<H.tot_noise;break;case 3:Oe=ye.tot_noise<H.tot_noise&&ye.max_noise<H.max_noise;break;case 4:Oe=ye.max_noise<=0&&H.max_noise>.2||ye.max_noise<=0&&H.max_noise<0&&H.max_noise>ye.max_noise-.2&&ye.tot_noise<H.tot_noise||ye.max_noise<=0&&H.max_noise>0&&H.max_noise>ye.max_noise-.2&&ye.tot_noise<H.tot_noise+H.over_noise||ye.max_noise>0&&H.max_noise>-.05&&H.max_noise>ye.max_noise-.1&&ye.tot_noise+ye.over_noise<H.tot_noise+H.over_noise||ye.max_noise>0&&H.max_noise>-.1&&H.max_noise>ye.max_noise-.15&&ye.tot_noise+ye.over_noise+ye.over_noise<H.tot_noise+H.over_noise+H.over_noise;break;case 5:Oe=ye.over_noise<H.over_noise||x.EQ(ye.over_noise,H.over_noise)&&ye.tot_noise<H.tot_noise;break;case 6:Oe=ye.over_noise<H.over_noise||x.EQ(ye.over_noise,H.over_noise)&&(ye.max_noise<H.max_noise||x.EQ(ye.max_noise,H.max_noise)&&ye.tot_noise<=H.tot_noise);break;case 7:Oe=ye.over_count<H.over_count||ye.over_noise<H.over_noise;break}return H.over_count==0&&(Oe=Oe&&ye.bits<H.bits),Oe}function L(_e,H,ye,je,pe){var Oe=_e.internal_flags,Y;H.scalefac_scale==0?Y=1.2968395546510096:Y=1.6817928305074292;for(var me=0,$=0;$<H.sfbmax;$++)me<ye[$]&&(me=ye[$]);var X=Oe.noise_shaping_amp;switch(X==3&&(pe?X=2:X=1),X){case 2:break;case 1:me>1?me=Math.pow(me,.5):me*=.95;break;case 0:default:me>1?me=1:me*=.95;break}for(var re=0,$=0;$<H.sfbmax;$++){var he=H.width[$],ne;if(re+=he,!(ye[$]<me)){if((Oe.substep_shaping&2)!=0&&(Oe.pseudohalf[$]=Oe.pseudohalf[$]==0?1:0,Oe.pseudohalf[$]==0&&Oe.noise_shaping_amp==2))return;for(H.scalefac[$]++,ne=-he;ne<0;ne++)je[re+ne]*=Y,je[re+ne]>H.xrpow_max&&(H.xrpow_max=je[re+ne]);if(Oe.noise_shaping_amp==2)return}}}function k(_e,H){for(var ye=1.2968395546510096,je=0,pe=0;pe<_e.sfbmax;pe++){var Oe=_e.width[pe],Y=_e.scalefac[pe];if(_e.preflag!=0&&(Y+=Pe.pretab[pe]),je+=Oe,(Y&1)!=0){Y++;for(var me=-Oe;me<0;me++)H[je+me]*=ye,H[je+me]>_e.xrpow_max&&(_e.xrpow_max=H[je+me])}_e.scalefac[pe]=Y>>1}_e.preflag=0,_e.scalefac_scale=1}function ge(_e,H,ye){var je,pe=H.scalefac;for(je=0;je<H.sfb_lmax;je++)if(pe[je]>=16)return!0;for(var Oe=0;Oe<3;Oe++){var Y=0,me=0;for(je=H.sfb_lmax+Oe;je<H.sfbdivide;je+=3)Y<pe[je]&&(Y=pe[je]);for(;je<H.sfbmax;je+=3)me<pe[je]&&(me=pe[je]);if(!(Y<16&&me<8)){if(H.subblock_gain[Oe]>=7)return!0;H.subblock_gain[Oe]++;var $=_e.scalefac_band.l[H.sfb_lmax];for(je=H.sfb_lmax+Oe;je<H.sfbmax;je+=3){var X,re=H.width[je],he=pe[je];if(he=he-(4>>H.scalefac_scale),he>=0){pe[je]=he,$+=re*3;continue}pe[je]=0;{var ne=210+(he<<H.scalefac_scale+1);X=Pe.IPOW20(ne)}$+=re*(Oe+1);for(var ce=-re;ce<0;ce++)ye[$+ce]*=X,ye[$+ce]>H.xrpow_max&&(H.xrpow_max=ye[$+ce]);$+=re*(3-Oe-1)}{var X=Pe.IPOW20(202);$+=H.width[je]*(Oe+1);for(var ce=-H.width[je];ce<0;ce++)ye[$+ce]*=X,ye[$+ce]>H.xrpow_max&&(H.xrpow_max=ye[$+ce])}}}return!1}function ve(_e,H,ye,je,pe){var Oe=_e.internal_flags;L(_e,H,ye,je,pe);var Y=Me(H);return Y?!1:(Oe.mode_gr==2?Y=Je.scale_bitcount(H):Y=Je.scale_bitcount_lsf(Oe,H),Y?(Oe.noise_shaping>1&&(d.fill(Oe.pseudohalf,0),H.scalefac_scale==0?(k(H,je),Y=!1):H.block_type==j.SHORT_TYPE&&Oe.subblock_gain>0&&(Y=ge(Oe,H,je)||Me(H))),Y||(Oe.mode_gr==2?Y=Je.scale_bitcount(H):Y=Je.scale_bitcount_lsf(Oe,H)),!Y):!0)}this.outer_loop=function(_e,H,ye,je,pe,Oe){var Y=_e.internal_flags,me=new ee,$=t(576),X=t(le.SFBMAX),re=new I,he,ne=new oe,ce=9999999,be=!1,Ve=!1,et=0;if(Fe(Y,H,Oe,pe,je),Y.noise_shaping==0)return 100;Pe.calc_noise(H,ye,X,re,ne),re.bits=H.part2_3_length,me.assign(H);var Ye=0;for(f.arraycopy(je,0,$,0,576);!be;){do{var nt=new I,K,fe=255;if((Y.substep_shaping&2)!=0?K=20:K=3,Y.sfb21_extra&&(X[me.sfbmax]>1||me.block_type==j.SHORT_TYPE&&(X[me.sfbmax+1]>1||X[me.sfbmax+2]>1))||!ve(_e,me,X,je,Ve))break;me.scalefac_scale!=0&&(fe=254);var mt=Oe-me.part2_length;if(mt<=0)break;for(;(me.part2_3_length=Je.count_bits(Y,je,me,ne))>mt&&me.global_gain<=fe;)me.global_gain++;if(me.global_gain>fe)break;if(re.over_count==0){for(;(me.part2_3_length=Je.count_bits(Y,je,me,ne))>ce&&me.global_gain<=fe;)me.global_gain++;if(me.global_gain>fe)break}if(Pe.calc_noise(me,ye,X,nt,ne),nt.bits=me.part2_3_length,H.block_type!=j.SHORT_TYPE?he=_e.quant_comp:he=_e.quant_comp_short,he=z(he,re,nt,me,X)?1:0,he!=0)ce=H.part2_3_length,re=nt,H.assign(me),Ye=0,f.arraycopy(je,0,$,0,576);else if(Y.full_outer_loop==0&&(++Ye>K&&re.over_count==0||Y.noise_shaping_amp==3&&Ve&&Ye>30||Y.noise_shaping_amp==3&&Ve&&me.global_gain-et>15))break}while(me.global_gain+me.scalefac_scale<255);Y.noise_shaping_amp==3?Ve?be=!0:(me.assign(H),f.arraycopy($,0,je,0,576),Ye=0,et=me.global_gain,Ve=!0):be=!0}return _e.VBR==i.vbr_rh||_e.VBR==i.vbr_mtrh?f.arraycopy($,0,je,0,576):(Y.substep_shaping&1)!=0&&trancate_smallspectrums(Y,H,ye,je),re.over_count},this.iteration_finish_one=function(_e,H,ye){var je=_e.l3_side,pe=je.tt[H][ye];Je.best_scalefac_store(_e,H,ye,je),_e.use_best_huffman==1&&Je.best_huffman_divide(_e,pe),Be.ResvAdjust(_e,pe)},this.VBR_encode_granule=function(_e,H,ye,je,pe,Oe,Y){var me=_e.internal_flags,$=new ee,X=t(576),re=Y,he=Y+1,ne=(Y+Oe)/2,ce,be,Ve=0,et=me.sfb21_extra;d.fill($.l3_enc,0);do ne>re-42?me.sfb21_extra=!1:me.sfb21_extra=et,be=outer_loop(_e,H,ye,je,pe,ne),be<=0?(Ve=1,he=H.part2_3_length,$.assign(H),f.arraycopy(je,0,X,0,576),Y=he-32,ce=Y-Oe,ne=(Y+Oe)/2):(Oe=ne+32,ce=Y-Oe,ne=(Y+Oe)/2,Ve!=0&&(Ve=2,H.assign($),f.arraycopy(X,0,je,0,576)));while(ce>12);me.sfb21_extra=et,Ve==2&&f.arraycopy($.l3_enc,0,H.l3_enc,0,576)},this.get_framebits=function(_e,H){var ye=_e.internal_flags;ye.bitrate_index=ye.VBR_min_bitrate;var je=ie.getframebits(_e);ye.bitrate_index=1,je=ie.getframebits(_e);for(var pe=1;pe<=ye.VBR_max_bitrate;pe++){ye.bitrate_index=pe;var Oe=new P(je);H[pe]=Be.ResvFrameBegin(_e,Oe),je=Oe.bits}},this.VBR_old_prepare=function(_e,H,ye,je,pe,Oe,Y,me,$){var X=_e.internal_flags,re,he=0,ne=1,ce=0;X.bitrate_index=X.VBR_max_bitrate;var be=Be.ResvFrameBegin(_e,new P(0))/X.mode_gr;get_framebits(_e,Oe);for(var Ve=0;Ve<X.mode_gr;Ve++){var et=Pe.on_pe(_e,H,me[Ve],be,Ve,0);X.mode_ext==j.MPG_MD_MS_LR&&(ms_convert(X.l3_side,Ve),Pe.reduce_side(me[Ve],ye[Ve],be,et));for(var Ye=0;Ye<X.channels_out;++Ye){var nt=X.l3_side.tt[Ve][Ye];nt.block_type!=j.SHORT_TYPE?(he=1.28/(1+Math.exp(3.5-H[Ve][Ye]/300))-.05,re=X.PSY.mask_adjust-he):(he=2.56/(1+Math.exp(3.5-H[Ve][Ye]/300))-.14,re=X.PSY.mask_adjust_short-he),X.masking_lower=Math.pow(10,re*.1),init_outer_loop(X,nt),$[Ve][Ye]=Pe.calc_xmin(_e,je[Ve][Ye],nt,pe[Ve][Ye]),$[Ve][Ye]!=0&&(ne=0),Y[Ve][Ye]=126,ce+=me[Ve][Ye]}}for(var Ve=0;Ve<X.mode_gr;Ve++)for(var Ye=0;Ye<X.channels_out;Ye++)ce>Oe[X.VBR_max_bitrate]&&(me[Ve][Ye]*=Oe[X.VBR_max_bitrate],me[Ve][Ye]/=ce),Y[Ve][Ye]>me[Ve][Ye]&&(Y[Ve][Ye]=me[Ve][Ye]);return ne},this.bitpressure_strategy=function(_e,H,ye,je){for(var pe=0;pe<_e.mode_gr;pe++)for(var Oe=0;Oe<_e.channels_out;Oe++){for(var Y=_e.l3_side.tt[pe][Oe],me=H[pe][Oe],$=0,X=0;X<Y.psy_lmax;X++)me[$++]*=1+.029*X*X/j.SBMAX_l/j.SBMAX_l;if(Y.block_type==j.SHORT_TYPE)for(var X=Y.sfb_smin;X<j.SBMAX_s;X++)me[$++]*=1+.029*X*X/j.SBMAX_s/j.SBMAX_s,me[$++]*=1+.029*X*X/j.SBMAX_s/j.SBMAX_s,me[$++]*=1+.029*X*X/j.SBMAX_s/j.SBMAX_s;je[pe][Oe]=0|Math.max(ye[pe][Oe],.9*je[pe][Oe])}},this.VBR_new_prepare=function(_e,H,ye,je,pe,Oe){var Y=_e.internal_flags,me=1,$=0,X=0,re;if(_e.free_format){Y.bitrate_index=0;var he=new P($);re=Be.ResvFrameBegin(_e,he),$=he.bits,pe[0]=re}else{Y.bitrate_index=Y.VBR_max_bitrate;var he=new P($);Be.ResvFrameBegin(_e,he),$=he.bits,get_framebits(_e,pe),re=pe[Y.VBR_max_bitrate]}for(var ne=0;ne<Y.mode_gr;ne++){Pe.on_pe(_e,H,Oe[ne],$,ne,0),Y.mode_ext==j.MPG_MD_MS_LR&&ms_convert(Y.l3_side,ne);for(var ce=0;ce<Y.channels_out;++ce){var be=Y.l3_side.tt[ne][ce];Y.masking_lower=Math.pow(10,Y.PSY.mask_adjust*.1),init_outer_loop(Y,be),Pe.calc_xmin(_e,ye[ne][ce],be,je[ne][ce])!=0&&(me=0),X+=Oe[ne][ce]}}for(var ne=0;ne<Y.mode_gr;ne++)for(var ce=0;ce<Y.channels_out;ce++)X>re&&(Oe[ne][ce]*=re,Oe[ne][ce]/=X);return me},this.calc_target_bits=function(_e,H,ye,je,pe,Oe){var Y=_e.internal_flags,me=Y.l3_side,$,X,re,he,ne=0;Y.bitrate_index=Y.VBR_max_bitrate;var ce=new P(ne);for(Oe[0]=Be.ResvFrameBegin(_e,ce),ne=ce.bits,Y.bitrate_index=1,ne=ie.getframebits(_e)-Y.sideinfo_len*8,pe[0]=ne/(Y.mode_gr*Y.channels_out),ne=_e.VBR_mean_bitrate_kbps*_e.framesize*1e3,(Y.substep_shaping&1)!=0&&(ne*=1.09),ne/=_e.out_samplerate,ne-=Y.sideinfo_len*8,ne/=Y.mode_gr*Y.channels_out,$=.93+.07*(11-_e.compression_ratio)/(11-5.5),$<.9&&($=.9),$>1&&($=1),X=0;X<Y.mode_gr;X++){var be=0;for(re=0;re<Y.channels_out;re++){if(je[X][re]=int($*ne),H[X][re]>700){var Ve=int((H[X][re]-700)/1.4),et=me.tt[X][re];je[X][re]=int($*ne),et.block_type==j.SHORT_TYPE&&Ve<ne/2&&(Ve=ne/2),Ve>ne*3/2?Ve=ne*3/2:Ve<0&&(Ve=0),je[X][re]+=Ve}je[X][re]>Ee.MAX_BITS_PER_CHANNEL&&(je[X][re]=Ee.MAX_BITS_PER_CHANNEL),be+=je[X][re]}if(be>Ee.MAX_BITS_PER_GRANULE)for(re=0;re<Y.channels_out;++re)je[X][re]*=Ee.MAX_BITS_PER_GRANULE,je[X][re]/=be}if(Y.mode_ext==j.MPG_MD_MS_LR)for(X=0;X<Y.mode_gr;X++)Pe.reduce_side(je[X],ye[X],ne*Y.channels_out,Ee.MAX_BITS_PER_GRANULE);for(he=0,X=0;X<Y.mode_gr;X++)for(re=0;re<Y.channels_out;re++)je[X][re]>Ee.MAX_BITS_PER_CHANNEL&&(je[X][re]=Ee.MAX_BITS_PER_CHANNEL),he+=je[X][re];if(he>Oe[0])for(X=0;X<Y.mode_gr;X++)for(re=0;re<Y.channels_out;re++)je[X][re]*=Oe[0],je[X][re]/=he}}function se(){var ie=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*y.SQRT2*.5/2384e-9,.017876148*y.SQRT2*.5/2384e-9,.003134727*y.SQRT2*.5/2384e-9,.002457142*y.SQRT2*.5/2384e-9,971317e-9*y.SQRT2*.5/2384e-9,218868e-9*y.SQRT2*.5/2384e-9,101566e-9*y.SQRT2*.5/2384e-9,13828e-9*y.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],Be=12,Pe=36,We=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],Je=We[j.SHORT_TYPE],ze=We[j.SHORT_TYPE],tt=We[j.SHORT_TYPE],ct=We[j.SHORT_TYPE],Fe=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function Me(z,L,k){for(var ge=10,ve=L+238-14-286,_e=-15;_e<0;_e++){var H,ye,je;H=ie[ge+-10],ye=z[ve+-224]*H,je=z[L+224]*H,H=ie[ge+-9],ye+=z[ve+-160]*H,je+=z[L+160]*H,H=ie[ge+-8],ye+=z[ve+-96]*H,je+=z[L+96]*H,H=ie[ge+-7],ye+=z[ve+-32]*H,je+=z[L+32]*H,H=ie[ge+-6],ye+=z[ve+32]*H,je+=z[L+-32]*H,H=ie[ge+-5],ye+=z[ve+96]*H,je+=z[L+-96]*H,H=ie[ge+-4],ye+=z[ve+160]*H,je+=z[L+-160]*H,H=ie[ge+-3],ye+=z[ve+224]*H,je+=z[L+-224]*H,H=ie[ge+-2],ye+=z[L+-256]*H,je-=z[ve+256]*H,H=ie[ge+-1],ye+=z[L+-192]*H,je-=z[ve+192]*H,H=ie[ge+0],ye+=z[L+-128]*H,je-=z[ve+128]*H,H=ie[ge+1],ye+=z[L+-64]*H,je-=z[ve+64]*H,H=ie[ge+2],ye+=z[L+0]*H,je-=z[ve+0]*H,H=ie[ge+3],ye+=z[L+64]*H,je-=z[ve+-64]*H,H=ie[ge+4],ye+=z[L+128]*H,je-=z[ve+-128]*H,H=ie[ge+5],ye+=z[L+192]*H,je-=z[ve+-192]*H,ye*=ie[ge+6],H=je-ye,k[30+_e*2]=je+ye,k[31+_e*2]=ie[ge+7]*H,ge+=18,L--,ve++}{var ye,je,pe,Oe;je=z[L+-16]*ie[ge+-10],ye=z[L+-32]*ie[ge+-2],je+=(z[L+-48]-z[L+16])*ie[ge+-9],ye+=z[L+-96]*ie[ge+-1],je+=(z[L+-80]+z[L+48])*ie[ge+-8],ye+=z[L+-160]*ie[ge+0],je+=(z[L+-112]-z[L+80])*ie[ge+-7],ye+=z[L+-224]*ie[ge+1],je+=(z[L+-144]+z[L+112])*ie[ge+-6],ye-=z[L+32]*ie[ge+2],je+=(z[L+-176]-z[L+144])*ie[ge+-5],ye-=z[L+96]*ie[ge+3],je+=(z[L+-208]+z[L+176])*ie[ge+-4],ye-=z[L+160]*ie[ge+4],je+=(z[L+-240]-z[L+208])*ie[ge+-3],ye-=z[L+224],pe=ye-je,Oe=ye+je,je=k[14],ye=k[15]-je,k[31]=Oe+je,k[30]=pe+ye,k[15]=pe-ye,k[14]=Oe-je}{var Y;Y=k[28]-k[0],k[0]+=k[28],k[28]=Y*ie[ge+-2*18+7],Y=k[29]-k[1],k[1]+=k[29],k[29]=Y*ie[ge+-2*18+7],Y=k[26]-k[2],k[2]+=k[26],k[26]=Y*ie[ge+-4*18+7],Y=k[27]-k[3],k[3]+=k[27],k[27]=Y*ie[ge+-4*18+7],Y=k[24]-k[4],k[4]+=k[24],k[24]=Y*ie[ge+-6*18+7],Y=k[25]-k[5],k[5]+=k[25],k[25]=Y*ie[ge+-6*18+7],Y=k[22]-k[6],k[6]+=k[22],k[22]=Y*y.SQRT2,Y=k[23]-k[7],k[7]+=k[23],k[23]=Y*y.SQRT2-k[7],k[7]-=k[6],k[22]-=k[7],k[23]-=k[22],Y=k[6],k[6]=k[31]-Y,k[31]=k[31]+Y,Y=k[7],k[7]=k[30]-Y,k[30]=k[30]+Y,Y=k[22],k[22]=k[15]-Y,k[15]=k[15]+Y,Y=k[23],k[23]=k[14]-Y,k[14]=k[14]+Y,Y=k[20]-k[8],k[8]+=k[20],k[20]=Y*ie[ge+-10*18+7],Y=k[21]-k[9],k[9]+=k[21],k[21]=Y*ie[ge+-10*18+7],Y=k[18]-k[10],k[10]+=k[18],k[18]=Y*ie[ge+-12*18+7],Y=k[19]-k[11],k[11]+=k[19],k[19]=Y*ie[ge+-12*18+7],Y=k[16]-k[12],k[12]+=k[16],k[16]=Y*ie[ge+-14*18+7],Y=k[17]-k[13],k[13]+=k[17],k[17]=Y*ie[ge+-14*18+7],Y=-k[20]+k[24],k[20]+=k[24],k[24]=Y*ie[ge+-12*18+7],Y=-k[21]+k[25],k[21]+=k[25],k[25]=Y*ie[ge+-12*18+7],Y=k[4]-k[8],k[4]+=k[8],k[8]=Y*ie[ge+-12*18+7],Y=k[5]-k[9],k[5]+=k[9],k[9]=Y*ie[ge+-12*18+7],Y=k[0]-k[12],k[0]+=k[12],k[12]=Y*ie[ge+-4*18+7],Y=k[1]-k[13],k[1]+=k[13],k[13]=Y*ie[ge+-4*18+7],Y=k[16]-k[28],k[16]+=k[28],k[28]=Y*ie[ge+-4*18+7],Y=-k[17]+k[29],k[17]+=k[29],k[29]=Y*ie[ge+-4*18+7],Y=y.SQRT2*(k[2]-k[10]),k[2]+=k[10],k[10]=Y,Y=y.SQRT2*(k[3]-k[11]),k[3]+=k[11],k[11]=Y,Y=y.SQRT2*(-k[18]+k[26]),k[18]+=k[26],k[26]=Y-k[18],Y=y.SQRT2*(-k[19]+k[27]),k[19]+=k[27],k[27]=Y-k[19],Y=k[2],k[19]-=k[3],k[3]-=Y,k[2]=k[31]-Y,k[31]+=Y,Y=k[3],k[11]-=k[19],k[18]-=Y,k[3]=k[30]-Y,k[30]+=Y,Y=k[18],k[27]-=k[11],k[19]-=Y,k[18]=k[15]-Y,k[15]+=Y,Y=k[19],k[10]-=Y,k[19]=k[14]-Y,k[14]+=Y,Y=k[10],k[11]-=Y,k[10]=k[23]-Y,k[23]+=Y,Y=k[11],k[26]-=Y,k[11]=k[22]-Y,k[22]+=Y,Y=k[26],k[27]-=Y,k[26]=k[7]-Y,k[7]+=Y,Y=k[27],k[27]=k[6]-Y,k[6]+=Y,Y=y.SQRT2*(k[0]-k[4]),k[0]+=k[4],k[4]=Y,Y=y.SQRT2*(k[1]-k[5]),k[1]+=k[5],k[5]=Y,Y=y.SQRT2*(k[16]-k[20]),k[16]+=k[20],k[20]=Y,Y=y.SQRT2*(k[17]-k[21]),k[17]+=k[21],k[21]=Y,Y=-y.SQRT2*(k[8]-k[12]),k[8]+=k[12],k[12]=Y-k[8],Y=-y.SQRT2*(k[9]-k[13]),k[9]+=k[13],k[13]=Y-k[9],Y=-y.SQRT2*(k[25]-k[29]),k[25]+=k[29],k[29]=Y-k[25],Y=-y.SQRT2*(k[24]+k[28]),k[24]-=k[28],k[28]=Y-k[24],Y=k[24]-k[16],k[24]=Y,Y=k[20]-Y,k[20]=Y,Y=k[28]-Y,k[28]=Y,Y=k[25]-k[17],k[25]=Y,Y=k[21]-Y,k[21]=Y,Y=k[29]-Y,k[29]=Y,Y=k[17]-k[1],k[17]=Y,Y=k[9]-Y,k[9]=Y,Y=k[25]-Y,k[25]=Y,Y=k[5]-Y,k[5]=Y,Y=k[21]-Y,k[21]=Y,Y=k[13]-Y,k[13]=Y,Y=k[29]-Y,k[29]=Y,Y=k[1]-k[0],k[1]=Y,Y=k[16]-Y,k[16]=Y,Y=k[17]-Y,k[17]=Y,Y=k[8]-Y,k[8]=Y,Y=k[9]-Y,k[9]=Y,Y=k[24]-Y,k[24]=Y,Y=k[25]-Y,k[25]=Y,Y=k[4]-Y,k[4]=Y,Y=k[5]-Y,k[5]=Y,Y=k[20]-Y,k[20]=Y,Y=k[21]-Y,k[21]=Y,Y=k[12]-Y,k[12]=Y,Y=k[13]-Y,k[13]=Y,Y=k[28]-Y,k[28]=Y,Y=k[29]-Y,k[29]=Y,Y=k[0],k[0]+=k[31],k[31]-=Y,Y=k[1],k[1]+=k[30],k[30]-=Y,Y=k[16],k[16]+=k[15],k[15]-=Y,Y=k[17],k[17]+=k[14],k[14]-=Y,Y=k[8],k[8]+=k[23],k[23]-=Y,Y=k[9],k[9]+=k[22],k[22]-=Y,Y=k[24],k[24]+=k[7],k[7]-=Y,Y=k[25],k[25]+=k[6],k[6]-=Y,Y=k[4],k[4]+=k[27],k[27]-=Y,Y=k[5],k[5]+=k[26],k[26]-=Y,Y=k[20],k[20]+=k[11],k[11]-=Y,Y=k[21],k[21]+=k[10],k[10]-=Y,Y=k[12],k[12]+=k[19],k[19]-=Y,Y=k[13],k[13]+=k[18],k[18]-=Y,Y=k[28],k[28]+=k[3],k[3]-=Y,Y=k[29],k[29]+=k[2],k[2]-=Y}}function Te(z,L){for(var k=0;k<3;k++){var ge,ve,_e,H,ye,je;H=z[L+2*3]*We[j.SHORT_TYPE][0]-z[L+5*3],ge=z[L+0*3]*We[j.SHORT_TYPE][2]-z[L+3*3],ve=H+ge,_e=H-ge,H=z[L+5*3]*We[j.SHORT_TYPE][0]+z[L+2*3],ge=z[L+3*3]*We[j.SHORT_TYPE][2]+z[L+0*3],ye=H+ge,je=-H+ge,ge=(z[L+1*3]*We[j.SHORT_TYPE][1]-z[L+4*3])*2069978111953089e-26,H=(z[L+4*3]*We[j.SHORT_TYPE][1]+z[L+1*3])*2069978111953089e-26,z[L+3*0]=ve*190752519173728e-25+ge,z[L+3*5]=-ye*190752519173728e-25+H,_e=_e*.8660254037844387*1907525191737281e-26,ye=ye*.5*1907525191737281e-26+H,z[L+3*1]=_e-ye,z[L+3*2]=_e+ye,ve=ve*.5*1907525191737281e-26-ge,je=je*.8660254037844387*1907525191737281e-26,z[L+3*3]=ve+je,z[L+3*4]=ve-je,L++}}function B(z,L,k){var ge,ve;{var _e,H,ye,je,pe,Oe,Y,me;_e=k[17]-k[9],ye=k[15]-k[11],je=k[14]-k[12],pe=k[0]+k[8],Oe=k[1]+k[7],Y=k[2]+k[6],me=k[3]+k[5],z[L+17]=pe+Y-me-(Oe-k[4]),ve=(pe+Y-me)*ze[12+7]+(Oe-k[4]),ge=(_e-ye-je)*ze[12+6],z[L+5]=ge+ve,z[L+6]=ge-ve,H=(k[16]-k[10])*ze[12+6],Oe=Oe*ze[12+7]+k[4],ge=_e*ze[12+0]+H+ye*ze[12+1]+je*ze[12+2],ve=-pe*ze[12+4]+Oe-Y*ze[12+5]+me*ze[12+3],z[L+1]=ge+ve,z[L+2]=ge-ve,ge=_e*ze[12+1]-H-ye*ze[12+2]+je*ze[12+0],ve=-pe*ze[12+5]+Oe-Y*ze[12+3]+me*ze[12+4],z[L+9]=ge+ve,z[L+10]=ge-ve,ge=_e*ze[12+2]-H+ye*ze[12+0]-je*ze[12+1],ve=pe*ze[12+3]-Oe+Y*ze[12+4]-me*ze[12+5],z[L+13]=ge+ve,z[L+14]=ge-ve}{var $,X,re,he,ne,ce,be,Ve;$=k[8]-k[0],re=k[6]-k[2],he=k[5]-k[3],ne=k[17]+k[9],ce=k[16]+k[10],be=k[15]+k[11],Ve=k[14]+k[12],z[L+0]=ne+be+Ve+(ce+k[13]),ge=(ne+be+Ve)*ze[12+7]-(ce+k[13]),ve=($-re+he)*ze[12+6],z[L+11]=ge+ve,z[L+12]=ge-ve,X=(k[7]-k[1])*ze[12+6],ce=k[13]-ce*ze[12+7],ge=ne*ze[12+3]-ce+be*ze[12+4]+Ve*ze[12+5],ve=$*ze[12+2]+X+re*ze[12+0]+he*ze[12+1],z[L+3]=ge+ve,z[L+4]=ge-ve,ge=-ne*ze[12+5]+ce-be*ze[12+3]-Ve*ze[12+4],ve=$*ze[12+1]+X-re*ze[12+2]-he*ze[12+0],z[L+7]=ge+ve,z[L+8]=ge-ve,ge=-ne*ze[12+4]+ce-be*ze[12+5]-Ve*ze[12+3],ve=$*ze[12+0]-X+re*ze[12+1]-he*ze[12+2],z[L+15]=ge+ve,z[L+16]=ge-ve}}this.mdct_sub48=function(z,L,k){for(var ge=L,ve=286,_e=0;_e<z.channels_out;_e++){for(var H=0;H<z.mode_gr;H++){for(var ye,je=z.l3_side.tt[H][_e],pe=je.xr,Oe=0,Y=z.sb_sample[_e][1-H],me=0,$=0;$<18/2;$++)for(Me(ge,ve,Y[me]),Me(ge,ve+32,Y[me+1]),me+=2,ve+=64,ye=1;ye<32;ye+=2)Y[me-1][ye]*=-1;for(ye=0;ye<32;ye++,Oe+=18){var X=je.block_type,re=z.sb_sample[_e][H],he=z.sb_sample[_e][1-H];if(je.mixed_block_flag!=0&&ye<2&&(X=0),z.amp_filter[ye]<1e-12)d.fill(pe,Oe+0,Oe+18,0);else{if(z.amp_filter[ye]<1)for(var $=0;$<18;$++)he[$][Fe[ye]]*=z.amp_filter[ye];if(X==j.SHORT_TYPE){for(var $=-Be/4;$<0;$++){var ne=We[j.SHORT_TYPE][$+3];pe[Oe+$*3+9]=re[9+$][Fe[ye]]*ne-re[8-$][Fe[ye]],pe[Oe+$*3+18]=re[14-$][Fe[ye]]*ne+re[15+$][Fe[ye]],pe[Oe+$*3+10]=re[15+$][Fe[ye]]*ne-re[14-$][Fe[ye]],pe[Oe+$*3+19]=he[2-$][Fe[ye]]*ne+he[3+$][Fe[ye]],pe[Oe+$*3+11]=he[3+$][Fe[ye]]*ne-he[2-$][Fe[ye]],pe[Oe+$*3+20]=he[8-$][Fe[ye]]*ne+he[9+$][Fe[ye]]}Te(pe,Oe)}else{for(var ce=t(18),$=-Pe/4;$<0;$++){var be,Ve;be=We[X][$+27]*he[$+9][Fe[ye]]+We[X][$+36]*he[8-$][Fe[ye]],Ve=We[X][$+9]*re[$+9][Fe[ye]]-We[X][$+18]*re[8-$][Fe[ye]],ce[$+9]=be-Ve*Je[3+$+9],ce[$+18]=be*Je[3+$+9]+Ve}B(pe,Oe,ce)}}if(X!=j.SHORT_TYPE&&ye!=0)for(var $=7;$>=0;--$){var et,Ye;et=pe[Oe+$]*tt[20+$]+pe[Oe+-1-$]*ct[28+$],Ye=pe[Oe+$]*ct[28+$]-pe[Oe+-1-$]*tt[20+$],pe[Oe+-1-$]=et,pe[Oe+$]=Ye}}}if(ge=k,ve=286,z.mode_gr==1)for(var nt=0;nt<18;nt++)f.arraycopy(z.sb_sample[_e][1][nt],0,z.sb_sample[_e][0][nt],0,32)}}}function O(){this.thm=new ue,this.en=new ue}j.ENCDELAY=576,j.POSTDELAY=1152,j.MDCTDELAY=48,j.FFTOFFSET=224+j.MDCTDELAY,j.DECDELAY=528,j.SBLIMIT=32,j.CBANDS=64,j.SBPSY_l=21,j.SBPSY_s=12,j.SBMAX_l=22,j.SBMAX_s=13,j.PSFB21=6,j.PSFB12=6,j.BLKSIZE=1024,j.HBLKSIZE=j.BLKSIZE/2+1,j.BLKSIZE_s=256,j.HBLKSIZE_s=j.BLKSIZE_s/2+1,j.NORM_TYPE=0,j.START_TYPE=1,j.SHORT_TYPE=2,j.STOP_TYPE=3,j.MPG_MD_LR_LR=0,j.MPG_MD_LR_I=1,j.MPG_MD_MS_LR=2,j.MPG_MD_MS_I=3,j.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function j(){var ie=j.FFTOFFSET,Be=j.MPG_MD_MS_LR,Pe=null;this.psy=null;var We=null,Je=null,ze=null;this.setModules=function(Te,B,z,L){Pe=Te,this.psy=B,We=B,Je=L,ze=z};var tt=new se;function ct(Te){var B,z;if(Te.ATH.useAdjust==0){Te.ATH.adjust=1;return}if(z=Te.loudness_sq[0][0],B=Te.loudness_sq[1][0],Te.channels_out==2?(z+=Te.loudness_sq[0][1],B+=Te.loudness_sq[1][1]):(z+=z,B+=B),Te.mode_gr==2&&(z=Math.max(z,B)),z*=.5,z*=Te.ATH.aaSensitivityP,z>.03125)Te.ATH.adjust>=1?Te.ATH.adjust=1:Te.ATH.adjust<Te.ATH.adjustLimit&&(Te.ATH.adjust=Te.ATH.adjustLimit),Te.ATH.adjustLimit=1;else{var L=31.98*z+625e-6;Te.ATH.adjust>=L?(Te.ATH.adjust*=L*.075+.925,Te.ATH.adjust<L&&(Te.ATH.adjust=L)):Te.ATH.adjustLimit>=L?Te.ATH.adjust=L:Te.ATH.adjust<Te.ATH.adjustLimit&&(Te.ATH.adjust=Te.ATH.adjustLimit),Te.ATH.adjustLimit=L}}function Fe(Te){var B,z;for(Te.bitrate_stereoMode_Hist[Te.bitrate_index][4]++,Te.bitrate_stereoMode_Hist[15][4]++,Te.channels_out==2&&(Te.bitrate_stereoMode_Hist[Te.bitrate_index][Te.mode_ext]++,Te.bitrate_stereoMode_Hist[15][Te.mode_ext]++),B=0;B<Te.mode_gr;++B)for(z=0;z<Te.channels_out;++z){var L=Te.l3_side.tt[B][z].block_type|0;Te.l3_side.tt[B][z].mixed_block_flag!=0&&(L=4),Te.bitrate_blockType_Hist[Te.bitrate_index][L]++,Te.bitrate_blockType_Hist[Te.bitrate_index][5]++,Te.bitrate_blockType_Hist[15][L]++,Te.bitrate_blockType_Hist[15][5]++}}function Me(Te,B){var z=Te.internal_flags,L,k;if(z.lame_encode_frame_init==0){var ge,ve,_e=t(2014),H=t(286+1152+576);for(z.lame_encode_frame_init=1,ge=0,ve=0;ge<286+576*(1+z.mode_gr);++ge)ge<576*z.mode_gr?(_e[ge]=0,z.channels_out==2&&(H[ge]=0)):(_e[ge]=B[0][ve],z.channels_out==2&&(H[ge]=B[1][ve]),++ve);for(k=0;k<z.mode_gr;k++)for(L=0;L<z.channels_out;L++)z.l3_side.tt[k][L].block_type=j.SHORT_TYPE;tt.mdct_sub48(z,_e,H)}}this.lame_encode_mp3_frame=function(Te,B,z,L,k,ge){var ve,_e=s([2,2]);_e[0][0]=new O,_e[0][1]=new O,_e[1][0]=new O,_e[1][1]=new O;var H=s([2,2]);H[0][0]=new O,H[0][1]=new O,H[1][0]=new O,H[1][1]=new O;var ye,je=[null,null],pe=Te.internal_flags,Oe=p([2,4]),Y=[.5,.5],me=[[0,0],[0,0]],$=[[0,0],[0,0]],X,re,he;if(je[0]=B,je[1]=z,pe.lame_encode_frame_init==0&&Me(Te,je),pe.padding=0,(pe.slot_lag-=pe.frac_SpF)<0&&(pe.slot_lag+=Te.out_samplerate,pe.padding=1),pe.psymodel!=0){var ne,ce=[null,null],be=0,Ve=o(2);for(he=0;he<pe.mode_gr;he++){for(re=0;re<pe.channels_out;re++)ce[re]=je[re],be=576+he*576-j.FFTOFFSET;if(Te.VBR==i.vbr_mtrh||Te.VBR==i.vbr_mt?ne=We.L3psycho_anal_vbr(Te,ce,be,he,_e,H,me[he],$[he],Oe[he],Ve):ne=We.L3psycho_anal_ns(Te,ce,be,he,_e,H,me[he],$[he],Oe[he],Ve),ne!=0)return-4;for(Te.mode==m.JOINT_STEREO&&(Y[he]=Oe[he][2]+Oe[he][3],Y[he]>0&&(Y[he]=Oe[he][3]/Y[he])),re=0;re<pe.channels_out;re++){var et=pe.l3_side.tt[he][re];et.block_type=Ve[re],et.mixed_block_flag=0}}}else for(he=0;he<pe.mode_gr;he++)for(re=0;re<pe.channels_out;re++)pe.l3_side.tt[he][re].block_type=j.NORM_TYPE,pe.l3_side.tt[he][re].mixed_block_flag=0,$[he][re]=me[he][re]=700;if(ct(pe),tt.mdct_sub48(pe,je[0],je[1]),pe.mode_ext=j.MPG_MD_LR_LR,Te.force_ms)pe.mode_ext=j.MPG_MD_MS_LR;else if(Te.mode==m.JOINT_STEREO){var Ye=0,nt=0;for(he=0;he<pe.mode_gr;he++)for(re=0;re<pe.channels_out;re++)Ye+=$[he][re],nt+=me[he][re];if(Ye<=1*nt){var K=pe.l3_side.tt[0],fe=pe.l3_side.tt[pe.mode_gr-1];K[0].block_type==K[1].block_type&&fe[0].block_type==fe[1].block_type&&(pe.mode_ext=j.MPG_MD_MS_LR)}}if(pe.mode_ext==Be?(ye=H,X=$):(ye=_e,X=me),Te.analysis&&pe.pinfo!=null)for(he=0;he<pe.mode_gr;he++)for(re=0;re<pe.channels_out;re++)pe.pinfo.ms_ratio[he]=pe.ms_ratio[he],pe.pinfo.ms_ener_ratio[he]=Y[he],pe.pinfo.blocktype[he][re]=pe.l3_side.tt[he][re].block_type,pe.pinfo.pe[he][re]=X[he][re],f.arraycopy(pe.l3_side.tt[he][re].xr,0,pe.pinfo.xr[he][re],0,576),pe.mode_ext==Be&&(pe.pinfo.ers[he][re]=pe.pinfo.ers[he][re+2],f.arraycopy(pe.pinfo.energy[he][re+2],0,pe.pinfo.energy[he][re],0,pe.pinfo.energy[he][re].length));if(Te.VBR==i.vbr_off||Te.VBR==i.vbr_abr){var mt,bt;for(mt=0;mt<18;mt++)pe.nsPsy.pefirbuf[mt]=pe.nsPsy.pefirbuf[mt+1];for(bt=0,he=0;he<pe.mode_gr;he++)for(re=0;re<pe.channels_out;re++)bt+=X[he][re];for(pe.nsPsy.pefirbuf[18]=bt,bt=pe.nsPsy.pefirbuf[9],mt=0;mt<9;mt++)bt+=(pe.nsPsy.pefirbuf[mt]+pe.nsPsy.pefirbuf[18-mt])*j.fircoef[mt];for(bt=670*5*pe.mode_gr*pe.channels_out/bt,he=0;he<pe.mode_gr;he++)for(re=0;re<pe.channels_out;re++)X[he][re]*=bt}if(pe.iteration_loop.iteration_loop(Te,X,Y,ye),Pe.format_bitstream(Te),ve=Pe.copy_buffer(pe,L,k,ge,1),Te.bWriteVbrTag&&Je.addVbrFrame(Te),Te.analysis&&pe.pinfo!=null){for(re=0;re<pe.channels_out;re++){var Rt;for(Rt=0;Rt<ie;Rt++)pe.pinfo.pcmdata[re][Rt]=pe.pinfo.pcmdata[re][Rt+Te.framesize];for(Rt=ie;Rt<1600;Rt++)pe.pinfo.pcmdata[re][Rt]=je[re][Rt-ie]}ze.set_frame_pinfo(Te,ye)}return Fe(pe),ve}}function F(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function V(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[o(4),o(4)];for(var ie=0;ie<2;ie++)for(var Be=0;Be<2;Be++)this.tt[ie][Be]=new ee}function ae(){this.last_en_subshort=p([4,9]),this.lastAttacks=o(4),this.pefirbuf=t(19),this.longfact=t(j.SBMAX_l),this.shortfact=t(j.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function ue(){this.l=t(j.SBMAX_l),this.s=p([j.SBMAX_s,3]);var ie=this;this.assign=function(Be){f.arraycopy(Be.l,0,ie.l,0,j.SBMAX_l);for(var Pe=0;Pe<j.SBMAX_s;Pe++)for(var We=0;We<3;We++)ie.s[Pe][We]=Be.s[Pe][We]}}Ee.MFSIZE=3*1152+j.ENCDELAY-j.MDCTDELAY,Ee.MAX_HEADER_BUF=256,Ee.MAX_BITS_PER_CHANNEL=4095,Ee.MAX_BITS_PER_GRANULE=7680,Ee.BPC=320;function Ee(){var ie=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=p([2,Ee.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new V,this.ms_ratio=t(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=o(2),this.CurrentStep=o(2),this.masking_lower=0,this.bv_scf=o(576),this.pseudohalf=o(le.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*Ee.BPC+1),this.itime=h(2),this.sideinfo_len=0,this.sb_sample=p([2,2,18,j.SBLIMIT]),this.amp_filter=t(32);function Be(){this.write_timing=0,this.ptr=0,this.buf=n(ie)}this.header=new Array(Ee.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new Q,this.minval_l=t(j.CBANDS),this.minval_s=t(j.CBANDS),this.nb_1=p([4,j.CBANDS]),this.nb_2=p([4,j.CBANDS]),this.nb_s1=p([4,j.CBANDS]),this.nb_s2=p([4,j.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=t(4),this.loudness_sq=p([2,2]),this.loudness_sq_save=t(2),this.mld_l=t(j.SBMAX_l),this.mld_s=t(j.SBMAX_s),this.bm_l=o(j.SBMAX_l),this.bo_l=o(j.SBMAX_l),this.bm_s=o(j.SBMAX_s),this.bo_s=o(j.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=c([j.CBANDS,2]),this.s3ind_s=c([j.CBANDS,2]),this.numlines_s=o(j.CBANDS),this.numlines_l=o(j.CBANDS),this.rnumlines_l=t(j.CBANDS),this.mld_cb_l=t(j.CBANDS),this.mld_cb_s=t(j.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=t(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=o(2),this.nsPsy=new ae,this.VBR_seek_table=new F,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=c([16,4+1]),this.bitrate_blockType_Hist=c([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var Pe=0;Pe<this.en.length;Pe++)this.en[Pe]=new ue;for(var Pe=0;Pe<this.thm.length;Pe++)this.thm[Pe]=new ue;for(var Pe=0;Pe<this.header.length;Pe++)this.header[Pe]=new Be}function Re(){var ie=t(j.BLKSIZE),Be=t(j.BLKSIZE_s/2),Pe=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function We(ze,tt,ct){var Fe=0,Me,Te,B;ct<<=1;var z=tt+ct;Me=4;do{var L,k,ge,ve,_e,H,ye;ye=Me>>1,ve=Me,_e=Me<<1,H=_e+ve,Me=_e<<1,Te=tt,B=Te+ye;do{var je,pe,Oe,Y;pe=ze[Te+0]-ze[Te+ve],je=ze[Te+0]+ze[Te+ve],Y=ze[Te+_e]-ze[Te+H],Oe=ze[Te+_e]+ze[Te+H],ze[Te+_e]=je-Oe,ze[Te+0]=je+Oe,ze[Te+H]=pe-Y,ze[Te+ve]=pe+Y,pe=ze[B+0]-ze[B+ve],je=ze[B+0]+ze[B+ve],Y=y.SQRT2*ze[B+H],Oe=y.SQRT2*ze[B+_e],ze[B+_e]=je-Oe,ze[B+0]=je+Oe,ze[B+H]=pe-Y,ze[B+ve]=pe+Y,B+=Me,Te+=Me}while(Te<z);for(k=Pe[Fe+0],L=Pe[Fe+1],ge=1;ge<ye;ge++){var me,$;me=1-2*L*L,$=2*L*k,Te=tt+ge,B=tt+ve-ge;do{var X,re,he,je,pe,ne,Oe,ce,Y,be;re=$*ze[Te+ve]-me*ze[B+ve],X=me*ze[Te+ve]+$*ze[B+ve],pe=ze[Te+0]-X,je=ze[Te+0]+X,ne=ze[B+0]-re,he=ze[B+0]+re,re=$*ze[Te+H]-me*ze[B+H],X=me*ze[Te+H]+$*ze[B+H],Y=ze[Te+_e]-X,Oe=ze[Te+_e]+X,be=ze[B+_e]-re,ce=ze[B+_e]+re,re=L*Oe-k*be,X=k*Oe+L*be,ze[Te+_e]=je-X,ze[Te+0]=je+X,ze[B+H]=ne-re,ze[B+ve]=ne+re,re=k*ce-L*Y,X=L*ce+k*Y,ze[B+_e]=he-X,ze[B+0]=he+X,ze[Te+H]=pe-re,ze[Te+ve]=pe+re,B+=Me,Te+=Me}while(Te<z);me=k,k=me*Pe[Fe+0]-L*Pe[Fe+1],L=me*Pe[Fe+1]+L*Pe[Fe+0]}Fe+=2}while(Me<ct)}var Je=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(ze,tt,ct,Fe,Me){for(var Te=0;Te<3;Te++){var B=j.BLKSIZE_s/2,z=65535&576/3*(Te+1),L=j.BLKSIZE_s/8-1;do{var k,ge,ve,_e,H,ye=Je[L<<2]&255;k=Be[ye]*Fe[ct][Me+ye+z],H=Be[127-ye]*Fe[ct][Me+ye+z+128],ge=k-H,k=k+H,ve=Be[ye+64]*Fe[ct][Me+ye+z+64],H=Be[63-ye]*Fe[ct][Me+ye+z+192],_e=ve-H,ve=ve+H,B-=4,tt[Te][B+0]=k+ve,tt[Te][B+2]=k-ve,tt[Te][B+1]=ge+_e,tt[Te][B+3]=ge-_e,k=Be[ye+1]*Fe[ct][Me+ye+z+1],H=Be[126-ye]*Fe[ct][Me+ye+z+129],ge=k-H,k=k+H,ve=Be[ye+65]*Fe[ct][Me+ye+z+65],H=Be[62-ye]*Fe[ct][Me+ye+z+193],_e=ve-H,ve=ve+H,tt[Te][B+j.BLKSIZE_s/2+0]=k+ve,tt[Te][B+j.BLKSIZE_s/2+2]=k-ve,tt[Te][B+j.BLKSIZE_s/2+1]=ge+_e,tt[Te][B+j.BLKSIZE_s/2+3]=ge-_e}while(--L>=0);We(tt[Te],B,j.BLKSIZE_s/2)}},this.fft_long=function(ze,tt,ct,Fe,Me){var Te=j.BLKSIZE/8-1,B=j.BLKSIZE/2;do{var z,L,k,ge,ve,_e=Je[Te]&255;z=ie[_e]*Fe[ct][Me+_e],ve=ie[_e+512]*Fe[ct][Me+_e+512],L=z-ve,z=z+ve,k=ie[_e+256]*Fe[ct][Me+_e+256],ve=ie[_e+768]*Fe[ct][Me+_e+768],ge=k-ve,k=k+ve,B-=4,tt[B+0]=z+k,tt[B+2]=z-k,tt[B+1]=L+ge,tt[B+3]=L-ge,z=ie[_e+1]*Fe[ct][Me+_e+1],ve=ie[_e+513]*Fe[ct][Me+_e+513],L=z-ve,z=z+ve,k=ie[_e+257]*Fe[ct][Me+_e+257],ve=ie[_e+769]*Fe[ct][Me+_e+769],ge=k-ve,k=k+ve,tt[B+j.BLKSIZE/2+0]=z+k,tt[B+j.BLKSIZE/2+2]=z-k,tt[B+j.BLKSIZE/2+1]=L+ge,tt[B+j.BLKSIZE/2+3]=L-ge}while(--Te>=0);We(tt,B,j.BLKSIZE/2)},this.init_fft=function(ze){for(var tt=0;tt<j.BLKSIZE;tt++)ie[tt]=.42-.5*Math.cos(2*Math.PI*(tt+.5)/j.BLKSIZE)+.08*Math.cos(4*Math.PI*(tt+.5)/j.BLKSIZE);for(var tt=0;tt<j.BLKSIZE_s/2;tt++)Be[tt]=.5*(1-Math.cos(2*Math.PI*(tt+.5)/j.BLKSIZE_s))}}function Ce(){var ie=new Re,Be=2.302585092994046,Pe=2,We=16,Je=2,ze=16,tt=.34,ct=1/(14752*14752)/(j.BLKSIZE/2),Fe=.01,Me=.8,Te=.6,B=.3,z=3.5,L=21,k=.2302585093;function ge(Ie){return Ie}function ve(Ie,Le){for(var $e=0,Qe=0;Qe<j.BLKSIZE/2;++Qe)$e+=Ie[Qe]*Le.ATH.eql_w[Qe];return $e*=ct,$e}function _e(Ie,Le,$e,Qe,at,Xe,lt,pt,st,xt,dt){var Tt=Ie.internal_flags;if(st<2)ie.fft_long(Tt,Qe[at],st,xt,dt),ie.fft_short(Tt,Xe[lt],st,xt,dt);else if(st==2){for(var Dt=j.BLKSIZE-1;Dt>=0;--Dt){var Xt=Qe[at+0][Dt],Et=Qe[at+1][Dt];Qe[at+0][Dt]=(Xt+Et)*y.SQRT2*.5,Qe[at+1][Dt]=(Xt-Et)*y.SQRT2*.5}for(var Yt=2;Yt>=0;--Yt)for(var Dt=j.BLKSIZE_s-1;Dt>=0;--Dt){var Xt=Xe[lt+0][Yt][Dt],Et=Xe[lt+1][Yt][Dt];Xe[lt+0][Yt][Dt]=(Xt+Et)*y.SQRT2*.5,Xe[lt+1][Yt][Dt]=(Xt-Et)*y.SQRT2*.5}}Le[0]=Qe[at+0][0],Le[0]*=Le[0];for(var Dt=j.BLKSIZE/2-1;Dt>=0;--Dt){var _t=Qe[at+0][j.BLKSIZE/2-Dt],Vt=Qe[at+0][j.BLKSIZE/2+Dt];Le[j.BLKSIZE/2-Dt]=(_t*_t+Vt*Vt)*.5}for(var Yt=2;Yt>=0;--Yt){$e[Yt][0]=Xe[lt+0][Yt][0],$e[Yt][0]*=$e[Yt][0];for(var Dt=j.BLKSIZE_s/2-1;Dt>=0;--Dt){var _t=Xe[lt+0][Yt][j.BLKSIZE_s/2-Dt],Vt=Xe[lt+0][Yt][j.BLKSIZE_s/2+Dt];$e[Yt][j.BLKSIZE_s/2-Dt]=(_t*_t+Vt*Vt)*.5}}{for(var or=0,Dt=11;Dt<j.HBLKSIZE;Dt++)or+=Le[Dt];Tt.tot_ener[st]=or}if(Ie.analysis){for(var Dt=0;Dt<j.HBLKSIZE;Dt++)Tt.pinfo.energy[pt][st][Dt]=Tt.pinfo.energy_save[st][Dt],Tt.pinfo.energy_save[st][Dt]=Le[Dt];Tt.pinfo.pe[pt][st]=Tt.pe[st]}Ie.athaa_loudapprox==2&&st<2&&(Tt.loudness_sq[pt][st]=Tt.loudness_sq_save[st],Tt.loudness_sq_save[st]=ve(Le,Tt))}var H=8,ye=23,je=15,pe,Oe,Y,me=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function $(){pe=Math.pow(10,(H+1)/16),Oe=Math.pow(10,(ye+1)/16),Y=Math.pow(10,je/10)}var X=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],re=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],he=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function ne(Ie,Le,$e,Qe,at,Xe){var lt;if(Le>Ie)if(Le<Ie*Oe)lt=Le/Ie;else return Ie+Le;else{if(Ie>=Le*Oe)return Ie+Le;lt=Ie/Le}if(Ie+=Le,Qe+3<=3+3){if(lt>=pe)return Ie;var pt=0|y.FAST_LOG10_X(lt,16);return Ie*re[pt]}var pt=0|y.FAST_LOG10_X(lt,16);if(Xe!=0?Le=at.ATH.cb_s[$e]*at.ATH.adjust:Le=at.ATH.cb_l[$e]*at.ATH.adjust,Ie<Y*Le){if(Ie>Le){var st,xt;return st=1,pt<=13&&(st=he[pt]),xt=y.FAST_LOG10_X(Ie/Le,10/15),Ie*((X[pt]-st)*xt+st)}return pt>13?Ie:Ie*he[pt]}return Ie*X[pt]}var ce=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function be(Ie,Le,$e){var Qe;if(Ie<0&&(Ie=0),Le<0&&(Le=0),Ie<=0)return Le;if(Le<=0)return Ie;if(Le>Ie?Qe=Le/Ie:Qe=Ie/Le,-2<=$e&&$e<=2){if(Qe>=pe)return Ie+Le;var at=0|y.FAST_LOG10_X(Qe,16);return(Ie+Le)*ce[at]}return Qe<Oe?Ie+Le:(Ie<Le&&(Ie=Le),Ie)}function Ve(Ie,Le){var $e=Ie.internal_flags;if($e.channels_out>1){for(var Qe=0;Qe<j.SBMAX_l;Qe++){var at=$e.thm[0].l[Qe],Xe=$e.thm[1].l[Qe];$e.thm[0].l[Qe]+=Xe*Le,$e.thm[1].l[Qe]+=at*Le}for(var Qe=0;Qe<j.SBMAX_s;Qe++)for(var lt=0;lt<3;lt++){var at=$e.thm[0].s[Qe][lt],Xe=$e.thm[1].s[Qe][lt];$e.thm[0].s[Qe][lt]+=Xe*Le,$e.thm[1].s[Qe][lt]+=at*Le}}}function et(Ie){for(var Le=0;Le<j.SBMAX_l;Le++)if(!(Ie.thm[0].l[Le]>1.58*Ie.thm[1].l[Le]||Ie.thm[1].l[Le]>1.58*Ie.thm[0].l[Le])){var $e=Ie.mld_l[Le]*Ie.en[3].l[Le],Qe=Math.max(Ie.thm[2].l[Le],Math.min(Ie.thm[3].l[Le],$e));$e=Ie.mld_l[Le]*Ie.en[2].l[Le];var at=Math.max(Ie.thm[3].l[Le],Math.min(Ie.thm[2].l[Le],$e));Ie.thm[2].l[Le]=Qe,Ie.thm[3].l[Le]=at}for(var Le=0;Le<j.SBMAX_s;Le++)for(var Xe=0;Xe<3;Xe++)if(!(Ie.thm[0].s[Le][Xe]>1.58*Ie.thm[1].s[Le][Xe]||Ie.thm[1].s[Le][Xe]>1.58*Ie.thm[0].s[Le][Xe])){var $e=Ie.mld_s[Le]*Ie.en[3].s[Le][Xe],Qe=Math.max(Ie.thm[2].s[Le][Xe],Math.min(Ie.thm[3].s[Le][Xe],$e));$e=Ie.mld_s[Le]*Ie.en[2].s[Le][Xe];var at=Math.max(Ie.thm[3].s[Le][Xe],Math.min(Ie.thm[2].s[Le][Xe],$e));Ie.thm[2].s[Le][Xe]=Qe,Ie.thm[3].s[Le][Xe]=at}}function Ye(Ie,Le,$e){var Qe=Le,at=Math.pow(10,$e);Le*=2,Qe*=2;for(var Xe=0;Xe<j.SBMAX_l;Xe++){var lt,pt,st,xt;if(xt=Ie.ATH.cb_l[Ie.bm_l[Xe]]*at,lt=Math.min(Math.max(Ie.thm[0].l[Xe],xt),Math.max(Ie.thm[1].l[Xe],xt)),pt=Math.max(Ie.thm[2].l[Xe],xt),st=Math.max(Ie.thm[3].l[Xe],xt),lt*Le<pt+st){var dt=lt*Qe/(pt+st);pt*=dt,st*=dt}Ie.thm[2].l[Xe]=Math.min(pt,Ie.thm[2].l[Xe]),Ie.thm[3].l[Xe]=Math.min(st,Ie.thm[3].l[Xe])}at*=j.BLKSIZE_s/j.BLKSIZE;for(var Xe=0;Xe<j.SBMAX_s;Xe++)for(var Tt=0;Tt<3;Tt++){var lt,pt,st,xt;if(xt=Ie.ATH.cb_s[Ie.bm_s[Xe]]*at,lt=Math.min(Math.max(Ie.thm[0].s[Xe][Tt],xt),Math.max(Ie.thm[1].s[Xe][Tt],xt)),pt=Math.max(Ie.thm[2].s[Xe][Tt],xt),st=Math.max(Ie.thm[3].s[Xe][Tt],xt),lt*Le<pt+st){var dt=lt*Le/(pt+st);pt*=dt,st*=dt}Ie.thm[2].s[Xe][Tt]=Math.min(Ie.thm[2].s[Xe][Tt],pt),Ie.thm[3].s[Xe][Tt]=Math.min(Ie.thm[3].s[Xe][Tt],st)}}function nt(Ie,Le,$e,Qe,at){var Xe,lt,pt=0,st=0;for(Xe=lt=0;Xe<j.SBMAX_s;++lt,++Xe){for(var xt=Ie.bo_s[Xe],dt=Ie.npart_s,Tt=xt<dt?xt:dt;lt<Tt;)pt+=Le[lt],st+=$e[lt],lt++;if(Ie.en[Qe].s[Xe][at]=pt,Ie.thm[Qe].s[Xe][at]=st,lt>=dt){++Xe;break}{var Dt=Ie.PSY.bo_s_weight[Xe],Xt=1-Dt;pt=Dt*Le[lt],st=Dt*$e[lt],Ie.en[Qe].s[Xe][at]+=pt,Ie.thm[Qe].s[Xe][at]+=st,pt=Xt*Le[lt],st=Xt*$e[lt]}}for(;Xe<j.SBMAX_s;++Xe)Ie.en[Qe].s[Xe][at]=0,Ie.thm[Qe].s[Xe][at]=0}function K(Ie,Le,$e,Qe){var at,Xe,lt=0,pt=0;for(at=Xe=0;at<j.SBMAX_l;++Xe,++at){for(var st=Ie.bo_l[at],xt=Ie.npart_l,dt=st<xt?st:xt;Xe<dt;)lt+=Le[Xe],pt+=$e[Xe],Xe++;if(Ie.en[Qe].l[at]=lt,Ie.thm[Qe].l[at]=pt,Xe>=xt){++at;break}{var Tt=Ie.PSY.bo_l_weight[at],Dt=1-Tt;lt=Tt*Le[Xe],pt=Tt*$e[Xe],Ie.en[Qe].l[at]+=lt,Ie.thm[Qe].l[at]+=pt,lt=Dt*Le[Xe],pt=Dt*$e[Xe]}}for(;at<j.SBMAX_l;++at)Ie.en[Qe].l[at]=0,Ie.thm[Qe].l[at]=0}function fe(Ie,Le,$e,Qe,at,Xe){var lt=Ie.internal_flags,pt,st;for(st=pt=0;st<lt.npart_s;++st){for(var xt=0,dt=lt.numlines_s[st],Tt=0;Tt<dt;++Tt,++pt){var Dt=Le[Xe][pt];xt+=Dt}$e[st]=xt}for(pt=st=0;st<lt.npart_s;st++){var Xt=lt.s3ind_s[st][0],Et=lt.s3_ss[pt++]*$e[Xt];for(++Xt;Xt<=lt.s3ind_s[st][1];)Et+=lt.s3_ss[pt]*$e[Xt],++pt,++Xt;{var Yt=Je*lt.nb_s1[at][st];Qe[st]=Math.min(Et,Yt)}if(lt.blocktype_old[at&1]==j.SHORT_TYPE){var Yt=ze*lt.nb_s2[at][st],_t=Qe[st];Qe[st]=Math.min(Yt,_t)}lt.nb_s2[at][st]=lt.nb_s1[at][st],lt.nb_s1[at][st]=Et}for(;st<=j.CBANDS;++st)$e[st]=0,Qe[st]=0}function mt(Ie,Le,$e,Qe){var at=Ie.internal_flags;Ie.short_blocks==u.short_block_coupled&&!(Le[0]!=0&&Le[1]!=0)&&(Le[0]=Le[1]=0);for(var Xe=0;Xe<at.channels_out;Xe++)Qe[Xe]=j.NORM_TYPE,Ie.short_blocks==u.short_block_dispensed&&(Le[Xe]=1),Ie.short_blocks==u.short_block_forced&&(Le[Xe]=0),Le[Xe]!=0?at.blocktype_old[Xe]==j.SHORT_TYPE&&(Qe[Xe]=j.STOP_TYPE):(Qe[Xe]=j.SHORT_TYPE,at.blocktype_old[Xe]==j.NORM_TYPE&&(at.blocktype_old[Xe]=j.START_TYPE),at.blocktype_old[Xe]==j.STOP_TYPE&&(at.blocktype_old[Xe]=j.SHORT_TYPE)),$e[Xe]=at.blocktype_old[Xe],at.blocktype_old[Xe]=Qe[Xe]}function bt(Ie,Le,$e){return $e>=1?Ie:$e<=0?Le:Le>0?Math.pow(Ie/Le,$e)*Le:0}var Rt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function Ut(Ie,Le){for(var $e=309.07,Qe=0;Qe<j.SBMAX_s-1;Qe++)for(var at=0;at<3;at++){var Xe=Ie.thm.s[Qe][at];if(Xe>0){var lt=Xe*Le,pt=Ie.en.s[Qe][at];pt>lt&&(pt>lt*1e10?$e+=Rt[Qe]*(10*Be):$e+=Rt[Qe]*y.FAST_LOG10(pt/lt))}}return $e}var Lt=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function ke(Ie,Le){for(var $e=281.0575,Qe=0;Qe<j.SBMAX_l-1;Qe++){var at=Ie.thm.l[Qe];if(at>0){var Xe=at*Le,lt=Ie.en.l[Qe];lt>Xe&&(lt>Xe*1e10?$e+=Lt[Qe]*(10*Be):$e+=Lt[Qe]*y.FAST_LOG10(lt/Xe))}}return $e}function yt(Ie,Le,$e,Qe,at){var Xe,lt;for(Xe=lt=0;Xe<Ie.npart_l;++Xe){var pt=0,st=0,xt;for(xt=0;xt<Ie.numlines_l[Xe];++xt,++lt){var dt=Le[lt];pt+=dt,st<dt&&(st=dt)}$e[Xe]=pt,Qe[Xe]=st,at[Xe]=pt*Ie.rnumlines_l[Xe]}}function vt(Ie,Le,$e,Qe){var at=me.length-1,Xe=0,lt=$e[Xe]+$e[Xe+1];if(lt>0){var pt=Le[Xe];pt<Le[Xe+1]&&(pt=Le[Xe+1]),lt=20*(pt*2-lt)/(lt*(Ie.numlines_l[Xe]+Ie.numlines_l[Xe+1]-1));var st=0|lt;st>at&&(st=at),Qe[Xe]=st}else Qe[Xe]=0;for(Xe=1;Xe<Ie.npart_l-1;Xe++)if(lt=$e[Xe-1]+$e[Xe]+$e[Xe+1],lt>0){var pt=Le[Xe-1];pt<Le[Xe]&&(pt=Le[Xe]),pt<Le[Xe+1]&&(pt=Le[Xe+1]),lt=20*(pt*3-lt)/(lt*(Ie.numlines_l[Xe-1]+Ie.numlines_l[Xe]+Ie.numlines_l[Xe+1]-1));var st=0|lt;st>at&&(st=at),Qe[Xe]=st}else Qe[Xe]=0;if(lt=$e[Xe-1]+$e[Xe],lt>0){var pt=Le[Xe-1];pt<Le[Xe]&&(pt=Le[Xe]),lt=20*(pt*2-lt)/(lt*(Ie.numlines_l[Xe-1]+Ie.numlines_l[Xe]-1));var st=0|lt;st>at&&(st=at),Qe[Xe]=st}else Qe[Xe]=0}var rt=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(Ie,Le,$e,Qe,at,Xe,lt,pt,st,xt){var dt=Ie.internal_flags,Tt=p([2,j.BLKSIZE]),Dt=p([2,3,j.BLKSIZE_s]),Xt=t(j.CBANDS+1),Et=t(j.CBANDS+1),Yt=t(j.CBANDS+2),_t=o(2),Vt=o(2),or,Ct,Gt,Mt,$t,Sr,Nt,rr,lr=p([2,576]),Er,Nr=o(j.CBANDS+2),yr=o(j.CBANDS+2);for(d.fill(yr,0),or=dt.channels_out,Ie.mode==m.JOINT_STEREO&&(or=4),Ie.VBR==i.vbr_off?Er=dt.ResvMax==0?0:dt.ResvSize/dt.ResvMax*.5:Ie.VBR==i.vbr_rh||Ie.VBR==i.vbr_mtrh||Ie.VBR==i.vbr_mt?Er=.6:Er=1,Ct=0;Ct<dt.channels_out;Ct++){var vr=Le[Ct],an=$e+576-350-L+192;for(Mt=0;Mt<576;Mt++){var Gr,pn;for(Gr=vr[an+Mt+10],pn=0,$t=0;$t<(L-1)/2-1;$t+=2)Gr+=rt[$t]*(vr[an+Mt+$t]+vr[an+Mt+L-$t]),pn+=rt[$t+1]*(vr[an+Mt+$t+1]+vr[an+Mt+L-$t-1]);lr[Ct][Mt]=Gr+pn}at[Qe][Ct].en.assign(dt.en[Ct]),at[Qe][Ct].thm.assign(dt.thm[Ct]),or>2&&(Xe[Qe][Ct].en.assign(dt.en[Ct+2]),Xe[Qe][Ct].thm.assign(dt.thm[Ct+2]))}for(Ct=0;Ct<or;Ct++){var Jn,ln,un=t(12),jo=[0,0,0,0],ss=t(12),Ni=1,Pa,Ia=t(j.CBANDS),Da=t(j.CBANDS),Tr=[0,0,0,0],La=t(j.HBLKSIZE),Na=p([3,j.HBLKSIZE_s]);for(Mt=0;Mt<3;Mt++)un[Mt]=dt.nsPsy.last_en_subshort[Ct][Mt+6],ss[Mt]=un[Mt]/dt.nsPsy.last_en_subshort[Ct][Mt+4],jo[0]+=un[Mt];if(Ct==2)for(Mt=0;Mt<576;Mt++){var Bi,Fi;Bi=lr[0][Mt],Fi=lr[1][Mt],lr[0][Mt]=Bi+Fi,lr[1][Mt]=Bi-Fi}{var Ba=lr[Ct&1],Es=0;for(Mt=0;Mt<9;Mt++){for(var ou=Es+64,Jr=1;Es<ou;Es++)Jr<Math.abs(Ba[Es])&&(Jr=Math.abs(Ba[Es]));dt.nsPsy.last_en_subshort[Ct][Mt]=un[Mt+3]=Jr,jo[1+Mt/3]+=Jr,Jr>un[Mt+3-2]?Jr=Jr/un[Mt+3-2]:un[Mt+3-2]>Jr*10?Jr=un[Mt+3-2]/(Jr*10):Jr=0,ss[Mt+3]=Jr}}if(Ie.analysis){var Ui=ss[0];for(Mt=1;Mt<12;Mt++)Ui<ss[Mt]&&(Ui=ss[Mt]);dt.pinfo.ers[Qe][Ct]=dt.pinfo.ers_save[Ct],dt.pinfo.ers_save[Ct]=Ui}for(Pa=Ct==3?dt.nsPsy.attackthre_s:dt.nsPsy.attackthre,Mt=0;Mt<12;Mt++)Tr[Mt/3]==0&&ss[Mt]>Pa&&(Tr[Mt/3]=Mt%3+1);for(Mt=1;Mt<4;Mt++){var ii;jo[Mt-1]>jo[Mt]?ii=jo[Mt-1]/jo[Mt]:ii=jo[Mt]/jo[Mt-1],ii<1.7&&(Tr[Mt]=0,Mt==1&&(Tr[0]=0))}for(Tr[0]!=0&&dt.nsPsy.lastAttacks[Ct]!=0&&(Tr[0]=0),(dt.nsPsy.lastAttacks[Ct]==3||Tr[0]+Tr[1]+Tr[2]+Tr[3]!=0)&&(Ni=0,Tr[1]!=0&&Tr[0]!=0&&(Tr[1]=0),Tr[2]!=0&&Tr[1]!=0&&(Tr[2]=0),Tr[3]!=0&&Tr[2]!=0&&(Tr[3]=0)),Ct<2?Vt[Ct]=Ni:Ni==0&&(Vt[0]=Vt[1]=0),st[Ct]=dt.tot_ener[Ct],ln=Dt,Jn=Tt,_e(Ie,La,Na,Jn,Ct&1,ln,Ct&1,Qe,Ct,Le,$e),yt(dt,La,Xt,Ia,Da),vt(dt,Ia,Da,Nr),rr=0;rr<3;rr++){var Cs,vn;for(fe(Ie,Na,Et,Yt,Ct,rr),nt(dt,Et,Yt,Ct,rr),Nt=0;Nt<j.SBMAX_s;Nt++){if(vn=dt.thm[Ct].s[Nt][rr],vn*=Me,Tr[rr]>=2||Tr[rr+1]==1){var Ms=rr!=0?rr-1:2,Jr=bt(dt.thm[Ct].s[Nt][Ms],vn,Te*Er);vn=Math.min(vn,Jr)}if(Tr[rr]==1){var Ms=rr!=0?rr-1:2,Jr=bt(dt.thm[Ct].s[Nt][Ms],vn,B*Er);vn=Math.min(vn,Jr)}else if(rr!=0&&Tr[rr-1]==3||rr==0&&dt.nsPsy.lastAttacks[Ct]==3){var Ms=rr!=2?rr+1:0,Jr=bt(dt.thm[Ct].s[Nt][Ms],vn,B*Er);vn=Math.min(vn,Jr)}Cs=un[rr*3+3]+un[rr*3+4]+un[rr*3+5],un[rr*3+5]*6<Cs&&(vn*=.5,un[rr*3+4]*6<Cs&&(vn*=.5)),dt.thm[Ct].s[Nt][rr]=vn}}for(dt.nsPsy.lastAttacks[Ct]=Tr[2],Sr=0,Gt=0;Gt<dt.npart_l;Gt++){for(var Rn=dt.s3ind[Gt][0],co=Xt[Rn]*me[Nr[Rn]],Ht=dt.s3_ll[Sr++]*co;++Rn<=dt.s3ind[Gt][1];)co=Xt[Rn]*me[Nr[Rn]],Ht=ne(Ht,dt.s3_ll[Sr++]*co,Rn,Rn-Gt,dt,0);Ht*=.158489319246111,dt.blocktype_old[Ct&1]==j.SHORT_TYPE?Yt[Gt]=Ht:Yt[Gt]=bt(Math.min(Ht,Math.min(Pe*dt.nb_1[Ct][Gt],We*dt.nb_2[Ct][Gt])),Ht,Er),dt.nb_2[Ct][Gt]=dt.nb_1[Ct][Gt],dt.nb_1[Ct][Gt]=Ht}for(;Gt<=j.CBANDS;++Gt)Xt[Gt]=0,Yt[Gt]=0;K(dt,Xt,Yt,Ct)}if((Ie.mode==m.STEREO||Ie.mode==m.JOINT_STEREO)&&Ie.interChRatio>0&&Ve(Ie,Ie.interChRatio),Ie.mode==m.JOINT_STEREO){var Fa;et(dt),Fa=Ie.msfix,Math.abs(Fa)>0&&Ye(dt,Fa,Ie.ATHlower*dt.ATH.adjust)}for(mt(Ie,Vt,xt,_t),Ct=0;Ct<or;Ct++){var As,ho=0,Vi,Gi;Ct>1?(As=pt,ho=-2,Vi=j.NORM_TYPE,(xt[0]==j.SHORT_TYPE||xt[1]==j.SHORT_TYPE)&&(Vi=j.SHORT_TYPE),Gi=Xe[Qe][Ct-2]):(As=lt,ho=0,Vi=xt[Ct],Gi=at[Qe][Ct]),Vi==j.SHORT_TYPE?As[ho+Ct]=Ut(Gi,dt.masking_lower):As[ho+Ct]=ke(Gi,dt.masking_lower),Ie.analysis&&(dt.pinfo.pe[Qe][Ct]=As[ho+Ct])}return 0};function qt(Ie,Le,$e,Qe,at,Xe,lt,pt){var st=Ie.internal_flags;if(Qe<2)ie.fft_long(st,lt[pt],Qe,Le,$e);else if(Qe==2)for(var xt=j.BLKSIZE-1;xt>=0;--xt){var dt=lt[pt+0][xt],Tt=lt[pt+1][xt];lt[pt+0][xt]=(dt+Tt)*y.SQRT2*.5,lt[pt+1][xt]=(dt-Tt)*y.SQRT2*.5}Xe[0]=lt[pt+0][0],Xe[0]*=Xe[0];for(var xt=j.BLKSIZE/2-1;xt>=0;--xt){var Dt=lt[pt+0][j.BLKSIZE/2-xt],Xt=lt[pt+0][j.BLKSIZE/2+xt];Xe[j.BLKSIZE/2-xt]=(Dt*Dt+Xt*Xt)*.5}{for(var Et=0,xt=11;xt<j.HBLKSIZE;xt++)Et+=Xe[xt];st.tot_ener[Qe]=Et}if(Ie.analysis){for(var xt=0;xt<j.HBLKSIZE;xt++)st.pinfo.energy[at][Qe][xt]=st.pinfo.energy_save[Qe][xt],st.pinfo.energy_save[Qe][xt]=Xe[xt];st.pinfo.pe[at][Qe]=st.pe[Qe]}}function wt(Ie,Le,$e,Qe,at,Xe,lt,pt){var st=Ie.internal_flags;if(at==0&&Qe<2&&ie.fft_short(st,lt[pt],Qe,Le,$e),Qe==2)for(var xt=j.BLKSIZE_s-1;xt>=0;--xt){var dt=lt[pt+0][at][xt],Tt=lt[pt+1][at][xt];lt[pt+0][at][xt]=(dt+Tt)*y.SQRT2*.5,lt[pt+1][at][xt]=(dt-Tt)*y.SQRT2*.5}Xe[at][0]=lt[pt+0][at][0],Xe[at][0]*=Xe[at][0];for(var xt=j.BLKSIZE_s/2-1;xt>=0;--xt){var Dt=lt[pt+0][at][j.BLKSIZE_s/2-xt],Xt=lt[pt+0][at][j.BLKSIZE_s/2+xt];Xe[at][j.BLKSIZE_s/2-xt]=(Dt*Dt+Xt*Xt)*.5}}function Wt(Ie,Le,$e,Qe){var at=Ie.internal_flags;Ie.athaa_loudapprox==2&&$e<2&&(at.loudness_sq[Le][$e]=at.loudness_sq_save[$e],at.loudness_sq_save[$e]=ve(Qe,at))}var At=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function Qt(Ie,Le,$e,Qe,at,Xe,lt,pt,st,xt){for(var dt=p([2,576]),Tt=Ie.internal_flags,Dt=Tt.channels_out,Xt=Ie.mode==m.JOINT_STEREO?4:Dt,Et=0;Et<Dt;Et++){firbuf=Le[Et];for(var Yt=$e+576-350-L+192,_t=0;_t<576;_t++){var Vt,or;Vt=firbuf[Yt+_t+10],or=0;for(var Ct=0;Ct<(L-1)/2-1;Ct+=2)Vt+=At[Ct]*(firbuf[Yt+_t+Ct]+firbuf[Yt+_t+L-Ct]),or+=At[Ct+1]*(firbuf[Yt+_t+Ct+1]+firbuf[Yt+_t+L-Ct-1]);dt[Et][_t]=Vt+or}at[Qe][Et].en.assign(Tt.en[Et]),at[Qe][Et].thm.assign(Tt.thm[Et]),Xt>2&&(Xe[Qe][Et].en.assign(Tt.en[Et+2]),Xe[Qe][Et].thm.assign(Tt.thm[Et+2]))}for(var Et=0;Et<Xt;Et++){var Gt=t(12),Mt=t(12),$t=[0,0,0,0],Sr=dt[Et&1],Nt=0,rr=Et==3?Tt.nsPsy.attackthre_s:Tt.nsPsy.attackthre,lr=1;if(Et==2)for(var _t=0,Ct=576;Ct>0;++_t,--Ct){var Er=dt[0][_t],Nr=dt[1][_t];dt[0][_t]=Er+Nr,dt[1][_t]=Er-Nr}for(var _t=0;_t<3;_t++)Mt[_t]=Tt.nsPsy.last_en_subshort[Et][_t+6],Gt[_t]=Mt[_t]/Tt.nsPsy.last_en_subshort[Et][_t+4],$t[0]+=Mt[_t];for(var _t=0;_t<9;_t++){for(var yr=Nt+64,vr=1;Nt<yr;Nt++)vr<Math.abs(Sr[Nt])&&(vr=Math.abs(Sr[Nt]));Tt.nsPsy.last_en_subshort[Et][_t]=Mt[_t+3]=vr,$t[1+_t/3]+=vr,vr>Mt[_t+3-2]?vr=vr/Mt[_t+3-2]:Mt[_t+3-2]>vr*10?vr=Mt[_t+3-2]/(vr*10):vr=0,Gt[_t+3]=vr}for(var _t=0;_t<3;++_t){var an=Mt[_t*3+3]+Mt[_t*3+4]+Mt[_t*3+5],Gr=1;Mt[_t*3+5]*6<an&&(Gr*=.5,Mt[_t*3+4]*6<an&&(Gr*=.5)),pt[Et][_t]=Gr}if(Ie.analysis){for(var pn=Gt[0],_t=1;_t<12;_t++)pn<Gt[_t]&&(pn=Gt[_t]);Tt.pinfo.ers[Qe][Et]=Tt.pinfo.ers_save[Et],Tt.pinfo.ers_save[Et]=pn}for(var _t=0;_t<12;_t++)st[Et][_t/3]==0&&Gt[_t]>rr&&(st[Et][_t/3]=_t%3+1);for(var _t=1;_t<4;_t++){var Jn=$t[_t-1],ln=$t[_t],un=Math.max(Jn,ln);un<4e4&&Jn<1.7*ln&&ln<1.7*Jn&&(_t==1&&st[Et][0]<=st[Et][_t]&&(st[Et][0]=0),st[Et][_t]=0)}st[Et][0]<=Tt.nsPsy.lastAttacks[Et]&&(st[Et][0]=0),(Tt.nsPsy.lastAttacks[Et]==3||st[Et][0]+st[Et][1]+st[Et][2]+st[Et][3]!=0)&&(lr=0,st[Et][1]!=0&&st[Et][0]!=0&&(st[Et][1]=0),st[Et][2]!=0&&st[Et][1]!=0&&(st[Et][2]=0),st[Et][3]!=0&&st[Et][2]!=0&&(st[Et][3]=0)),Et<2?xt[Et]=lr:lr==0&&(xt[0]=xt[1]=0),lt[Et]=Tt.tot_ener[Et]}}function kt(Ie,Le,$e){if($e==0)for(var Qe=0;Qe<Ie.npart_s;Qe++)Ie.nb_s2[Le][Qe]=Ie.nb_s1[Le][Qe],Ie.nb_s1[Le][Qe]=0}function cr(Ie,Le){for(var $e=0;$e<Ie.npart_l;$e++)Ie.nb_2[Le][$e]=Ie.nb_1[Le][$e],Ie.nb_1[Le][$e]=0}function gr(Ie,Le,$e,Qe){var at=me.length-1,Xe=0,lt=$e[Xe]+$e[Xe+1];if(lt>0){var pt=Le[Xe];pt<Le[Xe+1]&&(pt=Le[Xe+1]),lt=20*(pt*2-lt)/(lt*(Ie.numlines_s[Xe]+Ie.numlines_s[Xe+1]-1));var st=0|lt;st>at&&(st=at),Qe[Xe]=st}else Qe[Xe]=0;for(Xe=1;Xe<Ie.npart_s-1;Xe++)if(lt=$e[Xe-1]+$e[Xe]+$e[Xe+1],lt>0){var pt=Le[Xe-1];pt<Le[Xe]&&(pt=Le[Xe]),pt<Le[Xe+1]&&(pt=Le[Xe+1]),lt=20*(pt*3-lt)/(lt*(Ie.numlines_s[Xe-1]+Ie.numlines_s[Xe]+Ie.numlines_s[Xe+1]-1));var st=0|lt;st>at&&(st=at),Qe[Xe]=st}else Qe[Xe]=0;if(lt=$e[Xe-1]+$e[Xe],lt>0){var pt=Le[Xe-1];pt<Le[Xe]&&(pt=Le[Xe]),lt=20*(pt*2-lt)/(lt*(Ie.numlines_s[Xe-1]+Ie.numlines_s[Xe]-1));var st=0|lt;st>at&&(st=at),Qe[Xe]=st}else Qe[Xe]=0}function fr(Ie,Le,$e,Qe,at,Xe){var lt=Ie.internal_flags,pt=new float[j.CBANDS],st=t(j.CBANDS),xt,dt,Tt,Dt=new int[j.CBANDS];for(Tt=dt=0;Tt<lt.npart_s;++Tt){var Xt=0,Et=0,Yt=lt.numlines_s[Tt];for(xt=0;xt<Yt;++xt,++dt){var _t=Le[Xe][dt];Xt+=_t,Et<_t&&(Et=_t)}$e[Tt]=Xt,pt[Tt]=Et,st[Tt]=Xt/Yt}for(;Tt<j.CBANDS;++Tt)pt[Tt]=0,st[Tt]=0;for(gr(lt,pt,st,Dt),dt=Tt=0;Tt<lt.npart_s;Tt++){var Vt=lt.s3ind_s[Tt][0],or=lt.s3ind_s[Tt][1],Ct,Gt,Mt,$t,Sr;for(Ct=Dt[Vt],Gt=1,$t=lt.s3_ss[dt]*$e[Vt]*me[Dt[Vt]],++dt,++Vt;Vt<=or;)Ct+=Dt[Vt],Gt+=1,Mt=lt.s3_ss[dt]*$e[Vt]*me[Dt[Vt]],$t=be($t,Mt,Vt-Tt),++dt,++Vt;Ct=(1+2*Ct)/(2*Gt),Sr=me[Ct]*.5,$t*=Sr,Qe[Tt]=$t,lt.nb_s2[at][Tt]=lt.nb_s1[at][Tt],lt.nb_s1[at][Tt]=$t,Mt=pt[Tt],Mt*=lt.minval_s[Tt],Mt*=Sr,Qe[Tt]>Mt&&(Qe[Tt]=Mt),lt.masking_lower>1&&(Qe[Tt]*=lt.masking_lower),Qe[Tt]>$e[Tt]&&(Qe[Tt]=$e[Tt]),lt.masking_lower<1&&(Qe[Tt]*=lt.masking_lower)}for(;Tt<j.CBANDS;++Tt)$e[Tt]=0,Qe[Tt]=0}function pr(Ie,Le,$e,Qe,at){var Xe=t(j.CBANDS),lt=t(j.CBANDS),pt=o(j.CBANDS+2),st;yt(Ie,Le,$e,Xe,lt),vt(Ie,Xe,lt,pt);var xt=0;for(st=0;st<Ie.npart_l;st++){var dt,Tt,Dt,Xt,Et=Ie.s3ind[st][0],Yt=Ie.s3ind[st][1],_t=0,Vt=0;for(_t=pt[Et],Vt+=1,Tt=Ie.s3_ll[xt]*$e[Et]*me[pt[Et]],++xt,++Et;Et<=Yt;)_t+=pt[Et],Vt+=1,dt=Ie.s3_ll[xt]*$e[Et]*me[pt[Et]],Xt=be(Tt,dt,Et-st),Tt=Xt,++xt,++Et;if(_t=(1+2*_t)/(2*Vt),Dt=me[_t]*.5,Tt*=Dt,Ie.blocktype_old[at&1]==j.SHORT_TYPE){var or=Pe*Ie.nb_1[at][st];or>0?Qe[st]=Math.min(Tt,or):Qe[st]=Math.min(Tt,$e[st]*B)}else{var Ct=We*Ie.nb_2[at][st],Gt=Pe*Ie.nb_1[at][st],or;Ct<=0&&(Ct=Tt),Gt<=0&&(Gt=Tt),Ie.blocktype_old[at&1]==j.NORM_TYPE?or=Math.min(Gt,Ct):or=Gt,Qe[st]=Math.min(Tt,or)}Ie.nb_2[at][st]=Ie.nb_1[at][st],Ie.nb_1[at][st]=Tt,dt=Xe[st],dt*=Ie.minval_l[st],dt*=Dt,Qe[st]>dt&&(Qe[st]=dt),Ie.masking_lower>1&&(Qe[st]*=Ie.masking_lower),Qe[st]>$e[st]&&(Qe[st]=$e[st]),Ie.masking_lower<1&&(Qe[st]*=Ie.masking_lower)}for(;st<j.CBANDS;++st)$e[st]=0,Qe[st]=0}function qr(Ie,Le){var $e=Ie.internal_flags;Ie.short_blocks==u.short_block_coupled&&!(Le[0]!=0&&Le[1]!=0)&&(Le[0]=Le[1]=0);for(var Qe=0;Qe<$e.channels_out;Qe++)Ie.short_blocks==u.short_block_dispensed&&(Le[Qe]=1),Ie.short_blocks==u.short_block_forced&&(Le[Qe]=0)}function Qr(Ie,Le,$e){for(var Qe=Ie.internal_flags,at=0;at<Qe.channels_out;at++){var Xe=j.NORM_TYPE;Le[at]!=0?Qe.blocktype_old[at]==j.SHORT_TYPE&&(Xe=j.STOP_TYPE):(Xe=j.SHORT_TYPE,Qe.blocktype_old[at]==j.NORM_TYPE&&(Qe.blocktype_old[at]=j.START_TYPE),Qe.blocktype_old[at]==j.STOP_TYPE&&(Qe.blocktype_old[at]=j.SHORT_TYPE)),$e[at]=Qe.blocktype_old[at],Qe.blocktype_old[at]=Xe}}function fn(Ie,Le,$e,Qe,at,Xe,lt){for(var pt=Xe*2,st=Xe>0?Math.pow(10,at):1,xt,dt,Tt=0;Tt<lt;++Tt){var Dt=Ie[2][Tt],Xt=Ie[3][Tt],Et=Le[0][Tt],Yt=Le[1][Tt],_t=Le[2][Tt],Vt=Le[3][Tt];if(Et<=1.58*Yt&&Yt<=1.58*Et){var or=$e[Tt]*Xt,Ct=$e[Tt]*Dt;dt=Math.max(_t,Math.min(Vt,or)),xt=Math.max(Vt,Math.min(_t,Ct))}else dt=_t,xt=Vt;if(Xe>0){var Gt,Mt,$t=Qe[Tt]*st;if(Gt=Math.min(Math.max(Et,$t),Math.max(Yt,$t)),_t=Math.max(dt,$t),Vt=Math.max(xt,$t),Mt=_t+Vt,Mt>0&&Gt*pt<Mt){var Sr=Gt*pt/Mt;_t*=Sr,Vt*=Sr}dt=Math.min(_t,dt),xt=Math.min(Vt,xt)}dt>Dt&&(dt=Dt),xt>Xt&&(xt=Xt),Le[2][Tt]=dt,Le[3][Tt]=xt}}this.L3psycho_anal_vbr=function(Ie,Le,$e,Qe,at,Xe,lt,pt,st,xt){var dt=Ie.internal_flags,Tt,Dt,Xt=t(j.HBLKSIZE),Et=p([3,j.HBLKSIZE_s]),Yt=p([2,j.BLKSIZE]),_t=p([2,3,j.BLKSIZE_s]),Vt=p([4,j.CBANDS]),or=p([4,j.CBANDS]),Ct=p([4,3]),Gt=.6,Mt=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],$t=o(2),Sr=Ie.mode==m.JOINT_STEREO?4:dt.channels_out;Qt(Ie,Le,$e,Qe,at,Xe,st,Ct,Mt,$t),qr(Ie,$t);{for(var Nt=0;Nt<Sr;Nt++){var rr=Nt&1;Tt=Yt,qt(Ie,Le,$e,Nt,Qe,Xt,Tt,rr),Wt(Ie,Qe,Nt,Xt),$t[rr]!=0?pr(dt,Xt,Vt[Nt],or[Nt],Nt):cr(dt,Nt)}$t[0]+$t[1]==2&&Ie.mode==m.JOINT_STEREO&&fn(Vt,or,dt.mld_cb_l,dt.ATH.cb_l,Ie.ATHlower*dt.ATH.adjust,Ie.msfix,dt.npart_l);for(var Nt=0;Nt<Sr;Nt++){var rr=Nt&1;$t[rr]!=0&&K(dt,Vt[Nt],or[Nt],Nt)}}{for(var lr=0;lr<3;lr++){for(var Nt=0;Nt<Sr;++Nt){var rr=Nt&1;$t[rr]!=0?kt(dt,Nt,lr):(Dt=_t,wt(Ie,Le,$e,Nt,lr,Et,Dt,rr),fr(Ie,Et,Vt[Nt],or[Nt],Nt,lr))}$t[0]+$t[1]==0&&Ie.mode==m.JOINT_STEREO&&fn(Vt,or,dt.mld_cb_s,dt.ATH.cb_s,Ie.ATHlower*dt.ATH.adjust,Ie.msfix,dt.npart_s);for(var Nt=0;Nt<Sr;++Nt){var rr=Nt&1;$t[rr]==0&&nt(dt,Vt[Nt],or[Nt],Nt,lr)}}for(var Nt=0;Nt<Sr;Nt++){var rr=Nt&1;if($t[rr]==0)for(var Er=0;Er<j.SBMAX_s;Er++){for(var Nr=t(3),lr=0;lr<3;lr++){var yr=dt.thm[Nt].s[Er][lr];if(yr*=Me,Mt[Nt][lr]>=2||Mt[Nt][lr+1]==1){var vr=lr!=0?lr-1:2,an=bt(dt.thm[Nt].s[Er][vr],yr,Te*Gt);yr=Math.min(yr,an)}else if(Mt[Nt][lr]==1){var vr=lr!=0?lr-1:2,an=bt(dt.thm[Nt].s[Er][vr],yr,B*Gt);yr=Math.min(yr,an)}else if(lr!=0&&Mt[Nt][lr-1]==3||lr==0&&dt.nsPsy.lastAttacks[Nt]==3){var vr=lr!=2?lr+1:0,an=bt(dt.thm[Nt].s[Er][vr],yr,B*Gt);yr=Math.min(yr,an)}yr*=Ct[Nt][lr],Nr[lr]=yr}for(var lr=0;lr<3;lr++)dt.thm[Nt].s[Er][lr]=Nr[lr]}}}for(var Nt=0;Nt<Sr;Nt++)dt.nsPsy.lastAttacks[Nt]=Mt[Nt][2];Qr(Ie,$t,xt);for(var Nt=0;Nt<Sr;Nt++){var Gr,pn,Jn,ln;Nt>1?(Gr=pt,pn=-2,Jn=j.NORM_TYPE,(xt[0]==j.SHORT_TYPE||xt[1]==j.SHORT_TYPE)&&(Jn=j.SHORT_TYPE),ln=Xe[Qe][Nt-2]):(Gr=lt,pn=0,Jn=xt[Nt],ln=at[Qe][Nt]),Jn==j.SHORT_TYPE?Gr[pn+Nt]=Ut(ln,dt.masking_lower):Gr[pn+Nt]=ke(ln,dt.masking_lower),Ie.analysis&&(dt.pinfo.pe[Qe][Nt]=Gr[pn+Nt])}return 0};function mr(Ie,Le){var $e=Ie,Qe;return $e>=0?Qe=-$e*27:Qe=$e*Le,Qe<=-72?0:Math.exp(Qe*k)}function Vo(Ie){var Le=0,$e=0;{var Qe=0,at,Xe;for(Qe=0;mr(Qe,Ie)>1e-20;Qe-=1);for(at=Qe,Xe=0;Math.abs(Xe-at)>1e-12;)Qe=(Xe+at)/2,mr(Qe,Ie)>0?Xe=Qe:at=Qe;Le=at}{var Qe=0,at,Xe;for(Qe=0;mr(Qe,Ie)>1e-20;Qe+=1);for(at=0,Xe=Qe;Math.abs(Xe-at)>1e-12;)Qe=(Xe+at)/2,mr(Qe,Ie)>0?at=Qe:Xe=Qe;$e=Xe}{var lt=0,pt=1e3,st;for(st=0;st<=pt;++st){var Qe=Le+st*($e-Le)/pt,xt=mr(Qe,Ie);lt+=xt}{var dt=(pt+1)/(lt*($e-Le));return dt}}}function Kr(Ie){var Le,$e,Qe,at;return Le=Ie,Le>=0?Le*=3:Le*=1.5,Le>=.5&&Le<=2.5?(at=Le-.5,$e=8*(at*at-2*at)):$e=0,Le+=.474,Qe=15.811389+7.5*Le-17.5*Math.sqrt(1+Le*Le),Qe<=-60?0:(Le=Math.exp(($e+Qe)*k),Le/=.6609193,Le)}function sn(Ie){return Ie<0&&(Ie=0),Ie=Ie*.001,13*Math.atan(.76*Ie)+3.5*Math.atan(Ie*Ie/(7.5*7.5))}function To(Ie,Le,$e,Qe,at,Xe,lt,pt,st,xt,dt,Tt){var Dt=t(j.CBANDS+1),Xt=pt/(Tt>15?2*576:2*192),Et=o(j.HBLKSIZE),Yt;pt/=st;var _t=0,Vt=0;for(Yt=0;Yt<j.CBANDS;Yt++){var or,Ct;for(or=sn(pt*_t),Dt[Yt]=pt*_t,Ct=_t;sn(pt*Ct)-or<tt&&Ct<=st/2;Ct++);for(Ie[Yt]=Ct-_t,Vt=Yt+1;_t<Ct;)Et[_t++]=Yt;if(_t>st/2){_t=st/2,++Yt;break}}Dt[Yt]=pt*_t;for(var Gt=0;Gt<Tt;Gt++){var Mt,$t,Sr,Nt,rr;Sr=xt[Gt],Nt=xt[Gt+1],Mt=0|Math.floor(.5+dt*(Sr-.5)),Mt<0&&(Mt=0),$t=0|Math.floor(.5+dt*(Nt-.5)),$t>st/2&&($t=st/2),$e[Gt]=(Et[Mt]+Et[$t])/2,Le[Gt]=Et[$t];var lr=Xt*Nt;lt[Gt]=(lr-Dt[Le[Gt]])/(Dt[Le[Gt]+1]-Dt[Le[Gt]]),lt[Gt]<0?lt[Gt]=0:lt[Gt]>1&&(lt[Gt]=1),rr=sn(pt*xt[Gt]*dt),rr=Math.min(rr,15.5)/15.5,Xe[Gt]=Math.pow(10,1.25*(1-Math.cos(Math.PI*rr))-2.5)}_t=0;for(var Er=0;Er<Vt;Er++){var Nr=Ie[Er],or,yr;or=sn(pt*_t),yr=sn(pt*(_t+Nr-1)),Qe[Er]=.5*(or+yr),or=sn(pt*(_t-.5)),yr=sn(pt*(_t+Nr-.5)),at[Er]=yr-or,_t+=Nr}return Vt}function Ra(Ie,Le,$e,Qe,at,Xe){var lt=p([j.CBANDS,j.CBANDS]),pt,st=0;if(Xe)for(var xt=0;xt<Le;xt++)for(pt=0;pt<Le;pt++){var dt=Kr($e[xt]-$e[pt])*Qe[pt];lt[xt][pt]=dt*at[xt]}else for(pt=0;pt<Le;pt++)for(var Tt=15+Math.min(21/$e[pt],12),Dt=Vo(Tt),xt=0;xt<Le;xt++){var dt=Dt*mr($e[xt]-$e[pt],Tt)*Qe[pt];lt[xt][pt]=dt*at[xt]}for(var xt=0;xt<Le;xt++){for(pt=0;pt<Le&&!(lt[xt][pt]>0);pt++);for(Ie[xt][0]=pt,pt=Le-1;pt>0&&!(lt[xt][pt]>0);pt--);Ie[xt][1]=pt,st+=Ie[xt][1]-Ie[xt][0]+1}for(var Xt=t(st),Et=0,xt=0;xt<Le;xt++)for(pt=Ie[xt][0];pt<=Ie[xt][1];pt++)Xt[Et++]=lt[xt][pt];return Xt}function Oa(Ie){var Le=sn(Ie);return Le=Math.min(Le,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*Le))-2.5)}this.psymodel_init=function(Ie){var Le=Ie.internal_flags,$e,Qe=!0,at=13,Xe=24,lt=0,pt=0,st=-8.25,xt=-4.5,dt=t(j.CBANDS),Tt=t(j.CBANDS),Dt=t(j.CBANDS),Xt=Ie.out_samplerate;switch(Ie.experimentalZ){default:case 0:Qe=!0;break;case 1:Qe=!(Ie.VBR==i.vbr_mtrh||Ie.VBR==i.vbr_mt);break;case 2:Qe=!1;break;case 3:at=8,lt=-1.75,pt=-.0125,st=-8.25,xt=-2.25;break}for(Le.ms_ener_ratio_old=.25,Le.blocktype_old[0]=Le.blocktype_old[1]=j.NORM_TYPE,$e=0;$e<4;++$e){for(var _t=0;_t<j.CBANDS;++_t)Le.nb_1[$e][_t]=1e20,Le.nb_2[$e][_t]=1e20,Le.nb_s1[$e][_t]=Le.nb_s2[$e][_t]=1;for(var Et=0;Et<j.SBMAX_l;Et++)Le.en[$e].l[Et]=1e20,Le.thm[$e].l[Et]=1e20;for(var _t=0;_t<3;++_t){for(var Et=0;Et<j.SBMAX_s;Et++)Le.en[$e].s[Et][_t]=1e20,Le.thm[$e].s[Et][_t]=1e20;Le.nsPsy.lastAttacks[$e]=0}for(var _t=0;_t<9;_t++)Le.nsPsy.last_en_subshort[$e][_t]=10}for(Le.loudness_sq_save[0]=Le.loudness_sq_save[1]=0,Le.npart_l=To(Le.numlines_l,Le.bo_l,Le.bm_l,dt,Tt,Le.mld_l,Le.PSY.bo_l_weight,Xt,j.BLKSIZE,Le.scalefac_band.l,j.BLKSIZE/(2*576),j.SBMAX_l),$e=0;$e<Le.npart_l;$e++){var Yt=lt;dt[$e]>=at&&(Yt=pt*(dt[$e]-at)/(Xe-at)+lt*(Xe-dt[$e])/(Xe-at)),Dt[$e]=Math.pow(10,Yt/10),Le.numlines_l[$e]>0?Le.rnumlines_l[$e]=1/Le.numlines_l[$e]:Le.rnumlines_l[$e]=0}Le.s3_ll=Ra(Le.s3ind,Le.npart_l,dt,Tt,Dt,Qe);var _t=0;for($e=0;$e<Le.npart_l;$e++){var Vt;Vt=l.MAX_VALUE;for(var or=0;or<Le.numlines_l[$e];or++,_t++){var Ct=Xt*_t/(1e3*j.BLKSIZE),Gt;Gt=this.ATHformula(Ct*1e3,Ie)-20,Gt=Math.pow(10,.1*Gt),Gt*=Le.numlines_l[$e],Vt>Gt&&(Vt=Gt)}Le.ATH.cb_l[$e]=Vt,Vt=-20+dt[$e]*20/10,Vt>6&&(Vt=100),Vt<-15&&(Vt=-15),Vt-=8,Le.minval_l[$e]=Math.pow(10,Vt/10)*Le.numlines_l[$e]}for(Le.npart_s=To(Le.numlines_s,Le.bo_s,Le.bm_s,dt,Tt,Le.mld_s,Le.PSY.bo_s_weight,Xt,j.BLKSIZE_s,Le.scalefac_band.s,j.BLKSIZE_s/(2*192),j.SBMAX_s),_t=0,$e=0;$e<Le.npart_s;$e++){var Vt,Yt=st;dt[$e]>=at&&(Yt=xt*(dt[$e]-at)/(Xe-at)+st*(Xe-dt[$e])/(Xe-at)),Dt[$e]=Math.pow(10,Yt/10),Vt=l.MAX_VALUE;for(var or=0;or<Le.numlines_s[$e];or++,_t++){var Ct=Xt*_t/(1e3*j.BLKSIZE_s),Gt;Gt=this.ATHformula(Ct*1e3,Ie)-20,Gt=Math.pow(10,.1*Gt),Gt*=Le.numlines_s[$e],Vt>Gt&&(Vt=Gt)}Le.ATH.cb_s[$e]=Vt,Vt=-7+dt[$e]*7/12,dt[$e]>12&&(Vt*=1+Math.log(1+Vt)*3.1),dt[$e]<12&&(Vt*=1+Math.log(1-Vt)*2.3),Vt<-15&&(Vt=-15),Vt-=8,Le.minval_s[$e]=Math.pow(10,Vt/10)*Le.numlines_s[$e]}Le.s3_ss=Ra(Le.s3ind_s,Le.npart_s,dt,Tt,Dt,Qe),$(),ie.init_fft(Le),Le.decay=Math.exp(-1*Be/(Fe*Xt/192));{var Mt;Mt=z,(Ie.exp_nspsytune&2)!=0&&(Mt=1),Math.abs(Ie.msfix)>0&&(Mt=Ie.msfix),Ie.msfix=Mt;for(var $t=0;$t<Le.npart_l;$t++)Le.s3ind[$t][1]>Le.npart_l-1&&(Le.s3ind[$t][1]=Le.npart_l-1)}var Sr=576*Le.mode_gr/Xt;if(Le.ATH.decay=Math.pow(10,-12/10*Sr),Le.ATH.adjust=.01,Le.ATH.adjustLimit=1,Ie.ATHtype!=-1){var Ct,Nt=Ie.out_samplerate/j.BLKSIZE,rr=0;for(Ct=0,$e=0;$e<j.BLKSIZE/2;++$e)Ct+=Nt,Le.ATH.eql_w[$e]=1/Math.pow(10,this.ATHformula(Ct,Ie)/10),rr+=Le.ATH.eql_w[$e];for(rr=1/rr,$e=j.BLKSIZE/2;--$e>=0;)Le.ATH.eql_w[$e]*=rr}{for(var $t=_t=0;$t<Le.npart_s;++$t)for($e=0;$e<Le.numlines_s[$t];++$e)++_t;for(var $t=_t=0;$t<Le.npart_l;++$t)for($e=0;$e<Le.numlines_l[$t];++$e)++_t}for(_t=0,$e=0;$e<Le.npart_l;$e++){var Ct=Xt*(_t+Le.numlines_l[$e]/2)/(1*j.BLKSIZE);Le.mld_cb_l[$e]=Oa(Ct),_t+=Le.numlines_l[$e]}for(;$e<j.CBANDS;++$e)Le.mld_cb_l[$e]=1;for(_t=0,$e=0;$e<Le.npart_s;$e++){var Ct=Xt*(_t+Le.numlines_s[$e]/2)/(1*j.BLKSIZE_s);Le.mld_cb_s[$e]=Oa(Ct),_t+=Le.numlines_s[$e]}for(;$e<j.CBANDS;++$e)Le.mld_cb_s[$e]=1;return 0};function os(Ie,Le){Ie<-.3&&(Ie=3410),Ie/=1e3,Ie=Math.max(.1,Ie);var $e=3.64*Math.pow(Ie,-.8)-6.8*Math.exp(-.6*Math.pow(Ie-3.4,2))+6*Math.exp(-.15*Math.pow(Ie-8.7,2))+(.6+.04*Le)*.001*Math.pow(Ie,4);return $e}this.ATHformula=function(Ie,Le){var $e;switch(Le.ATHtype){case 0:$e=os(Ie,9);break;case 1:$e=os(Ie,-1);break;case 2:$e=os(Ie,0);break;case 3:$e=os(Ie,1)+6;break;case 4:$e=os(Ie,Le.ATHcurve);break;default:$e=os(Ie,0);break}return $e}}function xe(){var ie=this,Be=128*1024;xe.V9=410,xe.V8=420,xe.V7=430,xe.V6=440,xe.V5=450,xe.V4=460,xe.V3=470,xe.V2=480,xe.V1=490,xe.V0=500,xe.R3MIX=1e3,xe.STANDARD=1001,xe.EXTREME=1002,xe.INSANE=1003,xe.STANDARD_FAST=1004,xe.EXTREME_FAST=1005,xe.MEDIUM=1006,xe.MEDIUM_FAST=1007;var Pe=16384+Be;xe.LAME_MAXMP3BUFFER=Pe;var We,Je,ze,tt,ct,Fe=new Ce,Me,Te,B;this.enc=new j,this.setModules=function(K,fe,mt,bt,Rt,Ut,Lt,ke,yt){We=K,Je=fe,ze=mt,tt=bt,ct=Rt,Me=Ut,Te=ke,B=yt,this.enc.setModules(Je,Fe,tt,Me)};function z(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=t(j.SBMAX_l),this.bo_s_weight=t(j.SBMAX_s)}function L(){this.lowerlimit=0}function k(K,fe){this.lowpass=fe}var ge=4294479419;function ve(K){var fe;return K.class_id=ge,fe=K.internal_flags=new Ee,K.mode=m.NOT_SET,K.original=1,K.in_samplerate=44100,K.num_channels=2,K.num_samples=-1,K.bWriteVbrTag=!0,K.quality=-1,K.short_blocks=null,fe.subblock_gain=-1,K.lowpassfreq=0,K.highpassfreq=0,K.lowpasswidth=-1,K.highpasswidth=-1,K.VBR=i.vbr_off,K.VBR_q=4,K.ATHcurve=-1,K.VBR_mean_bitrate_kbps=128,K.VBR_min_bitrate_kbps=0,K.VBR_max_bitrate_kbps=0,K.VBR_hard_min=0,fe.VBR_min_bitrate=1,fe.VBR_max_bitrate=13,K.quant_comp=-1,K.quant_comp_short=-1,K.msfix=-1,fe.resample_ratio=1,fe.OldValue[0]=180,fe.OldValue[1]=180,fe.CurrentStep[0]=4,fe.CurrentStep[1]=4,fe.masking_lower=1,fe.nsPsy.attackthre=-1,fe.nsPsy.attackthre_s=-1,K.scale=-1,K.athaa_type=-1,K.ATHtype=-1,K.athaa_loudapprox=-1,K.athaa_sensitivity=0,K.useTemporal=null,K.interChRatio=-1,fe.mf_samples_to_encode=j.ENCDELAY+j.POSTDELAY,K.encoder_padding=0,fe.mf_size=j.ENCDELAY-j.MDCTDELAY,K.findReplayGain=!1,K.decode_on_the_fly=!1,fe.decode_on_the_fly=!1,fe.findReplayGain=!1,fe.findPeakSample=!1,fe.RadioGain=0,fe.AudiophileGain=0,fe.noclipGainChange=0,fe.noclipScale=-1,K.preset=0,K.write_id3tag_automatic=!0,0}this.lame_init=function(){var K=new U;return ve(K),K.lame_allocated_gfp=1,K};function _e(K){return K>1?0:K<=0?1:Math.cos(Math.PI/2*K)}this.nearestBitrateFullIndex=function(K){var fe=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],mt=0,bt=0,Rt=0,Ut=0;Ut=fe[16],Rt=16,bt=fe[16],mt=16;for(var Lt=0;Lt<16;Lt++)if(Math.max(K,fe[Lt+1])!=K){Ut=fe[Lt+1],Rt=Lt+1,bt=fe[Lt],mt=Lt;break}return Ut-K>K-bt?mt:Rt};function H(K,fe){var mt=44100;return fe>=48e3?mt=48e3:fe>=44100?mt=44100:fe>=32e3?mt=32e3:fe>=24e3?mt=24e3:fe>=22050?mt=22050:fe>=16e3?mt=16e3:fe>=12e3?mt=12e3:fe>=11025?mt=11025:fe>=8e3&&(mt=8e3),K==-1?mt:(K<=15960&&(mt=44100),K<=15250&&(mt=32e3),K<=11220&&(mt=24e3),K<=9970&&(mt=22050),K<=7230&&(mt=16e3),K<=5420&&(mt=12e3),K<=4510&&(mt=11025),K<=3970&&(mt=8e3),fe<mt?fe>44100?48e3:fe>32e3?44100:fe>24e3?32e3:fe>22050?24e3:fe>16e3?22050:fe>12e3?16e3:fe>11025?12e3:fe>8e3?11025:8e3:mt)}function ye(K,fe){switch(K){case 44100:return fe.version=1,0;case 48e3:return fe.version=1,1;case 32e3:return fe.version=1,2;case 22050:return fe.version=0,0;case 24e3:return fe.version=0,1;case 16e3:return fe.version=0,2;case 11025:return fe.version=0,0;case 12e3:return fe.version=0,1;case 8e3:return fe.version=0,2;default:return fe.version=0,-1}}function je(K,fe,mt){mt<16e3&&(fe=2);for(var bt=E.bitrate_table[fe][1],Rt=2;Rt<=14;Rt++)E.bitrate_table[fe][Rt]>0&&Math.abs(E.bitrate_table[fe][Rt]-K)<Math.abs(bt-K)&&(bt=E.bitrate_table[fe][Rt]);return bt}function pe(K,fe,mt){mt<16e3&&(fe=2);for(var bt=0;bt<=14;bt++)if(E.bitrate_table[fe][bt]>0&&E.bitrate_table[fe][bt]==K)return bt;return-1}function Oe(K,fe){var mt=[new k(8,2e3),new k(16,3700),new k(24,3900),new k(32,5500),new k(40,7e3),new k(48,7500),new k(56,1e4),new k(64,11e3),new k(80,13500),new k(96,15100),new k(112,15600),new k(128,17e3),new k(160,17500),new k(192,18600),new k(224,19400),new k(256,19700),new k(320,20500)],bt=ie.nearestBitrateFullIndex(fe);K.lowerlimit=mt[bt].lowpass}function Y(K){var fe=K.internal_flags,mt=32,bt=-1;if(fe.lowpass1>0){for(var Rt=999,Ut=0;Ut<=31;Ut++){var Lt=Ut/31;Lt>=fe.lowpass2&&(mt=Math.min(mt,Ut)),fe.lowpass1<Lt&&Lt<fe.lowpass2&&(Rt=Math.min(Rt,Ut))}Rt==999?fe.lowpass1=(mt-.75)/31:fe.lowpass1=(Rt-.75)/31,fe.lowpass2=mt/31}if(fe.highpass2>0&&fe.highpass2<.9*(.75/31)&&(fe.highpass1=0,fe.highpass2=0,f.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),fe.highpass2>0){for(var ke=-1,Ut=0;Ut<=31;Ut++){var Lt=Ut/31;Lt<=fe.highpass1&&(bt=Math.max(bt,Ut)),fe.highpass1<Lt&&Lt<fe.highpass2&&(ke=Math.max(ke,Ut))}fe.highpass1=bt/31,ke==-1?fe.highpass2=(bt+.75)/31:fe.highpass2=(ke+.75)/31}for(var Ut=0;Ut<32;Ut++){var yt,vt,Lt=Ut/31;fe.highpass2>fe.highpass1?yt=_e((fe.highpass2-Lt)/(fe.highpass2-fe.highpass1+1e-20)):yt=1,fe.lowpass2>fe.lowpass1?vt=_e((Lt-fe.lowpass1)/(fe.lowpass2-fe.lowpass1+1e-20)):vt=1,fe.amp_filter[Ut]=yt*vt}}function me(K){var fe=K.internal_flags;switch(K.quality){default:case 9:fe.psymodel=0,fe.noise_shaping=0,fe.noise_shaping_amp=0,fe.noise_shaping_stop=0,fe.use_best_huffman=0,fe.full_outer_loop=0;break;case 8:K.quality=7;case 7:fe.psymodel=1,fe.noise_shaping=0,fe.noise_shaping_amp=0,fe.noise_shaping_stop=0,fe.use_best_huffman=0,fe.full_outer_loop=0;break;case 6:fe.psymodel=1,fe.noise_shaping==0&&(fe.noise_shaping=1),fe.noise_shaping_amp=0,fe.noise_shaping_stop=0,fe.subblock_gain==-1&&(fe.subblock_gain=1),fe.use_best_huffman=0,fe.full_outer_loop=0;break;case 5:fe.psymodel=1,fe.noise_shaping==0&&(fe.noise_shaping=1),fe.noise_shaping_amp=0,fe.noise_shaping_stop=0,fe.subblock_gain==-1&&(fe.subblock_gain=1),fe.use_best_huffman=0,fe.full_outer_loop=0;break;case 4:fe.psymodel=1,fe.noise_shaping==0&&(fe.noise_shaping=1),fe.noise_shaping_amp=0,fe.noise_shaping_stop=0,fe.subblock_gain==-1&&(fe.subblock_gain=1),fe.use_best_huffman=1,fe.full_outer_loop=0;break;case 3:fe.psymodel=1,fe.noise_shaping==0&&(fe.noise_shaping=1),fe.noise_shaping_amp=1,fe.noise_shaping_stop=1,fe.subblock_gain==-1&&(fe.subblock_gain=1),fe.use_best_huffman=1,fe.full_outer_loop=0;break;case 2:fe.psymodel=1,fe.noise_shaping==0&&(fe.noise_shaping=1),fe.substep_shaping==0&&(fe.substep_shaping=2),fe.noise_shaping_amp=1,fe.noise_shaping_stop=1,fe.subblock_gain==-1&&(fe.subblock_gain=1),fe.use_best_huffman=1,fe.full_outer_loop=0;break;case 1:fe.psymodel=1,fe.noise_shaping==0&&(fe.noise_shaping=1),fe.substep_shaping==0&&(fe.substep_shaping=2),fe.noise_shaping_amp=2,fe.noise_shaping_stop=1,fe.subblock_gain==-1&&(fe.subblock_gain=1),fe.use_best_huffman=1,fe.full_outer_loop=0;break;case 0:fe.psymodel=1,fe.noise_shaping==0&&(fe.noise_shaping=1),fe.substep_shaping==0&&(fe.substep_shaping=2),fe.noise_shaping_amp=2,fe.noise_shaping_stop=1,fe.subblock_gain==-1&&(fe.subblock_gain=1),fe.use_best_huffman=1,fe.full_outer_loop=0;break}}function $(K){var fe=K.internal_flags;K.frameNum=0,K.write_id3tag_automatic&&Te.id3tag_write_v2(K),fe.bitrate_stereoMode_Hist=c([16,4+1]),fe.bitrate_blockType_Hist=c([16,4+1+1]),fe.PeakSample=0,K.bWriteVbrTag&&Me.InitVbrTag(K)}this.lame_init_params=function(K){var fe=K.internal_flags;if(fe.Class_ID=0,fe.ATH==null&&(fe.ATH=new te),fe.PSY==null&&(fe.PSY=new z),fe.rgdata==null&&(fe.rgdata=new G),fe.channels_in=K.num_channels,fe.channels_in==1&&(K.mode=m.MONO),fe.channels_out=K.mode==m.MONO?1:2,fe.mode_ext=j.MPG_MD_MS_LR,K.mode==m.MONO&&(K.force_ms=!1),K.VBR==i.vbr_off&&K.VBR_mean_bitrate_kbps!=128&&K.brate==0&&(K.brate=K.VBR_mean_bitrate_kbps),K.VBR==i.vbr_off||K.VBR==i.vbr_mtrh||K.VBR==i.vbr_mt||(K.free_format=!1),K.VBR==i.vbr_off&&K.brate==0&&x.EQ(K.compression_ratio,0)&&(K.compression_ratio=11.025),K.VBR==i.vbr_off&&K.compression_ratio>0&&(K.out_samplerate==0&&(K.out_samplerate=map2MP3Frequency(int(.97*K.in_samplerate))),K.brate=0|K.out_samplerate*16*fe.channels_out/(1e3*K.compression_ratio),fe.samplerate_index=ye(K.out_samplerate,K),K.free_format||(K.brate=je(K.brate,K.version,K.out_samplerate))),K.out_samplerate!=0&&(K.out_samplerate<16e3?(K.VBR_mean_bitrate_kbps=Math.max(K.VBR_mean_bitrate_kbps,8),K.VBR_mean_bitrate_kbps=Math.min(K.VBR_mean_bitrate_kbps,64)):K.out_samplerate<32e3?(K.VBR_mean_bitrate_kbps=Math.max(K.VBR_mean_bitrate_kbps,8),K.VBR_mean_bitrate_kbps=Math.min(K.VBR_mean_bitrate_kbps,160)):(K.VBR_mean_bitrate_kbps=Math.max(K.VBR_mean_bitrate_kbps,32),K.VBR_mean_bitrate_kbps=Math.min(K.VBR_mean_bitrate_kbps,320))),K.lowpassfreq==0){var mt=16e3;switch(K.VBR){case i.vbr_off:{var bt=new L;Oe(bt,K.brate),mt=bt.lowerlimit;break}case i.vbr_abr:{var bt=new L;Oe(bt,K.VBR_mean_bitrate_kbps),mt=bt.lowerlimit;break}case i.vbr_rh:{var Rt=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=K.VBR_q&&K.VBR_q<=9){var Ut=Rt[K.VBR_q],Lt=Rt[K.VBR_q+1],ke=K.VBR_q_frac;mt=linear_int(Ut,Lt,ke)}else mt=19500;break}default:{var Rt=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=K.VBR_q&&K.VBR_q<=9){var Ut=Rt[K.VBR_q],Lt=Rt[K.VBR_q+1],ke=K.VBR_q_frac;mt=linear_int(Ut,Lt,ke)}else mt=19500}}K.mode==m.MONO&&(K.VBR==i.vbr_off||K.VBR==i.vbr_abr)&&(mt*=1.5),K.lowpassfreq=mt|0}if(K.out_samplerate==0&&(2*K.lowpassfreq>K.in_samplerate&&(K.lowpassfreq=K.in_samplerate/2),K.out_samplerate=H(K.lowpassfreq|0,K.in_samplerate)),K.lowpassfreq=Math.min(20500,K.lowpassfreq),K.lowpassfreq=Math.min(K.out_samplerate/2,K.lowpassfreq),K.VBR==i.vbr_off&&(K.compression_ratio=K.out_samplerate*16*fe.channels_out/(1e3*K.brate)),K.VBR==i.vbr_abr&&(K.compression_ratio=K.out_samplerate*16*fe.channels_out/(1e3*K.VBR_mean_bitrate_kbps)),K.bWriteVbrTag||(K.findReplayGain=!1,K.decode_on_the_fly=!1,fe.findPeakSample=!1),fe.findReplayGain=K.findReplayGain,fe.decode_on_the_fly=K.decode_on_the_fly,fe.decode_on_the_fly&&(fe.findPeakSample=!0),fe.findReplayGain&&We.InitGainAnalysis(fe.rgdata,K.out_samplerate)==v.INIT_GAIN_ANALYSIS_ERROR)return K.internal_flags=null,-6;switch(fe.decode_on_the_fly&&!K.decode_only&&(fe.hip!=null&&B.hip_decode_exit(fe.hip),fe.hip=B.hip_decode_init()),fe.mode_gr=K.out_samplerate<=24e3?1:2,K.framesize=576*fe.mode_gr,K.encoder_delay=j.ENCDELAY,fe.resample_ratio=K.in_samplerate/K.out_samplerate,K.VBR){case i.vbr_mt:case i.vbr_rh:case i.vbr_mtrh:{var yt=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];K.compression_ratio=yt[K.VBR_q]}break;case i.vbr_abr:K.compression_ratio=K.out_samplerate*16*fe.channels_out/(1e3*K.VBR_mean_bitrate_kbps);break;default:K.compression_ratio=K.out_samplerate*16*fe.channels_out/(1e3*K.brate);break}if(K.mode==m.NOT_SET&&(K.mode=m.JOINT_STEREO),K.highpassfreq>0?(fe.highpass1=2*K.highpassfreq,K.highpasswidth>=0?fe.highpass2=2*(K.highpassfreq+K.highpasswidth):fe.highpass2=(1+0)*2*K.highpassfreq,fe.highpass1/=K.out_samplerate,fe.highpass2/=K.out_samplerate):(fe.highpass1=0,fe.highpass2=0),K.lowpassfreq>0?(fe.lowpass2=2*K.lowpassfreq,K.lowpasswidth>=0?(fe.lowpass1=2*(K.lowpassfreq-K.lowpasswidth),fe.lowpass1<0&&(fe.lowpass1=0)):fe.lowpass1=(1-0)*2*K.lowpassfreq,fe.lowpass1/=K.out_samplerate,fe.lowpass2/=K.out_samplerate):(fe.lowpass1=0,fe.lowpass2=0),Y(K),fe.samplerate_index=ye(K.out_samplerate,K),fe.samplerate_index<0)return K.internal_flags=null,-1;if(K.VBR==i.vbr_off){if(K.free_format)fe.bitrate_index=0;else if(K.brate=je(K.brate,K.version,K.out_samplerate),fe.bitrate_index=pe(K.brate,K.version,K.out_samplerate),fe.bitrate_index<=0)return K.internal_flags=null,-1}else fe.bitrate_index=1;K.analysis&&(K.bWriteVbrTag=!1),fe.pinfo!=null&&(K.bWriteVbrTag=!1),Je.init_bit_stream_w(fe);for(var vt=fe.samplerate_index+3*K.version+6*(K.out_samplerate<16e3?1:0),rt=0;rt<j.SBMAX_l+1;rt++)fe.scalefac_band.l[rt]=tt.sfBandIndex[vt].l[rt];for(var rt=0;rt<j.PSFB21+1;rt++){var qt=(fe.scalefac_band.l[22]-fe.scalefac_band.l[21])/j.PSFB21,wt=fe.scalefac_band.l[21]+rt*qt;fe.scalefac_band.psfb21[rt]=wt}fe.scalefac_band.psfb21[j.PSFB21]=576;for(var rt=0;rt<j.SBMAX_s+1;rt++)fe.scalefac_band.s[rt]=tt.sfBandIndex[vt].s[rt];for(var rt=0;rt<j.PSFB12+1;rt++){var qt=(fe.scalefac_band.s[13]-fe.scalefac_band.s[12])/j.PSFB12,wt=fe.scalefac_band.s[12]+rt*qt;fe.scalefac_band.psfb12[rt]=wt}fe.scalefac_band.psfb12[j.PSFB12]=192,K.version==1?fe.sideinfo_len=fe.channels_out==1?4+17:4+32:fe.sideinfo_len=fe.channels_out==1?4+9:4+17,K.error_protection&&(fe.sideinfo_len+=2),$(K),fe.Class_ID=ge;{var Wt;for(Wt=0;Wt<19;Wt++)fe.nsPsy.pefirbuf[Wt]=700*fe.mode_gr*fe.channels_out;K.ATHtype==-1&&(K.ATHtype=4)}switch(K.VBR){case i.vbr_mt:K.VBR=i.vbr_mtrh;case i.vbr_mtrh:{K.useTemporal==null&&(K.useTemporal=!1),ze.apply_preset(K,500-K.VBR_q*10,0),K.quality<0&&(K.quality=LAME_DEFAULT_QUALITY),K.quality<5&&(K.quality=0),K.quality>5&&(K.quality=5),fe.PSY.mask_adjust=K.maskingadjust,fe.PSY.mask_adjust_short=K.maskingadjust_short,K.experimentalY?fe.sfb21_extra=!1:fe.sfb21_extra=K.out_samplerate>44e3,fe.iteration_loop=new VBRNewIterationLoop(ct);break}case i.vbr_rh:{ze.apply_preset(K,500-K.VBR_q*10,0),fe.PSY.mask_adjust=K.maskingadjust,fe.PSY.mask_adjust_short=K.maskingadjust_short,K.experimentalY?fe.sfb21_extra=!1:fe.sfb21_extra=K.out_samplerate>44e3,K.quality>6&&(K.quality=6),K.quality<0&&(K.quality=LAME_DEFAULT_QUALITY),fe.iteration_loop=new VBROldIterationLoop(ct);break}default:{var At;fe.sfb21_extra=!1,K.quality<0&&(K.quality=LAME_DEFAULT_QUALITY),At=K.VBR,At==i.vbr_off&&(K.VBR_mean_bitrate_kbps=K.brate),ze.apply_preset(K,K.VBR_mean_bitrate_kbps,0),K.VBR=At,fe.PSY.mask_adjust=K.maskingadjust,fe.PSY.mask_adjust_short=K.maskingadjust_short,At==i.vbr_off?fe.iteration_loop=new W(ct):fe.iteration_loop=new ABRIterationLoop(ct);break}}if(K.VBR!=i.vbr_off){if(fe.VBR_min_bitrate=1,fe.VBR_max_bitrate=14,K.out_samplerate<16e3&&(fe.VBR_max_bitrate=8),K.VBR_min_bitrate_kbps!=0&&(K.VBR_min_bitrate_kbps=je(K.VBR_min_bitrate_kbps,K.version,K.out_samplerate),fe.VBR_min_bitrate=pe(K.VBR_min_bitrate_kbps,K.version,K.out_samplerate),fe.VBR_min_bitrate<0)||K.VBR_max_bitrate_kbps!=0&&(K.VBR_max_bitrate_kbps=je(K.VBR_max_bitrate_kbps,K.version,K.out_samplerate),fe.VBR_max_bitrate=pe(K.VBR_max_bitrate_kbps,K.version,K.out_samplerate),fe.VBR_max_bitrate<0))return-1;K.VBR_min_bitrate_kbps=E.bitrate_table[K.version][fe.VBR_min_bitrate],K.VBR_max_bitrate_kbps=E.bitrate_table[K.version][fe.VBR_max_bitrate],K.VBR_mean_bitrate_kbps=Math.min(E.bitrate_table[K.version][fe.VBR_max_bitrate],K.VBR_mean_bitrate_kbps),K.VBR_mean_bitrate_kbps=Math.max(E.bitrate_table[K.version][fe.VBR_min_bitrate],K.VBR_mean_bitrate_kbps)}return K.tune&&(fe.PSY.mask_adjust+=K.tune_value_a,fe.PSY.mask_adjust_short+=K.tune_value_a),me(K),K.athaa_type<0?fe.ATH.useAdjust=3:fe.ATH.useAdjust=K.athaa_type,fe.ATH.aaSensitivityP=Math.pow(10,K.athaa_sensitivity/-10),K.short_blocks==null&&(K.short_blocks=u.short_block_allowed),K.short_blocks==u.short_block_allowed&&(K.mode==m.JOINT_STEREO||K.mode==m.STEREO)&&(K.short_blocks=u.short_block_coupled),K.quant_comp<0&&(K.quant_comp=1),K.quant_comp_short<0&&(K.quant_comp_short=0),K.msfix<0&&(K.msfix=0),K.exp_nspsytune=K.exp_nspsytune|1,K.internal_flags.nsPsy.attackthre<0&&(K.internal_flags.nsPsy.attackthre=Ce.NSATTACKTHRE),K.internal_flags.nsPsy.attackthre_s<0&&(K.internal_flags.nsPsy.attackthre_s=Ce.NSATTACKTHRE_S),K.scale<0&&(K.scale=1),K.ATHtype<0&&(K.ATHtype=4),K.ATHcurve<0&&(K.ATHcurve=4),K.athaa_loudapprox<0&&(K.athaa_loudapprox=2),K.interChRatio<0&&(K.interChRatio=0),K.useTemporal==null&&(K.useTemporal=!0),fe.slot_lag=fe.frac_SpF=0,K.VBR==i.vbr_off&&(fe.slot_lag=fe.frac_SpF=(K.version+1)*72e3*K.brate%K.out_samplerate|0),tt.iteration_init(K),Fe.psymodel_init(K),0};function X(K,fe){(K.in_buffer_0==null||K.in_buffer_nsamples<fe)&&(K.in_buffer_0=t(fe),K.in_buffer_1=t(fe),K.in_buffer_nsamples=fe)}this.lame_encode_flush=function(K,fe,mt,bt){var Rt=K.internal_flags,Ut=a([2,1152]),Lt=0,ke,yt,vt,rt,qt=Rt.mf_samples_to_encode-j.POSTDELAY,wt=re(K);if(Rt.mf_samples_to_encode<1)return 0;for(ke=0,K.in_samplerate!=K.out_samplerate&&(qt+=16*K.out_samplerate/K.in_samplerate),vt=K.framesize-qt%K.framesize,vt<576&&(vt+=K.framesize),K.encoder_padding=vt,rt=(qt+vt)/K.framesize;rt>0&&Lt>=0;){var Wt=wt-Rt.mf_size,At=K.frameNum;Wt*=K.in_samplerate,Wt/=K.out_samplerate,Wt>1152&&(Wt=1152),Wt<1&&(Wt=1),yt=bt-ke,bt==0&&(yt=0),Lt=this.lame_encode_buffer(K,Ut[0],Ut[1],Wt,fe,mt,yt),mt+=Lt,ke+=Lt,rt-=At!=K.frameNum?1:0}if(Rt.mf_samples_to_encode=0,Lt<0||(yt=bt-ke,bt==0&&(yt=0),Je.flush_bitstream(K),Lt=Je.copy_buffer(Rt,fe,mt,yt,1),Lt<0))return Lt;if(mt+=Lt,ke+=Lt,yt=bt-ke,bt==0&&(yt=0),K.write_id3tag_automatic){if(Te.id3tag_write_v1(K),Lt=Je.copy_buffer(Rt,fe,mt,yt,0),Lt<0)return Lt;ke+=Lt}return ke},this.lame_encode_buffer=function(K,fe,mt,bt,Rt,Ut,Lt){var ke=K.internal_flags,yt=[null,null];if(ke.Class_ID!=ge)return-3;if(bt==0)return 0;X(ke,bt),yt[0]=ke.in_buffer_0,yt[1]=ke.in_buffer_1;for(var vt=0;vt<bt;vt++)yt[0][vt]=fe[vt],ke.channels_in>1&&(yt[1][vt]=mt[vt]);return he(K,yt[0],yt[1],bt,Rt,Ut,Lt)};function re(K){var fe=j.BLKSIZE+K.framesize-j.FFTOFFSET;return fe=Math.max(fe,512+K.framesize-32),fe}function he(K,fe,mt,bt,Rt,Ut,Lt){var ke=K.internal_flags,yt=0,vt,rt,qt,wt,Wt,At=[null,null],Qt=[null,null];if(ke.Class_ID!=ge)return-3;if(bt==0)return 0;if(Wt=Je.copy_buffer(ke,Rt,Ut,Lt,0),Wt<0)return Wt;if(Ut+=Wt,yt+=Wt,Qt[0]=fe,Qt[1]=mt,x.NEQ(K.scale,0)&&x.NEQ(K.scale,1))for(rt=0;rt<bt;++rt)Qt[0][rt]*=K.scale,ke.channels_out==2&&(Qt[1][rt]*=K.scale);if(x.NEQ(K.scale_left,0)&&x.NEQ(K.scale_left,1))for(rt=0;rt<bt;++rt)Qt[0][rt]*=K.scale_left;if(x.NEQ(K.scale_right,0)&&x.NEQ(K.scale_right,1))for(rt=0;rt<bt;++rt)Qt[1][rt]*=K.scale_right;if(K.num_channels==2&&ke.channels_out==1)for(rt=0;rt<bt;++rt)Qt[0][rt]=.5*(Qt[0][rt]+Qt[1][rt]),Qt[1][rt]=0;wt=re(K),At[0]=ke.mfbuf[0],At[1]=ke.mfbuf[1];for(var kt=0;bt>0;){var cr=[null,null],gr=0,fr=0;cr[0]=Qt[0],cr[1]=Qt[1];var pr=new ce;if(nt(K,At,cr,kt,bt,pr),gr=pr.n_in,fr=pr.n_out,ke.findReplayGain&&!ke.decode_on_the_fly&&We.AnalyzeSamples(ke.rgdata,At[0],ke.mf_size,At[1],ke.mf_size,fr,ke.channels_out)==v.GAIN_ANALYSIS_ERROR)return-6;if(bt-=gr,kt+=gr,ke.channels_out==2,ke.mf_size+=fr,ke.mf_samples_to_encode<1&&(ke.mf_samples_to_encode=j.ENCDELAY+j.POSTDELAY),ke.mf_samples_to_encode+=fr,ke.mf_size>=wt){var qr=Lt-yt;if(Lt==0&&(qr=0),vt=ne(K,At[0],At[1],Rt,Ut,qr),vt<0)return vt;for(Ut+=vt,yt+=vt,ke.mf_size-=K.framesize,ke.mf_samples_to_encode-=K.framesize,qt=0;qt<ke.channels_out;qt++)for(rt=0;rt<ke.mf_size;rt++)At[qt][rt]=At[qt][rt+K.framesize]}}return yt}function ne(K,fe,mt,bt,Rt,Ut){var Lt=ie.enc.lame_encode_mp3_frame(K,fe,mt,bt,Rt,Ut);return K.frameNum++,Lt}function ce(){this.n_in=0,this.n_out=0}function be(){this.num_used=0}function Ve(K,fe){return fe!=0?Ve(fe,K%fe):K}function et(K,fe,mt){var bt=Math.PI*fe;K/=mt,K<0&&(K=0),K>1&&(K=1);var Rt=K-.5,Ut=.42-.5*Math.cos(2*K*Math.PI)+.08*Math.cos(4*K*Math.PI);return Math.abs(Rt)<1e-9?bt/Math.PI:Ut*Math.sin(mt*bt*Rt)/(Math.PI*mt*Rt)}function Ye(K,fe,mt,bt,Rt,Ut,Lt,ke,yt){var vt=K.internal_flags,rt,qt=0,wt,Wt=K.out_samplerate/Ve(K.out_samplerate,K.in_samplerate);Wt>Ee.BPC&&(Wt=Ee.BPC);var At=Math.abs(vt.resample_ratio-Math.floor(.5+vt.resample_ratio))<1e-4?1:0,Qt=1/vt.resample_ratio;Qt>1&&(Qt=1);var kt=31;kt%2==0&&--kt,kt+=At;var cr=kt+1;if(vt.fill_buffer_resample_init==0){for(vt.inbuf_old[0]=t(cr),vt.inbuf_old[1]=t(cr),rt=0;rt<=2*Wt;++rt)vt.blackfilt[rt]=t(cr);for(vt.itime[0]=0,vt.itime[1]=0,qt=0;qt<=2*Wt;qt++){var gr=0,fr=(qt-Wt)/(2*Wt);for(rt=0;rt<=kt;rt++)gr+=vt.blackfilt[qt][rt]=et(rt-fr,Qt,kt);for(rt=0;rt<=kt;rt++)vt.blackfilt[qt][rt]/=gr}vt.fill_buffer_resample_init=1}var pr=vt.inbuf_old[yt];for(wt=0;wt<bt;wt++){var qr,Qr;if(qr=wt*vt.resample_ratio,qt=0|Math.floor(qr-vt.itime[yt]),kt+qt-kt/2>=Lt)break;var fr=qr-vt.itime[yt]-(qt+.5*(kt%2));Qr=0|Math.floor(fr*2*Wt+Wt+.5);var fn=0;for(rt=0;rt<=kt;++rt){var mr=0|rt+qt-kt/2,Vo;Vo=mr<0?pr[cr+mr]:Rt[Ut+mr],fn+=Vo*vt.blackfilt[Qr][rt]}fe[mt+wt]=fn}if(ke.num_used=Math.min(Lt,kt+qt-kt/2),vt.itime[yt]+=ke.num_used-wt*vt.resample_ratio,ke.num_used>=cr)for(rt=0;rt<cr;rt++)pr[rt]=Rt[Ut+ke.num_used+rt-cr];else{var Kr=cr-ke.num_used;for(rt=0;rt<Kr;++rt)pr[rt]=pr[rt+ke.num_used];for(qt=0;rt<cr;++rt,++qt)pr[rt]=Rt[Ut+qt]}return wt}function nt(K,fe,mt,bt,Rt,Ut){var Lt=K.internal_flags;if(Lt.resample_ratio<.9999||Lt.resample_ratio>1.0001)for(var ke=0;ke<Lt.channels_out;ke++){var yt=new be;Ut.n_out=Ye(K,fe[ke],Lt.mf_size,K.framesize,mt[ke],bt,Rt,yt,ke),Ut.n_in=yt.num_used}else{Ut.n_out=Math.min(K.framesize,Rt),Ut.n_in=Ut.n_out;for(var vt=0;vt<Ut.n_out;++vt)fe[0][Lt.mf_size+vt]=mt[0][bt+vt],Lt.channels_out==2&&(fe[1][Lt.mf_size+vt]=mt[1][bt+vt])}}}function Ze(){this.setModules=function(ie,Be){}}function we(){this.setModules=function(ie,Be,Pe){}}function Ae(){}function Ue(){this.setModules=function(ie,Be){}}function qe(ie,Be,Pe){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),ie=1,Be=44100,Pe=128);var We=new xe,Je=new Ze,ze=new v,tt=new x,ct=new b,Fe=new J,Me=new de,Te=new M,B=new g,z=new Ue,L=new S,k=new w,ge=new we,ve=new Ae;We.setModules(ze,tt,ct,Fe,Me,Te,B,z,ve),tt.setModules(ze,ve,B,Te),z.setModules(tt,B),ct.setModules(We),Me.setModules(tt,L,Fe,k),Fe.setModules(k,L,We.enc.psy),L.setModules(tt),k.setModules(Fe),Te.setModules(We,tt,B),Je.setModules(ge,ve),ge.setModules(B,z,ct);var _e=We.lame_init();_e.num_channels=ie,_e.in_samplerate=Be,_e.brate=Pe,_e.mode=m.STEREO,_e.quality=3,_e.bWriteVbrTag=!1,_e.disable_reservoir=!0,_e.write_id3tag_automatic=!1,We.lame_init_params(_e);var H=1152,ye=0|1.25*H+7200,je=n(ye);this.encodeBuffer=function(pe,Oe){ie==1&&(Oe=pe),pe.length>H&&(H=pe.length,ye=0|1.25*H+7200,je=n(ye));var Y=We.lame_encode_buffer(_e,pe,Oe,pe.length,je,0,ye);return new Int8Array(je.subarray(0,Y))},this.flush=function(){var pe=We.lame_encode_flush(_e,je,0,ye);return new Int8Array(je.subarray(0,pe))}}function Ge(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function it(ie){return ie.charCodeAt(0)<<24|ie.charCodeAt(1)<<16|ie.charCodeAt(2)<<8|ie.charCodeAt(3)}Ge.RIFF=it("RIFF"),Ge.WAVE=it("WAVE"),Ge.fmt_=it("fmt "),Ge.data=it("data"),Ge.readHeader=function(ie){var Be=new Ge,Pe=ie.getUint32(0,!1);if(Ge.RIFF==Pe&&(ie.getUint32(4,!0),Ge.WAVE==ie.getUint32(8,!1)&&Ge.fmt_==ie.getUint32(12,!1))){var We=ie.getUint32(16,!0),Je=16+4;switch(We){case 16:case 18:Be.channels=ie.getUint16(Je+2,!0),Be.sampleRate=ie.getUint32(Je+4,!0);break;default:throw"extended fmt chunk not implemented"}Je+=We;for(var ze=Ge.data,tt=0;ze!=Pe&&(Pe=ie.getUint32(Je,!1),tt=ie.getUint32(Je+4,!0),ze!=Pe);)Je+=tt+8;return Be.dataLen=tt,Be.dataOffset=Je+8,Be}},le.SFBMAX=j.SBMAX_s*3,wf.Mp3Encoder=qe,wf.WavHeader=Ge}wf();
