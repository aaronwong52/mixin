const g_=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))e(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const l of f.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&e(l)}).observe(document,{childList:!0,subtree:!0});function n(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerpolicy&&(f.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?f.credentials="include":d.crossorigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function e(d){if(d.ep)return;d.ep=!0;const f=n(d);fetch(d.href,f)}};g_();var ko=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function v_(r){var t=r.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(r).forEach(function(e){var d=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(n,e,d.get?d:{enumerable:!0,get:function(){return r[e]}})}),n}var Lt={exports:{}},vr={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var d0=Object.getOwnPropertySymbols,__=Object.prototype.hasOwnProperty,b_=Object.prototype.propertyIsEnumerable;function x_(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function w_(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var e=Object.getOwnPropertyNames(t).map(function(f){return t[f]});if(e.join("")!=="0123456789")return!1;var d={};return"abcdefghijklmnopqrst".split("").forEach(function(f){d[f]=f}),Object.keys(Object.assign({},d)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var s1=w_()?Object.assign:function(r,t){for(var n,e=x_(r),d,f=1;f<arguments.length;f++){n=Object(arguments[f]);for(var l in n)__.call(n,l)&&(e[l]=n[l]);if(d0){d=d0(n);for(var o=0;o<d.length;o++)b_.call(n,d[o])&&(e[d[o]]=n[d[o]])}}return e};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf=s1,Os=typeof Symbol=="function"&&Symbol.for,Pl=Os?Symbol.for("react.element"):60103,S_=Os?Symbol.for("react.portal"):60106,j_=Os?Symbol.for("react.fragment"):60107,T_=Os?Symbol.for("react.strict_mode"):60108,E_=Os?Symbol.for("react.profiler"):60114,M_=Os?Symbol.for("react.provider"):60109,C_=Os?Symbol.for("react.context"):60110,A_=Os?Symbol.for("react.forward_ref"):60112,k_=Os?Symbol.for("react.suspense"):60113,R_=Os?Symbol.for("react.memo"):60115,O_=Os?Symbol.for("react.lazy"):60116,h0=typeof Symbol=="function"&&Symbol.iterator;function Il(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i1={};function _a(r,t,n){this.props=r,this.context=t,this.refs=i1,this.updater=n||o1}_a.prototype.isReactComponent={};_a.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error(Il(85));this.updater.enqueueSetState(this,r,t,"setState")};_a.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function a1(){}a1.prototype=_a.prototype;function wf(r,t,n){this.props=r,this.context=t,this.refs=i1,this.updater=n||o1}var Sf=wf.prototype=new a1;Sf.constructor=wf;xf(Sf,_a.prototype);Sf.isPureReactComponent=!0;var jf={current:null},l1=Object.prototype.hasOwnProperty,u1={key:!0,ref:!0,__self:!0,__source:!0};function c1(r,t,n){var e,d={},f=null,l=null;if(t!=null)for(e in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(f=""+t.key),t)l1.call(t,e)&&!u1.hasOwnProperty(e)&&(d[e]=t[e]);var o=arguments.length-2;if(o===1)d.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];d.children=s}if(r&&r.defaultProps)for(e in o=r.defaultProps,o)d[e]===void 0&&(d[e]=o[e]);return{$$typeof:Pl,type:r,key:f,ref:l,props:d,_owner:jf.current}}function P_(r,t){return{$$typeof:Pl,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function Tf(r){return typeof r=="object"&&r!==null&&r.$$typeof===Pl}function I_(r){var t={"=":"=0",":":"=2"};return"$"+(""+r).replace(/[=:]/g,function(n){return t[n]})}var d1=/\/+/g,Vu=[];function h1(r,t,n,e){if(Vu.length){var d=Vu.pop();return d.result=r,d.keyPrefix=t,d.func=n,d.context=e,d.count=0,d}return{result:r,keyPrefix:t,func:n,context:e,count:0}}function f1(r){r.result=null,r.keyPrefix=null,r.func=null,r.context=null,r.count=0,10>Vu.length&&Vu.push(r)}function lh(r,t,n,e){var d=typeof r;(d==="undefined"||d==="boolean")&&(r=null);var f=!1;if(r===null)f=!0;else switch(d){case"string":case"number":f=!0;break;case"object":switch(r.$$typeof){case Pl:case S_:f=!0}}if(f)return n(e,r,t===""?"."+Nd(r,0):t),1;if(f=0,t=t===""?".":t+":",Array.isArray(r))for(var l=0;l<r.length;l++){d=r[l];var o=t+Nd(d,l);f+=lh(d,o,n,e)}else if(r===null||typeof r!="object"?o=null:(o=h0&&r[h0]||r["@@iterator"],o=typeof o=="function"?o:null),typeof o=="function")for(r=o.call(r),l=0;!(d=r.next()).done;)d=d.value,o=t+Nd(d,l++),f+=lh(d,o,n,e);else if(d==="object")throw n=""+r,Error(Il(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n,""));return f}function uh(r,t,n){return r==null?0:lh(r,"",t,n)}function Nd(r,t){return typeof r=="object"&&r!==null&&r.key!=null?I_(r.key):t.toString(36)}function D_(r,t){r.func.call(r.context,t,r.count++)}function L_(r,t,n){var e=r.result,d=r.keyPrefix;r=r.func.call(r.context,t,r.count++),Array.isArray(r)?ch(r,e,n,function(f){return f}):r!=null&&(Tf(r)&&(r=P_(r,d+(!r.key||t&&t.key===r.key?"":(""+r.key).replace(d1,"$&/")+"/")+n)),e.push(r))}function ch(r,t,n,e,d){var f="";n!=null&&(f=(""+n).replace(d1,"$&/")+"/"),t=h1(t,f,e,d),uh(r,L_,t),f1(t)}var p1={current:null};function go(){var r=p1.current;if(r===null)throw Error(Il(321));return r}var N_={ReactCurrentDispatcher:p1,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:jf,IsSomeRendererActing:{current:!1},assign:xf};vr.Children={map:function(r,t,n){if(r==null)return r;var e=[];return ch(r,e,null,t,n),e},forEach:function(r,t,n){if(r==null)return r;t=h1(null,null,t,n),uh(r,D_,t),f1(t)},count:function(r){return uh(r,function(){return null},null)},toArray:function(r){var t=[];return ch(r,t,null,function(n){return n}),t},only:function(r){if(!Tf(r))throw Error(Il(143));return r}};vr.Component=_a;vr.Fragment=j_;vr.Profiler=E_;vr.PureComponent=wf;vr.StrictMode=T_;vr.Suspense=k_;vr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N_;vr.cloneElement=function(r,t,n){if(r==null)throw Error(Il(267,r));var e=xf({},r.props),d=r.key,f=r.ref,l=r._owner;if(t!=null){if(t.ref!==void 0&&(f=t.ref,l=jf.current),t.key!==void 0&&(d=""+t.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(s in t)l1.call(t,s)&&!u1.hasOwnProperty(s)&&(e[s]=t[s]===void 0&&o!==void 0?o[s]:t[s])}var s=arguments.length-2;if(s===1)e.children=n;else if(1<s){o=Array(s);for(var c=0;c<s;c++)o[c]=arguments[c+2];e.children=o}return{$$typeof:Pl,type:r.type,key:d,ref:f,props:e,_owner:l}};vr.createContext=function(r,t){return t===void 0&&(t=null),r={$$typeof:C_,_calculateChangedBits:t,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider={$$typeof:M_,_context:r},r.Consumer=r};vr.createElement=c1;vr.createFactory=function(r){var t=c1.bind(null,r);return t.type=r,t};vr.createRef=function(){return{current:null}};vr.forwardRef=function(r){return{$$typeof:A_,render:r}};vr.isValidElement=Tf;vr.lazy=function(r){return{$$typeof:O_,_ctor:r,_status:-1,_result:null}};vr.memo=function(r,t){return{$$typeof:R_,type:r,compare:t===void 0?null:t}};vr.useCallback=function(r,t){return go().useCallback(r,t)};vr.useContext=function(r,t){return go().useContext(r,t)};vr.useDebugValue=function(){};vr.useEffect=function(r,t){return go().useEffect(r,t)};vr.useImperativeHandle=function(r,t,n){return go().useImperativeHandle(r,t,n)};vr.useLayoutEffect=function(r,t){return go().useLayoutEffect(r,t)};vr.useMemo=function(r,t){return go().useMemo(r,t)};vr.useReducer=function(r,t,n){return go().useReducer(r,t,n)};vr.useRef=function(r){return go().useRef(r)};vr.useState=function(r){return go().useState(r)};vr.version="16.14.0";(function(r){r.exports=vr})(Lt);const Bc=bf(Lt.exports);var Fc={exports:{}},vs={},m1={exports:{}},y1={};/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){var t,n,e,d,f;if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,o=null,s=function(){if(l!==null)try{var j=r.unstable_now();l(!0,j),l=null}catch(N){throw setTimeout(s,0),N}},c=Date.now();r.unstable_now=function(){return Date.now()-c},t=function(j){l!==null?setTimeout(t,0,j):(l=j,setTimeout(s,0))},n=function(j,N){o=setTimeout(j,N)},e=function(){clearTimeout(o)},d=function(){return!1},f=r.unstable_forceFrameRate=function(){}}else{var m=window.performance,y=window.Date,a=window.setTimeout,u=window.clearTimeout;if(typeof console<"u"){var i=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),typeof i!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if(typeof m=="object"&&typeof m.now=="function")r.unstable_now=function(){return m.now()};else{var h=y.now();r.unstable_now=function(){return y.now()-h}}var p=!1,g=null,v=-1,b=5,w=0;d=function(){return r.unstable_now()>=w},f=function(){},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):b=0<j?Math.floor(1e3/j):5};var x=new MessageChannel,k=x.port2;x.port1.onmessage=function(){if(g!==null){var j=r.unstable_now();w=j+b;try{g(!0,j)?k.postMessage(null):(p=!1,g=null)}catch(N){throw k.postMessage(null),N}}else p=!1},t=function(j){g=j,p||(p=!0,k.postMessage(null))},n=function(j,N){v=a(function(){j(r.unstable_now())},N)},e=function(){u(v),v=-1}}function E(j,N){var F=j.length;j.push(N);e:for(;;){var ie=F-1>>>1,ae=j[ie];if(ae!==void 0&&0<P(ae,N))j[ie]=N,j[F]=ae,F=ie;else break e}}function M(j){return j=j[0],j===void 0?null:j}function O(j){var N=j[0];if(N!==void 0){var F=j.pop();if(F!==N){j[0]=F;e:for(var ie=0,ae=j.length;ie<ae;){var Te=2*(ie+1)-1,ke=j[Te],Me=Te+1,Se=j[Me];if(ke!==void 0&&0>P(ke,F))Se!==void 0&&0>P(Se,ke)?(j[ie]=Se,j[Me]=F,ie=Me):(j[ie]=ke,j[Te]=F,ie=Te);else if(Se!==void 0&&0>P(Se,F))j[ie]=Se,j[Me]=F,ie=Me;else break e}}return N}return null}function P(j,N){var F=j.sortIndex-N.sortIndex;return F!==0?F:j.id-N.id}var D=[],U=[],z=1,V=null,K=3,re=!1,Q=!1,ue=!1;function te(j){for(var N=M(U);N!==null;){if(N.callback===null)O(U);else if(N.startTime<=j)O(U),N.sortIndex=N.expirationTime,E(D,N);else break;N=M(U)}}function oe(j){if(ue=!1,te(j),!Q)if(M(D)!==null)Q=!0,t(ce);else{var N=M(U);N!==null&&n(oe,N.startTime-j)}}function ce(j,N){Q=!1,ue&&(ue=!1,e()),re=!0;var F=K;try{for(te(N),V=M(D);V!==null&&(!(V.expirationTime>N)||j&&!d());){var ie=V.callback;if(ie!==null){V.callback=null,K=V.priorityLevel;var ae=ie(V.expirationTime<=N);N=r.unstable_now(),typeof ae=="function"?V.callback=ae:V===M(D)&&O(D),te(N)}else O(D);V=M(D)}if(V!==null)var Te=!0;else{var ke=M(U);ke!==null&&n(oe,ke.startTime-N),Te=!1}return Te}finally{V=null,K=F,re=!1}}function ne(j){switch(j){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var R=f;r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_continueExecution=function(){Q||re||(Q=!0,t(ce))},r.unstable_getCurrentPriorityLevel=function(){return K},r.unstable_getFirstCallbackNode=function(){return M(D)},r.unstable_next=function(j){switch(K){case 1:case 2:case 3:var N=3;break;default:N=K}var F=K;K=N;try{return j()}finally{K=F}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=R,r.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var F=K;K=j;try{return N()}finally{K=F}},r.unstable_scheduleCallback=function(j,N,F){var ie=r.unstable_now();if(typeof F=="object"&&F!==null){var ae=F.delay;ae=typeof ae=="number"&&0<ae?ie+ae:ie,F=typeof F.timeout=="number"?F.timeout:ne(j)}else F=ne(j),ae=ie;return F=ae+F,j={id:z++,callback:N,priorityLevel:j,startTime:ae,expirationTime:F,sortIndex:-1},ae>ie?(j.sortIndex=ae,E(U,j),M(D)===null&&j===M(U)&&(ue?e():ue=!0,n(oe,ae-ie))):(j.sortIndex=F,E(D,j),Q||re||(Q=!0,t(ce))),j},r.unstable_shouldYield=function(){var j=r.unstable_now();te(j);var N=M(D);return N!==V&&V!==null&&N!==null&&N.callback!==null&&N.startTime<=j&&N.expirationTime<V.expirationTime||d()},r.unstable_wrapCallback=function(j){var N=K;return function(){var F=K;K=N;try{return j.apply(this,arguments)}finally{K=F}}}})(y1);(function(r){r.exports=y1})(m1);/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uc=Lt.exports,Un=s1,jn=m1.exports;function Rt(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Uc)throw Error(Rt(227));function B_(r,t,n,e,d,f,l,o,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(m){this.onError(m)}}var $a=!1,Gu=null,zu=!1,dh=null,F_={onError:function(r){$a=!0,Gu=r}};function U_(r,t,n,e,d,f,l,o,s){$a=!1,Gu=null,B_.apply(F_,arguments)}function V_(r,t,n,e,d,f,l,o,s){if(U_.apply(this,arguments),$a){if($a){var c=Gu;$a=!1,Gu=null}else throw Error(Rt(198));zu||(zu=!0,dh=c)}}var Ef=null,g1=null,v1=null;function f0(r,t,n){var e=r.type||"unknown-event";r.currentTarget=v1(n),V_(e,t,void 0,r),r.currentTarget=null}var Hu=null,Vi={};function _1(){if(Hu)for(var r in Vi){var t=Vi[r],n=Hu.indexOf(r);if(!(-1<n))throw Error(Rt(96,r));if(!Wu[n]){if(!t.extractEvents)throw Error(Rt(97,r));Wu[n]=t,n=t.eventTypes;for(var e in n){var d=void 0,f=n[e],l=t,o=e;if(hh.hasOwnProperty(o))throw Error(Rt(99,o));hh[o]=f;var s=f.phasedRegistrationNames;if(s){for(d in s)s.hasOwnProperty(d)&&p0(s[d],l,o);d=!0}else f.registrationName?(p0(f.registrationName,l,o),d=!0):d=!1;if(!d)throw Error(Rt(98,e,r))}}}}function p0(r,t,n){if(ia[r])throw Error(Rt(100,r));ia[r]=t,Mf[r]=t.eventTypes[n].dependencies}var Wu=[],hh={},ia={},Mf={};function b1(r){var t=!1,n;for(n in r)if(r.hasOwnProperty(n)){var e=r[n];if(!Vi.hasOwnProperty(n)||Vi[n]!==e){if(Vi[n])throw Error(Rt(102,n));Vi[n]=e,t=!0}}t&&_1()}var Ko=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fh=null,Qi=null,Ki=null;function m0(r){if(r=g1(r)){if(typeof fh!="function")throw Error(Rt(280));var t=r.stateNode;t&&(t=Ef(t),fh(r.stateNode,r.type,t))}}function x1(r){Qi?Ki?Ki.push(r):Ki=[r]:Qi=r}function w1(){if(Qi){var r=Qi,t=Ki;if(Ki=Qi=null,m0(r),t)for(r=0;r<t.length;r++)m0(t[r])}}function Cf(r,t){return r(t)}function S1(r,t,n,e,d){return r(t,n,e,d)}function Af(){}var j1=Cf,oi=!1,Bd=!1;function kf(){(Qi!==null||Ki!==null)&&(Af(),w1())}function T1(r,t,n){if(Bd)return r(t,n);Bd=!0;try{return j1(r,t,n)}finally{Bd=!1,kf()}}var G_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y0=Object.prototype.hasOwnProperty,g0={},v0={};function z_(r){return y0.call(v0,r)?!0:y0.call(g0,r)?!1:G_.test(r)?v0[r]=!0:(g0[r]=!0,!1)}function H_(r,t,n,e){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return e?!1:n!==null?!n.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function W_(r,t,n,e){if(t===null||typeof t>"u"||H_(r,t,n,e))return!0;if(e)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(r,t,n,e,d,f){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=e,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=r,this.type=t,this.sanitizeURL=f}var Tn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Tn[r]=new Vn(r,0,!1,r,null,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];Tn[t]=new Vn(t,1,!1,r[1],null,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Tn[r]=new Vn(r,2,!1,r.toLowerCase(),null,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Tn[r]=new Vn(r,2,!1,r,null,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Tn[r]=new Vn(r,3,!1,r.toLowerCase(),null,!1)});["checked","multiple","muted","selected"].forEach(function(r){Tn[r]=new Vn(r,3,!0,r,null,!1)});["capture","download"].forEach(function(r){Tn[r]=new Vn(r,4,!1,r,null,!1)});["cols","rows","size","span"].forEach(function(r){Tn[r]=new Vn(r,6,!1,r,null,!1)});["rowSpan","start"].forEach(function(r){Tn[r]=new Vn(r,5,!1,r.toLowerCase(),null,!1)});var Rf=/[\-:]([a-z])/g;function Of(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(Rf,Of);Tn[t]=new Vn(t,1,!1,r,null,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(Rf,Of);Tn[t]=new Vn(t,1,!1,r,"http://www.w3.org/1999/xlink",!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(Rf,Of);Tn[t]=new Vn(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1)});["tabIndex","crossOrigin"].forEach(function(r){Tn[r]=new Vn(r,1,!1,r.toLowerCase(),null,!1)});Tn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0);["src","href","action","formAction"].forEach(function(r){Tn[r]=new Vn(r,1,!1,r.toLowerCase(),null,!0)});var As=Uc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;As.hasOwnProperty("ReactCurrentDispatcher")||(As.ReactCurrentDispatcher={current:null});As.hasOwnProperty("ReactCurrentBatchConfig")||(As.ReactCurrentBatchConfig={suspense:null});function Pf(r,t,n,e){var d=Tn.hasOwnProperty(t)?Tn[t]:null,f=d!==null?d.type===0:e?!1:!(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N");f||(W_(t,n,d,e)&&(n=null),e||d===null?z_(t)&&(n===null?r.removeAttribute(t):r.setAttribute(t,""+n)):d.mustUseProperty?r[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,e=d.attributeNamespace,n===null?r.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,e?r.setAttributeNS(e,t,n):r.setAttribute(t,n))))}var q_=/^(.*)[\\\/]/,$n=typeof Symbol=="function"&&Symbol.for,ru=$n?Symbol.for("react.element"):60103,Gi=$n?Symbol.for("react.portal"):60106,si=$n?Symbol.for("react.fragment"):60107,E1=$n?Symbol.for("react.strict_mode"):60108,Su=$n?Symbol.for("react.profiler"):60114,M1=$n?Symbol.for("react.provider"):60109,C1=$n?Symbol.for("react.context"):60110,X_=$n?Symbol.for("react.concurrent_mode"):60111,If=$n?Symbol.for("react.forward_ref"):60112,ju=$n?Symbol.for("react.suspense"):60113,ph=$n?Symbol.for("react.suspense_list"):60120,Df=$n?Symbol.for("react.memo"):60115,A1=$n?Symbol.for("react.lazy"):60116,k1=$n?Symbol.for("react.block"):60121,_0=typeof Symbol=="function"&&Symbol.iterator;function Ba(r){return r===null||typeof r!="object"?null:(r=_0&&r[_0]||r["@@iterator"],typeof r=="function"?r:null)}function Y_(r){if(r._status===-1){r._status=0;var t=r._ctor;t=t(),r._result=t,t.then(function(n){r._status===0&&(n=n.default,r._status=1,r._result=n)},function(n){r._status===0&&(r._status=2,r._result=n)})}}function ho(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case si:return"Fragment";case Gi:return"Portal";case Su:return"Profiler";case E1:return"StrictMode";case ju:return"Suspense";case ph:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case C1:return"Context.Consumer";case M1:return"Context.Provider";case If:var t=r.render;return t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case Df:return ho(r.type);case k1:return ho(r.render);case A1:if(r=r._status===1?r._result:null)return ho(r)}return null}function Lf(r){var t="";do{e:switch(r.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var e=r._debugOwner,d=r._debugSource,f=ho(r.type);n=null,e&&(n=ho(e.type)),e=f,f="",d?f=" (at "+d.fileName.replace(q_,"")+":"+d.lineNumber+")":n&&(f=" (created by "+n+")"),n=`
    in `+(e||"Unknown")+f}t+=n,r=r.return}while(r);return t}function Wo(r){switch(typeof r){case"boolean":case"number":case"object":case"string":case"undefined":return r;default:return""}}function R1(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $_(r){var t=R1(r)?"checked":"value",n=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),e=""+r[t];if(!r.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,f=n.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return d.call(this)},set:function(l){e=""+l,f.call(this,l)}}),Object.defineProperty(r,t,{enumerable:n.enumerable}),{getValue:function(){return e},setValue:function(l){e=""+l},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function nu(r){r._valueTracker||(r._valueTracker=$_(r))}function O1(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var n=t.getValue(),e="";return r&&(e=R1(r)?r.checked?"true":"false":r.value),r=e,r!==n?(t.setValue(r),!0):!1}function mh(r,t){var n=t.checked;return Un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:r._wrapperState.initialChecked})}function b0(r,t){var n=t.defaultValue==null?"":t.defaultValue,e=t.checked!=null?t.checked:t.defaultChecked;n=Wo(t.value!=null?t.value:n),r._wrapperState={initialChecked:e,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function P1(r,t){t=t.checked,t!=null&&Pf(r,"checked",t,!1)}function yh(r,t){P1(r,t);var n=Wo(t.value),e=t.type;if(n!=null)e==="number"?(n===0&&r.value===""||r.value!=n)&&(r.value=""+n):r.value!==""+n&&(r.value=""+n);else if(e==="submit"||e==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?gh(r,t.type,n):t.hasOwnProperty("defaultValue")&&gh(r,t.type,Wo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function x0(r,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var e=t.type;if(!(e!=="submit"&&e!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,n||t===r.value||(r.value=t),r.defaultValue=t}n=r.name,n!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,n!==""&&(r.name=n)}function gh(r,t,n){(t!=="number"||r.ownerDocument.activeElement!==r)&&(n==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+n&&(r.defaultValue=""+n))}function Z_(r){var t="";return Uc.Children.forEach(r,function(n){n!=null&&(t+=n)}),t}function vh(r,t){return r=Un({children:void 0},t),(t=Z_(t.children))&&(r.children=t),r}function Ji(r,t,n,e){if(r=r.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<r.length;n++)d=t.hasOwnProperty("$"+r[n].value),r[n].selected!==d&&(r[n].selected=d),d&&e&&(r[n].defaultSelected=!0)}else{for(n=""+Wo(n),t=null,d=0;d<r.length;d++){if(r[d].value===n){r[d].selected=!0,e&&(r[d].defaultSelected=!0);return}t!==null||r[d].disabled||(t=r[d])}t!==null&&(t.selected=!0)}}function _h(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Rt(91));return Un({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function w0(r,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Rt(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(Rt(93));n=n[0]}t=n}t==null&&(t=""),n=t}r._wrapperState={initialValue:Wo(n)}}function I1(r,t){var n=Wo(t.value),e=Wo(t.defaultValue);n!=null&&(n=""+n,n!==r.value&&(r.value=n),t.defaultValue==null&&r.defaultValue!==n&&(r.defaultValue=n)),e!=null&&(r.defaultValue=""+e)}function S0(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}var D1={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function L1(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bh(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?L1(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var su,N1=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,e,d){MSApp.execUnsafeLocalFunction(function(){return r(t,n,e,d)})}:r}(function(r,t){if(r.namespaceURI!==D1.svg||"innerHTML"in r)r.innerHTML=t;else{for(su=su||document.createElement("div"),su.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=su.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function al(r,t){if(t){var n=r.firstChild;if(n&&n===r.lastChild&&n.nodeType===3){n.nodeValue=t;return}}r.textContent=t}function ou(r,t){var n={};return n[r.toLowerCase()]=t.toLowerCase(),n["Webkit"+r]="webkit"+t,n["Moz"+r]="moz"+t,n}var zi={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},Fd={},B1={};Ko&&(B1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function Vc(r){if(Fd[r])return Fd[r];if(!zi[r])return r;var t=zi[r],n;for(n in t)if(t.hasOwnProperty(n)&&n in B1)return Fd[r]=t[n];return r}var F1=Vc("animationend"),U1=Vc("animationiteration"),V1=Vc("animationstart"),G1=Vc("transitionend"),qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new(typeof WeakMap=="function"?WeakMap:Map);function Nf(r){var t=j0.get(r);return t===void 0&&(t=new Map,j0.set(r,t)),t}function Ei(r){var t=r,n=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,(t.effectTag&1026)!==0&&(n=t.return),r=t.return;while(r)}return t.tag===3?n:null}function z1(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function T0(r){if(Ei(r)!==r)throw Error(Rt(188))}function Q_(r){var t=r.alternate;if(!t){if(t=Ei(r),t===null)throw Error(Rt(188));return t!==r?null:r}for(var n=r,e=t;;){var d=n.return;if(d===null)break;var f=d.alternate;if(f===null){if(e=d.return,e!==null){n=e;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===n)return T0(d),r;if(f===e)return T0(d),t;f=f.sibling}throw Error(Rt(188))}if(n.return!==e.return)n=d,e=f;else{for(var l=!1,o=d.child;o;){if(o===n){l=!0,n=d,e=f;break}if(o===e){l=!0,e=d,n=f;break}o=o.sibling}if(!l){for(o=f.child;o;){if(o===n){l=!0,n=f,e=d;break}if(o===e){l=!0,e=f,n=d;break}o=o.sibling}if(!l)throw Error(Rt(189))}}if(n.alternate!==e)throw Error(Rt(190))}if(n.tag!==3)throw Error(Rt(188));return n.stateNode.current===n?r:t}function H1(r){if(r=Q_(r),!r)return null;for(var t=r;;){if(t.tag===5||t.tag===6)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===r)break;for(;!t.sibling;){if(!t.return||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function aa(r,t){if(t==null)throw Error(Rt(30));return r==null?t:Array.isArray(r)?Array.isArray(t)?(r.push.apply(r,t),r):(r.push(t),r):Array.isArray(t)?[r].concat(t):[r,t]}function Bf(r,t,n){Array.isArray(r)?r.forEach(t,n):r&&t.call(n,r)}var Fa=null;function K_(r){if(r){var t=r._dispatchListeners,n=r._dispatchInstances;if(Array.isArray(t))for(var e=0;e<t.length&&!r.isPropagationStopped();e++)f0(r,t[e],n[e]);else t&&f0(r,t,n);r._dispatchListeners=null,r._dispatchInstances=null,r.isPersistent()||r.constructor.release(r)}}function Gc(r){if(r!==null&&(Fa=aa(Fa,r)),r=Fa,Fa=null,r){if(Bf(r,K_),Fa)throw Error(Rt(95));if(zu)throw r=dh,zu=!1,dh=null,r}}function Ff(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}function W1(r){if(!Ko)return!1;r="on"+r;var t=r in document;return t||(t=document.createElement("div"),t.setAttribute(r,"return;"),t=typeof t[r]=="function"),t}var qu=[];function q1(r){r.topLevelType=null,r.nativeEvent=null,r.targetInst=null,r.ancestors.length=0,10>qu.length&&qu.push(r)}function X1(r,t,n,e){if(qu.length){var d=qu.pop();return d.topLevelType=r,d.eventSystemFlags=e,d.nativeEvent=t,d.targetInst=n,d}return{topLevelType:r,eventSystemFlags:e,nativeEvent:t,targetInst:n,ancestors:[]}}function Y1(r){var t=r.targetInst,n=t;do{if(!n){r.ancestors.push(n);break}var e=n;if(e.tag===3)e=e.stateNode.containerInfo;else{for(;e.return;)e=e.return;e=e.tag!==3?null:e.stateNode.containerInfo}if(!e)break;t=n.tag,t!==5&&t!==6||r.ancestors.push(n),n=Ll(e)}while(n);for(n=0;n<r.ancestors.length;n++){t=r.ancestors[n];var d=Ff(r.nativeEvent);e=r.topLevelType;var f=r.nativeEvent,l=r.eventSystemFlags;n===0&&(l|=64);for(var o=null,s=0;s<Wu.length;s++){var c=Wu[s];c&&(c=c.extractEvents(e,t,f,d,l))&&(o=aa(o,c))}Gc(o)}}function xh(r,t,n){if(!n.has(r)){switch(r){case"scroll":Xa(t,"scroll",!0);break;case"focus":case"blur":Xa(t,"focus",!0),Xa(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":W1(r)&&Xa(t,r,!0);break;case"invalid":case"submit":case"reset":break;default:qa.indexOf(r)===-1&&Vr(r,t)}n.set(r,null)}}var $1,Uf,Z1,wh=!1,Ns=[],Lo=null,No=null,Bo=null,ll=new Map,ul=new Map,Ua=[],Sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),J_="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function e2(r,t){var n=Nf(t);Sh.forEach(function(e){xh(e,t,n)}),J_.forEach(function(e){xh(e,t,n)})}function jh(r,t,n,e,d){return{blockedOn:r,topLevelType:t,eventSystemFlags:n|32,nativeEvent:d,container:e}}function E0(r,t){switch(r){case"focus":case"blur":Lo=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Bo=null;break;case"pointerover":case"pointerout":ll.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ul.delete(t.pointerId)}}function Va(r,t,n,e,d,f){return r===null||r.nativeEvent!==f?(r=jh(t,n,e,d,f),t!==null&&(t=Nl(t),t!==null&&Uf(t)),r):(r.eventSystemFlags|=e,r)}function t2(r,t,n,e,d){switch(t){case"focus":return Lo=Va(Lo,r,t,n,e,d),!0;case"dragenter":return No=Va(No,r,t,n,e,d),!0;case"mouseover":return Bo=Va(Bo,r,t,n,e,d),!0;case"pointerover":var f=d.pointerId;return ll.set(f,Va(ll.get(f)||null,r,t,n,e,d)),!0;case"gotpointercapture":return f=d.pointerId,ul.set(f,Va(ul.get(f)||null,r,t,n,e,d)),!0}return!1}function r2(r){var t=Ll(r.target);if(t!==null){var n=Ei(t);if(n!==null){if(t=n.tag,t===13){if(t=z1(n),t!==null){r.blockedOn=t,jn.unstable_runWithPriority(r.priority,function(){Z1(n)});return}}else if(t===3&&n.stateNode.hydrate){r.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tu(r){if(r.blockedOn!==null)return!1;var t=zf(r.topLevelType,r.eventSystemFlags,r.container,r.nativeEvent);if(t!==null){var n=Nl(t);return n!==null&&Uf(n),r.blockedOn=t,!1}return!0}function M0(r,t,n){Tu(r)&&n.delete(t)}function n2(){for(wh=!1;0<Ns.length;){var r=Ns[0];if(r.blockedOn!==null){r=Nl(r.blockedOn),r!==null&&$1(r);break}var t=zf(r.topLevelType,r.eventSystemFlags,r.container,r.nativeEvent);t!==null?r.blockedOn=t:Ns.shift()}Lo!==null&&Tu(Lo)&&(Lo=null),No!==null&&Tu(No)&&(No=null),Bo!==null&&Tu(Bo)&&(Bo=null),ll.forEach(M0),ul.forEach(M0)}function Ga(r,t){r.blockedOn===t&&(r.blockedOn=null,wh||(wh=!0,jn.unstable_scheduleCallback(jn.unstable_NormalPriority,n2)))}function Q1(r){function t(d){return Ga(d,r)}if(0<Ns.length){Ga(Ns[0],r);for(var n=1;n<Ns.length;n++){var e=Ns[n];e.blockedOn===r&&(e.blockedOn=null)}}for(Lo!==null&&Ga(Lo,r),No!==null&&Ga(No,r),Bo!==null&&Ga(Bo,r),ll.forEach(t),ul.forEach(t),n=0;n<Ua.length;n++)e=Ua[n],e.blockedOn===r&&(e.blockedOn=null);for(;0<Ua.length&&(n=Ua[0],n.blockedOn===null);)r2(n),n.blockedOn===null&&Ua.shift()}var K1={},J1=new Map,Vf=new Map,s2=["abort","abort",F1,"animationEnd",U1,"animationIteration",V1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",G1,"transitionEnd","waiting","waiting"];function Gf(r,t){for(var n=0;n<r.length;n+=2){var e=r[n],d=r[n+1],f="on"+(d[0].toUpperCase()+d.slice(1));f={phasedRegistrationNames:{bubbled:f,captured:f+"Capture"},dependencies:[e],eventPriority:t},Vf.set(e,t),J1.set(e,f),K1[d]=f}}Gf("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);Gf("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);Gf(s2,2);for(var C0="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ud=0;Ud<C0.length;Ud++)Vf.set(C0[Ud],0);var o2=jn.unstable_UserBlockingPriority,i2=jn.unstable_runWithPriority,Eu=!0;function Vr(r,t){Xa(t,r,!1)}function Xa(r,t,n){var e=Vf.get(t);switch(e===void 0?2:e){case 0:e=a2.bind(null,t,1,r);break;case 1:e=l2.bind(null,t,1,r);break;default:e=zc.bind(null,t,1,r)}n?r.addEventListener(t,e,!0):r.addEventListener(t,e,!1)}function a2(r,t,n,e){oi||Af();var d=zc,f=oi;oi=!0;try{S1(d,r,t,n,e)}finally{(oi=f)||kf()}}function l2(r,t,n,e){i2(o2,zc.bind(null,r,t,n,e))}function zc(r,t,n,e){if(Eu)if(0<Ns.length&&-1<Sh.indexOf(r))r=jh(null,r,t,n,e),Ns.push(r);else{var d=zf(r,t,n,e);if(d===null)E0(r,e);else if(-1<Sh.indexOf(r))r=jh(d,r,t,n,e),Ns.push(r);else if(!t2(d,r,t,n,e)){E0(r,e),r=X1(r,e,null,t);try{T1(Y1,r)}finally{q1(r)}}}}function zf(r,t,n,e){if(n=Ff(e),n=Ll(n),n!==null){var d=Ei(n);if(d===null)n=null;else{var f=d.tag;if(f===13){if(n=z1(d),n!==null)return n;n=null}else if(f===3){if(d.stateNode.hydrate)return d.tag===3?d.stateNode.containerInfo:null;n=null}else d!==n&&(n=null)}}r=X1(r,e,n,t);try{T1(Y1,r)}finally{q1(r)}return null}var Za={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u2=["Webkit","ms","Moz","O"];Object.keys(Za).forEach(function(r){u2.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Za[t]=Za[r]})});function ey(r,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Za.hasOwnProperty(r)&&Za[r]?(""+t).trim():t+"px"}function ty(r,t){r=r.style;for(var n in t)if(t.hasOwnProperty(n)){var e=n.indexOf("--")===0,d=ey(n,t[n],e);n==="float"&&(n="cssFloat"),e?r.setProperty(n,d):r[n]=d}}var c2=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Th(r,t){if(t){if(c2[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Rt(137,r,""));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Rt(60));if(!(typeof t.dangerouslySetInnerHTML=="object"&&"__html"in t.dangerouslySetInnerHTML))throw Error(Rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Rt(62,""))}}function Eh(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A0=D1.html;function to(r,t){r=r.nodeType===9||r.nodeType===11?r:r.ownerDocument;var n=Nf(r);t=Mf[t];for(var e=0;e<t.length;e++)xh(t[e],r,n)}function Xu(){}function Mh(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function k0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function R0(r,t){var n=k0(r);r=0;for(var e;n;){if(n.nodeType===3){if(e=r+n.textContent.length,r<=t&&e>=t)return{node:n,offset:t-r};r=e}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=k0(n)}}function ry(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?ry(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function O0(){for(var r=window,t=Mh();t instanceof r.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)r=t.contentWindow;else break;t=Mh(r.document)}return t}function Ch(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}var ny="$",sy="/$",Hf="$?",Wf="$!",Vd=null,Gd=null;function oy(r,t){switch(r){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ah(r,t){return r==="textarea"||r==="option"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zd=typeof setTimeout=="function"?setTimeout:void 0,d2=typeof clearTimeout=="function"?clearTimeout:void 0;function ea(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break}return r}function P0(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var n=r.data;if(n===ny||n===Wf||n===Hf){if(t===0)return r;t--}else n===sy&&t++}r=r.previousSibling}return null}var qf=Math.random().toString(36).slice(2),Ro="__reactInternalInstance$"+qf,Yu="__reactEventHandlers$"+qf,Dl="__reactContainere$"+qf;function Ll(r){var t=r[Ro];if(t)return t;for(var n=r.parentNode;n;){if(t=n[Dl]||n[Ro]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(r=P0(r);r!==null;){if(n=r[Ro])return n;r=P0(r)}return t}r=n,n=r.parentNode}return null}function Nl(r){return r=r[Ro]||r[Dl],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function gi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Rt(33))}function Xf(r){return r[Yu]||null}function ro(r){do r=r.return;while(r&&r.tag!==5);return r||null}function iy(r,t){var n=r.stateNode;if(!n)return null;var e=Ef(n);if(!e)return null;n=e[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(e=!e.disabled)||(r=r.type,e=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!e;break e;default:r=!1}if(r)return null;if(n&&typeof n!="function")throw Error(Rt(231,t,typeof n));return n}function I0(r,t,n){(t=iy(r,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=aa(n._dispatchListeners,t),n._dispatchInstances=aa(n._dispatchInstances,r))}function h2(r){if(r&&r.dispatchConfig.phasedRegistrationNames){for(var t=r._targetInst,n=[];t;)n.push(t),t=ro(t);for(t=n.length;0<t--;)I0(n[t],"captured",r);for(t=0;t<n.length;t++)I0(n[t],"bubbled",r)}}function kh(r,t,n){r&&n&&n.dispatchConfig.registrationName&&(t=iy(r,n.dispatchConfig.registrationName))&&(n._dispatchListeners=aa(n._dispatchListeners,t),n._dispatchInstances=aa(n._dispatchInstances,r))}function f2(r){r&&r.dispatchConfig.registrationName&&kh(r._targetInst,null,r)}function la(r){Bf(r,h2)}var Oo=null,Yf=null,Mu=null;function ay(){if(Mu)return Mu;var r,t=Yf,n=t.length,e,d="value"in Oo?Oo.value:Oo.textContent,f=d.length;for(r=0;r<n&&t[r]===d[r];r++);var l=n-r;for(e=1;e<=l&&t[n-e]===d[f-e];e++);return Mu=d.slice(r,1<e?1-e:void 0)}function Cu(){return!0}function $u(){return!1}function is(r,t,n,e){this.dispatchConfig=r,this._targetInst=t,this.nativeEvent=n,r=this.constructor.Interface;for(var d in r)r.hasOwnProperty(d)&&((t=r[d])?this[d]=t(n):d==="target"?this.target=e:this[d]=n[d]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?Cu:$u,this.isPropagationStopped=$u,this}Un(is.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cu)},persist:function(){this.isPersistent=Cu},isPersistent:$u,destructor:function(){var r=this.constructor.Interface,t;for(t in r)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=$u,this._dispatchInstances=this._dispatchListeners=null}});is.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};is.extend=function(r){function t(){}function n(){return e.apply(this,arguments)}var e=this;t.prototype=e.prototype;var d=new t;return Un(d,n.prototype),n.prototype=d,n.prototype.constructor=n,n.Interface=Un({},e.Interface,r),n.extend=e.extend,ly(n),n};ly(is);function p2(r,t,n,e){if(this.eventPool.length){var d=this.eventPool.pop();return this.call(d,r,t,n,e),d}return new this(r,t,n,e)}function m2(r){if(!(r instanceof this))throw Error(Rt(279));r.destructor(),10>this.eventPool.length&&this.eventPool.push(r)}function ly(r){r.eventPool=[],r.getPooled=p2,r.release=m2}var y2=is.extend({data:null}),g2=is.extend({data:null}),v2=[9,13,27,32],$f=Ko&&"CompositionEvent"in window,Qa=null;Ko&&"documentMode"in document&&(Qa=document.documentMode);var _2=Ko&&"TextEvent"in window&&!Qa,uy=Ko&&(!$f||Qa&&8<Qa&&11>=Qa),D0=String.fromCharCode(32),eo={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},L0=!1;function cy(r,t){switch(r){case"keyup":return v2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function dy(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Hi=!1;function b2(r,t){switch(r){case"compositionend":return dy(t);case"keypress":return t.which!==32?null:(L0=!0,D0);case"textInput":return r=t.data,r===D0&&L0?null:r;default:return null}}function x2(r,t){if(Hi)return r==="compositionend"||!$f&&cy(r,t)?(r=ay(),Mu=Yf=Oo=null,Hi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return uy&&t.locale!=="ko"?null:t.data;default:return null}}var w2={eventTypes:eo,extractEvents:function(r,t,n,e){var d;if($f)e:{switch(r){case"compositionstart":var f=eo.compositionStart;break e;case"compositionend":f=eo.compositionEnd;break e;case"compositionupdate":f=eo.compositionUpdate;break e}f=void 0}else Hi?cy(r,n)&&(f=eo.compositionEnd):r==="keydown"&&n.keyCode===229&&(f=eo.compositionStart);return f?(uy&&n.locale!=="ko"&&(Hi||f!==eo.compositionStart?f===eo.compositionEnd&&Hi&&(d=ay()):(Oo=e,Yf="value"in Oo?Oo.value:Oo.textContent,Hi=!0)),f=y2.getPooled(f,t,n,e),d?f.data=d:(d=dy(n),d!==null&&(f.data=d)),la(f),d=f):d=null,(r=_2?b2(r,n):x2(r,n))?(t=g2.getPooled(eo.beforeInput,t,n,e),t.data=r,la(t)):t=null,d===null?t:t===null?d:[d,t]}},S2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!S2[r.type]:t==="textarea"}var fy={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function py(r,t,n){return r=is.getPooled(fy.change,r,t,n),r.type="change",x1(n),la(r),r}var Ka=null,cl=null;function j2(r){Gc(r)}function Hc(r){var t=gi(r);if(O1(t))return r}function T2(r,t){if(r==="change")return t}var Rh=!1;Ko&&(Rh=W1("input")&&(!document.documentMode||9<document.documentMode));function N0(){Ka&&(Ka.detachEvent("onpropertychange",my),cl=Ka=null)}function my(r){if(r.propertyName==="value"&&Hc(cl))if(r=py(cl,r,Ff(r)),oi)Gc(r);else{oi=!0;try{Cf(j2,r)}finally{oi=!1,kf()}}}function E2(r,t,n){r==="focus"?(N0(),Ka=t,cl=n,Ka.attachEvent("onpropertychange",my)):r==="blur"&&N0()}function M2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hc(cl)}function C2(r,t){if(r==="click")return Hc(t)}function A2(r,t){if(r==="input"||r==="change")return Hc(t)}var k2={eventTypes:fy,_isInputEventSupported:Rh,extractEvents:function(r,t,n,e){var d=t?gi(t):window,f=d.nodeName&&d.nodeName.toLowerCase();if(f==="select"||f==="input"&&d.type==="file")var l=T2;else if(hy(d))if(Rh)l=A2;else{l=M2;var o=E2}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(l=C2);if(l&&(l=l(r,t)))return py(l,n,e);o&&o(r,d,t),r==="blur"&&(r=d._wrapperState)&&r.controlled&&d.type==="number"&&gh(d,"number",d.value)}},Bl=is.extend({view:null,detail:null}),R2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O2(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=R2[r])?!!t[r]:!1}function Zf(){return O2}var B0=0,F0=0,U0=!1,V0=!1,Fl=Bl.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Zf,button:null,buttons:null,relatedTarget:function(r){return r.relatedTarget||(r.fromElement===r.srcElement?r.toElement:r.fromElement)},movementX:function(r){if("movementX"in r)return r.movementX;var t=B0;return B0=r.screenX,U0?r.type==="mousemove"?r.screenX-t:0:(U0=!0,0)},movementY:function(r){if("movementY"in r)return r.movementY;var t=F0;return F0=r.screenY,V0?r.type==="mousemove"?r.screenY-t:0:(V0=!0,0)}}),yy=Fl.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),za={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},P2={eventTypes:za,extractEvents:function(r,t,n,e,d){var f=r==="mouseover"||r==="pointerover",l=r==="mouseout"||r==="pointerout";if(f&&(d&32)===0&&(n.relatedTarget||n.fromElement)||!l&&!f)return null;if(f=e.window===e?e:(f=e.ownerDocument)?f.defaultView||f.parentWindow:window,l){if(l=t,t=(t=n.relatedTarget||n.toElement)?Ll(t):null,t!==null){var o=Ei(t);(t!==o||t.tag!==5&&t.tag!==6)&&(t=null)}}else l=null;if(l===t)return null;if(r==="mouseout"||r==="mouseover")var s=Fl,c=za.mouseLeave,m=za.mouseEnter,y="mouse";else(r==="pointerout"||r==="pointerover")&&(s=yy,c=za.pointerLeave,m=za.pointerEnter,y="pointer");if(r=l==null?f:gi(l),f=t==null?f:gi(t),c=s.getPooled(c,l,n,e),c.type=y+"leave",c.target=r,c.relatedTarget=f,n=s.getPooled(m,t,n,e),n.type=y+"enter",n.target=f,n.relatedTarget=r,e=l,y=t,e&&y)e:{for(s=e,m=y,l=0,r=s;r;r=ro(r))l++;for(r=0,t=m;t;t=ro(t))r++;for(;0<l-r;)s=ro(s),l--;for(;0<r-l;)m=ro(m),r--;for(;l--;){if(s===m||s===m.alternate)break e;s=ro(s),m=ro(m)}s=null}else s=null;for(m=s,s=[];e&&e!==m&&(l=e.alternate,!(l!==null&&l===m));)s.push(e),e=ro(e);for(e=[];y&&y!==m&&(l=y.alternate,!(l!==null&&l===m));)e.push(y),y=ro(y);for(y=0;y<s.length;y++)kh(s[y],"bubbled",c);for(y=e.length;0<y--;)kh(e[y],"captured",n);return(d&64)===0?[c]:[c,n]}};function I2(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var vi=typeof Object.is=="function"?Object.is:I2,D2=Object.prototype.hasOwnProperty;function dl(r,t){if(vi(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var n=Object.keys(r),e=Object.keys(t);if(n.length!==e.length)return!1;for(e=0;e<n.length;e++)if(!D2.call(t,n[e])||!vi(r[n[e]],t[n[e]]))return!1;return!0}var L2=Ko&&"documentMode"in document&&11>=document.documentMode,gy={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wi=null,Oh=null,Ja=null,Ph=!1;function G0(r,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;return Ph||Wi==null||Wi!==Mh(n)?null:(n=Wi,"selectionStart"in n&&Ch(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ja&&dl(Ja,n)?null:(Ja=n,r=is.getPooled(gy.select,Oh,r,t),r.type="select",r.target=Wi,la(r),r))}var N2={eventTypes:gy,extractEvents:function(r,t,n,e,d,f){if(d=f||(e.window===e?e.document:e.nodeType===9?e:e.ownerDocument),!(f=!d)){e:{d=Nf(d),f=Mf.onSelect;for(var l=0;l<f.length;l++)if(!d.has(f[l])){d=!1;break e}d=!0}f=!d}if(f)return null;switch(d=t?gi(t):window,r){case"focus":(hy(d)||d.contentEditable==="true")&&(Wi=d,Oh=t,Ja=null);break;case"blur":Ja=Oh=Wi=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":return Ph=!1,G0(n,e);case"selectionchange":if(L2)break;case"keydown":case"keyup":return G0(n,e)}return null}},B2=is.extend({animationName:null,elapsedTime:null,pseudoElement:null}),F2=is.extend({clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),U2=Bl.extend({relatedTarget:null});function Au(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}var V2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z2=Bl.extend({key:function(r){if(r.key){var t=V2[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=Au(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?G2[r.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Zf,charCode:function(r){return r.type==="keypress"?Au(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Au(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),H2=Fl.extend({dataTransfer:null}),W2=Bl.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Zf}),q2=is.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),X2=Fl.extend({deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:null,deltaMode:null}),Y2={eventTypes:K1,extractEvents:function(r,t,n,e){var d=J1.get(r);if(!d)return null;switch(r){case"keypress":if(Au(n)===0)return null;case"keydown":case"keyup":r=z2;break;case"blur":case"focus":r=U2;break;case"click":if(n.button===2)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=H2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=W2;break;case F1:case U1:case V1:r=B2;break;case G1:r=q2;break;case"scroll":r=Bl;break;case"wheel":r=X2;break;case"copy":case"cut":case"paste":r=F2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=yy;break;default:r=is}return t=r.getPooled(d,t,n,e),la(t),t}};if(Hu)throw Error(Rt(101));Hu=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" "));_1();var $2=Nl;Ef=Xf;g1=$2;v1=gi;b1({SimpleEventPlugin:Y2,EnterLeaveEventPlugin:P2,ChangeEventPlugin:k2,SelectEventPlugin:N2,BeforeInputEventPlugin:w2});var Ih=[],qi=-1;function Nr(r){0>qi||(r.current=Ih[qi],Ih[qi]=null,qi--)}function en(r,t){qi++,Ih[qi]=r.current,r.current=t}var qo={},Ln={current:qo},Hn={current:!1},_i=qo;function ua(r,t){var n=r.type.contextTypes;if(!n)return qo;var e=r.stateNode;if(e&&e.__reactInternalMemoizedUnmaskedChildContext===t)return e.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in n)d[f]=t[f];return e&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=d),d}function Wn(r){return r=r.childContextTypes,r!=null}function Zu(){Nr(Hn),Nr(Ln)}function z0(r,t,n){if(Ln.current!==qo)throw Error(Rt(168));en(Ln,t),en(Hn,n)}function vy(r,t,n){var e=r.stateNode;if(r=t.childContextTypes,typeof e.getChildContext!="function")return n;e=e.getChildContext();for(var d in e)if(!(d in r))throw Error(Rt(108,ho(t)||"Unknown",d));return Un({},n,{},e)}function ku(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||qo,_i=Ln.current,en(Ln,r),en(Hn,Hn.current),!0}function H0(r,t,n){var e=r.stateNode;if(!e)throw Error(Rt(169));n?(r=vy(r,t,_i),e.__reactInternalMemoizedMergedChildContext=r,Nr(Hn),Nr(Ln),en(Ln,r)):Nr(Hn),en(Hn,n)}var Z2=jn.unstable_runWithPriority,Qf=jn.unstable_scheduleCallback,_y=jn.unstable_cancelCallback,W0=jn.unstable_requestPaint,Dh=jn.unstable_now,Q2=jn.unstable_getCurrentPriorityLevel,Wc=jn.unstable_ImmediatePriority,by=jn.unstable_UserBlockingPriority,xy=jn.unstable_NormalPriority,wy=jn.unstable_LowPriority,Sy=jn.unstable_IdlePriority,jy={},K2=jn.unstable_shouldYield,J2=W0!==void 0?W0:function(){},so=null,Ru=null,Hd=!1,q0=Dh(),hs=1e4>q0?Dh:function(){return Dh()-q0};function qc(){switch(Q2()){case Wc:return 99;case by:return 98;case xy:return 97;case wy:return 96;case Sy:return 95;default:throw Error(Rt(332))}}function Ty(r){switch(r){case 99:return Wc;case 98:return by;case 97:return xy;case 96:return wy;case 95:return Sy;default:throw Error(Rt(332))}}function Xo(r,t){return r=Ty(r),Z2(r,t)}function Ey(r,t,n){return r=Ty(r),Qf(r,t,n)}function X0(r){return so===null?(so=[r],Ru=Qf(Wc,My)):so.push(r),jy}function Ws(){if(Ru!==null){var r=Ru;Ru=null,_y(r)}My()}function My(){if(!Hd&&so!==null){Hd=!0;var r=0;try{var t=so;Xo(99,function(){for(;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}}),so=null}catch(n){throw so!==null&&(so=so.slice(r+1)),Qf(Wc,Ws),n}finally{Hd=!1}}}function Ou(r,t,n){return n/=10,1073741821-(((1073741821-r+t/10)/n|0)+1)*n}function Ts(r,t){if(r&&r.defaultProps){t=Un({},t),r=r.defaultProps;for(var n in r)t[n]===void 0&&(t[n]=r[n])}return t}var Qu={current:null},Ku=null,Xi=null,Ju=null;function Kf(){Ju=Xi=Ku=null}function Jf(r){var t=Qu.current;Nr(Qu),r.type._context._currentValue=t}function Cy(r,t){for(;r!==null;){var n=r.alternate;if(r.childExpirationTime<t)r.childExpirationTime=t,n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t);else if(n!==null&&n.childExpirationTime<t)n.childExpirationTime=t;else break;r=r.return}}function ta(r,t){Ku=r,Ju=Xi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.expirationTime>=t&&(Bs=!0),r.firstContext=null)}function gs(r,t){if(Ju!==r&&t!==!1&&t!==0)if((typeof t!="number"||t===1073741823)&&(Ju=r,t=1073741823),t={context:r,observedBits:t,next:null},Xi===null){if(Ku===null)throw Error(Rt(308));Xi=t,Ku.dependencies={expirationTime:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return r._currentValue}var Co=!1;function ep(r){r.updateQueue={baseState:r.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function tp(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,baseQueue:r.baseQueue,shared:r.shared,effects:r.effects})}function Fo(r,t){return r={expirationTime:r,suspenseConfig:t,tag:0,payload:null,callback:null,next:null},r.next=r}function Uo(r,t){if(r=r.updateQueue,r!==null){r=r.shared;var n=r.pending;n===null?t.next=t:(t.next=n.next,n.next=t),r.pending=t}}function Y0(r,t){var n=r.alternate;n!==null&&tp(n,r),r=r.updateQueue,n=r.baseQueue,n===null?(r.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function hl(r,t,n,e){var d=r.updateQueue;Co=!1;var f=d.baseQueue,l=d.shared.pending;if(l!==null){if(f!==null){var o=f.next;f.next=l.next,l.next=o}f=l,d.shared.pending=null,o=r.alternate,o!==null&&(o=o.updateQueue,o!==null&&(o.baseQueue=l))}if(f!==null){o=f.next;var s=d.baseState,c=0,m=null,y=null,a=null;if(o!==null){var u=o;do{if(l=u.expirationTime,l<e){var i={expirationTime:u.expirationTime,suspenseConfig:u.suspenseConfig,tag:u.tag,payload:u.payload,callback:u.callback,next:null};a===null?(y=a=i,m=s):a=a.next=i,l>c&&(c=l)}else{a!==null&&(a=a.next={expirationTime:1073741823,suspenseConfig:u.suspenseConfig,tag:u.tag,payload:u.payload,callback:u.callback,next:null}),sg(l,u.suspenseConfig);e:{var h=r,p=u;switch(l=t,i=n,p.tag){case 1:if(h=p.payload,typeof h=="function"){s=h.call(i,s,l);break e}s=h;break e;case 3:h.effectTag=h.effectTag&-4097|64;case 0:if(h=p.payload,l=typeof h=="function"?h.call(i,s,l):h,l==null)break e;s=Un({},s,l);break e;case 2:Co=!0}}u.callback!==null&&(r.effectTag|=32,l=d.effects,l===null?d.effects=[u]:l.push(u))}if(u=u.next,u===null||u===o){if(l=d.shared.pending,l===null)break;u=f.next=l.next,l.next=o,d.baseQueue=f=l,d.shared.pending=null}}while(1)}a===null?m=s:a.next=y,d.baseState=m,d.baseQueue=a,Qc(c),r.expirationTime=c,r.memoizedState=s}}function $0(r,t,n){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var e=r[t],d=e.callback;if(d!==null){if(e.callback=null,e=d,d=n,typeof e!="function")throw Error(Rt(191,e));e.call(d)}}}var el=As.ReactCurrentBatchConfig,Ay=new Uc.Component().refs;function ec(r,t,n,e){t=r.memoizedState,n=n(e,t),n=n==null?t:Un({},t,n),r.memoizedState=n,r.expirationTime===0&&(r.updateQueue.baseState=n)}var Xc={isMounted:function(r){return(r=r._reactInternalFiber)?Ei(r)===r:!1},enqueueSetState:function(r,t,n){r=r._reactInternalFiber;var e=Vs(),d=el.suspense;e=pi(e,r,d),d=Fo(e,d),d.payload=t,n!=null&&(d.callback=n),Uo(r,d),Go(r,e)},enqueueReplaceState:function(r,t,n){r=r._reactInternalFiber;var e=Vs(),d=el.suspense;e=pi(e,r,d),d=Fo(e,d),d.tag=1,d.payload=t,n!=null&&(d.callback=n),Uo(r,d),Go(r,e)},enqueueForceUpdate:function(r,t){r=r._reactInternalFiber;var n=Vs(),e=el.suspense;n=pi(n,r,e),e=Fo(n,e),e.tag=2,t!=null&&(e.callback=t),Uo(r,e),Go(r,n)}};function Z0(r,t,n,e,d,f,l){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(e,f,l):t.prototype&&t.prototype.isPureReactComponent?!dl(n,e)||!dl(d,f):!0}function ky(r,t,n){var e=!1,d=qo,f=t.contextType;return typeof f=="object"&&f!==null?f=gs(f):(d=Wn(t)?_i:Ln.current,e=t.contextTypes,f=(e=e!=null)?ua(r,d):qo),t=new t(n,f),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xc,r.stateNode=t,t._reactInternalFiber=r,e&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=f),t}function Q0(r,t,n,e){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,e),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,e),t.state!==r&&Xc.enqueueReplaceState(t,t.state,null)}function Lh(r,t,n,e){var d=r.stateNode;d.props=n,d.state=r.memoizedState,d.refs=Ay,ep(r);var f=t.contextType;typeof f=="object"&&f!==null?d.context=gs(f):(f=Wn(t)?_i:Ln.current,d.context=ua(r,f)),hl(r,n,d,e),d.state=r.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(ec(r,t,f,n),d.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Xc.enqueueReplaceState(d,d.state,null),hl(r,n,d,e),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.effectTag|=4)}var iu=Array.isArray;function Ha(r,t,n){if(r=n.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Rt(309));var e=n.stateNode}if(!e)throw Error(Rt(147,r));var d=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(f){var l=e.refs;l===Ay&&(l=e.refs={}),f===null?delete l[d]:l[d]=f},t._stringRef=d,t)}if(typeof r!="string")throw Error(Rt(284));if(!n._owner)throw Error(Rt(290,r))}return r}function au(r,t){if(r.type!=="textarea")throw Error(Rt(31,Object.prototype.toString.call(t)==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ry(r){function t(p,g){if(r){var v=p.lastEffect;v!==null?(v.nextEffect=g,p.lastEffect=g):p.firstEffect=p.lastEffect=g,g.nextEffect=null,g.effectTag=8}}function n(p,g){if(!r)return null;for(;g!==null;)t(p,g),g=g.sibling;return null}function e(p,g){for(p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function d(p,g){return p=bi(p,g),p.index=0,p.sibling=null,p}function f(p,g,v){return p.index=v,r?(v=p.alternate,v!==null?(v=v.index,v<g?(p.effectTag=2,g):v):(p.effectTag=2,g)):g}function l(p){return r&&p.alternate===null&&(p.effectTag=2),p}function o(p,g,v,b){return g===null||g.tag!==6?(g=Zd(v,p.mode,b),g.return=p,g):(g=d(g,v),g.return=p,g)}function s(p,g,v,b){return g!==null&&g.elementType===v.type?(b=d(g,v.props),b.ref=Ha(p,g,v),b.return=p,b):(b=Lu(v.type,v.key,v.props,null,p.mode,b),b.ref=Ha(p,g,v),b.return=p,b)}function c(p,g,v,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=Qd(v,p.mode,b),g.return=p,g):(g=d(g,v.children||[]),g.return=p,g)}function m(p,g,v,b,w){return g===null||g.tag!==7?(g=Do(v,p.mode,b,w),g.return=p,g):(g=d(g,v),g.return=p,g)}function y(p,g,v){if(typeof g=="string"||typeof g=="number")return g=Zd(""+g,p.mode,v),g.return=p,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ru:return v=Lu(g.type,g.key,g.props,null,p.mode,v),v.ref=Ha(p,null,g),v.return=p,v;case Gi:return g=Qd(g,p.mode,v),g.return=p,g}if(iu(g)||Ba(g))return g=Do(g,p.mode,v,null),g.return=p,g;au(p,g)}return null}function a(p,g,v,b){var w=g!==null?g.key:null;if(typeof v=="string"||typeof v=="number")return w!==null?null:o(p,g,""+v,b);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ru:return v.key===w?v.type===si?m(p,g,v.props.children,b,w):s(p,g,v,b):null;case Gi:return v.key===w?c(p,g,v,b):null}if(iu(v)||Ba(v))return w!==null?null:m(p,g,v,b,null);au(p,v)}return null}function u(p,g,v,b,w){if(typeof b=="string"||typeof b=="number")return p=p.get(v)||null,o(g,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ru:return p=p.get(b.key===null?v:b.key)||null,b.type===si?m(g,p,b.props.children,w,b.key):s(g,p,b,w);case Gi:return p=p.get(b.key===null?v:b.key)||null,c(g,p,b,w)}if(iu(b)||Ba(b))return p=p.get(v)||null,m(g,p,b,w,null);au(g,b)}return null}function i(p,g,v,b){for(var w=null,x=null,k=g,E=g=0,M=null;k!==null&&E<v.length;E++){k.index>E?(M=k,k=null):M=k.sibling;var O=a(p,k,v[E],b);if(O===null){k===null&&(k=M);break}r&&k&&O.alternate===null&&t(p,k),g=f(O,g,E),x===null?w=O:x.sibling=O,x=O,k=M}if(E===v.length)return n(p,k),w;if(k===null){for(;E<v.length;E++)k=y(p,v[E],b),k!==null&&(g=f(k,g,E),x===null?w=k:x.sibling=k,x=k);return w}for(k=e(p,k);E<v.length;E++)M=u(k,p,E,v[E],b),M!==null&&(r&&M.alternate!==null&&k.delete(M.key===null?E:M.key),g=f(M,g,E),x===null?w=M:x.sibling=M,x=M);return r&&k.forEach(function(P){return t(p,P)}),w}function h(p,g,v,b){var w=Ba(v);if(typeof w!="function")throw Error(Rt(150));if(v=w.call(v),v==null)throw Error(Rt(151));for(var x=w=null,k=g,E=g=0,M=null,O=v.next();k!==null&&!O.done;E++,O=v.next()){k.index>E?(M=k,k=null):M=k.sibling;var P=a(p,k,O.value,b);if(P===null){k===null&&(k=M);break}r&&k&&P.alternate===null&&t(p,k),g=f(P,g,E),x===null?w=P:x.sibling=P,x=P,k=M}if(O.done)return n(p,k),w;if(k===null){for(;!O.done;E++,O=v.next())O=y(p,O.value,b),O!==null&&(g=f(O,g,E),x===null?w=O:x.sibling=O,x=O);return w}for(k=e(p,k);!O.done;E++,O=v.next())O=u(k,p,E,O.value,b),O!==null&&(r&&O.alternate!==null&&k.delete(O.key===null?E:O.key),g=f(O,g,E),x===null?w=O:x.sibling=O,x=O);return r&&k.forEach(function(D){return t(p,D)}),w}return function(p,g,v,b){var w=typeof v=="object"&&v!==null&&v.type===si&&v.key===null;w&&(v=v.props.children);var x=typeof v=="object"&&v!==null;if(x)switch(v.$$typeof){case ru:e:{for(x=v.key,w=g;w!==null;){if(w.key===x){switch(w.tag){case 7:if(v.type===si){n(p,w.sibling),g=d(w,v.props.children),g.return=p,p=g;break e}break;default:if(w.elementType===v.type){n(p,w.sibling),g=d(w,v.props),g.ref=Ha(p,w,v),g.return=p,p=g;break e}}n(p,w);break}else t(p,w);w=w.sibling}v.type===si?(g=Do(v.props.children,p.mode,b,v.key),g.return=p,p=g):(b=Lu(v.type,v.key,v.props,null,p.mode,b),b.ref=Ha(p,g,v),b.return=p,p=b)}return l(p);case Gi:e:{for(w=v.key;g!==null;){if(g.key===w)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(p,g.sibling),g=d(g,v.children||[]),g.return=p,p=g;break e}else{n(p,g);break}else t(p,g);g=g.sibling}g=Qd(v,p.mode,b),g.return=p,p=g}return l(p)}if(typeof v=="string"||typeof v=="number")return v=""+v,g!==null&&g.tag===6?(n(p,g.sibling),g=d(g,v),g.return=p,p=g):(n(p,g),g=Zd(v,p.mode,b),g.return=p,p=g),l(p);if(iu(v))return i(p,g,v,b);if(Ba(v))return h(p,g,v,b);if(x&&au(p,v),typeof v>"u"&&!w)switch(p.tag){case 1:case 0:throw p=p.type,Error(Rt(152,p.displayName||p.name||"Component"))}return n(p,g)}}var ca=Ry(!0),rp=Ry(!1),Ul={},Us={current:Ul},fl={current:Ul},pl={current:Ul};function ii(r){if(r===Ul)throw Error(Rt(174));return r}function Nh(r,t){switch(en(pl,t),en(fl,r),en(Us,Ul),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:bh(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=bh(t,r)}Nr(Us),en(Us,t)}function da(){Nr(Us),Nr(fl),Nr(pl)}function K0(r){ii(pl.current);var t=ii(Us.current),n=bh(t,r.type);t!==n&&(en(fl,r),en(Us,n))}function np(r){fl.current===r&&(Nr(Us),Nr(fl))}var Wr={current:0};function tc(r){for(var t=r;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data===Hf||n.data===Wf))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.effectTag&64)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function sp(r,t){return{responder:r,props:t}}var Pu=As.ReactCurrentDispatcher,ps=As.ReactCurrentBatchConfig,Po=0,dn=null,In=null,Dn=null,rc=!1;function Qn(){throw Error(Rt(321))}function op(r,t){if(t===null)return!1;for(var n=0;n<t.length&&n<r.length;n++)if(!vi(r[n],t[n]))return!1;return!0}function ip(r,t,n,e,d,f){if(Po=f,dn=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Pu.current=r===null||r.memoizedState===null?eb:tb,r=n(e,d),t.expirationTime===Po){f=0;do{if(t.expirationTime=0,!(25>f))throw Error(Rt(301));f+=1,Dn=In=null,t.updateQueue=null,Pu.current=rb,r=n(e,d)}while(t.expirationTime===Po)}if(Pu.current=oc,t=In!==null&&In.next!==null,Po=0,Dn=In=dn=null,rc=!1,t)throw Error(Rt(300));return r}function ra(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?dn.memoizedState=Dn=r:Dn=Dn.next=r,Dn}function ba(){if(In===null){var r=dn.alternate;r=r!==null?r.memoizedState:null}else r=In.next;var t=Dn===null?dn.memoizedState:Dn.next;if(t!==null)Dn=t,In=r;else{if(r===null)throw Error(Rt(310));In=r,r={memoizedState:In.memoizedState,baseState:In.baseState,baseQueue:In.baseQueue,queue:In.queue,next:null},Dn===null?dn.memoizedState=Dn=r:Dn=Dn.next=r}return Dn}function di(r,t){return typeof t=="function"?t(r):t}function lu(r){var t=ba(),n=t.queue;if(n===null)throw Error(Rt(311));n.lastRenderedReducer=r;var e=In,d=e.baseQueue,f=n.pending;if(f!==null){if(d!==null){var l=d.next;d.next=f.next,f.next=l}e.baseQueue=d=f,n.pending=null}if(d!==null){d=d.next,e=e.baseState;var o=l=f=null,s=d;do{var c=s.expirationTime;if(c<Po){var m={expirationTime:s.expirationTime,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null};o===null?(l=o=m,f=e):o=o.next=m,c>dn.expirationTime&&(dn.expirationTime=c,Qc(c))}else o!==null&&(o=o.next={expirationTime:1073741823,suspenseConfig:s.suspenseConfig,action:s.action,eagerReducer:s.eagerReducer,eagerState:s.eagerState,next:null}),sg(c,s.suspenseConfig),e=s.eagerReducer===r?s.eagerState:r(e,s.action);s=s.next}while(s!==null&&s!==d);o===null?f=e:o.next=l,vi(e,t.memoizedState)||(Bs=!0),t.memoizedState=e,t.baseState=f,t.baseQueue=o,n.lastRenderedState=e}return[t.memoizedState,n.dispatch]}function uu(r){var t=ba(),n=t.queue;if(n===null)throw Error(Rt(311));n.lastRenderedReducer=r;var e=n.dispatch,d=n.pending,f=t.memoizedState;if(d!==null){n.pending=null;var l=d=d.next;do f=r(f,l.action),l=l.next;while(l!==d);vi(f,t.memoizedState)||(Bs=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,e]}function Wd(r){var t=ra();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r=t.queue={pending:null,dispatch:null,lastRenderedReducer:di,lastRenderedState:r},r=r.dispatch=Ny.bind(null,dn,r),[t.memoizedState,r]}function Bh(r,t,n,e){return r={tag:r,create:t,destroy:n,deps:e,next:null},t=dn.updateQueue,t===null?(t={lastEffect:null},dn.updateQueue=t,t.lastEffect=r.next=r):(n=t.lastEffect,n===null?t.lastEffect=r.next=r:(e=n.next,n.next=r,r.next=e,t.lastEffect=r)),r}function Oy(){return ba().memoizedState}function Fh(r,t,n,e){var d=ra();dn.effectTag|=r,d.memoizedState=Bh(1|t,n,void 0,e===void 0?null:e)}function ap(r,t,n,e){var d=ba();e=e===void 0?null:e;var f=void 0;if(In!==null){var l=In.memoizedState;if(f=l.destroy,e!==null&&op(e,l.deps)){Bh(t,n,f,e);return}}dn.effectTag|=r,d.memoizedState=Bh(1|t,n,f,e)}function J0(r,t){return Fh(516,4,r,t)}function nc(r,t){return ap(516,4,r,t)}function Py(r,t){return ap(4,2,r,t)}function Iy(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function Dy(r,t,n){return n=n!=null?n.concat([r]):null,ap(4,2,Iy.bind(null,t,r),n)}function lp(){}function em(r,t){return ra().memoizedState=[r,t===void 0?null:t],r}function sc(r,t){var n=ba();t=t===void 0?null:t;var e=n.memoizedState;return e!==null&&t!==null&&op(t,e[1])?e[0]:(n.memoizedState=[r,t],r)}function Ly(r,t){var n=ba();t=t===void 0?null:t;var e=n.memoizedState;return e!==null&&t!==null&&op(t,e[1])?e[0]:(r=r(),n.memoizedState=[r,t],r)}function up(r,t,n){var e=qc();Xo(98>e?98:e,function(){r(!0)}),Xo(97<e?97:e,function(){var d=ps.suspense;ps.suspense=t===void 0?null:t;try{r(!1),n()}finally{ps.suspense=d}})}function Ny(r,t,n){var e=Vs(),d=el.suspense;e=pi(e,r,d),d={expirationTime:e,suspenseConfig:d,action:n,eagerReducer:null,eagerState:null,next:null};var f=t.pending;if(f===null?d.next=d:(d.next=f.next,f.next=d),t.pending=d,f=r.alternate,r===dn||f!==null&&f===dn)rc=!0,d.expirationTime=Po,dn.expirationTime=Po;else{if(r.expirationTime===0&&(f===null||f.expirationTime===0)&&(f=t.lastRenderedReducer,f!==null))try{var l=t.lastRenderedState,o=f(l,n);if(d.eagerReducer=f,d.eagerState=o,vi(o,l))return}catch{}finally{}Go(r,e)}}var oc={readContext:gs,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useResponder:Qn,useDeferredValue:Qn,useTransition:Qn},eb={readContext:gs,useCallback:em,useContext:gs,useEffect:J0,useImperativeHandle:function(r,t,n){return n=n!=null?n.concat([r]):null,Fh(4,2,Iy.bind(null,t,r),n)},useLayoutEffect:function(r,t){return Fh(4,2,r,t)},useMemo:function(r,t){var n=ra();return t=t===void 0?null:t,r=r(),n.memoizedState=[r,t],r},useReducer:function(r,t,n){var e=ra();return t=n!==void 0?n(t):t,e.memoizedState=e.baseState=t,r=e.queue={pending:null,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},r=r.dispatch=Ny.bind(null,dn,r),[e.memoizedState,r]},useRef:function(r){var t=ra();return r={current:r},t.memoizedState=r},useState:Wd,useDebugValue:lp,useResponder:sp,useDeferredValue:function(r,t){var n=Wd(r),e=n[0],d=n[1];return J0(function(){var f=ps.suspense;ps.suspense=t===void 0?null:t;try{d(r)}finally{ps.suspense=f}},[r,t]),e},useTransition:function(r){var t=Wd(!1),n=t[0];return t=t[1],[em(up.bind(null,t,r),[t,r]),n]}},tb={readContext:gs,useCallback:sc,useContext:gs,useEffect:nc,useImperativeHandle:Dy,useLayoutEffect:Py,useMemo:Ly,useReducer:lu,useRef:Oy,useState:function(){return lu(di)},useDebugValue:lp,useResponder:sp,useDeferredValue:function(r,t){var n=lu(di),e=n[0],d=n[1];return nc(function(){var f=ps.suspense;ps.suspense=t===void 0?null:t;try{d(r)}finally{ps.suspense=f}},[r,t]),e},useTransition:function(r){var t=lu(di),n=t[0];return t=t[1],[sc(up.bind(null,t,r),[t,r]),n]}},rb={readContext:gs,useCallback:sc,useContext:gs,useEffect:nc,useImperativeHandle:Dy,useLayoutEffect:Py,useMemo:Ly,useReducer:uu,useRef:Oy,useState:function(){return uu(di)},useDebugValue:lp,useResponder:sp,useDeferredValue:function(r,t){var n=uu(di),e=n[0],d=n[1];return nc(function(){var f=ps.suspense;ps.suspense=t===void 0?null:t;try{d(r)}finally{ps.suspense=f}},[r,t]),e},useTransition:function(r){var t=uu(di),n=t[0];return t=t[1],[sc(up.bind(null,t,r),[t,r]),n]}},lo=null,Io=null,hi=!1;function By(r,t){var n=Fs(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=r,n.effectTag=8,r.lastEffect!==null?(r.lastEffect.nextEffect=n,r.lastEffect=n):r.firstEffect=r.lastEffect=n}function tm(r,t){switch(r.tag){case 5:var n=r.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,!0):!1;case 13:return!1;default:return!1}}function Uh(r){if(hi){var t=Io;if(t){var n=t;if(!tm(r,t)){if(t=ea(n.nextSibling),!t||!tm(r,t)){r.effectTag=r.effectTag&-1025|2,hi=!1,lo=r;return}By(lo,n)}lo=r,Io=ea(t.firstChild)}else r.effectTag=r.effectTag&-1025|2,hi=!1,lo=r}}function rm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;lo=r}function cu(r){if(r!==lo)return!1;if(!hi)return rm(r),hi=!0,!1;var t=r.type;if(r.tag!==5||t!=="head"&&t!=="body"&&!Ah(t,r.memoizedProps))for(t=Io;t;)By(r,t),t=ea(t.nextSibling);if(rm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Rt(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var n=r.data;if(n===sy){if(t===0){Io=ea(r.nextSibling);break e}t--}else n!==ny&&n!==Wf&&n!==Hf||t++}r=r.nextSibling}Io=null}}else Io=lo?ea(r.stateNode.nextSibling):null;return!0}function qd(){Io=lo=null,hi=!1}var nb=As.ReactCurrentOwner,Bs=!1;function es(r,t,n,e){t.child=r===null?rp(t,null,n,e):ca(t,r.child,n,e)}function nm(r,t,n,e,d){n=n.render;var f=t.ref;return ta(t,d),e=ip(r,t,n,e,f,d),r!==null&&!Bs?(t.updateQueue=r.updateQueue,t.effectTag&=-517,r.expirationTime<=d&&(r.expirationTime=0),uo(r,t,d)):(t.effectTag|=1,es(r,t,e,d),t.child)}function sm(r,t,n,e,d,f){if(r===null){var l=n.type;return typeof l=="function"&&!pp(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Fy(r,t,l,e,d,f)):(r=Lu(n.type,null,e,null,t.mode,f),r.ref=t.ref,r.return=t,t.child=r)}return l=r.child,d<f&&(d=l.memoizedProps,n=n.compare,n=n!==null?n:dl,n(d,e)&&r.ref===t.ref)?uo(r,t,f):(t.effectTag|=1,r=bi(l,e),r.ref=t.ref,r.return=t,t.child=r)}function Fy(r,t,n,e,d,f){return r!==null&&dl(r.memoizedProps,e)&&r.ref===t.ref&&(Bs=!1,d<f)?(t.expirationTime=r.expirationTime,uo(r,t,f)):Vh(r,t,n,e,f)}function Uy(r,t){var n=t.ref;(r===null&&n!==null||r!==null&&r.ref!==n)&&(t.effectTag|=128)}function Vh(r,t,n,e,d){var f=Wn(n)?_i:Ln.current;return f=ua(t,f),ta(t,d),n=ip(r,t,n,e,f,d),r!==null&&!Bs?(t.updateQueue=r.updateQueue,t.effectTag&=-517,r.expirationTime<=d&&(r.expirationTime=0),uo(r,t,d)):(t.effectTag|=1,es(r,t,n,d),t.child)}function om(r,t,n,e,d){if(Wn(n)){var f=!0;ku(t)}else f=!1;if(ta(t,d),t.stateNode===null)r!==null&&(r.alternate=null,t.alternate=null,t.effectTag|=2),ky(t,n,e),Lh(t,n,e,d),e=!0;else if(r===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var s=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=gs(c):(c=Wn(n)?_i:Ln.current,c=ua(t,c));var m=n.getDerivedStateFromProps,y=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";y||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==e||s!==c)&&Q0(t,l,e,c),Co=!1;var a=t.memoizedState;l.state=a,hl(t,e,l,d),s=t.memoizedState,o!==e||a!==s||Hn.current||Co?(typeof m=="function"&&(ec(t,n,m,e),s=t.memoizedState),(o=Co||Z0(t,n,o,e,a,s,c))?(y||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.effectTag|=4)):(typeof l.componentDidMount=="function"&&(t.effectTag|=4),t.memoizedProps=e,t.memoizedState=s),l.props=e,l.state=s,l.context=c,e=o):(typeof l.componentDidMount=="function"&&(t.effectTag|=4),e=!1)}else l=t.stateNode,tp(r,t),o=t.memoizedProps,l.props=t.type===t.elementType?o:Ts(t.type,o),s=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=gs(c):(c=Wn(n)?_i:Ln.current,c=ua(t,c)),m=n.getDerivedStateFromProps,(y=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==e||s!==c)&&Q0(t,l,e,c),Co=!1,s=t.memoizedState,l.state=s,hl(t,e,l,d),a=t.memoizedState,o!==e||s!==a||Hn.current||Co?(typeof m=="function"&&(ec(t,n,m,e),a=t.memoizedState),(m=Co||Z0(t,n,o,e,s,a,c))?(y||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(e,a,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(e,a,c)),typeof l.componentDidUpdate=="function"&&(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.effectTag|=256)):(typeof l.componentDidUpdate!="function"||o===r.memoizedProps&&s===r.memoizedState||(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&s===r.memoizedState||(t.effectTag|=256),t.memoizedProps=e,t.memoizedState=a),l.props=e,l.state=a,l.context=c,e=m):(typeof l.componentDidUpdate!="function"||o===r.memoizedProps&&s===r.memoizedState||(t.effectTag|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&s===r.memoizedState||(t.effectTag|=256),e=!1);return Gh(r,t,n,e,f,d)}function Gh(r,t,n,e,d,f){Uy(r,t);var l=(t.effectTag&64)!==0;if(!e&&!l)return d&&H0(t,n,!1),uo(r,t,f);e=t.stateNode,nb.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:e.render();return t.effectTag|=1,r!==null&&l?(t.child=ca(t,r.child,null,f),t.child=ca(t,null,o,f)):es(r,t,o,f),t.memoizedState=e.state,d&&H0(t,n,!0),t.child}function im(r){var t=r.stateNode;t.pendingContext?z0(r,t.pendingContext,t.pendingContext!==t.context):t.context&&z0(r,t.context,!1),Nh(r,t.containerInfo)}var Xd={dehydrated:null,retryTime:0};function am(r,t,n){var e=t.mode,d=t.pendingProps,f=Wr.current,l=!1,o;if((o=(t.effectTag&64)!==0)||(o=(f&2)!==0&&(r===null||r.memoizedState!==null)),o?(l=!0,t.effectTag&=-65):r!==null&&r.memoizedState===null||d.fallback===void 0||d.unstable_avoidThisFallback===!0||(f|=1),en(Wr,f&1),r===null){if(d.fallback!==void 0&&Uh(t),l){if(l=d.fallback,d=Do(null,e,0,null),d.return=t,(t.mode&2)===0)for(r=t.memoizedState!==null?t.child.child:t.child,d.child=r;r!==null;)r.return=d,r=r.sibling;return n=Do(l,e,n,null),n.return=t,d.sibling=n,t.memoizedState=Xd,t.child=d,n}return e=d.children,t.memoizedState=null,t.child=rp(t,null,e,n)}if(r.memoizedState!==null){if(r=r.child,e=r.sibling,l){if(d=d.fallback,n=bi(r,r.pendingProps),n.return=t,(t.mode&2)===0&&(l=t.memoizedState!==null?t.child.child:t.child,l!==r.child))for(n.child=l;l!==null;)l.return=n,l=l.sibling;return e=bi(e,d),e.return=t,n.sibling=e,n.childExpirationTime=0,t.memoizedState=Xd,t.child=n,e}return n=ca(t,r.child,d.children,n),t.memoizedState=null,t.child=n}if(r=r.child,l){if(l=d.fallback,d=Do(null,e,0,null),d.return=t,d.child=r,r!==null&&(r.return=d),(t.mode&2)===0)for(r=t.memoizedState!==null?t.child.child:t.child,d.child=r;r!==null;)r.return=d,r=r.sibling;return n=Do(l,e,n,null),n.return=t,d.sibling=n,n.effectTag|=2,d.childExpirationTime=0,t.memoizedState=Xd,t.child=d,n}return t.memoizedState=null,t.child=ca(t,r,d.children,n)}function lm(r,t){r.expirationTime<t&&(r.expirationTime=t);var n=r.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t),Cy(r.return,t)}function Yd(r,t,n,e,d,f){var l=r.memoizedState;l===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:e,tail:n,tailExpiration:0,tailMode:d,lastEffect:f}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=e,l.tail=n,l.tailExpiration=0,l.tailMode=d,l.lastEffect=f)}function um(r,t,n){var e=t.pendingProps,d=e.revealOrder,f=e.tail;if(es(r,t,e.children,n),e=Wr.current,(e&2)!==0)e=e&1|2,t.effectTag|=64;else{if(r!==null&&(r.effectTag&64)!==0)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&lm(r,n);else if(r.tag===19)lm(r,n);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e&=1}if(en(Wr,e),(t.mode&2)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)r=n.alternate,r!==null&&tc(r)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),Yd(t,!1,d,n,f,t.lastEffect);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(r=d.alternate,r!==null&&tc(r)===null){t.child=d;break}r=d.sibling,d.sibling=n,n=d,d=r}Yd(t,!0,n,null,f,t.lastEffect);break;case"together":Yd(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function uo(r,t,n){r!==null&&(t.dependencies=r.dependencies);var e=t.expirationTime;if(e!==0&&Qc(e),t.childExpirationTime<n)return null;if(r!==null&&t.child!==r.child)throw Error(Rt(153));if(t.child!==null){for(r=t.child,n=bi(r,r.pendingProps),t.child=n,n.return=t;r.sibling!==null;)r=r.sibling,n=n.sibling=bi(r,r.pendingProps),n.return=t;n.sibling=null}return t.child}var Vy,zh,Gy,zy;Vy=function(r,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)r.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};zh=function(){};Gy=function(r,t,n,e,d){var f=r.memoizedProps;if(f!==e){var l=t.stateNode;switch(ii(Us.current),r=null,n){case"input":f=mh(l,f),e=mh(l,e),r=[];break;case"option":f=vh(l,f),e=vh(l,e),r=[];break;case"select":f=Un({},f,{value:void 0}),e=Un({},e,{value:void 0}),r=[];break;case"textarea":f=_h(l,f),e=_h(l,e),r=[];break;default:typeof f.onClick!="function"&&typeof e.onClick=="function"&&(l.onclick=Xu)}Th(n,e);var o,s;n=null;for(o in f)if(!e.hasOwnProperty(o)&&f.hasOwnProperty(o)&&f[o]!=null)if(o==="style")for(s in l=f[o],l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="");else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ia.hasOwnProperty(o)?r||(r=[]):(r=r||[]).push(o,null));for(o in e){var c=e[o];if(l=f!=null?f[o]:void 0,e.hasOwnProperty(o)&&c!==l&&(c!=null||l!=null))if(o==="style")if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(r||(r=[]),r.push(o,n)),n=c;else o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(r=r||[]).push(o,c)):o==="children"?l===c||typeof c!="string"&&typeof c!="number"||(r=r||[]).push(o,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(ia.hasOwnProperty(o)?(c!=null&&to(d,o),r||l===c||(r=[])):(r=r||[]).push(o,c))}n&&(r=r||[]).push("style",n),d=r,(t.updateQueue=d)&&(t.effectTag|=4)}};zy=function(r,t,n,e){n!==e&&(t.effectTag|=4)};function du(r,t){switch(r.tailMode){case"hidden":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?r.tail=null:n.sibling=null;break;case"collapsed":n=r.tail;for(var e=null;n!==null;)n.alternate!==null&&(e=n),n=n.sibling;e===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:e.sibling=null}}function sb(r,t,n){var e=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Wn(t.type)&&Zu(),null;case 3:return da(),Nr(Hn),Nr(Ln),n=t.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),r!==null&&r.child!==null||!cu(t)||(t.effectTag|=4),zh(t),null;case 5:np(t),n=ii(pl.current);var d=t.type;if(r!==null&&t.stateNode!=null)Gy(r,t,d,e,n),r.ref!==t.ref&&(t.effectTag|=128);else{if(!e){if(t.stateNode===null)throw Error(Rt(166));return null}if(r=ii(Us.current),cu(t)){e=t.stateNode,d=t.type;var f=t.memoizedProps;switch(e[Ro]=t,e[Yu]=f,d){case"iframe":case"object":case"embed":Vr("load",e);break;case"video":case"audio":for(r=0;r<qa.length;r++)Vr(qa[r],e);break;case"source":Vr("error",e);break;case"img":case"image":case"link":Vr("error",e),Vr("load",e);break;case"form":Vr("reset",e),Vr("submit",e);break;case"details":Vr("toggle",e);break;case"input":b0(e,f),Vr("invalid",e),to(n,"onChange");break;case"select":e._wrapperState={wasMultiple:!!f.multiple},Vr("invalid",e),to(n,"onChange");break;case"textarea":w0(e,f),Vr("invalid",e),to(n,"onChange")}Th(d,f),r=null;for(var l in f)if(f.hasOwnProperty(l)){var o=f[l];l==="children"?typeof o=="string"?e.textContent!==o&&(r=["children",o]):typeof o=="number"&&e.textContent!==""+o&&(r=["children",""+o]):ia.hasOwnProperty(l)&&o!=null&&to(n,l)}switch(d){case"input":nu(e),x0(e,f,!0);break;case"textarea":nu(e),S0(e);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(e.onclick=Xu)}n=r,t.updateQueue=n,n!==null&&(t.effectTag|=4)}else{switch(l=n.nodeType===9?n:n.ownerDocument,r===A0&&(r=L1(d)),r===A0?d==="script"?(r=l.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof e.is=="string"?r=l.createElement(d,{is:e.is}):(r=l.createElement(d),d==="select"&&(l=r,e.multiple?l.multiple=!0:e.size&&(l.size=e.size))):r=l.createElementNS(r,d),r[Ro]=t,r[Yu]=e,Vy(r,t,!1,!1),t.stateNode=r,l=Eh(d,e),d){case"iframe":case"object":case"embed":Vr("load",r),o=e;break;case"video":case"audio":for(o=0;o<qa.length;o++)Vr(qa[o],r);o=e;break;case"source":Vr("error",r),o=e;break;case"img":case"image":case"link":Vr("error",r),Vr("load",r),o=e;break;case"form":Vr("reset",r),Vr("submit",r),o=e;break;case"details":Vr("toggle",r),o=e;break;case"input":b0(r,e),o=mh(r,e),Vr("invalid",r),to(n,"onChange");break;case"option":o=vh(r,e);break;case"select":r._wrapperState={wasMultiple:!!e.multiple},o=Un({},e,{value:void 0}),Vr("invalid",r),to(n,"onChange");break;case"textarea":w0(r,e),o=_h(r,e),Vr("invalid",r),to(n,"onChange");break;default:o=e}Th(d,o);var s=o;for(f in s)if(s.hasOwnProperty(f)){var c=s[f];f==="style"?ty(r,c):f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&N1(r,c)):f==="children"?typeof c=="string"?(d!=="textarea"||c!=="")&&al(r,c):typeof c=="number"&&al(r,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(ia.hasOwnProperty(f)?c!=null&&to(n,f):c!=null&&Pf(r,f,c,l))}switch(d){case"input":nu(r),x0(r,e,!1);break;case"textarea":nu(r),S0(r);break;case"option":e.value!=null&&r.setAttribute("value",""+Wo(e.value));break;case"select":r.multiple=!!e.multiple,n=e.value,n!=null?Ji(r,!!e.multiple,n,!1):e.defaultValue!=null&&Ji(r,!!e.multiple,e.defaultValue,!0);break;default:typeof o.onClick=="function"&&(r.onclick=Xu)}oy(d,e)&&(t.effectTag|=4)}t.ref!==null&&(t.effectTag|=128)}return null;case 6:if(r&&t.stateNode!=null)zy(r,t,r.memoizedProps,e);else{if(typeof e!="string"&&t.stateNode===null)throw Error(Rt(166));n=ii(pl.current),ii(Us.current),cu(t)?(n=t.stateNode,e=t.memoizedProps,n[Ro]=t,n.nodeValue!==e&&(t.effectTag|=4)):(n=(n.nodeType===9?n:n.ownerDocument).createTextNode(e),n[Ro]=t,t.stateNode=n)}return null;case 13:return Nr(Wr),e=t.memoizedState,(t.effectTag&64)!==0?(t.expirationTime=n,t):(n=e!==null,e=!1,r===null?t.memoizedProps.fallback!==void 0&&cu(t):(d=r.memoizedState,e=d!==null,n||d===null||(d=r.child.sibling,d!==null&&(f=t.firstEffect,f!==null?(t.firstEffect=d,d.nextEffect=f):(t.firstEffect=t.lastEffect=d,d.nextEffect=null),d.effectTag=8))),n&&!e&&(t.mode&2)!==0&&(r===null&&t.memoizedProps.unstable_avoidThisFallback!==!0||(Wr.current&1)!==0?yn===fi&&(yn=lc):((yn===fi||yn===lc)&&(yn=Yc),yl!==0&&rs!==null&&(ui(rs,Xn),ug(rs,yl)))),(n||e)&&(t.effectTag|=4),null);case 4:return da(),zh(t),null;case 10:return Jf(t),null;case 17:return Wn(t.type)&&Zu(),null;case 19:if(Nr(Wr),e=t.memoizedState,e===null)return null;if(d=(t.effectTag&64)!==0,f=e.rendering,f===null){if(d)du(e,!1);else if(yn!==fi||r!==null&&(r.effectTag&64)!==0)for(f=t.child;f!==null;){if(r=tc(f),r!==null){for(t.effectTag|=64,du(e,!1),d=r.updateQueue,d!==null&&(t.updateQueue=d,t.effectTag|=4),e.lastEffect===null&&(t.firstEffect=null),t.lastEffect=e.lastEffect,e=t.child;e!==null;)d=e,f=n,d.effectTag&=2,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null,r=d.alternate,r===null?(d.childExpirationTime=0,d.expirationTime=f,d.child=null,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null):(d.childExpirationTime=r.childExpirationTime,d.expirationTime=r.expirationTime,d.child=r.child,d.memoizedProps=r.memoizedProps,d.memoizedState=r.memoizedState,d.updateQueue=r.updateQueue,f=r.dependencies,d.dependencies=f===null?null:{expirationTime:f.expirationTime,firstContext:f.firstContext,responders:f.responders}),e=e.sibling;return en(Wr,Wr.current&1|2),t.child}f=f.sibling}}else{if(!d)if(r=tc(f),r!==null){if(t.effectTag|=64,d=!0,n=r.updateQueue,n!==null&&(t.updateQueue=n,t.effectTag|=4),du(e,!0),e.tail===null&&e.tailMode==="hidden"&&!f.alternate)return t=t.lastEffect=e.lastEffect,t!==null&&(t.nextEffect=null),null}else 2*hs()-e.renderingStartTime>e.tailExpiration&&1<n&&(t.effectTag|=64,d=!0,du(e,!1),t.expirationTime=t.childExpirationTime=n-1);e.isBackwards?(f.sibling=t.child,t.child=f):(n=e.last,n!==null?n.sibling=f:t.child=f,e.last=f)}return e.tail!==null?(e.tailExpiration===0&&(e.tailExpiration=hs()+500),n=e.tail,e.rendering=n,e.tail=n.sibling,e.lastEffect=t.lastEffect,e.renderingStartTime=hs(),n.sibling=null,t=Wr.current,en(Wr,d?t&1|2:t&1),n):null}throw Error(Rt(156,t.tag))}function ob(r){switch(r.tag){case 1:Wn(r.type)&&Zu();var t=r.effectTag;return t&4096?(r.effectTag=t&-4097|64,r):null;case 3:if(da(),Nr(Hn),Nr(Ln),t=r.effectTag,(t&64)!==0)throw Error(Rt(285));return r.effectTag=t&-4097|64,r;case 5:return np(r),null;case 13:return Nr(Wr),t=r.effectTag,t&4096?(r.effectTag=t&-4097|64,r):null;case 19:return Nr(Wr),null;case 4:return da(),null;case 10:return Jf(r),null;default:return null}}function cp(r,t){return{value:r,source:t,stack:Lf(t)}}var ib=typeof WeakSet=="function"?WeakSet:Set;function Hh(r,t){var n=t.source,e=t.stack;e===null&&n!==null&&(e=Lf(n)),n!==null&&ho(n.type),t=t.value,r!==null&&r.tag===1&&ho(r.type);try{console.error(t)}catch(d){setTimeout(function(){throw d})}}function ab(r,t){try{t.props=r.memoizedProps,t.state=r.memoizedState,t.componentWillUnmount()}catch(n){mi(r,n)}}function cm(r){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){mi(r,n)}else t.current=null}function lb(r,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(t.effectTag&256&&r!==null){var n=r.memoizedProps,e=r.memoizedState;r=t.stateNode,t=r.getSnapshotBeforeUpdate(t.elementType===t.type?n:Ts(t.type,n),e),r.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(Rt(163))}function Hy(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&r)===r){var e=n.destroy;n.destroy=void 0,e!==void 0&&e()}n=n.next}while(n!==t)}}function Wy(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&r)===r){var e=n.create;n.destroy=e()}n=n.next}while(n!==t)}}function ub(r,t,n){switch(n.tag){case 0:case 11:case 15:case 22:Wy(3,n);return;case 1:if(r=n.stateNode,n.effectTag&4)if(t===null)r.componentDidMount();else{var e=n.elementType===n.type?t.memoizedProps:Ts(n.type,t.memoizedProps);r.componentDidUpdate(e,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}t=n.updateQueue,t!==null&&$0(n,t,r);return;case 3:if(t=n.updateQueue,t!==null){if(r=null,n.child!==null)switch(n.child.tag){case 5:r=n.child.stateNode;break;case 1:r=n.child.stateNode}$0(n,t,r)}return;case 5:r=n.stateNode,t===null&&n.effectTag&4&&oy(n.type,n.memoizedProps)&&r.focus();return;case 6:return;case 4:return;case 12:return;case 13:n.memoizedState===null&&(n=n.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&Q1(n))));return;case 19:case 17:case 20:case 21:return}throw Error(Rt(163))}function dm(r,t,n){switch(typeof Kh=="function"&&Kh(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null)){var e=r.next;Xo(97<n?97:n,function(){var d=e;do{var f=d.destroy;if(f!==void 0){var l=t;try{f()}catch(o){mi(l,o)}}d=d.next}while(d!==e)})}break;case 1:cm(t),n=t.stateNode,typeof n.componentWillUnmount=="function"&&ab(t,n);break;case 5:cm(t);break;case 4:Xy(r,t,n)}}function qy(r){var t=r.alternate;r.return=null,r.child=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.alternate=null,r.firstEffect=null,r.lastEffect=null,r.pendingProps=null,r.memoizedProps=null,r.stateNode=null,t!==null&&qy(t)}function hm(r){return r.tag===5||r.tag===3||r.tag===4}function fm(r){e:{for(var t=r.return;t!==null;){if(hm(t)){var n=t;break e}t=t.return}throw Error(Rt(160))}switch(t=n.stateNode,n.tag){case 5:var e=!1;break;case 3:t=t.containerInfo,e=!0;break;case 4:t=t.containerInfo,e=!0;break;default:throw Error(Rt(161))}n.effectTag&16&&(al(t,""),n.effectTag&=-17);e:t:for(n=r;;){for(;n.sibling===null;){if(n.return===null||hm(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.effectTag&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.effectTag&2)){n=n.stateNode;break e}}e?Wh(r,n,t):qh(r,n,t)}function Wh(r,t,n){var e=r.tag,d=e===5||e===6;if(d)r=d?r.stateNode:r.stateNode.instance,t?n.nodeType===8?n.parentNode.insertBefore(r,t):n.insertBefore(r,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(r,n)):(t=n,t.appendChild(r)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xu));else if(e!==4&&(r=r.child,r!==null))for(Wh(r,t,n),r=r.sibling;r!==null;)Wh(r,t,n),r=r.sibling}function qh(r,t,n){var e=r.tag,d=e===5||e===6;if(d)r=d?r.stateNode:r.stateNode.instance,t?n.insertBefore(r,t):n.appendChild(r);else if(e!==4&&(r=r.child,r!==null))for(qh(r,t,n),r=r.sibling;r!==null;)qh(r,t,n),r=r.sibling}function Xy(r,t,n){for(var e=t,d=!1,f,l;;){if(!d){d=e.return;e:for(;;){if(d===null)throw Error(Rt(160));switch(f=d.stateNode,d.tag){case 5:l=!1;break e;case 3:f=f.containerInfo,l=!0;break e;case 4:f=f.containerInfo,l=!0;break e}d=d.return}d=!0}if(e.tag===5||e.tag===6){e:for(var o=r,s=e,c=n,m=s;;)if(dm(o,m,c),m.child!==null&&m.tag!==4)m.child.return=m,m=m.child;else{if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}l?(o=f,s=e.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):f.removeChild(e.stateNode)}else if(e.tag===4){if(e.child!==null){f=e.stateNode.containerInfo,l=!0,e.child.return=e,e=e.child;continue}}else if(dm(r,e,n),e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return,e.tag===4&&(d=!1)}e.sibling.return=e.return,e=e.sibling}}function $d(r,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:Hy(3,t);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var e=t.memoizedProps,d=r!==null?r.memoizedProps:e;r=t.type;var f=t.updateQueue;if(t.updateQueue=null,f!==null){for(n[Yu]=e,r==="input"&&e.type==="radio"&&e.name!=null&&P1(n,e),Eh(r,d),t=Eh(r,e),d=0;d<f.length;d+=2){var l=f[d],o=f[d+1];l==="style"?ty(n,o):l==="dangerouslySetInnerHTML"?N1(n,o):l==="children"?al(n,o):Pf(n,l,o,t)}switch(r){case"input":yh(n,e);break;case"textarea":I1(n,e);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!e.multiple,r=e.value,r!=null?Ji(n,!!e.multiple,r,!1):t!==!!e.multiple&&(e.defaultValue!=null?Ji(n,!!e.multiple,e.defaultValue,!0):Ji(n,!!e.multiple,e.multiple?[]:"",!1))}}}return;case 6:if(t.stateNode===null)throw Error(Rt(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:t=t.stateNode,t.hydrate&&(t.hydrate=!1,Q1(t.containerInfo));return;case 12:return;case 13:if(n=t,t.memoizedState===null?e=!1:(e=!0,n=t.child,fp=hs()),n!==null)e:for(r=n;;){if(r.tag===5)f=r.stateNode,e?(f=f.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(f=r.stateNode,d=r.memoizedProps.style,d=d!=null&&d.hasOwnProperty("display")?d.display:null,f.style.display=ey("display",d));else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if(r.tag===13&&r.memoizedState!==null&&r.memoizedState.dehydrated===null){f=r.child.sibling,f.return=r,r=f;continue}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}pm(t);return;case 19:pm(t);return;case 17:return}throw Error(Rt(163))}function pm(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var n=r.stateNode;n===null&&(n=r.stateNode=new ib),t.forEach(function(e){var d=_b.bind(null,r,e);n.has(e)||(n.add(e),e.then(d,d))})}}var cb=typeof WeakMap=="function"?WeakMap:Map;function Yy(r,t,n){n=Fo(n,null),n.tag=3,n.payload={element:null};var e=t.value;return n.callback=function(){dc||(dc=!0,Xh=e),Hh(r,t)},n}function $y(r,t,n){n=Fo(n,null),n.tag=3;var e=r.type.getDerivedStateFromError;if(typeof e=="function"){var d=t.value;n.payload=function(){return Hh(r,t),e(d)}}var f=r.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(n.callback=function(){typeof e!="function"&&(Vo===null?Vo=new Set([this]):Vo.add(this),Hh(r,t));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}var db=Math.ceil,ic=As.ReactCurrentDispatcher,Zy=As.ReactCurrentOwner,gn=0,dp=8,ks=16,Gs=32,fi=0,ac=1,Qy=2,lc=3,Yc=4,hp=5,sr=gn,rs=null,ar=null,Xn=0,yn=fi,$c=null,oo=1073741823,ml=1073741823,uc=null,yl=0,cc=!1,fp=0,Ky=500,Kt=null,dc=!1,Xh=null,Vo=null,hc=!1,tl=null,Ya=90,ai=null,rl=0,Yh=null,Iu=0;function Vs(){return(sr&(ks|Gs))!==gn?1073741821-(hs()/10|0):Iu!==0?Iu:Iu=1073741821-(hs()/10|0)}function pi(r,t,n){if(t=t.mode,(t&2)===0)return 1073741823;var e=qc();if((t&4)===0)return e===99?1073741823:1073741822;if((sr&ks)!==gn)return Xn;if(n!==null)r=Ou(r,n.timeoutMs|0||5e3,250);else switch(e){case 99:r=1073741823;break;case 98:r=Ou(r,150,100);break;case 97:case 96:r=Ou(r,5e3,250);break;case 95:r=2;break;default:throw Error(Rt(326))}return rs!==null&&r===Xn&&--r,r}function Go(r,t){if(50<rl)throw rl=0,Yh=null,Error(Rt(185));if(r=Zc(r,t),r!==null){var n=qc();t===1073741823?(sr&dp)!==gn&&(sr&(ks|Gs))===gn?$h(r):(ns(r),sr===gn&&Ws()):ns(r),(sr&4)===gn||n!==98&&n!==99||(ai===null?ai=new Map([[r,t]]):(n=ai.get(r),(n===void 0||n>t)&&ai.set(r,t)))}}function Zc(r,t){r.expirationTime<t&&(r.expirationTime=t);var n=r.alternate;n!==null&&n.expirationTime<t&&(n.expirationTime=t);var e=r.return,d=null;if(e===null&&r.tag===3)d=r.stateNode;else for(;e!==null;){if(n=e.alternate,e.childExpirationTime<t&&(e.childExpirationTime=t),n!==null&&n.childExpirationTime<t&&(n.childExpirationTime=t),e.return===null&&e.tag===3){d=e.stateNode;break}e=e.return}return d!==null&&(rs===d&&(Qc(t),yn===Yc&&ui(d,Xn)),ug(d,t)),d}function Du(r){var t=r.lastExpiredTime;if(t!==0||(t=r.firstPendingTime,!lg(r,t)))return t;var n=r.lastPingedTime;return r=r.nextKnownPendingLevel,r=n>r?n:r,2>=r&&t!==r?0:r}function ns(r){if(r.lastExpiredTime!==0)r.callbackExpirationTime=1073741823,r.callbackPriority=99,r.callbackNode=X0($h.bind(null,r));else{var t=Du(r),n=r.callbackNode;if(t===0)n!==null&&(r.callbackNode=null,r.callbackExpirationTime=0,r.callbackPriority=90);else{var e=Vs();if(t===1073741823?e=99:t===1||t===2?e=95:(e=10*(1073741821-t)-10*(1073741821-e),e=0>=e?99:250>=e?98:5250>=e?97:95),n!==null){var d=r.callbackPriority;if(r.callbackExpirationTime===t&&d>=e)return;n!==jy&&_y(n)}r.callbackExpirationTime=t,r.callbackPriority=e,t=t===1073741823?X0($h.bind(null,r)):Ey(e,Jy.bind(null,r),{timeout:10*(1073741821-t)-hs()}),r.callbackNode=t}}}function Jy(r,t){if(Iu=0,t)return t=Vs(),Jh(r,t),ns(r),null;var n=Du(r);if(n!==0){if(t=r.callbackNode,(sr&(ks|Gs))!==gn)throw Error(Rt(327));if(xa(),r===rs&&n===Xn||li(r,n),ar!==null){var e=sr;sr|=ks;var d=ng();do try{pb();break}catch(o){rg(r,o)}while(1);if(Kf(),sr=e,ic.current=d,yn===ac)throw t=$c,li(r,n),ui(r,n),ns(r),t;if(ar===null)switch(d=r.finishedWork=r.current.alternate,r.finishedExpirationTime=n,e=yn,rs=null,e){case fi:case ac:throw Error(Rt(345));case Qy:Jh(r,2<n?2:n);break;case lc:if(ui(r,n),e=r.lastSuspendedTime,n===e&&(r.nextKnownPendingLevel=Zh(d)),oo===1073741823&&(d=fp+Ky-hs(),10<d)){if(cc){var f=r.lastPingedTime;if(f===0||f>=n){r.lastPingedTime=n,li(r,n);break}}if(f=Du(r),f!==0&&f!==n)break;if(e!==0&&e!==n){r.lastPingedTime=e;break}r.timeoutHandle=zd(ni.bind(null,r),d);break}ni(r);break;case Yc:if(ui(r,n),e=r.lastSuspendedTime,n===e&&(r.nextKnownPendingLevel=Zh(d)),cc&&(d=r.lastPingedTime,d===0||d>=n)){r.lastPingedTime=n,li(r,n);break}if(d=Du(r),d!==0&&d!==n)break;if(e!==0&&e!==n){r.lastPingedTime=e;break}if(ml!==1073741823?e=10*(1073741821-ml)-hs():oo===1073741823?e=0:(e=10*(1073741821-oo)-5e3,d=hs(),n=10*(1073741821-n)-d,e=d-e,0>e&&(e=0),e=(120>e?120:480>e?480:1080>e?1080:1920>e?1920:3e3>e?3e3:4320>e?4320:1960*db(e/1960))-e,n<e&&(e=n)),10<e){r.timeoutHandle=zd(ni.bind(null,r),e);break}ni(r);break;case hp:if(oo!==1073741823&&uc!==null){f=oo;var l=uc;if(e=l.busyMinDurationMs|0,0>=e?e=0:(d=l.busyDelayMs|0,f=hs()-(10*(1073741821-f)-(l.timeoutMs|0||5e3)),e=f<=d?0:d+e-f),10<e){ui(r,n),r.timeoutHandle=zd(ni.bind(null,r),e);break}}ni(r);break;default:throw Error(Rt(329))}if(ns(r),r.callbackNode===t)return Jy.bind(null,r)}}return null}function $h(r){var t=r.lastExpiredTime;if(t=t!==0?t:1073741823,(sr&(ks|Gs))!==gn)throw Error(Rt(327));if(xa(),r===rs&&t===Xn||li(r,t),ar!==null){var n=sr;sr|=ks;var e=ng();do try{fb();break}catch(d){rg(r,d)}while(1);if(Kf(),sr=n,ic.current=e,yn===ac)throw n=$c,li(r,t),ui(r,t),ns(r),n;if(ar!==null)throw Error(Rt(261));r.finishedWork=r.current.alternate,r.finishedExpirationTime=t,rs=null,ni(r),ns(r)}return null}function hb(){if(ai!==null){var r=ai;ai=null,r.forEach(function(t,n){Jh(n,t),ns(n)}),Ws()}}function eg(r,t){var n=sr;sr|=1;try{return r(t)}finally{sr=n,sr===gn&&Ws()}}function tg(r,t){var n=sr;sr&=-2,sr|=dp;try{return r(t)}finally{sr=n,sr===gn&&Ws()}}function li(r,t){r.finishedWork=null,r.finishedExpirationTime=0;var n=r.timeoutHandle;if(n!==-1&&(r.timeoutHandle=-1,d2(n)),ar!==null)for(n=ar.return;n!==null;){var e=n;switch(e.tag){case 1:e=e.type.childContextTypes,e!=null&&Zu();break;case 3:da(),Nr(Hn),Nr(Ln);break;case 5:np(e);break;case 4:da();break;case 13:Nr(Wr);break;case 19:Nr(Wr);break;case 10:Jf(e)}n=n.return}rs=r,ar=bi(r.current,null),Xn=t,yn=fi,$c=null,ml=oo=1073741823,uc=null,yl=0,cc=!1}function rg(r,t){do{try{if(Kf(),Pu.current=oc,rc)for(var n=dn.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}if(Po=0,Dn=In=dn=null,rc=!1,ar===null||ar.return===null)return yn=ac,$c=t,ar=null;e:{var d=r,f=ar.return,l=ar,o=t;if(t=Xn,l.effectTag|=2048,l.firstEffect=l.lastEffect=null,o!==null&&typeof o=="object"&&typeof o.then=="function"){var s=o;if((l.mode&2)===0){var c=l.alternate;c?(l.updateQueue=c.updateQueue,l.memoizedState=c.memoizedState,l.expirationTime=c.expirationTime):(l.updateQueue=null,l.memoizedState=null)}var m=(Wr.current&1)!==0,y=f;do{var a;if(a=y.tag===13){var u=y.memoizedState;if(u!==null)a=u.dehydrated!==null;else{var i=y.memoizedProps;a=i.fallback===void 0?!1:i.unstable_avoidThisFallback!==!0?!0:!m}}if(a){var h=y.updateQueue;if(h===null){var p=new Set;p.add(s),y.updateQueue=p}else h.add(s);if((y.mode&2)===0){if(y.effectTag|=64,l.effectTag&=-2981,l.tag===1)if(l.alternate===null)l.tag=17;else{var g=Fo(1073741823,null);g.tag=2,Uo(l,g)}l.expirationTime=1073741823;break e}o=void 0,l=t;var v=d.pingCache;if(v===null?(v=d.pingCache=new cb,o=new Set,v.set(s,o)):(o=v.get(s),o===void 0&&(o=new Set,v.set(s,o))),!o.has(l)){o.add(l);var b=vb.bind(null,d,s,l);s.then(b,b)}y.effectTag|=4096,y.expirationTime=t;break e}y=y.return}while(y!==null);o=Error((ho(l.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`+Lf(l))}yn!==hp&&(yn=Qy),o=cp(o,l),y=f;do{switch(y.tag){case 3:s=o,y.effectTag|=4096,y.expirationTime=t;var w=Yy(y,s,t);Y0(y,w);break e;case 1:s=o;var x=y.type,k=y.stateNode;if((y.effectTag&64)===0&&(typeof x.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Vo===null||!Vo.has(k)))){y.effectTag|=4096,y.expirationTime=t;var E=$y(y,s,t);Y0(y,E);break e}}y=y.return}while(y!==null)}ar=ig(ar)}catch(M){t=M;continue}break}while(1)}function ng(){var r=ic.current;return ic.current=oc,r===null?oc:r}function sg(r,t){r<oo&&2<r&&(oo=r),t!==null&&r<ml&&2<r&&(ml=r,uc=t)}function Qc(r){r>yl&&(yl=r)}function fb(){for(;ar!==null;)ar=og(ar)}function pb(){for(;ar!==null&&!K2();)ar=og(ar)}function og(r){var t=ag(r.alternate,r,Xn);return r.memoizedProps=r.pendingProps,t===null&&(t=ig(r)),Zy.current=null,t}function ig(r){ar=r;do{var t=ar.alternate;if(r=ar.return,(ar.effectTag&2048)===0){if(t=sb(t,ar,Xn),Xn===1||ar.childExpirationTime!==1){for(var n=0,e=ar.child;e!==null;){var d=e.expirationTime,f=e.childExpirationTime;d>n&&(n=d),f>n&&(n=f),e=e.sibling}ar.childExpirationTime=n}if(t!==null)return t;r!==null&&(r.effectTag&2048)===0&&(r.firstEffect===null&&(r.firstEffect=ar.firstEffect),ar.lastEffect!==null&&(r.lastEffect!==null&&(r.lastEffect.nextEffect=ar.firstEffect),r.lastEffect=ar.lastEffect),1<ar.effectTag&&(r.lastEffect!==null?r.lastEffect.nextEffect=ar:r.firstEffect=ar,r.lastEffect=ar))}else{if(t=ob(ar),t!==null)return t.effectTag&=2047,t;r!==null&&(r.firstEffect=r.lastEffect=null,r.effectTag|=2048)}if(t=ar.sibling,t!==null)return t;ar=r}while(ar!==null);return yn===fi&&(yn=hp),null}function Zh(r){var t=r.expirationTime;return r=r.childExpirationTime,t>r?t:r}function ni(r){var t=qc();return Xo(99,mb.bind(null,r,t)),null}function mb(r,t){do xa();while(tl!==null);if((sr&(ks|Gs))!==gn)throw Error(Rt(327));var n=r.finishedWork,e=r.finishedExpirationTime;if(n===null)return null;if(r.finishedWork=null,r.finishedExpirationTime=0,n===r.current)throw Error(Rt(177));r.callbackNode=null,r.callbackExpirationTime=0,r.callbackPriority=90,r.nextKnownPendingLevel=0;var d=Zh(n);if(r.firstPendingTime=d,e<=r.lastSuspendedTime?r.firstSuspendedTime=r.lastSuspendedTime=r.nextKnownPendingLevel=0:e<=r.firstSuspendedTime&&(r.firstSuspendedTime=e-1),e<=r.lastPingedTime&&(r.lastPingedTime=0),e<=r.lastExpiredTime&&(r.lastExpiredTime=0),r===rs&&(ar=rs=null,Xn=0),1<n.effectTag?n.lastEffect!==null?(n.lastEffect.nextEffect=n,d=n.firstEffect):d=n:d=n.firstEffect,d!==null){var f=sr;sr|=Gs,Zy.current=null,Vd=Eu;var l=O0();if(Ch(l)){if("selectionStart"in l)var o={start:l.selectionStart,end:l.selectionEnd};else e:{o=(o=l.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var c=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var y=0,a=-1,u=-1,i=0,h=0,p=l,g=null;t:for(;;){for(var v;p!==o||c!==0&&p.nodeType!==3||(a=y+c),p!==m||s!==0&&p.nodeType!==3||(u=y+s),p.nodeType===3&&(y+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===l)break t;if(g===o&&++i===c&&(a=y),g===m&&++h===s&&(u=y),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}o=a===-1||u===-1?null:{start:a,end:u}}else o=null}o=o||{start:0,end:0}}else o=null;Gd={activeElementDetached:null,focusedElem:l,selectionRange:o},Eu=!1,Kt=d;do try{yb()}catch(O){if(Kt===null)throw Error(Rt(330));mi(Kt,O),Kt=Kt.nextEffect}while(Kt!==null);Kt=d;do try{for(l=r,o=t;Kt!==null;){var b=Kt.effectTag;if(b&16&&al(Kt.stateNode,""),b&128){var w=Kt.alternate;if(w!==null){var x=w.ref;x!==null&&(typeof x=="function"?x(null):x.current=null)}}switch(b&1038){case 2:fm(Kt),Kt.effectTag&=-3;break;case 6:fm(Kt),Kt.effectTag&=-3,$d(Kt.alternate,Kt);break;case 1024:Kt.effectTag&=-1025;break;case 1028:Kt.effectTag&=-1025,$d(Kt.alternate,Kt);break;case 4:$d(Kt.alternate,Kt);break;case 8:c=Kt,Xy(l,c,o),qy(c)}Kt=Kt.nextEffect}}catch(O){if(Kt===null)throw Error(Rt(330));mi(Kt,O),Kt=Kt.nextEffect}while(Kt!==null);if(x=Gd,w=O0(),b=x.focusedElem,o=x.selectionRange,w!==b&&b&&b.ownerDocument&&ry(b.ownerDocument.documentElement,b)){for(o!==null&&Ch(b)&&(w=o.start,x=o.end,x===void 0&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window,x.getSelection&&(x=x.getSelection(),c=b.textContent.length,l=Math.min(o.start,c),o=o.end===void 0?l:Math.min(o.end,c),!x.extend&&l>o&&(c=o,o=l,l=c),c=R0(b,l),m=R0(b,o),c&&m&&(x.rangeCount!==1||x.anchorNode!==c.node||x.anchorOffset!==c.offset||x.focusNode!==m.node||x.focusOffset!==m.offset)&&(w=w.createRange(),w.setStart(c.node,c.offset),x.removeAllRanges(),l>o?(x.addRange(w),x.extend(m.node,m.offset)):(w.setEnd(m.node,m.offset),x.addRange(w)))))),w=[],x=b;x=x.parentNode;)x.nodeType===1&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<w.length;b++)x=w[b],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}Eu=!!Vd,Gd=Vd=null,r.current=n,Kt=d;do try{for(b=r;Kt!==null;){var k=Kt.effectTag;if(k&36&&ub(b,Kt.alternate,Kt),k&128){w=void 0;var E=Kt.ref;if(E!==null){var M=Kt.stateNode;switch(Kt.tag){case 5:w=M;break;default:w=M}typeof E=="function"?E(w):E.current=w}}Kt=Kt.nextEffect}}catch(O){if(Kt===null)throw Error(Rt(330));mi(Kt,O),Kt=Kt.nextEffect}while(Kt!==null);Kt=null,J2(),sr=f}else r.current=n;if(hc)hc=!1,tl=r,Ya=t;else for(Kt=d;Kt!==null;)t=Kt.nextEffect,Kt.nextEffect=null,Kt=t;if(t=r.firstPendingTime,t===0&&(Vo=null),t===1073741823?r===Yh?rl++:(rl=0,Yh=r):rl=0,typeof Qh=="function"&&Qh(n.stateNode,e),ns(r),dc)throw dc=!1,r=Xh,Xh=null,r;return(sr&dp)!==gn||Ws(),null}function yb(){for(;Kt!==null;){var r=Kt.effectTag;(r&256)!==0&&lb(Kt.alternate,Kt),(r&512)===0||hc||(hc=!0,Ey(97,function(){return xa(),null})),Kt=Kt.nextEffect}}function xa(){if(Ya!==90){var r=97<Ya?97:Ya;return Ya=90,Xo(r,gb)}}function gb(){if(tl===null)return!1;var r=tl;if(tl=null,(sr&(ks|Gs))!==gn)throw Error(Rt(331));var t=sr;for(sr|=Gs,r=r.current.firstEffect;r!==null;){try{var n=r;if((n.effectTag&512)!==0)switch(n.tag){case 0:case 11:case 15:case 22:Hy(5,n),Wy(5,n)}}catch(e){if(r===null)throw Error(Rt(330));mi(r,e)}n=r.nextEffect,r.nextEffect=null,r=n}return sr=t,Ws(),!0}function mm(r,t,n){t=cp(n,t),t=Yy(r,t,1073741823),Uo(r,t),r=Zc(r,1073741823),r!==null&&ns(r)}function mi(r,t){if(r.tag===3)mm(r,r,t);else for(var n=r.return;n!==null;){if(n.tag===3){mm(n,r,t);break}else if(n.tag===1){var e=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof e.componentDidCatch=="function"&&(Vo===null||!Vo.has(e))){r=cp(t,r),r=$y(n,r,1073741823),Uo(n,r),n=Zc(n,1073741823),n!==null&&ns(n);break}}n=n.return}}function vb(r,t,n){var e=r.pingCache;e!==null&&e.delete(t),rs===r&&Xn===n?yn===Yc||yn===lc&&oo===1073741823&&hs()-fp<Ky?li(r,Xn):cc=!0:lg(r,n)&&(t=r.lastPingedTime,t!==0&&t<n||(r.lastPingedTime=n,ns(r)))}function _b(r,t){var n=r.stateNode;n!==null&&n.delete(t),t=0,t===0&&(t=Vs(),t=pi(t,r,null)),r=Zc(r,t),r!==null&&ns(r)}var ag;ag=function(r,t,n){var e=t.expirationTime;if(r!==null){var d=t.pendingProps;if(r.memoizedProps!==d||Hn.current)Bs=!0;else{if(e<n){switch(Bs=!1,t.tag){case 3:im(t),qd();break;case 5:if(K0(t),t.mode&4&&n!==1&&d.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Wn(t.type)&&ku(t);break;case 4:Nh(t,t.stateNode.containerInfo);break;case 10:e=t.memoizedProps.value,d=t.type._context,en(Qu,d._currentValue),d._currentValue=e;break;case 13:if(t.memoizedState!==null)return e=t.child.childExpirationTime,e!==0&&e>=n?am(r,t,n):(en(Wr,Wr.current&1),t=uo(r,t,n),t!==null?t.sibling:null);en(Wr,Wr.current&1);break;case 19:if(e=t.childExpirationTime>=n,(r.effectTag&64)!==0){if(e)return um(r,t,n);t.effectTag|=64}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null),en(Wr,Wr.current),!e)return null}return uo(r,t,n)}Bs=!1}}else Bs=!1;switch(t.expirationTime=0,t.tag){case 2:if(e=t.type,r!==null&&(r.alternate=null,t.alternate=null,t.effectTag|=2),r=t.pendingProps,d=ua(t,Ln.current),ta(t,n),d=ip(null,t,e,r,d,n),t.effectTag|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wn(e)){var f=!0;ku(t)}else f=!1;t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ep(t);var l=e.getDerivedStateFromProps;typeof l=="function"&&ec(t,e,l,r),d.updater=Xc,t.stateNode=d,d._reactInternalFiber=t,Lh(t,e,r,n),t=Gh(null,t,e,!0,f,n)}else t.tag=0,es(null,t,d,n),t=t.child;return t;case 16:e:{if(d=t.elementType,r!==null&&(r.alternate=null,t.alternate=null,t.effectTag|=2),r=t.pendingProps,Y_(d),d._status!==1)throw d._result;switch(d=d._result,t.type=d,f=t.tag=wb(d),r=Ts(d,r),f){case 0:t=Vh(null,t,d,r,n);break e;case 1:t=om(null,t,d,r,n);break e;case 11:t=nm(null,t,d,r,n);break e;case 14:t=sm(null,t,d,Ts(d.type,r),e,n);break e}throw Error(Rt(306,d,""))}return t;case 0:return e=t.type,d=t.pendingProps,d=t.elementType===e?d:Ts(e,d),Vh(r,t,e,d,n);case 1:return e=t.type,d=t.pendingProps,d=t.elementType===e?d:Ts(e,d),om(r,t,e,d,n);case 3:if(im(t),e=t.updateQueue,r===null||e===null)throw Error(Rt(282));if(e=t.pendingProps,d=t.memoizedState,d=d!==null?d.element:null,tp(r,t),hl(t,e,null,n),e=t.memoizedState.element,e===d)qd(),t=uo(r,t,n);else{if((d=t.stateNode.hydrate)&&(Io=ea(t.stateNode.containerInfo.firstChild),lo=t,d=hi=!0),d)for(n=rp(t,null,e,n),t.child=n;n;)n.effectTag=n.effectTag&-3|1024,n=n.sibling;else es(r,t,e,n),qd();t=t.child}return t;case 5:return K0(t),r===null&&Uh(t),e=t.type,d=t.pendingProps,f=r!==null?r.memoizedProps:null,l=d.children,Ah(e,d)?l=null:f!==null&&Ah(e,f)&&(t.effectTag|=16),Uy(r,t),t.mode&4&&n!==1&&d.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(es(r,t,l,n),t=t.child),t;case 6:return r===null&&Uh(t),null;case 13:return am(r,t,n);case 4:return Nh(t,t.stateNode.containerInfo),e=t.pendingProps,r===null?t.child=ca(t,null,e,n):es(r,t,e,n),t.child;case 11:return e=t.type,d=t.pendingProps,d=t.elementType===e?d:Ts(e,d),nm(r,t,e,d,n);case 7:return es(r,t,t.pendingProps,n),t.child;case 8:return es(r,t,t.pendingProps.children,n),t.child;case 12:return es(r,t,t.pendingProps.children,n),t.child;case 10:e:{e=t.type._context,d=t.pendingProps,l=t.memoizedProps,f=d.value;var o=t.type._context;if(en(Qu,o._currentValue),o._currentValue=f,l!==null)if(o=l.value,f=vi(o,f)?0:(typeof e._calculateChangedBits=="function"?e._calculateChangedBits(o,f):1073741823)|0,f===0){if(l.children===d.children&&!Hn.current){t=uo(r,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){l=o.child;for(var c=s.firstContext;c!==null;){if(c.context===e&&(c.observedBits&f)!==0){o.tag===1&&(c=Fo(n,null),c.tag=2,Uo(o,c)),o.expirationTime<n&&(o.expirationTime=n),c=o.alternate,c!==null&&c.expirationTime<n&&(c.expirationTime=n),Cy(o.return,n),s.expirationTime<n&&(s.expirationTime=n);break}c=c.next}}else l=o.tag===10&&o.type===t.type?null:o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}es(r,t,d.children,n),t=t.child}return t;case 9:return d=t.type,f=t.pendingProps,e=f.children,ta(t,n),d=gs(d,f.unstable_observedBits),e=e(d),t.effectTag|=1,es(r,t,e,n),t.child;case 14:return d=t.type,f=Ts(d,t.pendingProps),f=Ts(d.type,f),sm(r,t,d,f,e,n);case 15:return Fy(r,t,t.type,t.pendingProps,e,n);case 17:return e=t.type,d=t.pendingProps,d=t.elementType===e?d:Ts(e,d),r!==null&&(r.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Wn(e)?(r=!0,ku(t)):r=!1,ta(t,n),ky(t,e,d),Lh(t,e,d,n),Gh(null,t,e,!0,r,n);case 19:return um(r,t,n)}throw Error(Rt(156,t.tag))};var Qh=null,Kh=null;function bb(r){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(r);Qh=function(e){try{t.onCommitFiberRoot(n,e,void 0,(e.current.effectTag&64)===64)}catch{}},Kh=function(e){try{t.onCommitFiberUnmount(n,e)}catch{}}}catch{}return!0}function xb(r,t,n,e){this.tag=r,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=e,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Fs(r,t,n,e){return new xb(r,t,n,e)}function pp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function wb(r){if(typeof r=="function")return pp(r)?1:0;if(r!=null){if(r=r.$$typeof,r===If)return 11;if(r===Df)return 14}return 2}function bi(r,t){var n=r.alternate;return n===null?(n=Fs(r.tag,t,r.key,r.mode),n.elementType=r.elementType,n.type=r.type,n.stateNode=r.stateNode,n.alternate=r,r.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=r.childExpirationTime,n.expirationTime=r.expirationTime,n.child=r.child,n.memoizedProps=r.memoizedProps,n.memoizedState=r.memoizedState,n.updateQueue=r.updateQueue,t=r.dependencies,n.dependencies=t===null?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=r.sibling,n.index=r.index,n.ref=r.ref,n}function Lu(r,t,n,e,d,f){var l=2;if(e=r,typeof r=="function")pp(r)&&(l=1);else if(typeof r=="string")l=5;else e:switch(r){case si:return Do(n.children,d,f,t);case X_:l=8,d|=7;break;case E1:l=8,d|=1;break;case Su:return r=Fs(12,n,t,d|8),r.elementType=Su,r.type=Su,r.expirationTime=f,r;case ju:return r=Fs(13,n,t,d),r.type=ju,r.elementType=ju,r.expirationTime=f,r;case ph:return r=Fs(19,n,t,d),r.elementType=ph,r.expirationTime=f,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case M1:l=10;break e;case C1:l=9;break e;case If:l=11;break e;case Df:l=14;break e;case A1:l=16,e=null;break e;case k1:l=22;break e}throw Error(Rt(130,r==null?r:typeof r,""))}return t=Fs(l,n,t,d),t.elementType=r,t.type=e,t.expirationTime=f,t}function Do(r,t,n,e){return r=Fs(7,r,e,t),r.expirationTime=n,r}function Zd(r,t,n){return r=Fs(6,r,null,t),r.expirationTime=n,r}function Qd(r,t,n){return t=Fs(4,r.children!==null?r.children:[],r.key,t),t.expirationTime=n,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function Sb(r,t,n){this.tag=t,this.current=null,this.containerInfo=r,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function lg(r,t){var n=r.firstSuspendedTime;return r=r.lastSuspendedTime,n!==0&&n>=t&&r<=t}function ui(r,t){var n=r.firstSuspendedTime,e=r.lastSuspendedTime;n<t&&(r.firstSuspendedTime=t),(e>t||n===0)&&(r.lastSuspendedTime=t),t<=r.lastPingedTime&&(r.lastPingedTime=0),t<=r.lastExpiredTime&&(r.lastExpiredTime=0)}function ug(r,t){t>r.firstPendingTime&&(r.firstPendingTime=t);var n=r.firstSuspendedTime;n!==0&&(t>=n?r.firstSuspendedTime=r.lastSuspendedTime=r.nextKnownPendingLevel=0:t>=r.lastSuspendedTime&&(r.lastSuspendedTime=t+1),t>r.nextKnownPendingLevel&&(r.nextKnownPendingLevel=t))}function Jh(r,t){var n=r.lastExpiredTime;(n===0||n>t)&&(r.lastExpiredTime=t)}function fc(r,t,n,e){var d=t.current,f=Vs(),l=el.suspense;f=pi(f,d,l);e:if(n){n=n._reactInternalFiber;t:{if(Ei(n)!==n||n.tag!==1)throw Error(Rt(170));var o=n;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Wn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(Rt(171))}if(n.tag===1){var s=n.type;if(Wn(s)){n=vy(n,s,o);break e}}n=o}else n=qo;return t.context===null?t.context=n:t.pendingContext=n,t=Fo(f,l),t.payload={element:r},e=e===void 0?null:e,e!==null&&(t.callback=e),Uo(d,t),Go(d,f),f}function Kd(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ym(r,t){r=r.memoizedState,r!==null&&r.dehydrated!==null&&r.retryTime<t&&(r.retryTime=t)}function mp(r,t){ym(r,t),(r=r.alternate)&&ym(r,t)}function yp(r,t,n){n=n!=null&&n.hydrate===!0;var e=new Sb(r,t,n),d=Fs(3,null,null,t===2?7:t===1?3:0);e.current=d,d.stateNode=e,ep(d),r[Dl]=e.current,n&&t!==0&&e2(r,r.nodeType===9?r:r.ownerDocument),this._internalRoot=e}yp.prototype.render=function(r){fc(r,this._internalRoot,null,null)};yp.prototype.unmount=function(){var r=this._internalRoot,t=r.containerInfo;fc(null,r,null,function(){t[Dl]=null})};function Vl(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function jb(r,t){if(t||(t=r?r.nodeType===9?r.documentElement:r.firstChild:null,t=!(!t||t.nodeType!==1||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=r.lastChild;)r.removeChild(n);return new yp(r,0,t?{hydrate:!0}:void 0)}function Kc(r,t,n,e,d){var f=n._reactRootContainer;if(f){var l=f._internalRoot;if(typeof d=="function"){var o=d;d=function(){var c=Kd(l);o.call(c)}}fc(t,l,r,d)}else{if(f=n._reactRootContainer=jb(n,e),l=f._internalRoot,typeof d=="function"){var s=d;d=function(){var c=Kd(l);s.call(c)}}tg(function(){fc(t,l,r,d)})}return Kd(l)}function Tb(r,t,n){var e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:e==null?null:""+e,children:r,containerInfo:t,implementation:n}}$1=function(r){if(r.tag===13){var t=Ou(Vs(),150,100);Go(r,t),mp(r,t)}};Uf=function(r){r.tag===13&&(Go(r,3),mp(r,3))};Z1=function(r){if(r.tag===13){var t=Vs();t=pi(t,r,null),Go(r,t),mp(r,t)}};fh=function(r,t,n){switch(t){case"input":if(yh(r,n),t=n.name,n.type==="radio"&&t!=null){for(n=r;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var e=n[t];if(e!==r&&e.form===r.form){var d=Xf(e);if(!d)throw Error(Rt(90));O1(e),yh(e,d)}}}break;case"textarea":I1(r,n);break;case"select":t=n.value,t!=null&&Ji(r,!!n.multiple,t,!1)}};Cf=eg;S1=function(r,t,n,e,d){var f=sr;sr|=4;try{return Xo(98,r.bind(null,t,n,e,d))}finally{sr=f,sr===gn&&Ws()}};Af=function(){(sr&(1|ks|Gs))===gn&&(hb(),xa())};j1=function(r,t){var n=sr;sr|=2;try{return r(t)}finally{sr=n,sr===gn&&Ws()}};function cg(r,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vl(t))throw Error(Rt(200));return Tb(r,t,null,n)}var Eb={Events:[Nl,gi,Xf,b1,hh,la,function(r){Bf(r,f2)},x1,w1,zc,Gc,xa,{current:!1}]};(function(r){var t=r.findFiberByHostInstance;return bb(Un({},r,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:As.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=H1(n),n===null?null:n.stateNode},findFiberByHostInstance:function(n){return t?t(n):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Ll,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Eb;vs.createPortal=cg;vs.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternalFiber;if(t===void 0)throw typeof r.render=="function"?Error(Rt(188)):Error(Rt(268,Object.keys(r)));return r=H1(t),r=r===null?null:r.stateNode,r};vs.flushSync=function(r,t){if((sr&(ks|Gs))!==gn)throw Error(Rt(187));var n=sr;sr|=1;try{return Xo(99,r.bind(null,t))}finally{sr=n,Ws()}};vs.hydrate=function(r,t,n){if(!Vl(t))throw Error(Rt(200));return Kc(null,r,t,!0,n)};vs.render=function(r,t,n){if(!Vl(t))throw Error(Rt(200));return Kc(null,r,t,!1,n)};vs.unmountComponentAtNode=function(r){if(!Vl(r))throw Error(Rt(40));return r._reactRootContainer?(tg(function(){Kc(null,null,r,!1,function(){r._reactRootContainer=null,r[Dl]=null})}),!0):!1};vs.unstable_batchedUpdates=eg;vs.unstable_createPortal=function(r,t){return cg(r,t,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};vs.unstable_renderSubtreeIntoContainer=function(r,t,n,e){if(!Vl(n))throw Error(Rt(200));if(r==null||r._reactInternalFiber===void 0)throw Error(Rt(38));return Kc(r,t,n,!1,e)};vs.version="16.14.0";(function(r){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}t(),r.exports=vs})(Fc);const Mb=bf(Fc.exports);var gp={exports:{}},_r={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=Symbol.for("react.element"),_p=Symbol.for("react.portal"),Jc=Symbol.for("react.fragment"),ed=Symbol.for("react.strict_mode"),td=Symbol.for("react.profiler"),rd=Symbol.for("react.provider"),nd=Symbol.for("react.context"),Cb=Symbol.for("react.server_context"),sd=Symbol.for("react.forward_ref"),od=Symbol.for("react.suspense"),id=Symbol.for("react.suspense_list"),ad=Symbol.for("react.memo"),ld=Symbol.for("react.lazy"),Ab=Symbol.for("react.offscreen"),dg;dg=Symbol.for("react.module.reference");function _s(r){if(typeof r=="object"&&r!==null){var t=r.$$typeof;switch(t){case vp:switch(r=r.type,r){case Jc:case td:case ed:case od:case id:return r;default:switch(r=r&&r.$$typeof,r){case Cb:case nd:case sd:case ld:case ad:case rd:return r;default:return t}}case _p:return t}}}_r.ContextConsumer=nd;_r.ContextProvider=rd;_r.Element=vp;_r.ForwardRef=sd;_r.Fragment=Jc;_r.Lazy=ld;_r.Memo=ad;_r.Portal=_p;_r.Profiler=td;_r.StrictMode=ed;_r.Suspense=od;_r.SuspenseList=id;_r.isAsyncMode=function(){return!1};_r.isConcurrentMode=function(){return!1};_r.isContextConsumer=function(r){return _s(r)===nd};_r.isContextProvider=function(r){return _s(r)===rd};_r.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===vp};_r.isForwardRef=function(r){return _s(r)===sd};_r.isFragment=function(r){return _s(r)===Jc};_r.isLazy=function(r){return _s(r)===ld};_r.isMemo=function(r){return _s(r)===ad};_r.isPortal=function(r){return _s(r)===_p};_r.isProfiler=function(r){return _s(r)===td};_r.isStrictMode=function(r){return _s(r)===ed};_r.isSuspense=function(r){return _s(r)===od};_r.isSuspenseList=function(r){return _s(r)===id};_r.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===Jc||r===td||r===ed||r===od||r===id||r===Ab||typeof r=="object"&&r!==null&&(r.$$typeof===ld||r.$$typeof===ad||r.$$typeof===rd||r.$$typeof===nd||r.$$typeof===sd||r.$$typeof===dg||r.getModuleId!==void 0)};_r.typeOf=_s;(function(r){r.exports=_r})(gp);function kb(r){function t(ne,R,j,N,F){for(var ie=0,ae=0,Te=0,ke=0,Me,Se,Xe=0,ve=0,Ce,Fe=Ce=Me=0,ze=0,Ve=0,ot=0,se=0,Ne=j.length,Oe=Ne-1,We,Ke="",Ge="",et="",ut="",Be;ze<Ne;){if(Se=j.charCodeAt(ze),ze===Oe&&ae+ke+Te+ie!==0&&(ae!==0&&(Se=ae===47?10:47),ke=Te=ie=0,Ne++,Oe++),ae+ke+Te+ie===0){if(ze===Oe&&(0<Ve&&(Ke=Ke.replace(a,"")),0<Ke.trim().length)){switch(Se){case 32:case 9:case 59:case 13:case 10:break;default:Ke+=j.charAt(ze)}Se=59}switch(Se){case 123:for(Ke=Ke.trim(),Me=Ke.charCodeAt(0),Ce=1,se=++ze;ze<Ne;){switch(Se=j.charCodeAt(ze)){case 123:Ce++;break;case 125:Ce--;break;case 47:switch(Se=j.charCodeAt(ze+1)){case 42:case 47:e:{for(Fe=ze+1;Fe<Oe;++Fe)switch(j.charCodeAt(Fe)){case 47:if(Se===42&&j.charCodeAt(Fe-1)===42&&ze+2!==Fe){ze=Fe+1;break e}break;case 10:if(Se===47){ze=Fe+1;break e}}ze=Fe}}break;case 91:Se++;case 40:Se++;case 34:case 39:for(;ze++<Oe&&j.charCodeAt(ze)!==Se;);}if(Ce===0)break;ze++}switch(Ce=j.substring(se,ze),Me===0&&(Me=(Ke=Ke.replace(y,"").trim()).charCodeAt(0)),Me){case 64:switch(0<Ve&&(Ke=Ke.replace(a,"")),Se=Ke.charCodeAt(1),Se){case 100:case 109:case 115:case 45:Ve=R;break;default:Ve=re}if(Ce=t(R,Ve,Ce,Se,F+1),se=Ce.length,0<ue&&(Ve=n(re,Ke,ot),Be=o(3,Ce,Ve,R,z,U,se,Se,F,N),Ke=Ve.join(""),Be!==void 0&&(se=(Ce=Be.trim()).length)===0&&(Se=0,Ce="")),0<se)switch(Se){case 115:Ke=Ke.replace(k,l);case 100:case 109:case 45:Ce=Ke+"{"+Ce+"}";break;case 107:Ke=Ke.replace(v,"$1 $2"),Ce=Ke+"{"+Ce+"}",Ce=K===1||K===2&&f("@"+Ce,3)?"@-webkit-"+Ce+"@"+Ce:"@"+Ce;break;default:Ce=Ke+Ce,N===112&&(Ce=(Ge+=Ce,""))}else Ce="";break;default:Ce=t(R,n(R,Ke,ot),Ce,N,F+1)}et+=Ce,Ce=ot=Ve=Fe=Me=0,Ke="",Se=j.charCodeAt(++ze);break;case 125:case 59:if(Ke=(0<Ve?Ke.replace(a,""):Ke).trim(),1<(se=Ke.length))switch(Fe===0&&(Me=Ke.charCodeAt(0),Me===45||96<Me&&123>Me)&&(se=(Ke=Ke.replace(" ",":")).length),0<ue&&(Be=o(1,Ke,R,ne,z,U,Ge.length,N,F,N))!==void 0&&(se=(Ke=Be.trim()).length)===0&&(Ke="\0\0"),Me=Ke.charCodeAt(0),Se=Ke.charCodeAt(1),Me){case 0:break;case 64:if(Se===105||Se===99){ut+=Ke+j.charAt(ze);break}default:Ke.charCodeAt(se-1)!==58&&(Ge+=d(Ke,Me,Se,Ke.charCodeAt(2)))}ot=Ve=Fe=Me=0,Ke="",Se=j.charCodeAt(++ze)}}switch(Se){case 13:case 10:ae===47?ae=0:1+Me===0&&N!==107&&0<Ke.length&&(Ve=1,Ke+="\0"),0<ue*oe&&o(0,Ke,R,ne,z,U,Ge.length,N,F,N),U=1,z++;break;case 59:case 125:if(ae+ke+Te+ie===0){U++;break}default:switch(U++,We=j.charAt(ze),Se){case 9:case 32:if(ke+ie+ae===0)switch(Xe){case 44:case 58:case 9:case 32:We="";break;default:Se!==32&&(We=" ")}break;case 0:We="\\0";break;case 12:We="\\f";break;case 11:We="\\v";break;case 38:ke+ae+ie===0&&(Ve=ot=1,We="\f"+We);break;case 108:if(ke+ae+ie+V===0&&0<Fe)switch(ze-Fe){case 2:Xe===112&&j.charCodeAt(ze-3)===58&&(V=Xe);case 8:ve===111&&(V=ve)}break;case 58:ke+ae+ie===0&&(Fe=ze);break;case 44:ae+Te+ke+ie===0&&(Ve=1,We+="\r");break;case 34:case 39:ae===0&&(ke=ke===Se?0:ke===0?Se:ke);break;case 91:ke+ae+Te===0&&ie++;break;case 93:ke+ae+Te===0&&ie--;break;case 41:ke+ae+ie===0&&Te--;break;case 40:if(ke+ae+ie===0){if(Me===0)switch(2*Xe+3*ve){case 533:break;default:Me=1}Te++}break;case 64:ae+Te+ke+ie+Fe+Ce===0&&(Ce=1);break;case 42:case 47:if(!(0<ke+ie+Te))switch(ae){case 0:switch(2*Se+3*j.charCodeAt(ze+1)){case 235:ae=47;break;case 220:se=ze,ae=42}break;case 42:Se===47&&Xe===42&&se+2!==ze&&(j.charCodeAt(se+2)===33&&(Ge+=j.substring(se,ze+1)),We="",ae=0)}}ae===0&&(Ke+=We)}ve=Xe,Xe=Se,ze++}if(se=Ge.length,0<se){if(Ve=R,0<ue&&(Be=o(2,Ge,Ve,ne,z,U,se,N,F,N),Be!==void 0&&(Ge=Be).length===0))return ut+Ge+et;if(Ge=Ve.join(",")+"{"+Ge+"}",K*V!==0){switch(K!==2||f(Ge,2)||(V=0),V){case 111:Ge=Ge.replace(w,":-moz-$1")+Ge;break;case 112:Ge=Ge.replace(b,"::-webkit-input-$1")+Ge.replace(b,"::-moz-$1")+Ge.replace(b,":-ms-input-$1")+Ge}V=0}}return ut+Ge+et}function n(ne,R,j){var N=R.trim().split(p);R=N;var F=N.length,ie=ne.length;switch(ie){case 0:case 1:var ae=0;for(ne=ie===0?"":ne[0]+" ";ae<F;++ae)R[ae]=e(ne,R[ae],j).trim();break;default:var Te=ae=0;for(R=[];ae<F;++ae)for(var ke=0;ke<ie;++ke)R[Te++]=e(ne[ke]+" ",N[ae],j).trim()}return R}function e(ne,R,j){var N=R.charCodeAt(0);switch(33>N&&(N=(R=R.trim()).charCodeAt(0)),N){case 38:return R.replace(g,"$1"+ne.trim());case 58:return ne.trim()+R.replace(g,"$1"+ne.trim());default:if(0<1*j&&0<R.indexOf("\f"))return R.replace(g,(ne.charCodeAt(0)===58?"":"$1")+ne.trim())}return ne+R}function d(ne,R,j,N){var F=ne+";",ie=2*R+3*j+4*N;if(ie===944){ne=F.indexOf(":",9)+1;var ae=F.substring(ne,F.length-1).trim();return ae=F.substring(0,ne).trim()+ae+";",K===1||K===2&&f(ae,1)?"-webkit-"+ae+ae:ae}if(K===0||K===2&&!f(F,1))return F;switch(ie){case 1015:return F.charCodeAt(10)===97?"-webkit-"+F+F:F;case 951:return F.charCodeAt(3)===116?"-webkit-"+F+F:F;case 963:return F.charCodeAt(5)===110?"-webkit-"+F+F:F;case 1009:if(F.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+F+F;case 978:return"-webkit-"+F+"-moz-"+F+F;case 1019:case 983:return"-webkit-"+F+"-moz-"+F+"-ms-"+F+F;case 883:if(F.charCodeAt(8)===45)return"-webkit-"+F+F;if(0<F.indexOf("image-set(",11))return F.replace(D,"$1-webkit-$2")+F;break;case 932:if(F.charCodeAt(4)===45)switch(F.charCodeAt(5)){case 103:return"-webkit-box-"+F.replace("-grow","")+"-webkit-"+F+"-ms-"+F.replace("grow","positive")+F;case 115:return"-webkit-"+F+"-ms-"+F.replace("shrink","negative")+F;case 98:return"-webkit-"+F+"-ms-"+F.replace("basis","preferred-size")+F}return"-webkit-"+F+"-ms-"+F+F;case 964:return"-webkit-"+F+"-ms-flex-"+F+F;case 1023:if(F.charCodeAt(8)!==99)break;return ae=F.substring(F.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+ae+"-webkit-"+F+"-ms-flex-pack"+ae+F;case 1005:return i.test(F)?F.replace(u,":-webkit-")+F.replace(u,":-moz-")+F:F;case 1e3:switch(ae=F.substring(13).trim(),R=ae.indexOf("-")+1,ae.charCodeAt(0)+ae.charCodeAt(R)){case 226:ae=F.replace(x,"tb");break;case 232:ae=F.replace(x,"tb-rl");break;case 220:ae=F.replace(x,"lr");break;default:return F}return"-webkit-"+F+"-ms-"+ae+F;case 1017:if(F.indexOf("sticky",9)===-1)break;case 975:switch(R=(F=ne).length-10,ae=(F.charCodeAt(R)===33?F.substring(0,R):F).substring(ne.indexOf(":",7)+1).trim(),ie=ae.charCodeAt(0)+(ae.charCodeAt(7)|0)){case 203:if(111>ae.charCodeAt(8))break;case 115:F=F.replace(ae,"-webkit-"+ae)+";"+F;break;case 207:case 102:F=F.replace(ae,"-webkit-"+(102<ie?"inline-":"")+"box")+";"+F.replace(ae,"-webkit-"+ae)+";"+F.replace(ae,"-ms-"+ae+"box")+";"+F}return F+";";case 938:if(F.charCodeAt(5)===45)switch(F.charCodeAt(6)){case 105:return ae=F.replace("-items",""),"-webkit-"+F+"-webkit-box-"+ae+"-ms-flex-"+ae+F;case 115:return"-webkit-"+F+"-ms-flex-item-"+F.replace(M,"")+F;default:return"-webkit-"+F+"-ms-flex-line-pack"+F.replace("align-content","").replace(M,"")+F}break;case 973:case 989:if(F.charCodeAt(3)!==45||F.charCodeAt(4)===122)break;case 931:case 953:if(P.test(ne)===!0)return(ae=ne.substring(ne.indexOf(":")+1)).charCodeAt(0)===115?d(ne.replace("stretch","fill-available"),R,j,N).replace(":fill-available",":stretch"):F.replace(ae,"-webkit-"+ae)+F.replace(ae,"-moz-"+ae.replace("fill-",""))+F;break;case 962:if(F="-webkit-"+F+(F.charCodeAt(5)===102?"-ms-"+F:"")+F,j+N===211&&F.charCodeAt(13)===105&&0<F.indexOf("transform",10))return F.substring(0,F.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+F}return F}function f(ne,R){var j=ne.indexOf(R===1?":":"{"),N=ne.substring(0,R!==3?j:10);return j=ne.substring(j+1,ne.length-1),te(R!==2?N:N.replace(O,"$1"),j,R)}function l(ne,R){var j=d(R,R.charCodeAt(0),R.charCodeAt(1),R.charCodeAt(2));return j!==R+";"?j.replace(E," or ($1)").substring(4):"("+R+")"}function o(ne,R,j,N,F,ie,ae,Te,ke,Me){for(var Se=0,Xe=R,ve;Se<ue;++Se)switch(ve=Q[Se].call(m,ne,Xe,j,N,F,ie,ae,Te,ke,Me)){case void 0:case!1:case!0:case null:break;default:Xe=ve}if(Xe!==R)return Xe}function s(ne){switch(ne){case void 0:case null:ue=Q.length=0;break;default:if(typeof ne=="function")Q[ue++]=ne;else if(typeof ne=="object")for(var R=0,j=ne.length;R<j;++R)s(ne[R]);else oe=!!ne|0}return s}function c(ne){return ne=ne.prefix,ne!==void 0&&(te=null,ne?typeof ne!="function"?K=1:(K=2,te=ne):K=0),c}function m(ne,R){var j=ne;if(33>j.charCodeAt(0)&&(j=j.trim()),ce=j,j=[ce],0<ue){var N=o(-1,R,j,j,z,U,0,0,0,0);N!==void 0&&typeof N=="string"&&(R=N)}var F=t(re,j,R,0,0);return 0<ue&&(N=o(-2,F,j,j,z,U,F.length,0,0,0),N!==void 0&&(F=N)),ce="",V=0,U=z=1,F}var y=/^\0+/g,a=/[\0\r\f]/g,u=/: */g,i=/zoo|gra/,h=/([,: ])(transform)/g,p=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,w=/:(read-only)/g,x=/[svh]\w+-[tblr]{2}/,k=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,M=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,P=/stretch|:\s*\w+\-(?:conte|avail)/,D=/([^-])(image-set\()/,U=1,z=1,V=0,K=1,re=[],Q=[],ue=0,te=null,oe=0,ce="";return m.use=s,m.set=c,r!==void 0&&c(r),m}var Rb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ob(r){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=r(n)),t[n]}}var Pb=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,gm=Ob(function(r){return Pb.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),hg={exports:{}},br={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _n=typeof Symbol=="function"&&Symbol.for,bp=_n?Symbol.for("react.element"):60103,xp=_n?Symbol.for("react.portal"):60106,ud=_n?Symbol.for("react.fragment"):60107,cd=_n?Symbol.for("react.strict_mode"):60108,dd=_n?Symbol.for("react.profiler"):60114,hd=_n?Symbol.for("react.provider"):60109,fd=_n?Symbol.for("react.context"):60110,wp=_n?Symbol.for("react.async_mode"):60111,pd=_n?Symbol.for("react.concurrent_mode"):60111,md=_n?Symbol.for("react.forward_ref"):60112,yd=_n?Symbol.for("react.suspense"):60113,Ib=_n?Symbol.for("react.suspense_list"):60120,gd=_n?Symbol.for("react.memo"):60115,vd=_n?Symbol.for("react.lazy"):60116,Db=_n?Symbol.for("react.block"):60121,Lb=_n?Symbol.for("react.fundamental"):60117,Nb=_n?Symbol.for("react.responder"):60118,Bb=_n?Symbol.for("react.scope"):60119;function as(r){if(typeof r=="object"&&r!==null){var t=r.$$typeof;switch(t){case bp:switch(r=r.type,r){case wp:case pd:case ud:case dd:case cd:case yd:return r;default:switch(r=r&&r.$$typeof,r){case fd:case md:case vd:case gd:case hd:return r;default:return t}}case xp:return t}}}function fg(r){return as(r)===pd}br.AsyncMode=wp;br.ConcurrentMode=pd;br.ContextConsumer=fd;br.ContextProvider=hd;br.Element=bp;br.ForwardRef=md;br.Fragment=ud;br.Lazy=vd;br.Memo=gd;br.Portal=xp;br.Profiler=dd;br.StrictMode=cd;br.Suspense=yd;br.isAsyncMode=function(r){return fg(r)||as(r)===wp};br.isConcurrentMode=fg;br.isContextConsumer=function(r){return as(r)===fd};br.isContextProvider=function(r){return as(r)===hd};br.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===bp};br.isForwardRef=function(r){return as(r)===md};br.isFragment=function(r){return as(r)===ud};br.isLazy=function(r){return as(r)===vd};br.isMemo=function(r){return as(r)===gd};br.isPortal=function(r){return as(r)===xp};br.isProfiler=function(r){return as(r)===dd};br.isStrictMode=function(r){return as(r)===cd};br.isSuspense=function(r){return as(r)===yd};br.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===ud||r===pd||r===dd||r===cd||r===yd||r===Ib||typeof r=="object"&&r!==null&&(r.$$typeof===vd||r.$$typeof===gd||r.$$typeof===hd||r.$$typeof===fd||r.$$typeof===md||r.$$typeof===Lb||r.$$typeof===Nb||r.$$typeof===Bb||r.$$typeof===Db)};br.typeOf=as;(function(r){r.exports=br})(hg);var Sp=hg.exports,Fb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Ub={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Vb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},jp={};jp[Sp.ForwardRef]=Vb;jp[Sp.Memo]=pg;function vm(r){return Sp.isMemo(r)?pg:jp[r.$$typeof]||Fb}var Gb=Object.defineProperty,zb=Object.getOwnPropertyNames,_m=Object.getOwnPropertySymbols,Hb=Object.getOwnPropertyDescriptor,Wb=Object.getPrototypeOf,bm=Object.prototype;function mg(r,t,n){if(typeof t!="string"){if(bm){var e=Wb(t);e&&e!==bm&&mg(r,e,n)}var d=zb(t);_m&&(d=d.concat(_m(t)));for(var f=vm(r),l=vm(t),o=0;o<d.length;++o){var s=d[o];if(!Ub[s]&&!(n&&n[s])&&!(l&&l[s])&&!(f&&f[s])){var c=Hb(t,s);try{Gb(r,s,c)}catch{}}}}return r}var qb=mg;function co(){return(co=Object.assign||function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e])}return r}).apply(this,arguments)}var xm=function(r,t){for(var n=[r[0]],e=0,d=t.length;e<d;e+=1)n.push(t[e],r[e+1]);return n},ef=function(r){return r!==null&&typeof r=="object"&&(r.toString?r.toString():Object.prototype.toString.call(r))==="[object Object]"&&!gp.exports.typeOf(r)},pc=Object.freeze([]),zo=Object.freeze({});function gl(r){return typeof r=="function"}function wm(r){return r.displayName||r.name||"Component"}function Tp(r){return r&&typeof r.styledComponentId=="string"}var ha=typeof process<"u"&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Ep=typeof window<"u"&&"HTMLElement"in window,Xb=Boolean(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&process.env.REACT_APP_SC_DISABLE_SPEEDY!==""?process.env.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&process.env.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env.SC_DISABLE_SPEEDY!==void 0&&process.env.SC_DISABLE_SPEEDY!==""?process.env.SC_DISABLE_SPEEDY!=="false"&&process.env.SC_DISABLE_SPEEDY:!1);function Gl(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];throw new Error("An error occurred. See https://git.io/JUIaE#"+r+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Yb=function(){function r(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=r.prototype;return t.indexOfGroup=function(n){for(var e=0,d=0;d<n;d++)e+=this.groupSizes[d];return e},t.insertRules=function(n,e){if(n>=this.groupSizes.length){for(var d=this.groupSizes,f=d.length,l=f;n>=l;)(l<<=1)<0&&Gl(16,""+n);this.groupSizes=new Uint32Array(l),this.groupSizes.set(d),this.length=l;for(var o=f;o<l;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(n+1),c=0,m=e.length;c<m;c++)this.tag.insertRule(s,e[c])&&(this.groupSizes[n]++,s++)},t.clearGroup=function(n){if(n<this.length){var e=this.groupSizes[n],d=this.indexOfGroup(n),f=d+e;this.groupSizes[n]=0;for(var l=d;l<f;l++)this.tag.deleteRule(d)}},t.getGroup=function(n){var e="";if(n>=this.length||this.groupSizes[n]===0)return e;for(var d=this.groupSizes[n],f=this.indexOfGroup(n),l=f+d,o=f;o<l;o++)e+=this.tag.getRule(o)+`/*!sc*/
`;return e},r}(),Nu=new Map,mc=new Map,nl=1,hu=function(r){if(Nu.has(r))return Nu.get(r);for(;mc.has(nl);)nl++;var t=nl++;return Nu.set(r,t),mc.set(t,r),t},$b=function(r){return mc.get(r)},Zb=function(r,t){t>=nl&&(nl=t+1),Nu.set(r,t),mc.set(t,r)},Qb="style["+ha+'][data-styled-version="5.3.6"]',Kb=new RegExp("^"+ha+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Jb=function(r,t,n){for(var e,d=n.split(","),f=0,l=d.length;f<l;f++)(e=d[f])&&r.registerName(t,e)},ex=function(r,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),e=[],d=0,f=n.length;d<f;d++){var l=n[d].trim();if(l){var o=l.match(Kb);if(o){var s=0|parseInt(o[1],10),c=o[2];s!==0&&(Zb(c,s),Jb(r,c,o[3]),r.getTag().insertRules(s,e)),e.length=0}else e.push(l)}}},tx=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},yg=function(r){var t=document.head,n=r||t,e=document.createElement("style"),d=function(o){for(var s=o.childNodes,c=s.length;c>=0;c--){var m=s[c];if(m&&m.nodeType===1&&m.hasAttribute(ha))return m}}(n),f=d!==void 0?d.nextSibling:null;e.setAttribute(ha,"active"),e.setAttribute("data-styled-version","5.3.6");var l=tx();return l&&e.setAttribute("nonce",l),n.insertBefore(e,f),e},rx=function(){function r(n){var e=this.element=yg(n);e.appendChild(document.createTextNode("")),this.sheet=function(d){if(d.sheet)return d.sheet;for(var f=document.styleSheets,l=0,o=f.length;l<o;l++){var s=f[l];if(s.ownerNode===d)return s}Gl(17)}(e),this.length=0}var t=r.prototype;return t.insertRule=function(n,e){try{return this.sheet.insertRule(e,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var e=this.sheet.cssRules[n];return e!==void 0&&typeof e.cssText=="string"?e.cssText:""},r}(),nx=function(){function r(n){var e=this.element=yg(n);this.nodes=e.childNodes,this.length=0}var t=r.prototype;return t.insertRule=function(n,e){if(n<=this.length&&n>=0){var d=document.createTextNode(e),f=this.nodes[n];return this.element.insertBefore(d,f||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},r}(),sx=function(){function r(n){this.rules=[],this.length=0}var t=r.prototype;return t.insertRule=function(n,e){return n<=this.length&&(this.rules.splice(n,0,e),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},r}(),Sm=Ep,ox={isServer:!Ep,useCSSOMInjection:!Xb},gg=function(){function r(n,e,d){n===void 0&&(n=zo),e===void 0&&(e={}),this.options=co({},ox,{},n),this.gs=e,this.names=new Map(d),this.server=!!n.isServer,!this.server&&Ep&&Sm&&(Sm=!1,function(f){for(var l=document.querySelectorAll(Qb),o=0,s=l.length;o<s;o++){var c=l[o];c&&c.getAttribute(ha)!=="active"&&(ex(f,c),c.parentNode&&c.parentNode.removeChild(c))}}(this))}r.registerId=function(n){return hu(n)};var t=r.prototype;return t.reconstructWithOptions=function(n,e){return e===void 0&&(e=!0),new r(co({},this.options,{},n),this.gs,e&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(d=(e=this.options).isServer,f=e.useCSSOMInjection,l=e.target,n=d?new sx(l):f?new rx(l):new nx(l),new Yb(n)));var n,e,d,f,l},t.hasNameForId=function(n,e){return this.names.has(n)&&this.names.get(n).has(e)},t.registerName=function(n,e){if(hu(n),this.names.has(n))this.names.get(n).add(e);else{var d=new Set;d.add(e),this.names.set(n,d)}},t.insertRules=function(n,e,d){this.registerName(n,e),this.getTag().insertRules(hu(n),d)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(hu(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var e=n.getTag(),d=e.length,f="",l=0;l<d;l++){var o=$b(l);if(o!==void 0){var s=n.names.get(o),c=e.getGroup(l);if(s&&c&&s.size){var m=ha+".g"+l+'[id="'+o+'"]',y="";s!==void 0&&s.forEach(function(a){a.length>0&&(y+=a+",")}),f+=""+c+m+'{content:"'+y+`"}/*!sc*/
`}}}return f}(this)},r}(),ix=/(a)(d)/gi,jm=function(r){return String.fromCharCode(r+(r>25?39:97))};function tf(r){var t,n="";for(t=Math.abs(r);t>52;t=t/52|0)n=jm(t%52)+n;return(jm(t%52)+n).replace(ix,"$1-$2")}var Yi=function(r,t){for(var n=t.length;n;)r=33*r^t.charCodeAt(--n);return r},vg=function(r){return Yi(5381,r)};function ax(r){for(var t=0;t<r.length;t+=1){var n=r[t];if(gl(n)&&!Tp(n))return!1}return!0}var lx=vg("5.3.6"),ux=function(){function r(t,n,e){this.rules=t,this.staticRulesId="",this.isStatic=(e===void 0||e.isStatic)&&ax(t),this.componentId=n,this.baseHash=Yi(lx,n),this.baseStyle=e,gg.registerId(n)}return r.prototype.generateAndInjectStyles=function(t,n,e){var d=this.componentId,f=[];if(this.baseStyle&&f.push(this.baseStyle.generateAndInjectStyles(t,n,e)),this.isStatic&&!e.hash)if(this.staticRulesId&&n.hasNameForId(d,this.staticRulesId))f.push(this.staticRulesId);else{var l=fa(this.rules,t,n,e).join(""),o=tf(Yi(this.baseHash,l)>>>0);if(!n.hasNameForId(d,o)){var s=e(l,"."+o,void 0,d);n.insertRules(d,o,s)}f.push(o),this.staticRulesId=o}else{for(var c=this.rules.length,m=Yi(this.baseHash,e.hash),y="",a=0;a<c;a++){var u=this.rules[a];if(typeof u=="string")y+=u;else if(u){var i=fa(u,t,n,e),h=Array.isArray(i)?i.join(""):i;m=Yi(m,h+a),y+=h}}if(y){var p=tf(m>>>0);if(!n.hasNameForId(d,p)){var g=e(y,"."+p,void 0,d);n.insertRules(d,p,g)}f.push(p)}}return f.join(" ")},r}(),cx=/^\s*\/\/.*$/gm,dx=[":","[",".","#"];function hx(r){var t,n,e,d,f=r===void 0?zo:r,l=f.options,o=l===void 0?zo:l,s=f.plugins,c=s===void 0?pc:s,m=new kb(o),y=[],a=function(h){function p(g){if(g)try{h(g+"}")}catch{}}return function(g,v,b,w,x,k,E,M,O,P){switch(g){case 1:if(O===0&&v.charCodeAt(0)===64)return h(v+";"),"";break;case 2:if(M===0)return v+"/*|*/";break;case 3:switch(M){case 102:case 112:return h(b[0]+v),"";default:return v+(P===0?"/*|*/":"")}case-2:v.split("/*|*/}").forEach(p)}}}(function(h){y.push(h)}),u=function(h,p,g){return p===0&&dx.indexOf(g[n.length])!==-1||g.match(d)?h:"."+t};function i(h,p,g,v){v===void 0&&(v="&");var b=h.replace(cx,""),w=p&&g?g+" "+p+" { "+b+" }":b;return t=v,n=p,e=new RegExp("\\"+n+"\\b","g"),d=new RegExp("(\\"+n+"\\b){2,}"),m(g||!p?"":p,w)}return m.use([].concat(c,[function(h,p,g){h===2&&g.length&&g[0].lastIndexOf(n)>0&&(g[0]=g[0].replace(e,u))},a,function(h){if(h===-2){var p=y;return y=[],p}}])),i.hash=c.length?c.reduce(function(h,p){return p.name||Gl(15),Yi(h,p.name)},5381).toString():"",i}var _g=Bc.createContext();_g.Consumer;var bg=Bc.createContext(),fx=(bg.Consumer,new gg),rf=hx();function px(){return Lt.exports.useContext(_g)||fx}function mx(){return Lt.exports.useContext(bg)||rf}var xg=function(){function r(t,n){var e=this;this.inject=function(d,f){f===void 0&&(f=rf);var l=e.name+f.hash;d.hasNameForId(e.id,l)||d.insertRules(e.id,l,f(e.rules,l,"@keyframes"))},this.toString=function(){return Gl(12,String(e.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return r.prototype.getName=function(t){return t===void 0&&(t=rf),this.name+t.hash},r}(),yx=/([A-Z])/,gx=/([A-Z])/g,vx=/^ms-/,_x=function(r){return"-"+r.toLowerCase()};function Tm(r){return yx.test(r)?r.replace(gx,_x).replace(vx,"-ms-"):r}var Em=function(r){return r==null||r===!1||r===""};function fa(r,t,n,e){if(Array.isArray(r)){for(var d,f=[],l=0,o=r.length;l<o;l+=1)(d=fa(r[l],t,n,e))!==""&&(Array.isArray(d)?f.push.apply(f,d):f.push(d));return f}if(Em(r))return"";if(Tp(r))return"."+r.styledComponentId;if(gl(r)){if(typeof(c=r)!="function"||c.prototype&&c.prototype.isReactComponent||!t)return r;var s=r(t);return fa(s,t,n,e)}var c;return r instanceof xg?n?(r.inject(n,e),r.getName(e)):r:ef(r)?function m(y,a){var u,i,h=[];for(var p in y)y.hasOwnProperty(p)&&!Em(y[p])&&(Array.isArray(y[p])&&y[p].isCss||gl(y[p])?h.push(Tm(p)+":",y[p],";"):ef(y[p])?h.push.apply(h,m(y[p],p)):h.push(Tm(p)+": "+(u=p,(i=y[p])==null||typeof i=="boolean"||i===""?"":typeof i!="number"||i===0||u in Rb?String(i).trim():i+"px")+";"));return a?[a+" {"].concat(h,["}"]):h}(r):r.toString()}var Mm=function(r){return Array.isArray(r)&&(r.isCss=!0),r};function wg(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];return gl(r)||ef(r)?Mm(fa(xm(pc,[r].concat(n)))):n.length===0&&r.length===1&&typeof r[0]=="string"?r:Mm(fa(xm(r,n)))}var bx=function(r,t,n){return n===void 0&&(n=zo),r.theme!==n.theme&&r.theme||t||n.theme},xx=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,wx=/(^-|-$)/g;function Jd(r){return r.replace(xx,"-").replace(wx,"")}var Sg=function(r){return tf(vg(r)>>>0)};function fu(r){return typeof r=="string"&&!0}var nf=function(r){return typeof r=="function"||typeof r=="object"&&r!==null&&!Array.isArray(r)},Sx=function(r){return r!=="__proto__"&&r!=="constructor"&&r!=="prototype"};function jx(r,t,n){var e=r[n];nf(t)&&nf(e)?jg(e,t):r[n]=t}function jg(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];for(var d=0,f=n;d<f.length;d++){var l=f[d];if(nf(l))for(var o in l)Sx(o)&&jx(r,l[o],o)}return r}var Tg=Bc.createContext();Tg.Consumer;var eh={};function Eg(r,t,n){var e=Tp(r),d=!fu(r),f=t.attrs,l=f===void 0?pc:f,o=t.componentId,s=o===void 0?function(v,b){var w=typeof v!="string"?"sc":Jd(v);eh[w]=(eh[w]||0)+1;var x=w+"-"+Sg("5.3.6"+w+eh[w]);return b?b+"-"+x:x}(t.displayName,t.parentComponentId):o,c=t.displayName,m=c===void 0?function(v){return fu(v)?"styled."+v:"Styled("+wm(v)+")"}(r):c,y=t.displayName&&t.componentId?Jd(t.displayName)+"-"+t.componentId:t.componentId||s,a=e&&r.attrs?Array.prototype.concat(r.attrs,l).filter(Boolean):l,u=t.shouldForwardProp;e&&r.shouldForwardProp&&(u=t.shouldForwardProp?function(v,b,w){return r.shouldForwardProp(v,b,w)&&t.shouldForwardProp(v,b,w)}:r.shouldForwardProp);var i,h=new ux(n,y,e?r.componentStyle:void 0),p=h.isStatic&&l.length===0,g=function(v,b){return function(w,x,k,E){var M=w.attrs,O=w.componentStyle,P=w.defaultProps,D=w.foldedComponentIds,U=w.shouldForwardProp,z=w.styledComponentId,V=w.target,K=function(N,F,ie){N===void 0&&(N=zo);var ae=co({},F,{theme:N}),Te={};return ie.forEach(function(ke){var Me,Se,Xe,ve=ke;for(Me in gl(ve)&&(ve=ve(ae)),ve)ae[Me]=Te[Me]=Me==="className"?(Se=Te[Me],Xe=ve[Me],Se&&Xe?Se+" "+Xe:Se||Xe):ve[Me]}),[ae,Te]}(bx(x,Lt.exports.useContext(Tg),P)||zo,x,M),re=K[0],Q=K[1],ue=function(N,F,ie,ae){var Te=px(),ke=mx(),Me=F?N.generateAndInjectStyles(zo,Te,ke):N.generateAndInjectStyles(ie,Te,ke);return Me}(O,E,re),te=k,oe=Q.$as||x.$as||Q.as||x.as||V,ce=fu(oe),ne=Q!==x?co({},x,{},Q):x,R={};for(var j in ne)j[0]!=="$"&&j!=="as"&&(j==="forwardedAs"?R.as=ne[j]:(U?U(j,gm,oe):!ce||gm(j))&&(R[j]=ne[j]));return x.style&&Q.style!==x.style&&(R.style=co({},x.style,{},Q.style)),R.className=Array.prototype.concat(D,z,ue!==z?ue:null,x.className,Q.className).filter(Boolean).join(" "),R.ref=te,Lt.exports.createElement(oe,R)}(i,v,b,p)};return g.displayName=m,(i=Bc.forwardRef(g)).attrs=a,i.componentStyle=h,i.displayName=m,i.shouldForwardProp=u,i.foldedComponentIds=e?Array.prototype.concat(r.foldedComponentIds,r.styledComponentId):pc,i.styledComponentId=y,i.target=e?r.target:r,i.withComponent=function(v){var b=t.componentId,w=function(k,E){if(k==null)return{};var M,O,P={},D=Object.keys(k);for(O=0;O<D.length;O++)M=D[O],E.indexOf(M)>=0||(P[M]=k[M]);return P}(t,["componentId"]),x=b&&b+"-"+(fu(v)?v:Jd(wm(v)));return Eg(v,co({},w,{attrs:a,componentId:x}),n)},Object.defineProperty(i,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(v){this._foldedDefaultProps=e?jg({},r.defaultProps,v):v}}),i.toString=function(){return"."+i.styledComponentId},d&&qb(i,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),i}var sf=function(r){return function t(n,e,d){if(d===void 0&&(d=zo),!gp.exports.isValidElementType(e))return Gl(1,String(e));var f=function(){return n(e,d,wg.apply(void 0,arguments))};return f.withConfig=function(l){return t(n,e,co({},d,{},l))},f.attrs=function(l){return t(n,e,co({},d,{attrs:Array.prototype.concat(d.attrs,l).filter(Boolean)}))},f}(Eg,r)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(r){sf[r]=sf(r)});function Mg(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),e=1;e<t;e++)n[e-1]=arguments[e];var d=wg.apply(void 0,[r].concat(n)).join(""),f=Sg(d);return new xg(f,d)}const Ht=sf,Jt={AppColor:"#1e2126",AppSecondaryColor:"#282f38",AppGradient:"#1c2026",AppSecondaryGradient:"#2f3640",AppTextColor:"#ebedef",AppTextOffColor:"#d8e0ed",TransportGridColor:"rgba(206, 212, 222, 0.1)",ChannelColor:"#142c4f",ChannelHighlight:"rgba(69, 153, 69, 0.7)",RecordingColor:"rgba(1, 48, 117, 0.6)",SelectedRecordingColor:"rgba(29, 75, 143, 0.6)",EditorButtonHighlight:"#363636",EditorBoxHighlight:"#818a99",ContrastBlue:"#4f77b3",DefaultButton:Ht.button`
        all: unset;
        text-align: center;
        border: none;
        border-radius: 6px;
        font-family: Avenir, Arial, sans-serif;
        :hover {cursor: pointer;}
    `},Tx=Ht.div`
	min-height: 100vh;
	display: flex;
	flex-direction: column;
	justify-content: space-around;
	align-items: center;
	background: linear-gradient(
		to right, ${Jt.AppColor}, ${Jt.AppGradient} 50%, ${Jt.AppColor}
	);
`,Ex=Ht.div`
	position: relative;
	display: flex;
	justify-content: space-between;
	align-items: center;
	width: 95%;
`,Mx=Ht.div`
`,Cx=Ht(Jt.DefaultButton)`
	width: 25px;
	height: 25px;
	background: url('images/arrow_down.png') no-repeat;
	background-size: 25px;
	border-radius: 50px;
	:hover {box-shadow: 0 0 4px 1px grey;}
`,Ax=Ht.h2`
	font-size: 1.9rem;
	font-weight: normal;
	color: ${Jt.AppTextColor};
	margin: 10px 30px;
	letter-spacing: .1rem;
`,kx=Ht.div`
	display: flex;
	flex-direction: column;
	align-items: center;
	margin-top: 80px;
	box-shadow: ${r=>r.dropping?"0 0 6px #ebeff5":"none"};  
`,Rx=Ht.div`
	display: flex;
    position: relative;
	justify-content: space-around;
	align-items: center;
	height: 5vh;
	width: 25%;
    margin: 20px 0px;
	border-radius: 10px;
	background-color: ${Jt.AppSecondaryColor};
	box-shadow: 0 0 0 2px ${Jt.AppSecondaryGradient};
`,Mp=Ht(Jt.DefaultButton)`
	width: 30px;
	height: 30px;
	background: ${r=>r.playState?"url('images/pause_white.png') center;":"url('images/play_white.png') center;"}
	background-size: 30px;
	-webkit-tap-highlight-color: transparent;
`,Ox=Ht(Mp)`
	background: url('images/restart_white.png') center;
`,Px=Ht(Mp)`
  	background: ${r=>r.mute?"url('images/mute_white.png') center;":"url('images/unmute_white.png') center"}
`,Ix=Ht.div`
    position: relative;
	display: flex;
    width: 25%;
	height: 100%;
	border-radius: 10px;
	border: 1px solid ${Jt.AppSecondaryGradient};
`,Cg="14.7.77",Cm=(r,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:r}),Am=(r,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:r}),of=(r,t)=>({startTime:t,type:"setValue",value:r}),Ag=(r,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:r}),kg=(r,t,{startTime:n,target:e,timeConstant:d})=>e+(t-e)*Math.exp((n-r)/d),$i=r=>r.type==="exponentialRampToValue",yc=r=>r.type==="linearRampToValue",Ao=r=>$i(r)||yc(r),Cp=r=>r.type==="setValue",no=r=>r.type==="setValueCurve",gc=(r,t,n,e)=>{const d=r[t];return d===void 0?e:Ao(d)||Cp(d)?d.value:no(d)?d.values[d.values.length-1]:kg(n,gc(r,t-1,d.startTime,e),d)},km=(r,t,n,e,d)=>n===void 0?[e.insertTime,d]:Ao(n)?[n.endTime,n.value]:Cp(n)?[n.startTime,n.value]:no(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,gc(r,t-1,n.startTime,d)],af=r=>r.type==="cancelAndHold",lf=r=>r.type==="cancelScheduledValues",To=r=>af(r)||lf(r)?r.cancelTime:$i(r)||yc(r)?r.endTime:r.startTime,Rm=(r,t,n,{endTime:e,value:d})=>n===d?d:0<n&&0<d||n<0&&d<0?n*(d/n)**((r-t)/(e-t)):0,Om=(r,t,n,{endTime:e,value:d})=>n+(r-t)/(e-t)*(d-n),Dx=(r,t)=>{const n=Math.floor(t),e=Math.ceil(t);return n===e?r[n]:(1-(t-n))*r[n]+(1-(e-t))*r[e]},Lx=(r,{duration:t,startTime:n,values:e})=>{const d=(r-n)/t*(e.length-1);return Dx(e,d)},pu=r=>r.type==="setTarget";class Nx{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=To(t);if(af(t)||lf(t)){const e=this._automationEvents.findIndex(f=>lf(t)&&no(f)?f.startTime+f.duration>=n:To(f)>=n),d=this._automationEvents[e];if(e!==-1&&(this._automationEvents=this._automationEvents.slice(0,e)),af(t)){const f=this._automationEvents[this._automationEvents.length-1];if(d!==void 0&&Ao(d)){if(pu(f))throw new Error("The internal list is malformed.");const l=no(f)?f.startTime+f.duration:To(f),o=no(f)?f.values[f.values.length-1]:f.value,s=$i(d)?Rm(n,l,o,d):Om(n,l,o,d),c=$i(d)?Cm(s,n,this._currenTime):Am(s,n,this._currenTime);this._automationEvents.push(c)}f!==void 0&&pu(f)&&this._automationEvents.push(of(this.getValue(n),n)),f!==void 0&&no(f)&&f.startTime+f.duration>n&&(this._automationEvents[this._automationEvents.length-1]=Ag(new Float32Array([6,7]),f.startTime,n-f.startTime))}}else{const e=this._automationEvents.findIndex(l=>To(l)>n),d=e===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[e-1];if(d!==void 0&&no(d)&&To(d)+d.duration>n)return!1;const f=$i(t)?Cm(t.value,t.endTime,this._currenTime):yc(t)?Am(t.value,n,this._currenTime):t;if(e===-1)this._automationEvents.push(f);else{if(no(t)&&n+t.duration>To(this._automationEvents[e]))return!1;this._automationEvents.splice(e,0,f)}}return!0}flush(t){const n=this._automationEvents.findIndex(e=>To(e)>t);if(n>1){const e=this._automationEvents.slice(n-1),d=e[0];pu(d)&&e.unshift(of(gc(this._automationEvents,n-2,d.startTime,this._defaultValue),d.startTime)),this._automationEvents=e}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(l=>To(l)>t),e=this._automationEvents[n],d=(n===-1?this._automationEvents.length:n)-1,f=this._automationEvents[d];if(f!==void 0&&pu(f)&&(e===void 0||!Ao(e)||e.insertTime>t))return kg(t,gc(this._automationEvents,d-1,f.startTime,this._defaultValue),f);if(f!==void 0&&Cp(f)&&(e===void 0||!Ao(e)))return f.value;if(f!==void 0&&no(f)&&(e===void 0||!Ao(e)||f.startTime+f.duration>t))return t<f.startTime+f.duration?Lx(t,f):f.values[f.values.length-1];if(f!==void 0&&Ao(f)&&(e===void 0||!Ao(e)))return f.value;if(e!==void 0&&$i(e)){const[l,o]=km(this._automationEvents,d,f,e,this._defaultValue);return Rm(t,l,o,e)}if(e!==void 0&&yc(e)){const[l,o]=km(this._automationEvents,d,f,e,this._defaultValue);return Om(t,l,o,e)}return this._defaultValue}}const Bx=r=>({cancelTime:r,type:"cancelAndHold"}),Fx=r=>({cancelTime:r,type:"cancelScheduledValues"}),Ux=(r,t)=>({endTime:t,type:"exponentialRampToValue",value:r}),Vx=(r,t)=>({endTime:t,type:"linearRampToValue",value:r}),Gx=(r,t,n)=>({startTime:t,target:r,timeConstant:n,type:"setTarget"}),zx=()=>new DOMException("","AbortError"),Hx=r=>(t,n,[e,d,f],l)=>{r(t[d],[n,e,f],o=>o[0]===n&&o[1]===e,l)},Wx=r=>(t,n,e)=>{const d=[];for(let f=0;f<e.numberOfInputs;f+=1)d.push(new Set);r.set(t,{activeInputs:d,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},qx=r=>(t,n)=>{r.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},pa=new WeakSet,Rg=new WeakMap,Ap=new WeakMap,Og=new WeakMap,kp=new WeakMap,_d=new WeakMap,Pg=new WeakMap,uf=new WeakMap,cf=new WeakMap,df=new WeakMap,Ig={construct(){return Ig}},Xx=r=>{try{const t=new Proxy(r,Ig);new t}catch{return!1}return!0},Pm=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Im=(r,t)=>{const n=[];let e=r.replace(/^[\s]+/,""),d=e.match(Pm);for(;d!==null;){const f=d[1].slice(1,-1),l=d[0].replace(/([\s]+)?;?$/,"").replace(f,new URL(f,t).toString());n.push(l),e=e.slice(d[0].length).replace(/^[\s]+/,""),d=e.match(Pm)}return[n.join(";"),e]},Dm=r=>{if(r!==void 0&&!Array.isArray(r))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Lm=r=>{if(!Xx(r))throw new TypeError("The given value for processorCtor should be a constructor.");if(r.prototype===null||typeof r.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},Yx=(r,t,n,e,d,f,l,o,s,c,m,y,a)=>{let u=0;return(i,h,p={credentials:"omit"})=>{const g=m.get(i);if(g!==void 0&&g.has(h))return Promise.resolve();const v=c.get(i);if(v!==void 0){const x=v.get(h);if(x!==void 0)return x}const b=f(i),w=b.audioWorklet===void 0?d(h).then(([x,k])=>{const[E,M]=Im(x,k),O=`${E};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${M}
})})(window,'_AWGS')`;return n(O)}).then(()=>{const x=a._AWGS.pop();if(x===void 0)throw new SyntaxError;e(b.currentTime,b.sampleRate,()=>x(class{},void 0,(k,E)=>{if(k.trim()==="")throw t();const M=cf.get(b);if(M!==void 0){if(M.has(k))throw t();Lm(E),Dm(E.parameterDescriptors),M.set(k,E)}else Lm(E),Dm(E.parameterDescriptors),cf.set(b,new Map([[k,E]]))},b.sampleRate,void 0,void 0))}):Promise.all([d(h),Promise.resolve(r(y,y))]).then(([[x,k],E])=>{const M=u+1;u=M;const[O,P]=Im(x,k),V=`${O};((AudioWorkletProcessor,registerProcessor)=>{${P}
})(${E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${M}',class extends AudioWorkletProcessor{process(){return !1}})`,K=new Blob([V],{type:"application/javascript; charset=utf-8"}),re=URL.createObjectURL(K);return b.audioWorklet.addModule(re,p).then(()=>{if(o(b))return b;const Q=l(b);return Q.audioWorklet.addModule(re,p).then(()=>Q)}).then(Q=>{if(s===null)throw new SyntaxError;try{new s(Q,`__sac${M}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(re))});return v===void 0?c.set(i,new Map([[h,w]])):v.set(h,w),w.then(()=>{const x=m.get(i);x===void 0?m.set(i,new Set([h])):x.add(h)}).finally(()=>{const x=c.get(i);x!==void 0&&x.delete(h)}),w}},Rs=(r,t)=>{const n=r.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},bd=(r,t)=>{const n=Array.from(r).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[e]=n;return r.delete(e),e},Dg=(r,t,n,e)=>{const d=Rs(r,t),f=bd(d,l=>l[0]===n&&l[1]===e);return d.size===0&&r.delete(t),f},zl=r=>Rs(Pg,r),ma=r=>{if(pa.has(r))throw new Error("The AudioNode is already stored.");pa.add(r),zl(r).forEach(t=>t(!0))},Lg=r=>"port"in r,Hl=r=>{if(!pa.has(r))throw new Error("The AudioNode is not stored.");pa.delete(r),zl(r).forEach(t=>t(!1))},hf=(r,t)=>{!Lg(r)&&t.every(n=>n.size===0)&&Hl(r)},$x=(r,t,n,e,d,f,l,o,s,c,m,y,a)=>{const u=new WeakMap;return(i,h,p,g,v)=>{const{activeInputs:b,passiveInputs:w}=f(h),{outputs:x}=f(i),k=o(i),E=M=>{const O=s(h),P=s(i);if(M){const D=Dg(w,i,p,g);r(b,i,D,!1),!v&&!y(i)&&n(P,O,p,g),a(h)&&ma(h)}else{const D=e(b,i,p,g);t(w,g,D,!1),!v&&!y(i)&&d(P,O,p,g);const U=l(h);if(U===0)m(h)&&hf(h,b);else{const z=u.get(h);z!==void 0&&clearTimeout(z),u.set(h,setTimeout(()=>{m(h)&&hf(h,b)},U*1e3))}}};return c(x,[h,p,g],M=>M[0]===h&&M[1]===p&&M[2]===g,!0)?(k.add(E),m(i)?r(b,i,[p,g,E],!0):t(w,g,[i,p,E],!0),!0):!1}},Zx=r=>(t,n,[e,d,f],l)=>{const o=t.get(e);o===void 0?t.set(e,new Set([[d,n,f]])):r(o,[d,n,f],s=>s[0]===d&&s[1]===n,l)},Qx=r=>(t,n)=>{const e=r(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(e).connect(t.destination);const d=()=>{n.removeEventListener("ended",d),n.disconnect(e),e.disconnect()};n.addEventListener("ended",d)},Kx=r=>(t,n)=>{r(t).add(n)},Jx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},ew=(r,t,n,e,d,f)=>class extends r{constructor(o,s){const c=d(o),m={...Jx,...s},y=e(c,m),a=f(c)?t():null;super(o,!1,y,a),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(o){this._nativeAnalyserNode.fftSize=o}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(o){const s=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=o,!(o>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=s,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(o){const s=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=o,!(this._nativeAnalyserNode.maxDecibels>o))throw this._nativeAnalyserNode.minDecibels=s,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(o){this._nativeAnalyserNode.smoothingTimeConstant=o}getByteFrequencyData(o){this._nativeAnalyserNode.getByteFrequencyData(o)}getByteTimeDomainData(o){this._nativeAnalyserNode.getByteTimeDomainData(o)}getFloatFrequencyData(o){this._nativeAnalyserNode.getFloatFrequencyData(o)}getFloatTimeDomainData(o){this._nativeAnalyserNode.getFloatTimeDomainData(o)}},Nn=(r,t)=>r.context===t,tw=(r,t,n)=>()=>{const e=new WeakMap,d=async(f,l)=>{let o=t(f);if(!Nn(o,l)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=r(l,c)}return e.set(l,o),await n(f,l,o),o};return{render(f,l){const o=e.get(l);return o!==void 0?Promise.resolve(o):d(f,l)}}},vc=r=>{try{r.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},qs=()=>new DOMException("","IndexSizeError"),Rp=r=>{r.getChannelData=(t=>n=>{try{return t.call(r,n)}catch(e){throw e.code===12?qs():e}})(r.getChannelData)},rw={numberOfChannels:1},nw=(r,t,n,e,d,f,l,o)=>{let s=null;return class Ng{constructor(m){if(d===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:a,sampleRate:u}={...rw,...m};s===null&&(s=new d(1,1,44100));const i=e!==null&&t(f,f)?new e({length:y,numberOfChannels:a,sampleRate:u}):s.createBuffer(a,y,u);if(i.numberOfChannels===0)throw n();return typeof i.copyFromChannel!="function"?(l(i),Rp(i)):t(vc,()=>vc(i))||o(i),r.add(i),i}static[Symbol.hasInstance](m){return m!==null&&typeof m=="object"&&Object.getPrototypeOf(m)===Ng.prototype||r.has(m)}}},zn=-34028234663852886e22,Bn=-zn,fo=r=>pa.has(r),sw={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ow=(r,t,n,e,d,f,l,o)=>class extends r{constructor(c,m){const y=f(c),a={...sw,...m},u=d(y,a),i=l(y),h=i?t():null;super(c,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=a.buffer!==null,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,i,u.playbackRate,Bn,zn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw e();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const m=typeof c=="function"?o(this,c):null;this._nativeAudioBufferSourceNode.onended=m;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===m?c:y}get playbackRate(){return this._playbackRate}start(c=0,m=0,y){if(this._nativeAudioBufferSourceNode.start(c,m,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[c,m]:[c,m,y]),this.context.state!=="closed"){ma(this);const a=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",a),fo(this)&&Hl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",a)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},iw=(r,t,n,e,d)=>()=>{const f=new WeakMap;let l=null,o=null;const s=async(c,m)=>{let y=n(c);const a=Nn(y,m);if(!a){const u={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=t(m,u),l!==null&&y.start(...l),o!==null&&y.stop(o)}return f.set(m,y),a?await r(m,c.playbackRate,y.playbackRate):await e(m,c.playbackRate,y.playbackRate),await d(c,m,y),y};return{set start(c){l=c},set stop(c){o=c},render(c,m){const y=f.get(m);return y!==void 0?Promise.resolve(y):s(c,m)}}},aw=r=>"playbackRate"in r,lw=r=>"frequency"in r&&"gain"in r,uw=r=>"offset"in r,cw=r=>!("frequency"in r)&&"gain"in r,dw=r=>"detune"in r&&"frequency"in r,hw=r=>"pan"in r,Fn=r=>Rs(Rg,r),Wl=r=>Rs(Og,r),ff=(r,t)=>{const{activeInputs:n}=Fn(r);n.forEach(d=>d.forEach(([f])=>{t.includes(r)||ff(f,[...t,r])}));const e=aw(r)?[r.playbackRate]:Lg(r)?Array.from(r.parameters.values()):lw(r)?[r.Q,r.detune,r.frequency,r.gain]:uw(r)?[r.offset]:cw(r)?[r.gain]:dw(r)?[r.detune,r.frequency]:hw(r)?[r.pan]:[];for(const d of e){const f=Wl(d);f!==void 0&&f.activeInputs.forEach(([l])=>ff(l,t))}fo(r)&&Hl(r)},Bg=r=>{ff(r.destination,[])},fw=r=>r===void 0||typeof r=="number"||typeof r=="string"&&(r==="balanced"||r==="interactive"||r==="playback"),pw=(r,t,n,e,d,f,l,o,s)=>class extends r{constructor(m={}){if(s===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new s(m)}catch(i){throw i.code===12&&i.message==="sampleRate is not in range"?n():i}if(y===null)throw e();if(!fw(m.latencyHint))throw new TypeError(`The provided value '${m.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(m.sampleRate!==void 0&&y.sampleRate!==m.sampleRate)throw n();super(y,2);const{latencyHint:a}=m,{sampleRate:u}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:a==="balanced"?512/u:a==="interactive"||a===void 0?256/u:a==="playback"?1024/u:Math.max(2,Math.min(128,Math.round(a*u/128)))*128/u,this._nativeAudioContext=y,s.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const i=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",i)};y.addEventListener("statechange",i)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw t()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Bg(this)}))}createMediaElementSource(m){return new d(this,{mediaElement:m})}createMediaStreamDestination(){return new f(this)}createMediaStreamSource(m){return new l(this,{mediaStream:m})}createMediaStreamTrackSource(m){return new o(this,{mediaStreamTrack:m})}resume(){return this._state==="suspended"?new Promise((m,y)=>{const a=()=>{this._nativeAudioContext.removeEventListener("statechange",a),this._nativeAudioContext.state==="running"?m():this.resume().then(m,y)};this._nativeAudioContext.addEventListener("statechange",a)}):this._nativeAudioContext.resume().catch(m=>{throw m===void 0||m.code===15?t():m})}suspend(){return this._nativeAudioContext.suspend().catch(m=>{throw m===void 0?t():m})}},mw=(r,t,n,e,d,f,l,o)=>class extends r{constructor(c,m){const y=f(c),a=l(y),u=d(y,m,a),i=a?t(o):null;super(c,!1,u,i),this._isNodeOfNativeOfflineAudioContext=a,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw e();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw e();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},yw=r=>{const t=new WeakMap,n=async(e,d)=>{const f=d.destination;return t.set(d,f),await r(e,d,f),f};return{render(e,d){const f=t.get(d);return f!==void 0?Promise.resolve(f):n(e,d)}}},gw=(r,t,n,e,d,f,l,o)=>(s,c)=>{const m=c.listener,y=()=>{const x=new Float32Array(1),k=t(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=l(c);let M=!1,O=[0,0,-1,0,1,0],P=[0,0,0];const D=()=>{if(M)return;M=!0;const K=e(c,256,9,0);K.onaudioprocess=({inputBuffer:re})=>{const Q=[f(re,x,0),f(re,x,1),f(re,x,2),f(re,x,3),f(re,x,4),f(re,x,5)];Q.some((te,oe)=>te!==O[oe])&&(m.setOrientation(...Q),O=Q);const ue=[f(re,x,6),f(re,x,7),f(re,x,8)];ue.some((te,oe)=>te!==P[oe])&&(m.setPosition(...ue),P=ue)},k.connect(K)},U=K=>re=>{re!==O[K]&&(O[K]=re,m.setOrientation(...O))},z=K=>re=>{re!==P[K]&&(P[K]=re,m.setPosition(...P))},V=(K,re,Q)=>{const ue=n(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:re});ue.connect(k,0,K),ue.start(),Object.defineProperty(ue.offset,"defaultValue",{get(){return re}});const te=r({context:s},E,ue.offset,Bn,zn);return o(te,"value",oe=>()=>oe.call(te),oe=>ce=>{try{oe.call(te,ce)}catch(ne){if(ne.code!==9)throw ne}D(),E&&Q(ce)}),te.cancelAndHoldAtTime=(oe=>E?()=>{throw d()}:(...ce)=>{const ne=oe.apply(te,ce);return D(),ne})(te.cancelAndHoldAtTime),te.cancelScheduledValues=(oe=>E?()=>{throw d()}:(...ce)=>{const ne=oe.apply(te,ce);return D(),ne})(te.cancelScheduledValues),te.exponentialRampToValueAtTime=(oe=>E?()=>{throw d()}:(...ce)=>{const ne=oe.apply(te,ce);return D(),ne})(te.exponentialRampToValueAtTime),te.linearRampToValueAtTime=(oe=>E?()=>{throw d()}:(...ce)=>{const ne=oe.apply(te,ce);return D(),ne})(te.linearRampToValueAtTime),te.setTargetAtTime=(oe=>E?()=>{throw d()}:(...ce)=>{const ne=oe.apply(te,ce);return D(),ne})(te.setTargetAtTime),te.setValueAtTime=(oe=>E?()=>{throw d()}:(...ce)=>{const ne=oe.apply(te,ce);return D(),ne})(te.setValueAtTime),te.setValueCurveAtTime=(oe=>E?()=>{throw d()}:(...ce)=>{const ne=oe.apply(te,ce);return D(),ne})(te.setValueCurveAtTime),te};return{forwardX:V(0,0,U(0)),forwardY:V(1,0,U(1)),forwardZ:V(2,-1,U(2)),positionX:V(6,0,z(0)),positionY:V(7,0,z(1)),positionZ:V(8,0,z(2)),upX:V(3,0,U(3)),upY:V(4,1,U(4)),upZ:V(5,0,U(5))}},{forwardX:a,forwardY:u,forwardZ:i,positionX:h,positionY:p,positionZ:g,upX:v,upY:b,upZ:w}=m.forwardX===void 0?y():m;return{get forwardX(){return a},get forwardY(){return u},get forwardZ(){return i},get positionX(){return h},get positionY(){return p},get positionZ(){return g},get upX(){return v},get upY(){return b},get upZ(){return w}}},_c=r=>"context"in r,ql=r=>_c(r[0]),Mi=(r,t,n,e)=>{for(const d of r)if(n(d)){if(e)return!1;throw Error("The set contains at least one similar element.")}return r.add(t),!0},Nm=(r,t,[n,e],d)=>{Mi(r,[t,n,e],f=>f[0]===t&&f[1]===n,d)},Bm=(r,[t,n,e],d)=>{const f=r.get(t);f===void 0?r.set(t,new Set([[n,e]])):Mi(f,[n,e],l=>l[0]===n,d)},wa=r=>"inputs"in r,bc=(r,t,n,e)=>{if(wa(t)){const d=t.inputs[e];return r.connect(d,n,0),[d,n,0]}return r.connect(t,n,e),[t,n,e]},Fg=(r,t,n)=>{for(const e of r)if(e[0]===t&&e[1]===n)return r.delete(e),e;return null},vw=(r,t,n)=>bd(r,e=>e[0]===t&&e[1]===n),Ug=(r,t)=>{if(!zl(r).delete(t))throw new Error("Missing the expected event listener.")},Vg=(r,t,n)=>{const e=Rs(r,t),d=bd(e,f=>f[0]===n);return e.size===0&&r.delete(t),d},xc=(r,t,n,e)=>{wa(t)?r.disconnect(t.inputs[e],n,0):r.disconnect(t,n,e)},Pr=r=>Rs(Ap,r),vl=r=>Rs(kp,r),xi=r=>uf.has(r),Bu=r=>!pa.has(r),Fm=(r,t)=>new Promise(n=>{if(t!==null)n(!0);else{const e=r.createScriptProcessor(256,1,1),d=r.createGain(),f=r.createBuffer(1,2,44100),l=f.getChannelData(0);l[0]=1,l[1]=1;const o=r.createBufferSource();o.buffer=f,o.loop=!0,o.connect(e).connect(r.destination),o.connect(d),o.disconnect(d),e.onaudioprocess=s=>{const c=s.inputBuffer.getChannelData(0);Array.prototype.some.call(c,m=>m===1)?n(!0):n(!1),o.stop(),e.onaudioprocess=null,o.disconnect(e),e.disconnect(r.destination)},o.start()}}),th=(r,t)=>{const n=new Map;for(const e of r)for(const d of e){const f=n.get(d);n.set(d,f===void 0?1:f+1)}n.forEach((e,d)=>t(d,e))},wc=r=>"context"in r,_w=r=>{const t=new Map;r.connect=(n=>(e,d=0,f=0)=>{const l=wc(e)?n(e,d,f):n(e,d),o=t.get(e);return o===void 0?t.set(e,[{input:f,output:d}]):o.every(s=>s.input!==f||s.output!==d)&&o.push({input:f,output:d}),l})(r.connect.bind(r)),r.disconnect=(n=>(e,d,f)=>{if(n.apply(r),e===void 0)t.clear();else if(typeof e=="number")for(const[l,o]of t){const s=o.filter(c=>c.output!==e);s.length===0?t.delete(l):t.set(l,s)}else if(t.has(e))if(d===void 0)t.delete(e);else{const l=t.get(e);if(l!==void 0){const o=l.filter(s=>s.output!==d&&(s.input!==f||f===void 0));o.length===0?t.delete(e):t.set(e,o)}}for(const[l,o]of t)o.forEach(s=>{wc(l)?r.connect(l,s.output,s.input):r.connect(l,s.output)})})(r.disconnect)},bw=(r,t,n,e)=>{const{activeInputs:d,passiveInputs:f}=Wl(t),{outputs:l}=Fn(r),o=zl(r),s=c=>{const m=Pr(r),y=vl(t);if(c){const a=Vg(f,r,n);Nm(d,r,a,!1),!e&&!xi(r)&&m.connect(y,n)}else{const a=vw(d,r,n);Bm(f,a,!1),!e&&!xi(r)&&m.disconnect(y,n)}};return Mi(l,[t,n],c=>c[0]===t&&c[1]===n,!0)?(o.add(s),fo(r)?Nm(d,r,[n,s],!0):Bm(f,[r,n,s],!0),!0):!1},xw=(r,t,n,e)=>{const{activeInputs:d,passiveInputs:f}=Fn(t),l=Fg(d[e],r,n);return l===null?[Dg(f,r,n,e)[2],!1]:[l[2],!0]},ww=(r,t,n)=>{const{activeInputs:e,passiveInputs:d}=Wl(t),f=Fg(e,r,n);return f===null?[Vg(d,r,n)[1],!1]:[f[2],!0]},Op=(r,t,n,e,d)=>{const[f,l]=xw(r,n,e,d);if(f!==null&&(Ug(r,f),l&&!t&&!xi(r)&&xc(Pr(r),Pr(n),e,d)),fo(n)){const{activeInputs:o}=Fn(n);hf(n,o)}},Pp=(r,t,n,e)=>{const[d,f]=ww(r,n,e);d!==null&&(Ug(r,d),f&&!t&&!xi(r)&&Pr(r).disconnect(vl(n),e))},Sw=(r,t)=>{const n=Fn(r),e=[];for(const d of n.outputs)ql(d)?Op(r,t,...d):Pp(r,t,...d),e.push(d[0]);return n.outputs.clear(),e},jw=(r,t,n)=>{const e=Fn(r),d=[];for(const f of e.outputs)f[1]===n&&(ql(f)?Op(r,t,...f):Pp(r,t,...f),d.push(f[0]),e.outputs.delete(f));return d},Tw=(r,t,n,e,d)=>{const f=Fn(r);return Array.from(f.outputs).filter(l=>l[0]===n&&(e===void 0||l[1]===e)&&(d===void 0||l[2]===d)).map(l=>(ql(l)?Op(r,t,...l):Pp(r,t,...l),f.outputs.delete(l),l[0]))},Ew=(r,t,n,e,d,f,l,o,s,c,m,y,a,u,i,h)=>class extends c{constructor(g,v,b,w){super(b),this._context=g,this._nativeAudioNode=b;const x=m(g);y(x)&&n(Fm,()=>Fm(x,h))!==!0&&_w(b),Ap.set(this,b),Pg.set(this,new Set),g.state!=="closed"&&v&&ma(this),r(this,w,b)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,v=0,b=0){if(v<0||v>=this._nativeAudioNode.numberOfOutputs)throw d();const w=m(this._context),x=i(w);if(a(g)||u(g))throw f();if(_c(g)){const M=Pr(g);try{const P=bc(this._nativeAudioNode,M,v,b),D=Bu(this);(x||D)&&this._nativeAudioNode.disconnect(...P),this.context.state!=="closed"&&!D&&Bu(g)&&ma(g)}catch(P){throw P.code===12?f():P}if(t(this,g,v,b,x)){const P=s([this],g);th(P,e(x))}return g}const k=vl(g);if(k.name==="playbackRate"&&k.maxValue===1024)throw l();try{this._nativeAudioNode.connect(k,v),(x||Bu(this))&&this._nativeAudioNode.disconnect(k,v)}catch(M){throw M.code===12?f():M}if(bw(this,g,v,x)){const M=s([this],g);th(M,e(x))}}disconnect(g,v,b){let w;const x=m(this._context),k=i(x);if(g===void 0)w=Sw(this,k);else if(typeof g=="number"){if(g<0||g>=this.numberOfOutputs)throw d();w=jw(this,k,g)}else{if(v!==void 0&&(v<0||v>=this.numberOfOutputs)||_c(g)&&b!==void 0&&(b<0||b>=g.numberOfInputs))throw d();if(w=Tw(this,k,g,v,b),w.length===0)throw f()}for(const E of w){const M=s([this],E);th(M,o)}}},Mw=(r,t,n,e,d,f,l,o,s,c,m,y,a)=>(u,i,h,p=null,g=null)=>{const v=new Nx(h.defaultValue),b=i?e(v):null,w={get defaultValue(){return h.defaultValue},get maxValue(){return p===null?h.maxValue:p},get minValue(){return g===null?h.minValue:g},get value(){return h.value},set value(x){h.value=x,w.setValueAtTime(x,u.context.currentTime)},cancelAndHoldAtTime(x){if(typeof h.cancelAndHoldAtTime=="function")b===null&&v.flush(u.context.currentTime),v.add(d(x)),h.cancelAndHoldAtTime(x);else{const k=Array.from(v).pop();b===null&&v.flush(u.context.currentTime),v.add(d(x));const E=Array.from(v).pop();h.cancelScheduledValues(x),k!==E&&E!==void 0&&(E.type==="exponentialRampToValue"?h.exponentialRampToValueAtTime(E.value,E.endTime):E.type==="linearRampToValue"?h.linearRampToValueAtTime(E.value,E.endTime):E.type==="setValue"?h.setValueAtTime(E.value,E.startTime):E.type==="setValueCurve"&&h.setValueCurveAtTime(E.values,E.startTime,E.duration))}return w},cancelScheduledValues(x){return b===null&&v.flush(u.context.currentTime),v.add(f(x)),h.cancelScheduledValues(x),w},exponentialRampToValueAtTime(x,k){if(x===0)throw new RangeError;if(!Number.isFinite(k)||k<0)throw new RangeError;return b===null&&v.flush(u.context.currentTime),v.add(l(x,k)),h.exponentialRampToValueAtTime(x,k),w},linearRampToValueAtTime(x,k){return b===null&&v.flush(u.context.currentTime),v.add(o(x,k)),h.linearRampToValueAtTime(x,k),w},setTargetAtTime(x,k,E){return b===null&&v.flush(u.context.currentTime),v.add(s(x,k,E)),h.setTargetAtTime(x,k,E),w},setValueAtTime(x,k){return b===null&&v.flush(u.context.currentTime),v.add(c(x,k)),h.setValueAtTime(x,k),w},setValueCurveAtTime(x,k,E){const M=x instanceof Float32Array?x:new Float32Array(x);if(y!==null&&y.name==="webkitAudioContext"){const O=k+E,P=u.context.sampleRate,D=Math.ceil(k*P),U=Math.floor(O*P),z=U-D,V=new Float32Array(z);for(let re=0;re<z;re+=1){const Q=(M.length-1)/E*((D+re)/P-k),ue=Math.floor(Q),te=Math.ceil(Q);V[re]=ue===te?M[ue]:(1-(Q-ue))*M[ue]+(1-(te-Q))*M[te]}b===null&&v.flush(u.context.currentTime),v.add(m(V,k,E)),h.setValueCurveAtTime(V,k,E);const K=U/P;K<O&&a(w,V[V.length-1],K),a(w,M[M.length-1],O)}else b===null&&v.flush(u.context.currentTime),v.add(m(M,k,E)),h.setValueCurveAtTime(M,k,E);return w}};return n.set(w,h),t.set(w,u),r(w,b),w},Cw=r=>({replay(t){for(const n of r)if(n.type==="exponentialRampToValue"){const{endTime:e,value:d}=n;t.exponentialRampToValueAtTime(d,e)}else if(n.type==="linearRampToValue"){const{endTime:e,value:d}=n;t.linearRampToValueAtTime(d,e)}else if(n.type==="setTarget"){const{startTime:e,target:d,timeConstant:f}=n;t.setTargetAtTime(d,e,f)}else if(n.type==="setValue"){const{startTime:e,value:d}=n;t.setValueAtTime(d,e)}else if(n.type==="setValueCurve"){const{duration:e,startTime:d,values:f}=n;t.setValueCurveAtTime(f,d,e)}else throw new Error("Can't apply an unknown automation.")}});class Gg{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,n=null){return this._map.forEach((e,d)=>t.call(n,e,d,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Aw={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},kw=(r,t,n,e,d,f,l,o,s,c,m,y,a,u)=>class extends t{constructor(h,p,g){var v;const b=o(h),w=s(b),x=m({...Aw,...g});a(x);const k=cf.get(b),E=k==null?void 0:k.get(p),M=w||b.state!=="closed"?b:(v=l(b))!==null&&v!==void 0?v:b,O=d(M,w?null:h.baseLatency,c,p,E,x),P=w?e(p,x,E):null;super(h,!0,O,P);const D=[];O.parameters.forEach((z,V)=>{const K=n(this,w,z);D.push([V,K])}),this._nativeAudioWorkletNode=O,this._onprocessorerror=null,this._parameters=new Gg(D),w&&r(b,this);const{activeInputs:U}=f(this);y(O,U)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(h){const p=typeof h=="function"?u(this,h):null;this._nativeAudioWorkletNode.onprocessorerror=p;const g=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=g!==null&&g===p?h:g}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Sc(r,t,n,e,d){if(typeof r.copyFromChannel=="function")t[n].byteLength===0&&(t[n]=new Float32Array(128)),r.copyFromChannel(t[n],e,d);else{const f=r.getChannelData(e);if(t[n].byteLength===0)t[n]=f.slice(d,d+128);else{const l=new Float32Array(f.buffer,d*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(l)}}}const zg=(r,t,n,e,d)=>{typeof r.copyToChannel=="function"?t[n].byteLength!==0&&r.copyToChannel(t[n],e,d):t[n].byteLength!==0&&r.getChannelData(e).set(t[n],d)},jc=(r,t)=>{const n=[];for(let e=0;e<r;e+=1){const d=[],f=typeof t=="number"?t:t[e];for(let l=0;l<f;l+=1)d.push(new Float32Array(128));n.push(d)}return n},Rw=(r,t)=>{const n=Rs(df,r),e=Pr(t);return Rs(n,e)},Ow=async(r,t,n,e,d,f,l)=>{const o=t===null?Math.ceil(r.context.length/128)*128:t.length,s=e.channelCount*e.numberOfInputs,c=d.reduce((p,g)=>p+g,0),m=c===0?null:n.createBuffer(c,o,n.sampleRate);if(f===void 0)throw new Error("Missing the processor constructor.");const y=Fn(r),a=await Rw(n,r),u=jc(e.numberOfInputs,e.channelCount),i=jc(e.numberOfOutputs,d),h=Array.from(r.parameters.keys()).reduce((p,g)=>({...p,[g]:new Float32Array(128)}),{});for(let p=0;p<o;p+=128){if(e.numberOfInputs>0&&t!==null)for(let g=0;g<e.numberOfInputs;g+=1)for(let v=0;v<e.channelCount;v+=1)Sc(t,u[g],v,v,p);f.parameterDescriptors!==void 0&&t!==null&&f.parameterDescriptors.forEach(({name:g},v)=>{Sc(t,h,g,s+v,p)});for(let g=0;g<e.numberOfInputs;g+=1)for(let v=0;v<d[g];v+=1)i[g][v].byteLength===0&&(i[g][v]=new Float32Array(128));try{const g=u.map((b,w)=>y.activeInputs[w].size===0?[]:b),v=l(p/n.sampleRate,n.sampleRate,()=>a.process(g,i,h));if(m!==null)for(let b=0,w=0;b<e.numberOfOutputs;b+=1){for(let x=0;x<d[b];x+=1)zg(m,i[b],x,w+x,p);w+=d[b]}if(!v)break}catch(g){r.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return m},Pw=(r,t,n,e,d,f,l,o,s,c,m,y,a,u,i,h)=>(p,g,v)=>{const b=new WeakMap;let w=null;const x=async(k,E)=>{let M=m(k),O=null;const P=Nn(M,E),D=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y===null){const U=D.reduce((re,Q)=>re+Q,0),z=d(E,{channelCount:Math.max(1,U),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,U)}),V=[];for(let re=0;re<k.numberOfOutputs;re+=1)V.push(e(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:D[re]}));const K=l(E,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});K.connect=t.bind(null,V),K.disconnect=s.bind(null,V),O=[z,V,K]}else P||(M=new y(E,p));if(b.set(E,O===null?M:O[2]),O!==null){if(w===null){if(v===void 0)throw new Error("Missing the processor constructor.");if(a===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Q=k.channelCount*k.numberOfInputs,ue=v.parameterDescriptors===void 0?0:v.parameterDescriptors.length,te=Q+ue;w=Ow(k,te===0?null:await(async()=>{const ce=new a(te,Math.ceil(k.context.length/128)*128,E.sampleRate),ne=[],R=[];for(let F=0;F<g.numberOfInputs;F+=1)ne.push(l(ce,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),R.push(d(ce,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const j=await Promise.all(Array.from(k.parameters.values()).map(async F=>{const ie=f(ce,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:F.value});return await u(ce,F,ie.offset),ie})),N=e(ce,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Q+ue)});for(let F=0;F<g.numberOfInputs;F+=1){ne[F].connect(R[F]);for(let ie=0;ie<g.channelCount;ie+=1)R[F].connect(N,ie,F*g.channelCount+ie)}for(const[F,ie]of j.entries())ie.connect(N,0,Q+F),ie.start(0);return N.connect(ce.destination),await Promise.all(ne.map(F=>i(k,ce,F))),h(ce)})(),E,g,D,v,c)}const U=await w,z=n(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[V,K,re]=O;U!==null&&(z.buffer=U,z.start(0)),z.connect(V);for(let Q=0,ue=0;Q<k.numberOfOutputs;Q+=1){const te=K[Q];for(let oe=0;oe<D[Q];oe+=1)V.connect(te,ue+oe,oe);ue+=D[Q]}return re}if(P)for(const[U,z]of k.parameters.entries())await r(E,z,M.parameters.get(U));else for(const[U,z]of k.parameters.entries())await u(E,z,M.parameters.get(U));return await i(k,E,M),M};return{render(k,E){o(E,k);const M=b.get(E);return M!==void 0?Promise.resolve(M):x(k,E)}}},Iw=(r,t,n,e,d,f,l,o,s,c,m,y,a,u,i,h,p,g,v,b)=>class extends i{constructor(x,k){super(x,k),this._nativeContext=x,this._audioWorklet=r===void 0?void 0:{addModule:(E,M)=>r(this,E,M)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new d(this)}createBuffer(x,k,E){return new n({length:k,numberOfChannels:x,sampleRate:E})}createBufferSource(){return new e(this)}createChannelMerger(x=6){return new f(this,{numberOfInputs:x})}createChannelSplitter(x=6){return new l(this,{numberOfOutputs:x})}createConstantSource(){return new o(this)}createConvolver(){return new s(this)}createDelay(x=1){return new m(this,{maxDelayTime:x})}createDynamicsCompressor(){return new y(this)}createGain(){return new a(this)}createIIRFilter(x,k){return new u(this,{feedback:k,feedforward:x})}createOscillator(){return new h(this)}createPanner(){return new p(this)}createPeriodicWave(x,k,E={disableNormalization:!1}){return new g(this,{...E,imag:k,real:x})}createStereoPanner(){return new v(this)}createWaveShaper(){return new b(this)}decodeAudioData(x,k,E){return c(this._nativeContext,x).then(M=>(typeof k=="function"&&k(M),M),M=>{throw typeof E=="function"&&E(M),M})}},Dw={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Lw=(r,t,n,e,d,f,l,o)=>class extends r{constructor(c,m){const y=f(c),a={...Dw,...m},u=d(y,a),i=l(y),h=i?n():null;super(c,!1,u,h),this._Q=t(this,i,u.Q,Bn,zn),this._detune=t(this,i,u.detune,1200*Math.log2(Bn),-1200*Math.log2(Bn)),this._frequency=t(this,i,u.frequency,c.sampleRate/2,0),this._gain=t(this,i,u.gain,40*Math.log10(Bn),zn),this._nativeBiquadFilterNode=u,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,m,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,m,y)}catch(a){throw a.code===11?e():a}if(c.length!==m.length||m.length!==y.length)throw e()}},Nw=(r,t,n,e,d)=>()=>{const f=new WeakMap,l=async(o,s)=>{let c=n(o);const m=Nn(c,s);if(!m){const y={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=t(s,y)}return f.set(s,c),m?(await r(s,o.Q,c.Q),await r(s,o.detune,c.detune),await r(s,o.frequency,c.frequency),await r(s,o.gain,c.gain)):(await e(s,o.Q,c.Q),await e(s,o.detune,c.detune),await e(s,o.frequency,c.frequency),await e(s,o.gain,c.gain)),await d(o,s,c),c};return{render(o,s){const c=f.get(s);return c!==void 0?Promise.resolve(c):l(o,s)}}},Bw=(r,t)=>(n,e)=>{const d=t.get(n);if(d!==void 0)return d;const f=r.get(n);if(f!==void 0)return f;try{const l=e();return l instanceof Promise?(r.set(n,l),l.catch(()=>!1).then(o=>(r.delete(n),t.set(n,o),o))):(t.set(n,l),l)}catch{return t.set(n,!1),!1}},Fw={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Uw=(r,t,n,e,d)=>class extends r{constructor(l,o){const s=e(l),c={...Fw,...o},m=n(s,c),y=d(s)?t():null;super(l,!1,m,y)}},Vw=(r,t,n)=>()=>{const e=new WeakMap,d=async(f,l)=>{let o=t(f);if(!Nn(o,l)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=r(l,c)}return e.set(l,o),await n(f,l,o),o};return{render(f,l){const o=e.get(l);return o!==void 0?Promise.resolve(o):d(f,l)}}},Gw={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},zw=(r,t,n,e,d,f)=>class extends r{constructor(o,s){const c=e(o),m=f({...Gw,...s}),y=n(c,m),a=d(c)?t():null;super(o,!1,y,a)}},Hw=(r,t,n)=>()=>{const e=new WeakMap,d=async(f,l)=>{let o=t(f);if(!Nn(o,l)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=r(l,c)}return e.set(l,o),await n(f,l,o),o};return{render(f,l){const o=e.get(l);return o!==void 0?Promise.resolve(o):d(f,l)}}},Ww=r=>(t,n,e)=>r(n,t,e),qw=r=>(t,n,e=0,d=0)=>{const f=t[e];if(f===void 0)throw r();return wc(n)?f.connect(n,0,d):f.connect(n,0)},Xw=r=>(t,n)=>{const e=r(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),d=t.createBuffer(1,2,44100);return e.buffer=d,e.loop=!0,e.connect(n),e.start(),()=>{e.stop(),e.disconnect(n)}},Yw={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},$w=(r,t,n,e,d,f,l)=>class extends r{constructor(s,c){const m=d(s),y={...Yw,...c},a=e(m,y),u=f(m),i=u?n():null;super(s,!1,a,i),this._constantSourceNodeRenderer=i,this._nativeConstantSourceNode=a,this._offset=t(this,u,a.offset,Bn,zn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(s){const c=typeof s=="function"?l(this,s):null;this._nativeConstantSourceNode.onended=c;const m=this._nativeConstantSourceNode.onended;this._onended=m!==null&&m===c?s:m}start(s=0){if(this._nativeConstantSourceNode.start(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=s),this.context.state!=="closed"){ma(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),fo(this)&&Hl(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(s=0){this._nativeConstantSourceNode.stop(s),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=s)}},Zw=(r,t,n,e,d)=>()=>{const f=new WeakMap;let l=null,o=null;const s=async(c,m)=>{let y=n(c);const a=Nn(y,m);if(!a){const u={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=t(m,u),l!==null&&y.start(l),o!==null&&y.stop(o)}return f.set(m,y),a?await r(m,c.offset,y.offset):await e(m,c.offset,y.offset),await d(c,m,y),y};return{set start(c){l=c},set stop(c){o=c},render(c,m){const y=f.get(m);return y!==void 0?Promise.resolve(y):s(c,m)}}},Qw=r=>t=>(r[0]=t,r[0]),Kw={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Jw=(r,t,n,e,d,f)=>class extends r{constructor(o,s){const c=e(o),m={...Kw,...s},y=n(c,m),u=d(c)?t():null;super(o,!1,y,u),this._isBufferNullified=!1,this._nativeConvolverNode=y,m.buffer!==null&&f(this,m.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(o){if(this._nativeConvolverNode.buffer=o,o===null&&this._nativeConvolverNode.buffer!==null){const s=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=s.createBuffer(1,1,44100),this._isBufferNullified=!0,f(this,0)}else this._isBufferNullified=!1,f(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(o){this._nativeConvolverNode.normalize=o}},e3=(r,t,n)=>()=>{const e=new WeakMap,d=async(f,l)=>{let o=t(f);if(!Nn(o,l)){const c={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=r(l,c)}return e.set(l,o),wa(o)?await n(f,l,o.inputs[0]):await n(f,l,o),o};return{render(f,l){const o=e.get(l);return o!==void 0?Promise.resolve(o):d(f,l)}}},t3=(r,t)=>(n,e,d)=>{if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,e,d)}catch(f){throw f.name==="SyntaxError"?r():f}},r3=()=>new DOMException("","DataCloneError"),Um=r=>{const{port1:t,port2:n}=new MessageChannel;return new Promise(e=>{const d=()=>{n.onmessage=null,t.close(),n.close(),e()};n.onmessage=()=>d();try{t.postMessage(r,[r])}finally{d()}})},n3=(r,t,n,e,d,f,l,o,s,c,m)=>(y,a)=>{const u=l(y)?y:f(y);if(d.has(a)){const i=n();return Promise.reject(i)}try{d.add(a)}catch{}return t(s,()=>s(u))?u.decodeAudioData(a).then(i=>(Um(a).catch(()=>{}),t(o,()=>o(i))||m(i),r.add(i),i)):new Promise((i,h)=>{const p=async()=>{try{await Um(a)}catch{}},g=v=>{h(v),p()};try{u.decodeAudioData(a,v=>{typeof v.copyFromChannel!="function"&&(c(v),Rp(v)),r.add(v),p().then(()=>i(v))},v=>{g(v===null?e():v)})}catch(v){g(v)}})},s3=(r,t,n,e,d,f,l,o)=>(s,c)=>{const m=t.get(s);if(m===void 0)throw new Error("Missing the expected cycle count.");const y=f(s.context),a=o(y);if(m===c){if(t.delete(s),!a&&l(s)){const u=e(s),{outputs:i}=n(s);for(const h of i)if(ql(h)){const p=e(h[0]);r(u,p,h[1],h[2])}else{const p=d(h[0]);u.connect(p,h[1])}}}else t.set(s,m-c)},o3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},i3=(r,t,n,e,d,f,l)=>class extends r{constructor(s,c){const m=d(s),y={...o3,...c},a=e(m,y),u=f(m),i=u?n(y.maxDelayTime):null;super(s,!1,a,i),this._delayTime=t(this,u,a.delayTime),l(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},a3=(r,t,n,e,d)=>f=>{const l=new WeakMap,o=async(s,c)=>{let m=n(s);const y=Nn(m,c);if(!y){const a={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,delayTime:m.delayTime.value,maxDelayTime:f};m=t(c,a)}return l.set(c,m),y?await r(c,s.delayTime,m.delayTime):await e(c,s.delayTime,m.delayTime),await d(s,c,m),m};return{render(s,c){const m=l.get(c);return m!==void 0?Promise.resolve(m):o(s,c)}}},l3=r=>(t,n,e,d)=>r(t[d],f=>f[0]===n&&f[1]===e),u3=r=>(t,n)=>{r(t).delete(n)},c3=r=>"delayTime"in r,d3=(r,t,n)=>function e(d,f){const l=_c(f)?f:n(r,f);if(c3(l))return[];if(d[0]===l)return[d];if(d.includes(l))return[];const{outputs:o}=t(l);return Array.from(o).map(s=>e([...d,l],s[0])).reduce((s,c)=>s.concat(c),[])},mu=(r,t,n)=>{const e=t[n];if(e===void 0)throw r();return e},h3=r=>(t,n=void 0,e=void 0,d=0)=>n===void 0?t.forEach(f=>f.disconnect()):typeof n=="number"?mu(r,t,n).disconnect():wc(n)?e===void 0?t.forEach(f=>f.disconnect(n)):d===void 0?mu(r,t,e).disconnect(n,0):mu(r,t,e).disconnect(n,0,d):e===void 0?t.forEach(f=>f.disconnect(n)):mu(r,t,e).disconnect(n,0),f3={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},p3=(r,t,n,e,d,f,l,o)=>class extends r{constructor(c,m){const y=f(c),a={...f3,...m},u=e(y,a),i=l(y),h=i?n():null;super(c,!1,u,h),this._attack=t(this,i,u.attack),this._knee=t(this,i,u.knee),this._nativeDynamicsCompressorNode=u,this._ratio=t(this,i,u.ratio),this._release=t(this,i,u.release),this._threshold=t(this,i,u.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const m=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=m,d()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const m=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=m,d()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},m3=(r,t,n,e,d)=>()=>{const f=new WeakMap,l=async(o,s)=>{let c=n(o);const m=Nn(c,s);if(!m){const y={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=t(s,y)}return f.set(s,c),m?(await r(s,o.attack,c.attack),await r(s,o.knee,c.knee),await r(s,o.ratio,c.ratio),await r(s,o.release,c.release),await r(s,o.threshold,c.threshold)):(await e(s,o.attack,c.attack),await e(s,o.knee,c.knee),await e(s,o.ratio,c.ratio),await e(s,o.release,c.release),await e(s,o.threshold,c.threshold)),await d(o,s,c),c};return{render(o,s){const c=f.get(s);return c!==void 0?Promise.resolve(c):l(o,s)}}},y3=()=>new DOMException("","EncodingError"),g3=r=>t=>new Promise((n,e)=>{if(r===null){e(new SyntaxError);return}const d=r.document.head;if(d===null)e(new SyntaxError);else{const f=r.document.createElement("script"),l=new Blob([t],{type:"application/javascript"}),o=URL.createObjectURL(l),s=r.onerror,c=()=>{r.onerror=s,URL.revokeObjectURL(o)};r.onerror=(m,y,a,u,i)=>{if(y===o||y===r.location.href&&a===1&&u===1)return c(),e(i),!1;if(s!==null)return s(m,y,a,u,i)},f.onerror=()=>{c(),e(new SyntaxError)},f.onload=()=>{c(),n()},f.src=o,f.type="module",d.appendChild(f)}}),v3=r=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,e,d){if(e!==null){let f=this._listeners.get(e);f===void 0&&(f=r(this,e),typeof e=="function"&&this._listeners.set(e,f)),this._nativeEventTarget.addEventListener(n,f,d)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,e,d){const f=e===null?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(n,f===void 0?null:f,d)}},_3=r=>(t,n,e)=>{Object.defineProperties(r,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return e()}finally{r!==null&&(delete r.currentFrame,delete r.currentTime)}},b3=r=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch{}throw r()},x3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},w3=(r,t,n,e,d,f)=>class extends r{constructor(o,s){const c=d(o),m={...x3,...s},y=e(c,m),a=f(c),u=a?n():null;super(o,!1,y,u),this._gain=t(this,a,y.gain,Bn,zn)}get gain(){return this._gain}},S3=(r,t,n,e,d)=>()=>{const f=new WeakMap,l=async(o,s)=>{let c=n(o);const m=Nn(c,s);if(!m){const y={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=t(s,y)}return f.set(s,c),m?await r(s,o.gain,c.gain):await e(s,o.gain,c.gain),await d(o,s,c),c};return{render(o,s){const c=f.get(s);return c!==void 0?Promise.resolve(c):l(o,s)}}},j3=(r,t)=>n=>t(r,n),T3=r=>t=>{const n=r(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},E3=r=>t=>{var n;return(n=r.get(t))!==null&&n!==void 0?n:0},M3=r=>t=>{const n=r(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},C3=r=>t=>r.get(t),vn=()=>new DOMException("","InvalidStateError"),A3=r=>t=>{const n=r.get(t);if(n===void 0)throw vn();return n},k3=(r,t)=>n=>{let e=r.get(n);if(e!==void 0)return e;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return e=new t(1,1,44100),r.set(n,e),e},R3=r=>t=>{const n=r.get(t);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},xd=()=>new DOMException("","InvalidAccessError"),O3=r=>{r.getFrequencyResponse=(t=>(n,e,d)=>{if(n.length!==e.length||e.length!==d.length)throw xd();return t.call(r,n,e,d)})(r.getFrequencyResponse)},P3={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},I3=(r,t,n,e,d,f)=>class extends r{constructor(o,s){const c=e(o),m=d(c),y={...P3,...s},a=t(c,m?null:o.baseLatency,y),u=m?n(y.feedback,y.feedforward):null;super(o,!1,a,u),O3(a),this._nativeIIRFilterNode=a,f(this,1)}getFrequencyResponse(o,s,c){return this._nativeIIRFilterNode.getFrequencyResponse(o,s,c)}},Hg=(r,t,n,e,d,f,l,o,s,c,m)=>{const y=c.length;let a=o;for(let u=0;u<y;u+=1){let i=n[0]*c[u];for(let h=1;h<d;h+=1){const p=a-h&s-1;i+=n[h]*f[p],i-=r[h]*l[p]}for(let h=d;h<e;h+=1)i+=n[h]*f[a-h&s-1];for(let h=d;h<t;h+=1)i-=r[h]*l[a-h&s-1];f[a]=c[u],l[a]=i,a=a+1&s-1,m[u]=i}return a},D3=(r,t,n,e)=>{const d=n instanceof Float64Array?n:new Float64Array(n),f=e instanceof Float64Array?e:new Float64Array(e),l=d.length,o=f.length,s=Math.min(l,o);if(d[0]!==1){for(let i=0;i<l;i+=1)f[i]/=d[0];for(let i=1;i<o;i+=1)d[i]/=d[0]}const c=32,m=new Float32Array(c),y=new Float32Array(c),a=t.createBuffer(r.numberOfChannels,r.length,r.sampleRate),u=r.numberOfChannels;for(let i=0;i<u;i+=1){const h=r.getChannelData(i),p=a.getChannelData(i);m.fill(0),y.fill(0),Hg(d,l,f,o,s,m,y,0,c,h,p)}return a},L3=(r,t,n,e,d)=>(f,l)=>{const o=new WeakMap;let s=null;const c=async(m,y)=>{let a=null,u=t(m);const i=Nn(u,y);if(y.createIIRFilter===void 0?a=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):i||(u=y.createIIRFilter(l,f)),o.set(y,a===null?u:a),a!==null){if(s===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const p=new n(m.context.destination.channelCount,m.context.length,y.sampleRate);s=(async()=>{await e(m,p,p.destination);const g=await d(p);return D3(g,y,f,l)})()}const h=await s;return a.buffer=h,a.start(0),a}return await e(m,y,u),u};return{render(m,y){const a=o.get(y);return a!==void 0?Promise.resolve(a):c(m,y)}}},N3=(r,t,n,e,d,f)=>l=>(o,s)=>{const c=r.get(o);if(c===void 0){if(!l&&f(o)){const m=e(o),{outputs:y}=n(o);for(const a of y)if(ql(a)){const u=e(a[0]);t(m,u,a[1],a[2])}else{const u=d(a[0]);m.disconnect(u,a[1])}}r.set(o,s)}else r.set(o,c+s)},B3=(r,t)=>n=>{const e=r.get(n);return t(e)||t(n)},F3=(r,t)=>n=>r.has(n)||t(n),U3=(r,t)=>n=>r.has(n)||t(n),V3=(r,t)=>n=>{const e=r.get(n);return t(e)||t(n)},G3=r=>t=>r!==null&&t instanceof r,z3=r=>t=>r!==null&&typeof r.AudioNode=="function"&&t instanceof r.AudioNode,H3=r=>t=>r!==null&&typeof r.AudioParam=="function"&&t instanceof r.AudioParam,W3=(r,t)=>n=>r(n)||t(n),q3=r=>t=>r!==null&&t instanceof r,X3=r=>r!==null&&r.isSecureContext,Y3=(r,t,n,e)=>class extends r{constructor(f,l){const o=n(f),s=t(o,l);if(e(o))throw TypeError();super(f,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},$3={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Z3=(r,t,n,e)=>class extends r{constructor(f,l){const o=n(f);if(e(o))throw new TypeError;const s={...$3,...l},c=t(o,s);super(f,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},Q3=(r,t,n,e)=>class extends r{constructor(f,l){const o=n(f),s=t(o,l);if(e(o))throw new TypeError;super(f,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},K3=(r,t,n)=>class extends r{constructor(d,f){const l=n(d),o=t(l,f);super(d,!0,o,null)}},J3=(r,t,n,e,d,f)=>class extends n{constructor(o,s){super(o),this._nativeContext=o,_d.set(this,o),e(o)&&d.set(o,new Set),this._destination=new r(this,s),this._listener=t(this,o),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(o){const s=typeof o=="function"?f(this,o):null;this._nativeContext.onstatechange=s;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===s?o:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},_l=r=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=r.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},eS=(r,t)=>(n,e,d)=>{const f=new Set;return n.connect=(l=>(o,s=0,c=0)=>{const m=f.size===0;if(t(o))return l.call(n,o,s,c),r(f,[o,s,c],y=>y[0]===o&&y[1]===s&&y[2]===c,!0),m&&e(),o;l.call(n,o,s),r(f,[o,s],y=>y[0]===o&&y[1]===s,!0),m&&e()})(n.connect),n.disconnect=(l=>(o,s,c)=>{const m=f.size>0;if(o===void 0)l.apply(n),f.clear();else if(typeof o=="number"){l.call(n,o);for(const a of f)a[1]===o&&f.delete(a)}else{t(o)?l.call(n,o,s,c):l.call(n,o,s);for(const a of f)a[0]===o&&(s===void 0||a[1]===s)&&(c===void 0||a[2]===c)&&f.delete(a)}const y=f.size===0;m&&y&&d()})(n.disconnect),n},Lr=(r,t,n)=>{const e=t[n];e!==void 0&&e!==r[n]&&(r[n]=e)},hn=(r,t)=>{Lr(r,t,"channelCount"),Lr(r,t,"channelCountMode"),Lr(r,t,"channelInterpretation")},Vm=r=>typeof r.getFloatTimeDomainData=="function",tS=r=>{r.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);r.getByteTimeDomainData(n);const e=Math.max(n.length,r.fftSize);for(let d=0;d<e;d+=1)t[d]=(n[d]-128)*.0078125;return t}},rS=(r,t)=>(n,e)=>{const d=n.createAnalyser();if(hn(d,e),!(e.maxDecibels>e.minDecibels))throw t();return Lr(d,e,"fftSize"),Lr(d,e,"maxDecibels"),Lr(d,e,"minDecibels"),Lr(d,e,"smoothingTimeConstant"),r(Vm,()=>Vm(d))||tS(d),d},nS=r=>r===null?null:r.hasOwnProperty("AudioBuffer")?r.AudioBuffer:null,Xr=(r,t,n)=>{const e=t[n];e!==void 0&&e!==r[n].value&&(r[n].value=e)},sS=r=>{r.start=(t=>{let n=!1;return(e=0,d=0,f)=>{if(n)throw vn();t.call(r,e,d,f),n=!0}})(r.start)},Ip=r=>{r.start=(t=>(n=0,e=0,d)=>{if(typeof d=="number"&&d<0||e<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(r,n,e,d)})(r.start)},Dp=r=>{r.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(r,n)})(r.stop)},oS=(r,t,n,e,d,f,l,o,s,c,m)=>(y,a)=>{const u=y.createBufferSource();return hn(u,a),Xr(u,a,"playbackRate"),Lr(u,a,"buffer"),Lr(u,a,"loop"),Lr(u,a,"loopEnd"),Lr(u,a,"loopStart"),t(n,()=>n(y))||sS(u),t(e,()=>e(y))||s(u),t(d,()=>d(y))||c(u,y),t(f,()=>f(y))||Ip(u),t(l,()=>l(y))||m(u,y),t(o,()=>o(y))||Dp(u),r(y,u),u},iS=r=>r===null?null:r.hasOwnProperty("AudioContext")?r.AudioContext:r.hasOwnProperty("webkitAudioContext")?r.webkitAudioContext:null,aS=(r,t)=>(n,e,d)=>{const f=n.destination;if(f.channelCount!==e)try{f.channelCount=e}catch{}d&&f.channelCountMode!=="explicit"&&(f.channelCountMode="explicit"),f.maxChannelCount===0&&Object.defineProperty(f,"maxChannelCount",{value:e});const l=r(n,{channelCount:e,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:1});return t(l,"channelCount",o=>()=>o.call(l),o=>s=>{o.call(l,s);try{f.channelCount=s}catch(c){if(s>f.maxChannelCount)throw c}}),t(l,"channelCountMode",o=>()=>o.call(l),o=>s=>{o.call(l,s),f.channelCountMode=s}),t(l,"channelInterpretation",o=>()=>o.call(l),o=>s=>{o.call(l,s),f.channelInterpretation=s}),Object.defineProperty(l,"maxChannelCount",{get:()=>f.maxChannelCount}),l.connect(f),l},lS=r=>r===null?null:r.hasOwnProperty("AudioWorkletNode")?r.AudioWorkletNode:null,uS=r=>{const{port1:t}=new MessageChannel;try{t.postMessage(r)}finally{t.close()}},cS=(r,t,n,e,d)=>(f,l,o,s,c,m)=>{if(o!==null)try{const y=new o(f,s,m),a=new Map;let u=null;if(Object.defineProperties(y,{channelCount:{get:()=>m.channelCount,set:()=>{throw r()}},channelCountMode:{get:()=>"explicit",set:()=>{throw r()}},onprocessorerror:{get:()=>u,set:i=>{typeof u=="function"&&y.removeEventListener("processorerror",u),u=typeof i=="function"?i:null,typeof u=="function"&&y.addEventListener("processorerror",u)}}}),y.addEventListener=(i=>(...h)=>{if(h[0]==="processorerror"){const p=typeof h[1]=="function"?h[1]:typeof h[1]=="object"&&h[1]!==null&&typeof h[1].handleEvent=="function"?h[1].handleEvent:null;if(p!==null){const g=a.get(h[1]);g!==void 0?h[1]=g:(h[1]=v=>{v.type==="error"?(Object.defineProperties(v,{type:{value:"processorerror"}}),p(v)):p(new ErrorEvent(h[0],{...v}))},a.set(p,h[1]))}}return i.call(y,"error",h[1],h[2]),i.call(y,...h)})(y.addEventListener),y.removeEventListener=(i=>(...h)=>{if(h[0]==="processorerror"){const p=a.get(h[1]);p!==void 0&&(a.delete(h[1]),h[1]=p)}return i.call(y,"error",h[1],h[2]),i.call(y,h[0],h[1],h[2])})(y.removeEventListener),m.numberOfOutputs!==0){const i=n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(i).connect(f.destination),d(y,()=>i.disconnect(),()=>i.connect(f.destination))}return y}catch(y){throw y.code===11?e():y}if(c===void 0)throw e();return uS(m),t(f,l,c,m)},Wg=(r,t)=>r===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(r*t))))),dS=r=>new Promise((t,n)=>{const{port1:e,port2:d}=new MessageChannel;e.onmessage=({data:f})=>{e.close(),d.close(),t(f)},e.onmessageerror=({data:f})=>{e.close(),d.close(),n(f)},d.postMessage(r)}),hS=async(r,t)=>{const n=await dS(t);return new r(n)},fS=(r,t,n,e)=>{let d=df.get(r);d===void 0&&(d=new WeakMap,df.set(r,d));const f=hS(n,e);return d.set(t,f),f},pS=(r,t,n,e,d,f,l,o,s,c,m,y,a)=>(u,i,h,p)=>{if(p.numberOfInputs===0&&p.numberOfOutputs===0)throw s();const g=Array.isArray(p.outputChannelCount)?p.outputChannelCount:Array.from(p.outputChannelCount);if(g.some(Ce=>Ce<1))throw s();if(g.length!==p.numberOfOutputs)throw t();if(p.channelCountMode!=="explicit")throw s();const v=p.channelCount*p.numberOfInputs,b=g.reduce((Ce,Fe)=>Ce+Fe,0),w=h.parameterDescriptors===void 0?0:h.parameterDescriptors.length;if(v+w>6||b>6)throw s();const x=new MessageChannel,k=[],E=[];for(let Ce=0;Ce<p.numberOfInputs;Ce+=1)k.push(l(u,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1})),E.push(d(u,{channelCount:p.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:p.channelCount}));const M=[];if(h.parameterDescriptors!==void 0)for(const{defaultValue:Ce,maxValue:Fe,minValue:ze,name:Ve}of h.parameterDescriptors){const ot=f(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:p.parameterData[Ve]!==void 0?p.parameterData[Ve]:Ce===void 0?0:Ce});Object.defineProperties(ot.offset,{defaultValue:{get:()=>Ce===void 0?0:Ce},maxValue:{get:()=>Fe===void 0?Bn:Fe},minValue:{get:()=>ze===void 0?zn:ze}}),M.push(ot)}const O=e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+w)}),P=Wg(i,u.sampleRate),D=o(u,P,v+w,Math.max(1,b)),U=d(u,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),z=[];for(let Ce=0;Ce<p.numberOfOutputs;Ce+=1)z.push(e(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[Ce]}));for(let Ce=0;Ce<p.numberOfInputs;Ce+=1){k[Ce].connect(E[Ce]);for(let Fe=0;Fe<p.channelCount;Fe+=1)E[Ce].connect(O,Fe,Ce*p.channelCount+Fe)}const V=new Gg(h.parameterDescriptors===void 0?[]:h.parameterDescriptors.map(({name:Ce},Fe)=>{const ze=M[Fe];return ze.connect(O,0,v+Fe),ze.start(0),[Ce,ze.offset]}));O.connect(D);let K=p.channelInterpretation,re=null;const Q=p.numberOfOutputs===0?[D]:z,ue={get bufferSize(){return P},get channelCount(){return p.channelCount},set channelCount(Ce){throw n()},get channelCountMode(){return p.channelCountMode},set channelCountMode(Ce){throw n()},get channelInterpretation(){return K},set channelInterpretation(Ce){for(const Fe of k)Fe.channelInterpretation=Ce;K=Ce},get context(){return D.context},get inputs(){return k},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get onprocessorerror(){return re},set onprocessorerror(Ce){typeof re=="function"&&ue.removeEventListener("processorerror",re),re=typeof Ce=="function"?Ce:null,typeof re=="function"&&ue.addEventListener("processorerror",re)},get parameters(){return V},get port(){return x.port2},addEventListener(...Ce){return D.addEventListener(Ce[0],Ce[1],Ce[2])},connect:r.bind(null,Q),disconnect:c.bind(null,Q),dispatchEvent(...Ce){return D.dispatchEvent(Ce[0])},removeEventListener(...Ce){return D.removeEventListener(Ce[0],Ce[1],Ce[2])}},te=new Map;x.port1.addEventListener=(Ce=>(...Fe)=>{if(Fe[0]==="message"){const ze=typeof Fe[1]=="function"?Fe[1]:typeof Fe[1]=="object"&&Fe[1]!==null&&typeof Fe[1].handleEvent=="function"?Fe[1].handleEvent:null;if(ze!==null){const Ve=te.get(Fe[1]);Ve!==void 0?Fe[1]=Ve:(Fe[1]=ot=>{m(u.currentTime,u.sampleRate,()=>ze(ot))},te.set(ze,Fe[1]))}}return Ce.call(x.port1,Fe[0],Fe[1],Fe[2])})(x.port1.addEventListener),x.port1.removeEventListener=(Ce=>(...Fe)=>{if(Fe[0]==="message"){const ze=te.get(Fe[1]);ze!==void 0&&(te.delete(Fe[1]),Fe[1]=ze)}return Ce.call(x.port1,Fe[0],Fe[1],Fe[2])})(x.port1.removeEventListener);let oe=null;Object.defineProperty(x.port1,"onmessage",{get:()=>oe,set:Ce=>{typeof oe=="function"&&x.port1.removeEventListener("message",oe),oe=typeof Ce=="function"?Ce:null,typeof oe=="function"&&(x.port1.addEventListener("message",oe),x.port1.start())}}),h.prototype.port=x.port1;let ce=null;fS(u,ue,h,p).then(Ce=>ce=Ce);const R=jc(p.numberOfInputs,p.channelCount),j=jc(p.numberOfOutputs,g),N=h.parameterDescriptors===void 0?[]:h.parameterDescriptors.reduce((Ce,{name:Fe})=>({...Ce,[Fe]:new Float32Array(128)}),{});let F=!0;const ie=()=>{p.numberOfOutputs>0&&D.disconnect(U);for(let Ce=0,Fe=0;Ce<p.numberOfOutputs;Ce+=1){const ze=z[Ce];for(let Ve=0;Ve<g[Ce];Ve+=1)U.disconnect(ze,Fe+Ve,Ve);Fe+=g[Ce]}},ae=new Map;D.onaudioprocess=({inputBuffer:Ce,outputBuffer:Fe})=>{if(ce!==null){const ze=y(ue);for(let Ve=0;Ve<P;Ve+=128){for(let ot=0;ot<p.numberOfInputs;ot+=1)for(let se=0;se<p.channelCount;se+=1)Sc(Ce,R[ot],se,se,Ve);h.parameterDescriptors!==void 0&&h.parameterDescriptors.forEach(({name:ot},se)=>{Sc(Ce,N,ot,v+se,Ve)});for(let ot=0;ot<p.numberOfInputs;ot+=1)for(let se=0;se<g[ot];se+=1)j[ot][se].byteLength===0&&(j[ot][se]=new Float32Array(128));try{const ot=R.map((Ne,Oe)=>{if(ze[Oe].size>0)return ae.set(Oe,P/128),Ne;const Ke=ae.get(Oe);return Ke===void 0?[]:(Ne.every(Ge=>Ge.every(et=>et===0))&&(Ke===1?ae.delete(Oe):ae.set(Oe,Ke-1)),Ne)});F=m(u.currentTime+Ve/u.sampleRate,u.sampleRate,()=>ce.process(ot,j,N));for(let Ne=0,Oe=0;Ne<p.numberOfOutputs;Ne+=1){for(let We=0;We<g[Ne];We+=1)zg(Fe,j[Ne],We,Oe+We,Ve);Oe+=g[Ne]}}catch(ot){F=!1,ue.dispatchEvent(new ErrorEvent("processorerror",{colno:ot.colno,filename:ot.filename,lineno:ot.lineno,message:ot.message}))}if(!F){for(let ot=0;ot<p.numberOfInputs;ot+=1){k[ot].disconnect(E[ot]);for(let se=0;se<p.channelCount;se+=1)E[Ve].disconnect(O,se,ot*p.channelCount+se)}if(h.parameterDescriptors!==void 0){const ot=h.parameterDescriptors.length;for(let se=0;se<ot;se+=1){const Ne=M[se];Ne.disconnect(O,0,v+se),Ne.stop()}}O.disconnect(D),D.onaudioprocess=null,Te?ie():Se();break}}}};let Te=!1;const ke=l(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Me=()=>D.connect(ke).connect(u.destination),Se=()=>{D.disconnect(ke),ke.disconnect()},Xe=()=>{if(F){Se(),p.numberOfOutputs>0&&D.connect(U);for(let Ce=0,Fe=0;Ce<p.numberOfOutputs;Ce+=1){const ze=z[Ce];for(let Ve=0;Ve<g[Ce];Ve+=1)U.connect(ze,Fe+Ve,Ve);Fe+=g[Ce]}}Te=!0},ve=()=>{F&&(Me(),ie()),Te=!1};return Me(),a(ue,Xe,ve)},qg=(r,t)=>{const n=r.createBiquadFilter();return hn(n,t),Xr(n,t,"Q"),Xr(n,t,"detune"),Xr(n,t,"frequency"),Xr(n,t,"gain"),Lr(n,t,"type"),n},mS=(r,t)=>(n,e)=>{const d=n.createChannelMerger(e.numberOfInputs);return r!==null&&r.name==="webkitAudioContext"&&t(n,d),hn(d,e),d},yS=r=>{const t=r.numberOfOutputs;Object.defineProperty(r,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw vn()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw vn()}}),Object.defineProperty(r,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw vn()}})},Xl=(r,t)=>{const n=r.createChannelSplitter(t.numberOfOutputs);return hn(n,t),yS(n),n},gS=(r,t,n,e,d)=>(f,l)=>{if(f.createConstantSource===void 0)return n(f,l);const o=f.createConstantSource();return hn(o,l),Xr(o,l,"offset"),t(e,()=>e(f))||Ip(o),t(d,()=>d(f))||Dp(o),r(f,o),o},Sa=(r,t)=>(r.connect=t.connect.bind(t),r.disconnect=t.disconnect.bind(t),r),vS=(r,t,n,e)=>(d,{offset:f,...l})=>{const o=d.createBuffer(1,2,44100),s=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(d,{...l,gain:f}),m=o.getChannelData(0);m[0]=1,m[1]=1,s.buffer=o,s.loop=!0;const y={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(i){c.channelCount=i},get channelCountMode(){return c.channelCountMode},set channelCountMode(i){c.channelCountMode=i},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(i){c.channelInterpretation=i},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return s.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return s.onended},set onended(i){s.onended=i},addEventListener(...i){return s.addEventListener(i[0],i[1],i[2])},dispatchEvent(...i){return s.dispatchEvent(i[0])},removeEventListener(...i){return s.removeEventListener(i[0],i[1],i[2])},start(i=0){s.start.call(s,i)},stop(i=0){s.stop.call(s,i)}},a=()=>s.connect(c),u=()=>s.disconnect(c);return r(d,s),e(Sa(y,c),a,u)},_S=(r,t)=>(n,e)=>{const d=n.createConvolver();if(hn(d,e),e.disableNormalization===d.normalize&&(d.normalize=!e.disableNormalization),Lr(d,e,"buffer"),e.channelCount>2||(t(d,"channelCount",f=>()=>f.call(d),f=>l=>{if(l>2)throw r();return f.call(d,l)}),e.channelCountMode==="max"))throw r();return t(d,"channelCountMode",f=>()=>f.call(d),f=>l=>{if(l==="max")throw r();return f.call(d,l)}),d},Xg=(r,t)=>{const n=r.createDelay(t.maxDelayTime);return hn(n,t),Xr(n,t,"delayTime"),n},bS=r=>(t,n)=>{const e=t.createDynamicsCompressor();if(hn(e,n),n.channelCount>2||n.channelCountMode==="max")throw r();return Xr(e,n,"attack"),Xr(e,n,"knee"),Xr(e,n,"ratio"),Xr(e,n,"release"),Xr(e,n,"threshold"),e},Yn=(r,t)=>{const n=r.createGain();return hn(n,t),Xr(n,t,"gain"),n},xS=r=>(t,n,e)=>{if(t.createIIRFilter===void 0)return r(t,n,e);const d=t.createIIRFilter(e.feedforward,e.feedback);return hn(d,e),d};function wS(r,t){const n=t[0]*t[0]+t[1]*t[1];return[(r[0]*t[0]+r[1]*t[1])/n,(r[1]*t[0]-r[0]*t[1])/n]}function SS(r,t){return[r[0]*t[0]-r[1]*t[1],r[0]*t[1]+r[1]*t[0]]}function Gm(r,t){let n=[0,0];for(let e=r.length-1;e>=0;e-=1)n=SS(n,t),n[0]+=r[e];return n}const jS=(r,t,n,e)=>(d,f,{channelCount:l,channelCountMode:o,channelInterpretation:s,feedback:c,feedforward:m})=>{const y=Wg(f,d.sampleRate),a=c instanceof Float64Array?c:new Float64Array(c),u=m instanceof Float64Array?m:new Float64Array(m),i=a.length,h=u.length,p=Math.min(i,h);if(i===0||i>20)throw e();if(a[0]===0)throw t();if(h===0||h>20)throw e();if(u[0]===0)throw t();if(a[0]!==1){for(let M=0;M<h;M+=1)u[M]/=a[0];for(let M=1;M<i;M+=1)a[M]/=a[0]}const g=n(d,y,l,l);g.channelCount=l,g.channelCountMode=o,g.channelInterpretation=s;const v=32,b=[],w=[],x=[];for(let M=0;M<l;M+=1){b.push(0);const O=new Float32Array(v),P=new Float32Array(v);O.fill(0),P.fill(0),w.push(O),x.push(P)}g.onaudioprocess=M=>{const O=M.inputBuffer,P=M.outputBuffer,D=O.numberOfChannels;for(let U=0;U<D;U+=1){const z=O.getChannelData(U),V=P.getChannelData(U);b[U]=Hg(a,i,u,h,p,w[U],x[U],b[U],v,z,V)}};const k=d.sampleRate/2;return Sa({get bufferSize(){return y},get channelCount(){return g.channelCount},set channelCount(M){g.channelCount=M},get channelCountMode(){return g.channelCountMode},set channelCountMode(M){g.channelCountMode=M},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(M){g.channelInterpretation=M},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(...M){return g.addEventListener(M[0],M[1],M[2])},dispatchEvent(...M){return g.dispatchEvent(M[0])},getFrequencyResponse(M,O,P){if(M.length!==O.length||O.length!==P.length)throw r();const D=M.length;for(let U=0;U<D;U+=1){const z=-Math.PI*(M[U]/k),V=[Math.cos(z),Math.sin(z)],K=Gm(u,V),re=Gm(a,V),Q=wS(K,re);O[U]=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]),P[U]=Math.atan2(Q[1],Q[0])}},removeEventListener(...M){return g.removeEventListener(M[0],M[1],M[2])}},g)},TS=(r,t)=>r.createMediaElementSource(t.mediaElement),ES=(r,t)=>{const n=r.createMediaStreamDestination();return hn(n,t),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},MS=(r,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((f,l)=>f.id<l.id?-1:f.id>l.id?1:0);const e=n.slice(0,1),d=r.createMediaStreamSource(new MediaStream(e));return Object.defineProperty(d,"mediaStream",{value:t}),d},CS=(r,t)=>(n,{mediaStreamTrack:e})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(e);const d=new MediaStream([e]),f=n.createMediaStreamSource(d);if(e.kind!=="audio")throw r();if(t(n))throw new TypeError;return f},AS=r=>r===null?null:r.hasOwnProperty("OfflineAudioContext")?r.OfflineAudioContext:r.hasOwnProperty("webkitOfflineAudioContext")?r.webkitOfflineAudioContext:null,kS=(r,t,n,e,d,f)=>(l,o)=>{const s=l.createOscillator();return hn(s,o),Xr(s,o,"detune"),Xr(s,o,"frequency"),o.periodicWave!==void 0?s.setPeriodicWave(o.periodicWave):Lr(s,o,"type"),t(n,()=>n(l))||Ip(s),t(e,()=>e(l))||f(s,l),t(d,()=>d(l))||Dp(s),r(l,s),s},RS=r=>(t,n)=>{const e=t.createPanner();return e.orientationX===void 0?r(t,n):(hn(e,n),Xr(e,n,"orientationX"),Xr(e,n,"orientationY"),Xr(e,n,"orientationZ"),Xr(e,n,"positionX"),Xr(e,n,"positionY"),Xr(e,n,"positionZ"),Lr(e,n,"coneInnerAngle"),Lr(e,n,"coneOuterAngle"),Lr(e,n,"coneOuterGain"),Lr(e,n,"distanceModel"),Lr(e,n,"maxDistance"),Lr(e,n,"panningModel"),Lr(e,n,"refDistance"),Lr(e,n,"rolloffFactor"),e)},OS=(r,t,n,e,d,f,l,o,s,c)=>(m,{coneInnerAngle:y,coneOuterAngle:a,coneOuterGain:u,distanceModel:i,maxDistance:h,orientationX:p,orientationY:g,orientationZ:v,panningModel:b,positionX:w,positionY:x,positionZ:k,refDistance:E,rolloffFactor:M,...O})=>{const P=m.createPanner();if(O.channelCount>2||O.channelCountMode==="max")throw l();hn(P,O);const D={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},U=n(m,{...D,channelInterpretation:"speakers",numberOfInputs:6}),z=e(m,{...O,gain:1}),V=e(m,{...D,gain:1}),K=e(m,{...D,gain:0}),re=e(m,{...D,gain:0}),Q=e(m,{...D,gain:0}),ue=e(m,{...D,gain:0}),te=e(m,{...D,gain:0}),oe=d(m,256,6,1),ce=f(m,{...D,curve:new Float32Array([1,1]),oversample:"none"});let ne=[p,g,v],R=[w,x,k];const j=new Float32Array(1);oe.onaudioprocess=({inputBuffer:ae})=>{const Te=[s(ae,j,0),s(ae,j,1),s(ae,j,2)];Te.some((Me,Se)=>Me!==ne[Se])&&(P.setOrientation(...Te),ne=Te);const ke=[s(ae,j,3),s(ae,j,4),s(ae,j,5)];ke.some((Me,Se)=>Me!==R[Se])&&(P.setPosition(...ke),R=ke)},Object.defineProperty(K.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Q.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ue.gain,"defaultValue",{get:()=>0}),Object.defineProperty(te.gain,"defaultValue",{get:()=>0});const N={get bufferSize(){},get channelCount(){return P.channelCount},set channelCount(ae){if(ae>2)throw l();z.channelCount=ae,P.channelCount=ae},get channelCountMode(){return P.channelCountMode},set channelCountMode(ae){if(ae==="max")throw l();z.channelCountMode=ae,P.channelCountMode=ae},get channelInterpretation(){return P.channelInterpretation},set channelInterpretation(ae){z.channelInterpretation=ae,P.channelInterpretation=ae},get coneInnerAngle(){return P.coneInnerAngle},set coneInnerAngle(ae){P.coneInnerAngle=ae},get coneOuterAngle(){return P.coneOuterAngle},set coneOuterAngle(ae){P.coneOuterAngle=ae},get coneOuterGain(){return P.coneOuterGain},set coneOuterGain(ae){if(ae<0||ae>1)throw t();P.coneOuterGain=ae},get context(){return P.context},get distanceModel(){return P.distanceModel},set distanceModel(ae){P.distanceModel=ae},get inputs(){return[z]},get maxDistance(){return P.maxDistance},set maxDistance(ae){if(ae<0)throw new RangeError;P.maxDistance=ae},get numberOfInputs(){return P.numberOfInputs},get numberOfOutputs(){return P.numberOfOutputs},get orientationX(){return V.gain},get orientationY(){return K.gain},get orientationZ(){return re.gain},get panningModel(){return P.panningModel},set panningModel(ae){P.panningModel=ae},get positionX(){return Q.gain},get positionY(){return ue.gain},get positionZ(){return te.gain},get refDistance(){return P.refDistance},set refDistance(ae){if(ae<0)throw new RangeError;P.refDistance=ae},get rolloffFactor(){return P.rolloffFactor},set rolloffFactor(ae){if(ae<0)throw new RangeError;P.rolloffFactor=ae},addEventListener(...ae){return z.addEventListener(ae[0],ae[1],ae[2])},dispatchEvent(...ae){return z.dispatchEvent(ae[0])},removeEventListener(...ae){return z.removeEventListener(ae[0],ae[1],ae[2])}};y!==N.coneInnerAngle&&(N.coneInnerAngle=y),a!==N.coneOuterAngle&&(N.coneOuterAngle=a),u!==N.coneOuterGain&&(N.coneOuterGain=u),i!==N.distanceModel&&(N.distanceModel=i),h!==N.maxDistance&&(N.maxDistance=h),p!==N.orientationX.value&&(N.orientationX.value=p),g!==N.orientationY.value&&(N.orientationY.value=g),v!==N.orientationZ.value&&(N.orientationZ.value=v),b!==N.panningModel&&(N.panningModel=b),w!==N.positionX.value&&(N.positionX.value=w),x!==N.positionY.value&&(N.positionY.value=x),k!==N.positionZ.value&&(N.positionZ.value=k),E!==N.refDistance&&(N.refDistance=E),M!==N.rolloffFactor&&(N.rolloffFactor=M),(ne[0]!==1||ne[1]!==0||ne[2]!==0)&&P.setOrientation(...ne),(R[0]!==0||R[1]!==0||R[2]!==0)&&P.setPosition(...R);const F=()=>{z.connect(P),r(z,ce,0,0),ce.connect(V).connect(U,0,0),ce.connect(K).connect(U,0,1),ce.connect(re).connect(U,0,2),ce.connect(Q).connect(U,0,3),ce.connect(ue).connect(U,0,4),ce.connect(te).connect(U,0,5),U.connect(oe).connect(m.destination)},ie=()=>{z.disconnect(P),o(z,ce,0,0),ce.disconnect(V),V.disconnect(U),ce.disconnect(K),K.disconnect(U),ce.disconnect(re),re.disconnect(U),ce.disconnect(Q),Q.disconnect(U),ce.disconnect(ue),ue.disconnect(U),ce.disconnect(te),te.disconnect(U),U.disconnect(oe),oe.disconnect(m.destination)};return c(Sa(N,P),F,ie)},PS=r=>(t,{disableNormalization:n,imag:e,real:d})=>{const f=e instanceof Float32Array?e:new Float32Array(e),l=d instanceof Float32Array?d:new Float32Array(d),o=t.createPeriodicWave(l,f,{disableNormalization:n});if(Array.from(e).length<2)throw r();return o},Yl=(r,t,n,e)=>r.createScriptProcessor(t,n,e),IS=(r,t)=>(n,e)=>{const d=e.channelCountMode;if(d==="clamped-max")throw t();if(n.createStereoPanner===void 0)return r(n,e);const f=n.createStereoPanner();return hn(f,e),Xr(f,e,"pan"),Object.defineProperty(f,"channelCountMode",{get:()=>d,set:l=>{if(l!==d)throw t()}}),f},DS=(r,t,n,e,d,f)=>{const o=new Float32Array([1,1]),s=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},m={...c,oversample:"none"},y=(i,h,p,g)=>{const v=new Float32Array(16385),b=new Float32Array(16385);for(let O=0;O<16385;O+=1){const P=O/16384*s;v[O]=Math.cos(P),b[O]=Math.sin(P)}const w=n(i,{...c,gain:0}),x=e(i,{...m,curve:v}),k=e(i,{...m,curve:o}),E=n(i,{...c,gain:0}),M=e(i,{...m,curve:b});return{connectGraph(){h.connect(w),h.connect(k.inputs===void 0?k:k.inputs[0]),h.connect(E),k.connect(p),p.connect(x.inputs===void 0?x:x.inputs[0]),p.connect(M.inputs===void 0?M:M.inputs[0]),x.connect(w.gain),M.connect(E.gain),w.connect(g,0,0),E.connect(g,0,1)},disconnectGraph(){h.disconnect(w),h.disconnect(k.inputs===void 0?k:k.inputs[0]),h.disconnect(E),k.disconnect(p),p.disconnect(x.inputs===void 0?x:x.inputs[0]),p.disconnect(M.inputs===void 0?M:M.inputs[0]),x.disconnect(w.gain),M.disconnect(E.gain),w.disconnect(g,0,0),E.disconnect(g,0,1)}}},a=(i,h,p,g)=>{const v=new Float32Array(16385),b=new Float32Array(16385),w=new Float32Array(16385),x=new Float32Array(16385),k=Math.floor(16385/2);for(let Q=0;Q<16385;Q+=1)if(Q>k){const ue=(Q-k)/(16384-k)*s;v[Q]=Math.cos(ue),b[Q]=Math.sin(ue),w[Q]=0,x[Q]=1}else{const ue=Q/(16384-k)*s;v[Q]=1,b[Q]=0,w[Q]=Math.cos(ue),x[Q]=Math.sin(ue)}const E=t(i,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),M=n(i,{...c,gain:0}),O=e(i,{...m,curve:v}),P=n(i,{...c,gain:0}),D=e(i,{...m,curve:b}),U=e(i,{...m,curve:o}),z=n(i,{...c,gain:0}),V=e(i,{...m,curve:w}),K=n(i,{...c,gain:0}),re=e(i,{...m,curve:x});return{connectGraph(){h.connect(E),h.connect(U.inputs===void 0?U:U.inputs[0]),E.connect(M,0),E.connect(P,0),E.connect(z,1),E.connect(K,1),U.connect(p),p.connect(O.inputs===void 0?O:O.inputs[0]),p.connect(D.inputs===void 0?D:D.inputs[0]),p.connect(V.inputs===void 0?V:V.inputs[0]),p.connect(re.inputs===void 0?re:re.inputs[0]),O.connect(M.gain),D.connect(P.gain),V.connect(z.gain),re.connect(K.gain),M.connect(g,0,0),z.connect(g,0,0),P.connect(g,0,1),K.connect(g,0,1)},disconnectGraph(){h.disconnect(E),h.disconnect(U.inputs===void 0?U:U.inputs[0]),E.disconnect(M,0),E.disconnect(P,0),E.disconnect(z,1),E.disconnect(K,1),U.disconnect(p),p.disconnect(O.inputs===void 0?O:O.inputs[0]),p.disconnect(D.inputs===void 0?D:D.inputs[0]),p.disconnect(V.inputs===void 0?V:V.inputs[0]),p.disconnect(re.inputs===void 0?re:re.inputs[0]),O.disconnect(M.gain),D.disconnect(P.gain),V.disconnect(z.gain),re.disconnect(K.gain),M.disconnect(g,0,0),z.disconnect(g,0,0),P.disconnect(g,0,1),K.disconnect(g,0,1)}}},u=(i,h,p,g,v)=>{if(h===1)return y(i,p,g,v);if(h===2)return a(i,p,g,v);throw d()};return(i,{channelCount:h,channelCountMode:p,pan:g,...v})=>{if(p==="max")throw d();const b=r(i,{...v,channelCount:1,channelCountMode:p,numberOfInputs:2}),w=n(i,{...v,channelCount:h,channelCountMode:p,gain:1}),x=n(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:g});let{connectGraph:k,disconnectGraph:E}=u(i,h,w,x,b);Object.defineProperty(x.gain,"defaultValue",{get:()=>0}),Object.defineProperty(x.gain,"maxValue",{get:()=>1}),Object.defineProperty(x.gain,"minValue",{get:()=>-1});const M={get bufferSize(){},get channelCount(){return w.channelCount},set channelCount(U){w.channelCount!==U&&(O&&E(),{connectGraph:k,disconnectGraph:E}=u(i,U,w,x,b),O&&k()),w.channelCount=U},get channelCountMode(){return w.channelCountMode},set channelCountMode(U){if(U==="clamped-max"||U==="max")throw d();w.channelCountMode=U},get channelInterpretation(){return w.channelInterpretation},set channelInterpretation(U){w.channelInterpretation=U},get context(){return w.context},get inputs(){return[w]},get numberOfInputs(){return w.numberOfInputs},get numberOfOutputs(){return w.numberOfOutputs},get pan(){return x.gain},addEventListener(...U){return w.addEventListener(U[0],U[1],U[2])},dispatchEvent(...U){return w.dispatchEvent(U[0])},removeEventListener(...U){return w.removeEventListener(U[0],U[1],U[2])}};let O=!1;const P=()=>{k(),O=!0},D=()=>{E(),O=!1};return f(Sa(M,b),P,D)}},LS=(r,t,n,e,d,f,l)=>(o,s)=>{const c=o.createWaveShaper();if(f!==null&&f.name==="webkitAudioContext"&&o.createGain().gain.automationRate===void 0)return n(o,s);hn(c,s);const m=s.curve===null||s.curve instanceof Float32Array?s.curve:new Float32Array(s.curve);if(m!==null&&m.length<2)throw t();Lr(c,{curve:m},"curve"),Lr(c,s,"oversample");let y=null,a=!1;return l(c,"curve",h=>()=>h.call(c),h=>p=>(h.call(c,p),a&&(e(p)&&y===null?y=r(o,c):!e(p)&&y!==null&&(y(),y=null)),p)),d(c,()=>{a=!0,e(c.curve)&&(y=r(o,c))},()=>{a=!1,y!==null&&(y(),y=null)})},NS=(r,t,n,e,d)=>(f,{curve:l,oversample:o,...s})=>{const c=f.createWaveShaper(),m=f.createWaveShaper();hn(c,s),hn(m,s);const y=n(f,{...s,gain:1}),a=n(f,{...s,gain:-1}),u=n(f,{...s,gain:1}),i=n(f,{...s,gain:-1});let h=null,p=!1,g=null;const v={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(x){y.channelCount=x,a.channelCount=x,c.channelCount=x,u.channelCount=x,m.channelCount=x,i.channelCount=x},get channelCountMode(){return c.channelCountMode},set channelCountMode(x){y.channelCountMode=x,a.channelCountMode=x,c.channelCountMode=x,u.channelCountMode=x,m.channelCountMode=x,i.channelCountMode=x},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(x){y.channelInterpretation=x,a.channelInterpretation=x,c.channelInterpretation=x,u.channelInterpretation=x,m.channelInterpretation=x,i.channelInterpretation=x},get context(){return c.context},get curve(){return g},set curve(x){if(x!==null&&x.length<2)throw t();if(x===null)c.curve=x,m.curve=x;else{const k=x.length,E=new Float32Array(k+2-k%2),M=new Float32Array(k+2-k%2);E[0]=x[0],M[0]=-x[k-1];const O=Math.ceil((k+1)/2),P=(k+1)/2-1;for(let D=1;D<O;D+=1){const U=D/O*P,z=Math.floor(U),V=Math.ceil(U);E[D]=z===V?x[z]:(1-(U-z))*x[z]+(1-(V-U))*x[V],M[D]=z===V?-x[k-1-z]:-((1-(U-z))*x[k-1-z])-(1-(V-U))*x[k-1-V]}E[O]=k%2===1?x[O-1]:(x[O-2]+x[O-1])/2,c.curve=E,m.curve=M}g=x,p&&(e(g)&&h===null?h=r(f,y):h!==null&&(h(),h=null))},get inputs(){return[y]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(x){c.oversample=x,m.oversample=x},addEventListener(...x){return y.addEventListener(x[0],x[1],x[2])},dispatchEvent(...x){return y.dispatchEvent(x[0])},removeEventListener(...x){return y.removeEventListener(x[0],x[1],x[2])}};l!==null&&(v.curve=l instanceof Float32Array?l:new Float32Array(l)),o!==v.oversample&&(v.oversample=o);const b=()=>{y.connect(c).connect(u),y.connect(a).connect(m).connect(i).connect(u),p=!0,e(g)&&(h=r(f,y))},w=()=>{y.disconnect(c),c.disconnect(u),y.disconnect(a),a.disconnect(m),m.disconnect(i),i.disconnect(u),p=!1,h!==null&&(h(),h=null)};return d(Sa(v,u),b,w)},Gn=()=>new DOMException("","NotSupportedError"),BS={numberOfChannels:1},FS=(r,t,n,e,d)=>class extends r{constructor(l,o,s){let c;if(typeof l=="number"&&o!==void 0&&s!==void 0)c={length:o,numberOfChannels:l,sampleRate:s};else if(typeof l=="object")c=l;else throw new Error("The given parameters are not valid.");const{length:m,numberOfChannels:y,sampleRate:a}={...BS,...c},u=e(y,m,a);t(_l,()=>_l(u))||u.addEventListener("statechange",(()=>{let i=0;const h=p=>{this._state==="running"&&(i>0?(u.removeEventListener("statechange",h),p.stopImmediatePropagation(),this._waitForThePromiseToSettle(p)):i+=1)};return h})()),super(u,y),this._length=m,this._nativeOfflineAudioContext=u,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",d(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,Bg(this)}))}_waitForThePromiseToSettle(l){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(l):setTimeout(()=>this._waitForThePromiseToSettle(l))}},US={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},VS=(r,t,n,e,d,f,l)=>class extends r{constructor(s,c){const m=d(s),y={...US,...c},a=n(m,y),u=f(m),i=u?e():null,h=s.sampleRate/2;super(s,!1,a,i),this._detune=t(this,u,a.detune,153600,-153600),this._frequency=t(this,u,a.frequency,h,-h),this._nativeOscillatorNode=a,this._onended=null,this._oscillatorNodeRenderer=i,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(s){const c=typeof s=="function"?l(this,s):null;this._nativeOscillatorNode.onended=c;const m=this._nativeOscillatorNode.onended;this._onended=m!==null&&m===c?s:m}get type(){return this._nativeOscillatorNode.type}set type(s){this._nativeOscillatorNode.type=s,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(s){this._nativeOscillatorNode.setPeriodicWave(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=s)}start(s=0){if(this._nativeOscillatorNode.start(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=s),this.context.state!=="closed"){ma(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),fo(this)&&Hl(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(s=0){this._nativeOscillatorNode.stop(s),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=s)}},GS=(r,t,n,e,d)=>()=>{const f=new WeakMap;let l=null,o=null,s=null;const c=async(m,y)=>{let a=n(m);const u=Nn(a,y);if(!u){const i={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,detune:a.detune.value,frequency:a.frequency.value,periodicWave:l===null?void 0:l,type:a.type};a=t(y,i),o!==null&&a.start(o),s!==null&&a.stop(s)}return f.set(y,a),u?(await r(y,m.detune,a.detune),await r(y,m.frequency,a.frequency)):(await e(y,m.detune,a.detune),await e(y,m.frequency,a.frequency)),await d(m,y,a),a};return{set periodicWave(m){l=m},set start(m){o=m},set stop(m){s=m},render(m,y){const a=f.get(y);return a!==void 0?Promise.resolve(a):c(m,y)}}},zS={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},HS=(r,t,n,e,d,f,l)=>class extends r{constructor(s,c){const m=d(s),y={...zS,...c},a=n(m,y),u=f(m),i=u?e():null;super(s,!1,a,i),this._nativePannerNode=a,this._orientationX=t(this,u,a.orientationX,Bn,zn),this._orientationY=t(this,u,a.orientationY,Bn,zn),this._orientationZ=t(this,u,a.orientationZ,Bn,zn),this._positionX=t(this,u,a.positionX,Bn,zn),this._positionY=t(this,u,a.positionY,Bn,zn),this._positionZ=t(this,u,a.positionZ,Bn,zn),l(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(s){this._nativePannerNode.coneInnerAngle=s}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(s){this._nativePannerNode.coneOuterAngle=s}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(s){this._nativePannerNode.coneOuterGain=s}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(s){this._nativePannerNode.distanceModel=s}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(s){this._nativePannerNode.maxDistance=s}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(s){this._nativePannerNode.panningModel=s}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(s){this._nativePannerNode.refDistance=s}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(s){this._nativePannerNode.rolloffFactor=s}},WS=(r,t,n,e,d,f,l,o,s,c)=>()=>{const m=new WeakMap;let y=null;const a=async(u,i)=>{let h=null,p=f(u);const g={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation},v={...g,coneInnerAngle:p.coneInnerAngle,coneOuterAngle:p.coneOuterAngle,coneOuterGain:p.coneOuterGain,distanceModel:p.distanceModel,maxDistance:p.maxDistance,panningModel:p.panningModel,refDistance:p.refDistance,rolloffFactor:p.rolloffFactor},b=Nn(p,i);if("bufferSize"in p)h=e(i,{...g,gain:1});else if(!b){const w={...v,orientationX:p.orientationX.value,orientationY:p.orientationY.value,orientationZ:p.orientationZ.value,positionX:p.positionX.value,positionY:p.positionY.value,positionZ:p.positionZ.value};p=d(i,w)}if(m.set(i,h===null?p:h),h!==null){if(y===null){if(l===null)throw new Error("Missing the native OfflineAudioContext constructor.");const D=new l(6,u.context.length,i.sampleRate),U=t(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});U.connect(D.destination),y=(async()=>{const z=await Promise.all([u.orientationX,u.orientationY,u.orientationZ,u.positionX,u.positionY,u.positionZ].map(async(V,K)=>{const re=n(D,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:K===0?1:0});return await o(D,V,re.offset),re}));for(let V=0;V<6;V+=1)z[V].connect(U,0,V),z[V].start(0);return c(D)})()}const w=await y,x=e(i,{...g,gain:1});await s(u,i,x);const k=[];for(let D=0;D<w.numberOfChannels;D+=1)k.push(w.getChannelData(D));let E=[k[0][0],k[1][0],k[2][0]],M=[k[3][0],k[4][0],k[5][0]],O=e(i,{...g,gain:1}),P=d(i,{...v,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:M[0],positionY:M[1],positionZ:M[2]});x.connect(O).connect(P.inputs[0]),P.connect(h);for(let D=128;D<w.length;D+=128){const U=[k[0][D],k[1][D],k[2][D]],z=[k[3][D],k[4][D],k[5][D]];if(U.some((V,K)=>V!==E[K])||z.some((V,K)=>V!==M[K])){E=U,M=z;const V=D/i.sampleRate;O.gain.setValueAtTime(0,V),O=e(i,{...g,gain:0}),P=d(i,{...v,orientationX:E[0],orientationY:E[1],orientationZ:E[2],positionX:M[0],positionY:M[1],positionZ:M[2]}),O.gain.setValueAtTime(1,V),x.connect(O).connect(P.inputs[0]),P.connect(h)}}return h}return b?(await r(i,u.orientationX,p.orientationX),await r(i,u.orientationY,p.orientationY),await r(i,u.orientationZ,p.orientationZ),await r(i,u.positionX,p.positionX),await r(i,u.positionY,p.positionY),await r(i,u.positionZ,p.positionZ)):(await o(i,u.orientationX,p.orientationX),await o(i,u.orientationY,p.orientationY),await o(i,u.orientationZ,p.orientationZ),await o(i,u.positionX,p.positionX),await o(i,u.positionY,p.positionY),await o(i,u.positionZ,p.positionZ)),wa(p)?await s(u,i,p.inputs[0]):await s(u,i,p),p};return{render(u,i){const h=m.get(i);return h!==void 0?Promise.resolve(h):a(u,i)}}},qS={disableNormalization:!1},XS=(r,t,n,e)=>class Yg{constructor(f,l){const o=t(f),s=e({...qS,...l}),c=r(o,s);return n.add(c),c}static[Symbol.hasInstance](f){return f!==null&&typeof f=="object"&&Object.getPrototypeOf(f)===Yg.prototype||n.has(f)}},YS=(r,t)=>(n,e,d)=>(r(e).replay(d),t(e,n,d)),$S=(r,t,n)=>async(e,d,f)=>{const l=r(e);await Promise.all(l.activeInputs.map((o,s)=>Array.from(o).map(async([c,m])=>{const a=await t(c).render(c,d),u=e.context.destination;!n(c)&&(e!==u||!n(e))&&a.connect(f,m,s)})).reduce((o,s)=>[...o,...s],[]))},ZS=(r,t,n)=>async(e,d,f)=>{const l=t(e);await Promise.all(Array.from(l.activeInputs).map(async([o,s])=>{const m=await r(o).render(o,d);n(o)||m.connect(f,s)}))},QS=(r,t,n,e)=>d=>r(_l,()=>_l(d))?Promise.resolve(r(e,e)).then(f=>{if(!f){const l=n(d,512,0,1);d.oncomplete=()=>{l.onaudioprocess=null,l.disconnect()},l.onaudioprocess=()=>d.currentTime,l.connect(d.destination)}return d.startRendering()}):new Promise(f=>{const l=t(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});d.oncomplete=o=>{l.disconnect(),f(o.renderedBuffer)},l.connect(d.destination),d.startRendering()}),KS=r=>(t,n)=>{r.set(t,n)},JS=r=>(t,n)=>r.set(t,n),e4=(r,t,n,e,d,f,l,o)=>(s,c)=>n(s).render(s,c).then(()=>Promise.all(Array.from(e(c)).map(m=>n(m).render(m,c)))).then(()=>d(c)).then(m=>(typeof m.copyFromChannel!="function"?(l(m),Rp(m)):t(f,()=>f(m))||o(m),r.add(m),m)),t4={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},r4=(r,t,n,e,d,f)=>class extends r{constructor(o,s){const c=d(o),m={...t4,...s},y=n(c,m),a=f(c),u=a?e():null;super(o,!1,y,u),this._pan=t(this,a,y.pan)}get pan(){return this._pan}},n4=(r,t,n,e,d)=>()=>{const f=new WeakMap,l=async(o,s)=>{let c=n(o);const m=Nn(c,s);if(!m){const y={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=t(s,y)}return f.set(s,c),m?await r(s,o.pan,c.pan):await e(s,o.pan,c.pan),wa(c)?await d(o,s,c.inputs[0]):await d(o,s,c),c};return{render(o,s){const c=f.get(s);return c!==void 0?Promise.resolve(c):l(o,s)}}},s4=r=>()=>{if(r===null)return!1;try{new r({length:1,sampleRate:44100})}catch{return!1}return!0},o4=(r,t)=>async()=>{if(r===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),e=new t(1,128,44100),d=URL.createObjectURL(n);let f=!1,l=!1;try{await e.audioWorklet.addModule(d);const o=new r(e,"a",{numberOfOutputs:0}),s=e.createOscillator();o.port.onmessage=()=>f=!0,o.onprocessorerror=()=>l=!0,s.connect(o),s.start(0),await e.startRendering()}catch{}finally{URL.revokeObjectURL(d)}return f&&!l},i4=(r,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),e=r(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(d=>{n.oncomplete=()=>{e.disconnect(),d(n.currentTime!==0)},n.startRendering()})},a4=()=>new DOMException("","UnknownError"),l4={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},u4=(r,t,n,e,d,f,l)=>class extends r{constructor(s,c){const m=d(s),y={...l4,...c},a=n(m,y),i=f(m)?e():null;super(s,!0,a,i),this._isCurveNullified=!1,this._nativeWaveShaperNode=a,l(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(s){if(s===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(s.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=s}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(s){this._nativeWaveShaperNode.oversample=s}},c4=(r,t,n)=>()=>{const e=new WeakMap,d=async(f,l)=>{let o=t(f);if(!Nn(o,l)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=r(l,c)}return e.set(l,o),wa(o)?await n(f,l,o.inputs[0]):await n(f,l,o),o};return{render(f,l){const o=e.get(l);return o!==void 0?Promise.resolve(o):d(f,l)}}},d4=()=>typeof window>"u"?null:window,h4=(r,t)=>n=>{n.copyFromChannel=(e,d,f=0)=>{const l=r(f),o=r(d);if(o>=n.numberOfChannels)throw t();const s=n.length,c=n.getChannelData(o),m=e.length;for(let y=l<0?-l:0;y+l<s&&y<m;y+=1)e[y]=c[y+l]},n.copyToChannel=(e,d,f=0)=>{const l=r(f),o=r(d);if(o>=n.numberOfChannels)throw t();const s=n.length,c=n.getChannelData(o),m=e.length;for(let y=l<0?-l:0;y+l<s&&y<m;y+=1)c[y+l]=e[y]}},f4=r=>t=>{t.copyFromChannel=(n=>(e,d,f=0)=>{const l=r(f),o=r(d);if(l<t.length)return n.call(t,e,o,l)})(t.copyFromChannel),t.copyToChannel=(n=>(e,d,f=0)=>{const l=r(f),o=r(d);if(l<t.length)return n.call(t,e,o,l)})(t.copyToChannel)},p4=r=>(t,n)=>{const e=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=e),r(t,"buffer",d=>()=>{const f=d.call(t);return f===e?null:f},d=>f=>d.call(t,f===null?e:f))},m4=(r,t)=>(n,e)=>{e.channelCount=1,e.channelCountMode="explicit",Object.defineProperty(e,"channelCount",{get:()=>1,set:()=>{throw r()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:()=>{throw r()}});const d=n.createBufferSource();t(e,()=>{const o=e.numberOfInputs;for(let s=0;s<o;s+=1)d.connect(e,0,s)},()=>d.disconnect(e))},$g=(r,t,n)=>r.copyFromChannel===void 0?r.getChannelData(n)[0]:(r.copyFromChannel(t,n),t[0]),Zg=r=>{if(r===null)return!1;const t=r.length;return t%2!==0?r[Math.floor(t/2)]!==0:r[t/2-1]+r[t/2]!==0},$l=(r,t,n,e)=>{let d=r;for(;!d.hasOwnProperty(t);)d=Object.getPrototypeOf(d);const{get:f,set:l}=Object.getOwnPropertyDescriptor(d,t);Object.defineProperty(r,t,{get:n(f),set:e(l)})},y4=r=>({...r,outputChannelCount:r.outputChannelCount!==void 0?r.outputChannelCount:r.numberOfInputs===1&&r.numberOfOutputs===1?[r.channelCount]:Array.from({length:r.numberOfOutputs},()=>1)}),g4=r=>({...r,channelCount:r.numberOfOutputs}),v4=r=>{const{imag:t,real:n}=r;return t===void 0?n===void 0?{...r,imag:[0,0],real:[0,0]}:{...r,imag:Array.from(n,()=>0),real:n}:n===void 0?{...r,imag:t,real:Array.from(t,()=>0)}:{...r,imag:t,real:n}},Qg=(r,t,n)=>{try{r.setValueAtTime(t,n)}catch(e){if(e.code!==9)throw e;Qg(r,t,n+1e-7)}},_4=r=>{const t=r.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},b4=r=>{const t=r.createBufferSource(),n=r.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0},x4=r=>{const t=r.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Lp=r=>{const t=r.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},Kg=r=>{const t=r.createBuffer(1,1,44100),n=r.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Np=r=>{const t=r.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},w4=r=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(r)}finally{t.close(),n.close()}},S4=r=>{r.start=(t=>(n=0,e=0,d)=>{const f=r.buffer,l=f===null?e:Math.min(f.duration,e);f!==null&&l>f.duration-.5/r.context.sampleRate?t.call(r,n,0,0):t.call(r,n,l,d)})(r.start)},Jg=(r,t)=>{const n=t.createGain();r.connect(n);const e=(d=>()=>{d.call(r,n),r.removeEventListener("ended",e)})(r.disconnect);r.addEventListener("ended",e),Sa(r,n),r.stop=(d=>{let f=!1;return(l=0)=>{if(f)try{d.call(r,l)}catch{n.gain.setValueAtTime(0,l)}else d.call(r,l),f=!0}})(r.stop)},ja=(r,t)=>n=>{const e={value:r};return Object.defineProperties(n,{currentTarget:e,target:e}),typeof t=="function"?t.call(r,n):t.handleEvent.call(r,n)},j4=Hx(Mi),T4=Zx(Mi),E4=l3(bd),ev=new WeakMap,M4=E3(ev),Ps=Bw(new Map,new WeakMap),zs=d4(),tv=rS(Ps,qs),Bp=T3(Fn),Mn=$S(Fn,Bp,xi),C4=tw(tv,Pr,Mn),kr=A3(_d),vo=AS(zs),Sr=q3(vo),rv=new WeakMap,nv=v3(ja),Zl=iS(zs),Fp=G3(Zl),Up=z3(zs),sv=H3(zs),bl=lS(zs),tn=Ew(Wx(Rg),$x(j4,T4,bc,E4,xc,Fn,M4,zl,Pr,Mi,fo,xi,Bu),Ps,N3(uf,xc,Fn,Pr,vl,fo),qs,xd,Gn,s3(bc,uf,Fn,Pr,vl,kr,fo,Sr),d3(rv,Fn,Rs),nv,kr,Fp,Up,sv,Sr,bl),A4=ew(tn,C4,qs,tv,kr,Sr),Vp=new WeakSet,zm=nS(zs),ov=Qw(new Uint32Array(1)),Gp=h4(ov,qs),zp=f4(ov),k4=nw(Vp,Ps,Gn,zm,vo,s4(zm),Gp,zp),wd=Qx(Yn),iv=ZS(Bp,Wl,xi),Xs=Ww(iv),Ta=oS(wd,Ps,_4,b4,x4,Lp,Kg,Np,S4,p4($l),Jg),Ys=YS(M3(Wl),iv),R4=iw(Xs,Ta,Pr,Ys,Mn),Is=Mw(qx(Og),rv,kp,Cw,Bx,Fx,Ux,Vx,Gx,of,Ag,Zl,Qg),O4=ow(tn,R4,Is,vn,Ta,kr,Sr,ja),P4=mw(tn,yw,qs,vn,aS(Yn,$l),kr,Sr,Mn),I4=Nw(Xs,qg,Pr,Ys,Mn),Ci=JS(ev),D4=Lw(tn,Is,I4,xd,qg,kr,Sr,Ci),Jo=eS(Mi,Up),L4=m4(vn,Jo),ei=mS(Zl,L4),N4=Vw(ei,Pr,Mn),B4=Uw(tn,N4,ei,kr,Sr),F4=Hw(Xl,Pr,Mn),U4=zw(tn,F4,Xl,kr,Sr,g4),V4=vS(wd,Ta,Yn,Jo),Ea=gS(wd,Ps,V4,Lp,Np),G4=Zw(Xs,Ea,Pr,Ys,Mn),z4=$w(tn,Is,G4,Ea,kr,Sr,ja),av=_S(Gn,$l),H4=e3(av,Pr,Mn),W4=Jw(tn,H4,av,kr,Sr,Ci),q4=a3(Xs,Xg,Pr,Ys,Mn),X4=i3(tn,Is,q4,Xg,kr,Sr,Ci),lv=bS(Gn),Y4=m3(Xs,lv,Pr,Ys,Mn),$4=p3(tn,Is,Y4,lv,Gn,kr,Sr,Ci),Z4=S3(Xs,Yn,Pr,Ys,Mn),Q4=w3(tn,Is,Z4,Yn,kr,Sr),K4=jS(xd,vn,Yl,Gn),Sd=QS(Ps,Yn,Yl,i4(Yn,vo)),J4=L3(Ta,Pr,vo,Mn,Sd),e5=xS(K4),t5=I3(tn,e5,J4,kr,Sr,Ci),r5=gw(Is,ei,Ea,Yl,Gn,$g,Sr,$l),uv=new WeakMap,n5=J3(P4,r5,nv,Sr,uv,ja),cv=kS(wd,Ps,Lp,Kg,Np,Jg),s5=GS(Xs,cv,Pr,Ys,Mn),o5=VS(tn,Is,cv,s5,kr,Sr,ja),dv=Xw(Ta),i5=NS(dv,vn,Yn,Zg,Jo),jd=LS(dv,vn,i5,Zg,Jo,Zl,$l),a5=OS(bc,vn,ei,Yn,Yl,jd,Gn,xc,$g,Jo),hv=RS(a5),l5=WS(Xs,ei,Ea,Yn,hv,Pr,vo,Ys,Mn,Sd),u5=HS(tn,Is,hv,l5,kr,Sr,Ci),c5=PS(qs),d5=XS(c5,kr,new WeakSet,v4),h5=DS(ei,Xl,Yn,jd,Gn,Jo),fv=IS(h5,Gn),f5=n4(Xs,fv,Pr,Ys,Mn),p5=r4(tn,Is,fv,f5,kr,Sr),m5=c4(jd,Pr,Mn),y5=u4(tn,vn,jd,m5,kr,Sr,Ci),pv=X3(zs),Hp=_3(zs),mv=new WeakMap,g5=k3(mv,vo),v5=pv?Yx(Ps,Gn,g3(zs),Hp,b3(zx),kr,g5,Sr,bl,new WeakMap,new WeakMap,o4(bl,vo),zs):void 0,_5=W3(Fp,Sr),b5=n3(Vp,Ps,r3,y3,new WeakSet,kr,_5,vc,_l,Gp,zp),yv=Iw(v5,A4,k4,O4,D4,B4,U4,z4,W4,b5,X4,$4,Q4,t5,n5,o5,u5,d5,p5,y5),x5=Y3(tn,TS,kr,Sr),w5=Z3(tn,ES,kr,Sr),S5=Q3(tn,MS,kr,Sr),j5=CS(vn,Sr),T5=K3(tn,j5,kr),E5=pw(yv,vn,Gn,a4,x5,w5,S5,T5,Zl),Wp=R3(uv),M5=Kx(Wp),gv=qw(qs),C5=u3(Wp),vv=h3(qs),_v=new WeakMap,A5=j3(_v,Rs),k5=pS(gv,qs,vn,ei,Xl,Ea,Yn,Yl,Gn,vv,Hp,A5,Jo),R5=cS(vn,k5,Yn,Gn,Jo),O5=Pw(Xs,gv,Ta,ei,Xl,Ea,Yn,C5,vv,Hp,Pr,bl,vo,Ys,Mn,Sd),P5=C3(mv),I5=KS(_v),Hm=pv?kw(M5,tn,Is,O5,R5,Fn,P5,kr,Sr,bl,y4,I5,w4,ja):void 0,D5=t3(Gn,vo),L5=e4(Vp,Ps,Bp,Wp,Sd,vc,Gp,zp),N5=FS(yv,Ps,vn,D5,L5),B5=B3(_d,Fp),F5=F3(Ap,Up),U5=U3(kp,sv),V5=V3(_d,Sr);function tr(r,t){if(!r)throw new Error(t)}function mo(r,t,n=1/0){if(!(t<=r&&r<=n))throw new RangeError(`Value must be within [${t}, ${n}], got: ${r}`)}function bv(r){!r.isOffline&&r.state!=="running"&&wv('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let xv=console;function G5(...r){xv.log(...r)}function wv(...r){xv.warn(...r)}function ms(r){return typeof r>"u"}function cr(r){return!ms(r)}function z5(r){return typeof r=="function"}function Yo(r){return typeof r=="number"}function yi(r){return Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object}function H5(r){return typeof r=="boolean"}function Cs(r){return Array.isArray(r)}function Hs(r){return typeof r=="string"}function yu(r){return Hs(r)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(r)}function W5(r){return new E5(r)}function q5(r,t,n){return new N5(r,t,n)}const po=typeof self=="object"?self:null,X5=po&&(po.hasOwnProperty("AudioContext")||po.hasOwnProperty("webkitAudioContext"));function Y5(r,t,n){return tr(cr(Hm),"This node only works in a secure context (https or localhost)"),new Hm(r,t,n)}function Ds(r,t,n,e){var d=arguments.length,f=d<3?t:e===null?e=Object.getOwnPropertyDescriptor(t,n):e,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")f=Reflect.decorate(r,t,n,e);else for(var o=r.length-1;o>=0;o--)(l=r[o])&&(f=(d<3?l(f):d>3?l(t,n,f):l(t,n))||f);return d>3&&f&&Object.defineProperty(t,n,f),f}function Br(r,t,n,e){function d(f){return f instanceof n?f:new n(function(l){l(f)})}return new(n||(n=Promise))(function(f,l){function o(m){try{c(e.next(m))}catch(y){l(y)}}function s(m){try{c(e.throw(m))}catch(y){l(y)}}function c(m){m.done?f(m.value):d(m.value).then(o,s)}c((e=e.apply(r,t||[])).next())})}class $5{constructor(t,n,e){this._callback=t,this._type=n,this._updateInterval=e,this._createClock()}_createWorker(){const t=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(t),e=new Worker(n);e.onmessage=this._callback.bind(this),this._worker=e}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),this._type==="worker"&&this._worker.postMessage(Math.max(t*1e3,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function wi(r){return U5(r)}function Ho(r){return F5(r)}function Fu(r){return V5(r)}function Ui(r){return B5(r)}function Sv(r){return r instanceof AudioBuffer}function Z5(r,t){return r==="value"||wi(t)||Ho(t)||Sv(t)}function na(r,...t){if(!t.length)return r;const n=t.shift();if(yi(r)&&yi(n))for(const e in n)Z5(e,n[e])?r[e]=n[e]:yi(n[e])?(r[e]||Object.assign(r,{[e]:{}}),na(r[e],n[e])):Object.assign(r,{[e]:n[e]});return na(r,...t)}function Q5(r,t){return r.length===t.length&&r.every((n,e)=>t[e]===n)}function Nt(r,t,n=[],e){const d={},f=Array.from(t);if(yi(f[0])&&e&&!Reflect.has(f[0],e)&&(Object.keys(f[0]).some(o=>Reflect.has(r,o))||(na(d,{[e]:f[0]}),n.splice(n.indexOf(e),1),f.shift())),f.length===1&&yi(f[0]))na(d,f[0]);else for(let l=0;l<n.length;l++)cr(f[l])&&(d[n[l]]=f[l]);return na(r,d)}function K5(r){return r.constructor.getDefaults()}function sa(r,t){return ms(r)?t:r}function Wm(r,t){return t.forEach(n=>{Reflect.has(r,n)&&delete r[n]}),r}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2019 Yotam Mann
 */class _o{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||po&&this.toString()===po.TONE_DEBUG_CLASS)&&G5(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}_o.version=Cg;const qp=1e-6;function Tc(r,t){return r>t+qp}function pf(r,t){return Tc(r,t)||Es(r,t)}function jv(r,t){return r+qp<t}function Es(r,t){return Math.abs(r-t)<qp}function J5(r,t,n){return Math.max(Math.min(r,n),t)}class $s extends _o{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Nt($s.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(tr(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];tr(pf(t.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const n=this._search(t.time);this._timeline.splice(n+1,0,t)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(t){const n=this._timeline.indexOf(t);return n!==-1&&this._timeline.splice(n,1),this}get(t,n="time"){const e=this._search(t,n);return e!==-1?this._timeline[e]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,n="time"){const e=this._search(t,n);return e+1<this._timeline.length?this._timeline[e+1]:null}getBefore(t){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<t)return this._timeline[n-1];const e=this._search(t);return e-1>=0?this._timeline[e-1]:null}cancel(t){if(this._timeline.length>1){let n=this._search(t);if(n>=0)if(Es(this._timeline[n].time,t)){for(let e=n;e>=0&&Es(this._timeline[e].time,t);e--)n=e;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&pf(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const n=this._search(t);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(t){const n=this._timeline.indexOf(t);return n>0?this._timeline[n-1]:null}_search(t,n="time"){if(this._timeline.length===0)return-1;let e=0;const d=this._timeline.length;let f=d;if(d>0&&this._timeline[d-1][n]<=t)return d-1;for(;e<f;){let l=Math.floor(e+(f-e)/2);const o=this._timeline[l],s=this._timeline[l+1];if(Es(o[n],t)){for(let c=l;c<this._timeline.length;c++){const m=this._timeline[c];if(Es(m[n],t))l=c;else break}return l}else{if(jv(o[n],t)&&Tc(s[n],t))return l;Tc(o[n],t)?f=l:e=l+1}}return-1}_iterate(t,n=0,e=this._timeline.length-1){this._timeline.slice(n,e+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,n){const e=this._search(t);return e!==-1&&this._iterate(n,0,e),this}forEachAfter(t,n){const e=this._search(t);return this._iterate(n,e+1),this}forEachBetween(t,n,e){let d=this._search(t),f=this._search(n);return d!==-1&&f!==-1?(this._timeline[d].time!==t&&(d+=1),this._timeline[f].time===n&&(f-=1),this._iterate(e,d,f)):d===-1&&this._iterate(e,0,f),this}forEachFrom(t,n){let e=this._search(t);for(;e>=0&&this._timeline[e].time>=t;)e--;return this._iterate(n,e+1),this}forEachAtTime(t,n){const e=this._search(t);if(e!==-1&&Es(this._timeline[e].time,t)){let d=e;for(let f=e;f>=0&&Es(this._timeline[f].time,t);f--)d=f;this._iterate(f=>{n(f)},d,e)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const Tv=[];function Td(r){Tv.push(r)}function ej(r){Tv.forEach(t=>t(r))}const Ev=[];function Ed(r){Ev.push(r)}function tj(r){Ev.forEach(t=>t(r))}class Ql extends _o{constructor(){super(...arguments),this.name="Emitter"}on(t,n){return t.split(/\W+/).forEach(d=>{ms(this._events)&&(this._events={}),this._events.hasOwnProperty(d)||(this._events[d]=[]),this._events[d].push(n)}),this}once(t,n){const e=(...d)=>{n(...d),this.off(t,e)};return this.on(t,e),this}off(t,n){return t.split(/\W+/).forEach(d=>{if(ms(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(ms(n))this._events[t]=[];else{const f=this._events[t];for(let l=f.length-1;l>=0;l--)f[l]===n&&f.splice(l,1)}}),this}emit(t,...n){if(this._events&&this._events.hasOwnProperty(t)){const e=this._events[t].slice(0);for(let d=0,f=e.length;d<f;d++)e[d].apply(this,n)}return this}static mixin(t){["on","once","off","emit"].forEach(n=>{const e=Object.getOwnPropertyDescriptor(Ql.prototype,n);Object.defineProperty(t.prototype,n,e)})}dispose(){return super.dispose(),this._events=void 0,this}}class Mv extends Ql{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Kl extends Mv{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new $s,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Nt(Kl.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=W5({latencyHint:t.latencyHint}),this._ticker=new $5(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(ej(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,n,e){return this._context.createBuffer(t,n,e)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,n){return this._context.createIIRFilter(t,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,n,e){return this._context.createPeriodicWave(t,n,e)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return tr(Ui(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return tr(Ui(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return tr(Ui(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){tr(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){tr(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){tr(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){tr(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,n){return Y5(this.rawContext,t,n)}addAudioWorkletModule(t,n){return Br(this,void 0,void 0,function*(){tr(cr(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(n)||this._workletModules.set(n,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(n)})}workletsAreReady(){return Br(this,void 0,void 0,function*(){const t=[];this._workletModules.forEach(n=>t.push(n)),yield Promise.all(t)})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let n=0;if(this._latencyHint=t,Hs(t))switch(t){case"interactive":n=.1;break;case"playback":n=.5;break;case"balanced":n=.25;break}this.lookAhead=n,this.updateInterval=n/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Ui(this._context)?this._context.resume():Promise.resolve()}close(){return Br(this,void 0,void 0,function*(){Ui(this._context)&&(yield this._context.close()),this._initialized&&tj(this)})}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const n=this._context.createBuffer(1,128,this._context.sampleRate),e=n.getChannelData(0);for(let f=0;f<e.length;f++)e[f]=t;const d=this._context.createBufferSource();return d.channelCount=1,d.channelCountMode="explicit",d.buffer=n,d.loop=!0,d.start(0),this._constants.set(t,d),d}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(t=>this._constants[t].disconnect()),this}_timeoutLoop(){const t=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=t;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(t,n){this._timeoutIds++;const e=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:e+n}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach(n=>{n.id===t&&this._timeouts.remove(n)}),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,n){const e=++this._timeoutIds,d=()=>{const f=this.now();this._timeouts.add({callback:()=>{t(),d()},id:e,time:f+n})};return d(),e}}class rj extends Mv{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,n,e){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,n){return{}}createPanner(){return{}}createPeriodicWave(t,n,e){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,n){return{}}get rawContext(){return{}}addAudioWorkletModule(t,n){return Br(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(t,n){return 0}clearTimeout(t){return this}setInterval(t,n){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}}function Gr(r,t){Cs(t)?t.forEach(n=>Gr(r,n)):Object.defineProperty(r,t,{enumerable:!0,writable:!1})}function Cv(r,t){Cs(t)?t.forEach(n=>Cv(r,n)):Object.defineProperty(r,t,{writable:!0})}const Mr=()=>{};class Ar extends _o{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Mr;const t=Nt(Ar.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&Sv(t.url)||t.url instanceof Ar?this.set(t.url):Hs(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Mr,onload:Mr,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:ts().sampleRate}set(t){return t instanceof Ar?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Br(this,void 0,void 0,function*(){const n=Ar.load(t).then(e=>{this.set(e),this.onload(this)});Ar.downloads.push(n);try{yield n}finally{const e=Ar.downloads.indexOf(n);Ar.downloads.splice(e,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const n=Cs(t)&&t[0].length>0,e=n?t.length:1,d=n?t[0].length:t.length,f=ts(),l=f.createBuffer(e,d,f.sampleRate),o=!n&&e===1?[t]:t;for(let s=0;s<e;s++)l.copyToChannel(o[s],s);return this._buffer=l,this}toMono(t){if(Yo(t))this.fromArray(this.toArray(t));else{let n=new Float32Array(this.length);const e=this.numberOfChannels;for(let d=0;d<e;d++){const f=this.toArray(d);for(let l=0;l<f.length;l++)n[l]+=f[l]}n=n.map(d=>d/e),this.fromArray(n)}return this}toArray(t){if(Yo(t))return this.getChannelData(t);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let e=0;e<this.numberOfChannels;e++)n[e]=this.getChannelData(e);return n}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,n=this.duration){const e=Math.floor(t*this.sampleRate),d=Math.floor(n*this.sampleRate);tr(e<d,"The start time must be less than the end time");const f=d-e,l=ts().createBuffer(this.numberOfChannels,f,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)l.copyToChannel(this.getChannelData(o).subarray(e,d),o);return new Ar(l)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return new Ar().fromArray(t)}static fromUrl(t){return Br(this,void 0,void 0,function*(){return yield new Ar().load(t)})}static load(t){return Br(this,void 0,void 0,function*(){const n=t.match(/\[([^\]\[]+\|.+)\]$/);if(n){const o=n[1].split("|");let s=o[0];for(const c of o)if(Ar.supportsType(c)){s=c;break}t=t.replace(n[0],s)}const e=Ar.baseUrl===""||Ar.baseUrl.endsWith("/")?Ar.baseUrl:Ar.baseUrl+"/",d=yield fetch(e+t);if(!d.ok)throw new Error(`could not load url: ${t}`);const f=yield d.arrayBuffer();return yield ts().decodeAudioData(f)})}static supportsType(t){const n=t.split("."),e=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+e)!==""}static loaded(){return Br(this,void 0,void 0,function*(){for(yield Promise.resolve();Ar.downloads.length;)yield Ar.downloads[0]})}}Ar.baseUrl="";Ar.downloads=[];class Xp extends Kl{constructor(){super({clockSource:"offline",context:Fu(arguments[0])?arguments[0]:q5(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Fu(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Fu(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Br(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const e=Math.floor(this.sampleRate/128);t&&n%e===0&&(yield new Promise(d=>setTimeout(d,1)))}})}render(t=!0){return Br(this,void 0,void 0,function*(){yield this.workletsAreReady(),yield this._renderClock(t);const n=yield this._context.startRendering();return new Ar(n)})}close(){return Promise.resolve()}}const Av=new rj;let sl=Av;function ts(){return sl===Av&&X5&&nj(new Kl),sl}function nj(r){Ui(r)?sl=new Kl(r):Fu(r)?sl=new Xp(r):sl=r}if(po&&!po.TONE_SILENCE_LOGGING){const t=` * Tone.js v${Cg} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function sj(r){return Math.pow(10,r/20)}function oj(r){return 20*(Math.log(r)/Math.LN10)}function kv(r){return Math.pow(2,r/12)}let Md=440;function ij(){return Md}function aj(r){Md=r}function mf(r){return Math.round(Rv(r))}function Rv(r){return 69+12*Math.log2(r/Md)}function lj(r){return Md*Math.pow(2,(r-69)/12)}class Yp extends _o{constructor(t,n,e){super(),this.defaultUnits="s",this._val=n,this._units=e,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,n)=>{const e=parseInt(t,10),d=n==="."?1.5:1;return e===1?this._beatsToUnits(this._getTimeSignature())*d:this._beatsToUnits(4/e)*d},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const n=parseInt(t,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(t,n,e)=>{let d=0;return t&&t!=="0"&&(d+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),n&&n!=="0"&&(d+=this._beatsToUnits(parseFloat(n))),e&&e!=="0"&&(d+=this._beatsToUnits(parseFloat(e)/4)),d},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Yp&&this.fromType(this._val),ms(this._val))return this._noArg();if(Hs(this._val)&&ms(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(yi(this._val)){let t=0;for(const n in this._val)if(cr(this._val[n])){const e=this._val[n];t+=new this.constructor(this.context,n).valueOf()*e}return t}if(cr(this._units)){const t=this._expressions[this._units],n=this._val.toString().trim().match(t.regexp);return n?t.method.apply(this,n.slice(1)):t.method.call(this,this._val)}else return Hs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ms extends Yp{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const n=new Ms(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(t,n=1){const e=new this.constructor(this.context,t).valueOf(),d=this.valueOf(),o=Math.round(d/e)*e-d;return d+o*n}toNotation(){const t=this.toSeconds(),n=["1m"];for(let f=1;f<9;f++){const l=Math.pow(2,f);n.push(l+"n."),n.push(l+"n"),n.push(l+"t")}n.push("0");let e=n[0],d=new Ms(this.context,n[0]).toSeconds();return n.forEach(f=>{const l=new Ms(this.context,f).toSeconds();Math.abs(l-t)<Math.abs(d-t)&&(e=f,d=l)}),e}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let n=this.valueOf()/t;n=parseFloat(n.toFixed(4));const e=Math.floor(n/this._getTimeSignature());let d=n%1*4;n=Math.floor(n)%this._getTimeSignature();const f=d.toString();return f.length>3&&(d=parseFloat(parseFloat(f).toFixed(3))),[e,n,d].join(":")}toTicks(){const t=this._beatsToUnits(1),n=this.valueOf()/t;return Math.round(n*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return mf(this.toFrequency())}_now(){return this.context.now()}}class fs extends Ms{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return ij()}static set A4(t){aj(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return this.defaultUnits==="midi"?t:fs.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,n){const d=uj[t.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?d:fs.mtof(d)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,n,e){let d=1;return t&&t!=="0"&&(d*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),n&&n!=="0"&&(d*=this._beatsToUnits(parseFloat(n))),e&&e!=="0"&&(d*=this._beatsToUnits(parseFloat(e)/4)),d}}})}transpose(t){return new fs(this.context,this.valueOf()*kv(t))}harmonize(t){return t.map(n=>this.transpose(n))}toMidi(){return mf(this.valueOf())}toNote(){const t=this.toFrequency(),n=Math.log2(t/fs.A4);let e=Math.round(12*n)+57;const d=Math.floor(e/12);return d<0&&(e+=-12*d),cj[e%12]+d.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),n=this.valueOf()/t;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(t*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return lj(t)}static ftom(t){return mf(t)}}const uj={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},cj=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class ol extends Ms{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class qn extends _o{constructor(){super();const t=Nt(qn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:ts()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Ms(this.context,t).toSeconds()}toFrequency(t){return new fs(this.context,t).toFrequency()}toTicks(t){return new ol(this.context,t).toTicks()}_getPartialProperties(t){const n=this.get();return Object.keys(n).forEach(e=>{ms(t[e])&&delete n[e]}),n}get(){const t=K5(this);return Object.keys(t).forEach(n=>{if(Reflect.has(this,n)){const e=this[n];cr(e)&&cr(e.value)&&cr(e.setValueAtTime)?t[n]=e.value:e instanceof qn?t[n]=e._getPartialProperties(t[n]):Cs(e)||Yo(e)||Hs(e)||H5(e)?t[n]=e:delete t[n]}}),t}set(t){return Object.keys(t).forEach(n=>{Reflect.has(this,n)&&cr(this[n])&&(this[n]&&cr(this[n].value)&&cr(this[n].setValueAtTime)?this[n].value!==t[n]&&(this[n].value=t[n]):this[n]instanceof qn?this[n].set(t[n]):this[n]=t[n])}),this}}class $p extends $s{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const n=this.get(t);return n!==null?n.state:this._initial}setStateAtTime(t,n,e){return mo(n,0),this.add(Object.assign({},e,{state:t,time:n})),this}getLastState(t,n){const e=this._search(n);for(let d=e;d>=0;d--){const f=this._timeline[d];if(f.state===t)return f}}getNextState(t,n){const e=this._search(n);if(e!==-1)for(let d=e;d<this._timeline.length;d++){const f=this._timeline[d];if(f.state===t)return f}}}class Dr extends qn{constructor(){super(Nt(Dr.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Nt(Dr.getDefaults(),arguments,["param","units","convert"]);for(tr(cr(t.param)&&(wi(t.param)||t.param instanceof Dr),"param must be an AudioParam");!wi(t.param);)t.param=t.param._param;this._swappable=cr(t.swappable)?t.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new $s(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,cr(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(qn.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return cr(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return cr(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(t,n){return this.units===n}_assertRange(t){return cr(this.maxValue)&&cr(this.minValue)&&mo(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?sj(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&this.units==="decibels"?oj(t):t}setValueAtTime(t,n){const e=this.toSeconds(n),d=this._fromType(t);return tr(isFinite(d)&&isFinite(e),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(n)}`),this._assertRange(d),this.log(this.units,"setValueAtTime",t,e),this._events.add({time:e,type:"setValueAtTime",value:d}),this._param.setValueAtTime(d,e),this}getValueAtTime(t){const n=Math.max(this.toSeconds(t),0),e=this._events.getAfter(n),d=this._events.get(n);let f=this._initialValue;if(d===null)f=this._initialValue;else if(d.type==="setTargetAtTime"&&(e===null||e.type==="setValueAtTime")){const l=this._events.getBefore(d.time);let o;l===null?o=this._initialValue:o=l.value,d.type==="setTargetAtTime"&&(f=this._exponentialApproach(d.time,o,d.value,d.constant,n))}else if(e===null)f=d.value;else if(e.type==="linearRampToValueAtTime"||e.type==="exponentialRampToValueAtTime"){let l=d.value;if(d.type==="setTargetAtTime"){const o=this._events.getBefore(d.time);o===null?l=this._initialValue:l=o.value}e.type==="linearRampToValueAtTime"?f=this._linearInterpolate(d.time,l,e.time,e.value,n):f=this._exponentialInterpolate(d.time,l,e.time,e.value,n)}else f=d.value;return this._toType(f)}setRampPoint(t){t=this.toSeconds(t);let n=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,t),this}linearRampToValueAtTime(t,n){const e=this._fromType(t),d=this.toSeconds(n);return tr(isFinite(e)&&isFinite(d),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(n)}`),this._assertRange(e),this._events.add({time:d,type:"linearRampToValueAtTime",value:e}),this.log(this.units,"linearRampToValueAtTime",t,d),this._param.linearRampToValueAtTime(e,d),this}exponentialRampToValueAtTime(t,n){let e=this._fromType(t);e=Es(e,0)?this._minOutput:e,this._assertRange(e);const d=this.toSeconds(n);return tr(isFinite(e)&&isFinite(d),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(n)}`),this._events.add({time:d,type:"exponentialRampToValueAtTime",value:e}),this.log(this.units,"exponentialRampToValueAtTime",t,d),this._param.exponentialRampToValueAtTime(e,d),this}exponentialRampTo(t,n,e){return e=this.toSeconds(e),this.setRampPoint(e),this.exponentialRampToValueAtTime(t,e+this.toSeconds(n)),this}linearRampTo(t,n,e){return e=this.toSeconds(e),this.setRampPoint(e),this.linearRampToValueAtTime(t,e+this.toSeconds(n)),this}targetRampTo(t,n,e){return e=this.toSeconds(e),this.setRampPoint(e),this.exponentialApproachValueAtTime(t,e,n),this}exponentialApproachValueAtTime(t,n,e){n=this.toSeconds(n),e=this.toSeconds(e);const d=Math.log(e+1)/Math.log(200);return this.setTargetAtTime(t,n,d),this.cancelAndHoldAtTime(n+e*.9),this.linearRampToValueAtTime(t,n+e),this}setTargetAtTime(t,n,e){const d=this._fromType(t);tr(isFinite(e)&&e>0,"timeConstant must be a number greater than 0");const f=this.toSeconds(n);return this._assertRange(d),tr(isFinite(d)&&isFinite(f),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(n)}`),this._events.add({constant:e,time:f,type:"setTargetAtTime",value:d}),this.log(this.units,"setTargetAtTime",t,f,e),this._param.setTargetAtTime(d,f,e),this}setValueCurveAtTime(t,n,e,d=1){e=this.toSeconds(e),n=this.toSeconds(n);const f=this._fromType(t[0])*d;this.setValueAtTime(this._toType(f),n);const l=e/(t.length-1);for(let o=1;o<t.length;o++){const s=this._fromType(t[o])*d;this.linearRampToValueAtTime(this._toType(s),n+o*l)}return this}cancelScheduledValues(t){const n=this.toSeconds(t);return tr(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(t){const n=this.toSeconds(t),e=this._fromType(this.getValueAtTime(n));tr(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+e);const d=this._events.get(n),f=this._events.getAfter(n);return d&&Es(d.time,n)?f?(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):f&&(this._param.cancelScheduledValues(f.time),this._events.cancel(f.time),f.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(e),n):f.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(e),n)),this._events.add({time:n,type:"setValueAtTime",value:e}),this._param.setValueAtTime(e,n),this}rampTo(t,n=.1,e){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(t,n,e):this.linearRampTo(t,n,e),this}apply(t){const n=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(n),n);const e=this._events.get(n);if(e&&e.type==="setTargetAtTime"){const d=this._events.getAfter(e.time),f=d?d.time:n+2,l=(f-n)/10;for(let o=n;o<f;o+=l)t.linearRampToValueAtTime(this.getValueAtTime(o),o)}return this._events.forEachAfter(this.context.currentTime,d=>{d.type==="cancelScheduledValues"?t.cancelScheduledValues(d.time):d.type==="setTargetAtTime"?t.setTargetAtTime(d.value,d.time,d.constant):t[d.type](d.value,d.time)}),this}setParam(t){tr(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(t),this._param=t,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,n,e,d,f){return e+(n-e)*Math.exp(-(f-t)/d)}_linearInterpolate(t,n,e,d,f){return n+(d-n)*((f-t)/(e-t))}_exponentialInterpolate(t,n,e,d,f){return n*Math.pow(d/n,(f-t)/(e-t))}}class or extends qn{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return cr(this.input)?wi(this.input)||this.input instanceof Dr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return cr(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return cr(t)&&(t instanceof or||Ho(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach(e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation})}_getChannelProperties(){const t=this._getInternalNodes();tr(t.length>0,"ToneAudioNode does not have any internal nodes");const n=t[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:t}))}connect(t,n=0,e=0){return Ai(this,t,n,e),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return wv("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,n=0,e=0){return dj(this,t,n,e),this}chain(...t){return yf(this,...t),this}fan(...t){return t.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),cr(this.input)&&(this.input instanceof or?this.input.dispose():Ho(this.input)&&this.input.disconnect()),cr(this.output)&&(this.output instanceof or?this.output.dispose():Ho(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function yf(...r){const t=r.shift();r.reduce((n,e)=>(n instanceof or?n.connect(e):Ho(n)&&Ai(n,e),e),t)}function Ai(r,t,n=0,e=0){for(tr(cr(r),"Cannot connect from undefined node"),tr(cr(t),"Cannot connect to undefined node"),(t instanceof or||Ho(t))&&tr(t.numberOfInputs>0,"Cannot connect to node with no inputs"),tr(r.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof or||t instanceof Dr;)cr(t.input)&&(t=t.input);for(;r instanceof or;)cr(r.output)&&(r=r.output);wi(t)?r.connect(t,n):r.connect(t,n,e)}function dj(r,t,n=0,e=0){if(cr(t))for(;t instanceof or;)t=t.input;for(;!Ho(r);)cr(r.output)&&(r=r.output);wi(t)?r.disconnect(t,n):Ho(t)?r.disconnect(t,n,e):r.disconnect()}class En extends or{constructor(){super(Nt(En.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Nt(En.getDefaults(),arguments,["gain","units"]);this.gain=new Dr({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Gr(this,"gain")}static getDefaults(){return Object.assign(or.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ya extends or{constructor(t){super(t),this.onended=Mr,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new En({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const e=this.toSeconds(n);return this._startTime!==-1&&e>=this._startTime&&(this._stopTime===-1||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(or.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Mr})}_startGain(t,n=1){tr(this._startTime===-1,"Source cannot be started more than once");const e=this.toSeconds(this._fadeIn);return this._startTime=t+e,this._startTime=Math.max(this._startTime,this.context.currentTime),e>0?(this._gainNode.gain.setValueAtTime(0,t),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,t+e):this._gainNode.gain.exponentialApproachValueAtTime(n,t,e)):this._gainNode.gain.setValueAtTime(n,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){tr(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+n,this._stopTime=Math.max(this._stopTime,this.context.currentTime),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,t):this._gainNode.gain.targetRampTo(0,n,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const e=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+e),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Mr&&(this.onended(this),this.onended=Mr,!this.context.isOffline)){const t=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),tr(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Ec extends ya{constructor(){super(Nt(Ec.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Nt(Ec.getDefaults(),arguments,["offset"]);Ai(this._source,this._gainNode),this.offset=new Dr({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(ya.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const n=this.toSeconds(t);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class fn extends or{constructor(){super(Nt(fn.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Nt(fn.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Ec({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(or.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,n=0,e=0){return Zp(this,t,n,e),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,n){return this._param.setValueAtTime(t,n),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,n){return this._param.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,n){return this._param.exponentialRampToValueAtTime(t,n),this}exponentialRampTo(t,n,e){return this._param.exponentialRampTo(t,n,e),this}linearRampTo(t,n,e){return this._param.linearRampTo(t,n,e),this}targetRampTo(t,n,e){return this._param.targetRampTo(t,n,e),this}exponentialApproachValueAtTime(t,n,e){return this._param.exponentialApproachValueAtTime(t,n,e),this}setTargetAtTime(t,n,e){return this._param.setTargetAtTime(t,n,e),this}setValueCurveAtTime(t,n,e,d){return this._param.setValueCurveAtTime(t,n,e,d),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,n,e){return this._param.rampTo(t,n,e),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Zp(r,t,n,e){(t instanceof Dr||wi(t)||t instanceof fn&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof fn&&(t.overridden=!0)),Ai(r,t,n,e)}class Mc extends Dr{constructor(){super(Nt(Mc.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new $s(1/0),this._multiplier=1;const t=Nt(Mc.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Dr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,n,e){n=this.toSeconds(n),this.setRampPoint(n);const d=this._fromType(t),f=this._events.get(n),l=Math.round(Math.max(1/e,1));for(let o=0;o<=l;o++){const s=e*o+n,c=this._exponentialApproach(f.time,f.value,d,e,s);this.linearRampToValueAtTime(this._toType(c),s)}return this}setValueAtTime(t,n){const e=this.toSeconds(n);super.setValueAtTime(t,n);const d=this._events.get(e),f=this._events.previousEvent(d),l=this._getTicksUntilEvent(f,e);return d.ticks=Math.max(l,0),this}linearRampToValueAtTime(t,n){const e=this.toSeconds(n);super.linearRampToValueAtTime(t,n);const d=this._events.get(e),f=this._events.previousEvent(d),l=this._getTicksUntilEvent(f,e);return d.ticks=Math.max(l,0),this}exponentialRampToValueAtTime(t,n){n=this.toSeconds(n);const e=this._fromType(t),d=this._events.get(n),f=Math.round(Math.max((n-d.time)*10,1)),l=(n-d.time)/f;for(let o=0;o<=f;o++){const s=l*o+d.time,c=this._exponentialInterpolate(d.time,d.value,n,e,s);this.linearRampToValueAtTime(this._toType(c),s)}return this}_getTicksUntilEvent(t,n){if(t===null)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(ms(t.ticks)){const l=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(l,t.time)}const e=this._fromType(this.getValueAtTime(t.time));let d=this._fromType(this.getValueAtTime(n));const f=this._events.get(n);return f&&f.time===n&&f.type==="setValueAtTime"&&(d=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-t.time)*(e+d)+t.ticks}getTicksAtTime(t){const n=this.toSeconds(t),e=this._events.get(n);return Math.max(this._getTicksUntilEvent(e,n),0)}getDurationOfTicks(t,n){const e=this.toSeconds(n),d=this.getTicksAtTime(n);return this.getTimeOfTick(d+t)-e}getTimeOfTick(t){const n=this._events.get(t,"ticks"),e=this._events.getAfter(t,"ticks");if(n&&n.ticks===t)return n.time;if(n&&e&&e.type==="linearRampToValueAtTime"&&n.value!==e.value){const d=this._fromType(this.getValueAtTime(n.time)),l=(this._fromType(this.getValueAtTime(e.time))-d)/(e.time-n.time),o=Math.sqrt(Math.pow(d,2)-2*l*(n.ticks-t)),s=(-d+o)/l,c=(-d-o)/l;return(s>0?s:c)+n.time}else return n?n.value===0?1/0:n.time+(t-n.ticks)/n.value:t/this._initialValue}ticksToTime(t,n){return this.getDurationOfTicks(t,n)}timeToTicks(t,n){const e=this.toSeconds(n),d=this.toSeconds(t),f=this.getTicksAtTime(e);return this.getTicksAtTime(e+d)-f}_fromType(t){return this.units==="bpm"&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return this.units==="bpm"&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const n=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class Cc extends fn{constructor(){super(Nt(Cc.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Nt(Cc.getDefaults(),arguments,["value"]);this.input=this._param=new Mc({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(fn.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,n){return this._param.ticksToTime(t,n)}timeToTicks(t,n){return this._param.timeToTicks(t,n)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,n){return this._param.getDurationOfTicks(t,n)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Ac extends qn{constructor(){super(Nt(Ac.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new $p,this._tickOffset=new $s;const t=Nt(Ac.getDefaults(),arguments,["frequency"]);this.frequency=new Cc({context:this.context,units:t.units,value:t.frequency}),Gr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},qn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,n){const e=this.toSeconds(t);return this._state.getValueAtTime(e)!=="started"&&(this._state.setStateAtTime("started",e),cr(n)&&this.setTicksAtTime(n,e)),this}stop(t){const n=this.toSeconds(t);if(this._state.getValueAtTime(n)==="stopped"){const e=this._state.get(n);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this}pause(t){const n=this.toSeconds(t);return this._state.getValueAtTime(n)==="started"&&this._state.setStateAtTime("paused",n),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const n=this.toSeconds(t),e=this._state.getLastState("stopped",n),d={state:"paused",time:n};this._state.add(d);let f=e,l=0;return this._state.forEachBetween(e.time,n+this.sampleTime,o=>{let s=f.time;const c=this._tickOffset.get(o.time);c&&c.time>=f.time&&(l=c.ticks,s=c.time),f.state==="started"&&o.state!=="started"&&(l+=this.frequency.getTicksAtTime(o.time)-this.frequency.getTicksAtTime(s)),f=o}),this._state.remove(d),l}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const n=this.now(),e=this.frequency.timeToTicks(t,n);this.setTicksAtTime(e,n)}getSecondsAtTime(t){t=this.toSeconds(t);const n=this._state.getLastState("stopped",t),e={state:"paused",time:t};this._state.add(e);let d=n,f=0;return this._state.forEachBetween(n.time,t+this.sampleTime,l=>{let o=d.time;const s=this._tickOffset.get(l.time);s&&s.time>=d.time&&(f=s.seconds,o=s.time),d.state==="started"&&l.state!=="started"&&(f+=l.time-o),d=l}),this._state.remove(e),f}setTicksAtTime(t,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,n),ticks:t,time:n}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,n=this.now()){const e=this._tickOffset.get(n),d=this._state.get(n),f=Math.max(e.time,d.time),l=this.frequency.getTicksAtTime(f)+t-e.ticks;return this.frequency.getTimeOfTick(l)}forEachTickBetween(t,n,e){let d=this._state.get(t);this._state.forEachBetween(t,n,l=>{d&&d.state==="started"&&l.state!=="started"&&this.forEachTickBetween(Math.max(d.time,t),l.time-this.sampleTime,e),d=l});let f=null;if(d&&d.state==="started"){const l=Math.max(d.time,t),o=this.frequency.getTicksAtTime(l),s=this.frequency.getTicksAtTime(d.time),c=o-s;let m=Math.ceil(c)-c;m=Es(m,1)?0:m;let y=this.frequency.getTimeOfTick(o+m);for(;y<n;){try{e(y,Math.round(this.getTicksAtTime(y)))}catch(a){f=a;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(f)throw f;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class xl extends qn{constructor(){super(Nt(xl.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Mr,this._lastUpdate=0,this._state=new $p("stopped"),this._boundLoop=this._loop.bind(this);const t=Nt(xl.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Ac({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Gr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(qn.getDefaults(),{callback:Mr,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,n){bv(this.context);const e=this.toSeconds(t);return this.log("start",e),this._state.getValueAtTime(e)!=="started"&&(this._state.setStateAtTime("started",e),this._tickSource.start(e,n),e<this._lastUpdate&&this.emit("start",e,n)),this}stop(t){const n=this.toSeconds(t);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(t){const n=this.toSeconds(t);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,n){return this._tickSource.setTicksAtTime(t,n),this}getTimeOfTick(t,n=this.now()){return this._tickSource.getTimeOfTick(t,n)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,n){const e=this.toSeconds(n),d=this.getTicksAtTime(e);return this._tickSource.getTimeOfTick(d+t,e)}_loop(){const t=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",t,n),t!==n&&(this._state.forEachBetween(t,n,e=>{switch(e.state){case"started":const d=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,d);break;case"stopped":e.time!==0&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time);break}}),this._tickSource.forEachTickBetween(t,n,(e,d)=>{this.callback(e,d)}))}getStateAtTime(t){const n=this.toSeconds(t);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ql.mixin(xl);class Qp extends _o{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Nt(Qp.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach(n=>{this._loadingCount++;const e=t.urls[n];this.add(n,e,this._bufferLoaded.bind(this,t.onload),t.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Mr,onload:Mr,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return tr(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,this._loadingCount===0&&t&&t()}get loaded(){return Array.from(this._buffers).every(([t,n])=>n.loaded)}add(t,n,e=Mr,d=Mr){return Hs(n)?this._buffers.set(t.toString(),new Ar(this.baseUrl+n,e,d)):this._buffers.set(t.toString(),new Ar(n,e,d)),this}dispose(){return super.dispose(),this._buffers.forEach(t=>t.dispose()),this._buffers.clear(),this}}class io extends ol{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class hj extends qn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new $s,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,n){return this._events.add({callback:t,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const n=this._events.shift();n&&t-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Td(r=>{r.draw=new hj({context:r})});Ed(r=>{r.draw.dispose()});class fj extends _o{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){tr(cr(t.time),"Events must have a time property"),tr(cr(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let n=new pj(t.time,t.time+t.duration,t);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(t){if(this._root!==null){const n=[];this._root.search(t.time,n);for(const e of n)if(e.event===t){this._removeNode(e),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,n=>this.remove(n)),this}_setRoot(t){this._root=t,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(t,n){t.parent!==null?(t.isLeftChild()?t.parent.left=n:t.parent.right=n,this._rebalance(t.parent)):this._setRoot(n)}_removeNode(t){if(t.left===null&&t.right===null)this._replaceNodeInParent(t,null);else if(t.right===null)this._replaceNodeInParent(t,t.left);else if(t.left===null)this._replaceNodeInParent(t,t.right);else{const n=t.getBalance();let e,d=null;if(n>0)if(t.left.right===null)e=t.left,e.right=t.right,d=e;else{for(e=t.left.right;e.right!==null;)e=e.right;e.parent&&(e.parent.right=e.left,d=e.parent,e.left=t.left,e.right=t.right)}else if(t.right.left===null)e=t.right,e.left=t.left,d=e;else{for(e=t.right.left;e.left!==null;)e=e.left;e.parent&&(e.parent.left=e.right,d=e.parent,e.left=t.left,e.right=t.right)}t.parent!==null?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),d&&this._rebalance(d)}t.dispose()}_rotateLeft(t){const n=t.parent,e=t.isLeftChild(),d=t.right;d&&(t.right=d.left,d.left=t),n!==null?e?n.left=d:n.right=d:this._setRoot(d)}_rotateRight(t){const n=t.parent,e=t.isLeftChild(),d=t.left;d&&(t.left=d.right,d.right=t),n!==null?e?n.left=d:n.right=d:this._setRoot(d)}_rebalance(t){const n=t.getBalance();n>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):n<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(this._root!==null){const n=[];if(this._root.search(t,n),n.length>0){let e=n[0];for(let d=1;d<n.length;d++)n[d].low>e.low&&(e=n[d]);return e.event}}return null}forEach(t){if(this._root!==null){const n=[];this._root.traverse(e=>n.push(e)),n.forEach(e=>{e.event&&t(e.event)})}return this}forEachAtTime(t,n){if(this._root!==null){const e=[];this._root.search(t,e),e.forEach(d=>{d.event&&n(d.event)})}return this}forEachFrom(t,n){if(this._root!==null){const e=[];this._root.searchAfter(t,e),e.forEach(d=>{d.event&&n(d.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(t=>t.dispose()),this._root=null,this}}class pj{constructor(t,n,e){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=e,this.low=t,this.high=n,this.max=this.high}insert(t){t.low<=this.low?this.left===null?this.left=t:this.left.insert(t):this.right===null?this.right=t:this.right.insert(t)}search(t,n){t>this.max||(this.left!==null&&this.left.search(t,n),this.low<=t&&this.high>t&&n.push(this),!(this.low>t)&&this.right!==null&&this.right.search(t,n))}searchAfter(t,n){this.low>=t&&(n.push(this),this.left!==null&&this.left.searchAfter(t,n)),this.right!==null&&this.right.searchAfter(t,n)}traverse(t){t(this),this.left!==null&&this.left.traverse(t),this.right!==null&&this.right.traverse(t)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return this.left!==null&&this.right!==null?t=this.left.height-this.right.height:this.left!==null?t=this.left.height+1:this.right!==null&&(t=-(this.right.height+1)),t}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,t!==null&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class $o extends or{constructor(){super(Nt($o.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Nt($o.getDefaults(),arguments,["volume"]);this.input=this.output=new En({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Gr(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(or.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class kc extends or{constructor(){super(Nt(kc.getDefaults(),arguments)),this.name="Destination",this.input=new $o({context:this.context}),this.output=new En({context:this.context}),this.volume=this.input.volume;const t=Nt(kc.getDefaults(),arguments);yf(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(or.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),yf(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Td(r=>{r.destination=new kc({context:r})});Ed(r=>{r.destination.dispose()});class mj extends _o{constructor(t){super(),this.name="TimelineValue",this._timeline=new $s({memory:10}),this._initialValue=t}set(t,n){return this._timeline.add({value:t,time:n}),this}get(t){const n=this._timeline.get(t);return n?n.value:this._initialValue}}class Zo{constructor(t,n){this.id=Zo._eventId++;const e=Object.assign(Zo.getDefaults(),n);this.transport=t,this.callback=e.callback,this._once=e.once,this.time=e.time}static getDefaults(){return{callback:Mr,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Zo._eventId=0;class Kp extends Zo{constructor(t,n){super(t,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const e=Object.assign(Kp.getDefaults(),n);this.duration=new io(t.context,e.duration).valueOf(),this._interval=new io(t.context,e.interval).valueOf(),this._nextTick=e.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Zo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const n=this.transport.getTicksAtTime(t);n>=this.time&&n>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new io(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const n=this.transport.getTicksAtTime(t);n>this.time&&(this._nextTick=this.time+Math.ceil((n-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new io(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new io(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class wl extends qn{constructor(){super(Nt(wl.getDefaults(),arguments)),this.name="Transport",this._loop=new mj(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new $s,this._repeatedEvents=new fj,this._syncedSignals=[],this._swingAmount=0;const t=Nt(wl.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new xl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Gr(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(qn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,n){if(this._loop.get(t)&&n>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),n=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const e=n%(this._swingTicks*2)/(this._swingTicks*2),d=Math.sin(e*Math.PI)*this._swingAmount;t+=new io(this.context,this._swingTicks*2/3).toSeconds()*d}this._timeline.forEachAtTime(n,e=>e.invoke(t))}schedule(t,n){const e=new Zo(this,{callback:t,time:new ol(this.context,n).toTicks()});return this._addEvent(e,this._timeline)}scheduleRepeat(t,n,e,d=1/0){const f=new Kp(this,{callback:t,duration:new Ms(this.context,d).toTicks(),interval:new Ms(this.context,n).toTicks(),time:new ol(this.context,e).toTicks()});return this._addEvent(f,this._repeatedEvents)}scheduleOnce(t,n){const e=new Zo(this,{callback:t,once:!0,time:new ol(this.context,n).toTicks()});return this._addEvent(e,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const n=this._scheduledEvents[t.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,n){return this._scheduledEvents[t.id.toString()]={event:t,timeline:n},n.add(t),t.id}cancel(t=0){const n=this.toTicks(t);return this._timeline.forEachFrom(n,e=>this.clear(e.id)),this._repeatedEvents.forEachFrom(n,e=>this.clear(e.id)),this}_bindClockEvents(){this._clock.on("start",(t,n)=>{n=new io(this.context,n).toSeconds(),this.emit("start",t,n)}),this._clock.on("stop",t=>{this.emit("stop",t)}),this._clock.on("pause",t=>{this.emit("pause",t)})}get state(){return this._clock.getStateAtTime(this.now())}start(t,n){let e;return cr(n)&&(e=this.toTicks(n)),this._clock.start(t,e),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),this._clock.getStateAtTime(t)!=="started"?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Cs(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Ms(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Ms(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,n){return this.loopStart=t,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new io(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),n=this._clock.getTicksAtTime(t);return new io(this.context,n).toBarsBeatsSixteenths()}set position(t){const n=this.toTicks(t);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(t){const n=this.now(),e=this._clock.frequency.timeToTicks(t,n);this.ticks=e}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const n=this.now();if(this.state==="started"){const e=this._clock.getTicksAtTime(n),d=this._clock.frequency.getDurationOfTicks(Math.ceil(e)-e,n),f=n+d;this.emit("stop",f),this._clock.setTicksAtTime(t,f),this.emit("start",f,this._clock.getSecondsAtTime(f))}else this._clock.setTicksAtTime(t,n)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),this.state!=="started")return 0;{const n=this.now(),e=this.getTicksAtTime(n),d=t-e%t;return this._clock.nextTickTime(d,n)}}syncSignal(t,n){if(!n){const d=this.now();if(t.getValueAtTime(d)!==0){const f=this.bpm.getValueAtTime(d),l=1/(60/f/this.PPQ);n=t.getValueAtTime(d)/l}else n=0}const e=new En(n);return this.bpm.connect(e),e.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:e,signal:t}),t.value=0,this}unsyncSignal(t){for(let n=this._syncedSignals.length-1;n>=0;n--){const e=this._syncedSignals[n];e.signal===t&&(e.ratio.dispose(),e.signal.value=e.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Cv(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ql.mixin(wl);Td(r=>{r.transport=new wl({context:r})});Ed(r=>{r.transport.dispose()});class os extends or{constructor(t){super(t),this.input=void 0,this._state=new $p("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Mr,this._syncedStop=Mr,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new $o({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Gr(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(or.getDefaults(),{mute:!1,onstop:Mr,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,n,e){let d=ms(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(d=this._clampToCurrentTime(d),!this._synced&&this._state.getValueAtTime(d)==="started")tr(Tc(d,this._state.get(d).time),"Start time must be strictly greater than previous start time"),this._state.cancel(d),this._state.setStateAtTime("started",d),this.log("restart",d),this.restart(d,n,e);else if(this.log("start",d),this._state.setStateAtTime("started",d),this._synced){const f=this._state.get(d);f&&(f.offset=this.toSeconds(sa(n,0)),f.duration=e?this.toSeconds(e):void 0);const l=this.context.transport.schedule(o=>{this._start(o,n,e)},d);this._scheduled.push(l),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>d&&this._syncedStart(this.now(),this.context.transport.seconds)}else bv(this.context),this._start(d,n,e);return this}stop(t){let n=ms(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||cr(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const e=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(e)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(t,n,e){return t=this.toSeconds(t),this._state.getValueAtTime(t)==="started"&&(this._state.cancel(t),this._restart(t,n,e)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,n)=>{if(n>0){const e=this._state.get(n);if(e&&e.state==="started"&&e.time!==n){const d=n-this.toSeconds(e.time);let f;e.duration&&(f=this.toSeconds(e.duration)-d),this._start(t,this.toSeconds(e.offset)+d,f)}}},this._syncedStop=t=>{const n=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(t=>this.context.transport.clear(t)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Mr,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Sl extends ya{constructor(){super(Nt(Sl.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Nt(Sl.getDefaults(),arguments,["url","onload"]);Ai(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Dr({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Ar(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ya.getDefaults(),{url:new Ar,loop:!1,loopEnd:0,loopStart:0,onload:Mr,onerror:Mr,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,n,e,d=1){tr(this.buffer.loaded,"buffer is either not set or not loaded");const f=this.toSeconds(t);this._startGain(f,d),this.loop?n=sa(n,this.loopStart):n=sa(n,0);let l=Math.max(this.toSeconds(n),0);if(this.loop){const o=this.toSeconds(this.loopEnd)||this.buffer.duration,s=this.toSeconds(this.loopStart),c=o-s;pf(l,o)&&(l=(l-s)%c+s),Es(l,this.buffer.duration)&&(l=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,jv(l,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(f,l)),cr(e)){let o=this.toSeconds(e);o=Math.max(o,0),this.stop(f+o)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class ci extends or{constructor(){super(Nt(ci.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=Nt(ci.getDefaults(),arguments,["volume"]);this._volume=this.output=new $o({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Gr(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(or.getDefaults(),{mute:!1,volume:0})}open(t){return Br(this,void 0,void 0,function*(){tr(ci.supported,"UserMedia is not supported"),this.state==="started"&&this.close();const n=yield ci.enumerateDevices();Yo(t)?this._device=n[t]:(this._device=n.find(f=>f.label===t||f.deviceId===t),!this._device&&n.length>0&&(this._device=n[0]),tr(cr(this._device),`No matching device ${t}`));const e={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(e.audio.deviceId=this._device.deviceId);const d=yield navigator.mediaDevices.getUserMedia(e);if(!this._stream){this._stream=d;const f=this.context.createMediaStreamSource(d);Ai(f,this.output),this._mediaStream=f}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(t=>{t.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Br(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(n=>n.kind==="audioinput")})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){if(this._device)return this._device.deviceId}get groupId(){if(this._device)return this._device.groupId}get label(){if(this._device)return this._device.label}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return cr(navigator.mediaDevices)&&cr(navigator.mediaDevices.getUserMedia)}}function ki(r,t){return Br(this,void 0,void 0,function*(){const n=t/r.context.sampleRate,e=new Xp(1,n,r.context.sampleRate);return new r.constructor(Object.assign(r.get(),{frequency:2/n,detune:0,context:e})).toDestination().start(0),(yield e.render()).getChannelData(0)})}class Rc extends ya{constructor(){super(Nt(Rc.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Nt(Rc.getDefaults(),arguments,["frequency","type"]);Ai(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Dr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Dr({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Gr(this,["frequency","detune"])}static getDefaults(){return Object.assign(ya.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const n=this.toSeconds(t);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Jr extends os{constructor(){super(Nt(Jr.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Nt(Jr.getDefaults(),arguments,["frequency","type"]);this.frequency=new fn({context:this.context,units:"frequency",value:t.frequency}),Gr(this,"frequency"),this.detune=new fn({context:this.context,units:"cents",value:t.detune}),Gr(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&t.type!=="custom"&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(os.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const n=this.toSeconds(t),e=new Rc({context:this.context,onended:()=>this.onstop(this)});this._oscillator=e,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(t){const n=this.toSeconds(t);this._oscillator&&this._oscillator.stop(n)}_restart(t){const n=this.toSeconds(t);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return Jr._periodicWaveCache.find(n=>n.phase===this._phase&&Q5(n.partials,this._partials));{const t=Jr._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const n=["sine","square","sawtooth","triangle"].indexOf(t)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(cr(e)){const{partials:d,wave:f}=e;this._wave=f,this._partials=d,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[d,f]=this._getRealImaginary(t,this._phase),l=this.context.createPeriodicWave(d,f);this._wave=l,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),Jr._periodicWaveCache.push({imag:f,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:d,type:this._type,wave:this._wave}),Jr._periodicWaveCache.length>100&&Jr._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&this._type!=="custom"&&t!=="custom"?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){mo(t,0);let n=this._type;const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(e&&(n=e[1]),this._type!=="custom")t===0?this.type=n:this.type=n+t.toString();else{const d=new Float32Array(t);this._partials.forEach((f,l)=>d[l]=f),this._partials=Array.from(d),this.type=this._type}}_getRealImaginary(t,n){let d=2048;const f=new Float32Array(d),l=new Float32Array(d);let o=1;if(t==="custom"){if(o=this._partials.length+1,this._partialCount=this._partials.length,d=o,this._partials.length===0)return[f,l]}else{const s=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);s?(o=parseInt(s[2],10)+1,this._partialCount=parseInt(s[2],10),t=s[1],o=Math.max(o,2),d=o):this._partialCount=0,this._partials=[]}for(let s=1;s<d;++s){const c=2/(s*Math.PI);let m;switch(t){case"sine":m=s<=o?1:0,this._partials[s-1]=m;break;case"square":m=s&1?2*c:0,this._partials[s-1]=m;break;case"sawtooth":m=c*(s&1?1:-1),this._partials[s-1]=m;break;case"triangle":s&1?m=2*(c*c)*(s-1>>1&1?-1:1):m=0,this._partials[s-1]=m;break;case"custom":m=this._partials[s-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}m!==0?(f[s]=-m*Math.sin(n*s),l[s]=m*Math.cos(n*s)):(f[s]=0,l[s]=0)}return[f,l]}_inverseFFT(t,n,e){let d=0;const f=t.length;for(let l=0;l<f;l++)d+=t[l]*Math.cos(l*e)+n[l]*Math.sin(l*e);return d}getInitialValue(){const[t,n]=this._getRealImaginary(this._type,0);let e=0;const d=Math.PI*2,f=32;for(let l=0;l<f;l++)e=Math.max(this._inverseFFT(t,n,l/f*d),e);return J5(-this._inverseFFT(t,n,this._phase)/e,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Br(this,void 0,void 0,function*(){return ki(this,t)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Jr._periodicWaveCache=[];class Cd extends or{constructor(){super(Object.assign(Nt(Cd.getDefaults(),arguments,["context"])))}connect(t,n=0,e=0){return Zp(this,t,n,e),this}}class jl extends Cd{constructor(){super(Object.assign(Nt(jl.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Nt(jl.getDefaults(),arguments,["mapping","length"]);Cs(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):z5(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(fn.getDefaults(),{length:1024})}setMap(t,n=1024){const e=new Float32Array(n);for(let d=0,f=n;d<f;d++){const l=d/(f-1)*2-1;e[d]=t(l,d)}return this.curve=e,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){const n=["none","2x","4x"].some(e=>e.includes(t));tr(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class yj extends Cd{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new jl({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Si extends fn{constructor(){super(Object.assign(Nt(Si.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Nt(Si.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new En({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(fn.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Tl extends os{constructor(){super(Nt(Tl.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new yj({context:this.context}),this._modulationNode=new En({context:this.context});const t=Nt(Tl.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Jr({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Jr({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Si({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Gr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Jr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Br(this,void 0,void 0,function*(){return ki(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class El extends os{constructor(){super(Nt(El.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new En({context:this.context,gain:0});const t=Nt(El.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Jr({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new fn({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Jr({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Si({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Si({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Gr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Jr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Br(this,void 0,void 0,function*(){return ki(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class ga extends os{constructor(){super(Nt(ga.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new En({context:this.context,gain:0}),this._thresh=new jl({context:this.context,mapping:n=>n<=0?-1:1});const t=Nt(ga.getDefaults(),arguments,["frequency","width"]);this.width=new fn({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Jr({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Gr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(os.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Br(this,void 0,void 0,function*(){return ki(this,t)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ml extends os{constructor(){super(Nt(Ml.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Nt(Ml.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new fn({context:this.context,units:"frequency",value:t.frequency}),this.detune=new fn({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Gr(this,["frequency","detune"])}static getDefaults(){return Object.assign(Jr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach(n=>n.start(t))}_stop(t){t=this.toSeconds(t),this._forEach(n=>n.stop(t))}_restart(t){this._forEach(n=>n.restart(t))}_forEach(t){for(let n=0;n<this._oscillators.length;n++)t(this._oscillators[n],n)}get type(){return this._type}set type(t){this._type=t,this._forEach(n=>n.type=t)}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const n=-t/2,e=t/(this._oscillators.length-1);this._forEach((d,f)=>d.detune.value=n+e*f)}}get count(){return this._oscillators.length}set count(t){if(mo(t,1),this._oscillators.length!==t){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<t;n++){const e=new Jr({context:this.context,volume:-6-t*1.1,type:this._type,phase:this._phase+n/t*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Mr});this.type==="custom"&&(e.partials=this._partials),this.frequency.connect(e.frequency),this.detune.connect(e.detune),e.detune.overridden=!1,e.connect(this.output),this._oscillators[n]=e}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach((n,e)=>n.phase=this._phase+e/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach(n=>n.baseType=t),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach(n=>n.partials=t))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach(n=>n.partialCount=t),this._type=this._oscillators[0].type}asArray(t=1024){return Br(this,void 0,void 0,function*(){return ki(this,t)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(t=>t.dispose()),this}}class Cl extends os{constructor(){super(Nt(Cl.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Si({context:this.context,value:2});const t=Nt(Cl.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new ga({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Jr({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Gr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(os.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Br(this,void 0,void 0,function*(){return ki(this,t)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const qm={am:Tl,fat:Ml,fm:El,oscillator:Jr,pulse:ga,pwm:Cl};class Al extends os{constructor(){super(Nt(Al.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Nt(Al.getDefaults(),arguments,["frequency","type"]);this.frequency=new fn({context:this.context,units:"frequency",value:t.frequency}),this.detune=new fn({context:this.context,units:"cents",value:t.detune}),Gr(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Jr.getDefaults(),El.getDefaults(),Tl.getDefaults(),Ml.getDefaults(),ga.getDefaults(),Cl.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(t=this._sourceType),t+this._oscillator.type}set type(t){t.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):t.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):t==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):t==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const n=qm[t],e=this.now();if(this._oscillator){const d=this._oscillator;d.stop(e),this.context.setTimeout(()=>d.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(e)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),t==="fm"?this.type="fm"+n:t==="am"?this.type="am"+n:t==="fat"?this.type="fat"+n:t==="oscillator"?this.type=n:t==="pulse"?this.type="pulse":t==="pwm"&&(this.type="pwm")}_getOscType(t,n){return t instanceof qm[n]}get baseType(){return this._oscillator.baseType}set baseType(t){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&t!=="pulse"&&t!=="pwm"&&(this._oscillator.baseType=t)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(t){this._getOscType(this._oscillator,"fat")&&Yo(t)&&(this._oscillator.count=t)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(t){this._getOscType(this._oscillator,"fat")&&Yo(t)&&(this._oscillator.spread=t)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Hs(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(t=1024){return Br(this,void 0,void 0,function*(){return ki(this,t)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function Ov(r,t=1/0){const n=new WeakMap;return function(e,d){Reflect.defineProperty(e,d,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(f){mo(f,r,t),n.set(this,f)}})}}function bo(r,t=1/0){const n=new WeakMap;return function(e,d){Reflect.defineProperty(e,d,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(f){mo(this.toSeconds(f),r,t),n.set(this,f)}})}}class va extends os{constructor(){super(Nt(va.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Nt(va.getDefaults(),arguments,["url","onload"]);this._buffer=new Ar({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(os.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Mr,onerror:Mr,playbackRate:1,reverse:!1})}load(t){return Br(this,void 0,void 0,function*(){return yield this._buffer.load(t),this._onload(),this})}_onload(t=Mr){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,n,e){return super.start(t,n,e),this}_start(t,n,e){this._loop?n=sa(n,this._loopStart):n=sa(n,0);const d=this.toSeconds(n),f=e;e=sa(e,Math.max(this._buffer.duration-d,0));let l=this.toSeconds(e);l=l/this._playbackRate,t=this.toSeconds(t);const o=new Sl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(t+l),this._state.setStateAtTime("stopped",t+l,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&ms(f)?o.start(t,d):o.start(t,d,l-this.toSeconds(this.fadeOut))}_stop(t){const n=this.toSeconds(t);this._activeSources.forEach(e=>e.stop(n))}restart(t,n,e){return super.restart(t,n,e),this}_restart(t,n,e){this._stop(t),this._start(t,n,e)}seek(t,n){const e=this.toSeconds(n);if(this._state.getValueAtTime(e)==="started"){const d=this.toSeconds(t);this._stop(e),this._start(e,d)}return this}setLoopPoints(t,n){return this.loopStart=t,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&mo(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=t})}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&mo(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=t})}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach(n=>{n.loop=t}),t)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const n=this.now(),e=this._state.getNextState("stopped",n);e&&e.implicitEnd&&(this._state.cancel(e.time),this._activeSources.forEach(d=>d.cancelStop())),this._activeSources.forEach(d=>{d.playbackRate.setValueAtTime(t,n)})}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(t=>t.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Ds([bo(0)],va.prototype,"fadeIn",void 0);Ds([bo(0)],va.prototype,"fadeOut",void 0);class yo extends or{constructor(){super(Nt(yo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new fn({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Nt(yo.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(or.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,n){if(Hs(t))return t;{let e;for(e in gu)if(gu[e][n]===t)return e;return t}}_setCurve(t,n,e){if(Hs(e)&&Reflect.has(gu,e)){const d=gu[e];yi(d)?t!=="_decayCurve"&&(this[t]=d[n]):this[t]=d}else if(Cs(e)&&t!=="_decayCurve")this[t]=e;else throw new Error("Envelope: invalid curve: "+e)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){tr(["linear","exponential"].some(n=>n===t),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,n=1){this.log("triggerAttack",t,n),t=this.toSeconds(t);let d=this.toSeconds(this.attack);const f=this.toSeconds(this.decay),l=this.getValueAtTime(t);if(l>0){const o=1/d;d=(1-l)/o}if(d<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(n,t);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,d,t);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,d,t);else{this._sig.cancelAndHoldAtTime(t);let o=this._attackCurve;for(let s=1;s<o.length;s++)if(o[s-1]<=l&&l<=o[s]){o=this._attackCurve.slice(s),o[0]=l;break}this._sig.setValueCurveAtTime(o,t,d,n)}if(f&&this.sustain<1){const o=n*this.sustain,s=t+d;this.log("decay",s),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(o,f+s):this._sig.exponentialApproachValueAtTime(o,s,f)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const n=this.getValueAtTime(t);if(n>0){const e=this.toSeconds(this.release);e<this.sampleTime?this._sig.setValueAtTime(0,t):this._releaseCurve==="linear"?this._sig.linearRampTo(0,e,t):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,e,t):(tr(Cs(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,e,n))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,n,e=1){return n=this.toSeconds(n),this.triggerAttack(n,e),this.triggerRelease(n+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,n=0,e=0){return Zp(this,t,n,e),this}asArray(t=1024){return Br(this,void 0,void 0,function*(){const n=t/this.context.sampleRate,e=new Xp(1,n,this.context.sampleRate),d=this.toSeconds(this.attack)+this.toSeconds(this.decay),f=d+this.toSeconds(this.release),l=f*.1,o=f+l,s=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/o,decay:n*this.toSeconds(this.decay)/o,release:n*this.toSeconds(this.release)/o,context:e}));return s._sig.toDestination(),s.triggerAttackRelease(n*(d+l)/o,0),(yield e.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Ds([bo(0)],yo.prototype,"attack",void 0);Ds([bo(0)],yo.prototype,"decay",void 0);Ds([Ov(0,1)],yo.prototype,"sustain",void 0);Ds([bo(0)],yo.prototype,"release",void 0);const gu=(()=>{let t,n;const e=[];for(t=0;t<128;t++)e[t]=Math.sin(t/(128-1)*(Math.PI/2));const d=[],f=6.4;for(t=0;t<128-1;t++){n=t/(128-1);const a=Math.sin(n*(Math.PI*2)*f-Math.PI/2)+1;d[t]=a/10+n*.83}d[128-1]=1;const l=[],o=5;for(t=0;t<128;t++)l[t]=Math.ceil(t/(128-1)*o)/o;const s=[];for(t=0;t<128;t++)n=t/(128-1),s[t]=.5*(1-Math.cos(Math.PI*n));const c=[];for(t=0;t<128;t++){n=t/(128-1);const a=Math.pow(n,3)*4+.2,u=Math.cos(a*Math.PI*2*n);c[t]=Math.abs(u*(1-n))}function m(a){const u=new Array(a.length);for(let i=0;i<a.length;i++)u[i]=1-a[i];return u}function y(a){return a.slice(0).reverse()}return{bounce:{In:m(c),Out:c},cosine:{In:e,Out:y(e)},exponential:"exponential",linear:"linear",ripple:{In:d,Out:m(d)},sine:{In:s,Out:m(s)},step:{In:l,Out:m(l)}}})();class ji extends or{constructor(){super(Nt(ji.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Nt(ji.getDefaults(),arguments);this._volume=this.output=new $o({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Gr(this,"volume")}static getDefaults(){return Object.assign(or.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,n){const e=this["_original_"+t]=this[t];this[t]=(...d)=>{const f=d[n],l=this.context.transport.schedule(o=>{d[n]=o,e.apply(this,d)},f);this._scheduledEvents.push(l)}}unsync(){return this._scheduledEvents.forEach(t=>this.context.transport.clear(t)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,n,e,d){const f=this.toSeconds(e),l=this.toSeconds(n);return this.triggerAttack(t,f,d),this.triggerRelease(f+l),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ti extends ji{constructor(){super(Nt(Ti.getDefaults(),arguments));const t=Nt(Ti.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(ji.getDefaults(),{detune:0,onsilence:Mr,portamento:0})}triggerAttack(t,n,e=1){this.log("triggerAttack",t,n,e);const d=this.toSeconds(n);return this._triggerEnvelopeAttack(d,e),this.setNote(t,d),this}triggerRelease(t){this.log("triggerRelease",t);const n=this.toSeconds(t);return this._triggerEnvelopeRelease(n),this}setNote(t,n){const e=this.toSeconds(n),d=t instanceof fs?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(e)>.05){const f=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(d,f,e)}else this.frequency.setValueAtTime(d,e);return this}}Ds([bo(0)],Ti.prototype,"portamento",void 0);class Jp extends yo{constructor(){super(Nt(Jp.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new En({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class kl extends Ti{constructor(){super(Nt(kl.getDefaults(),arguments)),this.name="Synth";const t=Nt(kl.getDefaults(),arguments);this.oscillator=new Al(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new Jp(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Gr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ti.getDefaults(),{envelope:Object.assign(Wm(yo.getDefaults(),Object.keys(or.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Wm(Al.getDefaults(),[...Object.keys(os.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,n){if(this.envelope.triggerAttack(t,n),this.oscillator.start(t),this.envelope.sustain===0){const e=this.toSeconds(this.envelope.attack),d=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+d)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Rl extends kl{constructor(){super(Nt(Rl.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Nt(Rl.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Gr(this,["oscillator","envelope"])}static getDefaults(){return na(Ti.getDefaults(),kl.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,n){const e=this.toSeconds(n),d=this.toFrequency(t instanceof fs?t.toFrequency():t),f=d*this.octaves;return this.oscillator.frequency.setValueAtTime(f,e),this.oscillator.frequency.exponentialRampToValueAtTime(d,e+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ds([Ov(0)],Rl.prototype,"octaves",void 0);Ds([bo(0)],Rl.prototype,"pitchDecay",void 0);const Pv=new Set;function e0(r){Pv.add(r)}function Iv(r,t){const n=`registerProcessor("${r}", ${t})`;Pv.add(n)}const gj=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;e0(gj);const vj=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;e0(vj);const _j=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;e0(_j);const bj="feedback-comb-filter",xj=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;Iv(bj,xj);class Ol extends ji{constructor(){super(Nt(Ol.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Nt(Ol.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),n={};Object.keys(t.urls).forEach(e=>{const d=parseInt(e,10);if(tr(yu(e)||Yo(d)&&isFinite(d),`url key is neither a note or midi pitch: ${e}`),yu(e)){const f=new fs(this.context,e).toMidi();n[f]=t.urls[e]}else Yo(d)&&isFinite(d)&&(n[d]=t.urls[d])}),this._buffers=new Qp({urls:n,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(ji.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Mr,onerror:Mr,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,n,e=1){return this.log("triggerAttack",t,n,e),Array.isArray(t)||(t=[t]),t.forEach(d=>{const f=Rv(new fs(this.context,d).toFrequency()),l=Math.round(f),o=f-l,s=this._findClosest(l),c=l-s,m=this._buffers.get(c),y=kv(s+o),a=new Sl({url:m,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);a.start(n,0,m.duration/y,e),Cs(this._activeSources.get(l))||this._activeSources.set(l,[]),this._activeSources.get(l).push(a),a.onended=()=>{if(this._activeSources&&this._activeSources.has(l)){const u=this._activeSources.get(l),i=u.indexOf(a);i!==-1&&u.splice(i,1)}}}),this}triggerRelease(t,n){return this.log("triggerRelease",t,n),Array.isArray(t)||(t=[t]),t.forEach(e=>{const d=new fs(this.context,e).toMidi();if(this._activeSources.has(d)&&this._activeSources.get(d).length){const f=this._activeSources.get(d);n=this.toSeconds(n),f.forEach(l=>{l.stop(n)}),this._activeSources.set(d,[])}}),this}releaseAll(t){const n=this.toSeconds(t);return this._activeSources.forEach(e=>{for(;e.length;)e.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,n,e,d=1){const f=this.toSeconds(e);return this.triggerAttack(t,f,d),Cs(n)?(tr(Cs(t),"notes must be an array when duration is array"),t.forEach((l,o)=>{const s=n[Math.min(o,n.length-1)];this.triggerRelease(l,f+this.toSeconds(s))})):this.triggerRelease(t,f+this.toSeconds(n)),this}add(t,n,e){if(tr(yu(t)||isFinite(t),`note must be a pitch or midi: ${t}`),yu(t)){const d=new fs(this.context,t).toMidi();this._buffers.add(d,n,e)}else this._buffers.add(t,n,e);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(t=>{t.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Ds([bo(0)],Ol.prototype,"attack",void 0);Ds([bo(0)],Ol.prototype,"release",void 0);class Oc extends or{constructor(){super(Object.assign(Nt(Oc.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Nt(Oc.getDefaults(),arguments,["pan"]);this.pan=new Dr({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Gr(this,"pan")}static getDefaults(){return Object.assign(or.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const wj="bit-crusher",Sj=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;Iv(wj,Sj);class Pc extends or{constructor(){super(Nt(Pc.getDefaults(),arguments,["channels"])),this.name="Split";const t=Nt(Pc.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(or.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Ic extends or{constructor(){super(Nt(Ic.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=Nt(Ic.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new En({context:this.context}),this._split=new Pc({context:this.context,channels:t.channels}),this.input.connect(this._split),mo(t.channels,1);for(let n=0;n<t.channels;n++)this._analysers[n]=this.context.createAnalyser(),this._split.connect(this._analysers[n],n,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(or.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((t,n)=>{const e=this._buffers[n];this._type==="fft"?t.getFloatFrequencyData(e):this._type==="waveform"&&t.getFloatTimeDomainData(e)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach((n,e)=>{n.fftSize=t*2,this._buffers[e]=new Float32Array(t)})}get channels(){return this._analysers.length}get type(){return this._type}set type(t){tr(t==="waveform"||t==="fft",`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach(n=>n.smoothingTimeConstant=t)}dispose(){return super.dispose(),this._analysers.forEach(t=>t.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Kr extends or{constructor(){super(Nt(Kr.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Nt(Kr.getDefaults(),arguments,["solo"]);this.input=this.output=new En({context:this.context}),Kr._allSolos.has(this.context)||Kr._allSolos.set(this.context,new Set),Kr._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(or.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Kr._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Kr._soloed.has(this.context)||Kr._soloed.set(this.context,new Set),Kr._soloed.get(this.context).add(this)}_removeSolo(){Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).delete(this)}_isSoloed(){return Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).has(this)}_noSolos(){return!Kr._soloed.has(this.context)||Kr._soloed.has(this.context)&&Kr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Kr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Kr._allSolos=new Map;Kr._soloed=new Map;class Dc extends or{constructor(){super(Nt(Dc.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Nt(Dc.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Oc({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new $o({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Gr(this,["pan","volume"])}static getDefaults(){return Object.assign(or.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class ao extends or{constructor(){super(Nt(ao.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Nt(ao.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Kr({solo:t.solo,context:this.context}),this._panVol=this.output=new Dc({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Gr(this,["pan","volume"])}static getDefaults(){return Object.assign(or.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return ao.buses.has(t)||ao.buses.set(t,new En({context:this.context})),ao.buses.get(t)}send(t,n=0){const e=this._getBus(t),d=new En({context:this.context,units:"decibels",gain:n});return this.connect(d),d.connect(e),d}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}ao.buses=new Map;class jj extends or{constructor(){super(...arguments),this.name="Listener",this.positionX=new Dr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Dr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Dr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Dr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Dr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Dr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Dr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Dr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Dr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(or.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Td(r=>{r.listener=new jj({context:r})});Ed(r=>{r.listener.dispose()});class il extends or{constructor(){super(Nt(il.getDefaults(),arguments)),this.name="Recorder";const t=Nt(il.getDefaults(),arguments);this.input=new En({context:this.context}),tr(il.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return or.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return po!==null&&Reflect.has(po,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return Br(this,void 0,void 0,function*(){tr(this.state!=="started","Recorder is already started");const t=new Promise(n=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),n()};this._recorder.addEventListener("start",e,!1)});return this._recorder.start(),yield t})}stop(){return Br(this,void 0,void 0,function*(){tr(this.state!=="stopped","Recorder is not started");const t=new Promise(n=>{const e=d=>{this._recorder.removeEventListener("dataavailable",e,!1),n(d.data)};this._recorder.addEventListener("dataavailable",e,!1)});return this._recorder.stop(),yield t})}pause(){return tr(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}const wn=ts().transport;ts().destination;ts().destination;ts().listener;ts().draw;const Dv=ts();var Lv={},Ad={exports:{}},Tj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ej=Tj,Mj=Ej;function Nv(){}function Bv(){}Bv.resetWarningCache=Nv;var Cj=function(){function r(e,d,f,l,o,s){if(s!==Mj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}r.isRequired=r;function t(){return r}var n={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:t,element:r,elementType:r,instanceOf:t,node:r,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Bv,resetWarningCache:Nv};return n.PropTypes=n,n};Ad.exports=Cj();var Aj=ko&&ko.__extends||function(){var r=function(t,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,d){e.__proto__=d}||function(e,d){for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f])},r(t,n)};return function(t,n){r(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}}(),Fv=ko&&ko.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lv,"__esModule",{value:!0});var cs=Fv(Ad.exports),rh=Fv(Lt.exports),kj=function(r){Aj(t,r);function t(n){var e=r.call(this,n)||this;return e.resetDragging=function(){e.frameDragCounter=0,e.setState({draggingOverFrame:!1,draggingOverTarget:!1})},e.handleWindowDragOverOrDrop=function(d){d.preventDefault()},e.handleFrameDrag=function(d){if(!!t.eventHasFiles(d)){if(e.frameDragCounter+=d.type==="dragenter"?1:-1,e.frameDragCounter===1){e.setState({draggingOverFrame:!0}),e.props.onFrameDragEnter&&e.props.onFrameDragEnter(d);return}if(e.frameDragCounter===0){e.setState({draggingOverFrame:!1}),e.props.onFrameDragLeave&&e.props.onFrameDragLeave(d);return}}},e.handleFrameDrop=function(d){e.state.draggingOverTarget||(e.resetDragging(),e.props.onFrameDrop&&e.props.onFrameDrop(d))},e.handleDragOver=function(d){t.eventHasFiles(d)&&(e.setState({draggingOverTarget:!0}),!t.isIE()&&e.props.dropEffect&&(d.dataTransfer.dropEffect=e.props.dropEffect),e.props.onDragOver&&e.props.onDragOver(d))},e.handleDragLeave=function(d){e.setState({draggingOverTarget:!1}),e.props.onDragLeave&&e.props.onDragLeave(d)},e.handleDrop=function(d){if(e.props.onDrop&&t.eventHasFiles(d)){var f=d.dataTransfer?d.dataTransfer.files:null;e.props.onDrop(f,d)}e.resetDragging()},e.handleTargetClick=function(d){e.props.onTargetClick&&e.props.onTargetClick(d),e.resetDragging()},e.stopFrameListeners=function(d){d&&(d.removeEventListener("dragenter",e.handleFrameDrag),d.removeEventListener("dragleave",e.handleFrameDrag),d.removeEventListener("drop",e.handleFrameDrop))},e.startFrameListeners=function(d){d&&(d.addEventListener("dragenter",e.handleFrameDrag),d.addEventListener("dragleave",e.handleFrameDrag),d.addEventListener("drop",e.handleFrameDrop))},e.frameDragCounter=0,e.state={draggingOverFrame:!1,draggingOverTarget:!1},e}return t.prototype.componentDidMount=function(){this.startFrameListeners(this.props.frame),this.resetDragging(),window.addEventListener("dragover",this.handleWindowDragOverOrDrop),window.addEventListener("drop",this.handleWindowDragOverOrDrop)},t.prototype.componentDidUpdate=function(n){n.frame!==this.props.frame&&(this.resetDragging(),this.stopFrameListeners(n.frame),this.startFrameListeners(this.props.frame))},t.prototype.componentWillUnmount=function(){this.stopFrameListeners(this.props.frame),window.removeEventListener("dragover",this.handleWindowDragOverOrDrop),window.removeEventListener("drop",this.handleWindowDragOverOrDrop)},t.prototype.render=function(){var n=this.props,e=n.children,d=n.className,f=n.targetClassName,l=n.draggingOverFrameClassName,o=n.draggingOverTargetClassName,s=this.state,c=s.draggingOverTarget,m=s.draggingOverFrame,y=f;return m&&(y+=" "+l),c&&(y+=" "+o),rh.default.createElement("div",{className:d,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},rh.default.createElement("div",{className:y,onClick:this.handleTargetClick},e))},t.isIE=function(){return typeof window<"u"&&(window.navigator.userAgent.indexOf("MSIE")!==-1||window.navigator.appVersion.indexOf("Trident/")>0)},t.eventHasFiles=function(n){var e=!1;if(n.dataTransfer){var d=n.dataTransfer.types;for(var f in d)if(d[f]==="Files"){e=!0;break}}return e},t.propTypes={className:cs.default.string,targetClassName:cs.default.string,draggingOverFrameClassName:cs.default.string,draggingOverTargetClassName:cs.default.string,onDragOver:cs.default.func,onDragLeave:cs.default.func,onDrop:cs.default.func,onTargetClick:cs.default.func,dropEffect:cs.default.oneOf(["copy","move","link","none"]),frame:function(n,e,d){var f=n[e];if(f==null)return new Error("Warning: Required prop `"+e+"` was not specified in `"+d+"`");if(f!==document&&!(f instanceof HTMLElement))return new Error("Warning: Prop `"+e+"` must be one of the following: document, HTMLElement!")},onFrameDragEnter:cs.default.func,onFrameDragLeave:cs.default.func,onFrameDrop:cs.default.func},t.defaultProps={dropEffect:"copy",frame:typeof window>"u"?void 0:window.document,className:"file-drop",targetClassName:"file-drop-target",draggingOverFrameClassName:"file-drop-dragging-over-frame",draggingOverTargetClassName:"file-drop-dragging-over-target"},t}(rh.default.PureComponent),Rj=Lv.FileDrop=kj,Oj=Pj;function Pj(r,t){t=t||{};var n=r.numberOfChannels,e=r.sampleRate,d=t.float32?3:1,f=d===3?32:16,l;return n===2?l=Dj(r.getChannelData(0),r.getChannelData(1)):l=r.getChannelData(0),Ij(l,d,e,n,f)}function Ij(r,t,n,e,d){var f=d/8,l=e*f,o=new ArrayBuffer(44+r.length*f),s=new DataView(o);return vu(s,0,"RIFF"),s.setUint32(4,36+r.length*f,!0),vu(s,8,"WAVE"),vu(s,12,"fmt "),s.setUint32(16,16,!0),s.setUint16(20,t,!0),s.setUint16(22,e,!0),s.setUint32(24,n,!0),s.setUint32(28,n*l,!0),s.setUint16(32,l,!0),s.setUint16(34,d,!0),vu(s,36,"data"),s.setUint32(40,r.length*f,!0),t===1?Nj(s,44,r):Lj(s,44,r),o}function Dj(r,t){for(var n=r.length+t.length,e=new Float32Array(n),d=0,f=0;d<n;)e[d++]=r[f],e[d++]=t[f],f++;return e}function Lj(r,t,n){for(var e=0;e<n.length;e++,t+=4)r.setFloat32(t,n[e],!0)}function Nj(r,t,n){for(var e=0;e<n.length;e++,t+=2){var d=Math.max(-1,Math.min(1,n[e]));r.setInt16(t,d<0?d*32768:d*32767,!0)}}function vu(r,t,n){for(var e=0;e<n.length;e++)r.setUint8(t+e,n.charCodeAt(e))}const Bj=r=>Oj(r),Uv=r=>new va({url:r,loop:!1}).sync(),Fj=r=>r._buffer,Uj=(r,t)=>(r%t+t)%t,Vj=(r,t,n,e,d)=>{let f=(r-t)*(d-e)/(n-t)+t;return Math.min(Math.max(f,e),d)},Sn=100,ys=100,oa=50,Xm=44100,Gj=1e7,zj=60,Uu={mp3:"audio/mp3",wav:"audio/wav"},Hj=32767.5,Wj=r=>r==Uu.mp3?"audio.mp3":"audio.wav";let _u;const qj=new Uint8Array(16);function Xj(){if(!_u&&(_u=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!_u))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _u(qj)}const xn=[];for(let r=0;r<256;++r)xn.push((r+256).toString(16).slice(1));function Yj(r,t=0){return(xn[r[t+0]]+xn[r[t+1]]+xn[r[t+2]]+xn[r[t+3]]+"-"+xn[r[t+4]]+xn[r[t+5]]+"-"+xn[r[t+6]]+xn[r[t+7]]+"-"+xn[r[t+8]]+xn[r[t+9]]+"-"+xn[r[t+10]]+xn[r[t+11]]+xn[r[t+12]]+xn[r[t+13]]+xn[r[t+14]]+xn[r[t+15]]).toLowerCase()}const $j=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ym={randomUUID:$j};function t0(r,t,n){if(Ym.randomUUID&&!t&&!r)return Ym.randomUUID();r=r||{};const e=r.random||(r.rng||Xj)();if(e[6]=e[6]&15|64,e[8]=e[8]&63|128,t){n=n||0;for(let d=0;d<16;++d)t[n+d]=e[d];return t}return Yj(e)}const Zj=(r,t)=>{switch(t.type){case"setMic":return Qj(r,t.payload);case"togglePlay":return Kj(r,t.payload);case"toggleRecordingState":return Jj(r,t.payload);case"initializeChannels":return eT(r,t.payload);case"selectChannel":return sT(r,t.payload);case"deselectAllChannels":return oT(r,t.payload);case"addChannel":return tT(r,t.payload);case"editChannelName":return rT(r,t.payload);case"deleteSelectedChannel":return nT(r,t.payload);case"selectRecording":return iT(r,t.payload);case"deselectRecordings":return aT(r,t.payload);case"scheduleNewRecording":return lT(r,t.payload);case"switchRecordingChannel":return uT(r,t.payload);case"deleteSelectedRecording":return dT(r,t.payload);case"updateBuffer":return fT(r,t.payload);case"updateRecordingPosition":return pT(r,t.payload);case"updateTransportLength":return mT(r,t.payload);case"updateTransportPosition":return yT(r,t.payload);case"cropRecording":return gT(r,t.payload);case"addSplitRecording":return vT(r,t.payload);case"updateSplitRecording":return _T(r,t.payload);case"soloClip":return xT(r,t.payload);case"unsoloClip":return wT(r,t.payload);default:return r}},Vv=r=>({channel:new ao().toDestination(),name:"Audio "+(r+1),recordings:[],id:t0(),index:r}),Qj=(r,t)=>({...r,mic:t}),Kj=(r,t)=>({...r,playing:t.playing,time:t.time}),Jj=(r,t)=>({...r,recordingState:t}),eT=(r,t)=>{let n=Vv(0);return{...r,channels:[n],soloChannel:new ao().toDestination(),selectedChannel:n.id}},tT=(r,t)=>{let n=r.channels.length,e=Vv(n);return{...r,channels:[...r.channels.slice(0,n),e],selectedChannel:e.id}},rT=(r,t)=>{let n=r.channels,e=Ma(n,t.channelId);return{...r,channels:[...n.slice(0,e),{...n[e],name:t.name},...n.slice(e+1,n.length)]}},nT=(r,t)=>({...r,channels:[...r.channels.filter(n=>(n.id==t&&n.recordings.forEach(e=>{e.player.dispose()}),n.id!=t))],selectedRecording:t==r.selectedRecording.channel?{}:r.selectedRecording,selectedChannel:t==r.selectedChannel?0:r.selectedChannel}),sT=(r,t)=>({...r,selectedChannel:t}),oT=(r,t)=>({...r,selectedChannel:0}),iT=(r,t)=>({...r,selectedRecording:t}),aT=(r,t)=>({...r,selectedRecording:{}}),Gv=(r,t)=>{let n=Ma(r.channels,t.channel);Rd(t),t.player.connect(r.channels[n].channel)},lT=(r,t)=>(t.channel=r.selectedChannel,Gv(r,t),hT(r,t)),uT=(r,t)=>{let n=r.channels,e=t.channelIndex,d=t.newChannelIndex,f=e>d?d:e,l=e>d?e:d,o={...n[e],recordings:[...n[e].recordings.filter(m=>m.id!=t.recording.id)]},s={...n[d],recordings:[...n[d].recordings,t.recording]},c={first:f==d?s:o,second:l==e?o:s};return{...r,channels:[...n.slice(0,f),c.first,...n.slice(f+1,l),c.second,...n.slice(l+1,n.length)]}},cT=(r,t)=>r.findIndex(n=>n.id==t),Ma=(r,t)=>{let n=r.findIndex(e=>e.id==t);return n>0?n:0},dT=(r,t)=>{let n=r.channels,e=Ma(n,t.channel);return e<0?r:{...r,channels:[...n.slice(0,e),{...n[e],recordings:[...n[e].recordings.filter(d=>(d.id==t.id&&d.player.dispose(),d.id!=t.id))]},...n.slice(e+1,n.length)],selectedRecording:{}}},Jl=(r,t,n)=>{let e=r.channels,d=Ma(e,t.channel),f=cT(e[d].recordings,t.id),l=e[d].recordings.length;switch(n.type){case"add":return{...r,channels:[...e.slice(0,d),{...e[d],recordings:[...e[d].recordings.slice(0,l),{...t}]},...e.slice(d+1,e.length)]};case"update":let o=t.start+t.duration>r.endPosition?t.start+t.duration:r.endPosition;return{...r,channels:[...e.slice(0,d),{...e[d],recordings:[...e[d].recordings.slice(0,f),{...t},...e[d].recordings.slice(f+1,l)]},...e.slice(d+1,e.length)],endPosition:o}}},hT=(r,t)=>(t.start=t.position,t.channel=r.selectedChannel,Jl(r,t,{type:"add"})),fT=(r,t)=>(Rd(t),kd(r,t)),pT=(r,t)=>{let n=t.newPosition/Sn,e=n-t.recording.start;return t.recording.start+n<0&&(n=Math.abs(t.recording.start)*-1),t.recording.position+=e,t.recording.start=n,t.recording.duration+=e,Rd(t.recording),kd(r,t.recording)},mT=(r,t)=>({...r,transportLength:t}),yT=(r,t)=>(bT(r,t),{...r,time:t}),gT=(r,t)=>{let n=t.recording;return n.start+=t.leftDelta,n.duration-=t.rightDelta,Rd(n),Jl(r,n,{type:"update"})},vT=(r,t)=>{let n=t.splitPoint,e=t.recording,f=e.player.buffer.slice(n,e.duration),l=e.start-e.position,o={id:t0(),channel:e.channel,position:n-l,duration:e.duration,start:n,data:{},player:Uv(f),solo:!1,loaded:!0};return Gv(r,o),Jl(r,o,{type:"add"})},_T=(r,t)=>{let n=t.recording,e=n.player.buffer,d=e.slice(0,t.splitPoint);return e.dispose(),n.player.buffer=d,n.duration=t.splitPoint,Jl(r,n,{type:"update"})},kd=(r,t)=>Jl(r,t,{type:"update"}),zv=(r,t)=>{r.player.unsync();let n=r.start-r.position+t;r.player.sync().start(r.position+n,n),r.player.stop(r.duration)},Rd=r=>{let t=r0(wn.seconds,r);zv(r,t)},bT=(r,t)=>{r.channels.forEach(n=>{n.recordings.forEach(e=>{let d=r0(t,e);zv(e,d)})})},r0=(r,t)=>r<t.start||r>=t.duration?0:r-t.start,xT=(r,t)=>(t.player.connect(r.soloChannel),r.soloChannel.solo=!0,t.solo=!0,kd(r,t)),wT=(r,t)=>{t.player.disconnect();let n=Ma(r.channels,t.channel);return t.player.connect(r.channels[n].channel),r.soloChannel.solo=!1,t.solo=!1,kd(r,t)};function bu(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hv={exports:{}};/*! p5.js v1.5.0 October 18, 2022 */(function(r,t){(function(n){r.exports=n()})(function(){var n;return function e(d,f,l){function o(m,y){if(!f[m]){if(!d[m]){var a=typeof bu=="function"&&bu;if(!y&&a)return a(m,!0);if(s)return s(m,!0);throw(y=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",y}a=f[m]={exports:{}},d[m][0].call(a.exports,function(u){return o(d[m][1][u]||u)},a,a.exports,e,d,f,l)}return f[m].exports}for(var s=typeof bu=="function"&&bu,c=0;c<l.length;c++)o(l[c]);return o}({1:[function(e,d,f){f.byteLength=function(h){var h=a(h),i=h[0],h=h[1];return 3*(i+h)/4-h},f.toByteArray=function(u){var i,h,g=a(u),p=g[0],g=g[1],v=new s(function(x,k){return 3*(x+k)/4-k}(p,g)),b=0,w=0<g?p-4:p;for(h=0;h<w;h+=4)i=o[u.charCodeAt(h)]<<18|o[u.charCodeAt(h+1)]<<12|o[u.charCodeAt(h+2)]<<6|o[u.charCodeAt(h+3)],v[b++]=i>>16&255,v[b++]=i>>8&255,v[b++]=255&i;return g===2&&(i=o[u.charCodeAt(h)]<<2|o[u.charCodeAt(h+1)]>>4,v[b++]=255&i),g===1&&(i=o[u.charCodeAt(h)]<<10|o[u.charCodeAt(h+1)]<<4|o[u.charCodeAt(h+2)]>>2,v[b++]=i>>8&255,v[b++]=255&i),v},f.fromByteArray=function(u){for(var i,h=u.length,p=h%3,g=[],v=0,b=h-p;v<b;v+=16383)g.push(function(w,x,k){for(var E,M=[],O=x;O<k;O+=3)E=(w[O]<<16&16711680)+(w[O+1]<<8&65280)+(255&w[O+2]),M.push(function(P){return l[P>>18&63]+l[P>>12&63]+l[P>>6&63]+l[63&P]}(E));return M.join("")}(u,v,b<v+16383?b:v+16383));return p==1?(i=u[h-1],g.push(l[i>>2]+l[i<<4&63]+"==")):p==2&&(i=(u[h-2]<<8)+u[h-1],g.push(l[i>>10]+l[i>>4&63]+l[i<<2&63]+"=")),g.join("")};for(var l=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,y=c.length;m<y;++m)l[m]=c[m],o[c.charCodeAt(m)]=m;function a(u){var i=u.length;if(0<i%4)throw new Error("Invalid string. Length must be a multiple of 4");return u=u.indexOf("="),i=(u=u===-1?i:u)===i?0:4-u%4,[u,i]}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},{}],2:[function(e,d,f){},{}],3:[function(e,d,f){arguments[4][2][0].apply(f,arguments)},{dup:2}],4:[function(e,d,f){(function(a){var o=e("base64-js"),s=e("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(f.Buffer=a,f.SlowBuffer=function(R){return+R!=R&&(R=0),a.alloc(+R)},f.INSPECT_MAX_BYTES=50,2147483647);function y(R){if(m<R)throw new RangeError('The value "'+R+'" is invalid for option "size"');return R=new Uint8Array(R),Object.setPrototypeOf(R,a.prototype),R}function a(R,j,N){if(typeof R!="number")return u(R,j,N);if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(R)}function u(R,j,N){if(typeof R=="string"){var F=R,ie=j;if(a.isEncoding(ie=typeof ie=="string"&&ie!==""?ie:"utf8"))return ae=0|v(F,ie),Te=y(ae),Te=(F=Te.write(F,ie))!==ae?Te.slice(0,F):Te;throw new TypeError("Unknown encoding: "+ie)}if(ArrayBuffer.isView(R))return p(R);if(R!=null){if(oe(R,ArrayBuffer)||R&&oe(R.buffer,ArrayBuffer)){var ae=R,F=j,Te=N;if(F<0||ae.byteLength<F)throw new RangeError('"offset" is outside of buffer bounds');if(ae.byteLength<F+(Te||0))throw new RangeError('"length" is outside of buffer bounds');return ae=F===void 0&&Te===void 0?new Uint8Array(ae):Te===void 0?new Uint8Array(ae,F):new Uint8Array(ae,F,Te),Object.setPrototypeOf(ae,a.prototype),ae}if(typeof R=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ie=R.valueOf&&R.valueOf(),ie!=null&&ie!==R)return a.from(ie,j,N);var ke=function(Me){{var Se,Xe;if(a.isBuffer(Me))return Se=0|g(Me.length),(Xe=y(Se)).length!==0&&Me.copy(Xe,0,0,Se),Xe}if(Me.length!==void 0)return typeof Me.length!="number"||ce(Me.length)?y(0):p(Me);if(Me.type==="Buffer"&&Array.isArray(Me.data))return p(Me.data)}(R);if(ke)return ke;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof R[Symbol.toPrimitive]=="function")return a.from(R[Symbol.toPrimitive]("string"),j,N)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof R)}function i(R){if(typeof R!="number")throw new TypeError('"size" argument must be of type number');if(R<0)throw new RangeError('The value "'+R+'" is invalid for option "size"')}function h(R){return i(R),y(R<0?0:0|g(R))}function p(R){for(var j=R.length<0?0:0|g(R.length),N=y(j),F=0;F<j;F+=1)N[F]=255&R[F];return N}function g(R){if(m<=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|R}function v(R,j){if(a.isBuffer(R))return R.length;if(ArrayBuffer.isView(R)||oe(R,ArrayBuffer))return R.byteLength;if(typeof R!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof R);var N=R.length,F=2<arguments.length&&arguments[2]===!0;if(!F&&N===0)return 0;for(var ie=!1;;)switch(j){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Q(R).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*N;case"hex":return N>>>1;case"base64":return ue(R).length;default:if(ie)return F?-1:Q(R).length;j=(""+j).toLowerCase(),ie=!0}}function b(R,j,N){var F,ie=!1;if((j=j===void 0||j<0?0:j)>this.length||(N=N===void 0||N>this.length?this.length:N)<=0||(N>>>=0)<=(j>>>=0))return"";for(R=R||"utf8";;)switch(R){case"hex":var ae=this,Ve=j,Te=N,Xe=ae.length;(!Te||Te<0||Xe<Te)&&(Te=Xe);for(var ke="",Me=Ve=!Ve||Ve<0?0:Ve;Me<Te;++Me)ke+=ne[ae[Me]];return ke;case"utf8":case"utf-8":return O(this,j,N);case"ascii":var Se=this,Xe=j,ve=N,Ce="";ve=Math.min(Se.length,ve);for(var Fe=Xe;Fe<ve;++Fe)Ce+=String.fromCharCode(127&Se[Fe]);return Ce;case"latin1":case"binary":var ze=this,Ve=j,ot=N,se="";ot=Math.min(ze.length,ot);for(var Ne=Ve;Ne<ot;++Ne)se+=String.fromCharCode(ze[Ne]);return se;case"base64":return Oe=this,F=N,(We=j)===0&&F===Oe.length?o.fromByteArray(Oe):o.fromByteArray(Oe.slice(We,F));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Oe=j,We=N,Ke=this.slice(Oe,We),Ge="",et=0;et<Ke.length;et+=2)Ge+=String.fromCharCode(Ke[et]+256*Ke[et+1]);return Ge;default:if(ie)throw new TypeError("Unknown encoding: "+R);R=(R+"").toLowerCase(),ie=!0}}function w(R,j,N){var F=R[j];R[j]=R[N],R[N]=F}function x(R,j,N,F,ie){if(R.length===0)return-1;if(typeof N=="string"?(F=N,N=0):2147483647<N?N=2147483647:N<-2147483648&&(N=-2147483648),(N=(N=ce(N=+N)?ie?0:R.length-1:N)<0?R.length+N:N)>=R.length){if(ie)return-1;N=R.length-1}else if(N<0){if(!ie)return-1;N=0}if(typeof j=="string"&&(j=a.from(j,F)),a.isBuffer(j))return j.length===0?-1:k(R,j,N,F,ie);if(typeof j=="number")return j&=255,typeof Uint8Array.prototype.indexOf=="function"?(ie?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(R,j,N):k(R,[j],N,F,ie);throw new TypeError("val must be string, number or Buffer")}function k(R,j,N,F,ie){var ae=1,Te=R.length,ke=j.length;if(F!==void 0&&((F=String(F).toLowerCase())==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(R.length<2||j.length<2)return-1;Te/=ae=2,ke/=2,N/=2}function Me(Fe,ze){return ae===1?Fe[ze]:Fe.readUInt16BE(ze*ae)}if(ie)for(var Se=-1,Xe=N;Xe<Te;Xe++)if(Me(R,Xe)===Me(j,Se===-1?0:Xe-Se)){if(Xe-(Se=Se===-1?Xe:Se)+1===ke)return Se*ae}else Se!==-1&&(Xe-=Xe-Se),Se=-1;else for(Xe=N=Te<N+ke?Te-ke:N;0<=Xe;Xe--){for(var ve=!0,Ce=0;Ce<ke;Ce++)if(Me(R,Xe+Ce)!==Me(j,Ce)){ve=!1;break}if(ve)return Xe}return-1}function E(R,j,N,F){return te(function(ie){for(var ae=[],Te=0;Te<ie.length;++Te)ae.push(255&ie.charCodeAt(Te));return ae}(j),R,N,F)}function M(R,j,N,F){return te(function(ie,ae){for(var Te,ke,Me=[],Se=0;Se<ie.length&&!((ae-=2)<0);++Se)ke=ie.charCodeAt(Se),Te=ke>>8,ke=ke%256,Me.push(ke),Me.push(Te);return Me}(j,R.length-N),R,N,F)}function O(R,j,N){N=Math.min(R.length,N);for(var F=[],ie=j;ie<N;){var ae,Te,ke,Me,Se=R[ie],Xe=null,ve=239<Se?4:223<Se?3:191<Se?2:1;if(ie+ve<=N)switch(ve){case 1:Se<128&&(Xe=Se);break;case 2:(192&(ae=R[ie+1]))==128&&127<(Me=(31&Se)<<6|63&ae)&&(Xe=Me);break;case 3:ae=R[ie+1],Te=R[ie+2],(192&ae)==128&&(192&Te)==128&&2047<(Me=(15&Se)<<12|(63&ae)<<6|63&Te)&&(Me<55296||57343<Me)&&(Xe=Me);break;case 4:ae=R[ie+1],Te=R[ie+2],ke=R[ie+3],(192&ae)==128&&(192&Te)==128&&(192&ke)==128&&65535<(Me=(15&Se)<<18|(63&ae)<<12|(63&Te)<<6|63&ke)&&Me<1114112&&(Xe=Me)}Xe===null?(Xe=65533,ve=1):65535<Xe&&(Xe-=65536,F.push(Xe>>>10&1023|55296),Xe=56320|1023&Xe),F.push(Xe),ie+=ve}var Ce=F,Fe=Ce.length;if(Fe<=P)return String.fromCharCode.apply(String,Ce);for(var ze="",Ve=0;Ve<Fe;)ze+=String.fromCharCode.apply(String,Ce.slice(Ve,Ve+=P));return ze}f.kMaxLength=m,(a.TYPED_ARRAY_SUPPORT=function(){try{var R=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(R,j),R.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=u,Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(R,j,N){return j=j,N=N,i(R=R),!(R<=0)&&j!==void 0?typeof N=="string"?y(R).fill(j,N):y(R).fill(j):y(R)},a.allocUnsafe=h,a.allocUnsafeSlow=h,a.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==a.prototype},a.compare=function(R,j){if(oe(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),oe(j,Uint8Array)&&(j=a.from(j,j.offset,j.byteLength)),!a.isBuffer(R)||!a.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===j)return 0;for(var N=R.length,F=j.length,ie=0,ae=Math.min(N,F);ie<ae;++ie)if(R[ie]!==j[ie]){N=R[ie],F=j[ie];break}return N<F?-1:F<N?1:0},a.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(R,j){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return a.alloc(0);if(j===void 0)for(ie=j=0;ie<R.length;++ie)j+=R[ie].length;for(var N=a.allocUnsafe(j),F=0,ie=0;ie<R.length;++ie){var ae=R[ie];if(oe(ae,Uint8Array)&&(ae=a.from(ae)),!a.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(N,F),F+=ae.length}return N},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var R=this.length;if(R%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var j=0;j<R;j+=2)w(this,j,j+1);return this},a.prototype.swap32=function(){var R=this.length;if(R%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var j=0;j<R;j+=4)w(this,j,j+3),w(this,j+1,j+2);return this},a.prototype.swap64=function(){var R=this.length;if(R%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var j=0;j<R;j+=8)w(this,j,j+7),w(this,j+1,j+6),w(this,j+2,j+5),w(this,j+3,j+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?O(this,0,R):b.apply(this,arguments)},a.prototype.equals=function(R){if(a.isBuffer(R))return this===R||a.compare(this,R)===0;throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var j="",R=f.INSPECT_MAX_BYTES,j=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim();return this.length>R&&(j+=" ... "),"<Buffer "+j+">"},c&&(a.prototype[c]=a.prototype.inspect),a.prototype.compare=function(R,j,N,F,ie){if(oe(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(N===void 0&&(N=R?R.length:0),F===void 0&&(F=0),ie===void 0&&(ie=this.length),(j=j===void 0?0:j)<0||N>R.length||F<0||ie>this.length)throw new RangeError("out of range index");if(ie<=F&&N<=j)return 0;if(ie<=F)return-1;if(N<=j)return 1;if(this===R)return 0;for(var ae=(ie>>>=0)-(F>>>=0),Te=(N>>>=0)-(j>>>=0),ke=Math.min(ae,Te),Me=this.slice(F,ie),Se=R.slice(j,N),Xe=0;Xe<ke;++Xe)if(Me[Xe]!==Se[Xe]){ae=Me[Xe],Te=Se[Xe];break}return ae<Te?-1:Te<ae?1:0},a.prototype.includes=function(R,j,N){return this.indexOf(R,j,N)!==-1},a.prototype.indexOf=function(R,j,N){return x(this,R,j,N,!0)},a.prototype.lastIndexOf=function(R,j,N){return x(this,R,j,N,!1)},a.prototype.write=function(R,j,N,F){if(j===void 0)F="utf8",N=this.length,j=0;else if(N===void 0&&typeof j=="string")F=j,N=this.length,j=0;else{if(!isFinite(j))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");j>>>=0,isFinite(N)?(N>>>=0,F===void 0&&(F="utf8")):(F=N,N=void 0)}var ie=this.length-j;if((N===void 0||ie<N)&&(N=ie),0<R.length&&(N<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");F=F||"utf8";for(var ae,Te,ke,Me=!1;;)switch(F){case"hex":var Se=this,Xe=R,ve=j,Ce=N,Fe=(ve=Number(ve)||0,Se.length-ve);(!Ce||Fe<(Ce=Number(Ce)))&&(Ce=Fe),(Fe=Xe.length)/2<Ce&&(Ce=Fe/2);for(var ze=0;ze<Ce;++ze){var Ve=parseInt(Xe.substr(2*ze,2),16);if(ce(Ve))return ze;Se[ve+ze]=Ve}return ze;case"utf8":case"utf-8":return Fe=j,ke=N,te(Q(R,(Te=this).length-Fe),Te,Fe,ke);case"ascii":return E(this,R,j,N);case"latin1":case"binary":return E(this,R,j,N);case"base64":return Te=this,ke=j,ae=N,te(ue(R),Te,ke,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,R,j,N);default:if(Me)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),Me=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function D(R,j,N){if(R%1!=0||R<0)throw new RangeError("offset is not uint");if(N<R+j)throw new RangeError("Trying to access beyond buffer length")}function U(R,j,N,F,ie,ae){if(!a.isBuffer(R))throw new TypeError('"buffer" argument must be a Buffer instance');if(ie<j||j<ae)throw new RangeError('"value" argument is out of bounds');if(N+F>R.length)throw new RangeError("Index out of range")}function z(R,j,N,F){if(N+F>R.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function V(R,j,N,F,ie){return j=+j,N>>>=0,ie||z(R,0,N,4),s.write(R,j,N,F,23,4),N+4}function K(R,j,N,F,ie){return j=+j,N>>>=0,ie||z(R,0,N,8),s.write(R,j,N,F,52,8),N+8}a.prototype.slice=function(R,j){var N=this.length,N=((R=~~R)<0?(R+=N)<0&&(R=0):N<R&&(R=N),(j=j===void 0?N:~~j)<0?(j+=N)<0&&(j=0):N<j&&(j=N),j<R&&(j=R),this.subarray(R,j));return Object.setPrototypeOf(N,a.prototype),N},a.prototype.readUIntLE=function(R,j,N){R>>>=0,j>>>=0,N||D(R,j,this.length);for(var F=this[R],ie=1,ae=0;++ae<j&&(ie*=256);)F+=this[R+ae]*ie;return F},a.prototype.readUIntBE=function(R,j,N){R>>>=0,j>>>=0,N||D(R,j,this.length);for(var F=this[R+--j],ie=1;0<j&&(ie*=256);)F+=this[R+--j]*ie;return F},a.prototype.readUInt8=function(R,j){return R>>>=0,j||D(R,1,this.length),this[R]},a.prototype.readUInt16LE=function(R,j){return R>>>=0,j||D(R,2,this.length),this[R]|this[R+1]<<8},a.prototype.readUInt16BE=function(R,j){return R>>>=0,j||D(R,2,this.length),this[R]<<8|this[R+1]},a.prototype.readUInt32LE=function(R,j){return R>>>=0,j||D(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+16777216*this[R+3]},a.prototype.readUInt32BE=function(R,j){return R>>>=0,j||D(R,4,this.length),16777216*this[R]+(this[R+1]<<16|this[R+2]<<8|this[R+3])},a.prototype.readIntLE=function(R,j,N){R>>>=0,j>>>=0,N||D(R,j,this.length);for(var F=this[R],ie=1,ae=0;++ae<j&&(ie*=256);)F+=this[R+ae]*ie;return(ie*=128)<=F&&(F-=Math.pow(2,8*j)),F},a.prototype.readIntBE=function(R,j,N){R>>>=0,j>>>=0,N||D(R,j,this.length);for(var F=j,ie=1,ae=this[R+--F];0<F&&(ie*=256);)ae+=this[R+--F]*ie;return(ie*=128)<=ae&&(ae-=Math.pow(2,8*j)),ae},a.prototype.readInt8=function(R,j){return R>>>=0,j||D(R,1,this.length),128&this[R]?-1*(255-this[R]+1):this[R]},a.prototype.readInt16LE=function(R,j){return R>>>=0,j||D(R,2,this.length),j=this[R]|this[R+1]<<8,32768&j?4294901760|j:j},a.prototype.readInt16BE=function(R,j){return R>>>=0,j||D(R,2,this.length),j=this[R+1]|this[R]<<8,32768&j?4294901760|j:j},a.prototype.readInt32LE=function(R,j){return R>>>=0,j||D(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},a.prototype.readInt32BE=function(R,j){return R>>>=0,j||D(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},a.prototype.readFloatLE=function(R,j){return R>>>=0,j||D(R,4,this.length),s.read(this,R,!0,23,4)},a.prototype.readFloatBE=function(R,j){return R>>>=0,j||D(R,4,this.length),s.read(this,R,!1,23,4)},a.prototype.readDoubleLE=function(R,j){return R>>>=0,j||D(R,8,this.length),s.read(this,R,!0,52,8)},a.prototype.readDoubleBE=function(R,j){return R>>>=0,j||D(R,8,this.length),s.read(this,R,!1,52,8)},a.prototype.writeUIntLE=function(R,j,N,F){R=+R,j>>>=0,N>>>=0,F||U(this,R,j,N,Math.pow(2,8*N)-1,0);var ie=1,ae=0;for(this[j]=255&R;++ae<N&&(ie*=256);)this[j+ae]=R/ie&255;return j+N},a.prototype.writeUIntBE=function(R,j,N,F){R=+R,j>>>=0,N>>>=0,F||U(this,R,j,N,Math.pow(2,8*N)-1,0);var ie=N-1,ae=1;for(this[j+ie]=255&R;0<=--ie&&(ae*=256);)this[j+ie]=R/ae&255;return j+N},a.prototype.writeUInt8=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,1,255,0),this[j]=255&R,j+1},a.prototype.writeUInt16LE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,2,65535,0),this[j]=255&R,this[j+1]=R>>>8,j+2},a.prototype.writeUInt16BE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,2,65535,0),this[j]=R>>>8,this[j+1]=255&R,j+2},a.prototype.writeUInt32LE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,4,4294967295,0),this[j+3]=R>>>24,this[j+2]=R>>>16,this[j+1]=R>>>8,this[j]=255&R,j+4},a.prototype.writeUInt32BE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,4,4294967295,0),this[j]=R>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=255&R,j+4},a.prototype.writeIntLE=function(R,j,N,F){R=+R,j>>>=0,F||U(this,R,j,N,(F=Math.pow(2,8*N-1))-1,-F);var ie=0,ae=1,Te=0;for(this[j]=255&R;++ie<N&&(ae*=256);)R<0&&Te===0&&this[j+ie-1]!==0&&(Te=1),this[j+ie]=(R/ae>>0)-Te&255;return j+N},a.prototype.writeIntBE=function(R,j,N,F){R=+R,j>>>=0,F||U(this,R,j,N,(F=Math.pow(2,8*N-1))-1,-F);var ie=N-1,ae=1,Te=0;for(this[j+ie]=255&R;0<=--ie&&(ae*=256);)R<0&&Te===0&&this[j+ie+1]!==0&&(Te=1),this[j+ie]=(R/ae>>0)-Te&255;return j+N},a.prototype.writeInt8=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,1,127,-128),this[j]=255&(R=R<0?255+R+1:R),j+1},a.prototype.writeInt16LE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,2,32767,-32768),this[j]=255&R,this[j+1]=R>>>8,j+2},a.prototype.writeInt16BE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,2,32767,-32768),this[j]=R>>>8,this[j+1]=255&R,j+2},a.prototype.writeInt32LE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,4,2147483647,-2147483648),this[j]=255&R,this[j+1]=R>>>8,this[j+2]=R>>>16,this[j+3]=R>>>24,j+4},a.prototype.writeInt32BE=function(R,j,N){return R=+R,j>>>=0,N||U(this,R,j,4,2147483647,-2147483648),this[j]=(R=R<0?4294967295+R+1:R)>>>24,this[j+1]=R>>>16,this[j+2]=R>>>8,this[j+3]=255&R,j+4},a.prototype.writeFloatLE=function(R,j,N){return V(this,R,j,!0,N)},a.prototype.writeFloatBE=function(R,j,N){return V(this,R,j,!1,N)},a.prototype.writeDoubleLE=function(R,j,N){return K(this,R,j,!0,N)},a.prototype.writeDoubleBE=function(R,j,N){return K(this,R,j,!1,N)},a.prototype.copy=function(R,j,N,F){if(!a.isBuffer(R))throw new TypeError("argument should be a Buffer");if(N=N||0,F||F===0||(F=this.length),j>=R.length&&(j=R.length),(F=0<F&&F<N?N:F)===N||R.length===0||this.length===0)return 0;if((j=j||0)<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length);var ie=(F=R.length-j<F-N?R.length-j+N:F)-N;if(this===R&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(j,N,F);else if(this===R&&N<j&&j<F)for(var ae=ie-1;0<=ae;--ae)R[ae+j]=this[ae+N];else Uint8Array.prototype.set.call(R,this.subarray(N,F),j);return ie},a.prototype.fill=function(R,j,N,F){if(typeof R=="string"){if(typeof j=="string"?(F=j,j=0,N=this.length):typeof N=="string"&&(F=N,N=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);var ie;R.length===1&&(ie=R.charCodeAt(0),(F==="utf8"&&ie<128||F==="latin1")&&(R=ie))}else typeof R=="number"?R&=255:typeof R=="boolean"&&(R=Number(R));if(j<0||this.length<j||this.length<N)throw new RangeError("Out of range index");var ae;if(!(N<=j))if(j>>>=0,N=N===void 0?this.length:N>>>0,typeof(R=R||0)=="number")for(ae=j;ae<N;++ae)this[ae]=R;else{var Te=a.isBuffer(R)?R:a.from(R,F),ke=Te.length;if(ke===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ae=0;ae<N-j;++ae)this[ae+j]=Te[ae%ke]}return this};var re=/[^+/0-9A-Za-z-_]/g;function Q(R,j){j=j||1/0;for(var N,F=R.length,ie=null,ae=[],Te=0;Te<F;++Te){if(55295<(N=R.charCodeAt(Te))&&N<57344){if(!ie){if(56319<N){-1<(j-=3)&&ae.push(239,191,189);continue}if(Te+1===F){-1<(j-=3)&&ae.push(239,191,189);continue}ie=N;continue}if(N<56320){-1<(j-=3)&&ae.push(239,191,189),ie=N;continue}N=65536+(ie-55296<<10|N-56320)}else ie&&-1<(j-=3)&&ae.push(239,191,189);if(ie=null,N<128){if(--j<0)break;ae.push(N)}else if(N<2048){if((j-=2)<0)break;ae.push(N>>6|192,63&N|128)}else if(N<65536){if((j-=3)<0)break;ae.push(N>>12|224,N>>6&63|128,63&N|128)}else{if(!(N<1114112))throw new Error("Invalid code point");if((j-=4)<0)break;ae.push(N>>18|240,N>>12&63|128,N>>6&63|128,63&N|128)}}return ae}function ue(R){return o.toByteArray(function(j){if((j=(j=j.split("=")[0]).trim().replace(re,"")).length<2)return"";for(;j.length%4!=0;)j+="=";return j}(R))}function te(R,j,N,F){for(var ie=0;ie<F&&!(ie+N>=j.length||ie>=R.length);++ie)j[ie+N]=R[ie];return ie}function oe(R,j){return R instanceof j||R!=null&&R.constructor!=null&&R.constructor.name!=null&&R.constructor.name===j.name}function ce(R){return R!=R}var ne=function(){for(var R="0123456789abcdef",j=new Array(256),N=0;N<16;++N)for(var F=16*N,ie=0;ie<16;++ie)j[F+ie]=R[N]+R[ie];return j}()}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:238}],5:[function(e,d,f){d.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},{}],6:[function(e,d,f){var l=e("../internals/is-object");d.exports=function(o){if(l(o)||o===null)return o;throw TypeError("Can't set "+String(o)+" as a prototype")}},{"../internals/is-object":74}],7:[function(s,d,f){var l=s("../internals/well-known-symbol"),o=s("../internals/object-create"),s=s("../internals/object-define-property"),c=l("unscopables"),m=Array.prototype;m[c]==null&&s.f(m,c,{configurable:!0,value:o(null)}),d.exports=function(y){m[c][y]=!0}},{"../internals/object-create":90,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],8:[function(e,d,f){var l=e("../internals/string-multibyte").charAt;d.exports=function(o,s,c){return s+(c?l(o,s).length:1)}},{"../internals/string-multibyte":123}],9:[function(e,d,f){d.exports=function(l,o,s){if(l instanceof o)return l;throw TypeError("Incorrect "+(s?s+" ":"")+"invocation")}},{}],10:[function(e,d,f){var l=e("../internals/is-object");d.exports=function(o){if(l(o))return o;throw TypeError(String(o)+" is not an object")}},{"../internals/is-object":74}],11:[function(e,d,f){d.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(z,d,f){function l(K){return y(K)&&a(V,u(K))}var o,s=z("../internals/array-buffer-native"),c=z("../internals/descriptors"),m=z("../internals/global"),y=z("../internals/is-object"),a=z("../internals/has"),u=z("../internals/classof"),i=z("../internals/create-non-enumerable-property"),h=z("../internals/redefine"),p=z("../internals/object-define-property").f,g=z("../internals/object-get-prototype-of"),v=z("../internals/object-set-prototype-of"),P=z("../internals/well-known-symbol"),z=z("../internals/uid"),b=m.Int8Array,w=b&&b.prototype,x=m.Uint8ClampedArray,x=x&&x.prototype,k=b&&g(b),E=w&&g(w),M=Object.prototype,O=M.isPrototypeOf,P=P("toStringTag"),D=z("TYPED_ARRAY_TAG"),U=s&&!!v&&u(m.opera)!=="Opera",z=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(o in V)m[o]||(U=!1);if((!U||typeof k!="function"||k===Function.prototype)&&(k=function(){throw TypeError("Incorrect invocation")},U))for(o in V)m[o]&&v(m[o],k);if((!U||!E||E===M)&&(E=k.prototype,U))for(o in V)m[o]&&v(m[o].prototype,E);if(U&&g(x)!==E&&v(x,E),c&&!a(E,P))for(o in z=!0,p(E,P,{get:function(){return y(this)?this[D]:void 0}}),V)m[o]&&i(m[o],D,o);d.exports={NATIVE_ARRAY_BUFFER_VIEWS:U,TYPED_ARRAY_TAG:z&&D,aTypedArray:function(K){if(l(K))return K;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(K){if(v){if(O.call(k,K))return K}else for(var re in V)if(a(V,o)&&(re=m[re],re&&(K===re||O.call(re,K))))return K;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(K,re,Q){if(c){if(Q)for(var ue in V)ue=m[ue],ue&&a(ue.prototype,K)&&delete ue.prototype[K];E[K]&&!Q||h(E,K,!Q&&U&&w[K]||re)}},exportTypedArrayStaticMethod:function(K,re,Q){var ue,te;if(c){if(v){if(Q)for(ue in V)(te=m[ue])&&a(te,K)&&delete te[K];if(k[K]&&!Q)return;try{return h(k,K,!Q&&U&&b[K]||re)}catch{}}for(ue in V)!(te=m[ue])||te[K]&&!Q||h(te,K,re)}},isView:function(K){return K=u(K),K==="DataView"||a(V,K)},isTypedArray:l,TypedArray:k,TypedArrayPrototype:E}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/uid":143,"../internals/well-known-symbol":146}],13:[function(N,d,f){function l(ve){return[255&ve]}function o(ve){return[255&ve,ve>>8&255]}function s(ve){return[255&ve,ve>>8&255,ve>>16&255,ve>>24&255]}function c(ve){return ve[3]<<24|ve[2]<<16|ve[1]<<8|ve[0]}function m(ve){return ae(ve,23,4)}function y(ve){return ae(ve,52,8)}function a(ve,Ce){z(ve[oe],Ce,{get:function(){return re(this)[Ce]}})}function u(se,Ce,ot,ze){if(ot=M(ot),se=re(se),ot+Ce>se.byteLength)throw ie(ce);var Ve=re(se.buffer).bytes,ot=ot+se.byteOffset,se=Ve.slice(ot,ot+Ce);return ze?se:se.reverse()}function i(ve,Ce,Fe,ze,Ve,ot){if(Fe=M(Fe),ve=re(ve),Fe+Ce>ve.byteLength)throw ie(ce);for(var se=re(ve.buffer).bytes,Ne=Fe+ve.byteOffset,Oe=ze(+Ve),We=0;We<Ce;We++)se[Ne+We]=Oe[ot?We:Ce-We-1]}var h=N("../internals/global"),p=N("../internals/descriptors"),g=N("../internals/array-buffer-native"),v=N("../internals/create-non-enumerable-property"),b=N("../internals/redefine-all"),w=N("../internals/fails"),x=N("../internals/an-instance"),k=N("../internals/to-integer"),E=N("../internals/to-length"),M=N("../internals/to-index"),O=N("../internals/ieee754"),P=N("../internals/object-get-prototype-of"),D=N("../internals/object-set-prototype-of"),U=N("../internals/object-get-own-property-names").f,z=N("../internals/object-define-property").f,V=N("../internals/array-fill"),K=N("../internals/set-to-string-tag"),N=N("../internals/internal-state"),re=N.get,Q=N.set,ue="ArrayBuffer",te="DataView",oe="prototype",ce="Wrong index",ne=h[ue],R=ne,j=h[te],N=j&&j[oe],F=Object.prototype,ie=h.RangeError,ae=O.pack,Te=O.unpack;if(g){if(!w(function(){ne(1)})||!w(function(){new ne(-1)})||w(function(){return new ne,new ne(1.5),new ne(NaN),ne.name!=ue})){for(var ke,h=(R=function(Fe){return x(this,R),new ne(M(Fe))})[oe]=ne[oe],Me=U(ne),Se=0;Me.length>Se;)(ke=Me[Se++])in R||v(R,ke,ne[ke]);h.constructor=R}D&&P(N)!==F&&D(N,F);var O=new j(new R(2)),Xe=N.setInt8;O.setInt8(0,2147483648),O.setInt8(1,2147483649),!O.getInt8(0)&&O.getInt8(1)||b(N,{setInt8:function(Ce,Fe){Xe.call(this,Ce,Fe<<24>>24)},setUint8:function(Ce,Fe){Xe.call(this,Ce,Fe<<24>>24)}},{unsafe:!0})}else R=function(ve){x(this,R,ue),ve=M(ve),Q(this,{bytes:V.call(new Array(ve),0),byteLength:ve}),p||(this.byteLength=ve)},j=function(ve,Ve,Fe){x(this,j,te),x(ve,R,te);var ze=re(ve).byteLength,Ve=k(Ve);if(Ve<0||ze<Ve)throw ie("Wrong offset");if(ze<Ve+(Fe=Fe===void 0?ze-Ve:E(Fe)))throw ie("Wrong length");Q(this,{buffer:ve,byteLength:Fe,byteOffset:Ve}),p||(this.buffer=ve,this.byteLength=Fe,this.byteOffset=Ve)},p&&(a(R,"byteLength"),a(j,"buffer"),a(j,"byteLength"),a(j,"byteOffset")),b(j[oe],{getInt8:function(ve){return u(this,1,ve)[0]<<24>>24},getUint8:function(ve){return u(this,1,ve)[0]},getInt16:function(ve){return ve=u(this,2,ve,1<arguments.length?arguments[1]:void 0),(ve[1]<<8|ve[0])<<16>>16},getUint16:function(ve){return ve=u(this,2,ve,1<arguments.length?arguments[1]:void 0),ve[1]<<8|ve[0]},getInt32:function(ve){return c(u(this,4,ve,1<arguments.length?arguments[1]:void 0))},getUint32:function(ve){return c(u(this,4,ve,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(ve){return Te(u(this,4,ve,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(ve){return Te(u(this,8,ve,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(ve,Ce){i(this,1,ve,l,Ce)},setUint8:function(ve,Ce){i(this,1,ve,l,Ce)},setInt16:function(ve,Ce){i(this,2,ve,o,Ce,2<arguments.length?arguments[2]:void 0)},setUint16:function(ve,Ce){i(this,2,ve,o,Ce,2<arguments.length?arguments[2]:void 0)},setInt32:function(ve,Ce){i(this,4,ve,s,Ce,2<arguments.length?arguments[2]:void 0)},setUint32:function(ve,Ce){i(this,4,ve,s,Ce,2<arguments.length?arguments[2]:void 0)},setFloat32:function(ve,Ce){i(this,4,ve,m,Ce,2<arguments.length?arguments[2]:void 0)},setFloat64:function(ve,Ce){i(this,8,ve,y,Ce,2<arguments.length?arguments[2]:void 0)}});K(R,ue),K(j,te),d.exports={ArrayBuffer:R,DataView:j}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/ieee754":65,"../internals/internal-state":70,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/to-index":131,"../internals/to-integer":133,"../internals/to-length":134}],14:[function(e,d,f){var l=e("../internals/to-object"),o=e("../internals/to-absolute-index"),s=e("../internals/to-length"),c=Math.min;d.exports=[].copyWithin||function(p,y){var a=l(this),u=s(a.length),i=o(p,u),h=o(y,u),p=2<arguments.length?arguments[2]:void 0,g=c((p===void 0?u:o(p,u))-h,u-i),v=1;for(h<i&&i<h+g&&(v=-1,h+=g-1,i+=g-1);0<g--;)h in a?a[i]=a[h]:delete a[i],i+=v,h+=v;return a}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],15:[function(e,d,f){var l=e("../internals/to-object"),o=e("../internals/to-absolute-index"),s=e("../internals/to-length");d.exports=function(c){for(var m=l(this),y=s(m.length),u=arguments.length,a=o(1<u?arguments[1]:void 0,y),u=2<u?arguments[2]:void 0,i=u===void 0?y:o(u,y);a<i;)m[a++]=c;return m}},{"../internals/to-absolute-index":130,"../internals/to-length":134,"../internals/to-object":135}],16:[function(s,d,f){var l=s("../internals/array-iteration").forEach,o=s("../internals/array-method-is-strict"),s=s("../internals/array-method-uses-to-length"),o=o("forEach"),s=s("forEach");d.exports=o&&s?[].forEach:function(c){return l(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(e,d,f){var l=e("../internals/function-bind-context"),o=e("../internals/to-object"),s=e("../internals/call-with-safe-iteration-closing"),c=e("../internals/is-array-iterator-method"),m=e("../internals/to-length"),y=e("../internals/create-property"),a=e("../internals/get-iterator-method");d.exports=function(x){var i,h,p,g,v,b,w=o(x),x=typeof this=="function"?this:Array,k=arguments.length,E=1<k?arguments[1]:void 0,M=E!==void 0,O=a(w),P=0;if(M&&(E=l(E,2<k?arguments[2]:void 0,2)),O==null||x==Array&&c(O))for(h=new x(i=m(w.length));P<i;P++)b=M?E(w[P],P):w[P],y(h,P,b);else for(v=(g=O.call(w)).next,h=new x;!(p=v.call(g)).done;P++)b=M?s(g,E,[p.value,P],!0):p.value,y(h,P,b);return h.length=P,h}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],18:[function(e,d,f){function l(m){return function(y,a,u){var i,h=o(y),p=s(h.length),g=c(u,p);if(m&&a!=a){for(;g<p;)if((i=h[g++])!=i)return!0}else for(;g<p;g++)if((m||g in h)&&h[g]===a)return m||g||0;return!m&&-1}}var o=e("../internals/to-indexed-object"),s=e("../internals/to-length"),c=e("../internals/to-absolute-index");d.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134}],19:[function(e,d,f){function l(u){var i=u==1,h=u==2,p=u==3,g=u==4,v=u==6,b=u==5||v;return function(w,x,k,E){for(var M,O,P=c(w),D=s(P),U=o(x,k,3),z=m(D.length),V=0,x=E||y,K=i?x(w,z):h?x(w,0):void 0;V<z;V++)if((b||V in D)&&(O=U(M=D[V],V,P),u)){if(i)K[V]=O;else if(O)switch(u){case 3:return!0;case 5:return M;case 6:return V;case 2:a.call(K,M)}else if(g)return!1}return v?-1:p||g?g:K}}var o=e("../internals/function-bind-context"),s=e("../internals/indexed-object"),c=e("../internals/to-object"),m=e("../internals/to-length"),y=e("../internals/array-species-create"),a=[].push;d.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":54,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],20:[function(u,d,f){var l=u("../internals/to-indexed-object"),o=u("../internals/to-integer"),s=u("../internals/to-length"),a=u("../internals/array-method-is-strict"),u=u("../internals/array-method-uses-to-length"),c=Math.min,m=[].lastIndexOf,y=!!m&&1/[1].lastIndexOf(1,-0)<0,a=a("lastIndexOf"),u=u("indexOf",{ACCESSORS:!0,1:0});d.exports=y||!a||!u?function(i){if(y)return m.apply(this,arguments)||0;var h=l(this),p=s(h.length),g=p-1;for((g=1<arguments.length?c(g,o(arguments[1])):g)<0&&(g=p+g);0<=g;g--)if(g in h&&h[g]===i)return g||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":132,"../internals/to-integer":133,"../internals/to-length":134}],21:[function(e,d,f){var l=e("../internals/fails"),o=e("../internals/well-known-symbol"),s=e("../internals/engine-v8-version"),c=o("species");d.exports=function(m){return 51<=s||!l(function(){var y=[];return(y.constructor={})[c]=function(){return{foo:1}},y[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":146}],22:[function(e,d,f){var l=e("../internals/fails");d.exports=function(o,s){var c=[][o];return!!c&&l(function(){c.call(null,s||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(e,d,f){function l(a){throw a}var o=e("../internals/descriptors"),s=e("../internals/fails"),c=e("../internals/has"),m=Object.defineProperty,y={};d.exports=function(a,u){var i,h,p,g;return c(y,a)?y[a]:(i=[][a],h=!!c(u=u||{},"ACCESSORS")&&u.ACCESSORS,p=c(u,0)?u[0]:l,g=c(u,1)?u[1]:void 0,y[a]=!!i&&!s(function(){if(h&&!o)return!0;var v={length:-1};h?m(v,1,{enumerable:!0,get:l}):v[1]=1,i.call(v,p,g)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":60}],24:[function(e,d,f){function l(y){return function(a,u,i,h){o(u);var p=s(a),g=c(p),v=m(p.length),b=y?v-1:0,w=y?-1:1;if(i<2)for(;;){if(b in g){h=g[b],b+=w;break}if(b+=w,y?b<0:v<=b)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=b:b<v;b+=w)b in g&&(h=u(h,g[b],b,p));return h}}var o=e("../internals/a-function"),s=e("../internals/to-object"),c=e("../internals/indexed-object"),m=e("../internals/to-length");d.exports={left:l(!1),right:l(!0)}},{"../internals/a-function":5,"../internals/indexed-object":66,"../internals/to-length":134,"../internals/to-object":135}],25:[function(e,d,f){var l=e("../internals/is-object"),o=e("../internals/is-array"),s=e("../internals/well-known-symbol")("species");d.exports=function(c,m){var y;return new((y=o(c)&&(typeof(y=c.constructor)=="function"&&(y===Array||o(y.prototype))||l(y)&&(y=y[s])===null)?void 0:y)===void 0?Array:y)(m===0?0:m)}},{"../internals/is-array":72,"../internals/is-object":74,"../internals/well-known-symbol":146}],26:[function(e,d,f){var l=e("../internals/an-object");d.exports=function(o,s,c,m){try{return m?s(l(c)[0],c[1]):s(c)}catch(y){throw m=o.return,m!==void 0&&l(m.call(o)),y}}},{"../internals/an-object":10}],27:[function(e,d,f){var l=e("../internals/well-known-symbol")("iterator"),o=!1;try{var s=0,c={next:function(){return{done:!!s++}},return:function(){o=!0}};c[l]=function(){return this},Array.from(c,function(){throw 2})}catch{}d.exports=function(m,y){if(!y&&!o)return!1;var a=!1;try{var u={};u[l]=function(){return{next:function(){return{done:a=!0}}}},m(u)}catch{}return a}},{"../internals/well-known-symbol":146}],28:[function(e,d,f){var l={}.toString;d.exports=function(o){return l.call(o).slice(8,-1)}},{}],29:[function(e,d,f){var l=e("../internals/to-string-tag-support"),o=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("toStringTag"),c=o(function(){return arguments}())=="Arguments";d.exports=l?o:function(m){var y;return m===void 0?"Undefined":m===null?"Null":typeof(y=function(a,u){try{return a[u]}catch{}}(m=Object(m),s))=="string"?y:c?o(m):(y=o(m))=="Object"&&typeof m.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":139,"../internals/well-known-symbol":146}],30:[function(p,d,f){var l=p("../internals/object-define-property").f,o=p("../internals/object-create"),s=p("../internals/redefine-all"),c=p("../internals/function-bind-context"),m=p("../internals/an-instance"),y=p("../internals/iterate"),a=p("../internals/define-iterator"),u=p("../internals/set-species"),i=p("../internals/descriptors"),h=p("../internals/internal-metadata").fastKey,p=p("../internals/internal-state"),g=p.set,v=p.getterFor;d.exports={getConstructor:function(b,w,x,k){function E(D,U,z){var V,K=P(D),re=M(D,U);return re?re.value=z:(K.last=re={index:V=h(U,!0),key:U,value:z,previous:U=K.last,next:void 0,removed:!1},K.first||(K.first=re),U&&(U.next=re),i?K.size++:D.size++,V!=="F"&&(K.index[V]=re)),D}function M(V,U){var z,V=P(V),K=h(U);if(K!=="F")return V.index[K];for(z=V.first;z;z=z.next)if(z.key==U)return z}var O=b(function(D,U){m(D,O,w),g(D,{type:w,index:o(null),first:void 0,last:void 0,size:0}),i||(D.size=0),U!=null&&y(U,D[k],D,x)}),P=v(w);return s(O.prototype,{clear:function(){for(var D=P(this),U=D.index,z=D.first;z;)z.removed=!0,z.previous&&(z.previous=z.previous.next=void 0),delete U[z.index],z=z.next;D.first=D.last=void 0,i?D.size=0:this.size=0},delete:function(K){var U,z,V=P(this),K=M(this,K);return K&&(U=K.next,z=K.previous,delete V.index[K.index],K.removed=!0,z&&(z.next=U),U&&(U.previous=z),V.first==K&&(V.first=U),V.last==K&&(V.last=z),i?V.size--:this.size--),!!K},forEach:function(D){for(var U,z=P(this),V=c(D,1<arguments.length?arguments[1]:void 0,3);U=U?U.next:z.first;)for(V(U.value,U.key,this);U&&U.removed;)U=U.previous},has:function(D){return!!M(this,D)}}),s(O.prototype,x?{get:function(D){return D=M(this,D),D&&D.value},set:function(D,U){return E(this,D===0?0:D,U)}}:{add:function(D){return E(this,D=D===0?0:D,D)}}),i&&l(O.prototype,"size",{get:function(){return P(this).size}}),O},setStrong:function(b,w,x){var k=w+" Iterator",E=v(w),M=v(k);a(b,w,function(O,P){g(this,{type:k,target:O,state:E(O),kind:P,last:void 0})},function(){for(var O=M(this),P=O.kind,D=O.last;D&&D.removed;)D=D.previous;return O.target&&(O.last=D=D?D.next:O.state.first)?P=="keys"?{value:D.key,done:!1}:P=="values"?{value:D.value,done:!1}:{value:[D.key,D.value],done:!1}:{value:O.target=void 0,done:!0}},x?"entries":"values",!x,!0),u(w)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":54,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/iterate":77,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/redefine-all":107,"../internals/set-species":116}],31:[function(g,d,f){function l(E){return E.frozen||(E.frozen=new o)}function o(){this.entries=[]}function s(E,M){return w(E.entries,function(O){return O[0]===M})}var c=g("../internals/redefine-all"),m=g("../internals/internal-metadata").getWeakData,y=g("../internals/an-object"),a=g("../internals/is-object"),u=g("../internals/an-instance"),i=g("../internals/iterate"),h=g("../internals/array-iteration"),p=g("../internals/has"),g=g("../internals/internal-state"),v=g.set,b=g.getterFor,w=h.find,x=h.findIndex,k=0;o.prototype={get:function(E){if(E=s(this,E),E)return E[1]},has:function(E){return!!s(this,E)},set:function(E,M){var O=s(this,E);O?O[1]=M:this.entries.push([E,M])},delete:function(E){var M=x(this.entries,function(O){return O[0]===E});return~M&&this.entries.splice(M,1),!!~M}},d.exports={getConstructor:function(E,M,O,P){function D(V,K,re){var Q=z(V),ue=m(y(K),!0);return ue===!0?l(Q).set(K,re):ue[Q.id]=re,V}var U=E(function(V,K){u(V,U,M),v(V,{type:M,id:k++,frozen:void 0}),K!=null&&i(K,V[P],V,O)}),z=b(M);return c(U.prototype,{delete:function(V){var K,re=z(this);return!!a(V)&&((K=m(V))===!0?l(re).delete(V):K&&p(K,re.id)&&delete K[re.id])},has:function(V){var K,re=z(this);return!!a(V)&&((K=m(V))===!0?l(re).has(V):K&&p(K,re.id))}}),c(U.prototype,O?{get:function(V){var K,re=z(this);if(a(V))return(K=m(V))===!0?l(re).get(V):K?K[re.id]:void 0},set:function(V,K){return D(this,V,K)}}:{add:function(V){return D(this,V,!0)}}),U}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":60,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine-all":107}],32:[function(e,d,f){var l=e("../internals/export"),o=e("../internals/global"),s=e("../internals/is-forced"),c=e("../internals/redefine"),m=e("../internals/internal-metadata"),y=e("../internals/iterate"),a=e("../internals/an-instance"),u=e("../internals/is-object"),i=e("../internals/fails"),h=e("../internals/check-correctness-of-iteration"),p=e("../internals/set-to-string-tag"),g=e("../internals/inherit-if-required");d.exports=function(v,b,w){function x(ue){var te=K[ue];c(K,ue,ue=="add"?function(oe){return te.call(this,oe===0?0:oe),this}:ue=="delete"?function(oe){return!(U&&!u(oe))&&te.call(this,oe===0?0:oe)}:ue=="get"?function(oe){return U&&!u(oe)?void 0:te.call(this,oe===0?0:oe)}:ue=="has"?function(oe){return!(U&&!u(oe))&&te.call(this,oe===0?0:oe)}:function(oe,ce){return te.call(this,oe===0?0:oe,ce),this})}var k,E,M,O,P,D=v.indexOf("Map")!==-1,U=v.indexOf("Weak")!==-1,z=D?"set":"add",V=o[v],K=V&&V.prototype,re=V,Q={};return s(v,typeof V!="function"||!(U||K.forEach&&!i(function(){new V().entries().next()})))?(re=w.getConstructor(b,v,D,z),m.REQUIRED=!0):s(v,!0)&&(E=(k=new re)[z](U?{}:-0,1)!=k,M=i(function(){k.has(1)}),O=h(function(ue){new V(ue)}),P=!U&&i(function(){for(var ue=new V,te=5;te--;)ue[z](te,te);return!ue.has(-0)}),O||(((re=b(function(ue,te){return a(ue,re,v),ue=g(new V,ue,re),te!=null&&y(te,ue[z],ue,D),ue})).prototype=K).constructor=re),(M||P)&&(x("delete"),x("has"),D&&x("get")),(P||E)&&x(z),U&&K.clear&&delete K.clear),Q[v]=re,l({global:!0,forced:re!=V},Q),p(re,v),U||w.setStrong(re,v,D),re}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-metadata":69,"../internals/is-forced":73,"../internals/is-object":74,"../internals/iterate":77,"../internals/redefine":108,"../internals/set-to-string-tag":117}],33:[function(e,d,f){var l=e("../internals/has"),o=e("../internals/own-keys"),s=e("../internals/object-get-own-property-descriptor"),c=e("../internals/object-define-property");d.exports=function(m,y){for(var a=o(y),u=c.f,i=s.f,h=0;h<a.length;h++){var p=a[h];l(m,p)||u(m,p,i(y,p))}}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/own-keys":103}],34:[function(e,d,f){var l=e("../internals/well-known-symbol")("match");d.exports=function(o){var s=/./;try{"/./"[o](s)}catch{try{return s[l]=!1,"/./"[o](s)}catch{}}return!1}},{"../internals/well-known-symbol":146}],35:[function(e,d,f){e=e("../internals/fails"),d.exports=!e(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},{"../internals/fails":51}],36:[function(e,d,f){var l=e("../internals/require-object-coercible"),o=/"/g;d.exports=function(a,c,m,y){var a=String(l(a)),u="<"+c;return m!==""&&(u+=" "+m+'="'+String(y).replace(o,"&quot;")+'"'),u+">"+a+"</"+c+">"}},{"../internals/require-object-coercible":113}],37:[function(e,d,f){function l(){return this}var o=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),c=e("../internals/create-property-descriptor"),m=e("../internals/set-to-string-tag"),y=e("../internals/iterators");d.exports=function(a,u,i){return u+=" Iterator",a.prototype=s(o,{next:c(1,i)}),m(a,u,!1,!0),y[u]=l,a}},{"../internals/create-property-descriptor":39,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-create":90,"../internals/set-to-string-tag":117}],38:[function(e,d,f){var l=e("../internals/descriptors"),o=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");d.exports=l?function(c,m,y){return o.f(c,m,s(1,y))}:function(c,m,y){return c[m]=y,c}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":92}],39:[function(e,d,f){d.exports=function(l,o){return{enumerable:!(1&l),configurable:!(2&l),writable:!(4&l),value:o}}},{}],40:[function(e,d,f){var l=e("../internals/to-primitive"),o=e("../internals/object-define-property"),s=e("../internals/create-property-descriptor");d.exports=function(c,m,y){m=l(m),m in c?o.f(c,m,s(0,y)):c[m]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":92,"../internals/to-primitive":138}],41:[function(g,d,f){function l(){return this}var o=g("../internals/export"),s=g("../internals/create-iterator-constructor"),c=g("../internals/object-get-prototype-of"),m=g("../internals/object-set-prototype-of"),y=g("../internals/set-to-string-tag"),a=g("../internals/create-non-enumerable-property"),u=g("../internals/redefine"),i=g("../internals/well-known-symbol"),h=g("../internals/is-pure"),p=g("../internals/iterators"),g=g("../internals/iterators-core"),v=g.IteratorPrototype,b=g.BUGGY_SAFARI_ITERATORS,w=i("iterator"),x="values",k="entries";d.exports=function(E,M,O,Q,D,U,z){s(O,M,Q);function V(R){if(R===D&&ce)return ce;if(!b&&R in te)return te[R];switch(R){case"keys":case x:case k:return function(){return new O(this,R)}}return function(){return new O(this)}}var K,re,Q=M+" Iterator",ue=!1,te=E.prototype,oe=te[w]||te["@@iterator"]||D&&te[D],ce=!b&&oe||V(D),ne=M=="Array"&&te.entries||oe;if(ne&&(ne=c(ne.call(new E)),v!==Object.prototype&&ne.next&&(h||c(ne)===v||(m?m(ne,v):typeof ne[w]!="function"&&a(ne,w,l)),y(ne,Q,!0,!0),h&&(p[Q]=l))),D==x&&oe&&oe.name!==x&&(ue=!0,ce=function(){return oe.call(this)}),h&&!z||te[w]===ce||a(te,w,ce),p[M]=ce,D)if(K={values:V(x),keys:U?ce:V("keys"),entries:V(k)},z)for(re in K)!b&&!ue&&re in te||u(te,re,K[re]);else o({target:M,proto:!0,forced:b||ue},K);return K}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":75,"../internals/iterators":79,"../internals/iterators-core":78,"../internals/object-get-prototype-of":97,"../internals/object-set-prototype-of":101,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146}],42:[function(e,d,f){var l=e("../internals/path"),o=e("../internals/has"),s=e("../internals/well-known-symbol-wrapped"),c=e("../internals/object-define-property").f;d.exports=function(m){var y=l.Symbol||(l.Symbol={});o(y,m)||c(y,m,{value:s.f(m)})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/path":104,"../internals/well-known-symbol-wrapped":145}],43:[function(e,d,f){e=e("../internals/fails"),d.exports=!e(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(o,d,f){var l=o("../internals/global"),o=o("../internals/is-object"),s=l.document,c=o(s)&&o(s.createElement);d.exports=function(m){return c?s.createElement(m):{}}},{"../internals/global":59,"../internals/is-object":74}],45:[function(e,d,f){d.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(e,d,f){e=e("../internals/engine-user-agent"),d.exports=/(iphone|ipod|ipad).*applewebkit/i.test(e)},{"../internals/engine-user-agent":47}],47:[function(e,d,f){e=e("../internals/get-built-in"),d.exports=e("navigator","userAgent")||""},{"../internals/get-built-in":56}],48:[function(s,d,f){var l,o,c=s("../internals/global"),s=s("../internals/engine-user-agent"),c=c.process,c=c&&c.versions,c=c&&c.v8;c?o=(l=c.split("."))[0]+l[1]:s&&(!(l=s.match(/Edge\/(\d+)/))||74<=l[1])&&(l=s.match(/Chrome\/(\d+)/))&&(o=l[1]),d.exports=o&&+o},{"../internals/engine-user-agent":47,"../internals/global":59}],49:[function(e,d,f){d.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(e,d,f){var l=e("../internals/global"),o=e("../internals/object-get-own-property-descriptor").f,s=e("../internals/create-non-enumerable-property"),c=e("../internals/redefine"),m=e("../internals/set-global"),y=e("../internals/copy-constructor-properties"),a=e("../internals/is-forced");d.exports=function(u,i){var h,p,g,v=u.target,b=u.global,w=u.stat,x=b?l:w?l[v]||m(v,{}):(l[v]||{}).prototype;if(x)for(h in i){if(p=i[h],g=u.noTargetGet?(g=o(x,h))&&g.value:x[h],!a(b?h:v+(w?".":"#")+h,u.forced)&&g!==void 0){if(typeof p==typeof g)continue;y(p,g)}(u.sham||g&&g.sham)&&s(p,"sham",!0),c(x,h,p,u)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/is-forced":73,"../internals/object-get-own-property-descriptor":93,"../internals/redefine":108,"../internals/set-global":115}],51:[function(e,d,f){d.exports=function(l){try{return!!l()}catch{return!0}}},{}],52:[function(i,d,f){i("../modules/es.regexp.exec");var l=i("../internals/redefine"),o=i("../internals/fails"),s=i("../internals/well-known-symbol"),c=i("../internals/regexp-exec"),m=i("../internals/create-non-enumerable-property"),y=s("species"),a=!o(function(){var g=/./;return g.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(g,"$<a>")!=="7"}),u="a".replace(/./,"$0")==="$0",i=s("replace"),h=!!/./[i]&&/./[i]("a","$0")==="",p=!o(function(){var v=/(?:)/,g=v.exec,v=(v.exec=function(){return g.apply(this,arguments)},"ab".split(v));return v.length!==2||v[0]!=="a"||v[1]!=="b"});d.exports=function(g,v,b,w){var x,k,E=s(g),M=!o(function(){var P={};return P[E]=function(){return 7},""[g](P)!=7}),O=M&&!o(function(){var P=!1,D=/a/;return g==="split"&&((D={constructor:{}}).constructor[y]=function(){return D},D.flags="",D[E]=/./[E]),D.exec=function(){return P=!0,null},D[E](""),!P});M&&O&&(g!=="replace"||a&&u&&!h)&&(g!=="split"||p)||(x=/./[E],b=(O=b(E,""[g],function(P,D,U,z,V){return D.exec===c?M&&!V?{done:!0,value:x.call(D,U,z)}:{done:!0,value:P.call(U,D,z)}:{done:!1}},{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:h}))[0],k=O[1],l(String.prototype,g,b),l(RegExp.prototype,E,v==2?function(P,D){return k.call(P,this,D)}:function(P){return k.call(P,this)})),w&&m(RegExp.prototype[E],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-exec":110,"../internals/well-known-symbol":146,"../modules/es.regexp.exec":181}],53:[function(e,d,f){e=e("../internals/fails"),d.exports=!e(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],54:[function(e,d,f){var l=e("../internals/a-function");d.exports=function(o,s,c){if(l(o),s===void 0)return o;switch(c){case 0:return function(){return o.call(s)};case 1:return function(m){return o.call(s,m)};case 2:return function(m,y){return o.call(s,m,y)};case 3:return function(m,y,a){return o.call(s,m,y,a)}}return function(){return o.apply(s,arguments)}}},{"../internals/a-function":5}],55:[function(e,d,f){var l=e("../internals/a-function"),o=e("../internals/is-object"),s=[].slice,c={};d.exports=Function.bind||function(m){var y=l(this),a=s.call(arguments,1),u=function(){var i=a.concat(s.call(arguments));if(this instanceof u){var h=y,p=i.length,g=i;if(!(p in c)){for(var v=[],b=0;b<p;b++)v[b]="a["+b+"]";c[p]=Function("C,a","return new C("+v.join(",")+")")}return c[p](h,g)}return y.apply(m,i)};return o(y.prototype)&&(u.prototype=y.prototype),u}},{"../internals/a-function":5,"../internals/is-object":74}],56:[function(e,d,f){function l(c){return typeof c=="function"?c:void 0}var o=e("../internals/path"),s=e("../internals/global");d.exports=function(c,m){return arguments.length<2?l(o[c])||l(s[c]):o[c]&&o[c][m]||s[c]&&s[c][m]}},{"../internals/global":59,"../internals/path":104}],57:[function(e,d,f){var l=e("../internals/classof"),o=e("../internals/iterators"),s=e("../internals/well-known-symbol")("iterator");d.exports=function(c){if(c!=null)return c[s]||c["@@iterator"]||o[l(c)]}},{"../internals/classof":29,"../internals/iterators":79,"../internals/well-known-symbol":146}],58:[function(e,d,f){var l=e("../internals/an-object"),o=e("../internals/get-iterator-method");d.exports=function(s){var c=o(s);if(typeof c!="function")throw TypeError(String(s)+" is not iterable");return l(c.call(s))}},{"../internals/an-object":10,"../internals/get-iterator-method":57}],59:[function(e,d,f){(function(l){function o(s){return s&&s.Math==Math&&s}d.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof l=="object"&&l)||Function("return this")()}).call(this,typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{}],60:[function(e,d,f){var l={}.hasOwnProperty;d.exports=function(o,s){return l.call(o,s)}},{}],61:[function(e,d,f){d.exports={}},{}],62:[function(e,d,f){var l=e("../internals/global");d.exports=function(o,s){var c=l.console;c&&c.error&&(arguments.length===1?c.error(o):c.error(o,s))}},{"../internals/global":59}],63:[function(e,d,f){e=e("../internals/get-built-in"),d.exports=e("document","documentElement")},{"../internals/get-built-in":56}],64:[function(e,d,f){var l=e("../internals/descriptors"),o=e("../internals/fails"),s=e("../internals/document-create-element");d.exports=!l&&!o(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],65:[function(e,d,f){var l=Math.abs,o=Math.pow,s=Math.floor,c=Math.log,m=Math.LN2;d.exports={pack:function(y,a,b){var i,h,p,g=new Array(b),v=8*b-a-1,b=(1<<v)-1,w=b>>1,x=a===23?o(2,-24)-o(2,-77):0,k=y<0||y===0&&1/y<0?1:0,E=0;for((y=l(y))!=y||y===1/0?(h=y!=y?1:0,i=b):(i=s(c(y)/m),y*(p=o(2,-i))<1&&(i--,p*=2),2<=(y+=1<=i+w?x/p:x*o(2,1-w))*p&&(i++,p/=2),b<=i+w?(h=0,i=b):1<=i+w?(h=(y*p-1)*o(2,a),i+=w):(h=y*o(2,w-1)*o(2,a),i=0));8<=a;g[E++]=255&h,h/=256,a-=8);for(i=i<<a|h,v+=a;0<v;g[E++]=255&i,i/=256,v-=8);return g[--E]|=128*k,g},unpack:function(y,a){var u,i=y.length,b=8*i-a-1,h=(1<<b)-1,p=h>>1,g=b-7,v=i-1,b=y[v--],w=127&b;for(b>>=7;0<g;w=256*w+y[v],v--,g-=8);for(u=w&(1<<-g)-1,w>>=-g,g+=a;0<g;u=256*u+y[v],v--,g-=8);if(w===0)w=1-p;else{if(w===h)return u?NaN:b?-1/0:1/0;u+=o(2,a),w-=p}return(b?-1:1)*u*o(2,w-a)}}},{}],66:[function(e,d,f){var l=e("../internals/fails"),o=e("../internals/classof-raw"),s="".split;d.exports=l(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return o(c)=="String"?s.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],67:[function(e,d,f){var l=e("../internals/is-object"),o=e("../internals/object-set-prototype-of");d.exports=function(s,c,m){return o&&typeof(c=c.constructor)=="function"&&c!==m&&l(c=c.prototype)&&c!==m.prototype&&o(s,c),s}},{"../internals/is-object":74,"../internals/object-set-prototype-of":101}],68:[function(l,d,f){var l=l("../internals/shared-store"),o=Function.toString;typeof l.inspectSource!="function"&&(l.inspectSource=function(s){return o.call(s)}),d.exports=l.inspectSource},{"../internals/shared-store":119}],69:[function(e,d,f){function l(g){m(g,u,{value:{objectID:"O"+ ++i,weakData:{}}})}var o=e("../internals/hidden-keys"),s=e("../internals/is-object"),c=e("../internals/has"),m=e("../internals/object-define-property").f,y=e("../internals/uid"),a=e("../internals/freezing"),u=y("meta"),i=0,h=Object.isExtensible||function(){return!0},p=d.exports={REQUIRED:!1,fastKey:function(g,v){if(!s(g))return typeof g=="symbol"?g:(typeof g=="string"?"S":"P")+g;if(!c(g,u)){if(!h(g))return"F";if(!v)return"E";l(g)}return g[u].objectID},getWeakData:function(g,v){if(!c(g,u)){if(!h(g))return!0;if(!v)return!1;l(g)}return g[u].weakData},onFreeze:function(g){return a&&p.REQUIRED&&h(g)&&!c(g,u)&&l(g),g}};o[u]=!0},{"../internals/freezing":53,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/object-define-property":92,"../internals/uid":143}],70:[function(b,d,f){var l,o,s,c,m,y,a,u,i=b("../internals/native-weak-map"),w=b("../internals/global"),h=b("../internals/is-object"),p=b("../internals/create-non-enumerable-property"),g=b("../internals/has"),v=b("../internals/shared-key"),b=b("../internals/hidden-keys"),w=w.WeakMap;a=i?(l=new w,o=l.get,s=l.has,c=l.set,m=function(x,k){return c.call(l,x,k),k},y=function(x){return o.call(l,x)||{}},function(x){return s.call(l,x)}):(b[u=v("state")]=!0,m=function(x,k){return p(x,u,k),k},y=function(x){return g(x,u)?x[u]:{}},function(x){return g(x,u)}),d.exports={set:m,get:y,has:a,enforce:function(x){return a(x)?y(x):m(x,{})},getterFor:function(x){return function(k){if(h(k)&&(k=y(k)).type===x)return k;throw TypeError("Incompatible receiver, "+x+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/shared-key":118}],71:[function(e,d,f){var l=e("../internals/well-known-symbol"),o=e("../internals/iterators"),s=l("iterator"),c=Array.prototype;d.exports=function(m){return m!==void 0&&(o.Array===m||c[s]===m)}},{"../internals/iterators":79,"../internals/well-known-symbol":146}],72:[function(e,d,f){var l=e("../internals/classof-raw");d.exports=Array.isArray||function(o){return l(o)=="Array"}},{"../internals/classof-raw":28}],73:[function(e,d,f){function l(u,i){return(u=m[c(u)])==a||u!=y&&(typeof i=="function"?o(i):!!i)}var o=e("../internals/fails"),s=/#|\.prototype\./,c=l.normalize=function(u){return String(u).replace(s,".").toLowerCase()},m=l.data={},y=l.NATIVE="N",a=l.POLYFILL="P";d.exports=l},{"../internals/fails":51}],74:[function(e,d,f){d.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},{}],75:[function(e,d,f){d.exports=!1},{}],76:[function(e,d,f){var l=e("../internals/is-object"),o=e("../internals/classof-raw"),s=e("../internals/well-known-symbol")("match");d.exports=function(c){var m;return l(c)&&((m=c[s])!==void 0?!!m:o(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":74,"../internals/well-known-symbol":146}],77:[function(e,d,f){function l(u,i){this.stopped=u,this.result=i}var o=e("../internals/an-object"),s=e("../internals/is-array-iterator-method"),c=e("../internals/to-length"),m=e("../internals/function-bind-context"),y=e("../internals/get-iterator-method"),a=e("../internals/call-with-safe-iteration-closing");(d.exports=function(u,i,h,p,g){var v,b,w,x,k,E,M=m(i,h,p?2:1);if(g)v=u;else{if(typeof(i=y(u))!="function")throw TypeError("Target is not iterable");if(s(i)){for(b=0,w=c(u.length);b<w;b++)if((x=p?M(o(E=u[b])[0],E[1]):M(u[b]))&&x instanceof l)return x;return new l(!1)}v=i.call(u)}for(k=v.next;!(E=k.call(v)).done;)if(typeof(x=a(v,M,E.value,p))=="object"&&x&&x instanceof l)return x;return new l(!1)}).stop=function(u){return new l(!0,u)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134}],78:[function(y,d,f){var l,o,s=y("../internals/object-get-prototype-of"),c=y("../internals/create-non-enumerable-property"),m=y("../internals/has"),a=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),a=a("iterator"),u=!1;[].keys&&("next"in(o=[].keys())?(s=s(s(o)))!==Object.prototype&&(l=s):u=!0),l==null&&(l={}),y||m(l,a)||c(l,a,function(){return this}),d.exports={IteratorPrototype:l,BUGGY_SAFARI_ITERATORS:u}},{"../internals/create-non-enumerable-property":38,"../internals/has":60,"../internals/is-pure":75,"../internals/object-get-prototype-of":97,"../internals/well-known-symbol":146}],79:[function(e,d,f){d.exports={}},{}],80:[function(e,d,f){d.exports=Math.sign||function(l){return(l=+l)==0||l!=l?l:l<0?-1:1}},{}],81:[function(p,d,f){var l,o,s,c,m,y,a,u,i=p("../internals/global"),k=p("../internals/object-get-own-property-descriptor").f,x=p("../internals/classof-raw"),h=p("../internals/task").set,p=p("../internals/engine-is-ios"),g=i.MutationObserver||i.WebKitMutationObserver,v=i.process,b=i.Promise,w=x(v)=="process",x=k(i,"queueMicrotask"),k=x&&x.value;k||(l=function(){var E,M;for(w&&(E=v.domain)&&E.exit();o;){M=o.fn,o=o.next;try{M()}catch(O){throw o?c():s=void 0,O}}s=void 0,E&&E.enter()},c=w?function(){v.nextTick(l)}:g&&!p?(m=!0,y=document.createTextNode(""),new g(l).observe(y,{characterData:!0}),function(){y.data=m=!m}):b&&b.resolve?(a=b.resolve(void 0),u=a.then,function(){u.call(a,l)}):function(){h.call(i,l)}),d.exports=k||function(E){E={fn:E,next:void 0},s&&(s.next=E),o||(o=E,c()),s=E}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":59,"../internals/object-get-own-property-descriptor":93,"../internals/task":128}],82:[function(e,d,f){e=e("../internals/global"),d.exports=e.Promise},{"../internals/global":59}],83:[function(e,d,f){e=e("../internals/fails"),d.exports=!!Object.getOwnPropertySymbols&&!e(function(){return!String(Symbol())})},{"../internals/fails":51}],84:[function(e,d,f){var l=e("../internals/fails"),o=e("../internals/well-known-symbol"),s=e("../internals/is-pure"),c=o("iterator");d.exports=!l(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),y=m.searchParams,a="";return m.pathname="c%20d",y.forEach(function(u,i){y.delete("b"),a+=i+u}),s&&!m.toJSON||!y.sort||m.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||a!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":75,"../internals/well-known-symbol":146}],85:[function(l,d,f){var o=l("../internals/global"),l=l("../internals/inspect-source"),o=o.WeakMap;d.exports=typeof o=="function"&&/native code/.test(l(o))},{"../internals/global":59,"../internals/inspect-source":68}],86:[function(e,d,f){function l(s){var c,m;this.promise=new s(function(y,a){if(c!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");c=y,m=a}),this.resolve=o(c),this.reject=o(m)}var o=e("../internals/a-function");d.exports.f=function(s){return new l(s)}},{"../internals/a-function":5}],87:[function(e,d,f){var l=e("../internals/is-regexp");d.exports=function(o){if(l(o))throw TypeError("The method doesn't accept regular expressions");return o}},{"../internals/is-regexp":76}],88:[function(e,d,f){var l=e("../internals/global").isFinite;d.exports=Number.isFinite||function(o){return typeof o=="number"&&l(o)}},{"../internals/global":59}],89:[function(e,d,f){var l=e("../internals/descriptors"),o=e("../internals/fails"),s=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),m=e("../internals/object-property-is-enumerable"),y=e("../internals/to-object"),a=e("../internals/indexed-object"),u=Object.assign,i=Object.defineProperty;d.exports=!u||o(function(){var h,p,g,v;return!(!l||u({b:1},u(i({},"a",{enumerable:!0,get:function(){i(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(p={},v="abcdefghijklmnopqrst",(h={})[g=Symbol()]=7,v.split("").forEach(function(b){p[b]=b}),u({},h)[g]!=7||s(u({},p)).join("")!=v)})?function(h,p){for(var g=y(h),v=arguments.length,b=1,w=c.f,x=m.f;b<v;)for(var k,E=a(arguments[b++]),M=w?s(E).concat(w(E)):s(E),O=M.length,P=0;P<O;)k=M[P++],l&&!x.call(E,k)||(g[k]=E[k]);return g}:u},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":66,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/to-object":135}],90:[function(i,d,f){function l(){}var o,s=i("../internals/an-object"),c=i("../internals/object-define-properties"),m=i("../internals/enum-bug-keys"),y=i("../internals/hidden-keys"),a=i("../internals/html"),u=i("../internals/document-create-element"),i=i("../internals/shared-key"),h="prototype",p="script",g=i("IE_PROTO"),v=function(w){return"<"+p+">"+w+"</"+p+">"},b=function(){try{o=document.domain&&new ActiveXObject("htmlfile")}catch{}b=o?((w=o).write(v("")),w.close(),x=w.parentWindow.Object,w=null,x):(w=u("iframe"),x="java"+p+":",w.style.display="none",a.appendChild(w),w.src=String(x),(x=w.contentWindow.document).open(),x.write(v("document.F=Object")),x.close(),x.F);for(var w,x,k=m.length;k--;)delete b[h][m[k]];return b()};y[g]=!0,d.exports=Object.create||function(w,x){var k;return w!==null?(l[h]=s(w),k=new l,l[h]=null,k[g]=w):k=b(),x===void 0?k:c(k,x)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":61,"../internals/html":63,"../internals/object-define-properties":91,"../internals/shared-key":118}],91:[function(e,d,f){var l=e("../internals/descriptors"),o=e("../internals/object-define-property"),s=e("../internals/an-object"),c=e("../internals/object-keys");d.exports=l?Object.defineProperties:function(m,y){s(m);for(var a,u=c(y),i=u.length,h=0;h<i;)o.f(m,a=u[h++],y[a]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":92,"../internals/object-keys":99}],92:[function(e,d,f){var l=e("../internals/descriptors"),o=e("../internals/ie8-dom-define"),s=e("../internals/an-object"),c=e("../internals/to-primitive"),m=Object.defineProperty;f.f=l?m:function(y,a,u){if(s(y),a=c(a,!0),s(u),o)try{return m(y,a,u)}catch{}if("get"in u||"set"in u)throw TypeError("Accessors not supported");return"value"in u&&(y[a]=u.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":64,"../internals/to-primitive":138}],93:[function(e,d,f){var l=e("../internals/descriptors"),o=e("../internals/object-property-is-enumerable"),s=e("../internals/create-property-descriptor"),c=e("../internals/to-indexed-object"),m=e("../internals/to-primitive"),y=e("../internals/has"),a=e("../internals/ie8-dom-define"),u=Object.getOwnPropertyDescriptor;f.f=l?u:function(i,h){if(i=c(i),h=m(h,!0),a)try{return u(i,h)}catch{}if(y(i,h))return s(!o.f.call(i,h),i[h])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":60,"../internals/ie8-dom-define":64,"../internals/object-property-is-enumerable":100,"../internals/to-indexed-object":132,"../internals/to-primitive":138}],94:[function(e,d,f){var l=e("../internals/to-indexed-object"),o=e("../internals/object-get-own-property-names").f,s={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];d.exports.f=function(m){if(!c||s.call(m)!="[object Window]")return o(l(m));try{return o(m)}catch{return c.slice()}}},{"../internals/object-get-own-property-names":95,"../internals/to-indexed-object":132}],95:[function(e,d,f){var l=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys").concat("length","prototype");f.f=Object.getOwnPropertyNames||function(s){return l(s,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],96:[function(e,d,f){f.f=Object.getOwnPropertySymbols},{}],97:[function(c,d,f){var l=c("../internals/has"),o=c("../internals/to-object"),s=c("../internals/shared-key"),c=c("../internals/correct-prototype-getter"),m=s("IE_PROTO"),y=Object.prototype;d.exports=c?Object.getPrototypeOf:function(a){return a=o(a),l(a,m)?a[m]:typeof a.constructor=="function"&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":60,"../internals/shared-key":118,"../internals/to-object":135}],98:[function(e,d,f){var l=e("../internals/has"),o=e("../internals/to-indexed-object"),s=e("../internals/array-includes").indexOf,c=e("../internals/hidden-keys");d.exports=function(m,y){var a,u=o(m),i=0,h=[];for(a in u)!l(c,a)&&l(u,a)&&h.push(a);for(;y.length>i;)!l(u,a=y[i++])||~s(h,a)||h.push(a);return h}},{"../internals/array-includes":18,"../internals/has":60,"../internals/hidden-keys":61,"../internals/to-indexed-object":132}],99:[function(e,d,f){var l=e("../internals/object-keys-internal"),o=e("../internals/enum-bug-keys");d.exports=Object.keys||function(s){return l(s,o)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":98}],100:[function(e,d,f){var l={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,s=o&&!l.call({1:2},1);f.f=s?function(c){return c=o(this,c),!!c&&c.enumerable}:l},{}],101:[function(e,d,f){var l=e("../internals/an-object"),o=e("../internals/a-possible-prototype");d.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var s,c=!1,m={};try{(s=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),c=m instanceof Array}catch{}return function(y,a){return l(y),o(a),c?s.call(y,a):y.__proto__=a,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],102:[function(e,d,f){var l=e("../internals/to-string-tag-support"),o=e("../internals/classof");d.exports=l?{}.toString:function(){return"[object "+o(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":139}],103:[function(e,d,f){var l=e("../internals/get-built-in"),o=e("../internals/object-get-own-property-names"),s=e("../internals/object-get-own-property-symbols"),c=e("../internals/an-object");d.exports=l("Reflect","ownKeys")||function(m){var y=o.f(c(m)),a=s.f;return a?y.concat(a(m)):y}},{"../internals/an-object":10,"../internals/get-built-in":56,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-symbols":96}],104:[function(e,d,f){e=e("../internals/global"),d.exports=e},{"../internals/global":59}],105:[function(e,d,f){d.exports=function(l){try{return{error:!1,value:l()}}catch(o){return{error:!0,value:o}}}},{}],106:[function(e,d,f){var l=e("../internals/an-object"),o=e("../internals/is-object"),s=e("../internals/new-promise-capability");d.exports=function(c,m){return l(c),o(m)&&m.constructor===c?m:((0,(c=s.f(c)).resolve)(m),c.promise)}},{"../internals/an-object":10,"../internals/is-object":74,"../internals/new-promise-capability":86}],107:[function(e,d,f){var l=e("../internals/redefine");d.exports=function(o,s,c){for(var m in s)l(o,m,s[m],c);return o}},{"../internals/redefine":108}],108:[function(y,d,f){var l=y("../internals/global"),o=y("../internals/create-non-enumerable-property"),s=y("../internals/has"),c=y("../internals/set-global"),m=y("../internals/inspect-source"),y=y("../internals/internal-state"),a=y.get,u=y.enforce,i=String(String).split("String");(d.exports=function(h,p,g,x){var b=!!x&&!!x.unsafe,w=!!x&&!!x.enumerable,x=!!x&&!!x.noTargetGet;typeof g=="function"&&(typeof p!="string"||s(g,"name")||o(g,"name",p),u(g).source=i.join(typeof p=="string"?p:"")),h===l?w?h[p]=g:c(p,g):(b?!x&&h[p]&&(w=!0):delete h[p],w?h[p]=g:o(h,p,g))})(Function.prototype,"toString",function(){return typeof this=="function"&&a(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":59,"../internals/has":60,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/set-global":115}],109:[function(e,d,f){var l=e("./classof-raw"),o=e("./regexp-exec");d.exports=function(s,c){var m=s.exec;if(typeof m=="function"){if(m=m.call(s,c),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(l(s)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return o.call(s,c)}},{"./classof-raw":28,"./regexp-exec":110}],110:[function(c,d,f){var l,o,s=c("./regexp-flags"),c=c("./regexp-sticky-helpers"),m=RegExp.prototype.exec,y=String.prototype.replace,a=m,u=(l=/a/,o=/b*/g,m.call(l,"a"),m.call(o,"a"),l.lastIndex!==0||o.lastIndex!==0),i=c.UNSUPPORTED_Y||c.BROKEN_CARET,h=/()??/.exec("")[1]!==void 0;d.exports=a=u||h||i?function(p){var g,v,b,w,x=this,k=i&&x.sticky,E=s.call(x),M=x.source,O=0,P=p;return k&&((E=E.replace("y","")).indexOf("g")===-1&&(E+="g"),P=String(p).slice(x.lastIndex),0<x.lastIndex&&(!x.multiline||x.multiline&&p[x.lastIndex-1]!==`
`)&&(M="(?: "+M+")",P=" "+P,O++),v=new RegExp("^(?:"+M+")",E)),h&&(v=new RegExp("^"+M+"$(?!\\s)",E)),u&&(g=x.lastIndex),b=m.call(k?v:x,P),k?b?(b.input=b.input.slice(O),b[0]=b[0].slice(O),b.index=x.lastIndex,x.lastIndex+=b[0].length):x.lastIndex=0:u&&b&&(x.lastIndex=x.global?b.index+b[0].length:g),h&&b&&1<b.length&&y.call(b[0],v,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(b[w]=void 0)}),b}:a},{"./regexp-flags":111,"./regexp-sticky-helpers":112}],111:[function(e,d,f){var l=e("../internals/an-object");d.exports=function(){var o=l(this),s="";return o.global&&(s+="g"),o.ignoreCase&&(s+="i"),o.multiline&&(s+="m"),o.dotAll&&(s+="s"),o.unicode&&(s+="u"),o.sticky&&(s+="y"),s}},{"../internals/an-object":10}],112:[function(e,d,f){e=e("./fails");function l(o,s){return RegExp(o,s)}f.UNSUPPORTED_Y=e(function(){var o=l("a","y");return o.lastIndex=2,o.exec("abcd")!=null}),f.BROKEN_CARET=e(function(){var o=l("^r","gy");return o.lastIndex=2,o.exec("str")!=null})},{"./fails":51}],113:[function(e,d,f){d.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},{}],114:[function(e,d,f){d.exports=Object.is||function(l,o){return l===o?l!==0||1/l==1/o:l!=l&&o!=o}},{}],115:[function(e,d,f){var l=e("../internals/global"),o=e("../internals/create-non-enumerable-property");d.exports=function(s,c){try{o(l,s,c)}catch{l[s]=c}return c}},{"../internals/create-non-enumerable-property":38,"../internals/global":59}],116:[function(e,d,f){var l=e("../internals/get-built-in"),o=e("../internals/object-define-property"),s=e("../internals/well-known-symbol"),c=e("../internals/descriptors"),m=s("species");d.exports=function(a){var a=l(a),u=o.f;c&&a&&!a[m]&&u(a,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":56,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],117:[function(e,d,f){var l=e("../internals/object-define-property").f,o=e("../internals/has"),s=e("../internals/well-known-symbol")("toStringTag");d.exports=function(c,m,y){c&&!o(c=y?c:c.prototype,s)&&l(c,s,{configurable:!0,value:m})}},{"../internals/has":60,"../internals/object-define-property":92,"../internals/well-known-symbol":146}],118:[function(e,d,f){var l=e("../internals/shared"),o=e("../internals/uid"),s=l("keys");d.exports=function(c){return s[c]||(s[c]=o(c))}},{"../internals/shared":120,"../internals/uid":143}],119:[function(l,d,f){var s=l("../internals/global"),l=l("../internals/set-global"),o="__core-js_shared__",s=s[o]||l(o,{});d.exports=s},{"../internals/global":59,"../internals/set-global":115}],120:[function(e,d,f){var l=e("../internals/is-pure"),o=e("../internals/shared-store");(d.exports=function(s,c){return o[s]||(o[s]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:l?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":75,"../internals/shared-store":119}],121:[function(e,d,f){var l=e("../internals/an-object"),o=e("../internals/a-function"),s=e("../internals/well-known-symbol")("species");d.exports=function(y,m){var y=l(y).constructor;return y===void 0||(y=l(y)[s])==null?m:o(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":146}],122:[function(e,d,f){var l=e("../internals/fails");d.exports=function(o){return l(function(){var s=""[o]('"');return s!==s.toLowerCase()||3<s.split('"').length})}},{"../internals/fails":51}],123:[function(e,d,f){function l(c){return function(u,i){var a,u=String(s(u)),i=o(i),h=u.length;return i<0||h<=i?c?"":void 0:(a=u.charCodeAt(i))<55296||56319<a||i+1===h||(h=u.charCodeAt(i+1))<56320||57343<h?c?u.charAt(i):a:c?u.slice(i,i+2):h-56320+(a-55296<<10)+65536}}var o=e("../internals/to-integer"),s=e("../internals/require-object-coercible");d.exports={codeAt:l(!1),charAt:l(!0)}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],124:[function(e,d,f){function l(b){return b+22+75*(b<26)}function o(b){var w,x=[],k=(b=function(oe){for(var ce=[],ne=0,R=oe.length;ne<R;){var j,N=oe.charCodeAt(ne++);55296<=N&&N<=56319&&ne<R?(64512&(j=oe.charCodeAt(ne++)))==56320?ce.push(((1023&N)<<10)+(1023&j)+65536):(ce.push(N),ne--):ce.push(N)}return ce}(b)).length,E=128,M=0,O=72;for(z=0;z<b.length;z++)(w=b[z])<128&&x.push(v(w));var P=x.length,D=P;for(P&&x.push("-");D<k;){for(var U=s,z=0;z<b.length;z++)E<=(w=b[z])&&w<U&&(U=w);var V=D+1;if(U-E>g((s-M)/V))throw RangeError(h);for(M+=(U-E)*V,E=U,z=0;z<b.length;z++){if((w=b[z])<E&&++M>s)throw RangeError(h);if(w==E){for(var K=M,re=c;;re+=c){var Q=re<=O?1:O+m<=re?m:re-O;if(K<Q)break;var ue=K-Q,te=c-Q;x.push(v(l(Q+ue%te))),K=g(ue/te)}x.push(v(l(K))),O=function(oe,ce,ne){var R=0;for(oe=ne?g(oe/a):oe>>1,oe+=g(oe/ce);p*m>>1<oe;R+=c)oe=g(oe/p);return g(R+(p+1)*oe/(oe+y))}(M,V,D==P),M=0,++D}}++M,++E}return x.join("")}var s=2147483647,c=36,m=26,y=38,a=700,u=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,h="Overflow: input needs wider integers to process",p=c-1,g=Math.floor,v=String.fromCharCode;d.exports=function(b){for(var w,x=[],k=b.toLowerCase().replace(i,".").split("."),E=0;E<k.length;E++)w=k[E],x.push(u.test(w)?"xn--"+o(w):w);return x.join(".")}},{}],125:[function(e,d,f){var l=e("../internals/to-integer"),o=e("../internals/require-object-coercible");d.exports="".repeat||function(s){var c=String(o(this)),m="",y=l(s);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(c+=c))1&y&&(m+=c);return m}},{"../internals/require-object-coercible":113,"../internals/to-integer":133}],126:[function(e,d,f){var l=e("../internals/fails"),o=e("../internals/whitespaces");d.exports=function(s){return l(function(){return!!o[s]()||"\u200B\x85\u180E"[s]()!="\u200B\x85\u180E"||o[s].name!==s})}},{"../internals/fails":51,"../internals/whitespaces":147}],127:[function(s,d,f){function l(y){return function(a){return a=String(o(a)),1&y&&(a=a.replace(c,"")),a=2&y?a.replace(m,""):a}}var o=s("../internals/require-object-coercible"),s="["+s("../internals/whitespaces")+"]",c=RegExp("^"+s+s+"*"),m=RegExp(s+s+"*$");d.exports={start:l(1),end:l(2),trim:l(3)}},{"../internals/require-object-coercible":113,"../internals/whitespaces":147}],128:[function(p,d,f){function l(D){return function(){P(D)}}function o(D){P(D.data)}function s(D){m.postMessage(D+"",g.protocol+"//"+g.host)}var c,m=p("../internals/global"),y=p("../internals/fails"),a=p("../internals/classof-raw"),u=p("../internals/function-bind-context"),i=p("../internals/html"),h=p("../internals/document-create-element"),p=p("../internals/engine-is-ios"),g=m.location,v=m.setImmediate,b=m.clearImmediate,w=m.process,x=m.MessageChannel,k=m.Dispatch,E=0,M={},O="onreadystatechange",P=function(D){var U;M.hasOwnProperty(D)&&(U=M[D],delete M[D],U())};v&&b||(v=function(D){for(var U=[],z=1;z<arguments.length;)U.push(arguments[z++]);return M[++E]=function(){(typeof D=="function"?D:Function(D)).apply(void 0,U)},c(E),E},b=function(D){delete M[D]},a(w)=="process"?c=function(D){w.nextTick(l(D))}:k&&k.now?c=function(D){k.now(l(D))}:x&&!p?(p=(a=new x).port2,a.port1.onmessage=o,c=u(p.postMessage,p,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||y(s)||g.protocol==="file:"?c=O in h("script")?function(D){i.appendChild(h("script"))[O]=function(){i.removeChild(this),P(D)}}:function(D){setTimeout(l(D),0)}:(c=s,m.addEventListener("message",o,!1))),d.exports={set:v,clear:b}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":54,"../internals/global":59,"../internals/html":63}],129:[function(e,d,f){var l=e("../internals/classof-raw");d.exports=function(o){if(typeof o!="number"&&l(o)!="Number")throw TypeError("Incorrect invocation");return+o}},{"../internals/classof-raw":28}],130:[function(e,d,f){var l=e("../internals/to-integer"),o=Math.max,s=Math.min;d.exports=function(c,m){return c=l(c),c<0?o(c+m,0):s(c,m)}},{"../internals/to-integer":133}],131:[function(e,d,f){var l=e("../internals/to-integer"),o=e("../internals/to-length");d.exports=function(c){if(c===void 0)return 0;var c=l(c),m=o(c);if(c!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":133,"../internals/to-length":134}],132:[function(e,d,f){var l=e("../internals/indexed-object"),o=e("../internals/require-object-coercible");d.exports=function(s){return l(o(s))}},{"../internals/indexed-object":66,"../internals/require-object-coercible":113}],133:[function(e,d,f){var l=Math.ceil,o=Math.floor;d.exports=function(s){return isNaN(s=+s)?0:(0<s?o:l)(s)}},{}],134:[function(e,d,f){var l=e("../internals/to-integer"),o=Math.min;d.exports=function(s){return 0<s?o(l(s),9007199254740991):0}},{"../internals/to-integer":133}],135:[function(e,d,f){var l=e("../internals/require-object-coercible");d.exports=function(o){return Object(l(o))}},{"../internals/require-object-coercible":113}],136:[function(e,d,f){var l=e("../internals/to-positive-integer");d.exports=function(o,s){if(o=l(o),o%s)throw RangeError("Wrong offset");return o}},{"../internals/to-positive-integer":137}],137:[function(e,d,f){var l=e("../internals/to-integer");d.exports=function(o){if(o=l(o),o<0)throw RangeError("The argument can't be less than 0");return o}},{"../internals/to-integer":133}],138:[function(e,d,f){var l=e("../internals/is-object");d.exports=function(o,s){if(!l(o))return o;var c,m;if(s&&typeof(c=o.toString)=="function"&&!l(m=c.call(o))||typeof(c=o.valueOf)=="function"&&!l(m=c.call(o))||!s&&typeof(c=o.toString)=="function"&&!l(m=c.call(o)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":74}],139:[function(e,d,f){var l={};l[e("../internals/well-known-symbol")("toStringTag")]="z",d.exports=String(l)==="[object z]"},{"../internals/well-known-symbol":146}],140:[function(e,d,f){function l(Ve,ot){for(var se=0,Ne=ot.length,Oe=new(ve(Ve))(Ne);se<Ne;)Oe[se]=ot[se++];return Oe}function o(Ve,ot){j(Ve,ot,{get:function(){return ne(this)[ot]}})}function s(Ve){return Ve instanceof ae||(Ve=P(Ve))=="ArrayBuffer"||Ve=="SharedArrayBuffer"}function c(Ve,ot){return Ce(Ve)&&typeof ot!="symbol"&&ot in Ve&&String(+ot)==String(ot)}function m(Ve,ot){return c(Ve,ot=M(ot,!0))?b(2,Ve[ot]):N(Ve,ot)}function y(Ve,ot,se){return!(c(Ve,ot=M(ot,!0))&&D(se)&&O(se,"value"))||O(se,"get")||O(se,"set")||se.configurable||O(se,"writable")&&!se.writable||O(se,"enumerable")&&!se.enumerable?j(Ve,ot,se):(Ve[ot]=se.value,Ve)}var a=e("../internals/export"),u=e("../internals/global"),i=e("../internals/descriptors"),h=e("../internals/typed-array-constructors-require-wrappers"),p=e("../internals/array-buffer-view-core"),g=e("../internals/array-buffer"),v=e("../internals/an-instance"),b=e("../internals/create-property-descriptor"),w=e("../internals/create-non-enumerable-property"),x=e("../internals/to-length"),k=e("../internals/to-index"),E=e("../internals/to-offset"),M=e("../internals/to-primitive"),O=e("../internals/has"),P=e("../internals/classof"),D=e("../internals/is-object"),U=e("../internals/object-create"),z=e("../internals/object-set-prototype-of"),V=e("../internals/object-get-own-property-names").f,K=e("../internals/typed-array-from"),re=e("../internals/array-iteration").forEach,Q=e("../internals/set-species"),ue=e("../internals/object-define-property"),te=e("../internals/object-get-own-property-descriptor"),oe=e("../internals/internal-state"),ce=e("../internals/inherit-if-required"),ne=oe.get,R=oe.set,j=ue.f,N=te.f,F=Math.round,ie=u.RangeError,ae=g.ArrayBuffer,Te=g.DataView,ke=p.NATIVE_ARRAY_BUFFER_VIEWS,Me=p.TYPED_ARRAY_TAG,Se=p.TypedArray,Xe=p.TypedArrayPrototype,ve=p.aTypedArrayConstructor,Ce=p.isTypedArray,Fe="BYTES_PER_ELEMENT",ze="Wrong length";i?(ke||(te.f=m,ue.f=y,o(Xe,"buffer"),o(Xe,"byteOffset"),o(Xe,"byteLength"),o(Xe,"length")),a({target:"Object",stat:!0,forced:!ke},{getOwnPropertyDescriptor:m,defineProperty:y}),d.exports=function(Be,ot,se){function Ne(we,B){j(we,B,{get:function(){var G=this,I=B;return(G=ne(G)).view[Ke](I*Oe+G.byteOffset,!0)},set:function(G){var I=this,C=B;I=ne(I),se&&(G=(G=F(G))<0?0:255<G?255:255&G),I.view[Ge](C*Oe+I.byteOffset,G,!0)},enumerable:!0})}var Oe=Be.match(/\d+$/)[0]/8,We=Be+(se?"Clamped":"")+"Array",Ke="get"+Be,Ge="set"+Be,et=u[We],ut=et,Be=ut&&ut.prototype,Ee={};ke?h&&(ut=ot(function(we,B,G,I){return v(we,ut,We),ce(D(B)?s(B)?I!==void 0?new et(B,E(G,Oe),I):G!==void 0?new et(B,E(G,Oe)):new et(B):Ce(B)?l(ut,B):K.call(ut,B):new et(k(B)),we,ut)}),z&&z(ut,Se),re(V(et),function(we){we in ut||w(ut,we,et[we])}),ut.prototype=Be):(ut=ot(function(we,B,G,I){v(we,ut,We);var C,ye,ge=0,_e=0;if(D(B)){if(!s(B))return Ce(B)?l(ut,B):K.call(ut,B);var H=B,_e=E(G,Oe),G=B.byteLength;if(I===void 0){if(G%Oe||(C=G-_e)<0)throw ie(ze)}else if(G<(C=x(I)*Oe)+_e)throw ie(ze);ye=C/Oe}else ye=k(B),H=new ae(C=ye*Oe);for(R(we,{buffer:H,byteOffset:_e,byteLength:C,length:ye,view:new Te(H)});ge<ye;)Ne(we,ge++)}),z&&z(ut,Se),Be=ut.prototype=U(Xe)),Be.constructor!==ut&&w(Be,"constructor",ut),Me&&w(Be,Me,We),Ee[We]=ut,a({global:!0,forced:ut!=et,sham:!ke},Ee),Fe in ut||w(ut,Fe,Oe),Fe in Be||w(Be,Fe,Oe),Q(We)}):d.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-object":74,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-set-prototype-of":101,"../internals/set-species":116,"../internals/to-index":131,"../internals/to-length":134,"../internals/to-offset":136,"../internals/to-primitive":138,"../internals/typed-array-constructors-require-wrappers":141,"../internals/typed-array-from":142}],141:[function(c,d,f){var l=c("../internals/global"),o=c("../internals/fails"),s=c("../internals/check-correctness-of-iteration"),c=c("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=l.ArrayBuffer,y=l.Int8Array;d.exports=!c||!o(function(){y(1)})||!o(function(){new y(-1)})||!s(function(a){new y,new y(null),new y(1.5),new y(a)},!0)||o(function(){return new y(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":59}],142:[function(e,d,f){var l=e("../internals/to-object"),o=e("../internals/to-length"),s=e("../internals/get-iterator-method"),c=e("../internals/is-array-iterator-method"),m=e("../internals/function-bind-context"),y=e("../internals/array-buffer-view-core").aTypedArrayConstructor;d.exports=function(a){var u,i,h,p,g,v,b=l(a),w=arguments.length,x=1<w?arguments[1]:void 0,k=x!==void 0,E=s(b);if(E!=null&&!c(E))for(v=(g=E.call(b)).next,b=[];!(p=v.call(g)).done;)b.push(p.value);for(k&&2<w&&(x=m(x,arguments[2],2)),i=o(b.length),h=new(y(this))(i),u=0;u<i;u++)h[u]=k?x(b[u],u):b[u];return h}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":54,"../internals/get-iterator-method":57,"../internals/is-array-iterator-method":71,"../internals/to-length":134,"../internals/to-object":135}],143:[function(e,d,f){var l=0,o=Math.random();d.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++l+o).toString(36)}},{}],144:[function(e,d,f){e=e("../internals/native-symbol"),d.exports=e&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":83}],145:[function(e,d,f){e=e("../internals/well-known-symbol"),f.f=e},{"../internals/well-known-symbol":146}],146:[function(y,d,f){var l=y("../internals/global"),o=y("../internals/shared"),s=y("../internals/has"),c=y("../internals/uid"),m=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),a=o("wks"),u=l.Symbol,i=y?u:u&&u.withoutSetter||c;d.exports=function(h){return s(a,h)||(m&&s(u,h)?a[h]=u[h]:a[h]=i("Symbol."+h)),a[h]}},{"../internals/global":59,"../internals/has":60,"../internals/native-symbol":83,"../internals/shared":120,"../internals/uid":143,"../internals/use-symbol-as-uid":144}],147:[function(e,d,f){d.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],148:[function(s,d,f){var l=s("../internals/export"),o=s("../internals/global"),m=s("../internals/array-buffer"),s=s("../internals/set-species"),c="ArrayBuffer",m=m[c];l({global:!0,forced:o[c]!==m},{ArrayBuffer:m}),s(c)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":59,"../internals/set-species":116}],149:[function(b,d,f){var l=b("../internals/export"),o=b("../internals/fails"),s=b("../internals/is-array"),c=b("../internals/is-object"),m=b("../internals/to-object"),y=b("../internals/to-length"),a=b("../internals/create-property"),u=b("../internals/array-species-create"),i=b("../internals/array-method-has-species-support"),v=b("../internals/well-known-symbol"),b=b("../internals/engine-v8-version"),h=v("isConcatSpreadable"),p=9007199254740991,g="Maximum allowed index exceeded",v=51<=b||!o(function(){var w=[];return w[h]=!1,w.concat()[0]!==w}),b=i("concat");l({target:"Array",proto:!0,forced:!v||!b},{concat:function(w){for(var x,k,E,M,O,P=m(this),D=u(P,0),U=0,z=-1,V=arguments.length;z<V;z++)if(O=void 0,!c(M=E=z===-1?P:arguments[z])||((O=M[h])!==void 0?!O:!s(M))){if(p<=U)throw TypeError(g);a(D,U++,E)}else{if(k=y(E.length),p<U+k)throw TypeError(g);for(x=0;x<k;x++,U++)x in E&&a(D,U,E[x])}return D.length=U,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-length":134,"../internals/to-object":135,"../internals/well-known-symbol":146}],150:[function(s,d,f){var l=s("../internals/export"),o=s("../internals/array-copy-within"),s=s("../internals/add-to-unscopables");l({target:"Array",proto:!0},{copyWithin:o}),s("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],151:[function(c,d,f){var l=c("../internals/export"),o=c("../internals/array-iteration").every,s=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),s=s("every"),c=c("every");l({target:"Array",proto:!0,forced:!s||!c},{every:function(m){return o(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],152:[function(s,d,f){var l=s("../internals/export"),o=s("../internals/array-fill"),s=s("../internals/add-to-unscopables");l({target:"Array",proto:!0},{fill:o}),s("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],153:[function(c,d,f){var l=c("../internals/export"),o=c("../internals/array-iteration").filter,s=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),s=s("filter"),c=c("filter");l({target:"Array",proto:!0,forced:!s||!c},{filter:function(m){return o(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],154:[function(o,d,f){var l=o("../internals/export"),o=o("../internals/array-for-each");l({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},{"../internals/array-for-each":16,"../internals/export":50}],155:[function(e,d,f){var l=e("../internals/export"),o=e("../internals/array-from");l({target:"Array",stat:!0,forced:!e("../internals/check-correctness-of-iteration")(function(s){Array.from(s)})},{from:o})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],156:[function(e,d,f){var l=e("../internals/export"),o=e("../internals/array-includes").includes,s=e("../internals/add-to-unscopables");l({target:"Array",proto:!0,forced:!e("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c){return o(this,c,1<arguments.length?arguments[1]:void 0)}}),s("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],157:[function(y,d,f){var l=y("../internals/export"),o=y("../internals/array-includes").indexOf,m=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),s=[].indexOf,c=!!s&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});l({target:"Array",proto:!0,forced:c||!m||!y},{indexOf:function(a){return c?s.apply(this,arguments)||0:o(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(m,d,f){var l=m("../internals/to-indexed-object"),o=m("../internals/add-to-unscopables"),s=m("../internals/iterators"),c=m("../internals/internal-state"),m=m("../internals/define-iterator"),y="Array Iterator",a=c.set,u=c.getterFor(y);d.exports=m(Array,"Array",function(i,h){a(this,{type:y,target:l(i),index:0,kind:h})},function(){var i=u(this),h=i.target,p=i.kind,g=i.index++;return!h||g>=h.length?{value:i.target=void 0,done:!0}:p=="keys"?{value:g,done:!1}:p=="values"?{value:h[g],done:!1}:{value:[g,h[g]],done:!1}},"values"),s.Arguments=s.Array,o("keys"),o("values"),o("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/iterators":79,"../internals/to-indexed-object":132}],159:[function(m,d,f){var l=m("../internals/export"),c=m("../internals/indexed-object"),o=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),s=[].join,c=c!=Object,m=m("join",",");l({target:"Array",proto:!0,forced:c||!m},{join:function(y){return s.call(o(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":66,"../internals/to-indexed-object":132}],160:[function(o,d,f){var l=o("../internals/export"),o=o("../internals/array-last-index-of");l({target:"Array",proto:!0,forced:o!==[].lastIndexOf},{lastIndexOf:o})},{"../internals/array-last-index-of":20,"../internals/export":50}],161:[function(c,d,f){var l=c("../internals/export"),o=c("../internals/array-iteration").map,s=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),s=s("map"),c=c("map");l({target:"Array",proto:!0,forced:!s||!c},{map:function(m){return o(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],162:[function(h,d,f){var l=h("../internals/export"),o=h("../internals/is-object"),s=h("../internals/is-array"),c=h("../internals/to-absolute-index"),m=h("../internals/to-length"),y=h("../internals/to-indexed-object"),a=h("../internals/create-property"),u=h("../internals/well-known-symbol"),i=h("../internals/array-method-has-species-support"),h=h("../internals/array-method-uses-to-length"),i=i("slice"),h=h("slice",{ACCESSORS:!0,0:0,1:2}),p=u("species"),g=[].slice,v=Math.max;l({target:"Array",proto:!0,forced:!i||!h},{slice:function(b,w){var x,k,E,M=y(this),O=m(M.length),P=c(b,O),D=c(w===void 0?O:w,O);if(s(M)&&((x=typeof(x=M.constructor)=="function"&&(x===Array||s(x.prototype))||o(x)&&(x=x[p])===null?void 0:x)===Array||x===void 0))return g.call(M,P,D);for(k=new(x===void 0?Array:x)(v(D-P,0)),E=0;P<D;P++,E++)P in M&&a(k,E,M[P]);return k.length=E,k}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":72,"../internals/is-object":74,"../internals/to-absolute-index":130,"../internals/to-indexed-object":132,"../internals/to-length":134,"../internals/well-known-symbol":146}],163:[function(c,d,f){var l=c("../internals/export"),o=c("../internals/array-iteration").some,s=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),s=s("some"),c=c("some");l({target:"Array",proto:!0,forced:!s||!c},{some:function(m){return o(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(i,d,f){var l=i("../internals/export"),o=i("../internals/to-absolute-index"),s=i("../internals/to-integer"),c=i("../internals/to-length"),m=i("../internals/to-object"),y=i("../internals/array-species-create"),a=i("../internals/create-property"),u=i("../internals/array-method-has-species-support"),i=i("../internals/array-method-uses-to-length"),u=u("splice"),i=i("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min;l({target:"Array",proto:!0,forced:!u||!i},{splice:function(U,v){var b,w,x,k,E,M,O=m(this),P=c(O.length),D=o(U,P),U=arguments.length;if(U===0?b=w=0:w=U===1?(b=0,P-D):(b=U-2,p(h(s(v),0),P-D)),9007199254740991<P+b-w)throw TypeError("Maximum allowed length exceeded");for(x=y(O,w),k=0;k<w;k++)(E=D+k)in O&&a(x,k,O[E]);if(b<(x.length=w)){for(k=D;k<P-w;k++)M=k+b,(E=k+w)in O?O[M]=O[E]:delete O[M];for(k=P;P-w+b<k;k--)delete O[k-1]}else if(w<b)for(k=P-w;D<k;k--)M=k+b-1,(E=k+w-1)in O?O[M]=O[E]:delete O[M];for(k=0;k<b;k++)O[k+D]=arguments[k+2];return O.length=P-w+b,x}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":130,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],165:[function(o,d,f){var l=o("../internals/descriptors"),o=o("../internals/object-define-property").f,s=Function.prototype,c=s.toString,m=/^\s*function ([^ (]*)/;!l||"name"in s||o(s,"name",{configurable:!0,get:function(){try{return c.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":92}],166:[function(o,d,f){var l=o("../internals/collection"),o=o("../internals/collection-strong");d.exports=l("Map",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},{"../internals/collection":32,"../internals/collection-strong":30}],167:[function(l,d,f){var l=l("../internals/export"),o=Math.hypot,s=Math.abs,c=Math.sqrt;l({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(m,y){for(var a,u,i=0,h=0,p=arguments.length,g=0;h<p;)g<(a=s(arguments[h++]))?(i=i*(u=g/a)*u+1,g=a):i+=0<a?(u=a/g)*u:a;return g===1/0?1/0:g*c(i)}})},{"../internals/export":50}],168:[function(e,d,f){e("../internals/export")({target:"Math",stat:!0},{sign:e("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":80}],169:[function(e,d,f){function l(z){var V,K,re,Q,ue,te,oe,ce=i(z,!1);if(typeof ce=="string"&&2<ce.length){if((z=(ce=w(ce)).charCodeAt(0))===43||z===45){if((V=ce.charCodeAt(2))===88||V===120)return NaN}else if(z===48){switch(ce.charCodeAt(1)){case 66:case 98:K=2,re=49;break;case 79:case 111:K=8,re=55;break;default:return+ce}for(ue=(Q=ce.slice(2)).length,te=0;te<ue;te++)if((oe=Q.charCodeAt(te))<48||re<oe)return NaN;return parseInt(Q,K)}}return+ce}var o=e("../internals/descriptors"),s=e("../internals/global"),c=e("../internals/is-forced"),m=e("../internals/redefine"),y=e("../internals/has"),a=e("../internals/classof-raw"),u=e("../internals/inherit-if-required"),i=e("../internals/to-primitive"),h=e("../internals/fails"),p=e("../internals/object-create"),g=e("../internals/object-get-own-property-names").f,v=e("../internals/object-get-own-property-descriptor").f,b=e("../internals/object-define-property").f,w=e("../internals/string-trim").trim,x="Number",k=s[x],E=k.prototype,M=a(p(E))==x;if(c(x,!k(" 0o1")||!k("0b1")||k("+0x1"))){for(var O,P=function(V){var V=arguments.length<1?0:V,K=this;return K instanceof P&&(M?h(function(){E.valueOf.call(K)}):a(K)!=x)?u(new k(l(V)),K,P):l(V)},D=o?g(k):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),U=0;D.length>U;U++)y(k,O=D[U])&&!y(P,O)&&b(P,O,v(k,O));(P.prototype=E).constructor=P,m(s,x,P)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/has":60,"../internals/inherit-if-required":67,"../internals/is-forced":73,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/string-trim":127,"../internals/to-primitive":138}],170:[function(e,d,f){e("../internals/export")({target:"Number",stat:!0},{isFinite:e("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":88}],171:[function(y,d,f){function l(i,h,p){return h===0?p:h%2==1?l(i,h-1,p*i):l(i*i,h/2,p)}var o=y("../internals/export"),s=y("../internals/to-integer"),c=y("../internals/this-number-value"),m=y("../internals/string-repeat"),y=y("../internals/fails"),a=1 .toFixed,u=Math.floor;o({target:"Number",proto:!0,forced:a&&(8e-5 .toFixed(3)!=="0.000"||.9 .toFixed(0)!=="1"||1.255 .toFixed(2)!=="1.25"||0xde0b6b3a7640080 .toFixed(0)!=="1000000000000000128")||!y(function(){a.call({})})},{toFixed:function(x){function h(O,P){for(var D=-1,U=P;++D<6;)U+=O*k[D],k[D]=U%1e7,U=u(U/1e7)}function p(O){for(var P=6,D=0;0<=--P;)D+=k[P],k[P]=u(D/O),D=D%O*1e7}function g(){for(var O,P=6,D="";0<=--P;)D===""&&P!==0&&k[P]===0||(O=String(k[P]),D=D===""?O:D+m.call("0",7-O.length)+O);return D}var v,b,w=c(this),x=s(x),k=[0,0,0,0,0,0],E="",M="0";if(x<0||20<x)throw RangeError("Incorrect fraction digits");if(w!=w)return"NaN";if(w<=-1e21||1e21<=w)return String(w);if(w<0&&(E="-",w=-w),1e-21<w)if(w=(v=function(O){for(var P=0,D=O;4096<=D;)P+=12,D/=4096;for(;2<=D;)P+=1,D/=2;return P}(w*l(2,69,1))-69)<0?w*l(2,-v,1):w/l(2,v,1),w*=4503599627370496,0<(v=52-v)){for(h(0,w),b=x;7<=b;)h(1e7,0),b-=7;for(h(l(10,b,1),0),b=v-1;23<=b;)p(1<<23),b-=23;p(1<<b),h(1,1),p(2),M=g()}else h(0,w),h(1<<-v,0),M=g()+m.call("0",x);return M=0<x?E+((w=M.length)<=x?"0."+m.call("0",x-w)+M:M.slice(0,w-x)+"."+M.slice(w-x)):E+M}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":125,"../internals/this-number-value":129,"../internals/to-integer":133}],172:[function(o,d,f){var l=o("../internals/export"),o=o("../internals/object-assign");l({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},{"../internals/export":50,"../internals/object-assign":89}],173:[function(c,d,f){var l=c("../internals/export"),m=c("../internals/fails"),o=c("../internals/to-indexed-object"),s=c("../internals/object-get-own-property-descriptor").f,c=c("../internals/descriptors"),m=m(function(){s(1)});l({target:"Object",stat:!0,forced:!c||m,sham:!c},{getOwnPropertyDescriptor:function(y,a){return s(o(y),a)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":93,"../internals/to-indexed-object":132}],174:[function(s,d,f){var l=s("../internals/export"),o=s("../internals/fails"),s=s("../internals/object-get-own-property-names-external").f;l({target:"Object",stat:!0,forced:o(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:s})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":94}],175:[function(m,d,f){var l=m("../internals/export"),o=m("../internals/fails"),s=m("../internals/to-object"),c=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");l({target:"Object",stat:!0,forced:o(function(){c(1)}),sham:!m},{getPrototypeOf:function(y){return c(s(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":97,"../internals/to-object":135}],176:[function(e,d,f){var l=e("../internals/export"),o=e("../internals/to-object"),s=e("../internals/object-keys");l({target:"Object",stat:!0,forced:e("../internals/fails")(function(){s(1)})},{keys:function(c){return s(o(c))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":99,"../internals/to-object":135}],177:[function(s,d,f){var l=s("../internals/to-string-tag-support"),o=s("../internals/redefine"),s=s("../internals/object-to-string");l||o(Object.prototype,"toString",s,{unsafe:!0})},{"../internals/object-to-string":102,"../internals/redefine":108,"../internals/to-string-tag-support":139}],178:[function(se,d,f){var l,o,s,c,m=se("../internals/export"),y=se("../internals/is-pure"),a=se("../internals/global"),u=se("../internals/get-built-in"),i=se("../internals/native-promise-constructor"),h=se("../internals/redefine"),p=se("../internals/redefine-all"),g=se("../internals/set-to-string-tag"),v=se("../internals/set-species"),b=se("../internals/is-object"),w=se("../internals/a-function"),x=se("../internals/an-instance"),k=se("../internals/classof-raw"),E=se("../internals/inspect-source"),M=se("../internals/iterate"),O=se("../internals/check-correctness-of-iteration"),P=se("../internals/species-constructor"),D=se("../internals/task").set,U=se("../internals/microtask"),z=se("../internals/promise-resolve"),V=se("../internals/host-report-errors"),K=se("../internals/new-promise-capability"),re=se("../internals/perform"),Q=se("../internals/internal-state"),ue=se("../internals/is-forced"),Ne=se("../internals/well-known-symbol"),te=se("../internals/engine-v8-version"),oe=Ne("species"),ce="Promise",ne=Q.get,R=Q.set,j=Q.getterFor(ce),N=i,F=a.TypeError,ie=a.document,ae=a.process,Te=u("fetch"),ke=K.f,Me=ke,Se=k(ae)=="process",Xe=!!(ie&&ie.createEvent&&a.dispatchEvent),ve="unhandledrejection",Ce="rejectionhandled",Fe=1,ze=2,Ve=1,ot=2,se=ue(ce,function(){var Ee,we;return E(N)===String(N)&&(te===66||!Se&&typeof PromiseRejectionEvent!="function")?!0:!(!y||N.prototype.finally)||!(51<=te&&/native code/.test(N))&&(we=function(B){B(function(){},function(){})},((Ee=N.resolve(1)).constructor={})[oe]=we,!(Ee.then(function(){})instanceof we))}),Ne=se||!O(function(Ee){N.all(Ee).catch(function(){})}),Oe=function(Ee){var we;return!(!b(Ee)||typeof(we=Ee.then)!="function")&&we},We=function(Ee,we,B){var G;we.notified||(we.notified=!0,G=we.reactions,U(function(){for(var I,C,ye=we.value,ge=we.state==Fe,_e=0;G.length>_e;){var H,me,je,fe=G[_e++],Re=ge?fe.ok:fe.fail,X=fe.resolve,pe=fe.reject,Y=fe.domain;try{Re?(ge||(we.rejection===ot&&function(q,J){D.call(a,function(){Se?ae.emit("rejectionHandled",q):Ke(Ce,q,J.value)})}(Ee,we),we.rejection=Ve),Re===!0?H=ye:(Y&&Y.enter(),H=Re(ye),Y&&(Y.exit(),je=!0)),H===fe.promise?pe(F("Promise-chain cycle")):(me=Oe(H))?me.call(H,X,pe):X(H)):pe(ye)}catch(q){Y&&!je&&Y.exit(),pe(q)}}we.reactions=[],we.notified=!1,B&&!we.rejection&&(I=Ee,C=we,D.call(a,function(){var q=C.value,J=Ge(C);if(J&&(J=re(function(){Se?ae.emit("unhandledRejection",q,I):Ke(ve,I,q)}),C.rejection=Se||Ge(C)?ot:Ve,J.error))throw J.value}))}))},Ke=function(Ee,we,B){var G;Xe?((G=ie.createEvent("Event")).promise=we,G.reason=B,G.initEvent(Ee,!1,!0),a.dispatchEvent(G)):G={promise:we,reason:B},(we=a["on"+Ee])?we(G):Ee===ve&&V("Unhandled promise rejection",B)},Ge=function(Ee){return Ee.rejection!==Ve&&!Ee.parent},et=function(Ee,we,B,G){return function(I){Ee(we,B,I,G)}},ut=function(Ee,we,B,G){we.done||(we.done=!0,(we=G||we).value=B,we.state=ze,We(Ee,we,!0))},Be=function(Ee,we,B,G){if(!we.done){we.done=!0,G&&(we=G);try{if(Ee===B)throw F("Promise can't be resolved itself");var I=Oe(B);I?U(function(){var C={done:!1};try{I.call(B,et(Be,Ee,C,we),et(ut,Ee,C,we))}catch(ye){ut(Ee,C,ye,we)}}):(we.value=B,we.state=Fe,We(Ee,we,!1))}catch(C){ut(Ee,{done:!1},C,we)}}};se&&(N=function(Ee){x(this,N,ce),w(Ee),l.call(this);var we=ne(this);try{Ee(et(Be,this,we),et(ut,this,we))}catch(B){ut(this,we,B)}},(l=function(Ee){R(this,{type:ce,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(N.prototype,{then:function(Ee,we){var B=j(this),G=ke(P(this,N));return G.ok=typeof Ee!="function"||Ee,G.fail=typeof we=="function"&&we,G.domain=Se?ae.domain:void 0,B.parent=!0,B.reactions.push(G),B.state!=0&&We(this,B,!1),G.promise},catch:function(Ee){return this.then(void 0,Ee)}}),o=function(){var Ee=new l,we=ne(Ee);this.promise=Ee,this.resolve=et(Be,Ee,we),this.reject=et(ut,Ee,we)},K.f=ke=function(Ee){return Ee===N||Ee===s?new o:Me(Ee)},y||typeof i!="function"||(c=i.prototype.then,h(i.prototype,"then",function(Ee,we){var B=this;return new N(function(G,I){c.call(B,G,I)}).then(Ee,we)},{unsafe:!0}),typeof Te=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(Ee){return z(N,Te.apply(a,arguments))}}))),m({global:!0,wrap:!0,forced:se},{Promise:N}),g(N,ce,!1,!0),v(ce),s=u(ce),m({target:ce,stat:!0,forced:se},{reject:function(Ee){var we=ke(this);return we.reject.call(void 0,Ee),we.promise}}),m({target:ce,stat:!0,forced:y||se},{resolve:function(Ee){return z(y&&this===s?N:this,Ee)}}),m({target:ce,stat:!0,forced:Ne},{all:function(Ee){var we=this,B=ke(we),G=B.resolve,I=B.reject,C=re(function(){var ye=w(we.resolve),ge=[],_e=0,H=1;M(Ee,function(me){var je=_e++,fe=!1;ge.push(void 0),H++,ye.call(we,me).then(function(Re){fe||(fe=!0,ge[je]=Re,--H||G(ge))},I)}),--H||G(ge)});return C.error&&I(C.value),B.promise},race:function(Ee){var we=this,B=ke(we),G=B.reject,I=re(function(){var C=w(we.resolve);M(Ee,function(ye){C.call(we,ye).then(B.resolve,G)})});return I.error&&G(I.value),B.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":56,"../internals/global":59,"../internals/host-report-errors":62,"../internals/inspect-source":68,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-object":74,"../internals/is-pure":75,"../internals/iterate":77,"../internals/microtask":81,"../internals/native-promise-constructor":82,"../internals/new-promise-capability":86,"../internals/perform":105,"../internals/promise-resolve":106,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-species":116,"../internals/set-to-string-tag":117,"../internals/species-constructor":121,"../internals/task":128,"../internals/well-known-symbol":146}],179:[function(a,d,f){var l=a("../internals/export"),p=a("../internals/get-built-in"),o=a("../internals/a-function"),s=a("../internals/an-object"),c=a("../internals/is-object"),m=a("../internals/object-create"),y=a("../internals/function-bind"),a=a("../internals/fails"),u=p("Reflect","construct"),i=a(function(){function g(){}return!(u(function(){},[],g)instanceof g)}),h=!a(function(){u(function(){})}),p=i||h;l({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(g,v){o(g),s(v);var b=arguments.length<3?g:o(arguments[2]);if(h&&!i)return u(g,v,b);if(g==b){switch(v.length){case 0:return new g;case 1:return new g(v[0]);case 2:return new g(v[0],v[1]);case 3:return new g(v[0],v[1],v[2]);case 4:return new g(v[0],v[1],v[2],v[3])}var w=[null];return w.push.apply(w,v),new(y.apply(g,w))}return w=b.prototype,b=m(c(w)?w:Object.prototype),w=Function.apply.call(g,b,v),c(w)?w:b}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":55,"../internals/get-built-in":56,"../internals/is-object":74,"../internals/object-create":90}],180:[function(e,d,f){var l=e("../internals/descriptors"),o=e("../internals/global"),s=e("../internals/is-forced"),c=e("../internals/inherit-if-required"),m=e("../internals/object-define-property").f,y=e("../internals/object-get-own-property-names").f,a=e("../internals/is-regexp"),u=e("../internals/regexp-flags"),i=e("../internals/regexp-sticky-helpers"),h=e("../internals/redefine"),p=e("../internals/fails"),g=e("../internals/internal-state").set,v=e("../internals/set-species"),b=e("../internals/well-known-symbol")("match"),w=o.RegExp,x=w.prototype,k=/a/g,E=/a/g,M=new w(k)!==k,O=i.UNSUPPORTED_Y;if(l&&s("RegExp",!M||O||p(function(){return E[b]=!1,w(k)!=k||w(E)==E||w(k,"i")!="/a/i"}))){for(var P=function(z,V){var K,re=this instanceof P,Q=a(z),ue=V===void 0;return!re&&Q&&z.constructor===P&&ue?z:(M?Q&&!ue&&(z=z.source):z instanceof P&&(ue&&(V=u.call(z)),z=z.source),O&&(K=!!V&&-1<V.indexOf("y"))&&(V=V.replace(/y/g,"")),Q=c(M?new w(z,V):w(z,V),re?this:x,P),O&&K&&g(Q,{sticky:K}),Q)},D=y(w),U=0;D.length>U;)(function(z){z in P||m(P,z,{configurable:!0,get:function(){return w[z]},set:function(V){w[z]=V}})})(D[U++]);(x.constructor=P).prototype=x,h(o,"RegExp",P)}v("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":59,"../internals/inherit-if-required":67,"../internals/internal-state":70,"../internals/is-forced":73,"../internals/is-regexp":76,"../internals/object-define-property":92,"../internals/object-get-own-property-names":95,"../internals/redefine":108,"../internals/regexp-flags":111,"../internals/regexp-sticky-helpers":112,"../internals/set-species":116,"../internals/well-known-symbol":146}],181:[function(o,d,f){var l=o("../internals/export"),o=o("../internals/regexp-exec");l({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},{"../internals/export":50,"../internals/regexp-exec":110}],182:[function(c,d,f){var l=c("../internals/redefine"),o=c("../internals/an-object"),a=c("../internals/fails"),s=c("../internals/regexp-flags"),c="toString",m=RegExp.prototype,y=m[c],a=a(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),u=y.name!=c;(a||u)&&l(RegExp.prototype,c,function(){var i=o(this),h=String(i.source),p=i.flags;return"/"+h+"/"+String(p===void 0&&i instanceof RegExp&&!("flags"in m)?s.call(i):p)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":108,"../internals/regexp-flags":111}],183:[function(o,d,f){var l=o("../internals/collection"),o=o("../internals/collection-strong");d.exports=l("Set",function(s){return function(){return s(this,arguments.length?arguments[0]:void 0)}},o)},{"../internals/collection":32,"../internals/collection-strong":30}],184:[function(y,d,f){var l=y("../internals/export"),o=y("../internals/object-get-own-property-descriptor").f,s=y("../internals/to-length"),c=y("../internals/not-a-regexp"),m=y("../internals/require-object-coercible"),i=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),a="".endsWith,u=Math.min,i=i("endsWith");l({target:"String",proto:!0,forced:!!(y||i||!(l=o(String.prototype,"endsWith"))||l.writable)&&!i},{endsWith:function(h){var p=String(m(this)),g=(c(h),1<arguments.length?arguments[1]:void 0),v=s(p.length),g=g===void 0?v:u(s(g),v),v=String(h);return a?a.call(p,v,g):p.slice(g-v.length,g)===v}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":75,"../internals/not-a-regexp":87,"../internals/object-get-own-property-descriptor":93,"../internals/require-object-coercible":113,"../internals/to-length":134}],185:[function(e,d,f){var l=e("../internals/export"),o=e("../internals/not-a-regexp"),s=e("../internals/require-object-coercible");l({target:"String",proto:!0,forced:!e("../internals/correct-is-regexp-logic")("includes")},{includes:function(c){return!!~String(s(this)).indexOf(o(c),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":87,"../internals/require-object-coercible":113}],186:[function(s,d,f){var l=s("../internals/string-multibyte").charAt,o=s("../internals/internal-state"),s=s("../internals/define-iterator"),c="String Iterator",m=o.set,y=o.getterFor(c);s(String,"String",function(a){m(this,{type:c,string:String(a),index:0})},function(){var a=y(this),u=a.string,i=a.index;return i>=u.length?{value:void 0,done:!0}:(u=l(u,i),a.index+=u.length,{value:u,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":70,"../internals/string-multibyte":123}],187:[function(e,d,f){var l=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),s=e("../internals/to-length"),c=e("../internals/require-object-coercible"),m=e("../internals/advance-string-index"),y=e("../internals/regexp-exec-abstract");l("match",1,function(a,u,i){return[function(h){var p=c(this),g=h==null?void 0:h[a];return g!==void 0?g.call(h,p):new RegExp(h)[a](String(p))},function(h){var p=i(u,h,this);if(p.done)return p.value;var g=o(h),v=String(this);if(!g.global)return y(g,v);for(var b=g.unicode,w=[],x=g.lastIndex=0;(k=y(g,v))!==null;){var k=String(k[0]);(w[x]=k)===""&&(g.lastIndex=m(v,s(g.lastIndex),b)),x++}return x===0?null:w}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-length":134}],188:[function(e,d,f){e("../internals/export")({target:"String",proto:!0},{repeat:e("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":125}],189:[function(e,d,f){var l=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),s=e("../internals/to-object"),c=e("../internals/to-length"),m=e("../internals/to-integer"),y=e("../internals/require-object-coercible"),a=e("../internals/advance-string-index"),u=e("../internals/regexp-exec-abstract"),i=Math.max,h=Math.min,p=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g;l("replace",2,function(b,w,x,k){var E=k.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,M=k.REPLACE_KEEPS_$0,O=E?"$":"$0";return[function(P,D){var U=y(this),z=P==null?void 0:P[b];return z!==void 0?z.call(P,U,D):w.call(String(U),P,D)},function(P,D){if(!E&&M||typeof D=="string"&&D.indexOf(O)===-1){var U=x(w,P,this,D);if(U.done)return U.value}for(var z,V=o(P),K=String(this),re=typeof D=="function",Q=(re||(D=String(D)),V.global),ue=(Q&&(z=V.unicode,V.lastIndex=0),[]);(R=u(V,K))!==null&&(ue.push(R),Q);)String(R[0])===""&&(V.lastIndex=a(K,c(V.lastIndex),z));for(var te,oe="",ce=0,ne=0;ne<ue.length;ne++){for(var R=ue[ne],j=String(R[0]),N=i(h(m(R.index),K.length),0),F=[],ie=1;ie<R.length;ie++)F.push((te=R[ie])===void 0?te:String(te));var ae=R.groups,Te=re?(Te=[j].concat(F,N,K),ae!==void 0&&Te.push(ae),String(D.apply(void 0,Te))):function(ke,Me,Se,Xe,ve,Ce){var Fe=Se+ke.length,ze=Xe.length,Ve=v;return ve!==void 0&&(ve=s(ve),Ve=g),w.call(Ce,Ve,function(ot,se){var Ne;switch(se.charAt(0)){case"$":return"$";case"&":return ke;case"`":return Me.slice(0,Se);case"'":return Me.slice(Fe);case"<":Ne=ve[se.slice(1,-1)];break;default:var Oe,We=+se;if(We==0)return ot;if(ze<We)return(Oe=p(We/10))!==0&&Oe<=ze?Xe[Oe-1]===void 0?se.charAt(1):Xe[Oe-1]+se.charAt(1):ot;Ne=Xe[We-1]}return Ne===void 0?"":Ne})}(j,K,N,F,ae,D);ce<=N&&(oe+=K.slice(ce,N)+Te,ce=N+j.length)}return oe+K.slice(ce)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/to-integer":133,"../internals/to-length":134,"../internals/to-object":135}],190:[function(e,d,f){var l=e("../internals/fix-regexp-well-known-symbol-logic"),o=e("../internals/an-object"),s=e("../internals/require-object-coercible"),c=e("../internals/same-value"),m=e("../internals/regexp-exec-abstract");l("search",1,function(y,a,u){return[function(i){var h=s(this),p=i==null?void 0:i[y];return p!==void 0?p.call(i,h):new RegExp(i)[y](String(h))},function(i){var h,p=u(a,i,this);return p.done?p.value:(p=o(i),i=String(this),h=p.lastIndex,c(h,0)||(p.lastIndex=0),i=m(p,i),c(p.lastIndex,h)||(p.lastIndex=h),i===null?-1:i.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/same-value":114}],191:[function(h,d,f){var l=h("../internals/fix-regexp-well-known-symbol-logic"),o=h("../internals/is-regexp"),s=h("../internals/an-object"),c=h("../internals/require-object-coercible"),m=h("../internals/species-constructor"),y=h("../internals/advance-string-index"),a=h("../internals/to-length"),u=h("../internals/regexp-exec-abstract"),i=h("../internals/regexp-exec"),h=h("../internals/fails"),p=[].push,g=Math.min,v=4294967295,b=!h(function(){return!RegExp(v,"y")});l("split",2,function(w,x,k){var E="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(M,O){var P=String(c(this)),D=O===void 0?v:O>>>0;if(D==0)return[];if(M===void 0)return[P];if(!o(M))return x.call(P,M,D);for(var U,z,V,K=[],O=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.unicode?"u":"")+(M.sticky?"y":""),re=0,Q=new RegExp(M.source,O+"g");(U=i.call(Q,P))&&!(re<(z=Q.lastIndex)&&(K.push(P.slice(re,U.index)),1<U.length&&U.index<P.length&&p.apply(K,U.slice(1)),V=U[0].length,re=z,K.length>=D));)Q.lastIndex===U.index&&Q.lastIndex++;return re===P.length?!V&&Q.test("")||K.push(""):K.push(P.slice(re)),K.length>D?K.slice(0,D):K}:"0".split(void 0,0).length?function(M,O){return M===void 0&&O===0?[]:x.call(this,M,O)}:x;return[function(M,O){var P=c(this),D=M==null?void 0:M[w];return D!==void 0?D.call(M,P,O):E.call(String(P),M,O)},function(U,O){var P=k(E,U,this,O,E!==x);if(P.done)return P.value;var P=s(U),D=String(this),U=m(P,RegExp),z=P.unicode,V=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(b?"y":"g"),K=new U(b?P:"^(?:"+P.source+")",V),re=O===void 0?v:O>>>0;if(re==0)return[];if(D.length===0)return u(K,D)===null?[D]:[];for(var Q=0,ue=0,te=[];ue<D.length;){K.lastIndex=b?ue:0;var oe,ce=u(K,b?D:D.slice(ue));if(ce===null||(oe=g(a(K.lastIndex+(b?0:ue)),D.length))===Q)ue=y(D,ue,z);else{if(te.push(D.slice(Q,ue)),te.length===re)return te;for(var ne=1;ne<=ce.length-1;ne++)if(te.push(ce[ne]),te.length===re)return te;ue=Q=oe}}return te.push(D.slice(Q)),te}]},!b)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":76,"../internals/regexp-exec":110,"../internals/regexp-exec-abstract":109,"../internals/require-object-coercible":113,"../internals/species-constructor":121,"../internals/to-length":134}],192:[function(e,d,f){var l=e("../internals/export"),o=e("../internals/create-html");l({target:"String",proto:!0,forced:e("../internals/string-html-forced")("sub")},{sub:function(){return o(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":122}],193:[function(e,d,f){var l=e("../internals/export"),o=e("../internals/string-trim").trim;l({target:"String",proto:!0,forced:e("../internals/string-trim-forced")("trim")},{trim:function(){return o(this)}})},{"../internals/export":50,"../internals/string-trim":127,"../internals/string-trim-forced":126}],194:[function(g,d,f){var l,o,s,c,m,y=g("../internals/export"),a=g("../internals/descriptors"),u=g("../internals/global"),i=g("../internals/has"),h=g("../internals/is-object"),p=g("../internals/object-define-property").f,g=g("../internals/copy-constructor-properties"),v=u.Symbol;!a||typeof v!="function"||"description"in v.prototype&&v().description===void 0||(l={},g(o=function(){var b=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),w=this instanceof o?new v(b):b===void 0?v():v(b);return b===""&&(l[w]=!0),w},v),(u=o.prototype=v.prototype).constructor=o,s=u.toString,c=String(v("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,p(u,"description",{configurable:!0,get:function(){var b=h(this)?this.valueOf():this,w=s.call(b);return i(l,b)?"":(b=c?w.slice(7,-1):w.replace(m,"$1"))===""?void 0:b}}),y({global:!0,forced:!0},{Symbol:o}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/is-object":74,"../internals/object-define-property":92}],195:[function(e,d,f){e("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],196:[function(Me,d,f){function l(I,C){var ye=Ne[I]=P(Ce[ke]);return Se(ye,{type:Te,tag:I,description:C}),i||(ye.description=C),ye}function o(I,ge){x(I);var ye=E(ge),ge=D(ye).concat(G(ye));return ie(ge,function(_e){i&&!B.call(ye,_e)||we(I,_e,ye[_e])}),I}function s(ge,_e){var ye,ge=E(ge),_e=M(_e,!0);if(ge!==ve||!v(Ne,_e)||v(Oe,_e))return!(ye=ze(ge,_e))||!v(Ne,_e)||v(ge,ae)&&ge[ae][_e]||(ye.enumerable=!0),ye}function c(C){var C=ot(E(C)),ye=[];return ie(C,function(ge){v(Ne,ge)||v(ce,ge)||ye.push(ge)}),ye}var m=Me("../internals/export"),y=Me("../internals/global"),a=Me("../internals/get-built-in"),u=Me("../internals/is-pure"),i=Me("../internals/descriptors"),h=Me("../internals/native-symbol"),p=Me("../internals/use-symbol-as-uid"),g=Me("../internals/fails"),v=Me("../internals/has"),b=Me("../internals/is-array"),w=Me("../internals/is-object"),x=Me("../internals/an-object"),k=Me("../internals/to-object"),E=Me("../internals/to-indexed-object"),M=Me("../internals/to-primitive"),O=Me("../internals/create-property-descriptor"),P=Me("../internals/object-create"),D=Me("../internals/object-keys"),U=Me("../internals/object-get-own-property-names"),z=Me("../internals/object-get-own-property-names-external"),V=Me("../internals/object-get-own-property-symbols"),K=Me("../internals/object-get-own-property-descriptor"),re=Me("../internals/object-define-property"),Q=Me("../internals/object-property-is-enumerable"),ue=Me("../internals/create-non-enumerable-property"),te=Me("../internals/redefine"),oe=Me("../internals/shared"),Ge=Me("../internals/shared-key"),ce=Me("../internals/hidden-keys"),ne=Me("../internals/uid"),R=Me("../internals/well-known-symbol"),j=Me("../internals/well-known-symbol-wrapped"),N=Me("../internals/define-well-known-symbol"),F=Me("../internals/set-to-string-tag"),et=Me("../internals/internal-state"),ie=Me("../internals/array-iteration").forEach,ae=Ge("hidden"),Te="Symbol",ke="prototype",Me=R("toPrimitive"),Se=et.set,Xe=et.getterFor(Te),ve=Object[ke],Ce=y.Symbol,Fe=a("JSON","stringify"),ze=K.f,Ve=re.f,ot=z.f,se=Q.f,Ne=oe("symbols"),Oe=oe("op-symbols"),We=oe("string-to-symbol-registry"),Ke=oe("symbol-to-string-registry"),Ge=oe("wks"),et=y.QObject,ut=!et||!et[ke]||!et[ke].findChild,Be=i&&g(function(){return P(Ve({},"a",{get:function(){return Ve(this,"a",{value:7}).a}})).a!=7})?function(I,C,ye){var ge=ze(ve,C);ge&&delete ve[C],Ve(I,C,ye),ge&&I!==ve&&Ve(ve,C,ge)}:Ve,Ee=p?function(I){return typeof I=="symbol"}:function(I){return Object(I)instanceof Ce},we=function(I,C,ye){return I===ve&&we(Oe,C,ye),x(I),C=M(C,!0),x(ye),(v(Ne,C)?(ye.enumerable?(v(I,ae)&&I[ae][C]&&(I[ae][C]=!1),ye=P(ye,{enumerable:O(0,!1)})):(v(I,ae)||Ve(I,ae,O(1,{})),I[ae][C]=!0),Be):Ve)(I,C,ye)},B=function(C){var C=M(C,!0),ye=se.call(this,C);return!(this===ve&&v(Ne,C)&&!v(Oe,C))&&(!(ye||!v(this,C)||!v(Ne,C)||v(this,ae)&&this[ae][C])||ye)},G=function(ye){var C=ye===ve,ye=ot(C?Oe:E(ye)),ge=[];return ie(ye,function(_e){!v(Ne,_e)||C&&!v(ve,_e)||ge.push(Ne[_e])}),ge};h||(te((Ce=function(){if(this instanceof Ce)throw TypeError("Symbol is not a constructor");var I=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,C=ne(I),ye=function(ge){this===ve&&ye.call(Oe,ge),v(this,ae)&&v(this[ae],C)&&(this[ae][C]=!1),Be(this,C,O(1,ge))};return i&&ut&&Be(ve,C,{configurable:!0,set:ye}),l(C,I)})[ke],"toString",function(){return Xe(this).tag}),te(Ce,"withoutSetter",function(I){return l(ne(I),I)}),Q.f=B,re.f=we,K.f=s,U.f=z.f=c,V.f=G,j.f=function(I){return l(R(I),I)},i&&(Ve(Ce[ke],"description",{configurable:!0,get:function(){return Xe(this).description}}),u||te(ve,"propertyIsEnumerable",B,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:Ce}),ie(D(Ge),function(I){N(I)}),m({target:Te,stat:!0,forced:!h},{for:function(ye){var C,ye=String(ye);return v(We,ye)?We[ye]:(C=Ce(ye),We[ye]=C,Ke[C]=ye,C)},keyFor:function(I){if(!Ee(I))throw TypeError(I+" is not a symbol");if(v(Ke,I))return Ke[I]},useSetter:function(){ut=!0},useSimple:function(){ut=!1}}),m({target:"Object",stat:!0,forced:!h,sham:!i},{create:function(I,C){return C===void 0?P(I):o(P(I),C)},defineProperty:we,defineProperties:o,getOwnPropertyDescriptor:s}),m({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:c,getOwnPropertySymbols:G}),m({target:"Object",stat:!0,forced:g(function(){V.f(1)})},{getOwnPropertySymbols:function(I){return V.f(k(I))}}),Fe&&m({target:"JSON",stat:!0,forced:!h||g(function(){var I=Ce();return Fe([I])!="[null]"||Fe({a:I})!="{}"||Fe(Object(I))!="{}"})},{stringify:function(I,C,ye){for(var ge,_e=[I],H=1;H<arguments.length;)_e.push(arguments[H++]);if((w(ge=C)||I!==void 0)&&!Ee(I))return b(C)||(C=function(me,je){if(typeof ge=="function"&&(je=ge.call(this,me,je)),!Ee(je))return je}),_e[1]=C,Fe.apply(null,_e)}}),Ce[ke][Me]||ue(Ce[ke],Me,Ce[ke].valueOf),F(Ce,Te),ce[ae]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":56,"../internals/global":59,"../internals/has":60,"../internals/hidden-keys":61,"../internals/internal-state":70,"../internals/is-array":72,"../internals/is-object":74,"../internals/is-pure":75,"../internals/native-symbol":83,"../internals/object-create":90,"../internals/object-define-property":92,"../internals/object-get-own-property-descriptor":93,"../internals/object-get-own-property-names":95,"../internals/object-get-own-property-names-external":94,"../internals/object-get-own-property-symbols":96,"../internals/object-keys":99,"../internals/object-property-is-enumerable":100,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/shared":120,"../internals/shared-key":118,"../internals/to-indexed-object":132,"../internals/to-object":135,"../internals/to-primitive":138,"../internals/uid":143,"../internals/use-symbol-as-uid":144,"../internals/well-known-symbol":146,"../internals/well-known-symbol-wrapped":145}],197:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-copy-within"),s=l.aTypedArray;(0,l.exportTypedArrayMethod)("copyWithin",function(c,m){return o.call(s(this),c,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],198:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").every,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("every",function(c){return o(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],199:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-fill"),s=l.aTypedArray;(0,l.exportTypedArrayMethod)("fill",function(c){return o.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],200:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").filter,s=e("../internals/species-constructor"),c=l.aTypedArray,m=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("filter",function(y){for(var a=o(c(this),y,1<arguments.length?arguments[1]:void 0),y=s(this,this.constructor),u=0,i=a.length,h=new(m(y))(i);u<i;)h[u]=a[u++];return h})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],201:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").findIndex,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("findIndex",function(c){return o(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],202:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").find,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("find",function(c){return o(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],203:[function(e,d,f){e("../internals/typed-array-constructor")("Float32",function(l){return function(o,s,c){return l(this,o,s,c)}})},{"../internals/typed-array-constructor":140}],204:[function(e,d,f){e("../internals/typed-array-constructor")("Float64",function(l){return function(o,s,c){return l(this,o,s,c)}})},{"../internals/typed-array-constructor":140}],205:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").forEach,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("forEach",function(c){o(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],206:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").includes,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("includes",function(c){return o(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],207:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-includes").indexOf,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("indexOf",function(c){return o(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],208:[function(e,d,f){e("../internals/typed-array-constructor")("Int16",function(l){return function(o,s,c){return l(this,o,s,c)}})},{"../internals/typed-array-constructor":140}],209:[function(e,d,f){e("../internals/typed-array-constructor")("Int32",function(l){return function(o,s,c){return l(this,o,s,c)}})},{"../internals/typed-array-constructor":140}],210:[function(o,d,f){function l(){return s.call(y(this))}var i=o("../internals/global"),u=o("../internals/array-buffer-view-core"),a=o("../modules/es.array.iterator"),o=o("../internals/well-known-symbol")("iterator"),i=i.Uint8Array,s=a.values,c=a.keys,m=a.entries,y=u.aTypedArray,a=u.exportTypedArrayMethod,u=i&&i.prototype[o],i=!!u&&(u.name=="values"||u.name==null);a("entries",function(){return m.call(y(this))}),a("keys",function(){return c.call(y(this))}),a("values",l,!i),a(o,l,!i)},{"../internals/array-buffer-view-core":12,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],211:[function(o,d,f){var o=o("../internals/array-buffer-view-core"),l=o.aTypedArray,o=o.exportTypedArrayMethod,s=[].join;o("join",function(c){return s.apply(l(this),arguments)})},{"../internals/array-buffer-view-core":12}],212:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-last-index-of"),s=l.aTypedArray;(0,l.exportTypedArrayMethod)("lastIndexOf",function(c){return o.apply(s(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],213:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").map,s=e("../internals/species-constructor"),c=l.aTypedArray,m=l.aTypedArrayConstructor;(0,l.exportTypedArrayMethod)("map",function(y){return o(c(this),y,1<arguments.length?arguments[1]:void 0,function(a,u){return new(m(s(a,a.constructor)))(u)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":121}],214:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").right,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduceRight",function(c){return o(s(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],215:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-reduce").left,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("reduce",function(c){return o(s(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],216:[function(o,d,f){var o=o("../internals/array-buffer-view-core"),l=o.aTypedArray,o=o.exportTypedArrayMethod,s=Math.floor;o("reverse",function(){for(var c,m=l(this).length,y=s(m/2),a=0;a<y;)c=this[a],this[a++]=this[--m],this[m]=c;return this})},{"../internals/array-buffer-view-core":12}],217:[function(m,d,f){var l=m("../internals/array-buffer-view-core"),o=m("../internals/to-length"),s=m("../internals/to-offset"),c=m("../internals/to-object"),m=m("../internals/fails"),y=l.aTypedArray;(0,l.exportTypedArrayMethod)("set",function(a){y(this);var u=s(1<arguments.length?arguments[1]:void 0,1),i=this.length,h=c(a),p=o(h.length),g=0;if(i<p+u)throw RangeError("Wrong length");for(;g<p;)this[u+g]=h[g++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":134,"../internals/to-object":135,"../internals/to-offset":136}],218:[function(o,d,f){var m=o("../internals/array-buffer-view-core"),l=o("../internals/species-constructor"),o=o("../internals/fails"),s=m.aTypedArray,c=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,y=[].slice;m("slice",function(a,u){for(var i=y.call(s(this),a,u),a=l(this,this.constructor),h=0,p=i.length,g=new(c(a))(p);h<p;)g[h]=i[h++];return g},o(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":121}],219:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/array-iteration").some,s=l.aTypedArray;(0,l.exportTypedArrayMethod)("some",function(c){return o(s(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],220:[function(o,d,f){var o=o("../internals/array-buffer-view-core"),l=o.aTypedArray,o=o.exportTypedArrayMethod,s=[].sort;o("sort",function(c){return s.call(l(this),c)})},{"../internals/array-buffer-view-core":12}],221:[function(e,d,f){var l=e("../internals/array-buffer-view-core"),o=e("../internals/to-length"),s=e("../internals/to-absolute-index"),c=e("../internals/species-constructor"),m=l.aTypedArray;(0,l.exportTypedArrayMethod)("subarray",function(h,a){var u=m(this),i=u.length,h=s(h,i);return new(c(u,u.constructor))(u.buffer,u.byteOffset+h*u.BYTES_PER_ELEMENT,o((a===void 0?i:s(a,i))-h))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":121,"../internals/to-absolute-index":130,"../internals/to-length":134}],222:[function(o,d,f){var m=o("../internals/global"),l=o("../internals/array-buffer-view-core"),o=o("../internals/fails"),s=m.Int8Array,c=l.aTypedArray,m=l.exportTypedArrayMethod,y=[].toLocaleString,a=[].slice,u=!!s&&o(function(){y.call(new s(1))});m("toLocaleString",function(){return y.apply(u?a.call(c(this)):c(this),arguments)},o(function(){return[1,2].toLocaleString()!=new s([1,2]).toLocaleString()})||!o(function(){s.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],223:[function(o,d,f){var l=o("../internals/array-buffer-view-core").exportTypedArrayMethod,m=o("../internals/fails"),o=o("../internals/global").Uint8Array,o=o&&o.prototype||{},s=[].toString,c=[].join,m=(m(function(){s.call({})})&&(s=function(){return c.call(this)}),o.toString!=s);l("toString",s,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":59}],224:[function(e,d,f){e("../internals/typed-array-constructor")("Uint16",function(l){return function(o,s,c){return l(this,o,s,c)}})},{"../internals/typed-array-constructor":140}],225:[function(e,d,f){e("../internals/typed-array-constructor")("Uint32",function(l){return function(o,s,c){return l(this,o,s,c)}})},{"../internals/typed-array-constructor":140}],226:[function(e,d,f){e("../internals/typed-array-constructor")("Uint8",function(l){return function(o,s,c){return l(this,o,s,c)}})},{"../internals/typed-array-constructor":140}],227:[function(e,d,f){e("../internals/typed-array-constructor")("Uint8",function(l){return function(o,s,c){return l(this,o,s,c)}},!0)},{"../internals/typed-array-constructor":140}],228:[function(v,x,f){function l(k){return function(){return k(this,arguments.length?arguments[0]:void 0)}}var o,s,c,m,y,b=v("../internals/global"),a=v("../internals/redefine-all"),u=v("../internals/internal-metadata"),i=v("../internals/collection"),h=v("../internals/collection-weak"),p=v("../internals/is-object"),g=v("../internals/internal-state").enforce,v=v("../internals/native-weak-map"),b=!b.ActiveXObject&&"ActiveXObject"in b,w=Object.isExtensible,x=x.exports=i("WeakMap",l,h);v&&b&&(o=h.getConstructor(l,"WeakMap",!0),u.REQUIRED=!0,i=x.prototype,s=i.delete,c=i.has,m=i.get,y=i.set,a(i,{delete:function(k){var E;return p(k)&&!w(k)?((E=g(this)).frozen||(E.frozen=new o),s.call(this,k)||E.frozen.delete(k)):s.call(this,k)},has:function(k){var E;return p(k)&&!w(k)?((E=g(this)).frozen||(E.frozen=new o),c.call(this,k)||E.frozen.has(k)):c.call(this,k)},get:function(k){var E;return!p(k)||w(k)||((E=g(this)).frozen||(E.frozen=new o),c.call(this,k))?m.call(this,k):E.frozen.get(k)},set:function(k,E){var M;return!p(k)||w(k)||((M=g(this)).frozen||(M.frozen=new o),c.call(this,k))?y.call(this,k,E):M.frozen.set(k,E),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":59,"../internals/internal-metadata":69,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-weak-map":85,"../internals/redefine-all":107}],229:[function(e,d,f){var l,o=e("../internals/global"),s=e("../internals/dom-iterables"),c=e("../internals/array-for-each"),m=e("../internals/create-non-enumerable-property");for(l in s){var y=o[l],y=y&&y.prototype;if(y&&y.forEach!==c)try{m(y,"forEach",c)}catch{y.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59}],230:[function(y,d,f){var l,o=y("../internals/global"),s=y("../internals/dom-iterables"),c=y("../modules/es.array.iterator"),m=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),a=y("iterator"),u=y("toStringTag"),i=c.values;for(l in s){var h=o[l],p=h&&h.prototype;if(p){if(p[a]!==i)try{m(p,a,i)}catch{p[a]=i}if(p[u]||m(p,u,l),s[l]){for(var g in c)if(p[g]!==c[g])try{m(p,g,c[g])}catch{p[g]=c[g]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":59,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],231:[function(ae,d,f){ae("../modules/es.array.iterator");function l(Te){try{return decodeURIComponent(Te)}catch{return Te}}function o(Te){return N[Te]}function s(Te){return encodeURIComponent(Te).replace(j,o)}function c(Te){this.entries.length=0,F(this.entries,Te)}function m(Te,ke){if(Te<ke)throw TypeError("Not enough arguments")}function y(){b(this,y,re);var Te,ke,Me,Se,Xe,ve,Ce,Fe,ze=0<arguments.length?arguments[0]:void 0,Ve=[];if(ue(this,{type:re,entries:Ve,updateURL:function(){},updateSearchParams:c}),ze!==void 0)if(M(ze))if(typeof(Te=U(ze))=="function")for(Me=(ke=Te.call(ze)).next;!(Se=Me.call(ke)).done;){if((ve=(Xe=(Se=D(E(Se.value))).next).call(Se)).done||(Ce=Xe.call(Se)).done||!Xe.call(Se).done)throw TypeError("Expected sequence with length 2");Ve.push({key:ve.value+"",value:Ce.value+""})}else for(Fe in ze)w(ze,Fe)&&Ve.push({key:Fe,value:ze[Fe]+""});else F(Ve,typeof ze=="string"?ze.charAt(0)==="?"?ze.slice(1):ze:ze+"")}var a=ae("../internals/export"),K=ae("../internals/get-built-in"),u=ae("../internals/native-url"),i=ae("../internals/redefine"),h=ae("../internals/redefine-all"),p=ae("../internals/set-to-string-tag"),g=ae("../internals/create-iterator-constructor"),v=ae("../internals/internal-state"),b=ae("../internals/an-instance"),w=ae("../internals/has"),x=ae("../internals/function-bind-context"),k=ae("../internals/classof"),E=ae("../internals/an-object"),M=ae("../internals/is-object"),O=ae("../internals/object-create"),P=ae("../internals/create-property-descriptor"),D=ae("../internals/get-iterator"),U=ae("../internals/get-iterator-method"),ae=ae("../internals/well-known-symbol"),z=K("fetch"),V=K("Headers"),K=ae("iterator"),re="URLSearchParams",Q=re+"Iterator",ue=v.set,te=v.getterFor(re),oe=v.getterFor(Q),ce=/\+/g,ne=Array(4),R=function(Te){var ke,Me=Te.replace(ce," "),Se=4;try{return decodeURIComponent(Me)}catch{for(;Se;)Me=Me.replace((ke=Se--,ne[ke-1]||(ne[ke-1]=RegExp("((?:%[\\da-f]{2}){"+ke+"})","gi"))),l);return Me}},j=/[!'()~]|%20/g,N={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},F=function(Te,ke){if(ke)for(var Me,Se=ke.split("&"),Xe=0;Xe<Se.length;)(Me=Se[Xe++]).length&&(Me=Me.split("="),Te.push({key:R(Me.shift()),value:R(Me.join("="))}))},ie=g(function(Te,ke){ue(this,{type:Q,iterator:D(te(Te).entries),kind:ke})},"Iterator",function(){var ke=oe(this),Te=ke.kind,ke=ke.iterator.next(),Me=ke.value;return ke.done||(ke.value=Te==="keys"?Me.key:Te==="values"?Me.value:[Me.key,Me.value]),ke}),ae=y.prototype;h(ae,{append:function(Te,ke){m(arguments.length,2);var Me=te(this);Me.entries.push({key:Te+"",value:ke+""}),Me.updateURL()},delete:function(Te){m(arguments.length,1);for(var ke=te(this),Me=ke.entries,Se=Te+"",Xe=0;Xe<Me.length;)Me[Xe].key===Se?Me.splice(Xe,1):Xe++;ke.updateURL()},get:function(Te){m(arguments.length,1);for(var ke=te(this).entries,Me=Te+"",Se=0;Se<ke.length;Se++)if(ke[Se].key===Me)return ke[Se].value;return null},getAll:function(Te){m(arguments.length,1);for(var ke=te(this).entries,Me=Te+"",Se=[],Xe=0;Xe<ke.length;Xe++)ke[Xe].key===Me&&Se.push(ke[Xe].value);return Se},has:function(Te){m(arguments.length,1);for(var ke=te(this).entries,Me=Te+"",Se=0;Se<ke.length;)if(ke[Se++].key===Me)return!0;return!1},set:function(Te,ke){m(arguments.length,1);for(var Me,Se=te(this),Xe=Se.entries,ve=!1,Ce=Te+"",Fe=ke+"",ze=0;ze<Xe.length;ze++)(Me=Xe[ze]).key===Ce&&(ve?Xe.splice(ze--,1):(ve=!0,Me.value=Fe));ve||Xe.push({key:Ce,value:Fe}),Se.updateURL()},sort:function(){for(var Te,ke,Me=te(this),Se=Me.entries,Xe=Se.slice(),ve=Se.length=0;ve<Xe.length;ve++){for(Te=Xe[ve],ke=0;ke<ve;ke++)if(Se[ke].key>Te.key){Se.splice(ke,0,Te);break}ke===ve&&Se.push(Te)}Me.updateURL()},forEach:function(Te){for(var ke,Me=te(this).entries,Se=x(Te,1<arguments.length?arguments[1]:void 0,3),Xe=0;Xe<Me.length;)Se((ke=Me[Xe++]).value,ke.key,this)},keys:function(){return new ie(this,"keys")},values:function(){return new ie(this,"values")},entries:function(){return new ie(this,"entries")}},{enumerable:!0}),i(ae,K,ae.entries),i(ae,"toString",function(){for(var Te,ke=te(this).entries,Me=[],Se=0;Se<ke.length;)Te=ke[Se++],Me.push(s(Te.key)+"="+s(Te.value));return Me.join("&")},{enumerable:!0}),p(y,re),a({global:!0,forced:!u},{URLSearchParams:y}),u||typeof z!="function"||typeof V!="function"||a({global:!0,enumerable:!0,forced:!0},{fetch:function(Xe){var ke,Me,Se,Xe=[Xe];return 1<arguments.length&&(M(ke=arguments[1])&&(Me=ke.body,k(Me)===re&&((Se=ke.headers?new V(ke.headers):new V).has("content-type")||Se.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ke=O(ke,{body:P(0,String(Me)),headers:P(0,Se)}))),Xe.push(ke)),z.apply(this,Xe)}}),d.exports={URLSearchParams:y,getState:te}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":54,"../internals/get-built-in":56,"../internals/get-iterator":58,"../internals/get-iterator-method":57,"../internals/has":60,"../internals/internal-state":70,"../internals/is-object":74,"../internals/native-url":84,"../internals/object-create":90,"../internals/redefine":108,"../internals/redefine-all":107,"../internals/set-to-string-tag":117,"../internals/well-known-symbol":146,"../modules/es.array.iterator":158}],232:[function(D,d,f){D("../modules/es.string.iterator");function l(Ae){var mt,gt,tt,zt;if(typeof Ae=="number"){for(mt=[],gt=0;gt<4;gt++)mt.unshift(Ae%256),Ae=Q(Ae/256);return mt.join(".")}if(typeof Ae!="object")return Ae;for(mt="",tt=Ce(Ae),gt=0;gt<8;gt++)zt&&Ae[gt]===0||(zt=zt&&!1,tt===gt?(mt+=gt?":":"::",zt=!0):(mt+=Ae[gt].toString(16),gt<7&&(mt+=":")));return"["+mt+"]"}function o(Ae){return!Ae.host||Ae.cannotBeABaseURL||Ae.scheme=="file"}function s(Ae,mt,gt,tt){var zt,xt,Gt,Ct=gt||Ee,$t=0,At="",lr=!1,mr=!1,dr=!1;for(gt||(Ae.scheme="",Ae.username="",Ae.password="",Ae.host=null,Ae.port=null,Ae.path=[],Ae.query=null,Ae.fragment=null,Ae.cannotBeABaseURL=!1,mt=mt.replace(Se,"")),mt=mt.replace(Xe,""),zt=k(mt);$t<=zt.length;){switch(xt=zt[$t],Ct){case Ee:if(!xt||!R.test(xt)){if(gt)return oe;Ct=B;continue}At+=xt.toLowerCase(),Ct=we;break;case we:if(xt&&(j.test(xt)||xt=="+"||xt=="-"||xt=="."))At+=xt.toLowerCase();else{if(xt!=":"){if(gt)return oe;At="",Ct=B,$t=0;continue}if(gt&&(Oe(Ae)!=w(Ne,At)||At=="file"&&(We(Ae)||Ae.port!==null)||Ae.scheme=="file"&&!Ae.host))return;if(Ae.scheme=At,gt)return void(Oe(Ae)&&Ne[Ae.scheme]==Ae.port&&(Ae.port=null));At="",Ae.scheme=="file"?Ct=Re:Oe(Ae)&&tt&&tt.scheme==Ae.scheme?Ct=G:Oe(Ae)?Ct=ge:zt[$t+1]=="/"?(Ct=I,$t++):(Ae.cannotBeABaseURL=!0,Ae.path.push(""),Ct=J)}break;case B:if(!tt||tt.cannotBeABaseURL&&xt!="#")return oe;if(tt.cannotBeABaseURL&&xt=="#"){Ae.scheme=tt.scheme,Ae.path=tt.path.slice(),Ae.query=tt.query,Ae.fragment="",Ae.cannotBeABaseURL=!0,Ct=ee;break}Ct=tt.scheme=="file"?Re:C;continue;case G:if(xt!="/"||zt[$t+1]!="/"){Ct=C;continue}Ct=_e,$t++;break;case I:if(xt=="/"){Ct=H;break}Ct=q;continue;case C:if(Ae.scheme=tt.scheme,xt==y)Ae.username=tt.username,Ae.password=tt.password,Ae.host=tt.host,Ae.port=tt.port,Ae.path=tt.path.slice(),Ae.query=tt.query;else if(xt=="/"||xt=="\\"&&Oe(Ae))Ct=ye;else if(xt=="?")Ae.username=tt.username,Ae.password=tt.password,Ae.host=tt.host,Ae.port=tt.port,Ae.path=tt.path.slice(),Ae.query="",Ct=de;else{if(xt!="#"){Ae.username=tt.username,Ae.password=tt.password,Ae.host=tt.host,Ae.port=tt.port,Ae.path=tt.path.slice(),Ae.path.pop(),Ct=q;continue}Ae.username=tt.username,Ae.password=tt.password,Ae.host=tt.host,Ae.port=tt.port,Ae.path=tt.path.slice(),Ae.query=tt.query,Ae.fragment="",Ct=ee}break;case ye:if(!Oe(Ae)||xt!="/"&&xt!="\\"){if(xt!="/"){Ae.username=tt.username,Ae.password=tt.password,Ae.host=tt.host,Ae.port=tt.port,Ct=q;continue}Ct=H}else Ct=_e;break;case ge:if(Ct=_e,xt!="/"||At.charAt($t+1)!="/")continue;$t++;break;case _e:if(xt=="/"||xt=="\\")break;Ct=H;continue;case H:if(xt=="@"){lr&&(At="%40"+At);for(var lr=!0,hr=k(At),zr=0;zr<hr.length;zr++){var $r=hr[zr];$r!=":"||dr?($r=se($r,ot),dr?Ae.password+=$r:Ae.username+=$r):dr=!0}At=""}else if(xt==y||xt=="/"||xt=="?"||xt=="#"||xt=="\\"&&Oe(Ae)){if(lr&&At=="")return te;$t-=k(At).length+1,At="",Ct=me}else At+=xt;break;case me:case je:if(gt&&Ae.scheme=="file"){Ct=pe;continue}if(xt!=":"||mr){if(xt==y||xt=="/"||xt=="?"||xt=="#"||xt=="\\"&&Oe(Ae)){if(Oe(Ae)&&At=="")return ce;if(gt&&At==""&&(We(Ae)||Ae.port!==null))return;if(Gt=ve(Ae,At))return Gt;if(At="",Ct=Y,gt)return;continue}xt=="["?mr=!0:xt=="]"&&(mr=!1),At+=xt}else{if(At=="")return ce;if(Gt=ve(Ae,At))return Gt;if(At="",Ct=fe,gt==je)return}break;case fe:if(!N.test(xt)){if(xt==y||xt=="/"||xt=="?"||xt=="#"||xt=="\\"&&Oe(Ae)||gt){if(At!=""){var un=parseInt(At,10);if(65535<un)return ne;Ae.port=Oe(Ae)&&un===Ne[Ae.scheme]?null:un,At=""}if(gt)return;Ct=Y;continue}return ne}At+=xt;break;case Re:if(Ae.scheme="file",xt=="/"||xt=="\\")Ct=X;else{if(!tt||tt.scheme!="file"){Ct=q;continue}if(xt==y)Ae.host=tt.host,Ae.path=tt.path.slice(),Ae.query=tt.query;else if(xt=="?")Ae.host=tt.host,Ae.path=tt.path.slice(),Ae.query="",Ct=de;else{if(xt!="#"){Ge(zt.slice($t).join(""))||(Ae.host=tt.host,Ae.path=tt.path.slice(),et(Ae)),Ct=q;continue}Ae.host=tt.host,Ae.path=tt.path.slice(),Ae.query=tt.query,Ae.fragment="",Ct=ee}}break;case X:if(xt=="/"||xt=="\\"){Ct=pe;break}tt&&tt.scheme=="file"&&!Ge(zt.slice($t).join(""))&&(Ke(tt.path[0],!0)?Ae.path.push(tt.path[0]):Ae.host=tt.host),Ct=q;continue;case pe:if(xt==y||xt=="/"||xt=="\\"||xt=="?"||xt=="#"){if(!gt&&Ke(At))Ct=q;else{if(At==""){if(Ae.host="",gt)return}else{if(Gt=ve(Ae,At))return Gt;if(Ae.host=="localhost"&&(Ae.host=""),gt)return;At=""}Ct=Y}continue}At+=xt;break;case Y:if(Oe(Ae)){if(Ct=q,xt!="/"&&xt!="\\")continue}else if(gt||xt!="?")if(gt||xt!="#"){if(xt!=y&&(Ct=q,xt!="/"))continue}else Ae.fragment="",Ct=ee;else Ae.query="",Ct=de;break;case q:if(xt==y||xt=="/"||xt=="\\"&&Oe(Ae)||!gt&&(xt=="?"||xt=="#")){if(Be(At)?(et(Ae),xt=="/"||xt=="\\"&&Oe(Ae)||Ae.path.push("")):ut(At)?xt=="/"||xt=="\\"&&Oe(Ae)||Ae.path.push(""):(Ae.scheme=="file"&&!Ae.path.length&&Ke(At)&&(Ae.host&&(Ae.host=""),At=At.charAt(0)+":"),Ae.path.push(At)),At="",Ae.scheme=="file"&&(xt==y||xt=="?"||xt=="#"))for(;1<Ae.path.length&&Ae.path[0]==="";)Ae.path.shift();xt=="?"?(Ae.query="",Ct=de):xt=="#"&&(Ae.fragment="",Ct=ee)}else At+=se(xt,Ve);break;case J:xt=="?"?(Ae.query="",Ct=de):xt=="#"?(Ae.fragment="",Ct=ee):xt!=y&&(Ae.path[0]+=se(xt,Fe));break;case de:gt||xt!="#"?xt!=y&&(xt=="'"&&Oe(Ae)?Ae.query+="%27":Ae.query+=xt=="#"?"%23":se(xt,Fe)):(Ae.fragment="",Ct=ee);break;case ee:xt!=y&&(Ae.fragment+=se(xt,ze))}$t++}}function c(xt){var mt,gt,tt=b(this,c,"URL"),zt=1<arguments.length?arguments[1]:void 0,xt=String(xt),Gt=K(tt,{type:"URL"});if(zt!==void 0){if(zt instanceof c)mt=re(zt);else if(gt=s(mt={},String(zt)))throw TypeError(gt)}if(gt=s(Gt,xt,null,mt))throw TypeError(gt);var Ct=Gt.searchParams=new z;(zt=V(Ct)).updateSearchParams(Gt.query),zt.updateURL=function(){Gt.query=String(Ct)||null},h||(tt.href=be.call(tt),tt.origin=Ue.call(tt),tt.protocol=Je.call(tt),tt.username=Ye.call(tt),tt.password=rt.call(tt),tt.host=Z.call(tt),tt.hostname=he.call(tt),tt.port=pt.call(tt),tt.pathname=_t.call(tt),tt.search=kt.call(tt),tt.searchParams=Dt.call(tt),tt.hash=Pt.call(tt))}function m(Ae,mt){return{get:Ae,set:mt,configurable:!0,enumerable:!0}}var y,a,u,i=D("../internals/export"),h=D("../internals/descriptors"),p=D("../internals/native-url"),le=D("../internals/global"),g=D("../internals/object-define-properties"),v=D("../internals/redefine"),b=D("../internals/an-instance"),w=D("../internals/has"),x=D("../internals/object-assign"),k=D("../internals/array-from"),E=D("../internals/string-multibyte").codeAt,M=D("../internals/string-punycode-to-ascii"),O=D("../internals/set-to-string-tag"),P=D("../modules/web.url-search-params"),D=D("../internals/internal-state"),U=le.URL,z=P.URLSearchParams,V=P.getState,K=D.set,re=D.getterFor("URL"),Q=Math.floor,ue=Math.pow,te="Invalid authority",oe="Invalid scheme",ce="Invalid host",ne="Invalid port",R=/[A-Za-z]/,j=/[\d+-.A-Za-z]/,N=/\d/,F=/^(0x|0X)/,ie=/^[0-7]+$/,ae=/^\d+$/,Te=/^[\dA-Fa-f]+$/,ke=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,Me=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,Se=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Xe=/[\u0009\u000A\u000D]/g,ve=function(Ae,mt){var gt,tt,zt;if(mt.charAt(0)=="[")return mt.charAt(mt.length-1)=="]"&&(gt=function(xt){var Gt=[0,0,0,0,0,0,0,0],Ct=0,$t=null,At=0,lr,mr,dr,hr,zr,$r,un,fr=function(){return xt.charAt(At)};if(fr()==":"){if(xt.charAt(1)!=":")return;At+=2,Ct++,$t=Ct}for(;fr();){if(Ct==8)return;if(fr()==":"){if($t!==null)return;At++,Ct++,$t=Ct;continue}for(lr=mr=0;mr<4&&Te.test(fr());)lr=lr*16+parseInt(fr(),16),At++,mr++;if(fr()=="."){if(mr==0||(At-=mr,Ct>6))return;for(dr=0;fr();){if(hr=null,dr>0)if(fr()=="."&&dr<4)At++;else return;if(!N.test(fr()))return;for(;N.test(fr());){if(zr=parseInt(fr(),10),hr===null)hr=zr;else{if(hr==0)return;hr=hr*10+zr}if(hr>255)return;At++}Gt[Ct]=Gt[Ct]*256+hr,dr++,(dr==2||dr==4)&&Ct++}if(dr!=4)return;break}else if(fr()==":"){if(At++,!fr())return}else if(fr())return;Gt[Ct++]=lr}if($t!==null)for($r=Ct-$t,Ct=7;Ct!=0&&$r>0;)un=Gt[Ct],Gt[Ct--]=Gt[$t+$r-1],Gt[$t+--$r]=un;else if(Ct!=8)return;return Gt}(mt.slice(1,-1)))?void(Ae.host=gt):ce;if(Oe(Ae))return mt=M(mt),ke.test(mt)||(gt=function(xt){var Gt=xt.split("."),Ct,$t,At,lr,mr,dr,hr;if(Gt.length&&Gt[Gt.length-1]==""&&Gt.pop(),(Ct=Gt.length)>4)return xt;for($t=[],At=0;At<Ct;At++){if(lr=Gt[At],lr=="")return xt;if(mr=10,lr.length>1&&lr.charAt(0)=="0"&&(mr=F.test(lr)?16:8,lr=lr.slice(mr==8?1:2)),lr==="")dr=0;else{if(!(mr==10?ae:mr==8?ie:Te).test(lr))return xt;dr=parseInt(lr,mr)}$t.push(dr)}for(At=0;At<Ct;At++)if(dr=$t[At],At==Ct-1){if(dr>=ue(256,5-Ct))return null}else if(dr>255)return null;for(hr=$t.pop(),At=0;At<$t.length;At++)hr+=$t[At]*ue(256,3-At);return hr}(mt))===null?ce:void(Ae.host=gt);if(Me.test(mt))return ce;for(gt="",tt=k(mt),zt=0;zt<tt.length;zt++)gt+=se(tt[zt],Fe);Ae.host=gt},Ce=function(Ae){for(var mt=null,gt=1,tt=null,zt=0,xt=0;xt<8;xt++)Ae[xt]!==0?(gt<zt&&(mt=tt,gt=zt),tt=null,zt=0):(tt===null&&(tt=xt),++zt);return gt<zt&&(mt=tt,gt=zt),mt},Fe={},ze=x({},Fe,{" ":1,'"':1,"<":1,">":1,"`":1}),Ve=x({},ze,{"#":1,"?":1,"{":1,"}":1}),ot=x({},Ve,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),se=function(Ae,mt){var gt=E(Ae,0);return 32<gt&&gt<127&&!w(mt,Ae)?Ae:encodeURIComponent(Ae)},Ne={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Oe=function(Ae){return w(Ne,Ae.scheme)},We=function(Ae){return Ae.username!=""||Ae.password!=""},Ke=function(Ae,mt){return Ae.length==2&&R.test(Ae.charAt(0))&&((Ae=Ae.charAt(1))==":"||!mt&&Ae=="|")},Ge=function(Ae){return 1<Ae.length&&Ke(Ae.slice(0,2))&&(Ae.length==2||(Ae=Ae.charAt(2))==="/"||Ae==="\\"||Ae==="?"||Ae==="#")},et=function(Ae){var mt=Ae.path,gt=mt.length;!gt||Ae.scheme=="file"&&gt==1&&Ke(mt[0],!0)||mt.pop()},ut=function(Ae){return Ae==="."||Ae.toLowerCase()==="%2e"},Be=function(Ae){return(Ae=Ae.toLowerCase())===".."||Ae==="%2e."||Ae===".%2e"||Ae==="%2e%2e"},Ee={},we={},B={},G={},I={},C={},ye={},ge={},_e={},H={},me={},je={},fe={},Re={},X={},pe={},Y={},q={},J={},de={},ee={},le=c.prototype,be=function(){var Ae=re(this),mt=Ae.scheme,gt=Ae.username,tt=Ae.password,zt=Ae.host,xt=Ae.port,Gt=Ae.path,Ct=Ae.query,$t=Ae.fragment,At=mt+":";return zt!==null?(At+="//",We(Ae)&&(At+=gt+(tt?":"+tt:"")+"@"),At+=l(zt),xt!==null&&(At+=":"+xt)):mt=="file"&&(At+="//"),At+=Ae.cannotBeABaseURL?Gt[0]:Gt.length?"/"+Gt.join("/"):"",Ct!==null&&(At+="?"+Ct),$t!==null&&(At+="#"+$t),At},Ue=function(){var Ae=re(this),mt=Ae.scheme,gt=Ae.port;if(mt=="blob")try{return new URL(mt.path[0]).origin}catch{return"null"}return mt!="file"&&Oe(Ae)?mt+"://"+l(Ae.host)+(gt!==null?":"+gt:""):"null"},Je=function(){return re(this).scheme+":"},Ye=function(){return re(this).username},rt=function(){return re(this).password},Z=function(){var mt=re(this),Ae=mt.host,mt=mt.port;return Ae===null?"":mt===null?l(Ae):l(Ae)+":"+mt},he=function(){var Ae=re(this).host;return Ae===null?"":l(Ae)},pt=function(){var Ae=re(this).port;return Ae===null?"":String(Ae)},_t=function(){var Ae=re(this),mt=Ae.path;return Ae.cannotBeABaseURL?mt[0]:mt.length?"/"+mt.join("/"):""},kt=function(){var Ae=re(this).query;return Ae?"?"+Ae:""},Dt=function(){return re(this).searchParams},Pt=function(){var Ae=re(this).fragment;return Ae?"#"+Ae:""};h&&g(le,{href:m(be,function(gt){var mt=re(this),gt=String(gt),gt=s(mt,gt);if(gt)throw TypeError(gt);V(mt.searchParams).updateSearchParams(mt.query)}),origin:m(Ue),protocol:m(Je,function(Ae){var mt=re(this);s(mt,String(Ae)+":",Ee)}),username:m(Ye,function(Ae){var mt=re(this),gt=k(String(Ae));if(!o(mt)){mt.username="";for(var tt=0;tt<gt.length;tt++)mt.username+=se(gt[tt],ot)}}),password:m(rt,function(Ae){var mt=re(this),gt=k(String(Ae));if(!o(mt)){mt.password="";for(var tt=0;tt<gt.length;tt++)mt.password+=se(gt[tt],ot)}}),host:m(Z,function(Ae){var mt=re(this);mt.cannotBeABaseURL||s(mt,String(Ae),me)}),hostname:m(he,function(Ae){var mt=re(this);mt.cannotBeABaseURL||s(mt,String(Ae),je)}),port:m(pt,function(Ae){var mt=re(this);o(mt)||((Ae=String(Ae))==""?mt.port=null:s(mt,Ae,fe))}),pathname:m(_t,function(Ae){var mt=re(this);mt.cannotBeABaseURL||(mt.path=[],s(mt,Ae+"",Y))}),search:m(kt,function(Ae){var mt=re(this);(Ae=String(Ae))==""?mt.query=null:(Ae.charAt(0)=="?"&&(Ae=Ae.slice(1)),mt.query="",s(mt,Ae,de)),V(mt.searchParams).updateSearchParams(mt.query)}),searchParams:m(Dt),hash:m(Pt,function(Ae){var mt=re(this);(Ae=String(Ae))==""?mt.fragment=null:(Ae.charAt(0)=="#"&&(Ae=Ae.slice(1)),mt.fragment="",s(mt,Ae,ee))})}),v(le,"toJSON",function(){return be.call(this)},{enumerable:!0}),v(le,"toString",function(){return be.call(this)},{enumerable:!0}),U&&(a=U.createObjectURL,u=U.revokeObjectURL,a&&v(c,"createObjectURL",function(Ae){return a.apply(U,arguments)}),u&&v(c,"revokeObjectURL",function(Ae){return u.apply(U,arguments)})),O(c,"URL"),i({global:!0,forced:!p,sham:!h},{URL:c})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":59,"../internals/has":60,"../internals/internal-state":70,"../internals/native-url":84,"../internals/object-assign":89,"../internals/object-define-properties":91,"../internals/redefine":108,"../internals/set-to-string-tag":117,"../internals/string-multibyte":123,"../internals/string-punycode-to-ascii":124,"../modules/es.string.iterator":186,"../modules/web.url-search-params":231}],233:[function(e,d,f){d.exports=e("./").polyfill()},{"./":234}],234:[function(e,d,f){(function(l,o){var s,c;s=this,c=function(){function m(ve){return typeof ve=="function"}var y=Array.isArray||function(ve){return Object.prototype.toString.call(ve)==="[object Array]"},a=0,u=void 0,i=void 0,h=function(ve,Ce){x[a]=ve,x[a+1]=Ce,(a+=2)===2&&(i?i(k):z())},p=typeof window<"u"?window:void 0,g=p||{},g=g.MutationObserver||g.WebKitMutationObserver,v=typeof self>"u"&&l!==void 0&&{}.toString.call(l)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var ve=setTimeout;return function(){return ve(k,1)}}var x=new Array(1e3);function k(){for(var ve=0;ve<a;ve+=2)(0,x[ve])(x[ve+1]),x[ve]=void 0,x[ve+1]=void 0;a=0}function E(){try{var ve=Function("return this")().require("vertx");return(u=ve.runOnLoop||ve.runOnContext)!==void 0?function(){u(k)}:w()}catch{return w()}}var M,O,P,z=void 0;function D(ve,Ce){var Fe,ze=this,Ve=new this.constructor(K),ot=(Ve[V]===void 0&&Te(Ve),ze._state);return ot?(Fe=arguments[ot-1],h(function(){return ie(ot,Ve,Fe,ze._result)})):N(ze,Ve,ve,Ce),Ve}function U(ve){var Ce;return ve&&typeof ve=="object"&&ve.constructor===this?ve:(ce(Ce=new this(K),ve),Ce)}var z=v?function(){return l.nextTick(k)}:g?(O=0,v=new g(k),P=document.createTextNode(""),v.observe(P,{characterData:!0}),function(){P.data=O=++O%2}):b?((M=new MessageChannel).port1.onmessage=k,function(){return M.port2.postMessage(0)}):(p===void 0&&typeof e=="function"?E:w)(),V=Math.random().toString(36).substring(2);function K(){}var re=void 0,Q=1,ue=2;function te(ve,Ce,Fe){h(function(ze){var Ve=!1,ot=function(se,Ne,Oe,We){try{se.call(Ne,Oe,We)}catch(Ke){return Ke}}(Fe,Ce,function(se){Ve||(Ve=!0,(Ce!==se?ce:R)(ze,se))},function(se){Ve||(Ve=!0,j(ze,se))},ze._label);!Ve&&ot&&(Ve=!0,j(ze,ot))},ve)}function oe(ve,Ce,Fe){var ze,Ve;Ce.constructor===ve.constructor&&Fe===D&&Ce.constructor.resolve===U?(ze=ve,(Ve=Ce)._state===Q?R(ze,Ve._result):Ve._state===ue?j(ze,Ve._result):N(Ve,void 0,function(ot){return ce(ze,ot)},function(ot){return j(ze,ot)})):Fe!==void 0&&m(Fe)?te(ve,Ce,Fe):R(ve,Ce)}function ce(ve,Ce){if(ve===Ce)j(ve,new TypeError("You cannot resolve a promise with itself"));else if(Fe=typeof Ce,Ce===null||Fe!="object"&&Fe!="function")R(ve,Ce);else{Fe=void 0;try{Fe=Ce.then}catch(ze){return void j(ve,ze)}oe(ve,Ce,Fe)}var Fe}function ne(ve){ve._onerror&&ve._onerror(ve._result),F(ve)}function R(ve,Ce){ve._state===re&&(ve._result=Ce,ve._state=Q,ve._subscribers.length!==0&&h(F,ve))}function j(ve,Ce){ve._state===re&&(ve._state=ue,ve._result=Ce,h(ne,ve))}function N(ve,Ce,Fe,ze){var Ve=ve._subscribers,ot=Ve.length;ve._onerror=null,Ve[ot]=Ce,Ve[ot+Q]=Fe,Ve[ot+ue]=ze,ot===0&&ve._state&&h(F,ve)}function F(ve){var Ce=ve._subscribers,Fe=ve._state;if(Ce.length!==0){for(var ze,Ve=void 0,ot=ve._result,se=0;se<Ce.length;se+=3)ze=Ce[se],Ve=Ce[se+Fe],ze?ie(Fe,ze,Ve,ot):Ve(ot);ve._subscribers.length=0}}function ie(ve,Ce,Fe,ze){var Ve=m(Fe),ot=void 0,se=void 0,Ne=!0;if(Ve){try{ot=Fe(ze)}catch(Oe){Ne=!1,se=Oe}if(Ce===ot)return void j(Ce,new TypeError("A promises callback cannot return that same promise."))}else ot=ze;Ce._state===re&&(Ve&&Ne?ce(Ce,ot):Ne===!1?j(Ce,se):ve===Q?R(Ce,ot):ve===ue&&j(Ce,ot))}var ae=0;function Te(ve){ve[V]=ae++,ve._state=void 0,ve._result=void 0,ve._subscribers=[]}Me.prototype._enumerate=function(ve){for(var Ce=0;this._state===re&&Ce<ve.length;Ce++)this._eachEntry(ve[Ce],Ce)},Me.prototype._eachEntry=function(ve,Ce){var Fe=this._instanceConstructor,ze=Fe.resolve;if(ze===U){var Ve,ot=void 0,se=void 0,Ne=!1;try{ot=ve.then}catch(Oe){Ne=!0,se=Oe}ot===D&&ve._state!==re?this._settledAt(ve._state,Ce,ve._result):typeof ot!="function"?(this._remaining--,this._result[Ce]=ve):Fe===Se?(Ve=new Fe(K),Ne?j(Ve,se):oe(Ve,ve,ot),this._willSettleAt(Ve,Ce)):this._willSettleAt(new Fe(function(Oe){return Oe(ve)}),Ce)}else this._willSettleAt(ze(ve),Ce)},Me.prototype._settledAt=function(ve,Ce,Fe){var ze=this.promise;ze._state===re&&(this._remaining--,ve===ue?j(ze,Fe):this._result[Ce]=Fe),this._remaining===0&&R(ze,this._result)},Me.prototype._willSettleAt=function(ve,Ce){var Fe=this;N(ve,void 0,function(ze){return Fe._settledAt(Q,Ce,ze)},function(ze){return Fe._settledAt(ue,Ce,ze)})};var ke=Me;function Me(ve,Ce){this._instanceConstructor=ve,this.promise=new ve(K),this.promise[V]||Te(this.promise),y(Ce)?(this.length=Ce.length,this._remaining=Ce.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(Ce),this._remaining!==0)||R(this.promise,this._result)):j(this.promise,new Error("Array Methods must be provided an Array"))}Xe.prototype.catch=function(ve){return this.then(null,ve)},Xe.prototype.finally=function(ve){var Ce=this.constructor;return m(ve)?this.then(function(Fe){return Ce.resolve(ve()).then(function(){return Fe})},function(Fe){return Ce.resolve(ve()).then(function(){throw Fe})}):this.then(ve,ve)};var Se=Xe;function Xe(ve){if(this[V]=ae++,this._result=this._state=void 0,this._subscribers=[],K!==ve){if(typeof ve!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof Xe))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var Ce=this;try{ve(function(Fe){ce(Ce,Fe)},function(Fe){j(Ce,Fe)})}catch(Fe){j(Ce,Fe)}}}return Se.prototype.then=D,Se.all=function(ve){return new ke(this,ve).promise},Se.race=function(ve){var Ce=this;return y(ve)?new Ce(function(Fe,ze){for(var Ve=ve.length,ot=0;ot<Ve;ot++)Ce.resolve(ve[ot]).then(Fe,ze)}):new Ce(function(Fe,ze){return ze(new TypeError("You must pass an array to race."))})},Se.resolve=U,Se.reject=function(ve){var Ce=new this(K);return j(Ce,ve),Ce},Se._setScheduler=function(ve){i=ve},Se._setAsap=function(ve){h=ve},Se._asap=h,Se.polyfill=function(){var ve=void 0;if(o!==void 0)ve=o;else if(typeof self<"u")ve=self;else try{ve=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Ce=ve.Promise;if(Ce){var Fe=null;try{Fe=Object.prototype.toString.call(Ce.resolve())}catch{}if(Fe==="[object Promise]"&&!Ce.cast)return}ve.Promise=Se},Se.Promise=Se},typeof f=="object"&&d!==void 0?d.exports=c():s.ES6Promise=c()}).call(this,e("_process"),typeof ko<"u"?ko:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:243}],235:[function(e,d,f){var l,o;l=this,o=function(s,c){var m=5e3,y="callback";function a(i){try{delete window[i]}catch{window[i]=void 0}}function u(i){i=document.getElementById(i),i&&document.getElementsByTagName("head")[0].removeChild(i)}c.exports=function(i){var h=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],p=i,g=h.timeout||m,v=h.jsonpCallback||y,b=void 0;return new Promise(function(w,x){var k=h.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),E=v+"_"+k,M=(window[k]=function(O){w({ok:!0,json:function(){return Promise.resolve(O)}}),b&&clearTimeout(b),u(E),a(k)},p+=p.indexOf("?")===-1?"?":"&",document.createElement("script"));M.setAttribute("src",""+p+v+"="+k),h.charset&&M.setAttribute("charset",h.charset),M.id=E,document.getElementsByTagName("head")[0].appendChild(M),b=setTimeout(function(){x(new Error("JSONP request to "+i+" timed out")),a(k),u(E),window[k]=function(){a(k)}},g),M.onerror=function(){x(new Error("JSONP request to "+i+" failed")),a(k),u(E),b&&clearTimeout(b)}})}},f!==void 0&&d!==void 0?o(0,d):(o(o={exports:{}},o),l.fetchJsonp=o.exports)},{}],236:[function(e,d,f){var l=function(o){var s,c,m,y,a,u,i,h,p,g,v;if(!(o===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return v=o.document,s=function(){return o.URL||o.webkitURL||o},c=v.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in c,y=/constructor/i.test(o.HTMLElement)||o.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(b){(o.setImmediate||o.setTimeout)(function(){throw b},0)},i=4e4,h=function(b){setTimeout(function(){typeof b=="string"?s().revokeObjectURL(b):b.remove()},i)},p=function(b){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(b.type)?new Blob([String.fromCharCode(65279),b],{type:b.type}):b},v=(g=function(b,w,O){O||(b=p(b));var k,E,M=this,O=b.type==="application/octet-stream",P=function(){for(var D=M,U="writestart progress write writeend".split(" "),z=void 0,V=(U=[].concat(U)).length;V--;){var K=D["on"+U[V]];if(typeof K=="function")try{K.call(D,z||D)}catch(re){u(re)}}};M.readyState=M.INIT,m?(k=s().createObjectURL(b),setTimeout(function(){var D,U;c.href=k,c.download=w,D=c,U=new MouseEvent("click"),D.dispatchEvent(U),P(),h(k),M.readyState=M.DONE})):(a||O&&y)&&o.FileReader?((E=new FileReader).onloadend=function(){var D=a?E.result:E.result.replace(/^data:[^;]*;/,"data:attachment/file;");o.open(D,"_blank")||(o.location.href=D),D=void 0,M.readyState=M.DONE,P()},E.readAsDataURL(b),M.readyState=M.INIT):(k=k||s().createObjectURL(b),!O&&o.open(k,"_blank")||(o.location.href=k),M.readyState=M.DONE,P(),h(k))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(b,w,x){return w=w||b.name||"download",x||(b=p(b)),navigator.msSaveOrOpenBlob(b,w)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,function(b,w,x){return new g(b,w||b.name||"download",x)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);d!==void 0&&d.exports?d.exports.saveAs=l:n!=null},{}],237:[function(e,d,f){var l,o=Object.defineProperty,s=(o(f,"__esModule",{value:!0}),f),c={GIFEncoder:()=>P,applyPalette:()=>function(re,Q,ue="rgb565"){if(!re||!re.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(re instanceof Uint8Array||re instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<Q.length)throw new Error("applyPalette() only works with 256 colors or less");const te=new Uint32Array(re.buffer),oe=te.length,ce=ue==="rgb444"?4096:65536,ne=new Uint8Array(oe),R=new Array(ce);if(ue==="rgba4444")for(let Xe=0;Xe<oe;Xe++){var ie=te[Xe],j=ie>>24&255,N=ie>>16&255,F=ie>>8&255,ie=255&ie,ae=h(ie,F,N,j),ae=ae in R?R[ae]:R[ae]=function(ve,Ce,Fe,ze,Ve){let ot=0,se=1e100;for(let Ke=0;Ke<Ve.length;Ke++){var Ne,Oe=Ve[Ke],We=E(Oe[3]-ze);We>se||(Ne=Oe[0],(We+=E(Ne-ve))>se||(Ne=Oe[1],(We+=E(Ne-Ce))>se||(Ne=Oe[2],(We+=E(Ne-Fe))>se||(se=We,ot=Ke))))}return ot}(ie,F,N,j,Q);ne[Xe]=ae}else{const Xe=ue==="rgb444"?p:i;for(let ve=0;ve<oe;ve++){var Me=te[ve],Te=Me>>16&255,ke=Me>>8&255,Me=255&Me,Se=Xe(Me,ke,Te),Se=Se in R?R[Se]:R[Se]=function(Ce,Fe,ze,Ve){let ot=0,se=1e100;for(let Ke=0;Ke<Ve.length;Ke++){var Ne,Oe=Ve[Ke],We=E(Oe[0]-Ce);We>se||(Ne=Oe[1],(We+=E(Ne-Fe))>se||(Ne=Oe[2],(We+=E(Ne-ze))>se||(se=We,ot=Ke)))}return ot}(Me,ke,Te,Q);ne[ve]=Se}}return ne},default:()=>K,nearestColor:()=>function(re,Q,ue=x){return re[M(re,Q,ue)]},nearestColorIndex:()=>M,nearestColorIndexWithDistance:()=>O,prequantize:()=>function(re,{roundRGB:Q=5,roundAlpha:ue=10,oneBitAlpha:te=null}={}){const oe=new Uint32Array(re.buffer);for(let N=0;N<oe.length;N++){var j=oe[N];let F=j>>24&255;var ce,ne=j>>16&255,R=j>>8&255,j=255&j;F=k(F,ue),te&&(ce=typeof te=="number"?te:127,F=F<=ce?0:255),j=k(j,Q),R=k(R,Q),ne=k(ne,Q),oe[N]=F<<24|ne<<16|R<<8|j<<0}},quantize:()=>function(re,Q,ue={}){var{format:te="rgb565",clearAlpha:oe=!0,clearAlphaColor:ce=0,clearAlphaThreshold:ne=0,oneBitAlpha:R=!1}=ue;if(!re||!re.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(re instanceof Uint8Array||re instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");re=new Uint32Array(re.buffer);let j=ue.useSqrt!==!1;const N=te==="rgba4444",F=function(Ge,et){const ut=et==="rgb444"?4096:65536,Be=new Array(ut),Ee=Ge.length;if(et==="rgba4444")for(let X=0;X<Ee;++X){var I=Ge[X],we=I>>24&255,B=I>>16&255,G=I>>8&255,I=255&I,C=h(I,G,B,we);let pe=C in Be?Be[C]:Be[C]=w();pe.rc+=I,pe.gc+=G,pe.bc+=B,pe.ac+=we,pe.cnt++}else if(et==="rgb444")for(let X=0;X<Ee;++X){var _e=Ge[X],ye=_e>>16&255,ge=_e>>8&255,_e=255&_e,H=p(_e,ge,ye);let pe=H in Be?Be[H]:Be[H]=w();pe.rc+=_e,pe.gc+=ge,pe.bc+=ye,pe.cnt++}else for(let X=0;X<Ee;++X){var fe=Ge[X],me=fe>>16&255,je=fe>>8&255,fe=255&fe,Re=i(fe,je,me);let pe=Re in Be?Be[Re]:Be[Re]=w();pe.rc+=fe,pe.gc+=je,pe.bc+=me,pe.cnt++}return Be}(re,te),ie=F.length,ae=ie-1,Te=new Uint32Array(ie+1);for(var ke=0,Me=0;Me<ie;++Me){const Ge=F[Me];Ge!=null&&(Oe=1/Ge.cnt,N&&(Ge.ac*=Oe),Ge.rc*=Oe,Ge.gc*=Oe,Ge.bc*=Oe,F[ke++]=Ge)}v(Q)/ke<.022&&(j=!1);for(var Se,Xe,ve,Me=0;Me<ke-1;++Me)F[Me].fw=Me+1,F[Me+1].bk=Me,j&&(F[Me].cnt=Math.sqrt(F[Me].cnt));for(j&&(F[Me].cnt=Math.sqrt(F[Me].cnt)),Me=0;Me<ke;++Me){b(F,Me,!1);var Ce=F[Me].err;for(Xe=++Te[0];1<Xe&&(ve=Xe>>1,!(F[Se=Te[ve]].err<=Ce));Xe=ve)Te[Xe]=Se;Te[Xe]=Me}var Fe,ze=ke-Q;for(Me=0;Me<ze;){for(;;){var Ve=Te[1];if((Fe=F[Ve]).tm>=Fe.mtm&&F[Fe.nn].mtm<=Fe.tm)break;for(Fe.mtm==ae?Ve=Te[1]=Te[Te[0]--]:(b(F,Ve,!1),Fe.tm=Me),Ce=F[Ve].err,Xe=1;(ve=Xe+Xe)<=Te[0]&&(ve<Te[0]&&F[Te[ve]].err>F[Te[ve+1]].err&&ve++,!(Ce<=F[Se=Te[ve]].err));Xe=ve)Te[Xe]=Se;Te[Xe]=Ve}var ot=F[Fe.nn],se=Fe.cnt,Ne=ot.cnt,Oe=1/(se+Ne);N&&(Fe.ac=Oe*(se*Fe.ac+Ne*ot.ac)),Fe.rc=Oe*(se*Fe.rc+Ne*ot.rc),Fe.gc=Oe*(se*Fe.gc+Ne*ot.gc),Fe.bc=Oe*(se*Fe.bc+Ne*ot.bc),Fe.cnt+=ot.cnt,Fe.mtm=++Me,F[ot.bk].fw=ot.fw,F[ot.fw].bk=ot.bk,ot.mtm=ae}let We=[];for(Me=0;;0){let Ge=g(Math.round(F[Me].rc),0,255),et=g(Math.round(F[Me].gc),0,255),ut=g(Math.round(F[Me].bc),0,255),Be=255;N&&(Be=g(Math.round(F[Me].ac),0,255),R&&(Ke=typeof R=="number"?R:127,Be=Be<=Ke?0:255),oe&&Be<=ne&&(Ge=et=ut=ce,Be=0));var Ke=N?[Ge,et,ut,Be]:[Ge,et,ut];if(function(Ee,we){for(let I=0;I<Ee.length;I++){var G=Ee[I],B=G[0]===we[0]&&G[1]===we[1]&&G[2]===we[2],G=!(4<=G.length&&4<=we.length)||G[3]===we[3];if(B&&G)return!0}return!1}(We,Ke)||We.push(Ke),(Me=F[Me].fw)==0)break}return We},snapColorsToPalette:()=>function(re,Q,ue=5){if(re.length&&Q.length){var te=re.map(j=>j.slice(0,3)),oe=ue*ue,ce=re[0].length;for(let j=0;j<Q.length;j++){let N=Q[j];N=N.length<ce?[N[0],N[1],N[2],255]:N.length>ce?N.slice(0,3):N.slice();var R=O(te,N.slice(0,3),x),ne=R[0],R=R[1];0<R&&R<=oe&&(re[ne]=N)}}}};for(l in c)o(s,l,{get:c[l],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function y(re=256){let Q=0,ue=new Uint8Array(re);return{get buffer(){return ue.buffer},reset(){Q=0},bytesView(){return ue.subarray(0,Q)},bytes(){return ue.slice(0,Q)},writeByte(oe){te(Q+1),ue[Q]=oe,Q++},writeBytes(oe,ce=0,ne=oe.length){te(Q+ne);for(let R=0;R<ne;R++)ue[Q++]=oe[R+ce]},writeBytesView(oe,ce=0,ne=oe.byteLength){te(Q+ne),ue.set(oe.subarray(ce,ce+ne),Q),Q+=ne}};function te(oe){var ce=ue.length;if(!(oe<=ce)){oe=Math.max(oe,ce*(ce<1048576?2:1.125)>>>0),ce!=0&&(oe=Math.max(oe,256));const ne=ue;ue=new Uint8Array(oe),0<Q&&ue.set(ne.subarray(0,Q),0)}}}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],u=function(re,Q,ue,N,oe=y(512),ce=new Uint8Array(256),ne=new Int32Array(5003),R=new Int32Array(5003)){var j=ne.length,N=Math.max(2,N);ce.fill(0),R.fill(0),ne.fill(-1);let F=0,ie=0;var ae=N+1;const Te=ae;let ke=!1,Me=Te,Se=(1<<Me)-1;var Xe=1<<ae-1;const ve=1+Xe;let Ce=2+Xe,Fe=0,ze=ue[0],Ve=0;for(let Ke=j;Ke<65536;Ke*=2)++Ve;Ve=8-Ve,oe.writeByte(N),We(Xe);var ot=ue.length;for(let Ke=1;Ke<ot;Ke++)e:{var se=ue[Ke],Ne=(se<<12)+ze;let Ge=se<<Ve^ze;if(ne[Ge]===Ne)ze=R[Ge];else{for(var Oe=Ge===0?1:j-Ge;0<=ne[Ge];)if((Ge-=Oe)<0&&(Ge+=j),ne[Ge]===Ne){ze=R[Ge];break e}We(ze),ze=se,Ce<4096?(R[Ge]=Ce++,ne[Ge]=Ne):(ne.fill(-1),Ce=2+Xe,ke=!0,We(Xe))}}return We(ze),We(ve),oe.writeByte(0),oe.bytesView();function We(Ke){for(F&=a[ie],0<ie?F|=Ke<<ie:F=Ke,ie+=Me;8<=ie;)ce[Fe++]=255&F,254<=Fe&&(oe.writeByte(Fe),oe.writeBytesView(ce,0,Fe),Fe=0),F>>=8,ie-=8;if((Ce>Se||ke)&&(ke?(Me=Te,Se=(1<<Me)-1,ke=!1):(++Me,Se=Me===12?1<<Me:(1<<Me)-1)),Ke==ve){for(;0<ie;)ce[Fe++]=255&F,254<=Fe&&(oe.writeByte(Fe),oe.writeBytesView(ce,0,Fe),Fe=0),F>>=8,ie-=8;0<Fe&&(oe.writeByte(Fe),oe.writeBytesView(ce,0,Fe),Fe=0)}}};function i(re,Q,ue){return re<<8&63488|Q<<2&992|ue>>3}function h(re,Q,ue,te){return re>>4|240&Q|(240&ue)<<4|(240&te)<<8}function p(re,Q,ue){return re>>4<<8|240&Q|ue>>4}function g(re,Q,ue){return re<Q?Q:ue<re?ue:re}function v(re){return re*re}function b(re,Q,ue){var te=0,oe=1e100;const ce=re[Q];for(var ne=ce.cnt,R=ce.ac,j=ce.rc,N=ce.gc,F=ce.bc,ie=ce.fw;ie!=0;ie=re[ie].fw){var ae,Te=re[ie],ke=Te.cnt,ke=ne*ke/(ne+ke);oe<=ke||(ae=0,ue&&oe<=(ae+=ke*v(Te.ac-R))||oe<=(ae+=ke*v(Te.rc-j))||oe<=(ae+=ke*v(Te.gc-N))||oe<=(ae+=ke*v(Te.bc-F))||(oe=ae,te=ie))}ce.err=oe,ce.nn=te}function w(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function x(re,Q){for(var ue=0,te=0;te<re.length;te++){var oe=re[te]-Q[te];ue+=oe*oe}return ue}function k(re,Q){return 1<Q?Math.round(re/Q)*Q:re}function E(re){return re*re}function M(re,Q,ue=x){let te=1/0,oe=-1;for(let ne=0;ne<re.length;ne++){var ce=ue(Q,re[ne]);ce<te&&(te=ce,oe=ne)}return oe}function O(re,Q,ue=x){let te=1/0,oe=-1;for(let ne=0;ne<re.length;ne++){var ce=ue(Q,re[ne]);ce<te&&(te=ce,oe=ne)}return[oe,te]}function P(re={}){const{initialCapacity:Q=4096,auto:ue=!0}=re,te=y(Q),oe=new Uint8Array(256),ce=new Int32Array(5003),ne=new Int32Array(5003);let R=!1;return{reset(){te.reset(),R=!1},finish(){te.writeByte(m.trailer)},bytes(){return te.bytes()},bytesView(){return te.bytesView()},get buffer(){return te.buffer},get stream(){return te},writeHeader:j,writeFrame(N,F,ie,ze={}){var{transparent:Te=!1,transparentIndex:ke=0,delay:Oe=0,palette:Me=null,repeat:ot=0,colorDepth:Se=8,dispose:Xe=-1}=ze;let ve=!1;if(ue?R||(ve=!0,j(),R=!0):ve=Boolean(ze.first),F=Math.max(0,Math.floor(F)),ie=Math.max(0,Math.floor(ie)),ve){if(!Me)throw new Error("First frame must include a { palette } option");var[ze,se,Fe,Ne,Ve=8]=[te,F,ie,Me,Se];Ne=V(Ne.length)-1,Ve=128|Ve-1<<4|Ne,U(ze,se),U(ze,Fe),ze.writeBytes([Ve,0,0]),D(te,Me),0<=ot&&(Ne=te,se=ot,Ne.writeByte(33),Ne.writeByte(255),Ne.writeByte(11),z(Ne,"NETSCAPE2.0"),Ne.writeByte(3),Ne.writeByte(1),U(Ne,se),Ne.writeByte(0))}var Ce,Fe=Math.round(Oe/10),ze=te,Ve=Xe,ot=Fe,se=Te,Ne=ke,Oe=(ze.writeByte(33),ze.writeByte(249),ze.writeByte(4),Ne<0&&(Ne=0,se=!1),se=se?(Ce=1,2):Ce=0,0<=Ve&&(se=7&Ve),se<<=2,ze.writeByte(0|se|Ce),U(ze,ot),ze.writeByte(Ne||0),ze.writeByte(0),Boolean(Me)&&!ve);Xe=te,Te=F,ke=ie,Ce=Oe?Me:null,Xe.writeByte(44),U(Xe,0),U(Xe,0),U(Xe,Te),U(Xe,ke),Ce?(Te=V(Ce.length)-1,Xe.writeByte(128|Te)):Xe.writeByte(0),Oe&&D(te,Me),[ot,ze,ke,Te,Xe=8,Oe,Me,N]=[te,N,F,ie,Se,oe,ce,ne],u(ke,Te,ze,Xe,ot,Oe,Me,N)}};function j(){z(te,"GIF89a")}}function D(re,Q){var ue=1<<V(Q.length);for(let te=0;te<ue;te++){let oe=[0,0,0];te<Q.length&&(oe=Q[te]),re.writeByte(oe[0]),re.writeByte(oe[1]),re.writeByte(oe[2])}}function U(re,Q){re.writeByte(255&Q),re.writeByte(Q>>8&255)}function z(re,Q){for(var ue=0;ue<Q.length;ue++)re.writeByte(Q.charCodeAt(ue))}function V(re){return Math.max(Math.ceil(Math.log2(re)),1)}var K=P},{}],238:[function(e,d,f){f.read=function(l,o,s,c,b){var y,a,u=8*b-c-1,i=(1<<u)-1,h=i>>1,p=-7,g=s?b-1:0,v=s?-1:1,b=l[o+g];for(g+=v,y=b&(1<<-p)-1,b>>=-p,p+=u;0<p;y=256*y+l[o+g],g+=v,p-=8);for(a=y&(1<<-p)-1,y>>=-p,p+=c;0<p;a=256*a+l[o+g],g+=v,p-=8);if(y===0)y=1-h;else{if(y===i)return a?NaN:1/0*(b?-1:1);a+=Math.pow(2,c),y-=h}return(b?-1:1)*a*Math.pow(2,y-c)},f.write=function(l,o,s,c,m,w){var a,u,i=8*w-m-1,h=(1<<i)-1,p=h>>1,g=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=c?0:w-1,b=c?1:-1,w=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,a=h):(a=Math.floor(Math.log(o)/Math.LN2),o*(c=Math.pow(2,-a))<1&&(a--,c*=2),2<=(o+=1<=a+p?g/c:g*Math.pow(2,1-p))*c&&(a++,c/=2),h<=a+p?(u=0,a=h):1<=a+p?(u=(o*c-1)*Math.pow(2,m),a+=p):(u=o*Math.pow(2,p-1)*Math.pow(2,m),a=0));8<=m;l[s+v]=255&u,v+=b,u/=256,m-=8);for(a=a<<m|u,i+=m;0<i;l[s+v]=255&a,v+=b,a/=256,i-=8);l[s+v-b]|=128*w}},{}],239:[function(e,d,f){var l;function o(B,G){return B.b===G.b&&B.a===G.a}function s(B,G){return B.b<G.b||B.b===G.b&&B.a<=G.a}function c(B,G,I){var C=G.b-B.b,ye=I.b-G.b;return 0<C+ye?C<ye?G.a-B.a+C/(C+ye)*(B.a-I.a):G.a-I.a+ye/(C+ye)*(I.a-B.a):0}function m(B,G,I){var C=G.b-B.b,ye=I.b-G.b;return 0<C+ye?(G.a-I.a)*C+(G.a-B.a)*ye:0}function y(B,G){return B.a<G.a||B.a===G.a&&B.b<=G.b}function a(B,G,I){var C=G.a-B.a,ye=I.a-G.a;return 0<C+ye?C<ye?G.b-B.b+C/(C+ye)*(B.b-I.b):G.b-I.b+ye/(C+ye)*(I.b-B.b):0}function u(B,G,I){var C=G.a-B.a,ye=I.a-G.a;return 0<C+ye?(G.b-I.b)*C+(G.b-B.b)*ye:0}function i(B,G,I,C){return(B=B<0?0:B)<=(I=I<0?0:I)?I===0?(G+C)/2:G+B/(B+I)*(C-G):C+I/(B+I)*(G-C)}function h(B){var G=w(B.b);return k(G,B.c),k(G.b,B.c),E(G,B.a),G}function p(B,G){var I=!1,C=!1;B!==G&&(G.a!==B.a&&(C=!0,O(G.a,B.a)),G.d!==B.d&&(I=!0,P(G.d,B.d)),x(G,B),C||(k(G,B.a),B.a.c=B),I||(E(G,B.d),B.d.a=B))}function g(B){var G=B.b,I=!1;B.d!==B.b.d&&(I=!0,P(B.d,B.b.d)),B.c===B?O(B.a,null):(B.b.d.a=B.b.e,B.a.c=B.c,x(B,B.b.e),I||E(B,B.d)),G.c===G?(O(G.a,null),P(G.d,null)):(B.d.a=G.b.e,G.a.c=G.c,x(G,G.b.e)),M(B)}function v(B){var G=w(B),I=G.b;return x(G,B.e),G.a=B.b.a,k(I,G.a),G.d=I.d=B.d,G=G.b,x(B.b,B.b.b.e),x(B.b,G),B.b.a=G.a,G.b.a.c=G.b,G.b.d=B.b.d,G.f=B.f,G.b.f=B.b.f,G}function b(B,G){var I=!1,C=w(B),ye=C.b;return G.d!==B.d&&(I=!0,P(G.d,B.d)),x(C,B.e),x(ye,G),C.a=B.b.a,ye.a=G.a,C.d=ye.d=B.d,B.d.a=ye,I||E(C,B.d),C}function w(B){var G=new Fe,I=new Fe,C=B.b.h;return(((I.h=C).b.h=G).h=B).b.h=I,G.b=I,((G.c=G).e=I).b=G,(I.c=I).e=G}function x(B,G){var I=B.c,C=G.c;I.b.e=G,(C.b.e=B).c=C,G.c=I}function k(B,G){var I=G.f,C=new Ve(G,I);for(I.e=C,I=(G.f=C).c=B;I.a=C,(I=I.c)!==B;);}function E(B,G){var I=G.d,C=new Ce(G,I);for(I.b=C,(G.d=C).a=B,C.c=G.c,I=B;I.d=C,(I=I.e)!==B;);}function M(B){var G=B.h;B=B.b.h,(G.b.h=B).b.h=G}function O(B,G){for(var I=B.c,C=I;C.a=G,(C=C.c)!==I;);I=B.f,((C=B.e).f=I).e=C}function P(B,G){for(var I=B.a,C=I;C.d=G,(C=C.e)!==I;);I=B.d,((C=B.b).d=I).b=C}function D(B){var G=0;return Math.abs(B[1])>Math.abs(B[0])&&(G=1),G=Math.abs(B[2])>Math.abs(B[G])?2:G}function U(B,G){B.f+=G.f,B.b.f+=G.b.f}function z(B,G,I){return B=B.a,G=G.a,I=I.a,G.b.a===B?I.b.a===B?s(G.a,I.a)?m(I.b.a,G.a,I.a)<=0:0<=m(G.b.a,I.a,G.a):m(I.b.a,B,I.a)<=0:I.b.a===B?0<=m(G.b.a,B,G.a):(G=c(G.b.a,B,G.a),(B=c(I.b.a,B,I.a))<=G)}function V(B){B.a.i=null;var G=B.e;G.a.c=G.c,G.c.a=G.a,B.e=null}function K(B,G){g(B.a),B.c=!1,(B.a=G).i=B}function re(B){for(var G=B.a.a;(B=we(B)).a.a===G;);return B.c&&(K(B,G=b(Ee(B).a.b,B.a.e)),B=we(B)),B}function Q(B,G,I){var C=new Be;return C.a=I,C.e=ke(B.f,G.e,C),I.i=C}function ue(B,G){switch(B.s){case 100130:return(1&G)!=0;case 100131:return G!==0;case 100132:return 0<G;case 100133:return G<0;case 100134:return 2<=G||G<=-2}return!1}function te(B){var G=B.a,I=G.d;I.c=B.d,I.a=G,V(B)}function oe(B,G,I){for(G=(B=G).a;B!==I;){B.c=!1;var C=Ee(B),ye=C.a;if(ye.a!==G.a){if(!C.c){te(B);break}K(C,ye=b(G.c.b,ye.b))}G.c!==ye&&(p(ye.b.e,ye),p(G,ye)),te(B),G=C.a,B=C}return G}function ce(B,G,I,C,ye,ge){for(var _e=!0;Q(B,G,I.b),(I=I.c)!==C;);for(ye===null&&(ye=Ee(G).a.b.c);(I=(C=Ee(G)).a.b).a===ye.a;)I.c!==ye&&(p(I.b.e,I),p(ye.b.e,I)),C.f=G.f-I.f,C.d=ue(B,C.f),G.b=!0,!_e&&N(B,G)&&(U(I,ye),V(G),g(ye)),_e=!1,G=C,ye=I;G.b=!0,ge&&ie(B,G)}function ne(B,G,I,C,ye){var ge=[G.g[0],G.g[1],G.g[2]];G.d=null,G.d=B.o&&B.o(ge,I,C,B.c)||null,G.d===null&&(ye?B.n||(ve(B,100156),B.n=!0):G.d=I[0])}function R(B,G,I){var C=[null,null,null,null];C[0]=G.a.d,C[1]=I.a.d,ne(B,G.a,C,[.5,.5,0,0],!1),p(G,I)}function j(B,G,I,C,ye){var ge=Math.abs(G.b-B.b)+Math.abs(G.a-B.a),_e=Math.abs(I.b-B.b)+Math.abs(I.a-B.a),H=ye+1;C[ye]=.5*_e/(ge+_e),C[H]=.5*ge/(ge+_e),B.g[0]+=C[ye]*G.g[0]+C[H]*I.g[0],B.g[1]+=C[ye]*G.g[1]+C[H]*I.g[1],B.g[2]+=C[ye]*G.g[2]+C[H]*I.g[2]}function N(B,G){var I=Ee(G),C=G.a,ye=I.a;if(s(C.a,ye.a)){if(0<m(ye.b.a,C.a,ye.a))return;if(o(C.a,ye.a)){if(C.a!==ye.a){var I=B.e,ge=C.a.h;if(0<=ge){var _e=(I=I.b).d,H=I.e,me=I.c,je=me[ge];_e[je]=_e[I.a],(me[_e[je]]=je)<=--I.a&&(je<=1||s(H[_e[je>>1]],H[_e[je]])?et:ut)(I,je),H[ge]=null,me[ge]=I.b,I.b=ge}else for(I.c[-(ge+1)]=null;0<I.a&&I.c[I.d[I.a-1]]===null;)--I.a;R(B,ye.b.e,C)}}else v(ye.b),p(C,ye.b.e),G.b=I.b=!0}else{if(m(C.b.a,ye.a,C.a)<0)return;we(G).b=G.b=!0,v(C.b),p(ye.b.e,C)}return 1}function F(B,G){var I=Ee(G),C=G.a,ye=I.a,ge=C.a,_e=ye.a,H=C.b.a,me=ye.b.a,je=new Ve;if(m(H,B.a,ge),m(me,B.a,_e),!(ge===_e||Math.min(ge.a,H.a)>Math.max(_e.a,me.a))){if(s(ge,_e)){if(0<m(me,ge,_e))return}else if(m(H,_e,ge)<0)return;var fe,Re,X=H,pe=ge,Y=me,q=_e;if(s(X,pe)||(fe=X,X=pe,pe=fe),s(Y,q)||(fe=Y,Y=q,q=fe),s(X,Y)||(fe=X,X=Y,Y=fe,fe=pe,pe=q,q=fe),s(Y,pe)?s(pe,q)?((fe=c(X,Y,pe))+(Re=c(Y,pe,q))<0&&(fe=-fe,Re=-Re),je.b=i(fe,Y.b,Re,pe.b)):((fe=m(X,Y,pe))+(Re=-m(X,q,pe))<0&&(fe=-fe,Re=-Re),je.b=i(fe,Y.b,Re,q.b)):je.b=(Y.b+pe.b)/2,y(X,pe)||(fe=X,X=pe,pe=fe),y(Y,q)||(fe=Y,Y=q,q=fe),y(X,Y)||(fe=X,X=Y,Y=fe,fe=pe,pe=q,q=fe),y(Y,pe)?y(pe,q)?((fe=a(X,Y,pe))+(Re=a(Y,pe,q))<0&&(fe=-fe,Re=-Re),je.a=i(fe,Y.a,Re,pe.a)):((fe=u(X,Y,pe))+(Re=-u(X,q,pe))<0&&(fe=-fe,Re=-Re),je.a=i(fe,Y.a,Re,q.a)):je.a=(Y.a+pe.a)/2,s(je,B.a)&&(je.b=B.a.b,je.a=B.a.a),X=s(ge,_e)?ge:_e,s(X,je)&&(je.b=X.b,je.a=X.a),o(je,ge)||o(je,_e))return N(B,G),0;if(!o(H,B.a)&&0<=m(H,B.a,je)||!o(me,B.a)&&m(me,B.a,je)<=0){if(me===B.a)v(C.b),p(ye.b,C),C=Ee(G=re(G)).a,oe(B,Ee(G),I),ce(B,G,C.b.e,C,C,!0);else{if(H!==B.a)return 0<=m(H,B.a,je)&&(we(G).b=G.b=!0,v(C.b),C.a.b=B.a.b,C.a.a=B.a.a),void(m(me,B.a,je)<=0&&(G.b=I.b=!0,v(ye.b),ye.a.b=B.a.b,ye.a.a=B.a.a));for(v(ye.b),p(C.e,ye.b.e),_e=(ge=I=G).a.b.a;(ge=we(ge)).a.b.a===_e;);ge=Ee(G=ge).a.b.c,I.a=ye.b.e,ce(B,G,(ye=oe(B,I,null)).c,C.b.c,ge,!0)}return 1}v(C.b),v(ye.b),p(ye.b.e,C),C.a.b=je.b,C.a.a=je.a,C.a.h=se(B.e,C.a),C=C.a,ye=[0,0,0,0],je=[ge.d,H.d,_e.d,me.d],C.g[0]=C.g[1]=C.g[2]=0,j(C,ge,H,ye,0),j(C,_e,me,ye,2),ne(B,C,je,ye,!0),we(G).b=G.b=I.b=!0}}function ie(B,G){for(var I=Ee(G);;){for(;I.b;)I=Ee(G=I);if(!G.b&&((G=we(I=G))===null||!G.b))break;G.b=!1;var C=G.a,ye=I.a;if(ge=C.b.a!==ye.b.a)e:{var ge,_e=Ee(ge=G),H=ge.a,me=_e.a,je=void 0;if(s(H.b.a,me.b.a)){if(m(H.b.a,me.b.a,H.a)<0){ge=!1;break e}we(ge).b=ge.b=!0,je=v(H),p(me.b,je),je.d.c=ge.d}else{if(0<m(me.b.a,H.b.a,me.a)){ge=!1;break e}ge.b=_e.b=!0,je=v(me),p(H.e,me.b),je.b.d.c=ge.d}ge=!0}if(ge&&(I.c?(V(I),g(ye),ye=(I=Ee(G)).a):G.c&&(V(G),g(C),C=(G=we(I)).a)),C.a!==ye.a){if(C.b.a===ye.b.a||G.c||I.c||C.b.a!==B.a&&ye.b.a!==B.a)N(B,G);else if(F(B,G))break}C.a===ye.a&&C.b.a===ye.b.a&&(U(ye,C),V(G),g(C),G=we(I))}}function ae(B,G){var I=new Be,C=h(B.b);C.a.b=4e150,C.a.a=G,C.b.a.b=-4e150,C.b.a.a=G,B.a=C.b.a,I.a=C,I.f=0,I.d=!1,I.c=!1,I.h=!0,I.b=!1,C=ke(C=B.f,C.a,I),I.e=C}function Te(B){this.a=new Me,this.b=B,this.c=z}function ke(B,G,I){for(;(G=G.c).b!==null&&!B.c(B.b,G.b,I););return B=new Me(I,G.a,G),G.a.c=B,G.a=B}function Me(B,G,I){this.b=B||null,this.a=G||this,this.c=I||this}function Se(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function Xe(B,G){if(B.d!==G)for(;B.d!==G;)if(B.d<G)switch(B.d){case 0:ve(B,100151),B.u(null);break;case 1:ve(B,100152),B.t()}else switch(B.d){case 2:ve(B,100154),B.v();break;case 1:ve(B,100153),B.w()}}function ve(B,G){B.p&&B.p(G,B.c)}function Ce(B,G){this.b=B||this,this.d=G||this,this.a=null,this.c=!1}function Fe(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function ze(){this.c=new Ve,this.a=new Ce,this.b=new Fe,this.d=new Fe,this.b.b=this.d,this.d.b=this.b}function Ve(B,G){this.e=B||this,this.f=G||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function ot(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Oe}function se(B,G){var I,C,ye;return B.e?(2*(C=++(I=B.b).a)>I.f&&(I.f*=2,I.c=We(I.c,I.f+1)),I.b===0?ye=C:(ye=I.b,I.b=I.c[I.b]),I.e[ye]=G,I.c[ye]=C,I.d[C]=ye,I.h&&ut(I,C),ye):(I=B.a++,B.c[I]=G,-(I+1))}function Ne(B){if(B.a===0)return Ge(B.b);var G=B.c[B.d[B.a-1]];if(B.b.a!==0&&s(Ke(B.b),G))return Ge(B.b);for(;--B.a,0<B.a&&B.c[B.d[B.a-1]]===null;);return G}function Oe(){this.d=We([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function We(B,G){for(var I=Array(G),C=0;C<B.length;C++)I[C]=B[C];for(;C<G;C++)I[C]=0;return I}function Ke(B){return B.e[B.d[1]]}function Ge(B){var G=B.d,I=B.e,C=B.c,ye=G[1],ge=I[ye];return 0<B.a&&(G[1]=G[B.a],C[G[1]]=1,I[ye]=null,C[ye]=B.b,B.b=ye,0<--B.a&&et(B,1)),ge}function et(B,G){for(var I=B.d,C=B.e,ye=B.c,ge=G,_e=I[ge];;){var H=ge<<1,me=(H<B.a&&s(C[I[H+1]],C[I[H]])&&(H+=1),I[H]);if(H>B.a||s(C[_e],C[me])){ye[I[ge]=_e]=ge;break}ye[I[ge]=me]=ge,ge=H}}function ut(B,G){for(var I=B.d,C=B.e,ye=B.c,ge=G,_e=I[ge];;){var H=ge>>1,me=I[H];if(H==0||s(C[me],C[_e])){ye[I[ge]=_e]=ge;break}ye[I[ge]=me]=ge,ge=H}}function Be(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Ee(B){return B.e.c.b}function we(B){return B.e.a.b}(l=Se.prototype).x=function(){Xe(this,0)},l.B=function(B,G){switch(B){case 100142:return;case 100140:switch(G){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=G)}break;case 100141:return void(this.m=!!G);default:return void ve(this,100900)}ve(this,100901)},l.y=function(B){switch(B){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:ve(this,100900)}return!1},l.A=function(B,G,I){this.j[0]=B,this.j[1]=G,this.j[2]=I},l.z=function(B,G){var I=G||null;switch(B){case 100100:case 100106:this.h=I;break;case 100104:case 100110:this.l=I;break;case 100101:case 100107:this.k=I;break;case 100102:case 100108:this.i=I;break;case 100103:case 100109:this.p=I;break;case 100105:case 100111:this.o=I;break;case 100112:this.r=I;break;default:ve(this,100900)}},l.C=function(B,G){var I=!1,C=[0,0,0];Xe(this,2);for(var ye=0;ye<3;++ye){var ge=B[ye];ge<-1e150&&(ge=-1e150,I=!0),1e150<ge&&(ge=1e150,I=!0),C[ye]=ge}I&&ve(this,100155),(I=this.q)===null?p(I=h(this.b),I.b):(v(I),I=I.e),I.a.d=G,I.a.g[0]=C[0],I.a.g[1]=C[1],I.a.g[2]=C[2],I.f=1,I.b.f=-1,this.q=I},l.u=function(B){Xe(this,0),this.d=1,this.b=new ze,this.c=B},l.t=function(){Xe(this,1),this.d=2,this.q=null},l.v=function(){Xe(this,2),this.d=1},l.w=function(){Xe(this,1),this.d=0;var B,G,I=this.j[0],C=this.j[1],ye=this.j[2],ge=!1,_e=[I,C,ye];if(I===0&&C===0&&ye===0){for(var C=[-2e150,-2e150,-2e150],H=[2e150,2e150,2e150],ye=[],me=[],I=(ge=this.b.c).e;I!==ge;I=I.e)for(var je=0;je<3;++je){var fe=I.g[je];fe<H[je]&&(H[je]=fe,me[je]=I),fe>C[je]&&(C[je]=fe,ye[je]=I)}if(C[1]-H[1]>C[I=0]-H[0]&&(I=1),H[I=C[2]-H[2]>C[I]-H[I]?2:I]>=C[I])_e[0]=0,_e[1]=0,_e[2]=1;else{for(H=me[I],ye=ye[I],me=[C=0,0,0],H=[H.g[0]-ye.g[0],H.g[1]-ye.g[1],H.g[2]-ye.g[2]],je=[0,0,0],I=ge.e;I!==ge;I=I.e)je[0]=I.g[0]-ye.g[0],je[1]=I.g[1]-ye.g[1],je[2]=I.g[2]-ye.g[2],me[0]=H[1]*je[2]-H[2]*je[1],me[1]=H[2]*je[0]-H[0]*je[2],me[2]=H[0]*je[1]-H[1]*je[0],C<(fe=me[0]*me[0]+me[1]*me[1]+me[2]*me[2])&&(C=fe,_e[0]=me[0],_e[1]=me[1],_e[2]=me[2]);C<=0&&(_e[0]=_e[1]=_e[2]=0,_e[D(H)]=1)}ge=!0}for(me=D(_e),I=this.b.c,C=(me+1)%3,ye=(me+2)%3,me=0<_e[me]?1:-1,_e=I.e;_e!==I;_e=_e.e)_e.b=_e.g[C],_e.a=me*_e.g[ye];if(ge){for(_e=0,I=(ge=this.b.a).b;I!==ge;I=I.b)if(!((C=I.a).f<=0))for(;_e+=(C.a.b-C.b.a.b)*(C.a.a+C.b.a.a),(C=C.e)!==I.a;);if(_e<0)for(ge=(_e=this.b.c).e;ge!==_e;ge=ge.e)ge.a=-ge.a}for(this.n=!1,_e=this.b.b,I=_e.h;I!==_e;I=ge)ge=I.h,C=I.e,o(I.a,I.b.a)&&I.e.e!==I&&(R(this,C,I),g(I),C=(I=C).e),C.e===I&&(C!==I&&(C!==ge&&C!==ge.b||(ge=ge.h),g(C)),I!==ge&&I!==ge.b||(ge=ge.h),g(I));for(this.e=_e=new ot,ge=this.b.c,I=ge.e;I!==ge;I=I.e)I.h=se(_e,I);var Re=_e;Re.d=[];for(var X=0;X<Re.a;X++)Re.d[X]=X;Re.d.sort(function(q){return function(J,de){return s(q[J],q[de])?1:-1}}(Re.c)),Re.e=!0;for(var pe=Re.b,Y=pe.a;1<=Y;--Y)et(pe,Y);for(pe.h=!0,this.f=new Te(this),ae(this,-4e150),ae(this,4e150);(_e=Ne(this.e))!==null;){for(;;){e:if((I=this.e).a===0)ge=Ke(I.b);else if(ge=I.c[I.d[I.a-1]],I.b.a!==0&&s(I=Ke(I.b),ge)){ge=I;break e}if(ge===null||!o(ge,_e))break;ge=Ne(this.e),R(this,_e.c,ge.c)}(function q(J,de){for(var ee,le=(J.a=de).c;le.i===null;)if((le=le.c)===de.c){var le=J,be=de;(rt=new Be).a=be.c.b;for(var Z=(Ue=le.f).a;(Z=Z.a).b!==null&&!Ue.c(Ue.b,rt,Z.b););var Ue,Je,Ye=Ee(Ue=Z.b),rt=Ue.a,Z=Ye.a;return void(m(rt.b.a,be,rt.a)===0?o((rt=Ue.a).a,be)||o(rt.b.a,be)||(v(rt.b),Ue.c&&(g(rt.c),Ue.c=!1),p(be.c,rt),q(le,be)):(Je=s(Z.b.a,rt.b.a)?Ue:Ye,Ye=void 0,Ue.d||Je.c?(Ye=Je===Ue?b(be.c.b,rt.e):b(Z.b.c.b,be.c).b,Je.c?K(Je,Ye):((Ue=Q(rt=le,Ue,Ye)).f=we(Ue).f+Ue.a.f,Ue.d=ue(rt,Ue.f)),q(le,be)):ce(le,Ue,be.c,be.c,null,!0)))}Ue=(rt=Ee(le=re(le.i))).a,(rt=oe(J,rt,null)).c===Ue?(rt=(Ue=rt).c,Z=Ee(le),Ye=le.a,Je=Z.a,ee=!1,Ye.b.a!==Je.b.a&&F(J,le),o(Ye.a,J.a)&&(p(rt.b.e,Ye),rt=Ee(le=re(le)).a,oe(J,Ee(le),Z),ee=!0),o(Je.a,J.a)&&(p(Ue,Je.b.e),Ue=oe(J,Z,null),ee=!0),ee?ce(J,le,Ue.c,rt,rt,!0):(be=s(Je.a,Ye.a)?Je.b.e:Ye,ce(J,le,be=b(Ue.c.b,be),be.c,be.c,!1),be.b.i.c=!0,ie(J,le))):ce(J,le,rt.c,Ue,Ue,!0)})(this,_e)}for(this.a=this.f.a.a.b.a.a,_e=0;(ge=this.f.a.a.b)!==null;)ge.h||++_e,V(ge);for(this.f=null,(_e=this.e).b=null,_e.d=null,this.e=_e.c=null,_e=this.b,I=_e.a.b;I!==_e.a;I=ge)ge=I.b,(I=I.a).e.e===I&&(U(I.c,I),g(I));if(!this.n){if(_e=this.b,this.m)for(I=_e.b.h;I!==_e.b;I=ge)ge=I.h,I.b.d.c!==I.d.c?I.f=I.d.c?1:-1:g(I);else for(I=_e.a.b;I!==_e.a;I=ge)if(ge=I.b,I.c){for(I=I.a;s(I.b.a,I.a);I=I.c.b);for(;s(I.a,I.b.a);I=I.e);for(C=I.c.b,ye=void 0;I.e!==C;)if(s(I.b.a,C.a)){for(;C.e!==I&&(s((G=C.e).b.a,G.a)||m(C.a,C.b.a,C.e.b.a)<=0);)C=(ye=b(C.e,C)).b;C=C.c.b}else{for(;C.e!==I&&(s((B=I.c.b).a,B.b.a)||0<=m(I.b.a,I.a,I.c.b.a));)I=(ye=b(I,I.c.b)).b;I=I.e}for(;C.e.e!==I;)ye=b(C.e,C),C=ye.b}if(this.h||this.i||this.k||this.l)if(this.m){for(ge=(_e=this.b).a.b;ge!==_e.a;ge=ge.b)if(ge.c){for(this.h&&this.h(2,this.c),I=ge.a;this.k&&this.k(I.a.d,this.c),(I=I.e)!==ge.a;);this.i&&this.i(this.c)}}else{for(_e=this.b,ge=!!this.l,I=!1,C=-1,ye=_e.a.d;ye!==_e.a;ye=ye.d)if(ye.c)for(I||(this.h&&this.h(4,this.c),I=!0),me=ye.a;ge&&(H=me.b.d.c?0:1,C!==H&&(C=H,this.l&&this.l(!!C,this.c))),this.k&&this.k(me.a.d,this.c),(me=me.e)!==ye.a;);I&&this.i&&this.i(this.c)}if(this.r){for(_e=this.b,I=_e.a.b;I!==_e.a;I=ge)if(ge=I.b,!I.c){for(ye=(C=I.a).e,me=void 0;ye=(me=ye).e,(me.d=null)===me.b.d&&(me.c===me?O(me.a,null):(me.a.c=me.c,x(me,me.b.e)),(H=me.b).c===H?O(H.a,null):(H.a.c=H.c,x(H,H.b.e)),M(me)),me!==C;);C=I.d,((I=I.b).d=C).b=I}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:Se,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},Se.prototype.gluDeleteTess=Se.prototype.x,Se.prototype.gluTessProperty=Se.prototype.B,Se.prototype.gluGetTessProperty=Se.prototype.y,Se.prototype.gluTessNormal=Se.prototype.A,Se.prototype.gluTessCallback=Se.prototype.z,Se.prototype.gluTessVertex=Se.prototype.C,Se.prototype.gluTessBeginPolygon=Se.prototype.u,Se.prototype.gluTessBeginContour=Se.prototype.t,Se.prototype.gluTessEndContour=Se.prototype.v,Se.prototype.gluTessEndPolygon=Se.prototype.w,d!==void 0&&(d.exports=this.libtess)},{}],240:[function(e,d,f){function l(s,c,m,y){var a=0,u=(y=y===void 0?{}:y).loop===void 0?null:y.loop,i=y.palette===void 0?null:y.palette;if(c<=0||m<=0||65535<c||65535<m)throw new Error("Width/Height invalid.");function h(E){if(E=E.length,E<2||256<E||E&E-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return E}s[a++]=71,s[a++]=73,s[a++]=70,s[a++]=56,s[a++]=57,s[a++]=97;var p=0,g=0;if(i!==null){for(var v=h(i);v>>=1;)++p;if(v=1<<p,--p,y.background!==void 0){if(v<=(g=y.background))throw new Error("Background index out of range.");if(g===0)throw new Error("Background index explicitly passed as 0.")}}if(s[a++]=255&c,s[a++]=c>>8&255,s[a++]=255&m,s[a++]=m>>8&255,s[a++]=(i!==null?128:0)|p,s[a++]=g,s[a++]=0,i!==null)for(var b=0,w=i.length;b<w;++b){var x=i[b];s[a++]=x>>16&255,s[a++]=x>>8&255,s[a++]=255&x}if(u!==null){if(u<0||65535<u)throw new Error("Loop count invalid.");s[a++]=33,s[a++]=255,s[a++]=11,s[a++]=78,s[a++]=69,s[a++]=84,s[a++]=83,s[a++]=67,s[a++]=65,s[a++]=80,s[a++]=69,s[a++]=50,s[a++]=46,s[a++]=48,s[a++]=3,s[a++]=1,s[a++]=255&u,s[a++]=u>>8&255,s[a++]=0}var k=!1;this.addFrame=function(E,M,O,P,D,U){if(k===!0&&(--a,k=!1),U=U===void 0?{}:U,E<0||M<0||65535<E||65535<M)throw new Error("x/y invalid.");if(O<=0||P<=0||65535<O||65535<P)throw new Error("Width/Height invalid.");if(D.length<O*P)throw new Error("Not enough pixels for the frame size.");var z=!0,V=U.palette;if(V==null&&(z=!1,V=i),V==null)throw new Error("Must supply either a local or global palette.");for(var re=h(V),K=0;re>>=1;)++K;var re=1<<K,Q=U.delay===void 0?0:U.delay,ue=U.disposal===void 0?0:U.disposal;if(ue<0||3<ue)throw new Error("Disposal out of range.");var te=!1,oe=0;if(U.transparent!==void 0&&U.transparent!==null&&(te=!0,(oe=U.transparent)<0||re<=oe))throw new Error("Transparent color index.");if(ue===0&&!te&&Q===0||(s[a++]=33,s[a++]=249,s[a++]=4,s[a++]=ue<<2|(te===!0?1:0),s[a++]=255&Q,s[a++]=Q>>8&255,s[a++]=oe,s[a++]=0),s[a++]=44,s[a++]=255&E,s[a++]=E>>8&255,s[a++]=255&M,s[a++]=M>>8&255,s[a++]=255&O,s[a++]=O>>8&255,s[a++]=255&P,s[a++]=P>>8&255,s[a++]=z===!0?128|K-1:0,z===!0)for(var ce=0,ne=V.length;ce<ne;++ce){var R=V[ce];s[a++]=R>>16&255,s[a++]=R>>8&255,s[a++]=255&R}return a=function(j,N,F,ie){j[N++]=F;var ae=N++,Te=1<<F,ke=Te-1,Me=1+Te,Se=1+Me,Xe=F+1,ve=0,Ce=0;function Fe(Ge){for(;Ge<=ve;)j[N++]=255&Ce,Ce>>=8,ve-=8,N===ae+256&&(j[ae]=255,ae=N++)}function ze(Ge){Ce|=Ge<<ve,ve+=Xe,Fe(8)}var Ve=ie[0]&ke,ot={};ze(Te);for(var se=1,Ne=ie.length;se<Ne;++se){var Oe=ie[se]&ke,We=Ve<<8|Oe,Ke=ot[We];if(Ke===void 0){for(Ce|=Ve<<ve,ve+=Xe;8<=ve;)j[N++]=255&Ce,Ce>>=8,ve-=8,N===ae+256&&(j[ae]=255,ae=N++);Se===4096?(ze(Te),Se=1+Me,Xe=F+1,ot={}):(1<<Xe<=Se&&++Xe,ot[We]=Se++),Ve=Oe}else Ve=Ke}return ze(Ve),ze(Me),Fe(1),ae+1===N?j[ae]=0:(j[ae]=N-ae-1,j[N++]=0),N}(s,a,K<2?2:K,D)},this.end=function(){return k===!1&&(s[a++]=59,k=!0),a},this.getOutputBuffer=function(){return s},this.setOutputBuffer=function(E){s=E},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(E){a=E}}function o(s,c,m,y){for(var a=s[c++],u=1<<a,i=1+u,h=1+i,p=a+1,g=(1<<p)-1,v=0,b=0,w=0,x=s[c++],k=new Int32Array(4096),E=null;;){for(;v<16&&x!==0;)b|=s[c++]<<v,v+=8,x===1?x=s[c++]:--x;if(v<p)break;var M=b&g;if(b>>=p,v-=p,M==u)h=1+i,g=(1<<(p=a+1))-1,E=null;else{if(M==i)break;for(var O=M<h?M:E,P=0,D=O;u<D;)D=k[D]>>8,++P;var U=D;if(y<w+P+(O!==M?1:0))return void console.log("Warning, gif stream longer than expected.");m[w++]=U;var z=w+=P;for(O!==M&&(m[w++]=U),D=O;P--;)D=k[D],m[--z]=255&D,D>>=8;E!==null&&h<4096&&(k[h++]=E<<8|U,g+1<=h&&p<12&&(++p,g=g<<1|1)),E=M}}w!==y&&console.log("Warning, gif stream shorter than expected.")}try{f.GifWriter=l,f.GifReader=function(s){var c=0;if(s[c++]!==71||s[c++]!==73||s[c++]!==70||s[c++]!==56||(s[c++]+1&253)!=56||s[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=s[c++]|s[c++]<<8,y=s[c++]|s[c++]<<8,a=s[c++],u=1<<1+(7&a),i=(s[c++],s[c++],null),h=null,p=(a>>7&&(i=c,c+=3*(h=u)),!0),g=[],v=0,b=null,w=0,x=null;for(this.width=m,this.height=y;p&&c<s.length;)switch(s[c++]){case 33:switch(s[c++]){case 255:if(s[c]!==11||s[c+1]==78&&s[c+2]==69&&s[c+3]==84&&s[c+4]==83&&s[c+5]==67&&s[c+6]==65&&s[c+7]==80&&s[c+8]==69&&s[c+9]==50&&s[c+10]==46&&s[c+11]==48&&s[c+12]==3&&s[c+13]==1&&s[c+16]==0)c+=14,x=s[c++]|s[c++]<<8,c++;else for(c+=12;;){if(!(0<=(E=s[c++])))throw Error("Invalid block size");if(E===0)break;c+=E}break;case 249:if(s[c++]!==4||s[c+4]!==0)throw new Error("Invalid graphics extension block.");var k=s[c++],v=s[c++]|s[c++]<<8,b=s[c++];(1&k)==0&&(b=null),w=k>>2&7,c++;break;case 254:for(;;){if(!(0<=(E=s[c++])))throw Error("Invalid block size");if(E===0)break;c+=E}break;default:throw new Error("Unknown graphic control label: 0x"+s[c-1].toString(16))}break;case 44:var E,M=s[c++]|s[c++]<<8,O=s[c++]|s[c++]<<8,P=s[c++]|s[c++]<<8,D=s[c++]|s[c++]<<8,Q=s[c++],U=Q>>6&1,z=1<<1+(7&Q),V=i,K=h,re=!1,Q=(Q>>7&&(re=!0,V=c,c+=3*(K=z)),c);for(c++;;){if(!(0<=(E=s[c++])))throw Error("Invalid block size");if(E===0)break;c+=E}g.push({x:M,y:O,width:P,height:D,has_local_palette:re,palette_offset:V,palette_size:K,data_offset:Q,data_length:c-Q,transparent_index:b,interlaced:!!U,delay:v,disposal:w});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+s[c-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return x},this.frameInfo=function(ue){if(ue<0||ue>=g.length)throw new Error("Frame index out of range.");return g[ue]},this.decodeAndBlitFrameBGRA=function(ue,te){for(var ue=this.frameInfo(ue),oe=ue.width*ue.height,ce=new Uint8Array(oe),ne=(o(s,ue.data_offset,ce,oe),ue.palette_offset),R=ue.transparent_index,j=(R===null&&(R=256),ue.width),N=m-j,F=j,ie=4*(ue.y*m+ue.x),ae=4*((ue.y+ue.height)*m+ue.x),Te=ie,ke=4*N,Me=(ue.interlaced===!0&&(ke+=4*m*7),8),Se=0,Xe=ce.length;Se<Xe;++Se){var ve,Ce,Fe=ce[Se];F===0&&(F=j,ae<=(Te+=ke)&&(ke=4*N+4*m*(Me-1),Te=ie+(j+N)*(Me<<1),Me>>=1)),Fe===R?Te+=4:(ve=s[ne+3*Fe],Ce=s[ne+3*Fe+1],Fe=s[ne+3*Fe+2],te[Te++]=Fe,te[Te++]=Ce,te[Te++]=ve,te[Te++]=255),--F}},this.decodeAndBlitFrameRGBA=function(ue,te){for(var ue=this.frameInfo(ue),oe=ue.width*ue.height,ce=new Uint8Array(oe),ne=(o(s,ue.data_offset,ce,oe),ue.palette_offset),R=ue.transparent_index,j=(R===null&&(R=256),ue.width),N=m-j,F=j,ie=4*(ue.y*m+ue.x),ae=4*((ue.y+ue.height)*m+ue.x),Te=ie,ke=4*N,Me=(ue.interlaced===!0&&(ke+=4*m*7),8),Se=0,Xe=ce.length;Se<Xe;++Se){var ve,Ce,Fe=ce[Se];F===0&&(F=j,ae<=(Te+=ke)&&(ke=4*N+4*m*(Me-1),Te=ie+(j+N)*(Me<<1),Me>>=1)),Fe===R?Te+=4:(ve=s[ne+3*Fe],Ce=s[ne+3*Fe+1],Fe=s[ne+3*Fe+2],te[Te++]=ve,te[Te++]=Ce,te[Te++]=Fe,te[Te++]=255),--F}}}}catch{}},{}],241:[function(e,d,f){(function(l){var o,s;o=this,s=function(c){function m(L){if(this==null)throw TypeError();var S,T=String(this),A=T.length,L=L?Number(L):0;if(!((L=L!=L?0:L)<0||A<=L))return 55296<=(S=T.charCodeAt(L))&&S<=56319&&L+1<A&&56320<=(A=T.charCodeAt(L+1))&&A<=57343?1024*(S-55296)+A-56320+65536:S}String.prototype.codePointAt||((y=function(){try{var _={},S=Object.defineProperty,T=S(_,_,_)&&S}catch{}return T}())?y(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var y,a=0,u=-3;function i(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function h(_,S){this.source=_,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=S,this.destLen=0,this.ltree=new i,this.dtree=new i}var p=new i,g=new i,v=new Uint8Array(30),b=new Uint16Array(30),w=new Uint8Array(30),x=new Uint16Array(30),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),E=new i,M=new Uint8Array(320);function O(_,S,T,A){for(var L,W=0;W<T;++W)_[W]=0;for(W=0;W<30-T;++W)_[W+T]=W/T|0;for(L=A,W=0;W<30;++W)S[W]=L,L+=1<<_[W]}var P=new Uint16Array(16);function D(_,S,T,A){for(var L,W=0;W<16;++W)_.table[W]=0;for(W=0;W<A;++W)_.table[S[T+W]]++;for(W=L=_.table[0]=0;W<16;++W)P[W]=L,L+=_.table[W];for(W=0;W<A;++W)S[T+W]&&(_.trans[P[S[T+W]]++]=W)}function U(_,S,T){if(!S)return T;for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;var A=_.tag&65535>>>16-S;return _.tag>>>=S,_.bitcount-=S,A+T}function z(_,S){for(;_.bitcount<24;)_.tag|=_.source[_.sourceIndex++]<<_.bitcount,_.bitcount+=8;for(var T=0,A=0,L=0,W=_.tag;A=2*A+(1&W),W>>>=1,T+=S.table[++L],0<=(A-=S.table[L]););return _.tag=W,_.bitcount-=L,S.trans[T+A]}function V(_,S,T){for(;;){var A=z(_,S);if(A===256)return a;if(A<256)_.dest[_.destLen++]=A;else for(var L,W=U(_,v[A-=257],b[A]),A=z(_,T),$=L=_.destLen-U(_,w[A],x[A]);$<L+W;++$)_.dest[_.destLen++]=_.dest[$]}}for(var K=p,re=g,Q=0;Q<7;++Q)K.table[Q]=0;for(K.table[7]=24,K.table[8]=152,K.table[9]=112,Q=0;Q<24;++Q)K.trans[Q]=256+Q;for(Q=0;Q<144;++Q)K.trans[24+Q]=Q;for(Q=0;Q<8;++Q)K.trans[168+Q]=280+Q;for(Q=0;Q<112;++Q)K.trans[176+Q]=144+Q;for(Q=0;Q<5;++Q)re.table[Q]=0;for(re.table[5]=32,Q=0;Q<32;++Q)re.trans[Q]=Q;O(v,b,4,3),O(w,x,2,1),v[28]=0,b[28]=258;var ue=function(_,S){var T,A,L,W=new h(_,S);do{switch(L=void 0,(A=W).bitcount--||(A.tag=A.source[A.sourceIndex++],A.bitcount=7),L=1&A.tag,A.tag>>>=1,A=L,U(W,2,0)){case 0:T=function(ht){for(var Yt,nr;8<ht.bitcount;)ht.sourceIndex--,ht.bitcount-=8;if((Yt=256*ht.source[ht.sourceIndex+1]+ht.source[ht.sourceIndex])!==(65535&~(256*ht.source[ht.sourceIndex+3]+ht.source[ht.sourceIndex+2])))return u;for(ht.sourceIndex+=4,nr=Yt;nr;--nr)ht.dest[ht.destLen++]=ht.source[ht.sourceIndex++];return ht.bitcount=0,a}(W);break;case 1:T=V(W,p,g);break;case 2:wt=yt=jt=dt=$=He=nt=lt=Qe=Ie=Le=xe=void 0;for(var $,xe=W,Le=W.ltree,Ie=W.dtree,Qe=U(xe,5,257),lt=U(xe,5,1),nt=U(xe,4,4),He=0;He<19;++He)M[He]=0;for(He=0;He<nt;++He){var jt=U(xe,3,0);M[k[He]]=jt}for(D(E,M,0,19),$=0;$<Qe+lt;){var yt=z(xe,E);switch(yt){case 16:for(var wt=M[$-1],dt=U(xe,2,3);dt;--dt)M[$++]=wt;break;case 17:for(dt=U(xe,3,3);dt;--dt)M[$++]=0;break;case 18:for(dt=U(xe,7,11);dt;--dt)M[$++]=0;break;default:M[$++]=yt}}D(Le,M,0,Qe),D(Ie,M,Qe,lt),T=V(W,W.ltree,W.dtree);break;default:T=u}if(T!==a)throw new Error("Data error")}while(!A);return W.destLen<W.dest.length?typeof W.dest.slice=="function"?W.dest.slice(0,W.destLen):W.dest.subarray(0,W.destLen):W.dest};function te(_,S,T,A,L){return Math.pow(1-L,3)*_+3*Math.pow(1-L,2)*L*S+3*(1-L)*Math.pow(L,2)*T+Math.pow(L,3)*A}function oe(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function ce(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ne(_){throw new Error(_)}function R(_,S){_||ne(S)}oe.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},oe.prototype.addPoint=function(_,S){typeof _=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=_,this.x2=_),_<this.x1&&(this.x1=_),_>this.x2&&(this.x2=_)),typeof S=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=S,this.y2=S),S<this.y1&&(this.y1=S),S>this.y2&&(this.y2=S))},oe.prototype.addX=function(_){this.addPoint(_,null)},oe.prototype.addY=function(_){this.addPoint(null,_)},oe.prototype.addBezier=function(_,S,T,A,L,W,$,xe){var Le=[_,S],Ie=[T,A],Qe=[L,W],lt=[$,xe];this.addPoint(_,S),this.addPoint($,xe);for(var nt=0;nt<=1;nt++){var He,jt=6*Le[nt]-12*Ie[nt]+6*Qe[nt],yt=-3*Le[nt]+9*Ie[nt]-9*Qe[nt]+3*lt[nt],wt=3*Ie[nt]-3*Le[nt];yt==0?jt==0||0<(He=-wt/jt)&&He<1&&(nt===0&&this.addX(te(Le[nt],Ie[nt],Qe[nt],lt[nt],He)),nt===1&&this.addY(te(Le[nt],Ie[nt],Qe[nt],lt[nt],He))):(He=Math.pow(jt,2)-4*wt*yt)<0||(0<(wt=(-jt+Math.sqrt(He))/(2*yt))&&wt<1&&(nt===0&&this.addX(te(Le[nt],Ie[nt],Qe[nt],lt[nt],wt)),nt===1&&this.addY(te(Le[nt],Ie[nt],Qe[nt],lt[nt],wt))),0<(wt=(-jt-Math.sqrt(He))/(2*yt))&&wt<1&&(nt===0&&this.addX(te(Le[nt],Ie[nt],Qe[nt],lt[nt],wt)),nt===1&&this.addY(te(Le[nt],Ie[nt],Qe[nt],lt[nt],wt))))}},oe.prototype.addQuad=function(_,S,T,A,L,W){T=_+2/3*(T-_),A=S+2/3*(A-S),this.addBezier(_,S,T,A,T+1/3*(L-_),A+1/3*(W-S),L,W)},ce.prototype.moveTo=function(_,S){this.commands.push({type:"M",x:_,y:S})},ce.prototype.lineTo=function(_,S){this.commands.push({type:"L",x:_,y:S})},ce.prototype.curveTo=ce.prototype.bezierCurveTo=function(_,S,T,A,L,W){this.commands.push({type:"C",x1:_,y1:S,x2:T,y2:A,x:L,y:W})},ce.prototype.quadTo=ce.prototype.quadraticCurveTo=function(_,S,T,A){this.commands.push({type:"Q",x1:_,y1:S,x:T,y:A})},ce.prototype.close=ce.prototype.closePath=function(){this.commands.push({type:"Z"})},ce.prototype.extend=function(_){var S;if(_.commands)_=_.commands;else if(_ instanceof oe)return S=_,this.moveTo(S.x1,S.y1),this.lineTo(S.x2,S.y1),this.lineTo(S.x2,S.y2),this.lineTo(S.x1,S.y2),void this.close();Array.prototype.push.apply(this.commands,_)},ce.prototype.getBoundingBox=function(){for(var _=new oe,S=0,T=0,A=0,L=0,W=0;W<this.commands.length;W++){var $=this.commands[W];switch($.type){case"M":_.addPoint($.x,$.y),S=A=$.x,T=L=$.y;break;case"L":_.addPoint($.x,$.y),A=$.x,L=$.y;break;case"Q":_.addQuad(A,L,$.x1,$.y1,$.x,$.y),A=$.x,L=$.y;break;case"C":_.addBezier(A,L,$.x1,$.y1,$.x2,$.y2,$.x,$.y),A=$.x,L=$.y;break;case"Z":A=S,L=T;break;default:throw new Error("Unexpected path command "+$.type)}}return _.isEmpty()&&_.addPoint(0,0),_},ce.prototype.draw=function(_){_.beginPath();for(var S=0;S<this.commands.length;S+=1){var T=this.commands[S];T.type==="M"?_.moveTo(T.x,T.y):T.type==="L"?_.lineTo(T.x,T.y):T.type==="C"?_.bezierCurveTo(T.x1,T.y1,T.x2,T.y2,T.x,T.y):T.type==="Q"?_.quadraticCurveTo(T.x1,T.y1,T.x,T.y):T.type==="Z"&&_.closePath()}this.fill&&(_.fillStyle=this.fill,_.fill()),this.stroke&&(_.strokeStyle=this.stroke,_.lineWidth=this.strokeWidth,_.stroke())},ce.prototype.toPathData=function(_){function S(){for(var W=arguments,$="",xe=0;xe<arguments.length;xe+=1){var Le=W[xe];0<=Le&&0<xe&&($+=" "),$+=(Le=Le,Math.round(Le)===Le?""+Math.round(Le):Le.toFixed(_))}return $}_=_!==void 0?_:2;for(var T="",A=0;A<this.commands.length;A+=1){var L=this.commands[A];L.type==="M"?T+="M"+S(L.x,L.y):L.type==="L"?T+="L"+S(L.x,L.y):L.type==="C"?T+="C"+S(L.x1,L.y1,L.x2,L.y2,L.x,L.y):L.type==="Q"?T+="Q"+S(L.x1,L.y1,L.x,L.y):L.type==="Z"&&(T+="Z")}return T},ce.prototype.toSVG=function(_){var S=(S='<path d="')+this.toPathData(_)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?S+=' fill="none"':S+=' fill="'+this.fill+'"'),this.stroke&&(S+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),S+="/>"},ce.prototype.toDOMElement=function(S){var S=this.toPathData(S),T=document.createElementNS("http://www.w3.org/2000/svg","path");return T.setAttribute("d",S),T};var j={fail:ne,argument:R,assert:R},N={},F={},ie={};function ae(_){return function(){return _}}F.BYTE=function(_){return j.argument(0<=_&&_<=255,"Byte value should be between 0 and 255."),[_]},ie.BYTE=ae(1),F.CHAR=function(_){return[_.charCodeAt(0)]},ie.CHAR=ae(1),F.CHARARRAY=function(_){for(var S=[],T=0;T<_.length;T+=1)S[T]=_.charCodeAt(T);return S},ie.CHARARRAY=function(_){return _.length},F.USHORT=function(_){return[_>>8&255,255&_]},ie.USHORT=ae(2),F.SHORT=function(_){return[(_=32768<=_?-(65536-_):_)>>8&255,255&_]},ie.SHORT=ae(2),F.UINT24=function(_){return[_>>16&255,_>>8&255,255&_]},ie.UINT24=ae(3),F.ULONG=function(_){return[_>>24&255,_>>16&255,_>>8&255,255&_]},ie.ULONG=ae(4),F.LONG=function(_){return[(_=2147483648<=_?-(4294967296-_):_)>>24&255,_>>16&255,_>>8&255,255&_]},ie.LONG=ae(4),F.FIXED=F.ULONG,ie.FIXED=ie.ULONG,F.FWORD=F.SHORT,ie.FWORD=ie.SHORT,F.UFWORD=F.USHORT,ie.UFWORD=ie.USHORT,F.LONGDATETIME=function(_){return[0,0,0,0,_>>24&255,_>>16&255,_>>8&255,255&_]},ie.LONGDATETIME=ae(8),F.TAG=function(_){return j.argument(_.length===4,"Tag should be exactly 4 ASCII characters."),[_.charCodeAt(0),_.charCodeAt(1),_.charCodeAt(2),_.charCodeAt(3)]},ie.TAG=ae(4),F.Card8=F.BYTE,ie.Card8=ie.BYTE,F.Card16=F.USHORT,ie.Card16=ie.USHORT,F.OffSize=F.BYTE,ie.OffSize=ie.BYTE,F.SID=F.USHORT,ie.SID=ie.USHORT,F.NUMBER=function(_){return-107<=_&&_<=107?[_+139]:108<=_&&_<=1131?[247+((_-=108)>>8),255&_]:-1131<=_&&_<=-108?[251+((_=-_-108)>>8),255&_]:-32768<=_&&_<=32767?F.NUMBER16(_):F.NUMBER32(_)},ie.NUMBER=function(_){return F.NUMBER(_).length},F.NUMBER16=function(_){return[28,_>>8&255,255&_]},ie.NUMBER16=ae(3),F.NUMBER32=function(_){return[29,_>>24&255,_>>16&255,_>>8&255,255&_]},ie.NUMBER32=ae(5),F.REAL=function(_){for(var S=_.toString(),T=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(S),A=(T&&(T=parseFloat("1e"+((T[2]?+T[2]:0)+T[1].length)),S=(Math.round(_*T)/T).toString()),""),L=0,W=S.length;L<W;L+=1){var $=S[L];A+=$==="e"?S[++L]==="-"?"c":"b":$==="."?"a":$==="-"?"e":$}for(var xe=[30],Le=0,Ie=(A+=1&A.length?"f":"ff").length;Le<Ie;Le+=2)xe.push(parseInt(A.substr(Le,2),16));return xe},ie.REAL=function(_){return F.REAL(_).length},F.NAME=F.CHARARRAY,ie.NAME=ie.CHARARRAY,F.STRING=F.CHARARRAY,ie.STRING=ie.CHARARRAY,N.UTF8=function(_,S,T){for(var A=[],L=T,W=0;W<L;W++,S+=1)A[W]=_.getUint8(S);return String.fromCharCode.apply(null,A)},N.UTF16=function(_,S,T){for(var A=[],L=T/2,W=0;W<L;W++,S+=2)A[W]=_.getUint16(S);return String.fromCharCode.apply(null,A)},F.UTF16=function(_){for(var S=[],T=0;T<_.length;T+=1){var A=_.charCodeAt(T);S[S.length]=A>>8&255,S[S.length]=255&A}return S},ie.UTF16=function(_){return 2*_.length};var Te,ke={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},Me=(N.MACSTRING=function(_,S,T,A){var L=ke[A];if(L!==void 0){for(var W="",$=0;$<T;$++){var xe=_.getUint8(S+$);W+=xe<=127?String.fromCharCode(xe):L[127&xe]}return W}},typeof WeakMap=="function"&&new WeakMap);function Se(_){return-128<=_&&_<=127}F.MACSTRING=function(_,S){var T=function($){if(!Te)for(var xe in Te={},ke)Te[xe]=new String(xe);var Le=Te[$];if(Le!==void 0){if(Me){var Ie=Me.get(Le);if(Ie!==void 0)return Ie}var Qe=ke[$];if(Qe!==void 0){for(var lt={},nt=0;nt<Qe.length;nt++)lt[Qe.charCodeAt(nt)]=nt+128;return Me&&Me.set(Le,lt),lt}}}(S);if(T!==void 0){for(var A=[],L=0;L<_.length;L++){var W=_.charCodeAt(L);if(128<=W&&(W=T[W])===void 0)return;A[L]=W}return A}},ie.MACSTRING=function(_,S){return _=F.MACSTRING(_,S),_!==void 0?_.length:0},F.VARDELTAS=function(_){for(var A=0,S=[];A<_.length;)var T=_[A],A=(T===0?function(L,W,$){for(var xe=0,Le=L.length;W<Le&&xe<64&&L[W]===0;)++W,++xe;return $.push(128|xe-1),W}:-128<=T&&T<=127?function(L,W,$){for(var xe=0,Le=L.length,Ie=W;Ie<Le&&xe<64;){var Qe=L[Ie];if(!Se(Qe)||Qe===0&&Ie+1<Le&&L[Ie+1]===0)break;++Ie,++xe}$.push(xe-1);for(var lt=W;lt<Ie;++lt)$.push(L[lt]+256&255);return Ie}:function(L,W,$){for(var xe=0,Le=L.length,Ie=W;Ie<Le&&xe<64;){var Qe=L[Ie];if(Qe===0||Se(Qe)&&Ie+1<Le&&Se(L[Ie+1]))break;++Ie,++xe}$.push(64|xe-1);for(var lt=W;lt<Ie;++lt){var nt=L[lt];$.push(nt+65536>>8&255,nt+256&255)}return Ie})(_,A,S);return S},F.INDEX=function(_){for(var S=1,T=[S],A=[],L=0;L<_.length;L+=1){var W=F.OBJECT(_[L]);Array.prototype.push.apply(A,W),S+=W.length,T.push(S)}if(A.length===0)return[0,0];for(var $=[],xe=1+Math.floor(Math.log(S)/Math.log(2))/8|0,Le=[void 0,F.BYTE,F.USHORT,F.UINT24,F.ULONG][xe],Ie=0;Ie<T.length;Ie+=1){var Qe=Le(T[Ie]);Array.prototype.push.apply($,Qe)}return Array.prototype.concat(F.Card16(_.length),F.OffSize(xe),$,A)},ie.INDEX=function(_){return F.INDEX(_).length},F.DICT=function(_){for(var S=[],T=Object.keys(_),A=T.length,L=0;L<A;L+=1){var W=parseInt(T[L],0),$=_[W];S=(S=S.concat(F.OPERAND($.value,$.type))).concat(F.OPERATOR(W))}return S},ie.DICT=function(_){return F.DICT(_).length},F.OPERATOR=function(_){return _<1200?[_]:[12,_-1200]},F.OPERAND=function(_,S){var T=[];if(Array.isArray(S))for(var A=0;A<S.length;A+=1)j.argument(_.length===S.length,"Not enough arguments given for type"+S),T=T.concat(F.OPERAND(_[A],S[A]));else if(S==="SID")T=T.concat(F.NUMBER(_));else if(S==="offset")T=T.concat(F.NUMBER32(_));else if(S==="number")T=T.concat(F.NUMBER(_));else{if(S!=="real")throw new Error("Unknown operand type "+S);T=T.concat(F.REAL(_))}return T},F.OP=F.BYTE,ie.OP=ie.BYTE;var Xe=typeof WeakMap=="function"&&new WeakMap;function ve(_,S,T){for(var A=0;A<S.length;A+=1){var L=S[A];this[L.name]=L.value}if(this.tableName=_,this.fields=S,T)for(var W=Object.keys(T),$=0;$<W.length;$+=1){var xe=W[$],Le=T[xe];this[xe]!==void 0&&(this[xe]=Le)}}function Ce(_,S,T){T===void 0&&(T=S.length);var A=new Array(S.length+1);A[0]={name:_+"Count",type:"USHORT",value:T};for(var L=0;L<S.length;L++)A[L+1]={name:_+L,type:"USHORT",value:S[L]};return A}function Fe(_,S,T){var A=S.length,L=new Array(A+1);L[0]={name:_+"Count",type:"USHORT",value:A};for(var W=0;W<A;W++)L[W+1]={name:_+W,type:"TABLE",value:T(S[W],W)};return L}function ze(_,S,T){var A=S.length,L=[];L[0]={name:_+"Count",type:"USHORT",value:A};for(var W=0;W<A;W++)L=L.concat(T(S[W],W));return L}function Ve(_){_.format===1?ve.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Ce("glyph",_.glyphs))):j.assert(!1,"Can't create coverage table format 2 yet.")}function ot(_){ve.call(this,"scriptListTable",ze("scriptRecord",_,function(S,T){var A=S.script,L=A.defaultLangSys;return j.assert(!!L,"Unable to write GSUB: script "+S.tag+" has no default language system."),[{name:"scriptTag"+T,type:"TAG",value:S.tag},{name:"script"+T,type:"TABLE",value:new ve("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new ve("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:L.reqFeatureIndex}].concat(Ce("featureIndex",L.featureIndexes)))}].concat(ze("langSys",A.langSysRecords,function(W,$){var xe=W.langSys;return[{name:"langSysTag"+$,type:"TAG",value:W.tag},{name:"langSys"+$,type:"TABLE",value:new ve("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:xe.reqFeatureIndex}].concat(Ce("featureIndex",xe.featureIndexes)))}]})))}]}))}function se(_){ve.call(this,"featureListTable",ze("featureRecord",_,function(S,T){var A=S.feature;return[{name:"featureTag"+T,type:"TAG",value:S.tag},{name:"feature"+T,type:"TABLE",value:new ve("featureTable",[{name:"featureParams",type:"USHORT",value:A.featureParams}].concat(Ce("lookupListIndex",A.lookupListIndexes)))}]}))}function Ne(_,S){ve.call(this,"lookupListTable",Fe("lookup",_,function(T){var A=S[T.lookupType];return j.assert(!!A,"Unable to write GSUB lookup type "+T.lookupType+" tables."),new ve("lookupTable",[{name:"lookupType",type:"USHORT",value:T.lookupType},{name:"lookupFlag",type:"USHORT",value:T.lookupFlag}].concat(Fe("subtable",T.subtables,A)))}))}F.CHARSTRING=function(_){if(Xe){var S=Xe.get(_);if(S!==void 0)return S}for(var W=[],T=_.length,A=0;A<T;A+=1)var L=_[A],W=W.concat(F[L.type](L.value));return Xe&&Xe.set(_,W),W},ie.CHARSTRING=function(_){return F.CHARSTRING(_).length},F.OBJECT=function(_){var S=F[_.type];return j.argument(S!==void 0,"No encoding function for type "+_.type),S(_.value)},ie.OBJECT=function(_){var S=ie[_.type];return j.argument(S!==void 0,"No sizeOf function for type "+_.type),S(_.value)},F.TABLE=function(_){for(var S=[],T=_.fields.length,A=[],L=[],W=0;W<T;W+=1){var $=_.fields[W],Le=F[$.type],xe=(j.argument(Le!==void 0,"No encoding function for field type "+$.type+" ("+$.name+")"),_[$.name]),Le=Le(xe=xe===void 0?$.value:xe);$.type==="TABLE"?(L.push(S.length),S=S.concat([0,0]),A.push(Le)):S=S.concat(Le)}for(var Ie=0;Ie<A.length;Ie+=1){var Qe=L[Ie],lt=S.length;j.argument(lt<65536,"Table "+_.tableName+" too big."),S[Qe]=lt>>8,S[Qe+1]=255&lt,S=S.concat(A[Ie])}return S},ie.TABLE=function(_){for(var S=0,T=_.fields.length,A=0;A<T;A+=1){var L=_.fields[A],W=ie[L.type],$=(j.argument(W!==void 0,"No sizeOf function for field type "+L.type+" ("+L.name+")"),_[L.name]);S+=W($=$===void 0?L.value:$),L.type==="TABLE"&&(S+=2)}return S},F.RECORD=F.TABLE,ie.RECORD=ie.TABLE,F.LITERAL=function(_){return _},ie.LITERAL=function(_){return _.length},ve.prototype.encode=function(){return F.TABLE(this)},ve.prototype.sizeOf=function(){return ie.TABLE(this)};var Oe={Table:ve,Record:ve,Coverage:(Ve.prototype=Object.create(ve.prototype)).constructor=Ve,ScriptList:(ot.prototype=Object.create(ve.prototype)).constructor=ot,FeatureList:(se.prototype=Object.create(ve.prototype)).constructor=se,LookupList:(Ne.prototype=Object.create(ve.prototype)).constructor=Ne,ushortList:Ce,tableList:Fe,recordList:ze};function We(_,S){return _.getUint8(S)}function Ke(_,S){return _.getUint16(S,!1)}function Ge(_,S){return _.getUint32(S,!1)}function et(_,S){return _.getInt16(S,!1)+_.getUint16(S+2,!1)/65535}var ut={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Be(_,S){this.data=_,this.offset=S,this.relativeOffset=0}Be.prototype.parseByte=function(){var _=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},Be.prototype.parseChar=function(){var _=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,_},Be.prototype.parseCard8=Be.prototype.parseByte,Be.prototype.parseCard16=Be.prototype.parseUShort=function(){var _=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},Be.prototype.parseSID=Be.prototype.parseUShort,Be.prototype.parseOffset16=Be.prototype.parseUShort,Be.prototype.parseShort=function(){var _=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,_},Be.prototype.parseF2Dot14=function(){var _=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,_},Be.prototype.parseOffset32=Be.prototype.parseULong=function(){var _=Ge(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},Be.prototype.parseFixed=function(){var _=et(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,_},Be.prototype.parseString=function(_){var S=this.data,T=this.offset+this.relativeOffset,A="";this.relativeOffset+=_;for(var L=0;L<_;L++)A+=String.fromCharCode(S.getUint8(T+L));return A},Be.prototype.parseTag=function(){return this.parseString(4)},Be.prototype.parseLongDateTime=function(){var _=Ge(this.data,this.offset+this.relativeOffset+4);return _-=2082844800,this.relativeOffset+=8,_},Be.prototype.parseVersion=function(_){var S=Ke(this.data,this.offset+this.relativeOffset),T=Ke(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,S+T/(_=_===void 0?4096:_)/10},Be.prototype.skip=function(_,S){this.relativeOffset+=ut[_]*(S=S===void 0?1:S)},Be.prototype.parseULongList=function(_){_===void 0&&(_=this.parseULong());for(var S=new Array(_),T=this.data,A=this.offset+this.relativeOffset,L=0;L<_;L++)S[L]=T.getUint32(A),A+=4;return this.relativeOffset+=4*_,S},Be.prototype.parseOffset16List=Be.prototype.parseUShortList=function(_){_===void 0&&(_=this.parseUShort());for(var S=new Array(_),T=this.data,A=this.offset+this.relativeOffset,L=0;L<_;L++)S[L]=T.getUint16(A),A+=2;return this.relativeOffset+=2*_,S},Be.prototype.parseShortList=function(_){for(var S=new Array(_),T=this.data,A=this.offset+this.relativeOffset,L=0;L<_;L++)S[L]=T.getInt16(A),A+=2;return this.relativeOffset+=2*_,S},Be.prototype.parseByteList=function(_){for(var S=new Array(_),T=this.data,A=this.offset+this.relativeOffset,L=0;L<_;L++)S[L]=T.getUint8(A++);return this.relativeOffset+=_,S},Be.prototype.parseList=function(_,S){S||(S=_,_=this.parseUShort());for(var T=new Array(_),A=0;A<_;A++)T[A]=S.call(this);return T},Be.prototype.parseList32=function(_,S){S||(S=_,_=this.parseULong());for(var T=new Array(_),A=0;A<_;A++)T[A]=S.call(this);return T},Be.prototype.parseRecordList=function(_,S){S||(S=_,_=this.parseUShort());for(var T=new Array(_),A=Object.keys(S),L=0;L<_;L++){for(var W={},$=0;$<A.length;$++){var xe=A[$],Le=S[xe];W[xe]=Le.call(this)}T[L]=W}return T},Be.prototype.parseRecordList32=function(_,S){S||(S=_,_=this.parseULong());for(var T=new Array(_),A=Object.keys(S),L=0;L<_;L++){for(var W={},$=0;$<A.length;$++){var xe=A[$],Le=S[xe];W[xe]=Le.call(this)}T[L]=W}return T},Be.prototype.parseStruct=function(_){if(typeof _=="function")return _.call(this);for(var S=Object.keys(_),T={},A=0;A<S.length;A++){var L=S[A],W=_[L];T[L]=W.call(this)}return T},Be.prototype.parseValueRecord=function(_){var S;if((_=_===void 0?this.parseUShort():_)!==0)return S={},1&_&&(S.xPlacement=this.parseShort()),2&_&&(S.yPlacement=this.parseShort()),4&_&&(S.xAdvance=this.parseShort()),8&_&&(S.yAdvance=this.parseShort()),16&_&&(S.xPlaDevice=void 0,this.parseShort()),32&_&&(S.yPlaDevice=void 0,this.parseShort()),64&_&&(S.xAdvDevice=void 0,this.parseShort()),128&_&&(S.yAdvDevice=void 0,this.parseShort()),S},Be.prototype.parseValueRecordList=function(){for(var _=this.parseUShort(),S=this.parseUShort(),T=new Array(S),A=0;A<S;A++)T[A]=this.parseValueRecord(_);return T},Be.prototype.parsePointer=function(_){var S=this.parseOffset16();if(0<S)return new Be(this.data,this.offset+S).parseStruct(_)},Be.prototype.parsePointer32=function(_){var S=this.parseOffset32();if(0<S)return new Be(this.data,this.offset+S).parseStruct(_)},Be.prototype.parseListOfLists=function(_){for(var S=this.parseOffset16List(),T=S.length,A=this.relativeOffset,L=new Array(T),W=0;W<T;W++){var $=S[W];if($===0)L[W]=void 0;else if(this.relativeOffset=$,_){for(var xe=this.parseOffset16List(),Le=new Array(xe.length),Ie=0;Ie<xe.length;Ie++)this.relativeOffset=$+xe[Ie],Le[Ie]=_.call(this);L[W]=Le}else L[W]=this.parseUShortList()}return this.relativeOffset=A,L},Be.prototype.parseCoverage=function(){var _=this.offset+this.relativeOffset,S=this.parseUShort(),T=this.parseUShort();if(S===1)return{format:1,glyphs:this.parseUShortList(T)};if(S!==2)throw new Error("0x"+_.toString(16)+": Coverage format must be 1 or 2.");for(var A=new Array(T),L=0;L<T;L++)A[L]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:A}},Be.prototype.parseClassDef=function(){var _=this.offset+this.relativeOffset,S=this.parseUShort();if(S===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(S===2)return{format:2,ranges:this.parseRecordList({start:Be.uShort,end:Be.uShort,classId:Be.uShort})};throw new Error("0x"+_.toString(16)+": ClassDef format must be 1 or 2.")},Be.list=function(_,S){return function(){return this.parseList(_,S)}},Be.list32=function(_,S){return function(){return this.parseList32(_,S)}},Be.recordList=function(_,S){return function(){return this.parseRecordList(_,S)}},Be.recordList32=function(_,S){return function(){return this.parseRecordList32(_,S)}},Be.pointer=function(_){return function(){return this.parsePointer(_)}},Be.pointer32=function(_){return function(){return this.parsePointer32(_)}},Be.tag=Be.prototype.parseTag,Be.byte=Be.prototype.parseByte,Be.uShort=Be.offset16=Be.prototype.parseUShort,Be.uShortList=Be.prototype.parseUShortList,Be.uLong=Be.offset32=Be.prototype.parseULong,Be.uLongList=Be.prototype.parseULongList,Be.struct=Be.prototype.parseStruct,Be.coverage=Be.prototype.parseCoverage,Be.classDef=Be.prototype.parseClassDef;var Ee={reserved:Be.uShort,reqFeatureIndex:Be.uShort,featureIndexes:Be.uShortList},we=(Be.prototype.parseScriptList=function(){return this.parsePointer(Be.recordList({tag:Be.tag,script:Be.pointer({defaultLangSys:Be.pointer(Ee),langSysRecords:Be.recordList({tag:Be.tag,langSys:Be.pointer(Ee)})})}))||[]},Be.prototype.parseFeatureList=function(){return this.parsePointer(Be.recordList({tag:Be.tag,feature:Be.pointer({featureParams:Be.offset16,lookupListIndexes:Be.uShortList})}))||[]},Be.prototype.parseLookupList=function(_){return this.parsePointer(Be.list(Be.pointer(function(){var S=this.parseUShort(),T=(j.argument(1<=S&&S<=9,"GPOS/GSUB lookup type "+S+" unknown."),this.parseUShort()),A=16&T;return{lookupType:S,lookupFlag:T,subtables:this.parseList(Be.pointer(_[S])),markFilteringSet:A?this.parseUShort():void 0}})))||[]},Be.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var _=this.parseUShort(),S=this.parseUShort();return j.argument(_===1&&S<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Be.offset32,featureTableSubstitutionOffset:Be.offset32})})||[]},{getByte:We,getCard8:We,getUShort:Ke,getCard16:Ke,getShort:function(_,S){return _.getInt16(S,!1)},getULong:Ge,getFixed:et,getTag:function(_,S){for(var T="",A=S;A<S+4;A+=1)T+=String.fromCharCode(_.getInt8(A));return T},getOffset:function(_,S,T){for(var A=0,L=0;L<T;L+=1)A=(A<<=8)+_.getUint8(S+L);return A},getBytes:function(_,S,T){for(var A=[],L=S;L<T;L+=1)A.push(_.getUint8(L));return A},bytesToString:function(_){for(var S="",T=0;T<_.length;T+=1)S+=String.fromCharCode(_[T]);return S},Parser:Be}),B={parse:function(_,S){for(var T={},A=(T.version=we.getUShort(_,S),j.argument(T.version===0,"cmap table version should be 0."),T.numTables=we.getUShort(_,S+2),-1),L=T.numTables-1;0<=L;--L){var W=we.getUShort(_,S+4+8*L),$=we.getUShort(_,S+4+8*L+2);if(W===3&&($===0||$===1||$===10)||W===0&&($===0||$===1||$===2||$===3||$===4)){A=we.getULong(_,S+4+8*L+4);break}}if(A===-1)throw new Error("No valid cmap sub-tables found.");var xe=new we.Parser(_,S+A);if(T.format=xe.parseUShort(),T.format===12){var Le,Ie=T,Qe=xe;Qe.parseUShort(),Ie.length=Qe.parseULong(),Ie.language=Qe.parseULong(),Ie.groupCount=Le=Qe.parseULong(),Ie.glyphIndexMap={};for(var lt=0;lt<Le;lt+=1)for(var nt=Qe.parseULong(),He=Qe.parseULong(),jt=Qe.parseULong(),yt=nt;yt<=He;yt+=1)Ie.glyphIndexMap[yt]=jt,jt++}else{if(T.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+T.format+").");var wt=T,dt=_,ht=S,Yt=A;wt.length=xe.parseUShort(),wt.language=xe.parseUShort(),wt.segCount=nr=xe.parseUShort()>>1,xe.skip("uShort",3),wt.glyphIndexMap={};for(var nr,Zt=new we.Parser(dt,ht+Yt+14),Qt=new we.Parser(dt,ht+Yt+16+2*nr),ur=new we.Parser(dt,ht+Yt+16+4*nr),Cr=new we.Parser(dt,ht+Yt+16+6*nr),Hr=ht+Yt+16+8*nr,ln=0;ln<nr-1;ln+=1)for(var An=void 0,kn=Zt.parseUShort(),Ss=Qt.parseUShort(),Er=ur.parseShort(),Rr=Cr.parseUShort(),gr=Ss;gr<=kn;gr+=1)Rr!==0?(Hr=(Hr=Cr.offset+Cr.relativeOffset-2)+Rr+2*(gr-Ss),(An=we.getUShort(dt,Hr))!==0&&(An=An+Er&65535)):An=gr+Er&65535,wt.glyphIndexMap[gr]=An}return T},make:function(_){for(var S=!0,T=_.length-1;0<T;--T)if(65535<_.get(T).unicode){console.log("Adding CMAP format 12 (needed!)"),S=!1;break}var A,L,W=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:S?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:S?12:20}],$=(W=(W=S?W:W.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Oe.Table("cmap",W));for($.segments=[],T=0;T<_.length;T+=1){for(var xe=_.get(T),Le=0;Le<xe.unicodes.length;Le+=1)A=xe.unicodes[Le],L=T,$.segments.push({end:A,start:A,delta:-(A-L),offset:0,glyphIndex:L});$.segments=$.segments.sort(function(ht,Yt){return ht.start-Yt.start})}$.segments.push({end:65535,start:65535,delta:1,offset:0});var Ie=$.segments.length,Qe=0,lt=[],nt=[],He=[],jt=[],yt=[],wt=[];for(T=0;T<Ie;T+=1){var dt=$.segments[T];dt.end<=65535&&dt.start<=65535?(lt=lt.concat({name:"end_"+T,type:"USHORT",value:dt.end}),nt=nt.concat({name:"start_"+T,type:"USHORT",value:dt.start}),He=He.concat({name:"idDelta_"+T,type:"SHORT",value:dt.delta}),jt=jt.concat({name:"idRangeOffset_"+T,type:"USHORT",value:dt.offset}),dt.glyphId!==void 0&&(yt=yt.concat({name:"glyph_"+T,type:"USHORT",value:dt.glyphId}))):Qe+=1,S||dt.glyphIndex===void 0||(wt=(wt=(wt=wt.concat({name:"cmap12Start_"+T,type:"ULONG",value:dt.start})).concat({name:"cmap12End_"+T,type:"ULONG",value:dt.end})).concat({name:"cmap12Glyph_"+T,type:"ULONG",value:dt.glyphIndex}))}return $.segCountX2=2*(Ie-Qe),$.searchRange=2*Math.pow(2,Math.floor(Math.log(Ie-Qe)/Math.log(2))),$.entrySelector=Math.log($.searchRange/2)/Math.log(2),$.rangeShift=$.segCountX2-$.searchRange,$.fields=$.fields.concat(lt),$.fields.push({name:"reservedPad",type:"USHORT",value:0}),$.fields=$.fields.concat(nt),$.fields=$.fields.concat(He),$.fields=$.fields.concat(jt),$.fields=$.fields.concat(yt),$.cmap4Length=14+2*lt.length+2+2*nt.length+2*He.length+2*jt.length+2*yt.length,S||(W=16+4*wt.length,$.cmap12Offset=20+$.cmap4Length,$.fields=$.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:W},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:wt.length/3}]),$.fields=$.fields.concat(wt)),$}},G=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],I=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],C=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ye=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function ge(_){this.font=_}function _e(_){this.cmap=_}function H(_,S){this.encoding=_,this.charset=S}function me(_){switch(_.version){case 1:this.names=ye.slice();break;case 2:this.names=new Array(_.numberOfGlyphs);for(var S=0;S<_.numberOfGlyphs;S++)_.glyphNameIndex[S]<ye.length?this.names[S]=ye[_.glyphNameIndex[S]]:this.names[S]=_.names[_.glyphNameIndex[S]-ye.length];break;case 2.5:this.names=new Array(_.numberOfGlyphs);for(var T=0;T<_.numberOfGlyphs;T++)this.names[T]=ye[T+_.glyphNameIndex[T]];break;default:this.names=[]}}ge.prototype.charToGlyphIndex=function(_){var S=_.codePointAt(0),T=this.font.glyphs;if(T){for(var A=0;A<T.length;A+=1)for(var L=T.get(A),W=0;W<L.unicodes.length;W+=1)if(L.unicodes[W]===S)return A}return null},_e.prototype.charToGlyphIndex=function(_){return this.cmap.glyphIndexMap[_.codePointAt(0)]||0},H.prototype.charToGlyphIndex=function(_){return _=_.codePointAt(0),_=this.encoding[_],this.charset.indexOf(_)},me.prototype.nameToGlyphIndex=function(_){return this.names.indexOf(_)},me.prototype.glyphIndexToName=function(_){return this.names[_]};var je={line:function(_,S,T,A,L){_.beginPath(),_.moveTo(S,T),_.lineTo(A,L),_.stroke()}};function fe(_){this.bindConstructorValues(_)}function Re(_,S,T){Object.defineProperty(_,S,{get:function(){return _.path,_[T]},set:function(A){_[T]=A},enumerable:!0,configurable:!0})}function X(_,S){if(this.font=_,this.glyphs={},Array.isArray(S))for(var T=0;T<S.length;T++)this.glyphs[T]=S[T];this.length=S&&S.length||0}fe.prototype.bindConstructorValues=function(_){var S;this.index=_.index||0,this.name=_.name||null,this.unicode=_.unicode||void 0,this.unicodes=_.unicodes||_.unicode!==void 0?[_.unicode]:[],_.xMin&&(this.xMin=_.xMin),_.yMin&&(this.yMin=_.yMin),_.xMax&&(this.xMax=_.xMax),_.yMax&&(this.yMax=_.yMax),_.advanceWidth&&(this.advanceWidth=_.advanceWidth),Object.defineProperty(this,"path",(_=_.path,S=_||new ce,{configurable:!0,get:function(){return S=typeof S=="function"?S():S},set:function(T){S=T}}))},fe.prototype.addUnicode=function(_){this.unicodes.length===0&&(this.unicode=_),this.unicodes.push(_)},fe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},fe.prototype.getPath=function(_,S,T,A,L){_=_!==void 0?_:0,S=S!==void 0?S:0,T=T!==void 0?T:72;for(var W,$,xe=(A=A||{}).xScale,Le=A.yScale,Ie=((W=A.hinting&&L&&L.hinting?this.path&&L.hinting.exec(this,T):W)?($=L.hinting.getCommands(W),_=Math.round(_),S=Math.round(S),xe=Le=1):($=this.path.commands,A=1/this.path.unitsPerEm*T,xe===void 0&&(xe=A),Le===void 0&&(Le=A)),new ce),Qe=0;Qe<$.length;Qe+=1){var lt=$[Qe];lt.type==="M"?Ie.moveTo(_+lt.x*xe,S+-lt.y*Le):lt.type==="L"?Ie.lineTo(_+lt.x*xe,S+-lt.y*Le):lt.type==="Q"?Ie.quadraticCurveTo(_+lt.x1*xe,S+-lt.y1*Le,_+lt.x*xe,S+-lt.y*Le):lt.type==="C"?Ie.curveTo(_+lt.x1*xe,S+-lt.y1*Le,_+lt.x2*xe,S+-lt.y2*Le,_+lt.x*xe,S+-lt.y*Le):lt.type==="Z"&&Ie.closePath()}return Ie},fe.prototype.getContours=function(){if(this.points===void 0)return[];for(var _=[],S=[],T=0;T<this.points.length;T+=1){var A=this.points[T];S.push(A),A.lastPointOfContour&&(_.push(S),S=[])}return j.argument(S.length===0,"There are still points left in the current contour."),_},fe.prototype.getMetrics=function(){for(var _=this.path.commands,S=[],T=[],A=0;A<_.length;A+=1){var L=_[A];L.type!=="Z"&&(S.push(L.x),T.push(L.y)),L.type!=="Q"&&L.type!=="C"||(S.push(L.x1),T.push(L.y1)),L.type==="C"&&(S.push(L.x2),T.push(L.y2))}var W={xMin:Math.min.apply(null,S),yMin:Math.min.apply(null,T),xMax:Math.max.apply(null,S),yMax:Math.max.apply(null,T),leftSideBearing:this.leftSideBearing};return isFinite(W.xMin)||(W.xMin=0),isFinite(W.xMax)||(W.xMax=this.advanceWidth),isFinite(W.yMin)||(W.yMin=0),isFinite(W.yMax)||(W.yMax=0),W.rightSideBearing=this.advanceWidth-W.leftSideBearing-(W.xMax-W.xMin),W},fe.prototype.draw=function(_,S,T,A,L){this.getPath(S,T,A,L).draw(_)},fe.prototype.drawPoints=function(_,S,T,A){function L(Qe,lt,nt,He){var jt=2*Math.PI;_.beginPath();for(var yt=0;yt<Qe.length;yt+=1)_.moveTo(lt+Qe[yt].x*He,nt+Qe[yt].y*He),_.arc(lt+Qe[yt].x*He,nt+Qe[yt].y*He,2,0,jt,!1);_.closePath(),_.fill()}S=S!==void 0?S:0,T=T!==void 0?T:0;for(var A=1/this.path.unitsPerEm*(A=A!==void 0?A:24),W=[],$=[],xe=this.path,Le=0;Le<xe.commands.length;Le+=1){var Ie=xe.commands[Le];Ie.x!==void 0&&W.push({x:Ie.x,y:-Ie.y}),Ie.x1!==void 0&&$.push({x:Ie.x1,y:-Ie.y1}),Ie.x2!==void 0&&$.push({x:Ie.x2,y:-Ie.y2})}_.fillStyle="blue",L(W,S,T,A),_.fillStyle="red",L($,S,T,A)},fe.prototype.drawMetrics=function(_,S,T,A){S=S!==void 0?S:0,T=T!==void 0?T:0,A=1/this.path.unitsPerEm*(A=A!==void 0?A:24),_.lineWidth=1,_.strokeStyle="black",je.line(_,S,-1e4,S,1e4),je.line(_,-1e4,T,1e4,T);var L=this.xMin||0,W=this.yMin||0,$=this.xMax||0,xe=this.yMax||0,Le=this.advanceWidth||0;_.strokeStyle="blue",je.line(_,S+L*A,-1e4,S+L*A,1e4),je.line(_,S+$*A,-1e4,S+$*A,1e4),je.line(_,-1e4,T+-W*A,1e4,T+-W*A),je.line(_,-1e4,T+-xe*A,1e4,T+-xe*A),_.strokeStyle="green",je.line(_,S+Le*A,-1e4,S+Le*A,1e4)},X.prototype.get=function(_){return typeof this.glyphs[_]=="function"&&(this.glyphs[_]=this.glyphs[_]()),this.glyphs[_]},X.prototype.push=function(_,S){this.glyphs[_]=S,this.length++};var pe={GlyphSet:X,glyphLoader:function(_,S){return new fe({index:S,font:_})},ttfGlyphLoader:function(_,S,T,A,L,W){return function(){var $=new fe({index:S,font:_});return $.path=function(){T($,A,L);var xe=W(_.glyphs,$);return xe.unitsPerEm=_.unitsPerEm,xe},Re($,"xMin","_xMin"),Re($,"xMax","_xMax"),Re($,"yMin","_yMin"),Re($,"yMax","_yMax"),$}},cffGlyphLoader:function(_,S,T,A){return function(){var L=new fe({index:S,font:_});return L.path=function(){var W=T(_,L,A);return W.unitsPerEm=_.unitsPerEm,W},L}}};function Y(_){return _=_.length<1240?107:_.length<33900?1131:32768,_}function q(_,S,T){var A,L=[],W=[],$=we.getCard16(_,S);if($!==0){for(var xe=we.getByte(_,S+2),Le=S+($+1)*xe+2,Ie=S+3,Qe=0;Qe<$+1;Qe+=1)L.push(we.getOffset(_,Ie,xe)),Ie+=xe;A=Le+L[$]}else A=S+2;for(var lt=0;lt<L.length-1;lt+=1){var nt=we.getBytes(_,Le+L[lt],Le+L[lt+1]);T&&(nt=T(nt)),W.push(nt)}return{objects:W,startOffset:S,endOffset:A}}function J(_,S){if(S===28)return _.parseByte()<<8|_.parseByte();if(S===29)return _.parseByte()<<24|_.parseByte()<<16|_.parseByte()<<8|_.parseByte();if(S===30){for(var T=_,A="",L=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var $=T.parseByte(),W=$>>4,$=15&$;if(W==15||(A+=L[W],$==15))break;A+=L[$]}return parseFloat(A)}if(32<=S&&S<=246)return S-139;if(247<=S&&S<=250)return 256*(S-247)+_.parseByte()+108;if(251<=S&&S<=254)return 256*-(S-251)-_.parseByte()-108;throw new Error("Invalid b0 "+S)}function de(_,S,T){var A=new we.Parser(_,S=S!==void 0?S:0),L=[],W=[];for(T=T!==void 0?T:_.length;A.relativeOffset<T;){var $=A.parseByte();$<=21?($===12&&($=1200+A.parseByte()),L.push([$,W]),W=[]):W.push(J(A,$))}for(var xe=L,Le={},Ie=0;Ie<xe.length;Ie+=1){var Qe=xe[Ie][0],lt=xe[Ie][1],nt=void 0,nt=lt.length===1?lt[0]:lt;if(Le.hasOwnProperty(Qe)&&!isNaN(Le[Qe]))throw new Error("Object "+Le+" already has key "+Qe);Le[Qe]=nt}return Le}function ee(_,S){return S=S<=390?G[S]:_[S-391]}function le(_,S,T){for(var A,L={},W=0;W<S.length;W+=1){var $=S[W];if(Array.isArray($.type)){var xe=[];xe.length=$.type.length;for(var Le=0;Le<$.type.length;Le++)(A=_[$.op]!==void 0?_[$.op][Le]:void 0)===void 0&&(A=$.value!==void 0&&$.value[Le]!==void 0?$.value[Le]:null),$.type[Le]==="SID"&&(A=ee(T,A)),xe[Le]=A;L[$.name]=xe}else(A=_[$.op])===void 0&&(A=$.value!==void 0?$.value:null),$.type==="SID"&&(A=ee(T,A)),L[$.name]=A}return L}var be=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ue=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Je(_,S,T,A){return le(de(_,S,T),Ue,A)}function Ye(_,S,T,A){for(var L=[],W=0;W<T.length;W+=1){var $=new DataView(new Uint8Array(T[W]).buffer),$=(xe=A,le(de($,0,$.byteLength),be,xe)),xe=($._subrs=[],$._subrsBias=0,$.private[0]),Le=$.private[1];xe!==0&&Le!==0&&(xe=Je(_,Le+S,xe,A),$._defaultWidthX=xe.defaultWidthX,$._nominalWidthX=xe.nominalWidthX,xe.subrs!==0&&(Le=q(_,Le+xe.subrs+S),$._subrs=Le.objects,$._subrsBias=Y($._subrs)),$._privateDict=xe),L.push($)}return L}function rt(_,S,T){var A,L,W,$,xe,Le,Ie,Qe,lt,nt=new ce,He=[],jt=0,yt=!1,wt=!1,dt=0,ht=0,Yt=(lt=(_.isCIDFont?(xe=_.tables.cff.topDict._fdSelect[S.index],xe=_.tables.cff.topDict._fdArray[xe],Le=xe._subrs,Ie=xe._subrsBias,Qe=xe._defaultWidthX,xe):(Le=_.tables.cff.topDict._subrs,Ie=_.tables.cff.topDict._subrsBias,Qe=_.tables.cff.topDict._defaultWidthX,_.tables.cff.topDict))._nominalWidthX,Qe);function nr(Qt,ur){wt&&nt.closePath(),nt.moveTo(Qt,ur),wt=!0}function Zt(){He.length%2==0||yt||(Yt=He.shift()+lt),jt+=He.length>>1,He.length=0,yt=!0}return function Qt(ur){for(var Cr,Hr,ln,An,kn,Ss,Er,Rr,gr,Rn,Ur,bn,Or=0;Or<ur.length;){var mn=ur[Or];switch(Or+=1,mn){case 1:case 3:Zt();break;case 4:1<He.length&&!yt&&(Yt=He.shift()+lt,yt=!0),ht+=He.pop(),nr(dt,ht);break;case 5:for(;0<He.length;)dt+=He.shift(),ht+=He.shift(),nt.lineTo(dt,ht);break;case 6:for(;0<He.length&&(dt+=He.shift(),nt.lineTo(dt,ht),He.length!==0);)ht+=He.shift(),nt.lineTo(dt,ht);break;case 7:for(;0<He.length&&(ht+=He.shift(),nt.lineTo(dt,ht),He.length!==0);)dt+=He.shift(),nt.lineTo(dt,ht);break;case 8:for(;0<He.length;)A=dt+He.shift(),L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),dt=W+He.shift(),ht=$+He.shift(),nt.curveTo(A,L,W,$,dt,ht);break;case 10:kn=He.pop()+Ie,(Ss=Le[kn])&&Qt(Ss);break;case 11:return;case 12:switch(mn=ur[Or],Or+=1,mn){case 35:A=dt+He.shift(),L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),Er=W+He.shift(),Rr=$+He.shift(),gr=Er+He.shift(),Rn=Rr+He.shift(),Ur=gr+He.shift(),bn=Rn+He.shift(),dt=Ur+He.shift(),ht=bn+He.shift(),He.shift(),nt.curveTo(A,L,W,$,Er,Rr),nt.curveTo(gr,Rn,Ur,bn,dt,ht);break;case 34:A=dt+He.shift(),L=ht,W=A+He.shift(),$=L+He.shift(),Er=W+He.shift(),Rr=$,gr=Er+He.shift(),Rn=$,Ur=gr+He.shift(),bn=ht,dt=Ur+He.shift(),nt.curveTo(A,L,W,$,Er,Rr),nt.curveTo(gr,Rn,Ur,bn,dt,ht);break;case 36:A=dt+He.shift(),L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),Er=W+He.shift(),Rr=$,gr=Er+He.shift(),Rn=$,Ur=gr+He.shift(),bn=Rn+He.shift(),dt=Ur+He.shift(),nt.curveTo(A,L,W,$,Er,Rr),nt.curveTo(gr,Rn,Ur,bn,dt,ht);break;case 37:A=dt+He.shift(),L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),Er=W+He.shift(),Rr=$+He.shift(),gr=Er+He.shift(),Rn=Rr+He.shift(),Ur=gr+He.shift(),bn=Rn+He.shift(),Math.abs(Ur-dt)>Math.abs(bn-ht)?dt=Ur+He.shift():ht=bn+He.shift(),nt.curveTo(A,L,W,$,Er,Rr),nt.curveTo(gr,Rn,Ur,bn,dt,ht);break;default:console.log("Glyph "+S.index+": unknown operator 1200"+mn),He.length=0}break;case 14:0<He.length&&!yt&&(Yt=He.shift()+lt,yt=!0),wt&&(nt.closePath(),wt=!1);break;case 18:Zt();break;case 19:case 20:Zt(),Or+=jt+7>>3;break;case 21:2<He.length&&!yt&&(Yt=He.shift()+lt,yt=!0),ht+=He.pop(),nr(dt+=He.pop(),ht);break;case 22:1<He.length&&!yt&&(Yt=He.shift()+lt,yt=!0),nr(dt+=He.pop(),ht);break;case 23:Zt();break;case 24:for(;2<He.length;)A=dt+He.shift(),L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),dt=W+He.shift(),ht=$+He.shift(),nt.curveTo(A,L,W,$,dt,ht);dt+=He.shift(),ht+=He.shift(),nt.lineTo(dt,ht);break;case 25:for(;6<He.length;)dt+=He.shift(),ht+=He.shift(),nt.lineTo(dt,ht);A=dt+He.shift(),L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),dt=W+He.shift(),ht=$+He.shift(),nt.curveTo(A,L,W,$,dt,ht);break;case 26:for(He.length%2&&(dt+=He.shift());0<He.length;)A=dt,L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),dt=W,ht=$+He.shift(),nt.curveTo(A,L,W,$,dt,ht);break;case 27:for(He.length%2&&(ht+=He.shift());0<He.length;)A=dt+He.shift(),L=ht,W=A+He.shift(),$=L+He.shift(),dt=W+He.shift(),ht=$,nt.curveTo(A,L,W,$,dt,ht);break;case 28:Cr=ur[Or],Hr=ur[Or+1],He.push((Cr<<24|Hr<<16)>>16),Or+=2;break;case 29:kn=He.pop()+_.gsubrsBias,(Ss=_.gsubrs[kn])&&Qt(Ss);break;case 30:for(;0<He.length&&(A=dt,L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),dt=W+He.shift(),ht=$+(He.length===1?He.shift():0),nt.curveTo(A,L,W,$,dt,ht),He.length!==0);)A=dt+He.shift(),L=ht,W=A+He.shift(),$=L+He.shift(),ht=$+He.shift(),dt=W+(He.length===1?He.shift():0),nt.curveTo(A,L,W,$,dt,ht);break;case 31:for(;0<He.length&&(A=dt+He.shift(),L=ht,W=A+He.shift(),$=L+He.shift(),ht=$+He.shift(),dt=W+(He.length===1?He.shift():0),nt.curveTo(A,L,W,$,dt,ht),He.length!==0);)A=dt,L=ht+He.shift(),W=A+He.shift(),$=L+He.shift(),dt=W+He.shift(),ht=$+(He.length===1?He.shift():0),nt.curveTo(A,L,W,$,dt,ht);break;default:mn<32?console.log("Glyph "+S.index+": unknown operator "+mn):mn<247?He.push(mn-139):mn<251?(Cr=ur[Or],Or+=1,He.push(256*(mn-247)+Cr+108)):mn<255?(Cr=ur[Or],Or+=1,He.push(256*-(mn-251)-Cr-108)):(Cr=ur[Or],Hr=ur[Or+1],ln=ur[Or+2],An=ur[Or+3],Or+=4,He.push((Cr<<24|Hr<<16|ln<<8|An)/65536))}}}(T),S.advanceWidth=Yt,nt}function Z(_,S){var T,A=G.indexOf(_);return 0<=A&&(T=A),0<=(A=S.indexOf(_))?T=A+G.length:(T=G.length+S.length,S.push(_)),T}function he(_,S,T){for(var A={},L=0;L<_.length;L+=1){var W=_[L],$=S[W.name];$===void 0||function xe(Le,Ie){if(Le===Ie)return 1;if(Array.isArray(Le)&&Array.isArray(Ie)&&Le.length===Ie.length){for(var Qe=0;Qe<Le.length;Qe+=1)if(!xe(Le[Qe],Ie[Qe]))return;return 1}}($,W.value)||(W.type==="SID"&&($=Z($,T)),A[W.op]={name:W.name,type:W.type,value:$})}return A}function pt(_,S){var T=new Oe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return T.dict=he(be,_,S),T}function _t(_){var S=new Oe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return S.topDicts=[{name:"topDict_0",type:"TABLE",value:_}],S}function kt(_){for(var S=new Oe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),T=0;T<_.length;T+=1){var A=_.get(T),L=function(W){for(var $=[],xe=W.path,Le=($.push({name:"width",type:"NUMBER",value:W.advanceWidth}),0),Ie=0,Qe=0;Qe<xe.commands.length;Qe+=1){var lt,nt,He,jt,yt=void 0,wt=void 0,dt=xe.commands[Qe];(dt=dt.type==="Q"?{type:"C",x:dt.x,y:dt.y,x1:1/3*Le+2/3*dt.x1,y1:1/3*Ie+2/3*dt.y1,x2:1/3*dt.x+2/3*dt.x1,y2:1/3*dt.y+2/3*dt.y1}:dt).type==="M"?(yt=Math.round(dt.x-Le),wt=Math.round(dt.y-Ie),$.push({name:"dx",type:"NUMBER",value:yt}),$.push({name:"dy",type:"NUMBER",value:wt}),$.push({name:"rmoveto",type:"OP",value:21}),Le=Math.round(dt.x),Ie=Math.round(dt.y)):dt.type==="L"?(yt=Math.round(dt.x-Le),wt=Math.round(dt.y-Ie),$.push({name:"dx",type:"NUMBER",value:yt}),$.push({name:"dy",type:"NUMBER",value:wt}),$.push({name:"rlineto",type:"OP",value:5}),Le=Math.round(dt.x),Ie=Math.round(dt.y)):dt.type==="C"&&(lt=Math.round(dt.x1-Le),nt=Math.round(dt.y1-Ie),He=Math.round(dt.x2-dt.x1),jt=Math.round(dt.y2-dt.y1),yt=Math.round(dt.x-dt.x2),wt=Math.round(dt.y-dt.y2),$.push({name:"dx1",type:"NUMBER",value:lt}),$.push({name:"dy1",type:"NUMBER",value:nt}),$.push({name:"dx2",type:"NUMBER",value:He}),$.push({name:"dy2",type:"NUMBER",value:jt}),$.push({name:"dx",type:"NUMBER",value:yt}),$.push({name:"dy",type:"NUMBER",value:wt}),$.push({name:"rrcurveto",type:"OP",value:8}),Le=Math.round(dt.x),Ie=Math.round(dt.y))}return $.push({name:"endchar",type:"OP",value:14}),$}(A);S.charStrings.push({name:A.name,type:"CHARSTRING",value:L})}return S}var Dt={parse:function(_,S,T){T.tables.cff={},xe=_,A=S,(L={}).formatMajor=we.getCard8(xe,A),L.formatMinor=we.getCard8(xe,A+1),L.size=we.getCard8(xe,A+2),L.offsetSize=we.getCard8(xe,A+3),L.startOffset=A,L.endOffset=A+4;var xe=q(_,L.endOffset,we.bytesToString),A=q(_,xe.endOffset),L=q(_,A.endOffset,we.bytesToString),xe=q(_,L.endOffset);if(T.gsubrs=xe.objects,T.gsubrsBias=Y(T.gsubrs),(xe=Ye(_,S,A.objects,L.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+xe.length);if(A=xe[0],(T.tables.cff.topDict=A)._privateDict&&(T.defaultWidthX=A._privateDict.defaultWidthX,T.nominalWidthX=A._privateDict.nominalWidthX),A.ros[0]!==void 0&&A.ros[1]!==void 0&&(T.isCIDFont=!0),T.isCIDFont){var xe=A.fdArray,W=A.fdSelect;if(xe===0||W===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");xe=Ye(_,S,q(_,xe+=S).objects,L.objects),A._fdArray=xe,A._fdSelect=function(nt,He,jt,yt){var wt,dt=[],ht=new we.Parser(nt,He);if((nt=ht.parseCard8())===0)for(var Yt=0;Yt<jt;Yt++){if(yt<=(wt=ht.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+wt+" (FD count "+yt+")");dt.push(wt)}else{if(nt!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+nt);var nr,Zt=ht.parseCard16(),Qt=ht.parseCard16();if(Qt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+Qt);for(var ur=0;ur<Zt;ur++){if(wt=ht.parseCard8(),nr=ht.parseCard16(),yt<=wt)throw new Error("CFF table CID Font FDSelect has bad FD index value "+wt+" (FD count "+yt+")");if(jt<nr)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+nr);for(;Qt<nr;Qt++)dt.push(wt);Qt=nr}if(nr!==jt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+nr)}return dt}(_,W+=S,T.numGlyphs,xe.length)}var W=S+A.private[1],xe=Je(_,W,A.private[0],L.objects),$=(T.defaultWidthX=xe.defaultWidthX,T.nominalWidthX=xe.nominalWidthX,xe.subrs!==0?(W=q(_,W+xe.subrs),T.subrs=W.objects,T.subrsBias=Y(T.subrs)):(T.subrs=[],T.subrsBias=0),q(_,S+A.charStrings)),xe=(T.nGlyphs=$.objects.length,function(Qe,lt,nt,He){var jt=new we.Parser(Qe,lt),yt=(--nt,[".notdef"]);if((Qe=jt.parseCard8())===0)for(var wt=0;wt<nt;wt+=1)dt=jt.parseSID(),yt.push(ee(He,dt));else if(Qe===1)for(;yt.length<=nt;)for(var dt=jt.parseSID(),ht=jt.parseCard8(),Yt=0;Yt<=ht;Yt+=1)yt.push(ee(He,dt)),dt+=1;else{if(Qe!==2)throw new Error("Unknown charset format "+Qe);for(;yt.length<=nt;){dt=jt.parseSID(),ht=jt.parseCard16();for(var nr=0;nr<=ht;nr+=1)yt.push(ee(He,dt)),dt+=1}}return yt}(_,S+A.charset,T.nGlyphs,L.objects));A.encoding===0?T.cffEncoding=new H(I,xe):A.encoding===1?T.cffEncoding=new H(C,xe):T.cffEncoding=function(Qe,lt,nt){var He={},jt=new we.Parser(Qe,lt);if((Qe=jt.parseCard8())===0)for(var yt=jt.parseCard8(),wt=0;wt<yt;wt+=1)He[ht=jt.parseCard8()]=wt;else{if(Qe!==1)throw new Error("Unknown encoding format "+Qe);for(var dt=jt.parseCard8(),ht=1,Yt=0;Yt<dt;Yt+=1)for(var nr=jt.parseCard8(),Zt=jt.parseCard8(),Qt=nr;Qt<=nr+Zt;Qt+=1)He[Qt]=ht,ht+=1}return new H(He,nt)}(_,S+A.encoding,xe),T.encoding=T.encoding||T.cffEncoding,T.glyphs=new pe.GlyphSet(T);for(var Le=0;Le<T.nGlyphs;Le+=1){var Ie=$.objects[Le];T.glyphs.push(Le,pe.cffGlyphLoader(T,Le,rt,Ie))}},make:function(_,Qe){for(var T,A=new Oe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),L=1/Qe.unitsPerEm,L={version:Qe.version,fullName:Qe.fullName,familyName:Qe.familyName,weight:Qe.weightName,fontBBox:Qe.fontBBox||[0,0,0,0],fontMatrix:[L,0,0,L,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},W=[],$=1;$<_.length;$+=1)T=_.get($),W.push(T.name);var xe,Le,Ie=[],Qe=(A.header=new Oe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),A.nameIndex=function(nt){var He=new Oe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);He.names=[];for(var jt=0;jt<nt.length;jt+=1)He.names.push({name:"name_"+jt,type:"NAME",value:nt[jt]});return He}([Qe.postScriptName]),pt(L,Ie)),lt=(A.topDictIndex=_t(Qe),A.globalSubrIndex=new Oe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),A.charsets=function(nt,He){for(var jt=new Oe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),yt=0;yt<nt.length;yt+=1){var wt=Z(nt[yt],He);jt.fields.push({name:"glyph_"+yt,type:"SID",value:wt})}return jt}(W,Ie),A.charStringsIndex=kt(_),A.privateDict=(lt={},xe=Ie,(Le=new Oe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=he(Ue,lt,xe),Le),A.stringIndex=function(nt){var He=new Oe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);He.strings=[];for(var jt=0;jt<nt.length;jt+=1)He.strings.push({name:"string_"+jt,type:"STRING",value:nt[jt]});return He}(Ie),A.header.sizeOf()+A.nameIndex.sizeOf()+A.topDictIndex.sizeOf()+A.stringIndex.sizeOf()+A.globalSubrIndex.sizeOf());return L.charset=lt,L.encoding=0,L.charStrings=L.charset+A.charsets.sizeOf(),L.private[1]=L.charStrings+A.charStringsIndex.sizeOf(),Qe=pt(L,Ie),A.topDictIndex=_t(Qe),A}},Pt={parse:function(A,S){var T={},A=new we.Parser(A,S);return T.version=A.parseVersion(),T.fontRevision=Math.round(1e3*A.parseFixed())/1e3,T.checkSumAdjustment=A.parseULong(),T.magicNumber=A.parseULong(),j.argument(T.magicNumber===1594834165,"Font header has wrong magic number."),T.flags=A.parseUShort(),T.unitsPerEm=A.parseUShort(),T.created=A.parseLongDateTime(),T.modified=A.parseLongDateTime(),T.xMin=A.parseShort(),T.yMin=A.parseShort(),T.xMax=A.parseShort(),T.yMax=A.parseShort(),T.macStyle=A.parseUShort(),T.lowestRecPPEM=A.parseUShort(),T.fontDirectionHint=A.parseShort(),T.indexToLocFormat=A.parseShort(),T.glyphDataFormat=A.parseShort(),T},make:function(_){var S=Math.round(new Date().getTime()/1e3)+2082844800,T=S;return _.createdTimestamp&&(T=_.createdTimestamp+2082844800),new Oe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:T},{name:"modified",type:"LONGDATETIME",value:S},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],_)}},Ae={parse:function(A,S){var T={},A=new we.Parser(A,S);return T.version=A.parseVersion(),T.ascender=A.parseShort(),T.descender=A.parseShort(),T.lineGap=A.parseShort(),T.advanceWidthMax=A.parseUShort(),T.minLeftSideBearing=A.parseShort(),T.minRightSideBearing=A.parseShort(),T.xMaxExtent=A.parseShort(),T.caretSlopeRise=A.parseShort(),T.caretSlopeRun=A.parseShort(),T.caretOffset=A.parseShort(),A.relativeOffset+=8,T.metricDataFormat=A.parseShort(),T.numberOfHMetrics=A.parseUShort(),T},make:function(_){return new Oe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],_)}},mt={parse:function(_,S,T,A,L){for(var W,$,xe=new we.Parser(_,S),Le=0;Le<A;Le+=1){Le<T&&(W=xe.parseUShort(),$=xe.parseShort());var Ie=L.get(Le);Ie.advanceWidth=W,Ie.leftSideBearing=$}},make:function(_){for(var S=new Oe.Table("hmtx",[]),T=0;T<_.length;T+=1){var L=_.get(T),A=L.advanceWidth||0,L=L.leftSideBearing||0;S.fields.push({name:"advanceWidth_"+T,type:"USHORT",value:A}),S.fields.push({name:"leftSideBearing_"+T,type:"SHORT",value:L})}return S}},gt={make:function(_){for(var S=new Oe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:_.length}]),T="",A=12+4*_.length,L=0;L<_.length;++L){var W=T.indexOf(_[L]);W<0&&(W=T.length,T+=_[L]),S.fields.push({name:"offset "+L,type:"USHORT",value:A+W}),S.fields.push({name:"length "+L,type:"USHORT",value:_[L].length})}return S.fields.push({name:"stringPool",type:"CHARARRAY",value:T}),S},parse:function(_,S){for(var T=new we.Parser(_,S),A=T.parseULong(),L=(j.argument(A===1,"Unsupported ltag table version."),T.skip("uLong",1),T.parseULong()),W=[],$=0;$<L;$++){for(var xe="",Le=S+T.parseUShort(),Ie=T.parseUShort(),Qe=Le;Qe<Le+Ie;++Qe)xe+=String.fromCharCode(_.getInt8(Qe));W.push(xe)}return W}},tt={parse:function(A,S){var T={},A=new we.Parser(A,S);return T.version=A.parseVersion(),T.numGlyphs=A.parseUShort(),T.version===1&&(T.maxPoints=A.parseUShort(),T.maxContours=A.parseUShort(),T.maxCompositePoints=A.parseUShort(),T.maxCompositeContours=A.parseUShort(),T.maxZones=A.parseUShort(),T.maxTwilightPoints=A.parseUShort(),T.maxStorage=A.parseUShort(),T.maxFunctionDefs=A.parseUShort(),T.maxInstructionDefs=A.parseUShort(),T.maxStackElements=A.parseUShort(),T.maxSizeOfInstructions=A.parseUShort(),T.maxComponentElements=A.parseUShort(),T.maxComponentDepth=A.parseUShort()),T},make:function(_){return new Oe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:_}])}},zt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],xt={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Gt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ct={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},$t="utf-16",At={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},lr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function mr(_,S,T){switch(_){case 0:return $t;case 1:return lr[T]||At[S];case 3:if(S===1||S===10)return $t}}function dr(_){var S,T={};for(S in _)T[_[S]]=parseInt(S);return T}function hr(_,S,T,A,L,W){return new Oe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:_},{name:"encodingID",type:"USHORT",value:S},{name:"languageID",type:"USHORT",value:T},{name:"nameID",type:"USHORT",value:A},{name:"length",type:"USHORT",value:L},{name:"offset",type:"USHORT",value:W}])}function zr(_,S){if((T=function(W,$){var xe=W.length,Le=$.length-xe+1;e:for(var Ie=0;Ie<Le;Ie++)for(;Ie<Le;Ie++){for(var Qe=0;Qe<xe;Qe++)if($[Ie+Qe]!==W[Qe])continue e;return Ie}return-1}(_,S))<0)for(var T=S.length,A=0,L=_.length;A<L;++A)S.push(_[A]);return T}var $r={parse:function(_,S,T){for(var A={},L=new we.Parser(_,S),S=L.parseUShort(),W=L.parseUShort(),$=L.offset+L.parseUShort(),xe=0;xe<W;xe++){var jt=L.parseUShort(),Le=L.parseUShort(),Ie=L.parseUShort(),Qe=L.parseUShort(),Qe=zt[Qe]||Qe,lt=L.parseUShort(),nt=L.parseUShort(),He=function(wt,dt,ht){switch(wt){case 0:if(dt===65535)return"und";if(ht)return ht[dt];break;case 1:return xt[dt];case 3:return Ct[dt]}}(jt,Ie,T),jt=mr(jt,Le,Ie);jt!==void 0&&He!==void 0&&(Le=void 0,(Le=jt===$t?N.UTF16(_,$+nt,lt):N.MACSTRING(_,$+nt,lt,jt))&&((Ie=(Ie=A[Qe])===void 0?A[Qe]={}:Ie)[He]=Le))}return S===1&&L.parseUShort(),A},make:function(_,S){var T,A=[],L={},W=dr(zt);for(T in _){var $=W[T];if($===void 0&&($=T),nt=parseInt($),isNaN(nt))throw new Error('Name table entry "'+T+'" does not exist, see nameTableNames for complete list.');L[nt]=_[T],A.push(nt)}for(var xe=dr(xt),Le=dr(Ct),Ie=[],Qe=[],lt=0;lt<A.length;lt++){var nt,He,jt=L[nt=A[lt]];for(He in jt){var yt=jt[He],nr=1,wt=xe[He],dt=Gt[wt],ht=mr(nr,dt,wt),ht=F.MACSTRING(yt,ht),Yt=(ht===void 0&&(nr=0,(wt=S.indexOf(He))<0&&(wt=S.length,S.push(He)),dt=4,ht=F.UTF16(yt)),zr(ht,Qe)),nr=(Ie.push(hr(nr,dt,wt,nt,ht.length,Yt)),Le[He]);nr!==void 0&&(wt=zr(dt=F.UTF16(yt),Qe),Ie.push(hr(3,1,nr,nt,dt.length,wt)))}}Ie.sort(function(ur,Cr){return ur.platformID-Cr.platformID||ur.encodingID-Cr.encodingID||ur.languageID-Cr.languageID||ur.nameID-Cr.nameID});for(var Zt=new Oe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:Ie.length},{name:"stringOffset",type:"USHORT",value:6+12*Ie.length}]),Qt=0;Qt<Ie.length;Qt++)Zt.fields.push({name:"record_"+Qt,type:"RECORD",value:Ie[Qt]});return Zt.fields.push({name:"strings",type:"LITERAL",value:Qe}),Zt}},un=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],fr={parse:function(_,S){var T={},A=new we.Parser(_,S);T.version=A.parseUShort(),T.xAvgCharWidth=A.parseShort(),T.usWeightClass=A.parseUShort(),T.usWidthClass=A.parseUShort(),T.fsType=A.parseUShort(),T.ySubscriptXSize=A.parseShort(),T.ySubscriptYSize=A.parseShort(),T.ySubscriptXOffset=A.parseShort(),T.ySubscriptYOffset=A.parseShort(),T.ySuperscriptXSize=A.parseShort(),T.ySuperscriptYSize=A.parseShort(),T.ySuperscriptXOffset=A.parseShort(),T.ySuperscriptYOffset=A.parseShort(),T.yStrikeoutSize=A.parseShort(),T.yStrikeoutPosition=A.parseShort(),T.sFamilyClass=A.parseShort(),T.panose=[];for(var L=0;L<10;L++)T.panose[L]=A.parseByte();return T.ulUnicodeRange1=A.parseULong(),T.ulUnicodeRange2=A.parseULong(),T.ulUnicodeRange3=A.parseULong(),T.ulUnicodeRange4=A.parseULong(),T.achVendID=String.fromCharCode(A.parseByte(),A.parseByte(),A.parseByte(),A.parseByte()),T.fsSelection=A.parseUShort(),T.usFirstCharIndex=A.parseUShort(),T.usLastCharIndex=A.parseUShort(),T.sTypoAscender=A.parseShort(),T.sTypoDescender=A.parseShort(),T.sTypoLineGap=A.parseShort(),T.usWinAscent=A.parseUShort(),T.usWinDescent=A.parseUShort(),1<=T.version&&(T.ulCodePageRange1=A.parseULong(),T.ulCodePageRange2=A.parseULong()),2<=T.version&&(T.sxHeight=A.parseShort(),T.sCapHeight=A.parseShort(),T.usDefaultChar=A.parseUShort(),T.usBreakChar=A.parseUShort(),T.usMaxContent=A.parseUShort()),T},make:function(_){return new Oe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],_)},unicodeRanges:un,getUnicodeRange:function(_){for(var S=0;S<un.length;S+=1){var T=un[S];if(_>=T.begin&&_<T.end)return S}return-1}},Ls={parse:function(_,S){var T={},A=new we.Parser(_,S);switch(T.version=A.parseVersion(),T.italicAngle=A.parseFixed(),T.underlinePosition=A.parseShort(),T.underlineThickness=A.parseShort(),T.isFixedPitch=A.parseULong(),T.minMemType42=A.parseULong(),T.maxMemType42=A.parseULong(),T.minMemType1=A.parseULong(),T.maxMemType1=A.parseULong(),T.version){case 1:T.names=ye.slice();break;case 2:T.numberOfGlyphs=A.parseUShort(),T.glyphNameIndex=new Array(T.numberOfGlyphs);for(var L=0;L<T.numberOfGlyphs;L++)T.glyphNameIndex[L]=A.parseUShort();T.names=[];for(var W,$=0;$<T.numberOfGlyphs;$++)T.glyphNameIndex[$]>=ye.length&&(W=A.parseChar(),T.names.push(A.parseString(W)));break;case 2.5:T.numberOfGlyphs=A.parseUShort(),T.offset=new Array(T.numberOfGlyphs);for(var xe=0;xe<T.numberOfGlyphs;xe++)T.offset[xe]=A.parseChar()}return T},make:function(){return new Oe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},Zr=new Array(9),rn=(Zr[1]=function(){var _=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(Be.coverage),deltaGlyphId:this.parseUShort()}:S===2?{substFormat:2,coverage:this.parsePointer(Be.coverage),substitute:this.parseOffset16List()}:void j.assert(!1,"0x"+_.toString(16)+": lookup type 1 format must be 1 or 2.")},Zr[2]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Be.coverage),sequences:this.parseListOfLists()}},Zr[3]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Be.coverage),alternateSets:this.parseListOfLists()}},Zr[4]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB ligature table identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Be.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Be.uShort,lookupListIndex:Be.uShort});Zr[5]=function(){var _,S,T=this.offset+this.relativeOffset,A=this.parseUShort();return A===1?{substFormat:A,coverage:this.parsePointer(Be.coverage),ruleSets:this.parseListOfLists(function(){var L=this.parseUShort(),W=this.parseUShort();return{input:this.parseUShortList(L-1),lookupRecords:this.parseRecordList(W,rn)}})}:A===2?{substFormat:A,coverage:this.parsePointer(Be.coverage),classDef:this.parsePointer(Be.classDef),classSets:this.parseListOfLists(function(){var L=this.parseUShort(),W=this.parseUShort();return{classes:this.parseUShortList(L-1),lookupRecords:this.parseRecordList(W,rn)}})}:A===3?(_=this.parseUShort(),S=this.parseUShort(),{substFormat:A,coverages:this.parseList(_,Be.pointer(Be.coverage)),lookupRecords:this.parseRecordList(S,rn)}):void j.assert(!1,"0x"+T.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},Zr[6]=function(){var _=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{substFormat:1,coverage:this.parsePointer(Be.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(rn)}})}:S===2?{substFormat:2,coverage:this.parsePointer(Be.coverage),backtrackClassDef:this.parsePointer(Be.classDef),inputClassDef:this.parsePointer(Be.classDef),lookaheadClassDef:this.parsePointer(Be.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(rn)}})}:S===3?{substFormat:3,backtrackCoverage:this.parseList(Be.pointer(Be.coverage)),inputCoverage:this.parseList(Be.pointer(Be.coverage)),lookaheadCoverage:this.parseList(Be.pointer(Be.coverage)),lookupRecords:this.parseRecordList(rn)}:void j.assert(!1,"0x"+_.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},Zr[7]=function(){var _=this.parseUShort(),_=(j.argument(_===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),S=new Be(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:_,extension:Zr[_].call(S)}},Zr[8]=function(){var _=this.parseUShort();return j.argument(_===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:_,coverage:this.parsePointer(Be.coverage),backtrackCoverage:this.parseList(Be.pointer(Be.coverage)),lookaheadCoverage:this.parseList(Be.pointer(Be.coverage)),substitutes:this.parseUShortList()}};var bs=new Array(9);bs[1]=function(_){return _.substFormat===1?new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(_.coverage)},{name:"deltaGlyphID",type:"USHORT",value:_.deltaGlyphId}]):new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Oe.Coverage(_.coverage)}].concat(Oe.ushortList("substitute",_.substitute)))},bs[3]=function(_){return j.assert(_.substFormat===1,"Lookup type 3 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(_.coverage)}].concat(Oe.tableList("altSet",_.alternateSets,function(S){return new Oe.Table("alternateSetTable",Oe.ushortList("alternate",S))})))},bs[4]=function(_){return j.assert(_.substFormat===1,"Lookup type 4 substFormat must be 1."),new Oe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Oe.Coverage(_.coverage)}].concat(Oe.tableList("ligSet",_.ligatureSets,function(S){return new Oe.Table("ligatureSetTable",Oe.tableList("ligature",S,function(T){return new Oe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:T.ligGlyph}].concat(Oe.ushortList("component",T.components,T.components.length+1)))}))})))};var Ca={parse:function(_,S){return S=(_=new Be(_,S=S||0)).parseVersion(1),j.argument(S===1||S===1.1,"Unsupported GSUB table version."),S===1?{version:S,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Zr)}:{version:S,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(Zr),variations:_.parseFeatureVariationsList()}},make:function(_){return new Oe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Oe.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new Oe.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new Oe.LookupList(_.lookups,bs)}])}},Aa={parse:function(_,S){for(var T=new we.Parser(_,S),A=T.parseULong(),L=(j.argument(A===1,"Unsupported META table version."),T.parseULong(),T.parseULong(),T.parseULong()),W={},$=0;$<L;$++){var xe=T.parseTag(),Ie=T.parseULong(),Le=T.parseULong(),Ie=N.UTF8(_,S+Ie,Le);W[xe]=Ie}return W},make:function(_){var S,T=Object.keys(_).length,A="",L=16+12*T,W=new Oe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:L},{name:"numTags",type:"ULONG",value:T}]);for(S in _){var $=A.length;A+=_[S],W.fields.push({name:"tag "+S,type:"TAG",value:S}),W.fields.push({name:"offset "+S,type:"ULONG",value:L+$}),W.fields.push({name:"length "+S,type:"ULONG",value:_[S].length})}return W.fields.push({name:"stringPool",type:"CHARARRAY",value:A}),W}};function Ks(_){return Math.log(_)/Math.log(2)|0}function Pe(_){for(;_.length%4!=0;)_.push(0);for(var S=0,T=0;T<_.length;T+=4)S+=(_[T]<<24)+(_[T+1]<<16)+(_[T+2]<<8)+_[T+3];return S%=Math.pow(2,32)}function De(_,S,T,A){return new Oe.Record("Table Record",[{name:"tag",type:"TAG",value:_!==void 0?_:""},{name:"checkSum",type:"ULONG",value:S!==void 0?S:0},{name:"offset",type:"ULONG",value:T!==void 0?T:0},{name:"length",type:"ULONG",value:A!==void 0?A:0}])}function $e(_){for(var S=new Oe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),T=(S.tables=_,S.numTables=_.length,Math.pow(2,Ks(S.numTables))),A=(S.searchRange=16*T,S.entrySelector=Ks(T),S.rangeShift=16*S.numTables-S.searchRange,[]),L=[],W=S.sizeOf()+De().sizeOf()*S.numTables;W%4!=0;)W+=1,L.push({name:"padding",type:"BYTE",value:0});for(var $=0;$<_.length;$+=1){var xe=_[$],Le=(j.argument(xe.tableName.length===4,"Table name"+xe.tableName+" is invalid."),xe.sizeOf()),Ie=De(xe.tableName,Pe(xe.encode()),W,Le);for(A.push({name:Ie.tag+" Table Record",type:"RECORD",value:Ie}),L.push({name:xe.tableName+" table",type:"RECORD",value:xe}),W+=Le,j.argument(!isNaN(W),"Something went wrong calculating the offset.");W%4!=0;)W+=1,L.push({name:"padding",type:"BYTE",value:0})}return A.sort(function(Qe,lt){return Qe.value.tag>lt.value.tag?1:-1}),S.fields=S.fields.concat(A),S.fields=S.fields.concat(L),S}function Ze(_,S,T){for(var A=0;A<S.length;A+=1){var L=_.charToGlyphIndex(S[A]);if(0<L)return _.glyphs.get(L).getMetrics()}return T}var it={make:$e,fontToTable:function(_){for(var S,T=[],A=[],L=[],W=[],$=[],xe=[],Le=[],Ie=0,Qe=0,lt=0,nt=0,He=0,jt=0;jt<_.glyphs.length;jt+=1){var yt=_.glyphs.get(jt),wt=0|yt.unicode;if(isNaN(yt.advanceWidth))throw new Error("Glyph "+yt.name+" ("+jt+"): advanceWidth is not a number.");(wt<S||S===void 0)&&0<wt&&(S=wt),Ie<wt&&(Ie=wt);var wt=fr.getUnicodeRange(wt);if(wt<32)Qe|=1<<wt;else if(wt<64)lt|=1<<wt-32;else if(wt<96)nt|=1<<wt-64;else{if(!(wt<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");He|=1<<wt-96}yt.name!==".notdef"&&(wt=yt.getMetrics(),T.push(wt.xMin),A.push(wt.yMin),L.push(wt.xMax),W.push(wt.yMax),xe.push(wt.leftSideBearing),Le.push(wt.rightSideBearing),$.push(yt.advanceWidth))}var dt,ht={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,A),xMax:Math.max.apply(null,L),yMax:Math.max.apply(null,W),advanceWidthMax:Math.max.apply(null,$),advanceWidthAvg:function(mn){for(var Na=0,Fi=0;Fi<mn.length;Fi+=1)Na+=mn[Fi];return Na/mn.length}($),minLeftSideBearing:Math.min.apply(null,xe),maxLeftSideBearing:Math.max.apply(null,xe),minRightSideBearing:Math.min.apply(null,Le)},Yt=(ht.ascender=_.ascender,ht.descender=_.descender,Pt.make({flags:3,unitsPerEm:_.unitsPerEm,xMin:ht.xMin,yMin:ht.yMin,xMax:ht.xMax,yMax:ht.yMax,lowestRecPPEM:3,createdTimestamp:_.createdTimestamp})),nr=Ae.make({ascender:ht.ascender,descender:ht.descender,advanceWidthMax:ht.advanceWidthMax,minLeftSideBearing:ht.minLeftSideBearing,minRightSideBearing:ht.minRightSideBearing,xMaxExtent:ht.maxLeftSideBearing+(ht.xMax-ht.xMin),numberOfHMetrics:_.glyphs.length}),Zt=tt.make(_.glyphs.length),Qt=fr.make({xAvgCharWidth:Math.round(ht.advanceWidthAvg),usWeightClass:_.tables.os2.usWeightClass,usWidthClass:_.tables.os2.usWidthClass,usFirstCharIndex:S,usLastCharIndex:Ie,ulUnicodeRange1:Qe,ulUnicodeRange2:lt,ulUnicodeRange3:nt,ulUnicodeRange4:He,fsSelection:_.tables.os2.fsSelection,sTypoAscender:ht.ascender,sTypoDescender:ht.descender,sTypoLineGap:0,usWinAscent:ht.yMax,usWinDescent:Math.abs(ht.yMin),ulCodePageRange1:1,sxHeight:Ze(_,"xyvw",{yMax:Math.round(ht.ascender/2)}).yMax,sCapHeight:Ze(_,"HIKLEFJMNTZBDPRAGOQSUVWXY",ht).yMax,usDefaultChar:_.hasChar(" ")?32:0,usBreakChar:_.hasChar(" ")?32:0}),ur=mt.make(_.glyphs),Cr=B.make(_.glyphs),Rr=_.getEnglishName("fontFamily"),gr=_.getEnglishName("fontSubfamily"),Er=Rr+" "+gr,Hr=(Hr=_.getEnglishName("postScriptName"))||Rr.replace(/\s/g,"")+"-"+gr,ln={};for(dt in _.names)ln[dt]=_.names[dt];ln.uniqueID||(ln.uniqueID={en:_.getEnglishName("manufacturer")+":"+Er}),ln.postScriptName||(ln.postScriptName={en:Hr}),ln.preferredFamily||(ln.preferredFamily=_.names.fontFamily),ln.preferredSubfamily||(ln.preferredSubfamily=_.names.fontSubfamily);var kn=[],An=$r.make(ln,kn),kn=0<kn.length?gt.make(kn):void 0,Ss=Ls.make(),Er=Dt.make(_.glyphs,{version:_.getEnglishName("version"),fullName:Er,familyName:Rr,weightName:gr,postScriptName:Hr,unitsPerEm:_.unitsPerEm,fontBBox:[0,ht.yMin,ht.ascender,ht.advanceWidthMax]}),Rr=_.metas&&0<Object.keys(_.metas).length?Aa.make(_.metas):void 0,gr=[Yt,nr,Zt,Qt,An,Cr,Ss,Er,ur];kn&&gr.push(kn),_.tables.gsub&&gr.push(Ca.make(_.tables.gsub)),Rr&&gr.push(Rr);for(var Rn=Pe((Hr=$e(gr)).encode()),Ur=Hr.fields,bn=!1,Or=0;Or<Ur.length;Or+=1)if(Ur[Or].name==="head table"){Ur[Or].value.checkSumAdjustment=2981146554-Rn,bn=!0;break}if(bn)return Hr;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:Pe};function qe(_,S){for(var T=0,A=_.length-1;T<=A;){var L=T+A>>>1,W=_[L].tag;if(W===S)return L;W<S?T=1+L:A=L-1}return-T-1}function at(_,S){for(var T=0,A=_.length-1;T<=A;){var L=T+A>>>1,W=_[L];if(W===S)return L;W<S?T=1+L:A=L-1}return-T-1}function ft(_,S){for(var T=0,A=_.length-1;T<=A;){var L,W=T+A>>>1,$=(L=_[W]).start;if($===S)return L;$<S?T=1+W:A=W-1}if(0<T)return S>(L=_[T-1]).end?0:L}function st(_,S){this.font=_,this.tableName=S}function bt(_){st.call(this,_,"gpos")}function ct(_){st.call(this,_,"gsub")}function St(_,S,T){for(var A=_.subtables,L=0;L<A.length;L++){var W=A[L];if(W.substFormat===S)return W}if(T)return A.push(T),T}function Ot(_){for(var S=new ArrayBuffer(_.length),T=new Uint8Array(S),A=0;A<_.length;++A)T[A]=_[A];return S}function Wt(_,S){if(!_)throw S}function Tt(_,S,T,A,L){var W=0<(S&A)?(W=_.parseByte(),T+(W=(S&L)==0?-W:W)):0<(S&L)?T:T+_.parseShort();return W}function qt(_,S,T){var A,L=new we.Parser(S,T);if(_.numberOfContours=L.parseShort(),_._xMin=L.parseShort(),_._yMin=L.parseShort(),_._xMax=L.parseShort(),_._yMax=L.parseShort(),0<_.numberOfContours){for(var W=_.endPointIndices=[],$=0;$<_.numberOfContours;$+=1)W.push(L.parseUShort());_.instructionLength=L.parseUShort(),_.instructions=[];for(var xe=0;xe<_.instructionLength;xe+=1)_.instructions.push(L.parseByte());for(var Le=W[W.length-1]+1,Ie=[],Qe=0;Qe<Le;Qe+=1)if(A=L.parseByte(),Ie.push(A),0<(8&A))for(var lt=L.parseByte(),nt=0;nt<lt;nt+=1)Ie.push(A),Qe+=1;if(j.argument(Ie.length===Le,"Bad flags."),0<W.length){var He,jt=[];if(0<Le){for(var yt=0;yt<Le;yt+=1)A=Ie[yt],(He={}).onCurve=!!(1&A),He.lastPointOfContour=0<=W.indexOf(yt),jt.push(He);for(var wt=0,dt=0;dt<Le;dt+=1)A=Ie[dt],(He=jt[dt]).x=Tt(L,A,wt,2,16),wt=He.x;for(var ht=0,Yt=0;Yt<Le;Yt+=1)A=Ie[Yt],(He=jt[Yt]).y=Tt(L,A,ht,4,32),ht=He.y}_.points=jt}else _.points=[]}else if(_.numberOfContours===0)_.points=[];else{_.isComposite=!0,_.points=[],_.components=[];for(var nr=!0;nr;){Ie=L.parseUShort();var Zt={glyphIndex:L.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&Ie)?0<(2&Ie)?(Zt.dx=L.parseShort(),Zt.dy=L.parseShort()):Zt.matchedPoints=[L.parseUShort(),L.parseUShort()]:0<(2&Ie)?(Zt.dx=L.parseChar(),Zt.dy=L.parseChar()):Zt.matchedPoints=[L.parseByte(),L.parseByte()],0<(8&Ie)?Zt.xScale=Zt.yScale=L.parseF2Dot14():0<(64&Ie)?(Zt.xScale=L.parseF2Dot14(),Zt.yScale=L.parseF2Dot14()):0<(128&Ie)&&(Zt.xScale=L.parseF2Dot14(),Zt.scale01=L.parseF2Dot14(),Zt.scale10=L.parseF2Dot14(),Zt.yScale=L.parseF2Dot14()),_.components.push(Zt),nr=!!(32&Ie)}if(256&Ie){_.instructionLength=L.parseUShort(),_.instructions=[];for(var Qt=0;Qt<_.instructionLength;Qt+=1)_.instructions.push(L.parseByte())}}}function vt(_,S){for(var T=[],A=0;A<_.length;A+=1){var L=_[A],L={x:S.xScale*L.x+S.scale01*L.y+S.dx,y:S.scale10*L.x+S.yScale*L.y+S.dy,onCurve:L.onCurve,lastPointOfContour:L.lastPointOfContour};T.push(L)}return T}function Bt(_){var S=new ce;if(_)for(var T=function(lt){for(var nt=[],He=[],jt=0;jt<lt.length;jt+=1){var yt=lt[jt];He.push(yt),yt.lastPointOfContour&&(nt.push(He),He=[])}return j.argument(He.length===0,"There are still points left in the current contour."),nt}(_),A=0;A<T.length;++A){var L,W=T[A],$=W[W.length-1],xe=W[0];$.onCurve?S.moveTo($.x,$.y):xe.onCurve?S.moveTo(xe.x,xe.y):(L={x:.5*($.x+xe.x),y:.5*($.y+xe.y)},S.moveTo(L.x,L.y));for(var Le=0;Le<W.length;++Le){var Ie,Qe=$,$=xe,xe=W[(Le+1)%W.length];$.onCurve?S.lineTo($.x,$.y):(Ie=xe,Qe.onCurve||($.x,Qe.x,$.y,Qe.y),xe.onCurve||(Ie={x:.5*($.x+xe.x),y:.5*($.y+xe.y)}),S.quadraticCurveTo($.x,$.y,Ie.x,Ie.y))}S.closePath()}return S}function rr(_,S){if(S.isComposite)for(var T=0;T<S.components.length;T+=1){var A=S.components[T],L=_.get(A.glyphIndex);if(L.getPath(),L.points){var W=void 0;if(A.matchedPoints===void 0)W=vt(L.points,A);else{if(A.matchedPoints[0]>S.points.length-1||A.matchedPoints[1]>L.points.length-1)throw Error("Matched points out of range in "+S.name);var $=S.points[A.matchedPoints[0]],xe=L.points[A.matchedPoints[1]],A={xScale:A.xScale,scale01:A.scale01,scale10:A.scale10,yScale:A.yScale,dx:0,dy:0},xe=vt([xe],A)[0];A.dx=$.x-xe.x,A.dy=$.y-xe.y,W=vt(L.points,A)}S.points=S.points.concat(W)}}return Bt(S.points)}(bt.prototype=st.prototype={searchTag:qe,binSearch:at,getTable:function(_){var S=this.font.tables[this.tableName];return S=!S&&_?this.font.tables[this.tableName]=this.createDefaultTable():S},getScriptNames:function(){var _=this.getTable();return _?_.scripts.map(function(S){return S.tag}):[]},getDefaultScriptName:function(){var _=this.getTable();if(_){for(var S=!1,T=0;T<_.scripts.length;T++){var A=_.scripts[T].tag;if(A==="DFLT")return A;A==="latn"&&(S=!0)}return S?"latn":void 0}},getScriptTable:function(_,S){var T,A=this.getTable(S);if(A)return T=A.scripts,0<=(A=qe(A.scripts,_=_||"DFLT"))?T[A].script:S?(T.splice(-1-A,0,S={tag:_,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),S.script):void 0},getLangSysTable:function(L,S,T){var A,L=this.getScriptTable(L,T);if(L)return S&&S!=="dflt"&&S!=="DFLT"?0<=(A=qe(L.langSysRecords,S))?L.langSysRecords[A].langSys:T?(L.langSysRecords.splice(-1-A,0,T={tag:S,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),T.langSys):void 0:L.defaultLangSys},getFeatureTable:function(_,S,T,A){if(_=this.getLangSysTable(_,S,A),_){for(var L,W=_.featureIndexes,$=this.font.tables[this.tableName].features,xe=0;xe<W.length;xe++)if((L=$[W[xe]]).tag===T)return L.feature;if(A)return S=$.length,j.assert(S===0||T>=$[S-1].tag,"Features must be added in alphabetical order."),$.push(L={tag:T,feature:{params:0,lookupListIndexes:[]}}),W.push(S),L.feature}},getLookupTables:function(W,S,T,A,L){var W=this.getFeatureTable(W,S,T,L),$=[];if(W){for(var xe,Le=W.lookupListIndexes,Ie=this.font.tables[this.tableName].lookups,Qe=0;Qe<Le.length;Qe++)(xe=Ie[Le[Qe]]).lookupType===A&&$.push(xe);if($.length===0&&L)return S=Ie.length,Ie.push(xe={lookupType:A,lookupFlag:0,subtables:[],markFilteringSet:void 0}),Le.push(S),[xe]}return $},getGlyphClass:function(_,S){switch(_.format){case 1:return _.startGlyph<=S&&S<_.startGlyph+_.classes.length?_.classes[S-_.startGlyph]:0;case 2:var T=ft(_.ranges,S);return T?T.classId:0}},getCoverageIndex:function(_,S){switch(_.format){case 1:var T=at(_.glyphs,S);return 0<=T?T:-1;case 2:return T=ft(_.ranges,S),T?T.index+S-T.start:-1}},expandCoverage:function(_){if(_.format===1)return _.glyphs;for(var S=[],T=_.ranges,A=0;A<T.length;A++)for(var L=T[A],W=L.start,$=L.end,xe=W;xe<=$;xe++)S.push(xe);return S}}).init=function(){var _=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(_)},bt.prototype.getKerningValue=function(_,S,T){for(var A=0;A<_.length;A++)for(var L=_[A].subtables,W=0;W<L.length;W++){var $=L[W],xe=this.getCoverageIndex($.coverage,S);if(!(xe<0))switch($.posFormat){case 1:for(var Le=$.pairSets[xe],Ie=0;Ie<Le.length;Ie++){var Qe=Le[Ie];if(Qe.secondGlyph===T)return Qe.value1&&Qe.value1.xAdvance||0}break;case 2:var nt=this.getGlyphClass($.classDef1,S),lt=this.getGlyphClass($.classDef2,T),nt=$.classRecords[nt][lt];return nt.value1&&nt.value1.xAdvance||0}}return 0},bt.prototype.getKerningTables=function(_,S){if(this.font.tables.gpos)return this.getLookupTables(_,S,"kern",2)},(ct.prototype=st.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},ct.prototype.getSingle=function(_,S,T){for(var A=[],L=this.getLookupTables(S,T,_,1),W=0;W<L.length;W++)for(var $=L[W].subtables,xe=0;xe<$.length;xe++){var Le=$[xe],Ie=this.expandCoverage(Le.coverage),Qe=void 0;if(Le.substFormat===1)for(var lt=Le.deltaGlyphId,Qe=0;Qe<Ie.length;Qe++){var nt=Ie[Qe];A.push({sub:nt,by:nt+lt})}else{var He=Le.substitute;for(Qe=0;Qe<Ie.length;Qe++)A.push({sub:Ie[Qe],by:He[Qe]})}}return A},ct.prototype.getAlternates=function(_,S,T){for(var A=[],L=this.getLookupTables(S,T,_,3),W=0;W<L.length;W++)for(var $=L[W].subtables,xe=0;xe<$.length;xe++)for(var Le=$[xe],Ie=this.expandCoverage(Le.coverage),Qe=Le.alternateSets,lt=0;lt<Ie.length;lt++)A.push({sub:Ie[lt],by:Qe[lt]});return A},ct.prototype.getLigatures=function(_,S,T){for(var A=[],L=this.getLookupTables(S,T,_,4),W=0;W<L.length;W++)for(var $=L[W].subtables,xe=0;xe<$.length;xe++)for(var Le=$[xe],Ie=this.expandCoverage(Le.coverage),Qe=Le.ligatureSets,lt=0;lt<Ie.length;lt++)for(var nt=Ie[lt],He=Qe[lt],jt=0;jt<He.length;jt++){var yt=He[jt];A.push({sub:[nt].concat(yt.components),by:yt.ligGlyph})}return A},ct.prototype.addSingle=function(_,S,T,A){T=St(this.getLookupTables(T,A,_,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),j.assert(T.coverage.format===1,"Ligature: unable to modify coverage table format "+T.coverage.format),A=S.sub,_=this.binSearch(T.coverage.glyphs,A),_<0&&(T.coverage.glyphs.splice(_=-1-_,0,A),T.substitute.splice(_,0,0)),T.substitute[_]=S.by},ct.prototype.addAlternate=function(_,S,T,A){T=St(this.getLookupTables(T,A,_,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),j.assert(T.coverage.format===1,"Ligature: unable to modify coverage table format "+T.coverage.format),A=S.sub,_=this.binSearch(T.coverage.glyphs,A),_<0&&(T.coverage.glyphs.splice(_=-1-_,0,A),T.alternateSets.splice(_,0,0)),T.alternateSets[_]=S.by},ct.prototype.addLigature=function(W,Le,xe,L){var xe=this.getLookupTables(xe,L,W,4,!0)[0],L=xe.subtables[0],W=(L||(xe.subtables[0]=L={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),j.assert(L.coverage.format===1,"Ligature: unable to modify coverage table format "+L.coverage.format),Le.sub[0]),$=Le.sub.slice(1),xe={ligGlyph:Le.by,components:$},Le=this.binSearch(L.coverage.glyphs,W);if(0<=Le){for(var Ie=L.ligatureSets[Le],Qe=0;Qe<Ie.length;Qe++)if(function(lt,nt){var He=lt.length;if(He===nt.length){for(var jt=0;jt<He;jt++)if(lt[jt]!==nt[jt])return;return 1}}(Ie[Qe].components,$))return;Ie.push(xe)}else L.coverage.glyphs.splice(Le=-1-Le,0,W),L.ligatureSets.splice(Le,0,[xe])},ct.prototype.getFeature=function(_,S,T){if(/ss\d\d/.test(_))return this.getSingle(_,S,T);switch(_){case"aalt":case"salt":return this.getSingle(_,S,T).concat(this.getAlternates(_,S,T));case"dlig":case"liga":case"rlig":return this.getLigatures(_,S,T)}},ct.prototype.add=function(_,S,T,A){if(/ss\d\d/.test(_))return this.addSingle(_,S,T,A);switch(_){case"aalt":case"salt":return typeof S.by=="number"?this.addSingle(_,S,T,A):this.addAlternate(_,S,T,A);case"dlig":case"liga":case"rlig":return this.addLigature(_,S,T,A)}};var Et={getPath:Bt,parse:function(_,S,T,A){for(var L=new pe.GlyphSet(A),W=0;W<T.length-1;W+=1){var $=T[W];$!==T[W+1]?L.push(W,pe.ttfGlyphLoader(A,W,qt,_,S+$,rr)):L.push(W,pe.glyphLoader(A,W))}return L}};function Ut(_){this.font=_,this.getCommands=function(S){return Et.getPath(S).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Mt(_){return _}function Xt(_){return Math.sign(_)*Math.round(Math.abs(_))}function xr(_){return Math.sign(_)*Math.round(Math.abs(2*_))/2}function It(_){return Math.sign(_)*(Math.round(Math.abs(_)+.5)-.5)}function er(_){return Math.sign(_)*Math.ceil(Math.abs(_))}function ir(_){return Math.sign(_)*Math.floor(Math.abs(_))}function jr(_){var S=this.srPeriod,T=this.srPhase,A=1;return _<0&&(_=-_,A=-1),_+=this.srThreshold-T,_=Math.trunc(_/S)*S,(_+=T)<0?T*A:_*A}var Ir={x:1,y:0,axis:"x",distance:function(_,S,T,A){return(T?_.xo:_.x)-(A?S.xo:S.x)},interpolate:function(_,S,T,A){var L,W,$,xe,Le,Ie,Qe;if(!A||A===this)return L=_.xo-S.xo,W=_.xo-T.xo,Le=S.x-S.xo,Ie=T.x-T.xo,(Qe=($=Math.abs(L))+(xe=Math.abs(W)))===0?void(_.x=_.xo+(Le+Ie)/2):void(_.x=_.xo+(Le*xe+Ie*$)/Qe);L=A.distance(_,S,!0,!0),W=A.distance(_,T,!0,!0),Le=A.distance(S,S,!1,!0),Ie=A.distance(T,T,!1,!0),(Qe=($=Math.abs(L))+(xe=Math.abs(W)))===0?Ir.setRelative(_,_,(Le+Ie)/2,A,!0):Ir.setRelative(_,_,(Le*xe+Ie*$)/Qe,A,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(_,S,T,A,L){var W,$;A&&A!==this?(W=L?S.xo:S.x,$=L?S.yo:S.y,W+=T*A.x,$+=T*A.y,_.x=W+(_.y-$)/A.normalSlope):_.x=(L?S.xo:S.x)+T},slope:0,touch:function(_){_.xTouched=!0},touched:function(_){return _.xTouched},untouch:function(_){_.xTouched=!1}},pr={x:0,y:1,axis:"y",distance:function(_,S,T,A){return(T?_.yo:_.y)-(A?S.yo:S.y)},interpolate:function(_,S,T,A){var L,W,$,xe,Le,Ie,Qe;if(!A||A===this)return L=_.yo-S.yo,W=_.yo-T.yo,Le=S.y-S.yo,Ie=T.y-T.yo,(Qe=($=Math.abs(L))+(xe=Math.abs(W)))===0?void(_.y=_.yo+(Le+Ie)/2):void(_.y=_.yo+(Le*xe+Ie*$)/Qe);L=A.distance(_,S,!0,!0),W=A.distance(_,T,!0,!0),Le=A.distance(S,S,!1,!0),Ie=A.distance(T,T,!1,!0),(Qe=($=Math.abs(L))+(xe=Math.abs(W)))===0?pr.setRelative(_,_,(Le+Ie)/2,A,!0):pr.setRelative(_,_,(Le*xe+Ie*$)/Qe,A,!0)},normalSlope:0,setRelative:function(_,S,T,A,L){var W,$;A&&A!==this?(W=L?S.xo:S.x,$=L?S.yo:S.y,W+=T*A.x,$+=T*A.y,_.y=$+A.normalSlope*(_.x-W)):_.y=(L?S.yo:S.y)+T},slope:Number.POSITIVE_INFINITY,touch:function(_){_.yTouched=!0},touched:function(_){return _.yTouched},untouch:function(_){_.yTouched=!1}};function yr(_,S){this.x=_,this.y=S,this.axis=void 0,this.slope=S/_,this.normalSlope=-_/S,Object.freeze(this)}function nn(_,S){var T=Math.sqrt(_*_+S*S);return S/=T,(_/=T)===1&&S===0?Ir:_===0&&S===1?pr:new yr(_,S)}function Fr(_,S,T,A){this.x=this.xo=Math.round(64*_)/64,this.y=this.yo=Math.round(64*S)/64,this.lastPointOfContour=T,this.onCurve=A,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Ir),Object.freeze(pr),yr.prototype.distance=function(_,S,T,A){return this.x*Ir.distance(_,S,T,A)+this.y*pr.distance(_,S,T,A)},yr.prototype.interpolate=function(_,L,W,A){var $=A.distance(_,L,!0,!0),xe=A.distance(_,W,!0,!0),L=A.distance(L,L,!1,!0),W=A.distance(W,W,!1,!0),$=Math.abs($),xe=Math.abs(xe),Le=$+xe;Le===0?this.setRelative(_,_,(L+W)/2,A,!0):this.setRelative(_,_,(L*xe+W*$)/Le,A,!0)},yr.prototype.setRelative=function(_,W,Le,Ie,xe){var $=xe?W.xo:W.x,xe=xe?W.yo:W.y,W=$+Le*(Ie=Ie||this).x,$=xe+Le*Ie.y,xe=Ie.normalSlope,Le=this.slope,Ie=_.x,Qe=_.y;_.x=(Le*Ie-xe*W+$-Qe)/(Le-xe),_.y=Le*(_.x-Ie)+Qe},yr.prototype.touch=function(_){_.xTouched=!0,_.yTouched=!0},Fr.prototype.nextTouched=function(_){for(var S=this.nextPointOnContour;!_.touched(S)&&S!==this;)S=S.nextPointOnContour;return S},Fr.prototype.prevTouched=function(_){for(var S=this.prevPointOnContour;!_.touched(S)&&S!==this;)S=S.prevPointOnContour;return S};var cn=Object.freeze(new Fr(0,0)),Zn={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function sn(_,S){switch(this.env=_,this.stack=[],this.prog=S,_){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Ir,this.round=Xt}}function on(_){for(var S=_.tZone=new Array(_.gZone.length),T=0;T<S.length;T++)S[T]=new Fr(0,0)}function xs(_,S){var T,A=_.prog,L=_.ip,W=1;do if((T=A[++L])===88)W++;else if(T===89)W--;else if(T===64)L+=A[L+1]+1;else if(T===65)L+=2*A[L+1]+1;else if(176<=T&&T<=183)L+=T-176+1;else if(184<=T&&T<=191)L+=2*(T-184+1);else if(S&&W===1&&T===27)break;while(0<W);_.ip=L}function Js(_,S){c.DEBUG&&console.log(S.step,"SVTCA["+_.axis+"]"),S.fv=S.pv=S.dpv=_}function Pi(_,S){c.DEBUG&&console.log(S.step,"SPVTCA["+_.axis+"]"),S.pv=S.dpv=_}function ka(_,S){c.DEBUG&&console.log(S.step,"SFVTCA["+_.axis+"]"),S.fv=_}function Ra(_,S){var T,L=S.stack,A=L.pop(),L=L.pop(),W=S.z2[A],$=S.z1[L];c.DEBUG&&console.log("SPVTL["+_+"]",A,L),A=_?(T=W.y-$.y,$.x-W.x):(T=$.x-W.x,$.y-W.y),S.pv=S.dpv=nn(T,A)}function Oa(_,S){var T,L=S.stack,A=L.pop(),L=L.pop(),W=S.z2[A],$=S.z1[L];c.DEBUG&&console.log("SFVTL["+_+"]",A,L),A=_?(T=W.y-$.y,$.x-W.x):(T=$.x-W.x,$.y-W.y),S.fv=nn(T,A)}function wr(_){c.DEBUG&&console.log(_.step,"POP[]"),_.stack.pop()}function Pa(_,S){var T=S.stack.pop(),A=S.z0[T],L=S.fv,W=S.pv,$=(c.DEBUG&&console.log(S.step,"MDAP["+_+"]",T),W.distance(A,cn));_&&($=S.round($)),L.setRelative(A,cn,$,W),L.touch(A),S.rp0=S.rp1=T}function Ia(_,S){var T,A,L,W=S.z2,$=W.length-2;c.DEBUG&&console.log(S.step,"IUP["+_.axis+"]");for(var xe=0;xe<$;xe++)T=W[xe],_.touched(T)||(A=T.prevTouched(_))!==T&&(A===(L=T.nextTouched(_))&&_.setRelative(T,T,_.distance(A,A,!1,!0),_,!0),_.interpolate(T,A,L,_))}function Ii(_,S){for(var T=S.stack,A=_?S.rp1:S.rp2,L=(_?S.z0:S.z1)[A],W=S.fv,$=S.pv,xe=S.loop,Le=S.z2;xe--;){var Ie=T.pop(),Qe=Le[Ie],lt=$.distance(L,L,!1,!0);W.setRelative(Qe,Qe,lt,$),W.touch(Qe),c.DEBUG&&console.log(S.step,(1<S.loop?"loop "+(S.loop-xe)+": ":"")+"SHP["+(_?"rp1":"rp2")+"]",Ie)}S.loop=1}function Di(_,S){for(var T=S.stack,$=_?S.rp1:S.rp2,A=(_?S.z0:S.z1)[$],L=S.fv,W=S.pv,$=T.pop(),xe=S.z2[S.contours[$]],Le=xe,Ie=(c.DEBUG&&console.log(S.step,"SHC["+_+"]",$),W.distance(A,A,!1,!0));Le!==A&&L.setRelative(Le,Le,Ie,W),(Le=Le.nextPointOnContour)!==xe;);}function Da(_,S){var T,A,xe=S.stack,L=_?S.rp1:S.rp2,L=(_?S.z0:S.z1)[L],W=S.fv,$=S.pv,xe=xe.pop();switch(c.DEBUG&&console.log(S.step,"SHZ["+_+"]",xe),xe){case 0:T=S.tZone;break;case 1:T=S.gZone;break;default:throw new Error("Invalid zone")}for(var Le=$.distance(L,L,!1,!0),Ie=T.length-2,Qe=0;Qe<Ie;Qe++)A=T[Qe],W.setRelative(A,A,Le,$)}function xo(_,S){var A=S.stack,T=A.pop()/64,A=A.pop(),L=S.z1[A],W=S.z0[S.rp0],$=S.fv,xe=S.pv;$.setRelative(L,W,T,xe),$.touch(L),c.DEBUG&&console.log(S.step,"MSIRP["+_+"]",T,A),S.rp1=S.rp0,S.rp2=A,_&&(S.rp0=A)}function tu(_,S){var T=S.stack,xe=T.pop(),T=T.pop(),A=S.z0[T],L=S.fv,W=S.pv,$=S.cvt[xe],xe=(c.DEBUG&&console.log(S.step,"MIAP["+_+"]",xe,"(",$,")",T),W.distance(A,cn));_&&(Math.abs(xe-$)<S.cvCutIn&&(xe=$),xe=S.round(xe)),L.setRelative(A,cn,xe,W),S.zp0===0&&(A.xo=A.x,A.yo=A.y),L.touch(A),S.rp0=S.rp1=T}function Qr(_,S){var T=S.stack,A=T.pop(),L=S.z2[A];c.DEBUG&&console.log(S.step,"GC["+_+"]",A),T.push(64*S.dpv.distance(L,cn,_,!1))}function Li(_,S){var A=S.stack,T=A.pop(),A=A.pop(),L=S.z1[T],W=S.z0[A],W=S.dpv.distance(W,L,_,_);c.DEBUG&&console.log(S.step,"MD["+_+"]",T,A,"->",W),S.stack.push(Math.round(64*W))}function ri(_,S){var T=S.stack,A=T.pop(),L=S.fv,W=S.pv,$=S.ppem,xe=S.deltaBase+16*(_-1),Le=S.deltaShift,Ie=S.z0;c.DEBUG&&console.log(S.step,"DELTAP["+_+"]",A,T);for(var Qe=0;Qe<A;Qe++){var lt=T.pop(),nt=T.pop();xe+((240&nt)>>4)===$&&(0<=(nt=(15&nt)-8)&&nt++,c.DEBUG&&console.log(S.step,"DELTAPFIX",lt,"by",nt*Le),lt=Ie[lt],L.setRelative(lt,lt,nt*Le,W))}}function wo(_,S){var T=S.stack,A=T.pop();c.DEBUG&&console.log(S.step,"ROUND[]"),T.push(64*S.round(A/64))}function pn(_,S){var T=S.stack,A=T.pop(),L=S.ppem,W=S.deltaBase+16*(_-1),$=S.deltaShift;c.DEBUG&&console.log(S.step,"DELTAC["+_+"]",A,T);for(var xe=0;xe<A;xe++){var Le=T.pop(),Ie=T.pop();W+((240&Ie)>>4)===L&&(0<=(Ie=(15&Ie)-8)&&Ie++,Ie=Ie*$,c.DEBUG&&console.log(S.step,"DELTACFIX",Le,"by",Ie),S.cvt[Le]+=Ie)}}function So(_,S){var T,L=S.stack,A=L.pop(),L=L.pop(),W=S.z2[A],$=S.z1[L];c.DEBUG&&console.log(S.step,"SDPVTL["+_+"]",A,L),A=_?(T=W.y-$.y,$.x-W.x):(T=$.x-W.x,$.y-W.y),S.dpv=nn(T,A)}function Cn(_,S){var T=S.stack,A=S.prog,L=S.ip;c.DEBUG&&console.log(S.step,"PUSHB["+_+"]");for(var W=0;W<_;W++)T.push(A[++L]);S.ip=L}function ls(_,S){var T=S.ip,A=S.prog,L=S.stack;c.DEBUG&&console.log(S.ip,"PUSHW["+_+"]");for(var W=0;W<_;W++){var $=A[++T]<<8|A[++T];32768&$&&($=-(1+(65535^$))),L.push($)}S.ip=T}function Vt(_,S,T,A,L,W){var $,xe,Ie=W.stack,Le=_&&Ie.pop(),Ie=Ie.pop(),Qe=W.rp0,Qe=W.z0[Qe],lt=W.z1[Ie],nt=W.minDis,He=W.fv,jt=W.dpv,yt=$=jt.distance(lt,Qe,!0,!0),wt=0<=yt?1:-1;yt=Math.abs(yt),_&&(xe=W.cvt[Le],A&&Math.abs(yt-xe)<W.cvCutIn&&(yt=xe)),T&&yt<nt&&(yt=nt),A&&(yt=W.round(yt)),He.setRelative(lt,Qe,wt*yt,jt),He.touch(lt),c.DEBUG&&console.log(W.step,(_?"MIRP[":"MDRP[")+(S?"M":"m")+(T?">":"_")+(A?"R":"_")+(L===0?"Gr":L===1?"Bl":L===2?"Wh":"")+"]",_?Le+"("+W.cvt[Le]+","+xe+")":"",Ie,"(d =",$,"->",wt*yt,")"),W.rp1=W.rp0,W.rp2=Ie,S&&(W.rp0=Ie)}Ut.prototype.exec=function(_,S){if(typeof S!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var T=this.font,A=this._prepState;if(!A||A.ppem!==S){var L=this._fpgmState;if(!L){sn.prototype=Zn,(L=this._fpgmState=new sn("fpgm",T.tables.fpgm)).funcs=[],L.font=T,c.DEBUG&&(console.log("---EXEC FPGM---"),L.step=-1);try{us(L)}catch(Ie){return console.log("Hinting error in FPGM:"+Ie),void(this._errorState=3)}}sn.prototype=L,(A=this._prepState=new sn("prep",T.tables.prep)).ppem=S;var W=T.tables.cvt;if(W)for(var $=A.cvt=new Array(W.length),xe=S/T.unitsPerEm,Le=0;Le<W.length;Le++)$[Le]=W[Le]*xe;else A.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),A.step=-1);try{us(A)}catch(Ie){this._errorState<2&&console.log("Hinting error in PREP:"+Ie),this._errorState=2}}if(!(1<this._errorState))try{return La(_,A)}catch(Ie){this._errorState<1&&(console.log("Hinting error:"+Ie),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var La=function(_,S){var T=S.ppem/S.font.unitsPerEm,A=T,L=_.components;if(sn.prototype=S,L){for(var W=S.font,$=[],xe=[],Le=0;Le<L.length;Le++){var Ie=L[Le],Qe=W.glyphs.get(Ie.glyphIndex),lt=new sn("glyf",Qe.instructions);c.DEBUG&&(console.log("---EXEC COMP "+Le+"---"),lt.step=-1),jo(Qe,lt,T,A);for(var nt=Math.round(Ie.dx*T),He=Math.round(Ie.dy*A),jt=lt.gZone,yt=lt.contours,wt=0;wt<jt.length;wt++){var dt=jt[wt];dt.xTouched=dt.yTouched=!1,dt.xo=dt.x=dt.x+nt,dt.yo=dt.y=dt.y+He}var ht=$.length;$.push.apply($,jt);for(var Yt=0;Yt<yt.length;Yt++)xe.push(yt[Yt]+ht)}_.instructions&&!lt.inhibitGridFit&&((lt=new sn("glyf",_.instructions)).gZone=lt.z0=lt.z1=lt.z2=$,lt.contours=xe,$.push(new Fr(0,0),new Fr(Math.round(_.advanceWidth*T),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),lt.step=-1),us(lt),$.length-=2)}else lt=new sn("glyf",_.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),lt.step=-1),jo(_,lt,T,A),$=lt.gZone;return $},jo=function(_,S,T,A){for(var L,W,$,xe=_.points||[],Le=xe.length,Ie=S.gZone=S.z0=S.z1=S.z2=[],Qe=S.contours=[],lt=0;lt<Le;lt++)L=xe[lt],Ie[lt]=new Fr(L.x*T,L.y*A,L.lastPointOfContour,L.onCurve);for(var nt=0;nt<Le;nt++)L=Ie[nt],W||(W=L,Qe.push(nt)),L.lastPointOfContour?((L.nextPointOnContour=W).prevPointOnContour=L,W=void 0):($=Ie[nt+1],(L.nextPointOnContour=$).prevPointOnContour=L);if(!S.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",S.stack);for(var He=0;He<Le;He++)console.log(He,Ie[He].x,Ie[He].y)}if(Ie.push(new Fr(0,0),new Fr(Math.round(_.advanceWidth*T),0)),us(S),Ie.length-=2,c.DEBUG){console.log("FINISHED GLYPH",S.stack);for(var jt=0;jt<Le;jt++)console.log(jt,Ie[jt].x,Ie[jt].y)}}},us=function(_){var S=_.prog;if(S){var T,A=S.length;for(_.ip=0;_.ip<A;_.ip++){if(c.DEBUG&&_.step++,!(T=Ni[S[_.ip]]))throw new Error("unknown instruction: 0x"+Number(S[_.ip]).toString(16));T(_)}}},Ni=[Js.bind(void 0,pr),Js.bind(void 0,Ir),Pi.bind(void 0,pr),Pi.bind(void 0,Ir),ka.bind(void 0,pr),ka.bind(void 0,Ir),Ra.bind(void 0,0),Ra.bind(void 0,1),Oa.bind(void 0,0),Oa.bind(void 0,1),function(_){var S=(T=_.stack).pop(),T=T.pop();c.DEBUG&&console.log(_.step,"SPVFS[]",S,T),_.pv=_.dpv=nn(T,S)},function(_){var S=(T=_.stack).pop(),T=T.pop();c.DEBUG&&console.log(_.step,"SPVFS[]",S,T),_.fv=nn(T,S)},function(_){var S=_.stack,T=_.pv;c.DEBUG&&console.log(_.step,"GPV[]"),S.push(16384*T.x),S.push(16384*T.y)},function(_){var S=_.stack,T=_.fv;c.DEBUG&&console.log(_.step,"GFV[]"),S.push(16384*T.x),S.push(16384*T.y)},function(_){_.fv=_.pv,c.DEBUG&&console.log(_.step,"SFVTPV[]")},function(S){var T=($=S.stack).pop(),A=$.pop(),L=$.pop(),W=$.pop(),$=$.pop(),Le=S.z0,Qe=S.z1,xe=Le[T],Le=Le[A],Ie=Qe[L],Qe=Qe[W],S=S.z2[$],T=(c.DEBUG&&console.log("ISECT[], ",T,A,L,W,$),xe.x),A=xe.y,L=Le.x,W=Le.y,$=Ie.x,xe=Ie.y,Le=Qe.x,Ie=Qe.y,Qe=(T-L)*(xe-Ie)-(A-W)*($-Le),lt=T*W-A*L,nt=$*Ie-xe*Le;S.x=(lt*($-Le)-nt*(T-L))/Qe,S.y=(lt*(xe-Ie)-nt*(A-W))/Qe},function(_){_.rp0=_.stack.pop(),c.DEBUG&&console.log(_.step,"SRP0[]",_.rp0)},function(_){_.rp1=_.stack.pop(),c.DEBUG&&console.log(_.step,"SRP1[]",_.rp1)},function(_){_.rp2=_.stack.pop(),c.DEBUG&&console.log(_.step,"SRP2[]",_.rp2)},function(_){var S=_.stack.pop();switch(c.DEBUG&&console.log(_.step,"SZP0[]",S),_.zp0=S){case 0:_.tZone||on(_),_.z0=_.tZone;break;case 1:_.z0=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var S=_.stack.pop();switch(c.DEBUG&&console.log(_.step,"SZP1[]",S),_.zp1=S){case 0:_.tZone||on(_),_.z1=_.tZone;break;case 1:_.z1=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var S=_.stack.pop();switch(c.DEBUG&&console.log(_.step,"SZP2[]",S),_.zp2=S){case 0:_.tZone||on(_),_.z2=_.tZone;break;case 1:_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){var S=_.stack.pop();switch(c.DEBUG&&console.log(_.step,"SZPS[]",S),_.zp0=_.zp1=_.zp2=S){case 0:_.tZone||on(_),_.z0=_.z1=_.z2=_.tZone;break;case 1:_.z0=_.z1=_.z2=_.gZone;break;default:throw new Error("Invalid zone pointer")}},function(_){_.loop=_.stack.pop(),c.DEBUG&&console.log(_.step,"SLOOP[]",_.loop)},function(_){c.DEBUG&&console.log(_.step,"RTG[]"),_.round=Xt},function(_){c.DEBUG&&console.log(_.step,"RTHG[]"),_.round=It},function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"SMD[]",S),_.minDis=S/64},function(_){c.DEBUG&&console.log(_.step,"ELSE[]"),xs(_,!1)},function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"JMPR[]",S),_.ip+=S-1},function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"SCVTCI[]",S),_.cvCutIn=S/64},void 0,void 0,function(_){var S=_.stack;c.DEBUG&&console.log(_.step,"DUP[]"),S.push(S[S.length-1])},wr,function(_){c.DEBUG&&console.log(_.step,"CLEAR[]"),_.stack.length=0},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"SWAP[]"),S.push(T),S.push(A)},function(_){var S=_.stack;c.DEBUG&&console.log(_.step,"DEPTH[]"),S.push(S.length)},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"CINDEX[]",T),S.push(S[S.length-T])},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"MINDEX[]",T),S.push(S.splice(S.length-T,1)[0])},void 0,void 0,void 0,function(_){var S=(A=_.stack).pop(),T=A.pop(),A=(c.DEBUG&&console.log(_.step,"LOOPCALL[]",S,T),_.ip),L=_.prog;_.prog=_.funcs[S];for(var W=0;W<T;W++)us(_),c.DEBUG&&console.log(++_.step,W+1<T?"next loopcall":"done loopcall",W);_.ip=A,_.prog=L},function(_){var S=_.stack.pop(),T=(c.DEBUG&&console.log(_.step,"CALL[]",S),_.ip),A=_.prog;_.prog=_.funcs[S],us(_),_.ip=T,_.prog=A,c.DEBUG&&console.log(++_.step,"returning from",S)},function(_){if(_.env!=="fpgm")throw new Error("FDEF not allowed here");var A=_.stack,S=_.prog,T=_.ip,A=A.pop(),L=T;for(c.DEBUG&&console.log(_.step,"FDEF[]",A);S[++T]!==45;);_.ip=T,_.funcs[A]=S.slice(L+1,T)},void 0,Pa.bind(void 0,0),Pa.bind(void 0,1),Ia.bind(void 0,pr),Ia.bind(void 0,Ir),Ii.bind(void 0,0),Ii.bind(void 0,1),Di.bind(void 0,0),Di.bind(void 0,1),Da.bind(void 0,0),Da.bind(void 0,1),function(_){for(var S=_.stack,T=_.loop,A=_.fv,L=S.pop()/64,W=_.z2;T--;){var $=S.pop(),xe=W[$];c.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-T)+": ":"")+"SHPIX[]",$,L),A.setRelative(xe,xe,L),A.touch(xe)}_.loop=1},function(_){for(var S=_.stack,T=_.rp1,A=_.rp2,L=_.loop,W=_.z0[T],$=_.z1[A],xe=_.fv,Le=_.dpv,Ie=_.z2;L--;){var Qe=S.pop(),lt=Ie[Qe];c.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-L)+": ":"")+"IP[]",Qe,T,"<->",A),xe.interpolate(lt,W,$,Le),xe.touch(lt)}_.loop=1},xo.bind(void 0,0),xo.bind(void 0,1),function(_){for(var S=_.stack,T=_.rp0,A=_.z0[T],L=_.loop,W=_.fv,$=_.pv,xe=_.z1;L--;){var Le=S.pop(),Ie=xe[Le];c.DEBUG&&console.log(_.step,(1<_.loop?"loop "+(_.loop-L)+": ":"")+"ALIGNRP[]",Le),W.setRelative(Ie,A,0,$),W.touch(Ie)}_.loop=1},function(_){c.DEBUG&&console.log(_.step,"RTDG[]"),_.round=xr},tu.bind(void 0,0),tu.bind(void 0,1),function(_){var S=_.prog,T=_.ip,A=_.stack,L=S[++T];c.DEBUG&&console.log(_.step,"NPUSHB[]",L);for(var W=0;W<L;W++)A.push(S[++T]);_.ip=T},function(_){var S=_.ip,T=_.prog,A=_.stack,L=T[++S];c.DEBUG&&console.log(_.step,"NPUSHW[]",L);for(var W=0;W<L;W++){var $=T[++S]<<8|T[++S];32768&$&&($=-(1+(65535^$))),A.push($)}_.ip=S},function(_){var A=_.stack,S=(S=_.store)||(_.store=[]),T=A.pop(),A=A.pop();c.DEBUG&&console.log(_.step,"WS",T,A),S[A]=T},function(L){var S=L.stack,T=L.store,A=S.pop(),L=(c.DEBUG&&console.log(L.step,"RS",A),T&&T[A]||0);S.push(L)},function(_){var S=(T=_.stack).pop(),T=T.pop();c.DEBUG&&console.log(_.step,"WCVTP",S,T),_.cvt[T]=S/64},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"RCVT",T),S.push(64*_.cvt[T])},Qr.bind(void 0,0),Qr.bind(void 0,1),void 0,Li.bind(void 0,0),Li.bind(void 0,1),function(_){c.DEBUG&&console.log(_.step,"MPPEM[]"),_.stack.push(_.ppem)},void 0,function(_){c.DEBUG&&console.log(_.step,"FLIPON[]"),_.autoFlip=!0},void 0,void 0,function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"LT[]",T,A),S.push(A<T?1:0)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"LTEQ[]",T,A),S.push(A<=T?1:0)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"GT[]",T,A),S.push(T<A?1:0)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"GTEQ[]",T,A),S.push(T<=A?1:0)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"EQ[]",T,A),S.push(T===A?1:0)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"NEQ[]",T,A),S.push(T!==A?1:0)},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"ODD[]",T),S.push(Math.trunc(T)%2?1:0)},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"EVEN[]",T),S.push(Math.trunc(T)%2?0:1)},function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"IF[]",S),S||(xs(_,!0),c.DEBUG&&console.log(_.step,"EIF[]"))},function(_){c.DEBUG&&console.log(_.step,"EIF[]")},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"AND[]",T,A),S.push(T&&A?1:0)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"OR[]",T,A),S.push(T||A?1:0)},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"NOT[]",T),S.push(T?0:1)},ri.bind(void 0,1),function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"SDB[]",S),_.deltaBase=S},function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"SDS[]",S),_.deltaShift=Math.pow(.5,S)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"ADD[]",T,A),S.push(A+T)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"SUB[]",T,A),S.push(A-T)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"DIV[]",T,A),S.push(64*A/T)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"MUL[]",T,A),S.push(A*T/64)},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"ABS[]",T),S.push(Math.abs(T))},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"NEG[]",T),S.push(-T)},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"FLOOR[]",T),S.push(64*Math.floor(T/64))},function(_){var S=_.stack,T=S.pop();c.DEBUG&&console.log(_.step,"CEILING[]",T),S.push(64*Math.ceil(T/64))},wo.bind(void 0,0),wo.bind(void 0,1),wo.bind(void 0,2),wo.bind(void 0,3),void 0,void 0,void 0,void 0,function(_){var S=(T=_.stack).pop(),T=T.pop();c.DEBUG&&console.log(_.step,"WCVTF[]",S,T),_.cvt[T]=S*_.ppem/_.font.unitsPerEm},ri.bind(void 0,2),ri.bind(void 0,3),pn.bind(void 0,1),pn.bind(void 0,2),pn.bind(void 0,3),function(_){var S,T=_.stack.pop();switch(c.DEBUG&&console.log(_.step,"SROUND[]",T),_.round=jr,192&T){case 0:S=.5;break;case 64:S=1;break;case 128:S=2;break;default:throw new Error("invalid SROUND value")}switch(_.srPeriod=S,48&T){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*S;break;case 32:_.srPhase=.5*S;break;case 48:_.srPhase=.75*S;break;default:throw new Error("invalid SROUND value")}_.srThreshold=(T&=15)===0?0:(T/8-.5)*S},function(_){var S,T=_.stack.pop();switch(c.DEBUG&&console.log(_.step,"S45ROUND[]",T),_.round=jr,192&T){case 0:S=Math.sqrt(2)/2;break;case 64:S=Math.sqrt(2);break;case 128:S=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(_.srPeriod=S,48&T){case 0:_.srPhase=0;break;case 16:_.srPhase=.25*S;break;case 32:_.srPhase=.5*S;break;case 48:_.srPhase=.75*S;break;default:throw new Error("invalid S45ROUND value")}_.srThreshold=(T&=15)===0?0:(T/8-.5)*S},void 0,void 0,function(_){c.DEBUG&&console.log(_.step,"ROFF[]"),_.round=Mt},void 0,function(_){c.DEBUG&&console.log(_.step,"RUTG[]"),_.round=er},function(_){c.DEBUG&&console.log(_.step,"RDTG[]"),_.round=ir},wr,wr,void 0,void 0,void 0,void 0,void 0,function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"SCANCTRL[]",S)},So.bind(void 0,0),So.bind(void 0,1),function(_){var S=_.stack,T=S.pop(),A=0;c.DEBUG&&console.log(_.step,"GETINFO[]",T),1&T&&(A=35),32&T&&(A|=4096),S.push(A)},void 0,function(_){var S=_.stack,T=S.pop(),A=S.pop(),L=S.pop();c.DEBUG&&console.log(_.step,"ROLL[]"),S.push(A),S.push(T),S.push(L)},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"MAX[]",T,A),S.push(Math.max(A,T))},function(_){var S=_.stack,T=S.pop(),A=S.pop();c.DEBUG&&console.log(_.step,"MIN[]",T,A),S.push(Math.min(A,T))},function(_){var S=_.stack.pop();c.DEBUG&&console.log(_.step,"SCANTYPE[]",S)},function(_){var S=_.stack.pop(),T=_.stack.pop();switch(c.DEBUG&&console.log(_.step,"INSTCTRL[]",S,T),S){case 1:return void(_.inhibitGridFit=!!T);case 2:return void(_.ignoreCvt=!!T);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Cn.bind(void 0,1),Cn.bind(void 0,2),Cn.bind(void 0,3),Cn.bind(void 0,4),Cn.bind(void 0,5),Cn.bind(void 0,6),Cn.bind(void 0,7),Cn.bind(void 0,8),ls.bind(void 0,1),ls.bind(void 0,2),ls.bind(void 0,3),ls.bind(void 0,4),ls.bind(void 0,5),ls.bind(void 0,6),ls.bind(void 0,7),ls.bind(void 0,8),Vt.bind(void 0,0,0,0,0,0),Vt.bind(void 0,0,0,0,0,1),Vt.bind(void 0,0,0,0,0,2),Vt.bind(void 0,0,0,0,0,3),Vt.bind(void 0,0,0,0,1,0),Vt.bind(void 0,0,0,0,1,1),Vt.bind(void 0,0,0,0,1,2),Vt.bind(void 0,0,0,0,1,3),Vt.bind(void 0,0,0,1,0,0),Vt.bind(void 0,0,0,1,0,1),Vt.bind(void 0,0,0,1,0,2),Vt.bind(void 0,0,0,1,0,3),Vt.bind(void 0,0,0,1,1,0),Vt.bind(void 0,0,0,1,1,1),Vt.bind(void 0,0,0,1,1,2),Vt.bind(void 0,0,0,1,1,3),Vt.bind(void 0,0,1,0,0,0),Vt.bind(void 0,0,1,0,0,1),Vt.bind(void 0,0,1,0,0,2),Vt.bind(void 0,0,1,0,0,3),Vt.bind(void 0,0,1,0,1,0),Vt.bind(void 0,0,1,0,1,1),Vt.bind(void 0,0,1,0,1,2),Vt.bind(void 0,0,1,0,1,3),Vt.bind(void 0,0,1,1,0,0),Vt.bind(void 0,0,1,1,0,1),Vt.bind(void 0,0,1,1,0,2),Vt.bind(void 0,0,1,1,0,3),Vt.bind(void 0,0,1,1,1,0),Vt.bind(void 0,0,1,1,1,1),Vt.bind(void 0,0,1,1,1,2),Vt.bind(void 0,0,1,1,1,3),Vt.bind(void 0,1,0,0,0,0),Vt.bind(void 0,1,0,0,0,1),Vt.bind(void 0,1,0,0,0,2),Vt.bind(void 0,1,0,0,0,3),Vt.bind(void 0,1,0,0,1,0),Vt.bind(void 0,1,0,0,1,1),Vt.bind(void 0,1,0,0,1,2),Vt.bind(void 0,1,0,0,1,3),Vt.bind(void 0,1,0,1,0,0),Vt.bind(void 0,1,0,1,0,1),Vt.bind(void 0,1,0,1,0,2),Vt.bind(void 0,1,0,1,0,3),Vt.bind(void 0,1,0,1,1,0),Vt.bind(void 0,1,0,1,1,1),Vt.bind(void 0,1,0,1,1,2),Vt.bind(void 0,1,0,1,1,3),Vt.bind(void 0,1,1,0,0,0),Vt.bind(void 0,1,1,0,0,1),Vt.bind(void 0,1,1,0,0,2),Vt.bind(void 0,1,1,0,0,3),Vt.bind(void 0,1,1,0,1,0),Vt.bind(void 0,1,1,0,1,1),Vt.bind(void 0,1,1,0,1,2),Vt.bind(void 0,1,1,0,1,3),Vt.bind(void 0,1,1,1,0,0),Vt.bind(void 0,1,1,1,0,1),Vt.bind(void 0,1,1,1,0,2),Vt.bind(void 0,1,1,1,0,3),Vt.bind(void 0,1,1,1,1,0),Vt.bind(void 0,1,1,1,1,1),Vt.bind(void 0,1,1,1,1,2),Vt.bind(void 0,1,1,1,1,3)],Bi=Array.from||function(_){return _.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Tr(_){(_=_||{}).empty||(Wt(_.familyName,"When creating a new Font object, familyName is required."),Wt(_.styleName,"When creating a new Font object, styleName is required."),Wt(_.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Wt(_.ascender,"When creating a new Font object, ascender is required."),Wt(_.descender,"When creating a new Font object, descender is required."),Wt(_.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:_.familyName||" "},fontSubfamily:{en:_.styleName||" "},fullName:{en:_.fullName||_.familyName+" "+_.styleName},postScriptName:{en:_.postScriptName||(_.familyName+_.styleName).replace(/\s/g,"")},designer:{en:_.designer||" "},designerURL:{en:_.designerURL||" "},manufacturer:{en:_.manufacturer||" "},manufacturerURL:{en:_.manufacturerURL||" "},license:{en:_.license||" "},licenseURL:{en:_.licenseURL||" "},version:{en:_.version||"Version 0.1"},description:{en:_.description||" "},copyright:{en:_.copyright||" "},trademark:{en:_.trademark||" "}},this.unitsPerEm=_.unitsPerEm||1e3,this.ascender=_.ascender,this.descender=_.descender,this.createdTimestamp=_.createdTimestamp,this.tables={os2:{usWeightClass:_.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:_.widthClass||this.usWidthClasses.MEDIUM,fsSelection:_.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new pe.GlyphSet(this,_.glyphs||[]),this.encoding=new ge(this),this.position=new bt(this),this.substitution=new ct(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Ut(this):void 0)}})}function l0(_,S){var T,A=JSON.stringify(_),L=256;for(T in S){var W=parseInt(T);if(W&&!(W<256)){if(JSON.stringify(S[T])===A)return W;L<=W&&(L=W+1)}}return S[L]=_,L}Tr.prototype.hasChar=function(_){return this.encoding.charToGlyphIndex(_)!==null},Tr.prototype.charToGlyphIndex=function(_){return this.encoding.charToGlyphIndex(_)},Tr.prototype.charToGlyph=function(_){return _=this.charToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},Tr.prototype.stringToGlyphs=function(_,S){S=S||this.defaultRenderOptions;for(var T=Bi(_),A=[],L=0;L<T.length;L+=1){var W=T[L];A.push(this.charToGlyphIndex(W))}var $=A.length;if(S.features){var _=S.script||this.substitution.getDefaultScriptName(),xe=[];S.features.liga&&(xe=xe.concat(this.substitution.getFeature("liga",_,S.language))),S.features.rlig&&(xe=xe.concat(this.substitution.getFeature("rlig",_,S.language)));for(var Le=0;Le<$;Le+=1)for(var Ie=0;Ie<xe.length;Ie++){for(var Qe=xe[Ie],lt=Qe.sub,nt=lt.length,He=0;He<nt&&lt[He]===A[Le+He];)He++;He===nt&&(A.splice(Le,nt,Qe.by),$=$-nt+1)}}for(var jt=new Array($),yt=this.glyphs.get(0),wt=0;wt<$;wt+=1)jt[wt]=this.glyphs.get(A[wt])||yt;return jt},Tr.prototype.nameToGlyphIndex=function(_){return this.glyphNames.nameToGlyphIndex(_)},Tr.prototype.nameToGlyph=function(_){return _=this.nameToGlyphIndex(_),this.glyphs.get(_)||this.glyphs.get(0)},Tr.prototype.glyphIndexToName=function(_){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(_):""},Tr.prototype.getKerningValue=function(_,S){_=_.index||_,S=S.index||S;var T=this.position.defaultKerningTables;return T?this.position.getKerningValue(T,_,S):this.kerningPairs[_+","+S]||0},Tr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},Tr.prototype.forEachGlyph=function(_,S,T,A,L,W){S=S!==void 0?S:0,T=T!==void 0?T:0,L=L||this.defaultRenderOptions;var $,xe=1/this.unitsPerEm*(A=A!==void 0?A:72),Le=this.stringToGlyphs(_,L);L.kerning&&(_=L.script||this.position.getDefaultScriptName(),$=this.position.getKerningTables(_,L.language));for(var Ie=0;Ie<Le.length;Ie+=1){var Qe=Le[Ie];W.call(this,Qe,S,T,A,L),Qe.advanceWidth&&(S+=Qe.advanceWidth*xe),L.kerning&&Ie<Le.length-1&&(S+=($?this.position.getKerningValue($,Qe.index,Le[Ie+1].index):this.getKerningValue(Qe,Le[Ie+1]))*xe),L.letterSpacing?S+=L.letterSpacing*A:L.tracking&&(S+=L.tracking/1e3*A)}return S},Tr.prototype.getPath=function(_,S,T,A,L){var W=new ce;return this.forEachGlyph(_,S,T,A,L,function($,xe,Le,Ie){$=$.getPath(xe,Le,Ie,L,this),W.extend($)}),W},Tr.prototype.getPaths=function(_,S,T,A,L){var W=[];return this.forEachGlyph(_,S,T,A,L,function($,xe,Le,Ie){$=$.getPath(xe,Le,Ie,L,this),W.push($)}),W},Tr.prototype.getAdvanceWidth=function(_,S,T){return this.forEachGlyph(_,0,0,S,T,function(){})},Tr.prototype.draw=function(_,S,T,A,L,W){this.getPath(S,T,A,L,W).draw(_)},Tr.prototype.drawPoints=function(_,S,T,A,L,W){this.forEachGlyph(S,T,A,L,W,function($,xe,Le,Ie){$.drawPoints(_,xe,Le,Ie)})},Tr.prototype.drawMetrics=function(_,S,T,A,L,W){this.forEachGlyph(S,T,A,L,W,function($,xe,Le,Ie){$.drawMetrics(_,xe,Le,Ie)})},Tr.prototype.getEnglishName=function(_){if(_=this.names[_],_)return _.en},Tr.prototype.validate=function(){var _=this;function S(T){T=_.getEnglishName(T),T&&T.trim().length}S("fontFamily"),S("weightName"),S("manufacturer"),S("copyright"),S("version"),this.unitsPerEm},Tr.prototype.toTables=function(){return it.fontToTable(this)},Tr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},Tr.prototype.toArrayBuffer=function(){for(var _=this.toTables().encode(),S=new ArrayBuffer(_.length),T=new Uint8Array(S),A=0;A<_.length;A++)T[A]=_[A];return S},Tr.prototype.download=function(_){var S=this.getEnglishName("fontFamily"),T=this.getEnglishName("fontSubfamily"),A=(_=_||S.replace(/\s/g,"")+"-"+T+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,A.byteLength,function(L){L.root.getFile(_,{create:!0},function(W){W.createWriter(function($){var xe=new DataView(A),xe=new Blob([xe],{type:"font/opentype"});$.write(xe),$.addEventListener("writeend",function(){location.href=W.toURL()},!1)})})},function(L){throw new Error(L.name+": "+L.message)})):(S=e("fs"),T=function(L){for(var W=new l(L.byteLength),$=new Uint8Array(L),xe=0;xe<W.length;++xe)W[xe]=$[xe];return W}(A),S.writeFileSync(_,T))},Tr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},Tr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},Tr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var c_={make:function(_,S){var T=new Oe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:_.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:_.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*_.axes.length}]);T.offsetToData=T.sizeOf();for(var A,L,W,$=0;$<_.axes.length;$++)T.fields=T.fields.concat((A=$,L=_.axes[$],W=S,W=l0(L.name,S),[{name:"tag_"+A,type:"TAG",value:L.tag},{name:"minValue_"+A,type:"FIXED",value:L.minValue<<16},{name:"defaultValue_"+A,type:"FIXED",value:L.defaultValue<<16},{name:"maxValue_"+A,type:"FIXED",value:L.maxValue<<16},{name:"flags_"+A,type:"USHORT",value:0},{name:"nameID_"+A,type:"USHORT",value:W}]));for(var xe=0;xe<_.instances.length;xe++)T.fields=T.fields.concat(function(Le,Ie,Qe,lt){for(var nt=[{name:"nameID_"+Le,type:"USHORT",value:l0(Ie.name,lt)},{name:"flags_"+Le,type:"USHORT",value:0}],He=0;He<Qe.length;++He){var jt=Qe[He].tag;nt.push({name:"axis_"+Le+" "+jt,type:"FIXED",value:Ie.coordinates[jt]<<16})}return nt}(xe,_.instances[xe],_.axes,S));return T},parse:function(_,S,T){for(var A,L,W,$,xe=new we.Parser(_,S),Le=xe.parseULong(),Ie=(j.argument(Le===65536,"Unsupported fvar table version."),xe.parseOffset16()),Qe=(xe.skip("uShort",1),xe.parseUShort()),lt=xe.parseUShort(),nt=xe.parseUShort(),He=xe.parseUShort(),jt=[],yt=0;yt<Qe;yt++)jt.push((A=_,L=S+Ie+yt*lt,W=T,$={},A=new we.Parser(A,L),$.tag=A.parseTag(),$.minValue=A.parseFixed(),$.defaultValue=A.parseFixed(),$.maxValue=A.parseFixed(),A.skip("uShort",1),$.name=W[A.parseUShort()]||{},$));for(var wt=[],dt=S+Ie+Qe*lt,ht=0;ht<nt;ht++)wt.push(function(Yt,nr,Zt,Qt){var ur={},Cr=new we.Parser(Yt,nr);ur.name=Qt[Cr.parseUShort()]||{},Cr.skip("uShort",1),ur.coordinates={};for(var Hr=0;Hr<Zt.length;++Hr)ur.coordinates[Zt[Hr].tag]=Cr.parseFixed();return ur}(_,dt+ht*He,jt,T));return{axes:jt,instances:wt}}},ws=new Array(10);ws[1]=function(){var _=this.offset+this.relativeOffset,S=this.parseUShort();return S===1?{posFormat:1,coverage:this.parsePointer(Be.coverage),value:this.parseValueRecord()}:S===2?{posFormat:2,coverage:this.parsePointer(Be.coverage),values:this.parseValueRecordList()}:void j.assert(!1,"0x"+_.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},ws[2]=function(){var _,S,T,A,W=this.offset+this.relativeOffset,L=this.parseUShort(),W=(j.assert(L===1||L===2,"0x"+W.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Be.coverage)),$=this.parseUShort(),xe=this.parseUShort();return L===1?{posFormat:L,coverage:W,valueFormat1:$,valueFormat2:xe,pairSets:this.parseList(Be.pointer(Be.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord($),value2:this.parseValueRecord(xe)}})))}:L===2?(_=this.parsePointer(Be.classDef),S=this.parsePointer(Be.classDef),T=this.parseUShort(),A=this.parseUShort(),{posFormat:L,coverage:W,valueFormat1:$,valueFormat2:xe,classDef1:_,classDef2:S,class1Count:T,class2Count:A,classRecords:this.parseList(T,Be.list(A,function(){return{value1:this.parseValueRecord($),value2:this.parseValueRecord(xe)}}))}):void 0},ws[3]=function(){return{error:"GPOS Lookup 3 not supported"}},ws[4]=function(){return{error:"GPOS Lookup 4 not supported"}},ws[5]=function(){return{error:"GPOS Lookup 5 not supported"}},ws[6]=function(){return{error:"GPOS Lookup 6 not supported"}},ws[7]=function(){return{error:"GPOS Lookup 7 not supported"}},ws[8]=function(){return{error:"GPOS Lookup 8 not supported"}},ws[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var d_=new Array(10),h_={parse:function(_,S){return S=(_=new Be(_,S=S||0)).parseVersion(1),j.argument(S===1||S===1.1,"Unsupported GPOS table version "+S),S===1?{version:S,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(ws)}:{version:S,scripts:_.parseScriptList(),features:_.parseFeatureList(),lookups:_.parseLookupList(ws),variations:_.parseFeatureVariationsList()}},make:function(_){return new Oe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Oe.ScriptList(_.scripts)},{name:"features",type:"TABLE",value:new Oe.FeatureList(_.features)},{name:"lookups",type:"TABLE",value:new Oe.LookupList(_.lookups,d_)}])}},f_={parse:function(_,S){if(_=new we.Parser(_,S),(S=_.parseUShort())===0){var T=_,A={},lt=(T.skip("uShort"),T.parseUShort()),L=(j.argument(lt===0,"Unsupported kern sub-table version."),T.skip("uShort",2),T.parseUShort());T.skip("uShort",3);for(var W=0;W<L;W+=1){var $=T.parseUShort(),xe=T.parseUShort(),Le=T.parseShort();A[$+","+xe]=Le}return A}if(S!==1)throw new Error("Unsupported kern table version ("+S+").");var Ie=_,Qe={},lt=(Ie.skip("uShort"),1<Ie.parseULong()&&console.warn("Only the first kern subtable is supported."),Ie.skip("uLong"),255&Ie.parseUShort());if(Ie.skip("uShort"),lt==0){var nt=Ie.parseUShort();Ie.skip("uShort",3);for(var He=0;He<nt;He+=1){var jt=Ie.parseUShort(),yt=Ie.parseUShort(),wt=Ie.parseShort();Qe[jt+","+yt]=wt}}return Qe}},p_={parse:function(_,S,T,A){for(var L=new we.Parser(_,S),W=A?L.parseUShort:L.parseULong,$=[],xe=0;xe<T+1;xe+=1){var Le=W.call(L);A&&(Le*=2),$.push(Le)}return $}};function m_(_,S){e("fs").readFile(_,function(T,A){if(T)return S(T.message);S(null,Ot(A))})}function y_(_,S){var T=new XMLHttpRequest;T.open("get",_,!0),T.responseType="arraybuffer",T.onload=function(){return T.response?S(null,T.response):S("Font could not be loaded: "+T.statusText)},T.onerror=function(){S("Font could not be loaded")},T.send()}function u0(_,S){for(var T=[],A=12,L=0;L<S;L+=1){var W=we.getTag(_,A),$=we.getULong(_,A+4),xe=we.getULong(_,A+8),Le=we.getULong(_,A+12);T.push({tag:W,checksum:$,offset:xe,length:Le,compression:!1}),A+=16}return T}function an(T,S){if(S.compression!=="WOFF")return{data:T,offset:S.offset};var T=new Uint8Array(T.buffer,S.offset+2,S.compressedLength-2),A=new Uint8Array(S.length);if(ue(T,A),A.byteLength!==S.length)throw new Error("Decompression error: "+S.tag+" decompressed length doesn't match recorded length");return{data:new DataView(A.buffer,0),offset:0}}function Ld(ht){var S,T,A,L,W,$,xe,Le,Ie,Qe,lt,nt,He,jt,yt=new Tr({empty:!0}),wt=new DataView(ht,0),dt=[],ht=we.getTag(wt,0);if(ht===String.fromCharCode(0,1,0,0)||ht==="true"||ht==="typ1")yt.outlinesFormat="truetype",dt=u0(wt,A=we.getUShort(wt,4));else if(ht==="OTTO")yt.outlinesFormat="cff",dt=u0(wt,A=we.getUShort(wt,4));else{if(ht!=="wOFF")throw new Error("Unsupported OpenType signature "+ht);var Yt=we.getTag(wt,4);if(Yt===String.fromCharCode(0,1,0,0))yt.outlinesFormat="truetype";else{if(Yt!=="OTTO")throw new Error("Unsupported OpenType flavor "+ht);yt.outlinesFormat="cff"}dt=function(Rr,gr){for(var Rn=[],Ur=44,bn=0;bn<gr;bn+=1){var Or=we.getTag(Rr,Ur),mn=we.getULong(Rr,Ur+4),Na=we.getULong(Rr,Ur+8),Fi=we.getULong(Rr,Ur+12),c0=void 0,c0=Na<Fi&&"WOFF";Rn.push({tag:Or,offset:mn,compression:c0,compressedLength:Na,length:Fi}),Ur+=20}return Rn}(wt,A=we.getUShort(wt,12))}for(var nr=0;nr<A;nr+=1){var Zt=dt[nr],Qt=void 0;switch(Zt.tag){case"cmap":Qt=an(wt,Zt),yt.tables.cmap=B.parse(Qt.data,Qt.offset),yt.encoding=new _e(yt.tables.cmap);break;case"cvt ":Qt=an(wt,Zt),jt=new we.Parser(Qt.data,Qt.offset),yt.tables.cvt=jt.parseShortList(Zt.length/2);break;case"fvar":W=Zt;break;case"fpgm":Qt=an(wt,Zt),jt=new we.Parser(Qt.data,Qt.offset),yt.tables.fpgm=jt.parseByteList(Zt.length);break;case"head":Qt=an(wt,Zt),yt.tables.head=Pt.parse(Qt.data,Qt.offset),yt.unitsPerEm=yt.tables.head.unitsPerEm,S=yt.tables.head.indexToLocFormat;break;case"hhea":Qt=an(wt,Zt),yt.tables.hhea=Ae.parse(Qt.data,Qt.offset),yt.ascender=yt.tables.hhea.ascender,yt.descender=yt.tables.hhea.descender,yt.numberOfHMetrics=yt.tables.hhea.numberOfHMetrics;break;case"hmtx":Ie=Zt;break;case"ltag":Qt=an(wt,Zt),T=gt.parse(Qt.data,Qt.offset);break;case"maxp":Qt=an(wt,Zt),yt.tables.maxp=tt.parse(Qt.data,Qt.offset),yt.numGlyphs=yt.tables.maxp.numGlyphs;break;case"name":nt=Zt;break;case"OS/2":Qt=an(wt,Zt),yt.tables.os2=fr.parse(Qt.data,Qt.offset);break;case"post":Qt=an(wt,Zt),yt.tables.post=Ls.parse(Qt.data,Qt.offset),yt.glyphNames=new me(yt.tables.post);break;case"prep":Qt=an(wt,Zt),jt=new we.Parser(Qt.data,Qt.offset),yt.tables.prep=jt.parseByteList(Zt.length);break;case"glyf":$=Zt;break;case"loca":lt=Zt;break;case"CFF ":L=Zt;break;case"kern":Qe=Zt;break;case"GPOS":xe=Zt;break;case"GSUB":Le=Zt;break;case"meta":He=Zt}}if(Yt=an(wt,nt),yt.tables.name=$r.parse(Yt.data,Yt.offset,T),yt.names=yt.tables.name,$&&lt)ht=S===0,Yt=an(wt,lt),Yt=p_.parse(Yt.data,Yt.offset,yt.numGlyphs,ht),ht=an(wt,$),yt.glyphs=Et.parse(ht.data,ht.offset,Yt,yt);else{if(!L)throw new Error("Font doesn't contain TrueType or CFF outlines.");ht=an(wt,L),Dt.parse(ht.data,ht.offset,yt)}for(var Yt=an(wt,Ie),ur=(mt.parse(Yt.data,Yt.offset,yt.numberOfHMetrics,yt.numGlyphs,yt.glyphs),yt),Cr=ur.tables.cmap.glyphIndexMap,Hr=Object.keys(Cr),ln=0;ln<Hr.length;ln+=1){var An,kn=Hr[ln],Ss=Cr[kn];(An=ur.glyphs.get(Ss)).addUnicode(parseInt(kn))}for(var Er=0;Er<ur.glyphs.length;Er+=1)An=ur.glyphs.get(Er),ur.cffEncoding?ur.isCIDFont?An.name="gid"+Er:An.name=ur.cffEncoding.charset[Er]:ur.glyphNames.names&&(An.name=ur.glyphNames.glyphIndexToName(Er));return Qe?(ht=an(wt,Qe),yt.kerningPairs=f_.parse(ht.data,ht.offset)):yt.kerningPairs={},xe&&(Yt=an(wt,xe),yt.tables.gpos=h_.parse(Yt.data,Yt.offset),yt.position.init()),Le&&(ht=an(wt,Le),yt.tables.gsub=Ca.parse(ht.data,ht.offset)),W&&(Yt=an(wt,W),yt.tables.fvar=c_.parse(Yt.data,Yt.offset,yt.names)),He&&(ht=an(wt,He),yt.tables.meta=Aa.parse(ht.data,ht.offset),yt.metas=yt.tables.meta),yt}c.Font=Tr,c.Glyph=fe,c.Path=ce,c.BoundingBox=oe,c._parse=we,c.parse=Ld,c.load=function(_,S){(typeof window>"u"?m_:y_)(_,function(T,A){if(T)return S(T);var L;try{L=Ld(A)}catch(W){return S(W,null)}return S(null,L)})},c.loadSync=function(_){return Ld(Ot(e("fs").readFileSync(_)))},Object.defineProperty(c,"__esModule",{value:!0})},s(typeof f=="object"&&d!==void 0?f:o.opentype={})}).call(this,e("buffer").Buffer)},{buffer:4,fs:2}],242:[function(e,d,f){(function(l){function o(m,y){for(var a=0,u=m.length-1;0<=u;u--){var i=m[u];i==="."?m.splice(u,1):i===".."?(m.splice(u,1),a++):a&&(m.splice(u,1),a--)}if(y)for(;a--;)m.unshift("..");return m}function s(m,y){if(m.filter)return m.filter(y);for(var a=[],u=0;u<m.length;u++)y(m[u],u,m)&&a.push(m[u]);return a}f.resolve=function(){for(var m="",y=!1,a=arguments.length-1;-1<=a&&!y;a--){var u=0<=a?arguments[a]:l.cwd();if(typeof u!="string")throw new TypeError("Arguments to path.resolve must be strings");u&&(m=u+"/"+m,y=u.charAt(0)==="/")}return(y?"/":"")+(m=o(s(m.split("/"),function(i){return!!i}),!y).join("/"))||"."},f.normalize=function(m){var y=f.isAbsolute(m),a=c(m,-1)==="/";return(m=(m=o(s(m.split("/"),function(u){return!!u}),!y).join("/"))||y?m:".")&&a&&(m+="/"),(y?"/":"")+m},f.isAbsolute=function(m){return m.charAt(0)==="/"},f.join=function(){var m=Array.prototype.slice.call(arguments,0);return f.normalize(s(m,function(y,a){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},f.relative=function(m,y){function a(b){for(var w=0;w<b.length&&b[w]==="";w++);for(var x=b.length-1;0<=x&&b[x]==="";x--);return x<w?[]:b.slice(w,x-w+1)}m=f.resolve(m).substr(1),y=f.resolve(y).substr(1);for(var u=a(m.split("/")),i=a(y.split("/")),h=Math.min(u.length,i.length),p=h,g=0;g<h;g++)if(u[g]!==i[g]){p=g;break}for(var v=[],g=p;g<u.length;g++)v.push("..");return(v=v.concat(i.slice(p))).join("/")},f.sep="/",f.delimiter=":",f.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var y=m.charCodeAt(0)===47,a=-1,u=!0,i=m.length-1;1<=i;--i)if(m.charCodeAt(i)===47){if(!u){a=i;break}}else u=!1;return a===-1?y?"/":".":y&&a===1?"/":m.slice(0,a)},f.basename=function(m,y){return m=function(a){typeof a!="string"&&(a+="");for(var u=0,i=-1,h=!0,p=a.length-1;0<=p;--p)if(a.charCodeAt(p)===47){if(!h){u=p+1;break}}else i===-1&&(h=!1,i=p+1);return i===-1?"":a.slice(u,i)}(m),m=y&&m.substr(-1*y.length)===y?m.substr(0,m.length-y.length):m},f.extname=function(m){typeof m!="string"&&(m+="");for(var y=-1,a=0,u=-1,i=!0,h=0,p=m.length-1;0<=p;--p){var g=m.charCodeAt(p);if(g===47){if(i)continue;a=p+1;break}u===-1&&(i=!1,u=p+1),g===46?y===-1?y=p:h!==1&&(h=1):y!==-1&&(h=-1)}return y===-1||u===-1||h===0||h===1&&y===u-1&&y===a+1?"":m.slice(y,u)};var c="ab".substr(-1)==="b"?function(m,y,a){return m.substr(y,a)}:function(m,y,a){return y<0&&(y=m.length+y),m.substr(y,a)}}).call(this,e("_process"))},{_process:243}],243:[function(e,s,f){var l,o,s=s.exports={};function c(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}try{l=typeof setTimeout=="function"?setTimeout:c}catch{l=c}try{o=typeof clearTimeout=="function"?clearTimeout:m}catch{o=m}function y(w){if(l===setTimeout)return setTimeout(w,0);if((l===c||!l)&&setTimeout)return(l=setTimeout)(w,0);try{return l(w,0)}catch{try{return l.call(null,w,0)}catch{return l.call(this,w,0)}}}var a,u=[],i=!1,h=-1;function p(){i&&a&&(i=!1,a.length?u=a.concat(u):h=-1,u.length&&g())}function g(){if(!i){for(var w=y(p),x=(i=!0,u.length);x;){for(a=u,u=[];++h<x;)a&&a[h].run();h=-1,x=u.length}a=null,i=!1,function(k){if(o===clearTimeout)return clearTimeout(k);if((o===m||!o)&&clearTimeout)return(o=clearTimeout)(k);try{o(k)}catch{try{return o.call(null,k)}catch{return o.call(this,k)}}}(w)}}function v(w,x){this.fun=w,this.array=x}function b(){}s.nextTick=function(w){var x=new Array(arguments.length-1);if(1<arguments.length)for(var k=1;k<arguments.length;k++)x[k-1]=arguments[k];u.push(new v(w,x)),u.length!==1||i||y(g)},v.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=b,s.addListener=b,s.once=b,s.off=b,s.removeListener=b,s.removeAllListeners=b,s.emit=b,s.prependListener=b,s.prependOnceListener=b,s.listeners=function(w){return[]},s.binding=function(w){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(w){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],244:[function(e,d,f){d=function(l){var o,s=Object.prototype,c=s.hasOwnProperty,E=typeof Symbol=="function"?Symbol:{},m=E.iterator||"@@iterator",y=E.asyncIterator||"@@asyncIterator",a=E.toStringTag||"@@toStringTag";function u(Q,N,te,F){var ce,ne,R,j,N=N&&N.prototype instanceof w?N:w,N=Object.create(N.prototype),F=new V(F||[]);return N._invoke=(ce=Q,ne=te,R=F,j=h,function(ie,ae){if(j===g)throw new Error("Generator is already running");if(j===v){if(ie==="throw")throw ae;return re()}for(R.method=ie,R.arg=ae;;){var Te=R.delegate;if(Te&&(Te=function ke(Me,Se){var Xe=Me.iterator[Se.method];if(Xe===o){if(Se.delegate=null,Se.method==="throw"){if(Me.iterator.return&&(Se.method="return",Se.arg=o,ke(Me,Se),Se.method==="throw"))return b;Se.method="throw",Se.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}if(Xe=i(Xe,Me.iterator,Se.arg),Xe.type==="throw")return Se.method="throw",Se.arg=Xe.arg,Se.delegate=null,b;if(Xe=Xe.arg,!Xe)return Se.method="throw",Se.arg=new TypeError("iterator result is not an object"),Se.delegate=null,b;{if(!Xe.done)return Xe;Se[Me.resultName]=Xe.value,Se.next=Me.nextLoc,Se.method!=="return"&&(Se.method="next",Se.arg=o)}return Se.delegate=null,b}(Te,R),Te)){if(Te===b)continue;return Te}if(R.method==="next")R.sent=R._sent=R.arg;else if(R.method==="throw"){if(j===h)throw j=v,R.arg;R.dispatchException(R.arg)}else R.method==="return"&&R.abrupt("return",R.arg);if(j=g,Te=i(ce,ne,R),Te.type==="normal"){if(j=R.done?v:p,Te.arg!==b)return{value:Te.arg,done:R.done}}else Te.type==="throw"&&(j=v,R.method="throw",R.arg=Te.arg)}}),N}function i(Q,ue,te){try{return{type:"normal",arg:Q.call(ue,te)}}catch(oe){return{type:"throw",arg:oe}}}l.wrap=u;var h="suspendedStart",p="suspendedYield",g="executing",v="completed",b={};function w(){}function x(){}function k(){}var E={},M=(E[m]=function(){return this},Object.getPrototypeOf),M=M&&M(M(K([]))),O=(M&&M!==s&&c.call(M,m)&&(E=M),k.prototype=w.prototype=Object.create(E));function P(Q){["next","throw","return"].forEach(function(ue){Q[ue]=function(te){return this._invoke(ue,te)}})}function D(Q){var ue;this._invoke=function(te,oe){function ce(){return new Promise(function(ne,R){(function j(ke,F,ie,ae){var Te,ke=i(Q[ke],Q,F);if(ke.type!=="throw")return(F=(Te=ke.arg).value)&&typeof F=="object"&&c.call(F,"__await")?Promise.resolve(F.__await).then(function(Me){j("next",Me,ie,ae)},function(Me){j("throw",Me,ie,ae)}):Promise.resolve(F).then(function(Me){Te.value=Me,ie(Te)},function(Me){return j("throw",Me,ie,ae)});ae(ke.arg)})(te,oe,ne,R)})}return ue=ue?ue.then(ce,ce):ce()}}function U(Q){var ue={tryLoc:Q[0]};1 in Q&&(ue.catchLoc=Q[1]),2 in Q&&(ue.finallyLoc=Q[2],ue.afterLoc=Q[3]),this.tryEntries.push(ue)}function z(Q){var ue=Q.completion||{};ue.type="normal",delete ue.arg,Q.completion=ue}function V(Q){this.tryEntries=[{tryLoc:"root"}],Q.forEach(U,this),this.reset(!0)}function K(Q){if(Q){var ue,te=Q[m];if(te)return te.call(Q);if(typeof Q.next=="function")return Q;if(!isNaN(Q.length))return ue=-1,(te=function oe(){for(;++ue<Q.length;)if(c.call(Q,ue))return oe.value=Q[ue],oe.done=!1,oe;return oe.value=o,oe.done=!0,oe}).next=te}return{next:re}}function re(){return{value:o,done:!0}}return(x.prototype=O.constructor=k).constructor=x,k[a]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(Q){return Q=typeof Q=="function"&&Q.constructor,!!Q&&(Q===x||(Q.displayName||Q.name)==="GeneratorFunction")},l.mark=function(Q){return Object.setPrototypeOf?Object.setPrototypeOf(Q,k):(Q.__proto__=k,a in Q||(Q[a]="GeneratorFunction")),Q.prototype=Object.create(O),Q},l.awrap=function(Q){return{__await:Q}},P(D.prototype),D.prototype[y]=function(){return this},l.AsyncIterator=D,l.async=function(Q,ue,te,oe){var ce=new D(u(Q,ue,te,oe));return l.isGeneratorFunction(ue)?ce:ce.next().then(function(ne){return ne.done?ne.value:ce.next()})},P(O),O[a]="Generator",O[m]=function(){return this},O.toString=function(){return"[object Generator]"},l.keys=function(Q){var ue,te=[];for(ue in Q)te.push(ue);return te.reverse(),function oe(){for(;te.length;){var ce=te.pop();if(ce in Q)return oe.value=ce,oe.done=!1,oe}return oe.done=!0,oe}},l.values=K,V.prototype={constructor:V,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(z),!Q)for(var ue in this)ue.charAt(0)==="t"&&c.call(this,ue)&&!isNaN(+ue.slice(1))&&(this[ue]=o)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var ue=this;function te(N,F){return ne.type="throw",ne.arg=Q,ue.next=N,F&&(ue.method="next",ue.arg=o),!!F}for(var oe=this.tryEntries.length-1;0<=oe;--oe){var ce=this.tryEntries[oe],ne=ce.completion;if(ce.tryLoc==="root")return te("end");if(ce.tryLoc<=this.prev){var R=c.call(ce,"catchLoc"),j=c.call(ce,"finallyLoc");if(R&&j){if(this.prev<ce.catchLoc)return te(ce.catchLoc,!0);if(this.prev<ce.finallyLoc)return te(ce.finallyLoc)}else if(R){if(this.prev<ce.catchLoc)return te(ce.catchLoc,!0)}else{if(!j)throw new Error("try statement without catch or finally");if(this.prev<ce.finallyLoc)return te(ce.finallyLoc)}}}},abrupt:function(Q,ue){for(var te=this.tryEntries.length-1;0<=te;--te){var oe=this.tryEntries[te];if(oe.tryLoc<=this.prev&&c.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var ce=oe;break}}var ne=(ce=ce&&(Q==="break"||Q==="continue")&&ce.tryLoc<=ue&&ue<=ce.finallyLoc?null:ce)?ce.completion:{};return ne.type=Q,ne.arg=ue,ce?(this.method="next",this.next=ce.finallyLoc,b):this.complete(ne)},complete:function(Q,ue){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&ue&&(this.next=ue),b},finish:function(Q){for(var ue=this.tryEntries.length-1;0<=ue;--ue){var te=this.tryEntries[ue];if(te.finallyLoc===Q)return this.complete(te.completion,te.afterLoc),z(te),b}},catch:function(Q){for(var ue=this.tryEntries.length-1;0<=ue;--ue){var te,oe,ce=this.tryEntries[ue];if(ce.tryLoc===Q)return(te=ce.completion).type==="throw"&&(oe=te.arg,z(ce)),oe}throw new Error("illegal catch attempt")},delegateYield:function(Q,ue,te){return this.delegate={iterator:K(Q),resultName:ue,nextLoc:te},this.method==="next"&&(this.arg=o),b}},l}(typeof d=="object"?d.exports:{});try{regeneratorRuntime=d}catch{Function("r","regeneratorRuntime = r")(d)}},{}],245:[function(e,d,f){(function(l){var o,s,c,m,y,a,u,i,h,p;function g(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(z))throw new TypeError("Invalid character in header field name");return z.toLowerCase()}function v(z){return z=typeof z!="string"?String(z):z}function b(z){var V={next:function(){var K=z.shift();return{done:K===void 0,value:K}}};return s&&(V[Symbol.iterator]=function(){return V}),V}function w(z){this.map={},z instanceof w?z.forEach(function(V,K){this.append(K,V)},this):Array.isArray(z)?z.forEach(function(V){this.append(V[0],V[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(V){this.append(V,z[V])},this)}function x(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function k(z){return new Promise(function(V,K){z.onload=function(){V(z.result)},z.onerror=function(){K(z.error)}})}function E(z){var V=new FileReader,K=k(V);return V.readAsArrayBuffer(z),K}function M(z){var V;return z.slice?z.slice(0):((V=new Uint8Array(z.byteLength)).set(new Uint8Array(z)),V.buffer)}function O(){return this.bodyUsed=!1,this._initBody=function(z){if(this._bodyInit=z)if(typeof z=="string")this._bodyText=z;else if(c&&Blob.prototype.isPrototypeOf(z))this._bodyBlob=z;else if(m&&FormData.prototype.isPrototypeOf(z))this._bodyFormData=z;else if(o&&URLSearchParams.prototype.isPrototypeOf(z))this._bodyText=z.toString();else if(y&&c&&u(z))this._bodyArrayBuffer=M(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(z)&&!i(z))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=M(z)}else this._bodyText="";this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var z=x(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?x(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var z,V,K=x(this);if(K)return K;if(this._bodyBlob)return K=this._bodyBlob,z=new FileReader,V=k(z),z.readAsText(K),V;if(this._bodyArrayBuffer)return Promise.resolve(function(re){for(var Q=new Uint8Array(re),ue=new Array(Q.length),te=0;te<Q.length;te++)ue[te]=String.fromCharCode(Q[te]);return ue.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}function P(z,V){var K,re=(V=V||{}).body;if(z instanceof P){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,V.headers||(this.headers=new w(z.headers)),this.method=z.method,this.mode=z.mode,re||z._bodyInit==null||(re=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=V.credentials||this.credentials||"omit",!V.headers&&this.headers||(this.headers=new w(V.headers)),this.method=(z=V.method||this.method||"GET",K=z.toUpperCase(),-1<h.indexOf(K)?K:z),this.mode=V.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&re)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(re)}function D(z){var V=new FormData;return z.trim().split("&").forEach(function(K){var re;K&&(re=(K=K.split("=")).shift().replace(/\+/g," "),K=K.join("=").replace(/\+/g," "),V.append(decodeURIComponent(re),decodeURIComponent(K)))}),V}function U(z,V){V=V||{},this.type="default",this.status=V.status===void 0?200:V.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in V?V.statusText:"OK",this.headers=new w(V.headers),this.url=V.url||"",this._initBody(z)}l.fetch||(o="URLSearchParams"in l,s="Symbol"in l&&"iterator"in Symbol,c="FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in l,(y="ArrayBuffer"in l)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=function(z){return z&&DataView.prototype.isPrototypeOf(z)},i=ArrayBuffer.isView||function(z){return z&&-1<a.indexOf(Object.prototype.toString.call(z))}),w.prototype.append=function(z,V){z=g(z),V=v(V);var K=this.map[z];this.map[z]=K?K+","+V:V},w.prototype.delete=function(z){delete this.map[g(z)]},w.prototype.get=function(z){return z=g(z),this.has(z)?this.map[z]:null},w.prototype.has=function(z){return this.map.hasOwnProperty(g(z))},w.prototype.set=function(z,V){this.map[g(z)]=v(V)},w.prototype.forEach=function(z,V){for(var K in this.map)this.map.hasOwnProperty(K)&&z.call(V,this.map[K],K,this)},w.prototype.keys=function(){var z=[];return this.forEach(function(V,K){z.push(K)}),b(z)},w.prototype.values=function(){var z=[];return this.forEach(function(V){z.push(V)}),b(z)},w.prototype.entries=function(){var z=[];return this.forEach(function(V,K){z.push([K,V])}),b(z)},s&&(w.prototype[Symbol.iterator]=w.prototype.entries),h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],P.prototype.clone=function(){return new P(this,{body:this._bodyInit})},O.call(P.prototype),O.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},U.error=function(){var z=new U(null,{status:0,statusText:""});return z.type="error",z},p=[301,302,303,307,308],U.redirect=function(z,V){if(p.indexOf(V)===-1)throw new RangeError("Invalid status code");return new U(null,{status:V,headers:{location:z}})},l.Headers=w,l.Request=P,l.Response=U,l.fetch=function(z,V){return new Promise(function(K,re){var Q=new P(z,V),ue=new XMLHttpRequest;ue.onload=function(){var te,oe={status:ue.status,statusText:ue.statusText,headers:(oe=ue.getAllResponseHeaders()||"",te=new w,oe.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(R){var R=R.split(":"),j=R.shift().trim();j&&(R=R.join(":").trim(),te.append(j,R))}),te)},ce=(oe.url="responseURL"in ue?ue.responseURL:oe.headers.get("X-Request-URL"),"response"in ue?ue.response:ue.responseText);K(new U(ce,oe))},ue.onerror=function(){re(new TypeError("Network request failed"))},ue.ontimeout=function(){re(new TypeError("Network request failed"))},ue.open(Q.method,Q.url,!0),Q.credentials==="include"?ue.withCredentials=!0:Q.credentials==="omit"&&(ue.withCredentials=!1),"responseType"in ue&&c&&(ue.responseType="blob"),Q.headers.forEach(function(te,oe){ue.setRequestHeader(oe,te)}),ue.send(Q._bodyInit===void 0?null:Q._bodyInit)})},l.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],246:[function(e,d,f){e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l,o=c(e("../core/main")),s=c(e("../color/color_conversion"));function c(a){return a&&a.__esModule?a:{default:a}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];o.default.prototype._rgbColorName=function(h){var u,i,h=s.default._rgbaToHSBA(h),p=[(l=h)[0],h[1],h[2]];p[0]!==0&&(p[0]=Math.round(100*p[0]),(h=p[0].toString().split(""))[i=h.length-1]=parseInt(h[i]),h[i]<2.5?h[i]=0:2.5<=h[i]&&h[i]<7.5&&(h[i]=5),h.length===2?(h[0]=parseInt(h[0]),7.5<=h[i]&&(h[i]=0,h[0]=h[0]+1),p[0]=10*h[0]+h[1]):7.5<=h[i]?p[0]=10:p[0]=h[i]),p[2]=p[2]/255;for(var g=p.length-1;1<=g;g--)p[g]<=.25?p[g]=0:.25<p[g]&&p[g]<.75?p[g]=.5:p[g]=1;if(p[0]===0&&p[1]===0&&p[2]===1){for(var v=2;0<=v;v--)l[v]=Math.round(1e4*l[v])/1e4;for(var b=0;b<m.length;b++){if(m[b].h===l[0]&&m[b].s===l[1]&&m[b].b===l[2]){u=m[b].name;break}u="white"}}else for(var w=0;w<y.length;w++)if(y[w].h===p[0]&&y[w].s===p[1]&&y[w].b===p[2]){u=y[w].name;break}return u},e=o.default,f.default=e},{"../color/color_conversion":252,"../core/main":267,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],247:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.replace"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e},o="_Description",s="_fallbackDesc",c="_fallbackTable",m="_Label",y="_labelDesc",a="_labelTable";function u(i){if(i==="label"||i==="fallback")throw new Error("description should not be LABEL or FALLBACK");return i.endsWith(".")||i.endsWith(";")||i.endsWith(",")||i.endsWith("?")||i.endsWith("!")||(i+="."),i}l.default.prototype.describe=function(i,h){var p;l.default._validateParameters("describe",arguments),typeof i=="string"&&(p=this.canvas.id,i=u(i),this.dummyDOM||(this.dummyDOM=document.getElementById(p).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==i&&(this.descriptions.fallback.innerHTML=i):this._describeHTML("fallback",i),h===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==i&&(this.descriptions.label.innerHTML=i):this._describeHTML("label",i)))},l.default.prototype.describeElement=function(i,h,p){var g,v;l.default._validateParameters("describeElement",arguments),typeof h=="string"&&typeof i=="string"&&(g=this.canvas.id,h=u(h),v=function(b){if(b==="label"||b==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return b.endsWith(".")||b.endsWith(";")||b.endsWith(",")?b=b.replace(/.$/,":"):b.endsWith(":")||(b+=":"),b}(i),i=i.replace(/[^a-zA-Z0-9]/g,""),v='<th scope="row">'.concat(v,"</th><td>").concat(h,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(g).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[i]?this.descriptions.fallbackElements[i].innerHTML!==v&&(this.descriptions.fallbackElements[i].innerHTML=v):this._describeElementHTML("fallback",i,v),p===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[i]?this.descriptions.labelElements[i].innerHTML!==v&&(this.descriptions.labelElements[i].innerHTML=v):this._describeElementHTML("label",i,v)))},l.default.prototype._describeHTML=function(i,h){var p,g=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(g+o))?this.dummyDOM.querySelector("#"+g+c).insertAdjacentHTML("beforebegin",'<p id="'.concat(g+s,'"></p>')):(p='<div id="'.concat(g).concat(o,'" role="region" aria-label="Canvas Description"><p id="').concat(g).concat(s,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutput")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(g)).innerHTML=p),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(g).concat(s)),this.descriptions.fallback.innerHTML=h):i==="label"&&(this.dummyDOM.querySelector("#".concat(g+m))?this.dummyDOM.querySelector("#".concat(g+a))&&this.dummyDOM.querySelector("#".concat(g+a)).insertAdjacentHTML("beforebegin",'<p id="'.concat(g).concat(y,'"></p>')):(p='<div id="'.concat(g).concat(m,'" class="p5Label"><p id="').concat(g).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(g,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#"+g).insertAdjacentHTML("afterend",p)),this.descriptions.label=this.dummyDOM.querySelector("#"+g+y),this.descriptions.label.innerHTML=h)},l.default.prototype._describeElementHTML=function(i,h,p){var g,v=this.canvas.id;i==="fallback"?(this.dummyDOM.querySelector("#".concat(v+o))?this.dummyDOM.querySelector("#"+v+c)||this.dummyDOM.querySelector("#"+v+s).insertAdjacentHTML("afterend",'<table id="'.concat(v).concat(c,'"><caption>Canvas elements and their descriptions</caption></table>')):(g='<div id="'.concat(v).concat(o,'" role="region" aria-label="Canvas Description"><table id="').concat(v).concat(c,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutput")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+v).innerHTML=g),(g=document.createElement("tr")).id=v+"_fte_"+h,this.dummyDOM.querySelector("#"+v+c).appendChild(g),this.descriptions.fallbackElements[h]=this.dummyDOM.querySelector("#".concat(v).concat("_fte_").concat(h)),this.descriptions.fallbackElements[h].innerHTML=p):i==="label"&&(this.dummyDOM.querySelector("#".concat(v+m))?this.dummyDOM.querySelector("#".concat(v+a))||this.dummyDOM.querySelector("#"+v+y).insertAdjacentHTML("afterend",'<table id="'.concat(v+a,'"></table>')):(g='<div id="'.concat(v).concat(m,'" class="p5Label"><table id="').concat(v).concat(a,'"></table></div>'),this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(v,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",g):this.dummyDOM.querySelector("#"+v).insertAdjacentHTML("afterend",g)),(i=document.createElement("tr")).id=v+"_lte_"+h,this.dummyDOM.querySelector("#"+v+a).appendChild(i),this.descriptions.labelElements[h]=this.dummyDOM.querySelector("#".concat(v).concat("_lte_").concat(h)),this.descriptions.labelElements[h].innerHTML=p)},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.replace":189}],248:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.map"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype._updateGridOutput=function(l){var o,s,c,m;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(o=this._accessibleOutputs[l],c=function(y,a,u,i){return a="".concat(a," canvas, ").concat(u," by ").concat(i," pixels, contains ").concat(y[0]),a=(y[0]===1?"".concat(a," shape: "):"".concat(a," shapes: ")).concat(y[1]),a}((s=function(y,a){var u,i="",h="",p=0;for(u in a){var g,v=0;for(g in a[u]){var b='<li id="'.concat(y,"shape").concat(p,'">').concat(a[u][g].color," ").concat(u,",");u==="line"?b+=" location = ".concat(a[u][g].pos,", length = ").concat(a[u][g].length," pixels"):(b+=" location = ".concat(a[u][g].pos),u!=="point"&&(b+=", area = ".concat(a[u][g].area," %")),b+="</li>"),i+=b,v++,p++}h=1<v?"".concat(h," ").concat(v," ").concat(u,"s"):"".concat(h," ").concat(v," ").concat(u)}return{numShapes:[p,h],details:i}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(y,a){var u,i,h,p=0,g="",v=Array.apply(null,Array(10)).map(function(){});for(u in v)v[u]=Array.apply(null,Array(10)).map(function(){});for(i in a)for(var b in a[i]){var w=void 0;w=i!=="line"?'<a href="#'.concat(y,"shape").concat(p,'">').concat(a[i][b].color," ").concat(i,"</a>"):'<a href="#'.concat(y,"shape").concat(p,'">').concat(a[i][b].color," ").concat(i," midpoint</a>"),v[a[i][b].loc.locY][a[i][b].loc.locX]?v[a[i][b].loc.locY][a[i][b].loc.locX]=v[a[i][b].loc.locY][a[i][b].loc.locX]+"  "+w:v[a[i][b].loc.locY][a[i][b].loc.locX]=w,p++}for(h in v){var x,k="<tr>";for(x in v[h])k+="<td>",v[h][x]!==void 0&&(k+=v[h][x]),k+="</td>";g=g+k+"</tr>"}return g}(l,this.ingredients.shapes),c!==o.summary.innerHTML&&(o.summary.innerHTML=c),m!==o.map.innerHTML&&(o.map.innerHTML=m),s.details!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=s.details),this._accessibleOutputs[l]=o)},e=e.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.map":161}],249:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.to-fixed"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(c,m,y){return c[0]<.4*m?c[1]<.4*y?"top left":c[1]>.6*y?"bottom left":"mid left":c[0]>.6*m?c[1]<.4*y?"top right":c[1]>.6*y?"bottom right":"mid right":c[1]<.4*y?"top middle":c[1]>.6*y?"bottom middle":"middle"}function s(c,m,y){return m=Math.floor(c[0]/m*10),c=Math.floor(c[1]/y*10),m===10&&(m-=1),c===10&&(c-=1),{locX:m,locY:c}}l.default.prototype.textOutput=function(c){l.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},l.default.prototype.gridOutput=function(c){l.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},l.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},l.default.prototype._createOutput=function(c,m){var y,a,u,i=this.canvas.id,h=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(i).parentNode),"");m==="Fallback"?(y=i+c,this.dummyDOM.querySelector("#".concat(a=i+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(i,"_Description"))?this.dummyDOM.querySelector("#".concat(i,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(i)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(y=i+c+(h=m),this.dummyDOM.querySelector("#".concat(a=i+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(i,"_Label"))?this.dummyDOM.querySelector("#".concat(i,"_Label")):this.dummyDOM.querySelector("#".concat(i))).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>'))),this._accessibleOutputs[y]={},c==="textOutput"?(h="#".concat(i,"gridOutput").concat(h),u='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(h)?this.dummyDOM.querySelector(h).insertAdjacentHTML("beforebegin",u):this.dummyDOM.querySelector("#".concat(a)).innerHTML=u,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):c==="gridOutput"&&(h="#".concat(i,"textOutput").concat(h),u='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(h)?this.dummyDOM.querySelector(h).insertAdjacentHTML("afterend",u):this.dummyDOM.querySelector("#".concat(a)).innerHTML=u,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},l.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes&&(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},l.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},l.default.prototype._accsCanvasColors=function(c,m){c==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},l.default.prototype._accsOutput=function(c,m){c==="ellipse"&&m[2]===m[3]?c="circle":c==="rectangle"&&m[2]===m[3]&&(c="square");var y,a,u={},i=!0,h=function(g,v){var b;return g=g==="rectangle"||g==="ellipse"||g==="arc"||g==="circle"||g==="square"?(b=Math.round(v[0]+v[2]/2),Math.round(v[1]+v[3]/2)):g==="triangle"?(b=(v[0]+v[2]+v[4])/3,(v[1]+v[3]+v[5])/3):g==="quadrilateral"?(b=(v[0]+v[2]+v[4]+v[6])/4,(v[1]+v[3]+v[5]+v[7])/4):g==="line"?(b=(v[0]+v[2])/2,(v[1]+v[3])/2):(b=v[0],v[1]),[b,g]}(c,m);if(c==="line"?(u.color=this.ingredients.colors.stroke,u.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),y=o([m[0],[1]],this.width,this.height),a=o([m[2],[3]],this.width,this.height),u.loc=s(h,this.width,this.height),u.pos=y===a?"at ".concat(y):"from ".concat(y," to ").concat(a)):(c==="point"?u.color=this.ingredients.colors.stroke:(u.color=this.ingredients.colors.fill,u.area=function(g,v,b,w){var x=0;{var k,E,M,O,P,D,U;g==="arc"?(k=((v[5]-v[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI),x=k*v[2]*v[3]/8,v[6]!=="open"&&v[6]!=="chord"||(U=v[0],E=v[1],M=v[0]+v[2]/2*Math.cos(v[4]).toFixed(2),O=v[1]+v[3]/2*Math.sin(v[4]).toFixed(2),P=v[0]+v[2]/2*Math.cos(v[5]).toFixed(2),D=v[1]+v[3]/2*Math.sin(v[5]).toFixed(2),U=Math.abs(U*(O-D)+M*(D-E)+P*(E-O))/2,k>Math.PI?x+=U:x-=U)):g==="ellipse"||g==="circle"?x=3.14*v[2]/2*v[3]/2:g==="line"||g==="point"?x=0:g==="quadrilateral"?x=Math.abs((v[6]+v[0])*(v[7]-v[1])+(v[0]+v[2])*(v[1]-v[3])+(v[2]+v[4])*(v[3]-v[5])+(v[4]+v[6])*(v[5]-v[7]))/2:g==="rectangle"||g==="square"?x=v[2]*v[3]:g==="triangle"&&(x=Math.abs(v[0]*(v[3]-v[5])+v[2]*(v[5]-v[1])+v[4]*(v[1]-v[3]))/2)}return Math.round(100*x/(b*w))}(c,m,this.width,this.height)),u.pos=o(h,this.width,this.height),u.loc=s(h,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[u]){for(var p in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][p])===JSON.stringify(u)&&(i=!1);i===!0&&this.ingredients.shapes[c].push(u)}}else this.ingredients.shapes[c]=[u]},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.map":161,"core-js/modules/es.number.to-fixed":171}],250:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.concat"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype._updateTextOutput=function(l){var o,s,c,m;this.dummyDOM.querySelector("#".concat(l,"_summary"))&&(o=this._accessibleOutputs[l],c=function(y,a,u,i){return u="Your output is a, ".concat(u," by ").concat(i," pixels, ").concat(a," canvas containing the following"),u=y===1?"".concat(u," shape:"):"".concat(u," ").concat(y," shapes:"),u}((s=function(y,a){var u,i="",h=0;for(u in a)for(var p in a[u]){var g='<li><a href="#'.concat(y,"shape").concat(h,'">').concat(a[u][p].color," ").concat(u,"</a>");u==="line"?g+=", ".concat(a[u][p].pos,", ").concat(a[u][p].length," pixels long.</li>"):(g+=", at ".concat(a[u][p].pos),u!=="point"&&(g+=", covering ".concat(a[u][p].area,"% of the canvas")),g+=".</li>"),i+=g,h++}return{numShapes:h,listShapes:i}}(l,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(y,a){var u,i="",h=0;for(u in a)for(var p in a[u]){var g='<tr id="'.concat(y,"shape").concat(h,'"><th>').concat(a[u][p].color," ").concat(u,"</th>");u==="line"?g+="<td>location = ".concat(a[u][p].pos,"</td><td>length = ").concat(a[u][p].length," pixels</td></tr>"):(g+="<td>location = ".concat(a[u][p].pos,"</td>"),u!=="point"&&(g+="<td> area = ".concat(a[u][p].area,"%</td>")),g+="</tr>"),i+=g,h++}return i}(l,this.ingredients.shapes),c!==o.summary.innerHTML&&(o.summary.innerHTML=c),s.listShapes!==o.list.innerHTML&&(o.list.innerHTML=s.listShapes),m!==o.shapeDetails.innerHTML&&(o.shapeDetails.innerHTML=m),this._accessibleOutputs[l]=o)},e=e.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149}],251:[function(e,d,f){var l=(l=e("./core/main"))&&l.__esModule?l:{default:l};e("./core/constants"),e("./core/environment"),e("./core/friendly_errors/stacktrace"),e("./core/friendly_errors/validate_params"),e("./core/friendly_errors/file_errors"),e("./core/friendly_errors/fes_core"),e("./core/friendly_errors/sketch_reader"),e("./core/helpers"),e("./core/legacy"),e("./core/preload"),e("./core/p5.Element"),e("./core/p5.Graphics"),e("./core/p5.Renderer"),e("./core/p5.Renderer2D"),e("./core/rendering"),e("./core/shim"),e("./core/structure"),e("./core/transform"),e("./core/shape/2d_primitives"),e("./core/shape/attributes"),e("./core/shape/curves"),e("./core/shape/vertex"),e("./accessibility/outputs"),e("./accessibility/textOutput"),e("./accessibility/gridOutput"),e("./accessibility/color_namer"),e("./color/color_conversion"),e("./color/creating_reading"),e("./color/p5.Color"),e("./color/setting"),e("./data/p5.TypedDict"),e("./data/local_storage.js"),e("./dom/dom"),e("./accessibility/describe"),e("./events/acceleration"),e("./events/keyboard"),e("./events/mouse"),e("./events/touch"),e("./image/filters"),e("./image/image"),e("./image/loading_displaying"),e("./image/p5.Image"),e("./image/pixels"),e("./io/files"),e("./io/p5.Table"),e("./io/p5.TableRow"),e("./io/p5.XML"),e("./math/calculation"),e("./math/math"),e("./math/noise"),e("./math/p5.Vector"),e("./math/random"),e("./math/trigonometry"),e("./typography/attributes"),e("./typography/loading_displaying"),e("./typography/p5.Font"),e("./utilities/array_functions"),e("./utilities/conversion"),e("./utilities/string_functions"),e("./utilities/time_date"),e("./webgl/3d_primitives"),e("./webgl/interaction"),e("./webgl/light"),e("./webgl/loading"),e("./webgl/material"),e("./webgl/p5.Camera"),e("./webgl/p5.Geometry"),e("./webgl/p5.Matrix"),e("./webgl/p5.RendererGL.Immediate"),e("./webgl/p5.RendererGL"),e("./webgl/p5.RendererGL.Retained"),e("./webgl/p5.Shader"),e("./webgl/p5.RenderBuffer"),e("./webgl/p5.Texture"),e("./webgl/text"),e("./core/init"),d.exports=l.default},{"./accessibility/color_namer":246,"./accessibility/describe":247,"./accessibility/gridOutput":248,"./accessibility/outputs":249,"./accessibility/textOutput":250,"./color/color_conversion":252,"./color/creating_reading":253,"./color/p5.Color":254,"./color/setting":255,"./core/constants":256,"./core/environment":257,"./core/friendly_errors/fes_core":258,"./core/friendly_errors/file_errors":259,"./core/friendly_errors/sketch_reader":260,"./core/friendly_errors/stacktrace":261,"./core/friendly_errors/validate_params":262,"./core/helpers":263,"./core/init":264,"./core/legacy":266,"./core/main":267,"./core/p5.Element":268,"./core/p5.Graphics":269,"./core/p5.Renderer":270,"./core/p5.Renderer2D":271,"./core/preload":272,"./core/rendering":273,"./core/shape/2d_primitives":274,"./core/shape/attributes":275,"./core/shape/curves":276,"./core/shape/vertex":277,"./core/shim":278,"./core/structure":279,"./core/transform":280,"./data/local_storage.js":281,"./data/p5.TypedDict":282,"./dom/dom":283,"./events/acceleration":284,"./events/keyboard":285,"./events/mouse":286,"./events/touch":287,"./image/filters":288,"./image/image":289,"./image/loading_displaying":290,"./image/p5.Image":291,"./image/pixels":292,"./io/files":293,"./io/p5.Table":294,"./io/p5.TableRow":295,"./io/p5.XML":296,"./math/calculation":297,"./math/math":298,"./math/noise":299,"./math/p5.Vector":300,"./math/random":301,"./math/trigonometry":302,"./typography/attributes":303,"./typography/loading_displaying":304,"./typography/p5.Font":305,"./utilities/array_functions":306,"./utilities/conversion":307,"./utilities/string_functions":308,"./utilities/time_date":309,"./webgl/3d_primitives":310,"./webgl/interaction":311,"./webgl/light":312,"./webgl/loading":313,"./webgl/material":314,"./webgl/p5.Camera":315,"./webgl/p5.Geometry":316,"./webgl/p5.Matrix":317,"./webgl/p5.RenderBuffer":318,"./webgl/p5.RendererGL":321,"./webgl/p5.RendererGL.Immediate":319,"./webgl/p5.RendererGL.Retained":320,"./webgl/p5.Shader":322,"./webgl/p5.Texture":323,"./webgl/text":324}],252:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.ColorConversion={},e.default.ColorConversion._hsbaToHSLA=function(l){var o=l[0],s=l[1],c=l[2],m=(2-s)*c/2;return m!=0&&(m==1?s=0:m<.5?s/=2-s:s=s*c/(2-2*m)),[o,s,m,l[3]]},e.default.ColorConversion._hsbaToRGBA=function(l){var o,s,c,m,y,a=6*l[0],u=l[1],i=l[2];return u===0?[i,i,i,l[3]]:(s=i*(1-u),c=i*(1-u*(a-(o=Math.floor(a)))),u=i*(1-u*(1+o-a)),a=o===1?(m=c,y=i,s):o===2?(m=s,y=i,u):o===3?(m=s,y=c,i):o===4?(m=u,y=s,i):o===5?(m=i,y=s,c):(m=i,y=u,s),[m,y,a,l[3]])},e.default.ColorConversion._hslaToHSBA=function(l){var o=l[0],s=l[1],c=l[2],m=c<.5?(1+s)*c:c+s-c*s;return[o,s=2*(m-c)/m,m,l[3]]},e.default.ColorConversion._hslaToRGBA=function(l){var o,s=6*l[0],c=l[1],m=l[2];return c===0?[m,m,m,l[3]]:[(o=function(y,a,u){return y<0?y+=6:6<=y&&(y-=6),y<1?a+(u-a)*y:y<3?u:y<4?a+(u-a)*(4-y):a})(2+s,c=2*m-(m=m<.5?(1+c)*m:m+c-m*c),m),o(s,c,m),o(s-2,c,m),l[3]]},e.default.ColorConversion._rgbaToHSBA=function(l){var o,s,c=l[0],m=l[1],y=l[2],a=Math.max(c,m,y),u=a-Math.min(c,m,y);return u==0?s=o=0:(s=u/a,c===a?o=(m-y)/u:m===a?o=2+(y-c)/u:y===a&&(o=4+(c-m)/u),o<0?o+=6:6<=o&&(o-=6)),[o/6,s,a,l[3]]},e.default.ColorConversion._rgbaToHSLA=function(l){var o,s,c=l[0],m=l[1],y=l[2],a=Math.max(c,m,y),i=Math.min(c,m,y),u=a+i,i=a-i;return i==0?s=o=0:(s=u<1?i/u:i/(2-u),c===a?o=(m-y)/i:m===a?o=2+(y-c)/i:y===a&&(o=4+(c-m)/i),o<0?o+=6:6<=o&&(o-=6)),[o/6,s,u/2,l[3]]},e=e.default.ColorConversion,f.default=e},{"../core/main":267}],253:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.map"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../core/main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}e("./p5.Color"),e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),s.default.prototype.alpha=function(a){return s.default._validateParameters("alpha",arguments),this.color(a)._getAlpha()},s.default.prototype.blue=function(a){return s.default._validateParameters("blue",arguments),this.color(a)._getBlue()},s.default.prototype.brightness=function(a){return s.default._validateParameters("brightness",arguments),this.color(a)._getBrightness()},s.default.prototype.color=function(){var a;return s.default._validateParameters("color",arguments),arguments[0]instanceof s.default.Color?arguments[0]:(a=arguments[0]instanceof Array?arguments[0]:arguments,new s.default.Color(this,a))},s.default.prototype.green=function(a){return s.default._validateParameters("green",arguments),this.color(a)._getGreen()},s.default.prototype.hue=function(a){return s.default._validateParameters("hue",arguments),this.color(a)._getHue()},s.default.prototype.lerpColor=function(a,u,i){s.default._validateParameters("lerpColor",arguments);var h,p,g,v=this._colorMode,b=this._colorMaxes;if(v===c.RGB)p=a.levels.map(function(w){return w/255}),g=u.levels.map(function(w){return w/255});else if(v===c.HSB)a._getBrightness(),u._getBrightness(),p=a.hsba,g=u.hsba;else{if(v!==c.HSL)throw new Error("".concat(v,"cannot be used for interpolation."));a._getLightness(),u._getLightness(),p=a.hsla,g=u.hsla}return i=Math.max(Math.min(i,1),0),this.lerp===void 0&&(this.lerp=function(w,x,k){return k*(x-w)+w}),a=this.lerp(p[0],g[0],i),u=this.lerp(p[1],g[1],i),h=this.lerp(p[2],g[2],i),p=this.lerp(p[3],g[3],i),a*=b[v][0],u*=b[v][1],h*=b[v][2],p*=b[v][3],this.color(a,u,h,p)},s.default.prototype.lightness=function(a){return s.default._validateParameters("lightness",arguments),this.color(a)._getLightness()},s.default.prototype.red=function(a){return s.default._validateParameters("red",arguments),this.color(a)._getRed()},s.default.prototype.saturation=function(a){return s.default._validateParameters("saturation",arguments),this.color(a)._getSaturation()};var y=s.default;f.default=y},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],254:[function(i,d,f){function l(b){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(b)}function o(b){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(w){return l(w)}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":l(w)})(b)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.trim"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=a(i("../core/main")),c=function(b){if(b&&b.__esModule)return b;if(b===null||o(b)!=="object"&&typeof b!="function")return{default:b};var w=y();if(w&&w.has(b))return w.get(b);var x,k={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in b){var M;Object.prototype.hasOwnProperty.call(b,x)&&((M=E?Object.getOwnPropertyDescriptor(b,x):null)&&(M.get||M.set)?Object.defineProperty(k,x,M):k[x]=b[x])}return k.default=b,w&&w.set(b,k),k}(i("../core/constants")),m=a(i("./color_conversion"));function y(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,y=function(){return b},b)}function a(b){return b&&b.__esModule?b:{default:b}}s.default.Color=function(b,w){if(this._storeModeAndMaxes(b._colorMode,b._colorMaxes),this.mode!==c.RGB&&this.mode!==c.HSL&&this.mode!==c.HSB)throw new Error("".concat(this.mode," is an invalid colorMode."));return this._array=s.default.Color._parseInputs.apply(this,w),this._calculateLevels(),this},s.default.Color.prototype.toString=function(b){var w=this.levels,x=this._array,k=x[3];switch(b){case"#rrggbb":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16));case"#rrggbbaa":return"#".concat(w[0]<16?"0".concat(w[0].toString(16)):w[0].toString(16),w[1]<16?"0".concat(w[1].toString(16)):w[1].toString(16),w[2]<16?"0".concat(w[2].toString(16)):w[2].toString(16),w[3]<16?"0".concat(w[3].toString(16)):w[3].toString(16));case"#rgb":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*x[0]).toString(16),Math.round(15*x[1]).toString(16),Math.round(15*x[2]).toString(16),Math.round(15*x[3]).toString(16));case"rgb":return"rgb(".concat(w[0],", ",w[1],", ",w[2],")");case"rgb%":return"rgb(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*x[0]).toPrecision(3),"%, ",(100*x[1]).toPrecision(3),"%, ",(100*x[2]).toPrecision(3),"%, ",(100*x[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",k,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",k,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*k).toPrecision(3),"%)");default:return"rgba(".concat(w[0],",",w[1],",",w[2],",",k,")")}},s.default.Color.prototype.setRed=function(b){this._array[0]=b/this.maxes[c.RGB][0],this._calculateLevels()},s.default.Color.prototype.setGreen=function(b){this._array[1]=b/this.maxes[c.RGB][1],this._calculateLevels()},s.default.Color.prototype.setBlue=function(b){this._array[2]=b/this.maxes[c.RGB][2],this._calculateLevels()},s.default.Color.prototype.setAlpha=function(b){this._array[3]=b/this.maxes[this.mode][3],this._calculateLevels()},s.default.Color.prototype._calculateLevels=function(){for(var b=this._array,w=this.levels=new Array(b.length),x=b.length-1;0<=x;--x)w[x]=Math.round(255*b[x]);this.hsla=null,this.hsba=null},s.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]},s.default.Color.prototype._storeModeAndMaxes=function(b,w){this.mode=b,this.maxes=w},s.default.Color.prototype._getMode=function(){return this.mode},s.default.Color.prototype._getMaxes=function(){return this.maxes},s.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[c.RGB][2]},s.default.Color.prototype._getBrightness=function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]},s.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[c.RGB][1]},s.default.Color.prototype._getHue=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])},s.default.Color.prototype._getLightness=function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]},s.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[c.RGB][0]},s.default.Color.prototype._getSaturation=function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])};var u={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},i=/\s*/,v=/(\d{1,3})/,h=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,p=new RegExp("".concat(h.source,"%")),g={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",v.source,",",v.source,",",v.source,"\\)$"].join(i.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",p.source,",",p.source,",",p.source,"\\)$"].join(i.source),"i"),RGBA:new RegExp(["^rgba\\(",v.source,",",v.source,",",v.source,",",h.source,"\\)$"].join(i.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",p.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(i.source),"i"),HSL:new RegExp(["^hsl\\(",v.source,",",p.source,",",p.source,"\\)$"].join(i.source),"i"),HSLA:new RegExp(["^hsla\\(",v.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(i.source),"i"),HSB:new RegExp(["^hsb\\(",v.source,",",p.source,",",p.source,"\\)$"].join(i.source),"i"),HSBA:new RegExp(["^hsba\\(",v.source,",",p.source,",",p.source,",",h.source,"\\)$"].join(i.source),"i")},v=(s.default.Color._parseInputs=function(b,w,x,k){var E,M=arguments.length,O=this.mode,P=this.maxes[O],D=[];if(3<=M){for(D[0]=b/P[0],D[1]=w/P[1],D[2]=x/P[2],D[3]=typeof k=="number"?k/P[3]:1,E=D.length-1;0<=E;--E){var U=D[E];U<0?D[E]=0:1<U&&(D[E]=1)}return O===c.HSL?m.default._hslaToRGBA(D):O===c.HSB?m.default._hsbaToRGBA(D):D}if(M===1&&typeof b=="string"){if(x=b.trim().toLowerCase(),u[x])return s.default.Color._parseInputs.call(this,u[x]);if(g.HEX3.test(x))return(D=g.HEX3.exec(x).slice(1).map(function(z){return parseInt(z+z,16)/255}))[3]=1,D;if(g.HEX6.test(x))return(D=g.HEX6.exec(x).slice(1).map(function(z){return parseInt(z,16)/255}))[3]=1,D;if(g.HEX4.test(x))return D=g.HEX4.exec(x).slice(1).map(function(z){return parseInt(z+z,16)/255});if(g.HEX8.test(x))return D=g.HEX8.exec(x).slice(1).map(function(z){return parseInt(z,16)/255});if(g.RGB.test(x))return(D=g.RGB.exec(x).slice(1).map(function(z){return z/255}))[3]=1,D;if(g.RGB_PERCENT.test(x))return(D=g.RGB_PERCENT.exec(x).slice(1).map(function(z){return parseFloat(z)/100}))[3]=1,D;if(g.RGBA.test(x))return D=g.RGBA.exec(x).slice(1).map(function(z,V){return V===3?parseFloat(z):z/255});if(g.RGBA_PERCENT.test(x))return D=g.RGBA_PERCENT.exec(x).slice(1).map(function(z,V){return V===3?parseFloat(z):parseFloat(z)/100});if(g.HSL.test(x)?(D=g.HSL.exec(x).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:parseInt(z,10)/100}))[3]=1:g.HSLA.test(x)&&(D=g.HSLA.exec(x).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:V===3?parseFloat(z):parseInt(z,10)/100})),(D=D.map(function(z){return Math.max(Math.min(z,1),0)})).length)return m.default._hslaToRGBA(D);if(g.HSB.test(x)?(D=g.HSB.exec(x).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:parseInt(z,10)/100}))[3]=1:g.HSBA.test(x)&&(D=g.HSBA.exec(x).slice(1).map(function(z,V){return V===0?parseInt(z,10)/360:V===3?parseFloat(z):parseInt(z,10)/100})),D.length){for(E=D.length-1;0<=E;--E)D[E]=Math.max(Math.min(D[E],1),0);return m.default._hsbaToRGBA(D)}D=[1,1,1,1]}else{if(M!==1&&M!==2||typeof b!="number")throw new Error("".concat(arguments,"is not a valid color representation."));D[0]=b/P[2],D[1]=b/P[2],D[2]=b/P[2],D[3]=typeof w=="number"?w/P[3]:1,D=D.map(function(z){return Math.max(Math.min(z,1),0)})}return D},s.default.Color);f.default=v},{"../core/constants":256,"../core/main":267,"./color_conversion":252,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],255:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.fill"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../core/main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}e("./p5.Color"),s.default.prototype.background=function(){var a;return(a=this._renderer).background.apply(a,arguments),this},s.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},s.default.prototype.colorMode=function(a,u,i,h,p){return s.default._validateParameters("colorMode",arguments),a!==c.RGB&&a!==c.HSB&&a!==c.HSL||(this._colorMode=a,a=this._colorMaxes[a],arguments.length===2?(a[0]=u,a[1]=u,a[2]=u,a[3]=u):arguments.length===4?(a[0]=u,a[1]=i,a[2]=h):arguments.length===5&&(a[0]=u,a[1]=i,a[2]=h,a[3]=p)),this},s.default.prototype.fill=function(){var a;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(a=this._renderer).fill.apply(a,arguments),this},s.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},s.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},s.default.prototype.stroke=function(){var a;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(a=this._renderer).stroke.apply(a,arguments),this},s.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},s.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=s.default;f.default=y},{"../core/constants":256,"../core/main":267,"./p5.Color":254,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],256:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.BEZIER=f.QUADRATIC=f.LINEAR=f._CTX_MIDDLE=f._DEFAULT_LEADMULT=f._DEFAULT_TEXT_FILL=f.WORD=f.CHAR=f.BOLDITALIC=f.BOLD=f.ITALIC=f.NORMAL=f.BLUR=f.ERODE=f.DILATE=f.POSTERIZE=f.INVERT=f.OPAQUE=f.GRAY=f.THRESHOLD=f.BURN=f.DODGE=f.SOFT_LIGHT=f.HARD_LIGHT=f.OVERLAY=f.REPLACE=f.SCREEN=f.MULTIPLY=f.EXCLUSION=f.SUBTRACT=f.DIFFERENCE=f.LIGHTEST=f.DARKEST=f.ADD=f.REMOVE=f.BLEND=f.UP_ARROW=f.TAB=f.SHIFT=f.RIGHT_ARROW=f.RETURN=f.OPTION=f.LEFT_ARROW=f.ESCAPE=f.ENTER=f.DOWN_ARROW=f.DELETE=f.CONTROL=f.BACKSPACE=f.ALT=f.AUTO=f.HSL=f.HSB=f.RGB=f.MITER=f.BEVEL=f.ROUND=f.SQUARE=f.PROJECT=f.PIE=f.CHORD=f.OPEN=f.CLOSE=f.TESS=f.QUAD_STRIP=f.QUADS=f.TRIANGLE_STRIP=f.TRIANGLE_FAN=f.TRIANGLES=f.LINE_LOOP=f.LINE_STRIP=f.LINES=f.POINTS=f.BASELINE=f.BOTTOM=f.TOP=f.CENTER=f.LEFT=f.RIGHT=f.RADIUS=f.CORNERS=f.CORNER=f.RAD_TO_DEG=f.DEG_TO_RAD=f.RADIANS=f.DEGREES=f.TWO_PI=f.TAU=f.QUARTER_PI=f.PI=f.HALF_PI=f.WAIT=f.TEXT=f.MOVE=f.HAND=f.CROSS=f.ARROW=f.WEBGL=f.P2D=f.VERSION=void 0,f.COVER=f.CONTAIN=f.FALLBACK=f.LABEL=f.AXES=f.GRID=f._DEFAULT_FILL=f._DEFAULT_STROKE=f.PORTRAIT=f.LANDSCAPE=f.MIRROR=f.CLAMP=f.REPEAT=f.NEAREST=f.IMAGE=f.IMMEDIATE=f.TEXTURE=f.FILL=f.STROKE=f.CURVE=void 0;var l=Math.PI,o=(f.VERSION="1.5.0",f.P2D="p2d",f.WEBGL="webgl",f.ARROW="default",f.CROSS="crosshair",f.HAND="pointer",f.MOVE="move",f.TEXT="text",f.WAIT="wait",l/2),o=(f.HALF_PI=o,l),o=(f.PI=o,l/4),o=(f.QUARTER_PI=o,2*l),o=(f.TAU=o,2*l),o=(f.TWO_PI=o,f.DEGREES="degrees",f.RADIANS="radians",l/180),o=(f.DEG_TO_RAD=o,180/l);f.RAD_TO_DEG=o,f.CORNER="corner",f.CORNERS="corners",f.RADIUS="radius",f.RIGHT="right",f.LEFT="left",f.CENTER="center",f.TOP="top",f.BOTTOM="bottom",f.BASELINE="alphabetic",f.POINTS=0,f.LINES=1,f.LINE_STRIP=3,f.LINE_LOOP=2,f.TRIANGLES=4,f.TRIANGLE_FAN=6,f.TRIANGLE_STRIP=5,f.QUADS="quads",f.QUAD_STRIP="quad_strip",f.TESS="tess",f.CLOSE="close",f.OPEN="open",f.CHORD="chord",f.PIE="pie",f.PROJECT="square",f.SQUARE="butt",f.ROUND="round",f.BEVEL="bevel",f.MITER="miter",f.RGB="rgb",f.HSB="hsb",f.HSL="hsl",f.AUTO="auto",f.ALT=18,f.BACKSPACE=8,f.CONTROL=17,f.DELETE=46,f.DOWN_ARROW=40,f.ENTER=13,f.ESCAPE=27,f.LEFT_ARROW=37,f.OPTION=18,f.RETURN=13,f.RIGHT_ARROW=39,f.SHIFT=16,f.TAB=9,f.UP_ARROW=38,f.BLEND="source-over",f.REMOVE="destination-out",f.ADD="lighter",f.DARKEST="darken",f.LIGHTEST="lighten",f.DIFFERENCE="difference",f.SUBTRACT="subtract",f.EXCLUSION="exclusion",f.MULTIPLY="multiply",f.SCREEN="screen",f.REPLACE="copy",f.OVERLAY="overlay",f.HARD_LIGHT="hard-light",f.SOFT_LIGHT="soft-light",f.DODGE="color-dodge",f.BURN="color-burn",f.THRESHOLD="threshold",f.GRAY="gray",f.OPAQUE="opaque",f.INVERT="invert",f.POSTERIZE="posterize",f.DILATE="dilate",f.ERODE="erode",f.BLUR="blur",f.NORMAL="normal",f.ITALIC="italic",f.BOLD="bold",f.BOLDITALIC="bold italic",f.CHAR="CHAR",f.WORD="WORD",f._DEFAULT_TEXT_FILL="#000000",f._DEFAULT_LEADMULT=1.25,f._CTX_MIDDLE="middle",f.LINEAR="linear",f.QUADRATIC="quadratic",f.BEZIER="bezier",f.CURVE="curve",f.STROKE="stroke",f.FILL="fill",f.TEXTURE="texture",f.IMMEDIATE="immediate",f.IMAGE="image",f.NEAREST="nearest",f.REPEAT="repeat",f.CLAMP="clamp",f.MIRROR="mirror",f.LANDSCAPE="landscape",f.PORTRAIT="portrait",f._DEFAULT_STROKE="#000000",f._DEFAULT_FILL="#FFFFFF",f.GRID="grid",f.AXES="axes",f.LABEL="label",f.FALLBACK="fallback",f.CONTAIN="contain",f.COVER="cover"},{}],257:[function(e,d,f){function l(h){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function o(h){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(p){return l(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":l(p)})(h)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(c=e("./main"))&&c.__esModule?c:{default:c},c=function(h){if(h&&h.__esModule)return h;if(h===null||o(h)!=="object"&&typeof h!="function")return{default:h};var p=m();if(p&&p.has(h))return p.get(h);var g,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(g in h){var w;Object.prototype.hasOwnProperty.call(h,g)&&((w=b?Object.getOwnPropertyDescriptor(h,g):null)&&(w.get||w.set)?Object.defineProperty(v,g,w):v[g]=h[g])}return v.default=h,p&&p.set(h,v),v}(e("./constants"));function m(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,m=function(){return h},h)}var y=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],a=(s.default.prototype._frameRate=0,s.default.prototype._lastFrameTime=window.performance.now(),s.default.prototype._targetFrameRate=60,window.print);function u(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function i(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}s.default.prototype.print=function(){var h;arguments.length?(h=console).log.apply(h,arguments):a()},s.default.prototype.frameCount=0,s.default.prototype.deltaTime=0,s.default.prototype.focused=document.hasFocus(),s.default.prototype.cursor=function(h,p,g){var v,b="auto",w=this._curElement.elt;y.includes(h)?b=h:typeof h=="string"&&(v="",p&&g&&typeof p=="number"&&typeof g=="number"&&(v="".concat(p," ").concat(g)),b=h.substring(0,7)==="http://"||h.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(h)?"url(".concat(h,") ").concat(v,", auto"):h),w.style.cursor=b},s.default.prototype.frameRate=function(h){return s.default._validateParameters("frameRate",arguments),typeof h!="number"||h<0?this._frameRate:(this._setProperty("_targetFrameRate",h),h===0&&this._setProperty("_frameRate",h),this)},s.default.prototype.getFrameRate=function(){return this.frameRate()},s.default.prototype.setFrameRate=function(h){return this.frameRate(h)},s.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},s.default.prototype.displayWidth=screen.width,s.default.prototype.displayHeight=screen.height,s.default.prototype.windowWidth=u(),s.default.prototype.windowHeight=i(),s.default.prototype._onresize=function(h){this._setProperty("windowWidth",u()),this._setProperty("windowHeight",i());var p=this._isGlobal?window:this;typeof p.windowResized!="function"||(p=p.windowResized(h))===void 0||p||h.preventDefault()},s.default.prototype.width=0,s.default.prototype.height=0,s.default.prototype.fullscreen=function(h){if(s.default._validateParameters("fullscreen",arguments),h===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(h){if(h=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.msRequestFullscreen&&h.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},s.default.prototype.pixelDensity=function(h){var p;return s.default._validateParameters("pixelDensity",arguments),typeof h=="number"?(h!==this._pixelDensity&&(this._pixelDensity=h),(p=this).resizeCanvas(this.width,this.height,!0)):p=this._pixelDensity,p},s.default.prototype.displayDensity=function(){return window.devicePixelRatio},s.default.prototype.getURL=function(){return location.href},s.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(h){return h!==""})},s.default.prototype.getURLParams=function(){for(var h,p=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,g={};(h=p.exec(location.search))!=null;)h.index===p.lastIndex&&p.lastIndex++,g[h[1]]=h[2];return g},e=s.default,f.default=e},{"./constants":256,"./main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],258:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.search"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(y=e("../main"))&&y.__esModule?y:{default:y};e("../internationalization");function o(a,u){u=u||console.log.bind(console),s||m(),s.some(function(i){var h;if(a.message&&a.message.match("\\W?".concat(i.name,"\\W"))!==null)return h=i.type==="function"?"".concat(i.name,"()"):i.name,u("Did you just try to use p5.js's ".concat(h," ").concat(i.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(c)),!0})}var s=null,m=null,c=(l.default._friendlyError=l.default._checkForUserDefinedFunctions=l.default._fesErrorMonitor=function(){},s=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=function(){function a(i){return Object.getOwnPropertyNames(i).filter(function(h){return h[0]!=="_"&&!(h in u)&&(u[h]=!0)}).map(function(h){var p=typeof i[h]=="function"?"function":h===h.toUpperCase()?"constant":"variable";return{name:h,type:p}})}var u={};(s=[].concat(a(l.default.prototype),a(e("../constants")))).sort(function(i,h){return h.name.length-i.name.length})},y=(l.default.prototype._helpForMisusedAtTopLevelCode=o,document.readyState!=="complete"&&(window.addEventListener("error",o,!1),window.addEventListener("load",function(){window.removeEventListener("error",o,!1)})),l.default);f.default=y},{"../constants":256,"../internationalization":265,"../main":267,"./browser_errors":void 0,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.function.name":165,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.search":190,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],259:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(l=e("../main"))&&l.__esModule?l:{default:l};e("../internationalization"),l.default._friendlyFileLoadError=function(){},e=l.default,f.default=e},{"../internationalization":265,"../main":267}],260:[function(e,d,f){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=y(e("../main"));e("../internationalization"),m(e("../constants"));function c(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,c=function(){return u},u)}function m(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=c();if(i&&i.has(u))return i.get(u);var h,p,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&((p=v?Object.getOwnPropertyDescriptor(u,h):null)&&(p.get||p.set)?Object.defineProperty(g,h,p):g[h]=u[h]);return g.default=u,i&&i.set(u,g),g}function y(u){return u&&u.__esModule?u:{default:u}}s.default._fesCodeReader=function(){};var a=s.default;f.default=a},{"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],261:[function(e,d,f){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../main"))&&e.__esModule?e:{default:e};function l(){var o=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(s)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(y){return!!y.match(s)},this).map(function(y){var a=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),u=a.match(/ (\((.+):(\d+):(\d+)\)$)/),a=(a=u?a.replace(u[0],""):a).split(/\s+/).slice(1),u=this.extractLocation(u?u[1]:a.pop());return{functionName:a.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(u[0])?void 0:u[0],lineNumber:u[1],columnNumber:u[2],source:y}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(y){return!y.match(c)},this).map(function(y){var a,u;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(u=y.match(a=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&u[1]?u[1]:void 0,fileName:(u=this.extractLocation(y.replace(a,"")))[0],lineNumber:u[1],columnNumber:u[2],source:y}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,a=m.message.split(`
`),u=[],i=2,h=a.length;i<h;i+=2){var p=y.exec(a[i]);p&&u.push({fileName:p[2],lineNumber:p[1],source:a[i]})}return u},parseOpera10:function(m){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=m.stacktrace.split(`
`),u=[],i=0,h=a.length;i<h;i+=2){var p=y.exec(a[i]);p&&u.push({functionName:p[3]||void 0,fileName:p[2],lineNumber:p[1],source:a[i]})}return u},parseOpera11:function(m){return m.stack.split(`
`).filter(function(y){return!!y.match(o)&&!y.match(/^Error created at/)},this).map(function(y){var a,i=y.split("@"),u=this.extractLocation(i.pop()),i=i.shift()||"";return{functionName:i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(a=i.match(/\(([^)]*)\)/)?i.replace(/^[^(]+\(([^)]*)\)$/,"$1"):a)===void 0||a==="[arguments not available]"?void 0:a.split(","),fileName:u[0],lineNumber:u[1],columnNumber:u[2],source:y}},this)}}}e.default._getErrorStackParser=function(){return new l},e=e.default,f.default=e},{"../main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191}],262:[function(e,d,f){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var o=(o=e("../main"))&&o.__esModule?o:{default:o};(function(m){if(!(m&&m.__esModule)&&!(m===null||c(m)!=="object"&&typeof m!="function")){var y=s();if(y&&y.has(m))return y.get(m);var a,u={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in m){var h;Object.prototype.hasOwnProperty.call(m,a)&&((h=i?Object.getOwnPropertyDescriptor(m,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=m[a])}u.default=m,y&&y.set(m,u)}})(e("../constants")),e("../internationalization");function s(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,s=function(){return m},m)}function c(m){return(c=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(m)}o.default._validateParameters=o.default._clearValidateParamsCache=function(){},e=o.default,f.default=e},{"../../../docs/parameterData.json":void 0,"../constants":256,"../internationalization":265,"../main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.map":166,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],263:[function(e,d,f){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}function o(m){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(m)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=function(m){if(m&&m.__esModule)return m;if(m===null||o(m)!=="object"&&typeof m!="function")return{default:m};var y=c();if(y&&y.has(m))return y.get(m);var a,u={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in m){var h;Object.prototype.hasOwnProperty.call(m,a)&&((h=i?Object.getOwnPropertyDescriptor(m,a):null)&&(h.get||h.set)?Object.defineProperty(u,a,h):u[a]=m[a])}return u.default=m,y&&y.set(m,u),u}(e("./constants"));function c(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,c=function(){return m},m)}f.default={modeAdjust:function(m,y,a,u,i){return i===s.CORNER?{x:m,y,w:a,h:u}:i===s.CORNERS?{x:m,y,w:a-m,h:u-y}:i===s.RADIUS?{x:m-a,y:y-u,w:2*a,h:2*u}:i===s.CENTER?{x:m-.5*a,y:y-.5*u,w:a,h:u}:void 0}}},{"./constants":256,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],264:[function(e,d,f){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var l=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./internationalization");var o=Promise.resolve();Promise.all([new Promise(function(s,c){document.readyState==="complete"?s():window.addEventListener("load",s,!1)}),o]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!l.default.instance&&new l.default})},{"../core/main":267,"./internationalization":265,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/web.dom-collections.iterator":230}],265:[function(e,d,f){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.setTranslatorLanguage=f.currentTranslatorLanguage=f.availableTranslatorLanguages=f.initialize=f.translator=void 0;var l,o,s=m(e("i18next")),c=m(e("i18next-browser-languagedetector"));function m(u){return u&&u.__esModule?u:{default:u}}function y(u,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var a=function(){function u(p,g){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.init(p,g)}var i,h;return i=u,(h=[{key:"fetchWithTimeout",value:function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(p,g),new Promise(function(b,w){return setTimeout(function(){return w(new Error("timeout"))},v)})])}},{key:"init",value:function(p){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=p,this.options=g}},{key:"read",value:function(p,g,v){var b=this.options.loadPath;p===this.options.fallback?v(null,l[p][g]):o.includes(p)?(b=this.services.interpolator.interpolate(b,{lng:p,ns:g}),this.loadUrl(b,v)):v("Not found",!1)}},{key:"loadUrl",value:function(p,g){this.fetchWithTimeout(p).then(function(v){if(v.ok)return v.json();throw new Error("failed loading ".concat(p))},function(){throw new Error("failed loading ".concat(p))}).then(function(v){return g(null,v)}).catch(g)}}])&&y(i.prototype,h),u}();a.type="backend",f.translator=function(u,i){console.debug("p5.js translator called before translations were loaded"),s.default.t(u,i)},f.initialize=function(){return s.default.use(c.default).use(a).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:l}).then(function(u){f.translator=u},function(u){return console.debug("Translations failed to load (".concat(u,")"))})},f.availableTranslatorLanguages=function(){return s.default.languages},f.currentTranslatorLanguage=function(u){return s.default.language},f.setTranslatorLanguage=function(u){return s.default.changeLanguage(u||void 0,function(i){return console.debug("Translations failed to load (".concat(i,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/web.dom-collections.iterator":230,i18next:3,"i18next-browser-languagedetector":3}],266:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("./main"))&&e.__esModule?e:{default:e},e.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},e.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},e.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},e.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},e=e.default,f.default=e},{"./main":267}],267:[function(e,d,f){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-names"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e("./shim");var s=function(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=c();if(i&&i.has(u))return i.get(u);var h,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var v;Object.prototype.hasOwnProperty.call(u,h)&&((v=g?Object.getOwnPropertyDescriptor(u,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=u[h])}return p.default=u,i&&i.set(u,p),p}(e("./constants"));function c(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,c=function(){return u},u)}function m(u,i){for(var h=0;h<i.length;h++){var p=i[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}var y,a=function(){function u(p,w,v){var b=this;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._userNode=w,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var w=Object.getOwnPropertyNames(u.prototype._registeredMethods),x=!0,k=!1,E=void 0;try{for(var M,O=w[Symbol.iterator]();!(x=(M=O.next()).done);x=!0){var P=M.value;this._registeredMethods[P]=u.prototype._registeredMethods[P].slice()}}catch(te){k=!0,E=te}finally{try{x||O.return==null||O.return()}finally{if(k)throw E}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var te=b._isGlobal?window:b;if(te.preload){var oe,ce=document.getElementById(b._loadingScreenId),ne=(ce||((ce=document.createElement("div")).innerHTML="Loading...",ce.style.position="absolute",ce.id=b._loadingScreenId,(b._userNode||document.body).appendChild(ce)),b._preloadMethods);for(oe in ne){ne[oe]=ne[oe]||u;var R=ne[oe];R!==u.prototype&&R!==u||(b._isGlobal&&(window[oe]=b._wrapPreload(b,oe)),R=b),b._registeredPreloadMethods[oe]=R[oe],R[oe]=b._wrapPreload(R,oe)}te.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._draw()},this._runIfPreloadsAreDone=function(){var te,oe=this._isGlobal?window:this;oe._preloadCount===0&&((te=document.getElementById(oe._loadingScreenId))&&te.parentNode.removeChild(te),this._setupDone||(this._lastFrameTime=window.performance.now(),oe._setup(),oe._draw()))},this._decrementPreload=function(){var te=this._isGlobal?window:this;te._preloadDone||typeof te.preload!="function"||(te._setProperty("_preloadCount",te._preloadCount-1),te._runIfPreloadsAreDone())},this._wrapPreload=function(te,oe){var ce=this;return function(){ce._incrementPreload();for(var ne=arguments.length,R=new Array(ne),j=0;j<ne;j++)R[j]=arguments[j];return ce._registeredPreloadMethods[oe].apply(te,R)}},this._incrementPreload=function(){var te=this._isGlobal?window:this;te._preloadDone||te._setProperty("_preloadCount",te._preloadCount+1)},this._setup=function(){b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var te=b._isGlobal?window:b;if(typeof te.preload=="function")for(var oe in b._preloadMethods)te[oe]=b._preloadMethods[oe][oe],te[oe]&&b&&(te[oe]=te[oe].bind(b));b._millisStart=window.performance.now(),te._preloadDone=!0,typeof te.setup=="function"&&te.setup();var ce=document.getElementsByTagName("canvas"),ne=!0,R=!1,j=void 0;try{for(var N,F=ce[Symbol.iterator]();!(ne=(N=F.next()).done);ne=!0){var ie=N.value;ie.dataset.hidden==="true"&&(ie.style.visibility="",delete ie.dataset.hidden)}}catch(ae){R=!0,j=ae}finally{try{ne||F.return==null||F.return()}finally{if(R)throw j}}b._lastFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput()},this._draw=function(){var te=window.performance.now(),oe=te-b._lastFrameTime,ce=1e3/b._targetFrameRate;(!b._loop||ce-5<=oe)&&(b.redraw(),b._frameRate=1e3/(te-b._lastFrameTime),b.deltaTime=te-b._lastFrameTime,b._setProperty("deltaTime",b.deltaTime),b._lastFrameTime=te,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(te,oe){b[te]=oe,b._isGlobal&&(window[te]=oe)},this.remove=function(){var te=document.getElementById(b._loadingScreenId);if(te&&(te.parentNode.removeChild(te),b._incrementPreload()),b._curElement){for(var oe in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(oe,b._events[oe]);var ce=!0,te=!1,ne=void 0;try{for(var R,j=b._elements[Symbol.iterator]();!(ce=(R=j.next()).done);ce=!0){var N,F=R.value;for(N in F.elt&&F.elt.parentNode&&F.elt.parentNode.removeChild(F.elt),F._events)F.elt.removeEventListener(N,F._events[N])}}catch(Me){te=!0,ne=Me}finally{try{ce||j.return==null||j.return()}finally{if(te)throw ne}}var ie=b;b._registeredMethods.remove.forEach(function(Me){Me!==void 0&&Me.call(ie)})}if(b._isGlobal){for(var ae in u.prototype)try{delete window[ae]}catch{window[ae]=void 0}for(var Te in b)if(b.hasOwnProperty(Te))try{delete window[Te]}catch{window[Te]=void 0}u.instance=null}},this._registeredMethods.init.forEach(function(te){te!==void 0&&te.call(this)},this),this._setupPromisePreloads();var D,U,z=this._createFriendlyGlobalFunctionBinder();if(p)p(this),u._checkForUserDefinedFunctions(this);else{for(var V in this._isGlobal=!0,u.instance=this,u.prototype)typeof u.prototype[V]=="function"?(D=V.substring(2),this._events.hasOwnProperty(D)||(Math.hasOwnProperty(V)&&Math[V]===u.prototype[V]?z(V,u.prototype[V]):z(V,u.prototype[V].bind(this)))):z(V,u.prototype[V]);for(var K in this)this.hasOwnProperty(K)&&z(K,this[K])}for(U in this._events){var re=this["_on".concat(U)];re&&(re=re.bind(this),window.addEventListener(U,re,{passive:!1}),this._events[U]=re)}function Q(){b._setProperty("focused",!0)}function ue(){b._setProperty("focused",!1)}window.addEventListener("focus",Q),window.addEventListener("blur",ue),this.registerMethod("remove",function(){window.removeEventListener("focus",Q),window.removeEventListener("blur",ue)}),document.readyState==="complete"?this._start():window.addEventListener("load",this._start.bind(this),!1)}var i,h;return i=u,(h=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=s.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(p,g){u.prototype._preloadMethods.hasOwnProperty(p)||(u.prototype._preloadMethods[p]=g)}},{key:"registerMethod",value:function(p,g){var v=this||u.prototype;v._registeredMethods.hasOwnProperty(p)||(v._registeredMethods[p]=[]),v._registeredMethods[p].push(g)}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},g=p.globalObject||window;return p.log||console.log.bind(console),function(v,b){u.disableFriendlyErrors,g[v]=b}}}])&&m(i.prototype,h),u}();for(y in a.instance=null,a.disableFriendlyErrors=!1,s)a.prototype[y]=s[y];a.VERSION=s.VERSION,a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype},a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},a.prototype._registeredPreloadMethods={},f.default=a},{"./constants":256,"./shim":278,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.get-own-property-names":174,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230}],268:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("./main"))&&e.__esModule?e:{default:e};l.default.Element=function(o,s){this.elt=o,this._pInst=this._pixelsState=s,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight},l.default.Element.prototype.parent=function(o){return o===void 0?this.elt.parentNode:(typeof o=="string"?(o[0]==="#"&&(o=o.substring(1)),o=document.getElementById(o)):o instanceof l.default.Element&&(o=o.elt),o.appendChild(this.elt),this)},l.default.Element.prototype.id=function(o){return o===void 0?this.elt.id:(this.elt.id=o,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)},l.default.Element.prototype.class=function(o){return o===void 0?this.elt.className:(this.elt.className=o,this)},l.default.Element.prototype.mousePressed=function(o){return l.default.Element._adjustListener("mousedown",function(s){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(s),o.call(this,s)},this),this},l.default.Element.prototype.doubleClicked=function(o){return l.default.Element._adjustListener("dblclick",o,this),this},l.default.Element.prototype.mouseWheel=function(o){return l.default.Element._adjustListener("wheel",o,this),this},l.default.Element.prototype.mouseReleased=function(o){return l.default.Element._adjustListener("mouseup",o,this),this},l.default.Element.prototype.mouseClicked=function(o){return l.default.Element._adjustListener("click",o,this),this},l.default.Element.prototype.mouseMoved=function(o){return l.default.Element._adjustListener("mousemove",o,this),this},l.default.Element.prototype.mouseOver=function(o){return l.default.Element._adjustListener("mouseover",o,this),this},l.default.Element.prototype.mouseOut=function(o){return l.default.Element._adjustListener("mouseout",o,this),this},l.default.Element.prototype.touchStarted=function(o){return l.default.Element._adjustListener("touchstart",o,this),this},l.default.Element.prototype.touchMoved=function(o){return l.default.Element._adjustListener("touchmove",o,this),this},l.default.Element.prototype.touchEnded=function(o){return l.default.Element._adjustListener("touchend",o,this),this},l.default.Element.prototype.dragOver=function(o){return l.default.Element._adjustListener("dragover",o,this),this},l.default.Element.prototype.dragLeave=function(o){return l.default.Element._adjustListener("dragleave",o,this),this},l.default.Element._adjustListener=function(o,s,c){return s===!1?l.default.Element._detachListener(o,c):l.default.Element._attachListener(o,s,c),this},l.default.Element._attachListener=function(o,s,c){c._events[o]&&l.default.Element._detachListener(o,c),s=s.bind(c),c.elt.addEventListener(o,s,!1),c._events[o]=s},l.default.Element._detachListener=function(o,s){var c=s._events[o];s.elt.removeEventListener(o,c,!1),s._events[o]=null},l.default.Element.prototype._setProperty=function(o,s){this[o]=s},e=l.default.Element,f.default=e},{"./main":267}],269:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.splice"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("./main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("./constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}s.default.Graphics=function(a,u,g,h){var p,g=g||c.P2D;for(p in this.canvas=document.createElement("canvas"),(h._userNode||document.body).appendChild(this.canvas),s.default.Element.call(this,this.canvas,h),s.default.prototype)this[p]||(typeof s.default.prototype[p]=="function"?this[p]=s.default.prototype[p].bind(this):this[p]=s.default.prototype[p]);return s.default.prototype._initializeInstanceVariables.apply(this),this.width=a,this.height=u,this._pixelDensity=h._pixelDensity,g===c.WEBGL?this._renderer=new s.default.RendererGL(this.canvas,this,!1):this._renderer=new s.default.Renderer2D(this.canvas,this,!1),h._elements.push(this),Object.defineProperty(this,"deltaTime",{get:function(){return this._pInst.deltaTime}}),this._renderer.resize(a,u),this._renderer._applyDefaults(),this},s.default.Graphics.prototype=Object.create(s.default.Element.prototype),s.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()},s.default.Graphics.prototype.remove=function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var a,u=this._pInst._elements.indexOf(this);for(a in u!==-1&&this._pInst._elements.splice(u,1),this._events)this.elt.removeEventListener(a,this._events[a])};var y=s.default.Graphics;f.default=y},{"./constants":256,"./main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],270:[function(e,d,f){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var o=(a=e("./main"))&&a.__esModule?a:{default:a},s=function(u){if(u&&u.__esModule)return u;if(u===null||m(u)!=="object"&&typeof u!="function")return{default:u};var i=c();if(i&&i.has(u))return i.get(u);var h,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var v;Object.prototype.hasOwnProperty.call(u,h)&&((v=g?Object.getOwnPropertyDescriptor(u,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=u[h])}return p.default=u,i&&i.set(u,p),p}(e("../core/constants"));function c(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,c=function(){return u},u)}function m(u){return(m=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(u)}function y(u){var i=0,h=0;if(u.offsetParent)for(;i+=u.offsetLeft,h+=u.offsetTop,u=u.offsetParent;);else i+=u.offsetLeft,h+=u.offsetTop;return[i,h]}o.default.Renderer=function(u,i,h){o.default.Element.call(this,u,i),this.canvas=u,this._pixelsState=i,h?(this._isMainCanvas=!0,this._pInst._setProperty("_curElement",this),this._pInst._setProperty("canvas",this.canvas),this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height)):(this.canvas.style.display="none",this._styles=[]),this._textSize=12,this._textLeading=15,this._textFont="sans-serif",this._textStyle=s.NORMAL,this._textAscent=null,this._textDescent=null,this._textAlign=s.LEFT,this._textBaseline=s.BASELINE,this._textWrap=s.WORD,this._rectMode=s.CORNER,this._ellipseMode=s.CENTER,this._curveTightness=0,this._imageMode=s.CORNER,this._tint=null,this._doStroke=!0,this._doFill=!0,this._strokeSet=!1,this._fillSet=!1,this._leadingSet=!1},o.default.Renderer.prototype=Object.create(o.default.Element.prototype),o.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}},o.default.Renderer.prototype.pop=function(u){u.properties&&Object.assign(this,u.properties)},o.default.Renderer.prototype.resize=function(u,i){this.width=u,this.height=i,this.elt.width=u*this._pInst._pixelDensity,this.elt.height=i*this._pInst._pixelDensity,this.elt.style.width="".concat(u,"px"),this.elt.style.height="".concat(i,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))},o.default.Renderer.prototype.get=function(u,i,h,p){var g=this._pixelsState,v=g._pixelDensity,b=this.canvas;if(u===void 0&&i===void 0)u=i=0,h=g.width,p=g.height;else if(u*=v,i*=v,h===void 0&&p===void 0)return u<0||i<0||u>=b.width||i>=b.height?[0,0,0,0]:this._getPixel(u,i);return g=new o.default.Image(h,p),g.canvas.getContext("2d").drawImage(b,u,i,h*v,p*v,0,0,h,p),g},o.default.Renderer.prototype.textLeading=function(u){return typeof u=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",u),this._pInst):this._textLeading},o.default.Renderer.prototype.textSize=function(u){return typeof u=="number"?(this._setProperty("_textSize",u),this._leadingSet||this._setProperty("_textLeading",u*s._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},o.default.Renderer.prototype.textStyle=function(u){return u?(u!==s.NORMAL&&u!==s.ITALIC&&u!==s.BOLD&&u!==s.BOLDITALIC||this._setProperty("_textStyle",u),this._applyTextProperties()):this._textStyle},o.default.Renderer.prototype.textAscent=function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent},o.default.Renderer.prototype.textDescent=function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent},o.default.Renderer.prototype.textAlign=function(u,i){return u!==void 0?(this._setProperty("_textAlign",u),i!==void 0&&this._setProperty("_textBaseline",i),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}},o.default.Renderer.prototype.textWrap=function(u){return this._setProperty("_textWrap",u),this._textWrap},o.default.Renderer.prototype.text=function(u,i,h,p,g){var v,b,w,x,k=this._pInst,E=this._textWrap,M=Number.MAX_VALUE,O=h;if((this._doFill||this._doStroke)&&u!==void 0){if(v=(u=(u=typeof u!="string"?u.toString():u).replace(/(\t)/g,"  ")).split(`
`),p!==void 0){switch(this._rectMode===s.CENTER&&(i-=p/2),this._textAlign){case s.CENTER:i+=p/2;break;case s.RIGHT:i+=p}if(g!==void 0){this._rectMode===s.CENTER&&(h-=g/2);var u=h,P=k.textAscent();switch(this._textBaseline){case s.BOTTOM:x=h+g,h=Math.max(x,h),O+=P;break;case s.CENTER:x=h+g/2,h=Math.max(x,h),O+=P/2}M=h+g-P,this._textBaseline===s.CENTER&&(M=u+g-P/2)}else{if(this._textBaseline===s.BOTTOM)return console.warn("textAlign(*, BOTTOM) requires x, y, width and height");if(this._textBaseline===s.CENTER)return console.warn("textAlign(*, CENTER) requires x, y, width and height")}if(E===s.WORD){for(var D=[],U=0;U<v.length;U++){for(var z="",V=v[U].split(" "),K=0;K<V.length;K++)b="".concat(z+V[K])+" ",z=p<(w=this.textWidth(b))&&0<z.length?(D.push(z),"".concat(V[K])+" "):b;D.push(z)}var re=0;this._textBaseline===s.CENTER?re=(D.length-1)*k.textLeading()/2:this._textBaseline===s.BOTTOM&&(re=(D.length-1)*k.textLeading());for(var Q=0;Q<v.length;Q++){z="",V=v[Q].split(" ");for(var ue=0;ue<V.length;ue++)b="".concat(z+V[ue])+" ",p<(w=this.textWidth(b))&&0<z.length?(this._renderText(k,z.trim(),i,h-re,M,O),z="".concat(V[ue])+" ",h+=k.textLeading()):z=b;this._renderText(k,z.trim(),i,h-re,M,O),h+=k.textLeading()}}else{for(var te=[],oe=0;oe<v.length;oe++)for(var ce=v[oe].split(z=""),ne=0;ne<ce.length;ne++)b="".concat(z+ce[ne]),(w=this.textWidth(b))<=p?z+=ce[ne]:p<w&&0<z.length&&(te.push(z),z="".concat(ce[ne]));te.push(z);var R=0;this._textBaseline===s.CENTER?R=(te.length-1)*k.textLeading()/2:this._textBaseline===s.BOTTOM&&(R=(te.length-1)*k.textLeading());for(var j=0;j<v.length;j++){ce=v[j].split(z="");for(var N=0;N<ce.length;N++)b="".concat(z+ce[N]),(w=this.textWidth(b))<=p?z+=ce[N]:p<w&&0<z.length&&(this._renderText(k,z.trim(),i,h-R,M,O),h+=k.textLeading(),z="".concat(ce[N]))}this._renderText(k,z.trim(),i,h-R,M,O),h+=k.textLeading()}}else{var F=0;this._textBaseline===s.CENTER?F=(v.length-1)*k.textLeading()/2:this._textBaseline===s.BOTTOM&&(F=(v.length-1)*k.textLeading());for(var ie=0;ie<v.length;ie++)this._renderText(k,v[ie],i,h-F,M,O),h+=k.textLeading()}return k}},o.default.Renderer.prototype._applyDefaults=function(){return this},o.default.Renderer.prototype._isOpenType=function(){var u=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(u)==="object"&&u.font&&u.font.supported},o.default.Renderer.prototype._updateTextMetrics=function(){var u,i,h,p,g,v;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((u=document.createElement("span")).style.fontFamily=this._textFont,u.style.fontSize="".concat(this._textSize,"px"),u.innerHTML="ABCjgq|",(v=document.createElement("div")).style.display="inline-block",v.style.width="1px",v.style.height="0px",p=((i=document.createElement("div")).appendChild(u),i.appendChild(v),i.style.height="0px",i.style.overflow="hidden",document.body.appendChild(i),v.style.verticalAlign="baseline",y(v)),g=y(u),h=p[1]-g[1],p=(v.style.verticalAlign="bottom",y(v)),g=y(u),v=p[1]-g[1]-h,document.body.removeChild(i),this._setProperty("_textAscent",h),this._setProperty("_textDescent",v)),this};var a=o.default.Renderer;f.default=a},{"../core/constants":256,"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],271:[function(e,d,f){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(a=e("./main"))&&a.__esModule?a:{default:a},c=function(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=m();if(i&&i.has(u))return i.get(u);var h,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var v;Object.prototype.hasOwnProperty.call(u,h)&&((v=g?Object.getOwnPropertyDescriptor(u,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=u[h])}return p.default=u,i&&i.set(u,p),p}(e("./constants"));function m(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,m=function(){return u},u)}e("./p5.Renderer");var y="rgba(0,0,0,0)",a=(s.default.Renderer2D=function(u,i,h){return s.default.Renderer.call(this,u,i,h),this.drawingContext=this.canvas.getContext("2d"),this._pInst._setProperty("drawingContext",this.drawingContext),this},s.default.Renderer2D.prototype=Object.create(s.default.Renderer.prototype),s.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"},s.default.Renderer2D.prototype.resize=function(u,i){s.default.Renderer.prototype.resize.call(this,u,i),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)},s.default.Renderer2D.prototype.background=function(){var u,i;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof s.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(u=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(u,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(u=this._getFill(),i=(i=this._pInst).color.apply(i,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(i.levels),i=i.toString(),this._setFill(i),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(u),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()},s.default.Renderer2D.prototype.clear=function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()},s.default.Renderer2D.prototype.fill=function(){var u=(u=this._pInst).color.apply(u,arguments);this._setFill(u.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",u.levels)},s.default.Renderer2D.prototype.stroke=function(){var u=(u=this._pInst).color.apply(u,arguments);this._setStroke(u.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",u.levels)},s.default.Renderer2D.prototype.erase=function(u,i){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,u=this._pInst.color(255,u).toString(),this.drawingContext.fillStyle=u,this._cachedStrokeStyle=this.drawingContext.strokeStyle,u=this._pInst.color(255,i).toString(),this.drawingContext.strokeStyle=u,i=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=i,this._isErasing=!0)},s.default.Renderer2D.prototype.noErase=function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)},s.default.Renderer2D.prototype.image=function(u,i,h,p,g,v,b,w,x){u.gifProperties&&u._animateGif(this._pInst);try{var k=(k=this._tint&&u.canvas?this._getTintedImageCanvas(u):k)||u.canvas||u.elt,E=1;u.width&&0<u.width&&(E=k.width/u.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(k,E*i,E*h,E*p,E*g,v,b,w,x),this._isErasing&&this._pInst.erase()}catch(M){if(M.name!=="NS_ERROR_NOT_AVAILABLE")throw M}},s.default.Renderer2D.prototype._getTintedImageCanvas=function(u){if(!u.canvas)return u;u.tintCanvas||(u.tintCanvas=document.createElement("canvas")),u.tintCanvas.width!==u.canvas.width&&(u.tintCanvas.width=u.canvas.width),u.tintCanvas.height!==u.canvas.height&&(u.tintCanvas.height=u.canvas.height);var i=u.tintCanvas.getContext("2d");return i.save(),i.clearRect(0,0,u.canvas.width,u.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(i.drawImage(u.canvas,0,0),i.globalCompositeOperation="luminosity",i.drawImage(u.canvas,0,0),i.globalCompositeOperation="color",i.drawImage(u.canvas,0,0),i.globalCompositeOperation="multiply",i.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),i.fillRect(0,0,u.canvas.width,u.canvas.height),i.globalCompositeOperation="destination-in"),i.globalAlpha=this._tint[3]/255,i.drawImage(u.canvas,0,0),i.restore(),u.tintCanvas},s.default.Renderer2D.prototype.blendMode=function(u){if(u===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(u!==c.BLEND&&u!==c.REMOVE&&u!==c.DARKEST&&u!==c.LIGHTEST&&u!==c.DIFFERENCE&&u!==c.MULTIPLY&&u!==c.EXCLUSION&&u!==c.SCREEN&&u!==c.REPLACE&&u!==c.OVERLAY&&u!==c.HARD_LIGHT&&u!==c.SOFT_LIGHT&&u!==c.DODGE&&u!==c.BURN&&u!==c.ADD)throw new Error("Mode ".concat(u," not recognized."));this._cachedBlendMode=u,this.drawingContext.globalCompositeOperation=u}},s.default.Renderer2D.prototype.blend=function(){for(var u=this.drawingContext.globalCompositeOperation,i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];var g=h[h.length-1],v=Array.prototype.slice.call(h,0,h.length-1);this.drawingContext.globalCompositeOperation=g,s.default.prototype.copy.apply(this,v),this.drawingContext.globalCompositeOperation=u},s.default.Renderer2D.prototype._getPixel=function(u,i){return u=this.drawingContext.getImageData(u,i,1,1).data,[u[0],u[1],u[2],u[3]]},s.default.Renderer2D.prototype.loadPixels=function(){var u=this._pixelsState,i=u._pixelDensity,h=this.width*i,i=this.height*i,h=this.drawingContext.getImageData(0,0,h,i);u._setProperty("imageData",h),u._setProperty("pixels",h.data)},s.default.Renderer2D.prototype.set=function(u,i,h){u=Math.floor(u),i=Math.floor(i);var p=this._pixelsState;if(h instanceof s.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(p._pixelDensity,p._pixelDensity),this.drawingContext.clearRect(u,i,h.width,h.height),this.drawingContext.drawImage(h.canvas,u,i),this.drawingContext.restore();else{var g=0,v=0,b=0,w=0,x=4*(i*p._pixelDensity*(this.width*p._pixelDensity)+u*p._pixelDensity);if(p.imageData||p.loadPixels.call(p),typeof h=="number")x<p.pixels.length&&(b=v=g=h,w=255);else if(h instanceof Array){if(h.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");x<p.pixels.length&&(g=h[0],v=h[1],b=h[2],w=h[3])}else h instanceof s.default.Color&&x<p.pixels.length&&(g=h.levels[0],v=h.levels[1],b=h.levels[2],w=h.levels[3]);for(var k=0;k<p._pixelDensity;k++)for(var E=0;E<p._pixelDensity;E++)x=4*((i*p._pixelDensity+E)*this.width*p._pixelDensity+(u*p._pixelDensity+k)),p.pixels[x]=g,p.pixels[x+1]=v,p.pixels[x+2]=b,p.pixels[x+3]=w}},s.default.Renderer2D.prototype.updatePixels=function(u,i,h,p){var g=this._pixelsState,v=g._pixelDensity;u===void 0&&i===void 0&&h===void 0&&p===void 0&&(i=u=0,h=this.width,p=this.height),u*=v,i*=v,h*=v,p*=v,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=g.imageData),this.drawingContext.putImageData(g.imageData,u,i,0,0,h,p)},s.default.Renderer2D.prototype._acuteArcToBezier=function(u,i){var v=i/2,h=Math.cos(v),w=Math.sin(v),p=1/Math.tan(v),v=u+v,g=Math.cos(v),v=Math.sin(v),b=(4-h)/3,w=w+(h-b)*p;return{ax:Math.cos(u).toFixed(7),ay:Math.sin(u).toFixed(7),bx:(b*g+w*v).toFixed(7),by:(b*v-w*g).toFixed(7),cx:(b*g-w*v).toFixed(7),cy:(b*v+w*g).toFixed(7),dx:Math.cos(u+i).toFixed(7),dy:Math.sin(u+i).toFixed(7)}},s.default.Renderer2D.prototype.arc=function(u,i,h,p,g,v,b){var w,x=this.drawingContext,k=h/2,E=p/2,M=[];for(u+=k,i+=E;1e-5<=v-g;)w=Math.min(v-g,c.HALF_PI),M.push(this._acuteArcToBezier(g,w)),g+=w;return this._doFill&&(x.beginPath(),M.forEach(function(O,P){P===0&&x.moveTo(u+O.ax*k,i+O.ay*E),x.bezierCurveTo(u+O.bx*k,i+O.by*E,u+O.cx*k,i+O.cy*E,u+O.dx*k,i+O.dy*E)}),b!==c.PIE&&b!=null||x.lineTo(u,i),x.closePath(),x.fill()),this._doStroke&&(x.beginPath(),M.forEach(function(O,P){P===0&&x.moveTo(u+O.ax*k,i+O.ay*E),x.bezierCurveTo(u+O.bx*k,i+O.by*E,u+O.cx*k,i+O.cy*E,u+O.dx*k,i+O.dy*E)}),b===c.PIE?(x.lineTo(u,i),x.closePath()):b===c.CHORD&&x.closePath(),x.stroke()),this},s.default.Renderer2D.prototype.ellipse=function(M){var i=this.drawingContext,h=this._doFill,p=this._doStroke,g=parseFloat(M[0]),v=parseFloat(M[1]),E=parseFloat(M[2]),M=parseFloat(M[3]);if(h&&!p){if(this._getFill()===y)return this}else if(!h&&p&&this._getStroke()===y)return this;var b=E/2*.5522847498,w=M/2*.5522847498,x=g+E,k=v+M,E=g+E/2,M=v+M/2;i.beginPath(),i.moveTo(g,M),i.bezierCurveTo(g,M-w,E-b,v,E,v),i.bezierCurveTo(E+b,v,x,M-w,x,M),i.bezierCurveTo(x,M+w,E+b,k,E,k),i.bezierCurveTo(E-b,k,g,M+w,g,M),h&&i.fill(),p&&i.stroke()},s.default.Renderer2D.prototype.line=function(u,i,h,p){var g=this.drawingContext;return this._doStroke&&this._getStroke()!==y&&(g.beginPath(),g.moveTo(u,i),g.lineTo(h,p),g.stroke()),this},s.default.Renderer2D.prototype.point=function(u,i){var h,p,g=this.drawingContext;return!this._doStroke||this._getStroke()===y?this:(h=this._getStroke(),p=this._getFill(),this._setFill(h),g.beginPath(),g.arc(u,i,g.lineWidth/2,0,c.TWO_PI,!1),g.fill(),void this._setFill(p))},s.default.Renderer2D.prototype.quad=function(u,i,h,p,g,v,b,w){var x=this.drawingContext,k=this._doFill,E=this._doStroke;if(k&&!E){if(this._getFill()===y)return this}else if(!k&&E&&this._getStroke()===y)return this;return x.beginPath(),x.moveTo(u,i),x.lineTo(h,p),x.lineTo(g,v),x.lineTo(b,w),x.closePath(),k&&x.fill(),E&&x.stroke(),this},s.default.Renderer2D.prototype.rect=function(E){var i,h,p=E[0],g=E[1],v=E[2],b=E[3],w=E[4],x=E[5],k=E[6],E=E[7],M=this.drawingContext,O=this._doFill,P=this._doStroke;if(O&&!P){if(this._getFill()===y)return this}else if(!O&&P&&this._getStroke()===y)return this;return M.beginPath(),w===void 0?M.rect(p,g,v,b):(x===void 0&&(x=w),k===void 0&&(k=x),E===void 0&&(E=k),P=(O=Math.abs(v))/2,h=(i=Math.abs(b))/2,i<2*(w=O<2*w?P:w)&&(w=h),i<2*(x=O<2*x?P:x)&&(x=h),i<2*(k=O<2*k?P:k)&&(k=h),i<2*(E=O<2*E?P:E)&&(E=h),M.beginPath(),M.moveTo(p+w,g),M.arcTo(p+v,g,p+v,g+b,x),M.arcTo(p+v,g+b,p,g+b,k),M.arcTo(p,g+b,p,g,E),M.arcTo(p,g,p+v,g,w),M.closePath()),this._doFill&&M.fill(),this._doStroke&&M.stroke(),this},s.default.Renderer2D.prototype.triangle=function(k){var i=this.drawingContext,h=this._doFill,p=this._doStroke,g=k[0],v=k[1],b=k[2],w=k[3],x=k[4],k=k[5];if(h&&!p){if(this._getFill()===y)return this}else if(!h&&p&&this._getStroke()===y)return this;i.beginPath(),i.moveTo(g,v),i.lineTo(b,w),i.lineTo(x,k),i.closePath(),h&&i.fill(),p&&i.stroke()},s.default.Renderer2D.prototype.endShape=function(u,i,h,p,g,v,b){if(i.length!==0&&(this._doStroke||this._doFill)){var w,x,k,E=u===c.CLOSE,M=(E&&!v&&i.push(i[0]),i.length);if(!h||b!==c.POLYGON&&b!==null)if(!p||b!==c.POLYGON&&b!==null)if(!g||b!==c.POLYGON&&b!==null)if(b===c.POINTS)for(x=0;x<M;x++)w=i[x],this._doStroke&&this._pInst.stroke(w[6]),this._pInst.point(w[0],w[1]);else if(b===c.LINES)for(x=0;x+1<M;x+=2)w=i[x],this._doStroke&&this._pInst.stroke(i[x+1][6]),this._pInst.line(w[0],w[1],i[x+1][0],i[x+1][1]);else if(b===c.TRIANGLES)for(x=0;x+2<M;x+=3)w=i[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(w[0],w[1]),this.drawingContext.lineTo(i[x+1][0],i[x+1][1]),this.drawingContext.lineTo(i[x+2][0],i[x+2][1]),this.drawingContext.closePath(),this._doFill&&(this._pInst.fill(i[x+2][5]),this.drawingContext.fill()),this._doStroke&&(this._pInst.stroke(i[x+2][6]),this.drawingContext.stroke());else if(b===c.TRIANGLE_STRIP)for(x=0;x+1<M;x++)w=i[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(i[x+1][0],i[x+1][1]),this.drawingContext.lineTo(w[0],w[1]),this._doStroke&&this._pInst.stroke(i[x+1][6]),this._doFill&&this._pInst.fill(i[x+1][5]),x+2<M&&(this.drawingContext.lineTo(i[x+2][0],i[x+2][1]),this._doStroke&&this._pInst.stroke(i[x+2][6]),this._doFill&&this._pInst.fill(i[x+2][5])),this._doFillStrokeClose(E);else if(b===c.TRIANGLE_FAN){if(2<M){for(this.drawingContext.beginPath(),x=2;x<M;x++)w=i[x],this.drawingContext.moveTo(i[0][0],i[0][1]),this.drawingContext.lineTo(i[x-1][0],i[x-1][1]),this.drawingContext.lineTo(w[0],w[1]),this.drawingContext.lineTo(i[0][0],i[0][1]),x<M-1&&(this._doFill&&w[5]!==i[x+1][5]||this._doStroke&&w[6]!==i[x+1][6])&&(this._doFill&&(this._pInst.fill(w[5]),this.drawingContext.fill(),this._pInst.fill(i[x+1][5])),this._doStroke&&(this._pInst.stroke(w[6]),this.drawingContext.stroke(),this._pInst.stroke(i[x+1][6])),this.drawingContext.closePath(),this.drawingContext.beginPath());this._doFillStrokeClose(E)}}else if(b===c.QUADS)for(x=0;x+3<M;x+=4){for(w=i[x],this.drawingContext.beginPath(),this.drawingContext.moveTo(w[0],w[1]),k=1;k<4;k++)this.drawingContext.lineTo(i[x+k][0],i[x+k][1]);this.drawingContext.lineTo(w[0],w[1]),this._doFill&&this._pInst.fill(i[x+3][5]),this._doStroke&&this._pInst.stroke(i[x+3][6]),this._doFillStrokeClose(E)}else if(b===c.QUAD_STRIP){if(3<M)for(x=0;x+1<M;x+=2)w=i[x],this.drawingContext.beginPath(),x+3<M?(this.drawingContext.moveTo(i[x+2][0],i[x+2][1]),this.drawingContext.lineTo(w[0],w[1]),this.drawingContext.lineTo(i[x+1][0],i[x+1][1]),this.drawingContext.lineTo(i[x+3][0],i[x+3][1]),this._doFill&&this._pInst.fill(i[x+3][5]),this._doStroke&&this._pInst.stroke(i[x+3][6])):(this.drawingContext.moveTo(w[0],w[1]),this.drawingContext.lineTo(i[x+1][0],i[x+1][1])),this._doFillStrokeClose(E)}else{for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[0][0],i[0][1]),x=1;x<M;x++)(w=i[x]).isVert&&(w.moveTo?this.drawingContext.moveTo(w[0],w[1]):this.drawingContext.lineTo(w[0],w[1]));this._doFillStrokeClose(E)}else{for(this.drawingContext.beginPath(),x=0;x<M;x++)i[x].isVert?i[x].moveTo?this.drawingContext.moveTo(i[x][0],i[x][1]):this.drawingContext.lineTo(i[x][0],i[x][1]):this.drawingContext.quadraticCurveTo(i[x][0],i[x][1],i[x][2],i[x][3]);this._doFillStrokeClose(E)}else{for(this.drawingContext.beginPath(),x=0;x<M;x++)i[x].isVert?i[x].moveTo?this.drawingContext.moveTo(i[x][0],i[x][1]):this.drawingContext.lineTo(i[x][0],i[x][1]):this.drawingContext.bezierCurveTo(i[x][0],i[x][1],i[x][2],i[x][3],i[x][4],i[x][5]);this._doFillStrokeClose(E)}else if(3<M){var O=[],P=1-this._curveTightness;for(this.drawingContext.beginPath(),this.drawingContext.moveTo(i[1][0],i[1][1]),x=1;x+2<M;x++)w=i[x],O[0]=[w[0],w[1]],O[1]=[w[0]+(P*i[x+1][0]-P*i[x-1][0])/6,w[1]+(P*i[x+1][1]-P*i[x-1][1])/6],O[2]=[i[x+1][0]+(P*i[x][0]-P*i[x+2][0])/6,i[x+1][1]+(P*i[x][1]-P*i[x+2][1])/6],O[3]=[i[x+1][0],i[x+1][1]],this.drawingContext.bezierCurveTo(O[1][0],O[1][1],O[2][0],O[2][1],O[3][0],O[3][1]);E&&this.drawingContext.lineTo(i[x+1][0],i[x+1][1]),this._doFillStrokeClose(E)}v=g=p=h=!1,E&&i.pop()}return this},s.default.Renderer2D.prototype.strokeCap=function(u){return u!==c.ROUND&&u!==c.SQUARE&&u!==c.PROJECT||(this.drawingContext.lineCap=u),this},s.default.Renderer2D.prototype.strokeJoin=function(u){return u!==c.ROUND&&u!==c.BEVEL&&u!==c.MITER||(this.drawingContext.lineJoin=u),this},s.default.Renderer2D.prototype.strokeWeight=function(u){return this.drawingContext.lineWidth=u===void 0||u===0?1e-4:u,this},s.default.Renderer2D.prototype._getFill=function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle},s.default.Renderer2D.prototype._setFill=function(u){u!==this._cachedFillStyle&&(this.drawingContext.fillStyle=u,this._cachedFillStyle=u)},s.default.Renderer2D.prototype._getStroke=function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle},s.default.Renderer2D.prototype._setStroke=function(u){u!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=u,this._cachedStrokeStyle=u)},s.default.Renderer2D.prototype.bezier=function(u,i,h,p,g,v,b,w){return this._pInst.beginShape(),this._pInst.vertex(u,i),this._pInst.bezierVertex(h,p,g,v,b,w),this._pInst.endShape(),this},s.default.Renderer2D.prototype.curve=function(u,i,h,p,g,v,b,w){return this._pInst.beginShape(),this._pInst.curveVertex(u,i),this._pInst.curveVertex(h,p),this._pInst.curveVertex(g,v),this._pInst.curveVertex(b,w),this._pInst.endShape(),this},s.default.Renderer2D.prototype._doFillStrokeClose=function(u){u&&this.drawingContext.closePath(),this._doFill&&this.drawingContext.fill(),this._doStroke&&this.drawingContext.stroke()},s.default.Renderer2D.prototype.applyMatrix=function(u,i,h,p,g,v){this.drawingContext.transform(u,i,h,p,g,v)},s.default.Renderer2D.prototype.resetMatrix=function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this},s.default.Renderer2D.prototype.rotate=function(u){this.drawingContext.rotate(u)},s.default.Renderer2D.prototype.scale=function(u,i){return this.drawingContext.scale(u,i),this},s.default.Renderer2D.prototype.translate=function(u,i){return u instanceof s.default.Vector&&(i=u.y,u=u.x),this.drawingContext.translate(u,i),this},s.default.Renderer2D.prototype.text=function(u,i,h,b,g){b!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(v=!0,this.drawingContext.textBaseline=c.TOP);var v,b=s.default.Renderer.prototype.text.apply(this,arguments);return v&&(this.drawingContext.textBaseline=c.BASELINE),b},s.default.Renderer2D.prototype._renderText=function(u,i,h,p,g,v){if(!(p<v||g<=p))return u.push(),this._isOpenType()?this._textFont._renderPath(i,h,p,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(i,h,p),this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(i,h,p))),u.pop(),u},s.default.Renderer2D.prototype.textWidth=function(u){return this._isOpenType()?this._textFont._textWidth(u,this._textSize):this.drawingContext.measureText(u).width},s.default.Renderer2D.prototype._applyTextProperties=function(){var u,i=this._pInst;return this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),u=this._textFont,this._isOpenType()&&(u=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(u||"sans-serif"),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,i},s.default.Renderer2D.prototype.push=function(){return this.drawingContext.save(),s.default.Renderer.prototype.push.apply(this)},s.default.Renderer2D.prototype.pop=function(u){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,s.default.Renderer.prototype.pop.call(this,u)},s.default.Renderer2D);f.default=a},{"./constants":256,"./main":267,"./p5.Renderer":270,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],272:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var l=(e=e("./main"))&&e.__esModule?e:{default:e};l.default.prototype._promisePreloads=[];function o(){return{}}var s=!(l.default.prototype.registerPromisePreload=function(c){l.default.prototype._promisePreloads.push(c)});l.default.prototype._setupPromisePreloads=function(){var c=!0,m=!1,y=void 0;try{for(var a,u=this._promisePreloads[Symbol.iterator]();!(c=(a=u.next()).done);c=!0){var i=a.value,h=this,p=i.method,g=i.addCallbacks,v=i.legacyPreloadSetup,b=i.target||this,w=b[p].bind(b);if(b===l.default.prototype){if(s)continue;h=null,w=b[p]}b[p]=this._wrapPromisePreload(h,w,g),v&&(b[v.method]=this._legacyPreloadGenerator(h,v,b[p]))}}catch(x){m=!0,y=x}finally{try{c||u.return==null||u.return()}finally{if(m)throw y}}s=!0},l.default.prototype._wrapPromisePreload=function(c,m,y){var a=function(){for(var u=this,i=(this._incrementPreload(),null),h=null,p=arguments.length,g=new Array(p),v=0;v<p;v++)g[v]=arguments[v];if(y)for(var b=g.length-1;0<=b&&!h&&typeof g[b]=="function";b--)h=i,i=g.pop();var w=Promise.resolve(m.apply(this,g));return i&&w.then(i),h&&w.catch(h),w.then(function(){return u._decrementPreload()}),w};return a=c?a.bind(c):a},l.default.prototype._legacyPreloadGenerator=function(c,u,y){var a=u.createBaseObject||o,u=function(){var i=this,h=(this._incrementPreload(),a.apply(this,arguments));return y.apply(this,arguments).then(function(p){Object.assign(h,p),i._decrementPreload()}),h};return u=c?u.bind(c):u}},{"./main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],273:[function(e,d,f){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var o=(a=e("./main"))&&a.__esModule?a:{default:a},s=function(u){if(u&&u.__esModule)return u;if(u===null||m(u)!=="object"&&typeof u!="function")return{default:u};var i=c();if(i&&i.has(u))return i.get(u);var h,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var v;Object.prototype.hasOwnProperty.call(u,h)&&((v=g?Object.getOwnPropertyDescriptor(u,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=u[h])}return p.default=u,i&&i.set(u,p),p}(e("./constants"));function c(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,c=function(){return u},u)}function m(u){return(m=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(u)}e("./p5.Graphics"),e("./p5.Renderer2D"),e("../webgl/p5.RendererGL");var y="defaultCanvas0",a=(o.default.prototype.createCanvas=function(u,i,b){o.default._validateParameters("createCanvas",arguments);var p,g,v,b=b||s.P2D;if(b===s.WEBGL)(g=document.getElementById(y))&&(g.parentNode.removeChild(g),p=this._renderer,this._elements=this._elements.filter(function(x){return x!==p})),(g=document.createElement("canvas")).id=y,g.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)g=this.canvas;else{g=document.createElement("canvas");for(var w=0;document.getElementById("defaultCanvas".concat(w));)w++;y="defaultCanvas".concat(w),g.id=y,g.classList.add("p5Canvas")}return this._setupDone||(g.dataset.hidden=!0,g.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(v=document.createElement("main"),document.body.appendChild(v)),document.getElementsByTagName("main")[0])).appendChild(g),b===s.WEBGL?(this._setProperty("_renderer",new o.default.RendererGL(g,this,!0)),this._elements.push(this._renderer)):this._defaultGraphicsCreated||(this._setProperty("_renderer",new o.default.Renderer2D(g,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(u,i),this._renderer._applyDefaults(),this._renderer},o.default.prototype.resizeCanvas=function(u,i,h){if(o.default._validateParameters("resizeCanvas",arguments),this._renderer){var p,g,v={};for(p in this.drawingContext){var b=this.drawingContext[p];m(b)!=="object"&&typeof b!="function"&&(v[p]=b)}for(g in this._renderer.resize(u,i),this.width=u,this.height=i,v)try{this.drawingContext[g]=v[g]}catch{}h||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},o.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},o.default.prototype.createGraphics=function(u,i,h){return o.default._validateParameters("createGraphics",arguments),new o.default.Graphics(u,i,h,this)},o.default.prototype.blendMode=function(u){o.default._validateParameters("blendMode",arguments),u===s.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),u=s.BLEND),this._renderer.blendMode(u)},o.default);f.default=a},{"../webgl/p5.RendererGL":321,"./constants":256,"./main":267,"./p5.Graphics":269,"./p5.Renderer2D":271,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],274:[function(e,d,f){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=a(e("../main")),c=function(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=y();if(i&&i.has(u))return i.get(u);var h,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var v;Object.prototype.hasOwnProperty.call(u,h)&&((v=g?Object.getOwnPropertyDescriptor(u,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=u[h])}return p.default=u,i&&i.set(u,p),p}(e("../constants")),m=a(e("../helpers"));function y(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,y=function(){return u},u)}function a(u){return u&&u.__esModule?u:{default:u}}e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),s.default.prototype._normalizeArcAngles=function(u,i,h,p,g){var v;return u-=c.TWO_PI*Math.floor(u/c.TWO_PI),i-=c.TWO_PI*Math.floor(i/c.TWO_PI),v=Math.min(Math.abs(u-i),c.TWO_PI-Math.abs(u-i)),g&&(u=u<=c.HALF_PI?Math.atan(h/p*Math.tan(u)):u>c.HALF_PI&&u<=3*c.HALF_PI?Math.atan(h/p*Math.tan(u))+c.PI:Math.atan(h/p*Math.tan(u))+c.TWO_PI,i=i<=c.HALF_PI?Math.atan(h/p*Math.tan(i)):i>c.HALF_PI&&i<=3*c.HALF_PI?Math.atan(h/p*Math.tan(i))+c.PI:Math.atan(h/p*Math.tan(i))+c.TWO_PI),i<u&&(i+=c.TWO_PI),{start:u,stop:i,correspondToSamePoint:v<1e-5}},s.default.prototype.arc=function(u,i,h,p,g,v,b,w){return s.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&g!==v&&(g=this._toRadians(g),v=this._toRadians(v),h=Math.abs(h),p=Math.abs(p),u=m.default.modeAdjust(u,i,h,p,this._renderer._ellipseMode),(i=this._normalizeArcAngles(g,v,u.w,u.h,!0)).correspondToSamePoint?this._renderer.ellipse([u.x,u.y,u.w,u.h,w]):(this._renderer.arc(u.x,u.y,u.w,u.h,i.start,i.stop,b,w),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[u.x,u.y,u.w,u.h,i.start,i.stop,b]))),this},s.default.prototype.ellipse=function(u,i,h,p,g){return s.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},s.default.prototype.circle=function(){s.default._validateParameters("circle",arguments);var u=Array.prototype.slice.call(arguments,0,2);return u.push(arguments[2]),u.push(arguments[2]),this._renderEllipse.apply(this,u)},s.default.prototype._renderEllipse=function(u,i,h,p,g){return(this._renderer._doStroke||this._renderer._doFill)&&(h<0&&(h=Math.abs(h)),p===void 0?p=h:p<0&&(p=Math.abs(p)),u=m.default.modeAdjust(u,i,h,p,this._renderer._ellipseMode),this._renderer.ellipse([u.x,u.y,u.w,u.h,g]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[u.x,u.y,u.w,u.h])),this},s.default.prototype.line=function(){for(var u,i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];return s.default._validateParameters("line",h),this._renderer._doStroke&&(u=this._renderer).line.apply(u,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",h),this},s.default.prototype.point=function(){for(var u,i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];return s.default._validateParameters("point",h),this._renderer._doStroke&&(h.length===1&&h[0]instanceof s.default.Vector?this._renderer.point.call(this._renderer,h[0].x,h[0].y,h[0].z):((u=this._renderer).point.apply(u,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",h))),this},s.default.prototype.quad=function(){for(var u,i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];return s.default._validateParameters("quad",h),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&h.length<=12?this._renderer.quad.call(this._renderer,h[0],h[1],0,h[2],h[3],0,h[4],h[5],0,h[6],h[7],0,h[8],h[9]):((u=this._renderer).quad.apply(u,h),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",h))),this},s.default.prototype.rect=function(){return s.default._validateParameters("rect",arguments),this._renderRect.apply(this,arguments)},s.default.prototype.square=function(u,i,h,p,g,v,b){return s.default._validateParameters("square",arguments),this._renderRect.call(this,u,i,h,h,p,g,v,b)},s.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var u=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),i=[u.x,u.y,u.w,u.h],h=4;h<arguments.length;h++)i[h]=arguments[h];this._renderer.rect(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[u.x,u.y,u.w,u.h])}return this},s.default.prototype.triangle=function(){for(var u=arguments.length,i=new Array(u),h=0;h<u;h++)i[h]=arguments[h];return s.default._validateParameters("triangle",i),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(i),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",i),this},e=s.default,f.default=e},{"../constants":256,"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../helpers":263,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],275:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}s.default.prototype.ellipseMode=function(a){return s.default._validateParameters("ellipseMode",arguments),a!==c.CORNER&&a!==c.CORNERS&&a!==c.RADIUS&&a!==c.CENTER||(this._renderer._ellipseMode=a),this},s.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},s.default.prototype.rectMode=function(a){return s.default._validateParameters("rectMode",arguments),a!==c.CORNER&&a!==c.CORNERS&&a!==c.RADIUS&&a!==c.CENTER||(this._renderer._rectMode=a),this},s.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},s.default.prototype.strokeCap=function(a){return s.default._validateParameters("strokeCap",arguments),a!==c.ROUND&&a!==c.SQUARE&&a!==c.PROJECT||this._renderer.strokeCap(a),this},s.default.prototype.strokeJoin=function(a){return s.default._validateParameters("strokeJoin",arguments),a!==c.ROUND&&a!==c.BEVEL&&a!==c.MITER||this._renderer.strokeJoin(a),this},s.default.prototype.strokeWeight=function(a){return s.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(a),this};var y=s.default;f.default=y},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],276:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(o=e("../main"))&&o.__esModule?o:{default:o};e("../friendly_errors/fes_core"),e("../friendly_errors/file_errors"),e("../friendly_errors/validate_params"),l.default.prototype.bezier=function(){for(var s,c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return l.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(s=this._renderer).bezier.apply(s,m),this},l.default.prototype.bezierDetail=function(s){return l.default._validateParameters("bezierDetail",arguments),this._bezierDetail=s,this},l.default.prototype.bezierPoint=function(s,c,m,y,a){l.default._validateParameters("bezierPoint",arguments);var u=1-a;return Math.pow(u,3)*s+3*Math.pow(u,2)*a*c+3*u*Math.pow(a,2)*m+Math.pow(a,3)*y},l.default.prototype.bezierTangent=function(s,c,m,y,a){l.default._validateParameters("bezierTangent",arguments);var u=1-a;return 3*y*Math.pow(a,2)-3*m*Math.pow(a,2)+6*m*u*a-6*c*u*a+3*c*Math.pow(u,2)-3*s*Math.pow(u,2)},l.default.prototype.curve=function(){for(var s,c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];return l.default._validateParameters("curve",m),this._renderer._doStroke&&(s=this._renderer).curve.apply(s,m),this},l.default.prototype.curveDetail=function(s){return l.default._validateParameters("curveDetail",arguments),this._curveDetail=s<3?3:s,this},l.default.prototype.curveTightness=function(s){return l.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=s,this},l.default.prototype.curvePoint=function(s,c,m,y,a){l.default._validateParameters("curvePoint",arguments);var u=a*a*a,i=a*a;return s*(-.5*u+i-.5*a)+c*(1.5*u-2.5*i+1)+m*(-1.5*u+2*i+.5*a)+y*(.5*u-.5*i)},l.default.prototype.curveTangent=function(s,c,m,y,a){l.default._validateParameters("curveTangent",arguments);var u=a*a;return s*(-3*u/2+2*a-.5)+c*(9*u/2-5*a)+m*(-9*u/2+4*a+.5)+y*(3*u/2-a)};var o=l.default;f.default=o},{"../friendly_errors/fes_core":258,"../friendly_errors/file_errors":259,"../friendly_errors/validate_params":262,"../main":267}],277:[function(e,d,f){function l(w){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}function o(w){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(x){return l(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":l(x)})(w)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.slice"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(b=e("../main"))&&b.__esModule?b:{default:b},c=function(w){if(w&&w.__esModule)return w;if(w===null||o(w)!=="object"&&typeof w!="function")return{default:w};var x=m();if(x&&x.has(w))return x.get(w);var k,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in w){var O;Object.prototype.hasOwnProperty.call(w,k)&&((O=M?Object.getOwnPropertyDescriptor(w,k):null)&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=w[k])}return E.default=w,x&&x.set(w,E),E}(e("../constants"));function m(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,m=function(){return w},w)}var y=null,a=[],u=[],i=!1,h=!1,p=!1,g=!1,v=!0,b=(s.default.prototype.beginContour=function(){return u=[],g=!0,this},s.default.prototype.beginShape=function(w){var x;return s.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(x=this._renderer).beginShape.apply(x,arguments):(y=w===c.POINTS||w===c.LINES||w===c.TRIANGLES||w===c.TRIANGLE_FAN||w===c.TRIANGLE_STRIP||w===c.QUADS||w===c.QUAD_STRIP?w:null,a=[],u=[]),this},s.default.prototype.bezierVertex=function(){for(var w,x=arguments.length,k=new Array(x),E=0;E<x;E++)k[E]=arguments[E];if(s.default._validateParameters("bezierVertex",k),this._renderer.isP3D)(w=this._renderer).bezierVertex.apply(w,k);else if(a.length===0)s.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{i=!0;for(var M=[],O=0;O<k.length;O++)M[O]=k[O];M.isVert=!1,(g?u:a).push(M)}return this},s.default.prototype.curveVertex=function(){for(var w,x=arguments.length,k=new Array(x),E=0;E<x;E++)k[E]=arguments[E];return s.default._validateParameters("curveVertex",k),this._renderer.isP3D?(w=this._renderer).curveVertex.apply(w,k):(h=!0,this.vertex(k[0],k[1])),this},s.default.prototype.endContour=function(){var w=u[0].slice();w.isVert=u[0].isVert,w.moveTo=!1,u.push(w),v&&(a.push(a[0]),v=!1);for(var x=0;x<u.length;x++)a.push(u[x]);return this},s.default.prototype.endShape=function(w){if(s.default._validateParameters("endShape",arguments),this._renderer.isP3D)this._renderer.endShape(w,h,i,p,g,y);else{if(a.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;var x=w===c.CLOSE;x&&!g&&a.push(a[0]),this._renderer.endShape(w,a,h,i,p,g,y),v=!(g=p=i=h=!1),x&&a.pop()}return this},s.default.prototype.quadraticVertex=function(){for(var w,x=arguments.length,k=new Array(x),E=0;E<x;E++)k[E]=arguments[E];if(s.default._validateParameters("quadraticVertex",k),this._renderer.isP3D)(w=this._renderer).quadraticVertex.apply(w,k);else{if(this._contourInited)return(w={}).x=k[0],w.y=k[1],w.x3=k[2],w.y3=k[3],w.type=c.QUADRATIC,this._contourVertices.push(w),this;if(0<a.length){p=!0;for(var M=[],O=0;O<k.length;O++)M[O]=k[O];M.isVert=!1,(g?u:a).push(M)}else s.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},s.default.prototype.vertex=function(w,x,k,E,M){var O;return this._renderer.isP3D?(O=this._renderer).vertex.apply(O,arguments):((O=[]).isVert=!0,O[0]=w,O[1]=x,O[2]=0,O[3]=0,O[4]=0,O[5]=this._renderer._getFill(),O[6]=this._renderer._getStroke(),k&&(O.moveTo=k),(g?(u.length===0&&(O.moveTo=!0),u):a).push(O)),this},s.default.prototype.normal=function(w,x,k){var E;return this._assert3d("normal"),s.default._validateParameters("normal",arguments),(E=this._renderer).normal.apply(E,arguments),this},s.default);f.default=b},{"../constants":256,"../main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],278:[function(e,d,f){function l(y){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(y)}function o(y){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(a){return l(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)})(y)}var s,c,m;e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(y,a){window.setTimeout(y,1e3/60)},typeof Uint8ClampedArray>"u"||Uint8ClampedArray.prototype.slice||Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:!0,configurable:!0,enumerable:!1}),Object.assign||(s=Object.keys,e=Object.defineProperty,c=typeof Symbol=="function"&&o(Symbol())==="symbol",m=Object.prototype.propertyIsEnumerable,e(Object,"assign",{value:function(y,a){if(y==null)throw new TypeError("target must be an object");for(var u,i,h,p=Object(y),g=1;g<arguments.length;++g)for(u=Object(arguments[g]),h=s(u),c&&Object.getOwnPropertySymbols&&h.push.apply(h,Object.getOwnPropertySymbols(u).filter(function(v){return function(b){return m.call(v,b)}}(u))),i=0;i<h.length;++i)p[h[i]]=u[h[i]];return p},configurable:!0,enumerable:!1,writable:!0}))},{"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/web.dom-collections.iterator":230}],279:[function(e,d,f){e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.object.assign"),e("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("./main"))&&e.__esModule?e:{default:e},e.default.prototype.noLoop=function(){this._loop=!1},e.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},e.default.prototype.isLooping=function(){return this._loop},e.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},e.default.prototype.pop=function(){var l=this._styles.pop();l?(this._renderer.pop(l.renderer),Object.assign(this,l.props)):console.warn("pop() was called without matching push()")},e.default.prototype.redraw=function(l){if(!this._inUserDraw&&this._setupDone){var o=parseInt(l),s=((isNaN(o)||o<1)&&(o=1),this._isGlobal?window:this);if(typeof s.draw=="function"){s.setup===void 0&&s.scale(s._pixelDensity,s._pixelDensity);for(var c=function(y){y.call(s)},m=0;m<o;m++){s.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),s._renderer.isP3D&&s._renderer._update(),s._setProperty("frameCount",s.frameCount+1),s._registeredMethods.pre.forEach(c),this._inUserDraw=!0;try{s.draw()}finally{this._inUserDraw=!1}s._registeredMethods.post.forEach(c)}}}},e=e.default,f.default=e},{"./main":267,"core-js/modules/es.array.for-each":154,"core-js/modules/es.object.assign":172,"core-js/modules/web.dom-collections.for-each":229}],280:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-prototype-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("./main"))&&e.__esModule?e:{default:e};function o(s){return function(c){if(Array.isArray(c)){for(var m=0,y=new Array(c.length);m<c.length;m++)y[m]=c[m];return y}}(s)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(s)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.applyMatrix=function(){var s=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments[0])||s?(s=this._renderer).applyMatrix.apply(s,o(arguments[0])):(s=this._renderer).applyMatrix.apply(s,arguments),this},l.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},l.default.prototype.rotate=function(s,c){return l.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(s),c),this},l.default.prototype.rotateX=function(s){return this._assert3d("rotateX"),l.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(s)),this},l.default.prototype.rotateY=function(s){return this._assert3d("rotateY"),l.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(s)),this},l.default.prototype.rotateZ=function(s){return this._assert3d("rotateZ"),l.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(s)),this},l.default.prototype.scale=function(s,c,m){var y;return l.default._validateParameters("scale",arguments),s instanceof l.default.Vector?(s=(y=s).x,c=y.y,m=y.z):s instanceof Array&&(s=(y=s)[0],c=y[1],m=y[2]||1),isNaN(c)?c=m=s:isNaN(m)&&(m=1),this._renderer.scale.call(this._renderer,s,c,m),this},l.default.prototype.shearX=function(s){return l.default._validateParameters("shearX",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,0,Math.tan(s),1,0,0),this},l.default.prototype.shearY=function(s){return l.default._validateParameters("shearY",arguments),s=this._toRadians(s),this._renderer.applyMatrix(1,Math.tan(s),0,1,0,0),this},l.default.prototype.translate=function(s,c,m){return l.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(s,c,m):this._renderer.translate(s,c),this},e=l.default,f.default=e},{"./main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-prototype-of":175,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230}],281:[function(e,d,f){function l(m){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(m)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.ends-with"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator");var o=(e=e("../core/main"))&&e.__esModule?e:{default:e};function s(m){return function(y){if(Array.isArray(y)){for(var a=0,u=new Array(y.length);a<y.length;a++)u[a]=y[a];return u}}(m)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(m){return(c=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(y){return l(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":l(y)})(m)}o.default.prototype.storeItem=function(m,y){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var a=c(y);switch(a){case"number":case"boolean":y=y.toString();break;case"object":y instanceof o.default.Color?a="p5.Color":y instanceof o.default.Vector&&(a="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(m,y),m="".concat(m,"p5TypeID"),localStorage.setItem(m,a)},o.default.prototype.getItem=function(m){var y=localStorage.getItem(m),a=localStorage.getItem("".concat(m,"p5TypeID"));if(a===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(a){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,s(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,s(y))}return y},o.default.prototype.clearStorage=function(){localStorage.clear()},o.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":267,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.ends-with":184,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],282:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.string.sub"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.createStringDict=function(o,s){return l.default._validateParameters("createStringDict",arguments),new l.default.StringDict(o,s)},l.default.prototype.createNumberDict=function(o,s){return l.default._validateParameters("createNumberDict",arguments),new l.default.NumberDict(o,s)},l.default.TypedDict=function(o,s){return o instanceof Object?this.data=o:(this.data={},this.data[o]=s),this},l.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length},l.default.TypedDict.prototype.hasKey=function(o){return this.data.hasOwnProperty(o)},l.default.TypedDict.prototype.get=function(o){if(this.data.hasOwnProperty(o))return this.data[o];console.log("".concat(o," does not exist in this Dictionary"))},l.default.TypedDict.prototype.set=function(o,s){this._validate(s)?this.data[o]=s:console.log("Those values dont work for this dictionary type.")},l.default.TypedDict.prototype._addObj=function(o){for(var s in o)this.set(s,o[s])},l.default.TypedDict.prototype.create=function(o,s){o instanceof Object&&s===void 0?this._addObj(o):o!==void 0?this.set(o,s):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")},l.default.TypedDict.prototype.clear=function(){this.data={}},l.default.TypedDict.prototype.remove=function(o){if(!this.data.hasOwnProperty(o))throw new Error("".concat(o," does not exist in this Dictionary"));delete this.data[o]},l.default.TypedDict.prototype.print=function(){for(var o in this.data)console.log("key:".concat(o," value:").concat(this.data[o]))},l.default.TypedDict.prototype.saveTable=function(o){var s,c="";for(s in this.data)c+="".concat(s,",").concat(this.data[s],`
`);var m=new Blob([c],{type:"text/csv"});l.default.prototype.downloadFile(m,o||"mycsv","csv")},l.default.TypedDict.prototype.saveJSON=function(o,s){l.default.prototype.saveJSON(this.data,o,s)},l.default.TypedDict.prototype._validate=function(o){return!0},l.default.StringDict=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];l.default.TypedDict.apply(this,s)},l.default.StringDict.prototype=Object.create(l.default.TypedDict.prototype),l.default.StringDict.prototype._validate=function(o){return typeof o=="string"},l.default.NumberDict=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];l.default.TypedDict.apply(this,s)},l.default.NumberDict.prototype=Object.create(l.default.TypedDict.prototype),l.default.NumberDict.prototype._validate=function(o){return typeof o=="number"},l.default.NumberDict.prototype.add=function(o,s){this.data.hasOwnProperty(o)?this.data[o]+=s:console.log("The key - ".concat(o," does not exist in this dictionary."))},l.default.NumberDict.prototype.sub=function(o,s){this.add(o,-s)},l.default.NumberDict.prototype.mult=function(o,s){this.data.hasOwnProperty(o)?this.data[o]*=s:console.log("The key - ".concat(o," does not exist in this dictionary."))},l.default.NumberDict.prototype.div=function(o,s){this.data.hasOwnProperty(o)?this.data[o]/=s:console.log("The key - ".concat(o," does not exist in this dictionary."))},l.default.NumberDict.prototype._valueTest=function(o){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var s,c=this.data[Object.keys(this.data)[0]];for(s in this.data)this.data[s]*o<c*o&&(c=this.data[s]);return c},l.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)},l.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)},l.default.NumberDict.prototype._keyTest=function(o){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var s=Object.keys(this.data)[0],c=1;c<Object.keys(this.data).length;c++)Object.keys(this.data)[c]*o<s*o&&(s=Object.keys(this.data)[c]);return s},l.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)},l.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)},e=l.default.TypedDict,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.object.keys":176,"core-js/modules/es.string.sub":192}],283:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.for-each"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/web.dom-collections.for-each"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var o=(e=e("../core/main"))&&e.__esModule?e:{default:e};function s(a){return(s=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}function c(a,u,i){return(u._userNode||document.body).appendChild(a),i=new(i?o.default.MediaElement:o.default.Element)(a,u),u._elements.push(i),i}function m(a,v,i,h){var p=document.createElement(v),g=(typeof(i=i||"")=="string"&&(i=[i]),!0),v=!1,b=void 0;try{for(var w,x=i[Symbol.iterator]();!(g=(w=x.next()).done);g=!0){var k=w.value,E=document.createElement("source");E.setAttribute("src",k),p.appendChild(E)}}catch(O){v=!0,b=O}finally{try{g||x.return==null||x.return()}finally{if(v)throw b}}typeof h=="function"&&p.addEventListener("canplaythrough",function O(){h(),p.removeEventListener("canplaythrough",O)});var M=c(p,a,!0);return M.loadedmetadata=!1,p.addEventListener("loadedmetadata",function(){M.width=p.videoWidth,M.height=p.videoHeight,M.elt.width===0&&(M.elt.width=p.videoWidth),M.elt.height===0&&(M.elt.height=p.videoHeight),M.presetPlaybackRate&&(M.elt.playbackRate=M.presetPlaybackRate,delete M.presetPlaybackRate),M.loadedmetadata=!0}),M}o.default.prototype.select=function(a,u){return o.default._validateParameters("select",arguments),u=this._getContainer(u).querySelector(a),u?this._wrapElement(u):null},o.default.prototype.selectAll=function(a,u){o.default._validateParameters("selectAll",arguments);var i=[],h=this._getContainer(u).querySelectorAll(a);if(h)for(var p=0;p<h.length;p++){var g=this._wrapElement(h[p]);i.push(g)}return i},o.default.prototype._getContainer=function(a){var u=document;return typeof a=="string"?u=document.querySelector(a)||document:a instanceof o.default.Element?u=a.elt:a instanceof HTMLElement&&(u=a),u},o.default.prototype._wrapElement=function(a){var u,i=Array.prototype.slice.call(a.children);return a.tagName==="INPUT"&&a.type==="checkbox"?((u=new o.default.Element(a,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!!arguments[0],this)},u):a.tagName==="VIDEO"||a.tagName==="AUDIO"?new o.default.MediaElement(a,this):a.tagName==="SELECT"?this.createSelect(new o.default.Element(a,this)):0<i.length&&i.every(function(h){return h.tagName==="INPUT"||h.tagName==="LABEL"})?this.createRadio(new o.default.Element(a,this)):new o.default.Element(a,this)},o.default.prototype.removeElements=function(a){o.default._validateParameters("removeElements",arguments),this._elements.filter(function(u){return!(u.elt instanceof HTMLCanvasElement)}).map(function(u){return u.remove()})},o.default.Element.prototype.changed=function(a){return o.default.Element._adjustListener("change",a,this),this},o.default.Element.prototype.input=function(a){return o.default.Element._adjustListener("input",a,this),this},o.default.prototype.createDiv=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=document.createElement("div");return u.innerHTML=a,c(u,this)},o.default.prototype.createP=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=document.createElement("p");return u.innerHTML=a,c(u,this)},o.default.prototype.createSpan=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=document.createElement("span");return u.innerHTML=a,c(u,this)},o.default.prototype.createImg=function(){o.default._validateParameters("createImg",arguments);var a,u=document.createElement("img"),i=arguments;return 1<i.length&&typeof i[1]=="string"&&(u.alt=i[1]),2<i.length&&typeof i[2]=="string"&&(u.crossOrigin=i[2]),u.src=i[0],a=c(u,this),u.addEventListener("load",function(){a.width=u.offsetWidth||u.width,a.height=u.offsetHeight||u.height;var h=i[i.length-1];typeof h=="function"&&h(a)}),a},o.default.prototype.createA=function(a,u,i){o.default._validateParameters("createA",arguments);var h=document.createElement("a");return h.href=a,h.innerHTML=u,i&&(h.target=i),c(h,this)},o.default.prototype.createSlider=function(a,u,i,h){o.default._validateParameters("createSlider",arguments);var p=document.createElement("input");return p.type="range",p.min=a,p.max=u,h===0?p.step=1e-18:h&&(p.step=h),typeof i=="number"&&(p.value=i),c(p,this)},o.default.prototype.createButton=function(a,u){o.default._validateParameters("createButton",arguments);var i=document.createElement("button");return i.innerHTML=a,u&&(i.value=u),c(i,this)},o.default.prototype.createCheckbox=function(){o.default._validateParameters("createCheckbox",arguments);var a=document.createElement("div"),u=document.createElement("input"),i=(u.type="checkbox",document.createElement("label")),h=(i.appendChild(u),a.appendChild(i),c(a,this));return h.checked=function(){var p=h.elt.firstElementChild.getElementsByTagName("input")[0];if(p){if(arguments.length===0)return p.checked;p.checked=!!arguments[0]}return h},this.value=function(p){return h.value=p,this},arguments[0]&&(h.value(arguments[0]),(a=document.createElement("span")).innerHTML=arguments[0],i.appendChild(a)),arguments[1]&&(u.checked=!0),h},o.default.prototype.createSelect=function(){o.default._validateParameters("createSelect",arguments);var a,u,i=arguments[0];return i instanceof o.default.Element&&i.elt instanceof HTMLSelectElement?this.elt=(a=i).elt:i instanceof HTMLSelectElement?(a=c(i,this),this.elt=i):(u=document.createElement("select"),i&&typeof i=="boolean"&&u.setAttribute("multiple","true"),a=c(u,this),this.elt=u),a.option=function(h,p){var g;if(h!==void 0){for(var v,b=0;b<this.elt.length;b+=1)if(this.elt[b].textContent===h){g=b;break}g!==void 0?p===!1?this.elt.remove(g):this.elt[g].value=p:((v=document.createElement("option")).textContent=h,v.value=p===void 0?h:p,this.elt.appendChild(v),this._pInst._elements.push(v))}},a.selected=function(h){if(h!==void 0){for(var p=0;p<this.elt.length;p+=1)this.elt[p].value.toString()===h.toString()&&(this.elt.selectedIndex=p);return this}if(this.elt.getAttribute("multiple")){var g=[],v=!0,b=!1,w=void 0;try{for(var x,k=this.elt.selectedOptions[Symbol.iterator]();!(v=(x=k.next()).done);v=!0){var E=x.value;g.push(E.value)}}catch(M){b=!0,w=M}finally{try{v||k.return==null||k.return()}finally{if(b)throw w}}return g}return this.elt.value},a.disable=function(h){if(typeof h=="string")for(var p=0;p<this.elt.length;p++)this.elt[p].value.toString()===h&&(this.elt[p].disabled=!0,this.elt[p].selected=!1);else this.elt.disabled=!0;return this},a},o.default.prototype.createRadio=function(){function a(v){return v instanceof HTMLInputElement&&v.type==="radio"}function u(v){return v instanceof HTMLLabelElement}var i,h,p,g=arguments[0];return g instanceof o.default.Element&&(g.elt instanceof HTMLDivElement||g.elt instanceof HTMLSpanElement)?(i=g,this.elt=g.elt):g instanceof HTMLDivElement||g instanceof HTMLSpanElement?(i=c(g,this),h=this.elt=g,typeof arguments[1]=="string"&&(p=arguments[1])):(typeof g=="string"&&(p=g),h=document.createElement("div"),i=c(h,this),this.elt=h),i._name=p||"radioOption",i._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(v){return a(v)||u(v)&&a(v.firstElementChild)}).map(function(v){return a(v)?v:v.firstElementChild})},i.option=function(v,b){var w,x,k,E=!0,M=!1,O=void 0;try{for(var P,D=i._getOptionsArray()[Symbol.iterator]();!(E=(P=D.next()).done);E=!0){var U=P.value;if(U.value===v){w=U;break}}}catch(z){M=!0,O=z}finally{try{E||D.return==null||D.return()}finally{if(M)throw O}}return w===void 0&&((w=document.createElement("input")).setAttribute("type","radio"),w.setAttribute("value",v)),w.setAttribute("name",i._name),u(w.parentElement)?x=w.parentElement:(x=document.createElement("label")).insertAdjacentElement("afterbegin",w),x.lastElementChild instanceof HTMLSpanElement?k=x.lastElementChild:(k=document.createElement("span"),w.insertAdjacentElement("afterend",k)),k.innerHTML=b===void 0?v:b,this.elt.appendChild(x),w},i.remove=function(v){var b=!0,w=!1,x=void 0;try{for(var k,E=i._getOptionsArray()[Symbol.iterator]();!(b=(k=E.next()).done);b=!0){var M=k.value;if(M.value===v)return void(u(M.parentElement)?M.parentElement:M).remove()}}catch(O){w=!0,x=O}finally{try{b||E.return==null||E.return()}finally{if(w)throw x}}},i.value=function(){var v="",b=!0,w=!1,x=void 0;try{for(var k,E=i._getOptionsArray()[Symbol.iterator]();!(b=(k=E.next()).done);b=!0){var M=k.value;if(M.checked){v=M.value;break}}}catch(O){w=!0,x=O}finally{try{b||E.return==null||E.return()}finally{if(w)throw x}}return v},i.selected=function(v){var b=null;if(v===void 0){var w=!0,x=!1,k=void 0;try{for(var E,M=i._getOptionsArray()[Symbol.iterator]();!(w=(E=M.next()).done);w=!0){var O=E.value;if(O.checked){b=O;break}}}catch(V){x=!0,k=V}finally{try{w||M.return==null||M.return()}finally{if(x)throw k}}}else{i._getOptionsArray().forEach(function(re){re.checked=!1,re.removeAttribute("checked")});var P=!0,x=!1,k=void 0;try{for(var D,U=i._getOptionsArray()[Symbol.iterator]();!(P=(D=U.next()).done);P=!0){var z=D.value;z.value===v&&(z.setAttribute("checked",!0),z.checked=!0,b=z)}}catch(re){x=!0,k=re}finally{try{P||U.return==null||U.return()}finally{if(x)throw k}}}return b},i.disable=function(){var v=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],b=!0,w=!1,x=void 0;try{for(var k,E=i._getOptionsArray()[Symbol.iterator]();!(b=(k=E.next()).done);b=!0)k.value.setAttribute("disabled",v)}catch(M){w=!0,x=M}finally{try{b||E.return==null||E.return()}finally{if(w)throw x}}},i},o.default.prototype.createColorPicker=function(a){o.default._validateParameters("createColorPicker",arguments);var u=document.createElement("input");return u.type="color",a?a instanceof o.default.Color?u.value=a.toString("#rrggbb"):(o.default.prototype._colorMode="rgb",o.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},u.value=o.default.prototype.color(a).toString("#rrggbb")):u.value="#000000",(u=c(u,this)).color=function(){return a&&(a.mode&&(o.default.prototype._colorMode=a.mode),a.maxes&&(o.default.prototype._colorMaxes=a.maxes)),o.default.prototype.color(this.elt.value)},u},o.default.prototype.createInput=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",i=(o.default._validateParameters("createInput",arguments),document.createElement("input"));return i.setAttribute("value",a),i.setAttribute("type",u),c(i,this)},o.default.prototype.createFileInput=function(a){var u,i=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(o.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(u=document.createElement("input")).setAttribute("type","file"),i&&u.setAttribute("multiple",!0),u.addEventListener("change",function(h){var p=!0,g=!1,v=void 0;try{for(var b,w=h.target.files[Symbol.iterator]();!(p=(b=w.next()).done);p=!0){var x=b.value;o.default.File._load(x,a)}}catch(k){g=!0,v=k}finally{try{p||w.return==null||w.return()}finally{if(g)throw v}}},!1),c(u,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},o.default.prototype.createVideo=function(a,u){return o.default._validateParameters("createVideo",arguments),m(this,"video",a,u)},o.default.prototype.createAudio=function(a,u){return o.default._validateParameters("createAudio",arguments),m(this,"audio",a,u)},o.default.prototype.VIDEO="video",o.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(a){var u=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return u?new Promise(function(i,h){u.call(navigator,a,i,h)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),o.default.prototype.createCapture=function(){if(o.default._validateParameters("createCapture",arguments),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");var a,u=!0,i=!0,h=!0,p=!1,g=void 0;try{for(var v,b=arguments[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var w=v.value;w===o.default.prototype.VIDEO?i=!1:w===o.default.prototype.AUDIO?u=!1:s(w)==="object"?x=w:typeof w=="function"&&(a=w)}}catch(M){p=!0,g=M}finally{try{h||b.return==null||b.return()}finally{if(p)throw g}}var x=x||{video:u,audio:i},k=document.createElement("video"),E=(k.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(x).then(function(M){try{"srcObject"in k?k.srcObject=M:k.src=window.URL.createObjectURL(M)}catch{k.src=M}},console.log),c(k,this,!0));return E.loadedmetadata=!1,k.addEventListener("loadedmetadata",function(){k.play(),k.width?(E.width=k.width,E.height=k.height):(E.width=E.elt.width=k.videoWidth,E.height=E.elt.height=k.videoHeight),E.loadedmetadata=!0,a&&a(k.srcObject)}),E},o.default.prototype.createElement=function(a,u){return o.default._validateParameters("createElement",arguments),a=document.createElement(a),u!==void 0&&(a.innerHTML=u),c(a,this)},o.default.Element.prototype.addClass=function(a){return this.elt.className?this.hasClass(a)||(this.elt.className=this.elt.className+" "+a):this.elt.className=a,this},o.default.Element.prototype.removeClass=function(a){return this.elt.classList.remove(a),this},o.default.Element.prototype.hasClass=function(a){return this.elt.classList.contains(a)},o.default.Element.prototype.toggleClass=function(a){return this.elt.classList.contains(a)?this.elt.classList.remove(a):this.elt.classList.add(a),this},o.default.Element.prototype.child=function(a){return a===void 0?this.elt.childNodes:(typeof a=="string"?(a[0]==="#"&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof o.default.Element&&(a=a.elt),a instanceof HTMLElement&&this.elt.appendChild(a),this)},o.default.Element.prototype.center=function(a){var u=this.elt.style.display,i=this.elt.style.display==="none",h=this.parent().style.display==="none",p={x:this.elt.offsetLeft,y:this.elt.offsetTop},g=(i&&this.show(),h&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),v=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return a==="both"||a===void 0?this.position(g/2+this.parent().offsetLeft,v/2+this.parent().offsetTop):a==="horizontal"?this.position(g/2+this.parent().offsetLeft,p.y):a==="vertical"&&this.position(p.x,v/2+this.parent().offsetTop),this.style("display",u),i&&this.hide(),h&&this.parent().hide(),this},o.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments[1]?this.elt.insertAdjacentHTML("beforeend",arguments[0]):this.elt.innerHTML=arguments[0],this)},o.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=arguments[2]!=="static"&&arguments[2]!=="fixed"&&arguments[2]!=="relative"&&arguments[2]!=="sticky"&&arguments[2]!=="initial"&&arguments[2]!=="inherit"?"absolute":arguments[2],this.elt.style.left=arguments[0]+"px",this.elt.style.top=arguments[1]+"px",this.x=arguments[0],this.y=arguments[1],this)},o.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":arguments[3]+"px"),this.elt.style.transform+=a,this},o.default.Element.prototype._rotate=function(){var a="";return this.elt.style.transform&&(a=(a=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+arguments[0]+"deg)":arguments.length===2?this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+arguments[0]+"deg)",this.elt.style.transform+="rotateY("+arguments[1]+"deg)",this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"),this.elt.style.transform+=a,this},o.default.Element.prototype.style=function(a,u){if((u=u instanceof o.default.Color?"rgba("+u.levels[0]+","+u.levels[1]+","+u.levels[2]+","+u.levels[3]/255+")":u)===void 0){if(a.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(a);for(var i=a.split(";"),h=0;h<i.length;h++){var p=i[h].split(":");p[0]&&p[1]&&(this.elt.style[p[0].trim()]=p[1].trim())}}else this.elt.style[a]=u,a!=="width"&&a!=="height"&&a!=="left"&&a!=="top"||(u=window.getComputedStyle(this.elt).getPropertyValue(a).replace(/[^\d.]/g,""),this[a]=Math.round(parseFloat(u,10)));return this},o.default.Element.prototype.attribute=function(a,u){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return u===void 0?this.elt.getAttribute(a):(this.elt.setAttribute(a,u),this);if(u===void 0)return this.elt.firstChild.getAttribute(a);for(var i=0;i<this.elt.childNodes.length;i++)this.elt.childNodes[i].setAttribute(a,u)},o.default.Element.prototype.removeAttribute=function(a){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var u=0;u<this.elt.childNodes.length;u++)this.elt.childNodes[u].removeAttribute(a);return this.elt.removeAttribute(a),this},o.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},o.default.Element.prototype.show=function(){return this.elt.style.display="block",this},o.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},o.default.Element.prototype.size=function(a,u){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var i=a,h=u,p=o.default.prototype.AUTO;if(i!==p||h!==p){if(i===p?i=u*this.width/this.height:h===p&&(h=a*this.height/this.width),this.elt instanceof HTMLCanvasElement){var g,v={},b=this.elt.getContext("2d");for(g in b)v[g]=b[g];for(g in this.elt.setAttribute("width",i*this._pInst._pixelDensity),this.elt.setAttribute("height",h*this._pInst._pixelDensity),this.elt.style.width=i+"px",this.elt.style.height=h+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),v)this.elt.getContext("2d")[g]=v[g]}else this.elt.style.width=i+"px",this.elt.style.height=h+"px",this.elt.width=i,this.elt.height=h;this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",this.elt.offsetWidth),this._pInst._setProperty("height",this.elt.offsetHeight))}return this},o.default.Element.prototype.remove=function(){this instanceof o.default.MediaElement&&(this.stop(),(u=this.elt.srcObject)!==null&&u.getTracks().forEach(function(i){i.stop()}));var a,u=this._pInst._elements.indexOf(this);for(a in u!==-1&&this._pInst._elements.splice(u,1),this._events)this.elt.removeEventListener(a,this._events[a]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},o.default.Element.prototype.drop=function(a,u){var i;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",i=function(h){h.preventDefault()}),this.elt.addEventListener("dragleave",i)),o.default.Element._attachListener("drop",function(h){h.preventDefault(),typeof u=="function"&&u.call(this,h);for(var p=h.dataTransfer.files,g=0;g<p.length;g++){var v=p[g];o.default.File._load(v,a)}},this)):console.log("The File APIs are not fully supported in this browser."),this},o.default.MediaElement=function(a,u){o.default.Element.call(this,a,u);var i=this;this.elt.crossOrigin="anonymous",this._prevTime=0,this._cueIDCounter=0,this._cues=[],(this._pixelsState=this)._pixelDensity=1,this._modified=!1,Object.defineProperty(i,"src",{get:function(){var h=i.elt.children[0].src,p=i.elt.src===window.location.href?"":i.elt.src;return h===window.location.href?p:h},set:function(h){for(var p=0;p<i.elt.children.length;p++)i.elt.removeChild(i.elt.children[p]);var g=document.createElement("source");g.src=h,a.appendChild(g),i.elt.src=h,i.modified=!0}}),i._onended=function(){},i.elt.onended=function(){i._onended(i)}},o.default.MediaElement.prototype=Object.create(o.default.Element.prototype),o.default.MediaElement.prototype.play=function(){var a,u=this;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(a=this.elt.play())&&a.catch&&a.catch(function(i){i.name==="NotAllowedError"?o.default._friendlyAutoplayError(u.src):console.error("Media play method encountered an unexpected error",i)}),this},o.default.MediaElement.prototype.stop=function(){return this.elt.pause(),this.elt.currentTime=0,this},o.default.MediaElement.prototype.pause=function(){return this.elt.pause(),this},o.default.MediaElement.prototype.loop=function(){return this.elt.setAttribute("loop",!0),this.play(),this},o.default.MediaElement.prototype.noLoop=function(){return this.elt.removeAttribute("loop"),this},o.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var a=this,u=setTimeout(function(){return o.default._friendlyAutoplayError(a.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(u)},{passive:!0,once:!0})},o.default.MediaElement.prototype.autoplay=function(a){var u=this,i=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",a),a&&!i&&(a=function(){return u._setupAutoplayFailDetection()},this.elt.readyState===4?a():this.elt.addEventListener("canplay",a,{passive:!0,once:!0})),this},o.default.MediaElement.prototype.volume=function(a){if(a===void 0)return this.elt.volume;this.elt.volume=a},o.default.MediaElement.prototype.speed=function(a){if(a===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=a:this.presetPlaybackRate=a},o.default.MediaElement.prototype.time=function(a){return a===void 0?this.elt.currentTime:(this.elt.currentTime=a,this)},o.default.MediaElement.prototype.duration=function(){return this.elt.duration},o.default.MediaElement.prototype.pixels=[],o.default.MediaElement.prototype._ensureCanvas=function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0)),this.loadedmetadata&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.setModified(!0))},o.default.MediaElement.prototype.loadPixels=function(){return this._ensureCanvas(),o.default.Renderer2D.prototype.loadPixels.apply(this,arguments)},o.default.MediaElement.prototype.updatePixels=function(a,u,i,h){return this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.updatePixels.call(this,a,u,i,h)),this.setModified(!0),this},o.default.MediaElement.prototype.get=function(){return this._ensureCanvas(),o.default.Renderer2D.prototype.get.apply(this,arguments)},o.default.MediaElement.prototype._getPixel=function(){return this.loadPixels(),o.default.Renderer2D.prototype._getPixel.apply(this,arguments)},o.default.MediaElement.prototype.set=function(a,u,i){this.loadedmetadata&&(this._ensureCanvas(),o.default.Renderer2D.prototype.set.call(this,a,u,i),this.setModified(!0))},o.default.MediaElement.prototype.copy=function(){this._ensureCanvas(),o.default.prototype.copy.apply(this,arguments)},o.default.MediaElement.prototype.mask=function(){this.loadPixels(),this.setModified(!0),o.default.Image.prototype.mask.apply(this,arguments)},o.default.MediaElement.prototype.isModified=function(){return this._modified},o.default.MediaElement.prototype.setModified=function(a){this._modified=a},o.default.MediaElement.prototype.onended=function(a){return this._onended=a,this},o.default.MediaElement.prototype.connect=function(a){var u,i;if(typeof o.default.prototype.getAudioContext=="function")u=o.default.prototype.getAudioContext(),i=o.default.soundOut.input;else try{i=(u=a.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=u.createMediaElementSource(this.elt),this.audioSourceNode.connect(i)),a?a.input?this.audioSourceNode.connect(a.input):this.audioSourceNode.connect(a):this.audioSourceNode.connect(i)},o.default.MediaElement.prototype.disconnect=function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()},o.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0},o.default.MediaElement.prototype.hideControls=function(){this.elt.controls=!1};function y(a,u,i,h){this.callback=a,this.time=u,this.id=i,this.val=h}o.default.MediaElement.prototype.addCue=function(a,p,i){var h=this._cueIDCounter++,p=new y(p,a,h,i);return this._cues.push(p),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),h},o.default.MediaElement.prototype.removeCue=function(a){for(var u=0;u<this._cues.length;u++)this._cues[u].id===a&&(console.log(a),this._cues.splice(u,1));this._cues.length===0&&(this.elt.ontimeupdate=null)},o.default.MediaElement.prototype.clearCues=function(){this._cues=[],this.elt.ontimeupdate=null},o.default.MediaElement.prototype._onTimeUpdate=function(){for(var a=this.time(),u=0;u<this._cues.length;u++){var i=this._cues[u].time,h=this._cues[u].val;this._prevTime<i&&i<=a&&this._cues[u].callback(h)}this._prevTime=a},o.default.File=function(a,u){this.file=a,this._pInst=u,u=a.type.split("/"),this.type=u[0],this.subtype=u[1],this.name=a.name,this.size=a.size,this.data=void 0},o.default.File._createLoader=function(a,u){var i=new FileReader;return i.onload=function(h){var p,g=new o.default.File(a);g.file.type==="application/json"?g.data=JSON.parse(h.target.result):g.file.type==="text/xml"?(p=new DOMParser().parseFromString(h.target.result,"text/xml"),g.data=new o.default.XML(p.documentElement)):g.data=h.target.result,u(g)},i},o.default.File._load=function(a,u){var i;/^text\//.test(a.type)||a.type==="application/json"?o.default.File._createLoader(a,u).readAsText(a):/^(video|audio)\//.test(a.type)?((i=new o.default.File(a)).data=URL.createObjectURL(a),u(i)):o.default.File._createLoader(a,u).readAsDataURL(a)},e=o.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.every":151,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.for-each":154,"core-js/modules/es.array.from":155,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.for-each":229,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232}],284:[function(e,d,f){function l(w){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(w)}function o(w){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(x){return l(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":l(x)})(w)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(b=e("../core/main"))&&b.__esModule?b:{default:b},c=function(w){if(w&&w.__esModule)return w;if(w===null||o(w)!=="object"&&typeof w!="function")return{default:w};var x=m();if(x&&x.has(w))return x.get(w);var k,E={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(k in w){var O;Object.prototype.hasOwnProperty.call(w,k)&&((O=M?Object.getOwnPropertyDescriptor(w,k):null)&&(O.get||O.set)?Object.defineProperty(E,k,O):E[k]=w[k])}return E.default=w,x&&x.set(w,E),E}(e("../core/constants"));function m(){var w;return typeof WeakMap!="function"?null:(w=new WeakMap,m=function(){return w},w)}s.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",s.default.prototype.accelerationX=0,s.default.prototype.accelerationY=0,s.default.prototype.accelerationZ=0,s.default.prototype.pAccelerationX=0,s.default.prototype.pAccelerationY=0,s.default.prototype.pAccelerationZ=0,s.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},s.default.prototype.rotationX=0,s.default.prototype.rotationY=0,s.default.prototype.rotationZ=0,s.default.prototype.pRotationX=0,s.default.prototype.pRotationY=0;var y=s.default.prototype.pRotationZ=0,a=0,u=0,i="clockwise",h="clockwise",p="clockwise",g=(s.default.prototype.pRotateDirectionX=void 0,s.default.prototype.pRotateDirectionY=void 0,s.default.prototype.pRotateDirectionZ=void 0,s.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},s.default.prototype.turnAxis=void 0,.5),v=30,b=(s.default.prototype.setMoveThreshold=function(w){s.default._validateParameters("setMoveThreshold",arguments),g=w},s.default.prototype.setShakeThreshold=function(w){s.default._validateParameters("setShakeThreshold",arguments),v=w},s.default.prototype._ondeviceorientation=function(w){this._updatePRotations(),this._angleMode===c.radians&&(w.beta=w.beta*(_PI/180),w.gamma=w.gamma*(_PI/180),w.alpha=w.alpha*(_PI/180)),this._setProperty("rotationX",w.beta),this._setProperty("rotationY",w.gamma),this._setProperty("rotationZ",w.alpha),this._handleMotion()},s.default.prototype._ondevicemotion=function(w){this._updatePAccelerations(),this._setProperty("accelerationX",2*w.acceleration.x),this._setProperty("accelerationY",2*w.acceleration.y),this._setProperty("accelerationZ",2*w.acceleration.z),this._handleMotion()},s.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var w,x,k,E,M,O=this._isGlobal?window:this;typeof O.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>g||Math.abs(this.accelerationY-this.pAccelerationY)>g||Math.abs(this.accelerationZ-this.pAccelerationZ)>g)&&O.deviceMoved(),typeof O.deviceTurned=="function"&&(x=this.rotationX+180,w=this.pRotationX+180,k=y+180,0<x-w&&x-w<270||x-w<-270?i="clockwise":(x-w<0||270<x-w)&&(i="counter-clockwise"),i!==this.pRotateDirectionX&&(k=x),90<Math.abs(x-k)&&Math.abs(x-k)<270&&(k=x,this._setProperty("turnAxis","X"),O.deviceTurned()),this.pRotateDirectionX=i,y=k-180,w=this.rotationY+180,x=this.pRotationY+180,k=a+180,0<w-x&&w-x<270||w-x<-270?h="clockwise":(w-x<0||270<w-this.pRotationY)&&(h="counter-clockwise"),h!==this.pRotateDirectionY&&(k=w),90<Math.abs(w-k)&&Math.abs(w-k)<270&&(k=w,this._setProperty("turnAxis","Y"),O.deviceTurned()),this.pRotateDirectionY=h,a=k-180,0<this.rotationZ-this.pRotationZ&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270?p="clockwise":(this.rotationZ-this.pRotationZ<0||270<this.rotationZ-this.pRotationZ)&&(p="counter-clockwise"),p!==this.pRotateDirectionZ&&(u=this.rotationZ),90<Math.abs(this.rotationZ-u)&&Math.abs(this.rotationZ-u)<270&&(u=this.rotationZ,this._setProperty("turnAxis","Z"),O.deviceTurned()),this.pRotateDirectionZ=p,this._setProperty("turnAxis",void 0)),typeof O.deviceShaken=="function"&&(this.pAccelerationX!==null&&(E=Math.abs(this.accelerationX-this.pAccelerationX),M=Math.abs(this.accelerationY-this.pAccelerationY)),v<E+M&&O.deviceShaken())},s.default);f.default=b},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],285:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.isKeyPressed=!1,l.default.prototype.keyIsPressed=!1,l.default.prototype.key="",l.default.prototype.keyCode=0,l.default.prototype._onkeydown=function(o){var s;this._downKeys[o.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",o.which),this._downKeys[o.which]=!0,this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),typeof(s=this._isGlobal?window:this).keyPressed!="function"||o.charCode||s.keyPressed(o)===!1&&o.preventDefault())},l.default.prototype._onkeyup=function(o){this._downKeys[o.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),this._setProperty("keyCode",o.which);var s=this._isGlobal?window:this;typeof s.keyReleased=="function"&&s.keyReleased(o)===!1&&o.preventDefault()},l.default.prototype._onkeypress=function(o){var s;o.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",o.which),this._setProperty("key",o.key||String.fromCharCode(o.which)||o.which),typeof(s=this._isGlobal?window:this).keyTyped=="function"&&s.keyTyped(o)===!1&&o.preventDefault())},l.default.prototype._onblur=function(o){this._downKeys={}},l.default.prototype.keyIsDown=function(o){return l.default._validateParameters("keyIsDown",arguments),this._downKeys[o]||!1},l.default.prototype._areDownKeys=function(){for(var o in this._downKeys)if(this._downKeys.hasOwnProperty(o)&&this._downKeys[o]===!0)return!0;return!1},e=l.default,f.default=e},{"../core/main":267}],286:[function(e,d,f){function l(y){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(y)}function o(y){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(a){return l(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":l(a)})(y)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(s=e("../core/main"))&&s.__esModule?s:{default:s},c=function(y){if(y&&y.__esModule)return y;if(y===null||o(y)!=="object"&&typeof y!="function")return{default:y};var a=m();if(a&&a.has(y))return a.get(y);var u,i={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(u in y){var p;Object.prototype.hasOwnProperty.call(y,u)&&((p=h?Object.getOwnPropertyDescriptor(y,u):null)&&(p.get||p.set)?Object.defineProperty(i,u,p):i[u]=y[u])}return i.default=y,a&&a.set(y,i),i}(e("../core/constants"));function m(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,m=function(){return y},y)}s.default.prototype.movedX=0,s.default.prototype.movedY=0,s.default.prototype._hasMouseInteracted=!1,s.default.prototype.mouseX=0,s.default.prototype.mouseY=0,s.default.prototype.pmouseX=0,s.default.prototype.pmouseY=0,s.default.prototype.winMouseX=0,s.default.prototype.winMouseY=0,s.default.prototype.pwinMouseX=0,s.default.prototype.pwinMouseY=0,s.default.prototype.mouseButton=0,s.default.prototype.mouseIsPressed=!1,s.default.prototype._updateNextMouseCoords=function(y){var a,u,i,h,p;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(a=this._curElement.elt,u=this.width,i=this.height,(h=y)&&!h.clientX&&(h.touches?h=h.touches[0]:h.changedTouches&&(h=h.changedTouches[0])),p=a.getBoundingClientRect(),u=a.scrollWidth/u||1,a=a.scrollHeight/i||1,i={x:(h.clientX-p.left)/u,y:(h.clientY-p.top)/a,winX:h.clientX,winY:h.clientY,id:h.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",i.x),this._setProperty("mouseY",i.y),this._setProperty("winMouseX",i.winX),this._setProperty("winMouseY",i.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},s.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},s.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",c.CENTER):y.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},s.default.prototype._onmousemove=function(y){var a=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof a.mouseDragged=="function"?a.mouseDragged(y)===!1&&y.preventDefault():typeof a.touchMoved=="function"&&a.touchMoved(y)===!1&&y.preventDefault():typeof a.mouseMoved=="function"&&a.mouseMoved(y)===!1&&y.preventDefault()},s.default.prototype._onmousedown=function(y){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),typeof a.mousePressed=="function"?a.mousePressed(y)===!1&&y.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof a.touchStarted=="function"&&a.touchStarted(y)===!1&&y.preventDefault()},s.default.prototype._onmouseup=function(y){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),typeof a.mouseReleased=="function"?a.mouseReleased(y)===!1&&y.preventDefault():typeof a.touchEnded=="function"&&a.touchEnded(y)===!1&&y.preventDefault()},s.default.prototype._ondragend=s.default.prototype._onmouseup,s.default.prototype._ondragover=s.default.prototype._onmousemove,s.default.prototype._onclick=function(y){var a=this._isGlobal?window:this;typeof a.mouseClicked=="function"&&a.mouseClicked(y)===!1&&y.preventDefault()},s.default.prototype._ondblclick=function(y){var a=this._isGlobal?window:this;typeof a.doubleClicked=="function"&&a.doubleClicked(y)===!1&&y.preventDefault()},s.default.prototype._mouseWheelDeltaY=0,s.default.prototype._pmouseWheelDeltaY=0,s.default.prototype._onwheel=function(y){var a=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof a.mouseWheel=="function"&&(y.delta=y.deltaY,a.mouseWheel(y)===!1&&y.preventDefault())},s.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},s.default.prototype.exitPointerLock=function(){document.exitPointerLock()},e=s.default,f.default=e},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],287:[function(e,d,f){e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.string.includes"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype.touches=[],e.default.prototype._updateTouchCoords=function(l){if(this._curElement!==null){for(var o=[],s=0;s<l.touches.length;s++)o[s]=function(p,h,g,a){var u=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,i=p.getBoundingClientRect(),h=p.scrollWidth/h||1,p=p.scrollHeight/g||1,g=a.touches[u]||a.changedTouches[u];return{x:(g.clientX-i.left)/h,y:(g.clientY-i.top)/p,winX:g.clientX,winY:g.clientY,id:g.identifier}}(this._curElement.elt,this.width,this.height,l,s);this._setProperty("touches",o)}},e.default.prototype._ontouchstart=function(l){var o=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(l),this._updateNextMouseCoords(l),this._updateMouseCoords(),typeof o.touchStarted=="function"?o.touchStarted(l)===!1&&l.preventDefault():navigator.userAgent.toLowerCase().includes("safari")&&typeof o.mousePressed=="function"&&o.mousePressed(l)===!1&&l.preventDefault()},e.default.prototype._ontouchmove=function(l){var o=this._isGlobal?window:this;this._updateTouchCoords(l),this._updateNextMouseCoords(l),typeof o.touchMoved=="function"?o.touchMoved(l)===!1&&l.preventDefault():typeof o.mouseDragged=="function"&&o.mouseDragged(l)===!1&&l.preventDefault()},e.default.prototype._ontouchend=function(l){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(l),this._updateNextMouseCoords(l);var o=this._isGlobal?window:this;typeof o.touchEnded=="function"?o.touchEnded(l)===!1&&l.preventDefault():typeof o.mouseReleased=="function"&&o.mouseReleased(l)===!1&&l.preventDefault()},e=e.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.string.includes":185}],288:[function(e,d,f){e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.int32-array"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l,o,s,c,m={};function y(a,u){for(var i,h,p,g,v,b,w,x,k,E,M=m._toPixels(a),O=a.width,P=a.height,D=O*P,U=new Int32Array(D),z=0;z<D;z++)U[z]=m._getARGB(M,z);var V,K,re,Q=new Int32Array(D),ue=new Int32Array(D),te=new Int32Array(D),oe=new Int32Array(D),ce=0,ne=3.5*u|0;if(l!==(ne=ne<1?1:ne<248?ne:248)){o=1+(l=ne)<<1,s=new Int32Array(o),c=new Array(o);for(var R,j,N=0;N<o;N++)c[N]=new Int32Array(256);for(var F=1,ie=ne-1;F<ne;F++){s[ne+F]=s[ie]=j=ie*ie;for(var ae=c[ne+F],Te=c[ie--],ke=0;ke<256;ke++)ae[ke]=Te[ke]=j*ke}R=s[ne]=ne*ne,ae=c[ne];for(var Me=0;Me<256;Me++)ae[Me]=R*Me}for(K=0;K<P;K++){for(V=0;V<O;V++){if(g=p=h=v=i=0,(b=V-l)<0)E=-b,b=0;else{if(O<=b)break;E=0}for(re=E;re<o&&!(O<=b);re++){var Se,Xe=U[b+ce];v+=(Se=c[re])[(-16777216&Xe)>>>24],h+=Se[(16711680&Xe)>>16],p+=Se[(65280&Xe)>>8],g+=Se[255&Xe],i+=s[re],b++}Q[w=ce+V]=v/i,ue[w]=h/i,te[w]=p/i,oe[w]=g/i}ce+=O}for(k=(x=-l)*O,K=ce=0;K<P;K++){for(V=0;V<O;V++){if(x<(g=p=h=v=i=0))E=w=-x,b=V;else{if(P<=x)break;E=0,w=x,b=V+k}for(re=E;re<o&&!(P<=w);re++)v+=(Se=c[re])[Q[b]],h+=Se[ue[b]],p+=Se[te[b]],g+=Se[oe[b]],i+=s[re],w++,b+=O;U[V+ce]=v/i<<24|h/i<<16|p/i<<8|g/i}ce+=O,k+=O,x++}m._setPixels(M,U)}m._toPixels=function(a){var u,i;return a instanceof ImageData?a.data:a.getContext("2d")?a.getContext("2d").getImageData(0,0,a.width,a.height).data:a.getContext("webgl")?(i=(u=a.getContext("webgl")).drawingBufferWidth*u.drawingBufferHeight*4,i=new Uint8Array(i),u.readPixels(0,0,a.width,a.height,u.RGBA,u.UNSIGNED_BYTE,i),i):void 0},m._getARGB=function(a,u){return u*=4,a[3+u]<<24&4278190080|a[u]<<16&16711680|a[1+u]<<8&65280|255&a[2+u]},m._setPixels=function(a,u){for(var i,h=0,p=a.length;h<p;h++)a[0+(i=4*h)]=(16711680&u[h])>>>16,a[1+i]=(65280&u[h])>>>8,a[2+i]=255&u[h],a[3+i]=(4278190080&u[h])>>>24},m._toImageData=function(a){return a instanceof ImageData?a:a.getContext("2d").getImageData(0,0,a.width,a.height)},m._createImageData=function(a,u){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(a,u)},m.apply=function(a,g,i){var h=a.getContext("2d"),p=h.getImageData(0,0,a.width,a.height),g=g(p,i);g instanceof ImageData?h.putImageData(g,0,0,0,0,a.width,a.height):h.putImageData(p,0,0,0,0,a.width,a.height)},m.threshold=function(a,u){for(var i=m._toPixels(a),h=(u===void 0&&(u=.5),Math.floor(255*u)),p=0;p<i.length;p+=4){var g=void 0,g=h<=.2126*i[p]+.7152*i[p+1]+.0722*i[p+2]?255:0;i[p]=i[p+1]=i[p+2]=g}},m.gray=function(a){for(var u=m._toPixels(a),i=0;i<u.length;i+=4){var h=u[i],p=u[i+1],g=u[i+2];u[i]=u[i+1]=u[i+2]=.2126*h+.7152*p+.0722*g}},m.opaque=function(a){for(var u=m._toPixels(a),i=0;i<u.length;i+=4)u[i+3]=255;return u},m.invert=function(a){for(var u=m._toPixels(a),i=0;i<u.length;i+=4)u[i]=255-u[i],u[i+1]=255-u[i+1],u[i+2]=255-u[i+2]},m.posterize=function(a,u){var i=m._toPixels(a);if(u<2||255<u)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var h=u-1,p=0;p<i.length;p+=4){var g=i[p],v=i[p+1],b=i[p+2];i[p]=255*(g*u>>8)/h,i[p+1]=255*(v*u>>8)/h,i[p+2]=255*(b*u>>8)/h}},m.dilate=function(a){for(var u,i,h,p,g,v,b,w,x,k=m._toPixels(a),E=0,M=k.length?k.length/4:0,O=new Int32Array(M);E<M;)for(i=(u=E)+a.width;E<i;)p=h=m._getARGB(k,E),(x=E-1)<u&&(x=E),i<=(w=E+1)&&(w=E),(g=E-a.width)<0&&(g=0),M<=(v=E+a.width)&&(v=E),g=m._getARGB(k,g),x=m._getARGB(k,x),v=m._getARGB(k,v),(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))<(b=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(h=x,p=b),p<(b=77*((x=m._getARGB(k,w))>>16&255)+151*(x>>8&255)+28*(255&x))&&(h=x,p=b),p<(w=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))&&(h=g,p=w),p<(x=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(h=v,p=x),O[E++]=h;m._setPixels(k,O)},m.erode=function(a){for(var u,i,h,p,g,v,b,w,x,k=m._toPixels(a),E=0,M=k.length?k.length/4:0,O=new Int32Array(M);E<M;)for(i=(u=E)+a.width;E<i;)p=h=m._getARGB(k,E),(x=E-1)<u&&(x=E),i<=(w=E+1)&&(w=E),(g=E-a.width)<0&&(g=0),M<=(v=E+a.width)&&(v=E),g=m._getARGB(k,g),x=m._getARGB(k,x),v=m._getARGB(k,v),(b=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<(p=77*(p>>16&255)+151*(p>>8&255)+28*(255&p))&&(h=x,p=b),(b=77*((x=m._getARGB(k,w))>>16&255)+151*(x>>8&255)+28*(255&x))<p&&(h=x,p=b),(w=77*(g>>16&255)+151*(g>>8&255)+28*(255&g))<p&&(h=g,p=w),(x=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<p&&(h=v,p=x),O[E++]=h;m._setPixels(k,O)},m.blur=function(a,u){y(a,u)},f.default=m},{"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int32-array":209,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226}],289:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.set"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=s(e("../core/main")),o=s(e("omggif"));function s(m){return m&&m.__esModule?m:{default:m}}function c(m){return function(y){if(Array.isArray(y)){for(var a=0,u=new Array(y.length);a<y.length;a++)u[a]=y[a];return u}}(m)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}l.default.prototype.createImage=function(m,y){return l.default._validateParameters("createImage",arguments),new l.default.Image(m,y)},l.default.prototype.saveCanvas=function(){l.default._validateParameters("saveCanvas",arguments);var m,y,a,u,i=[].slice.call(arguments);switch(arguments[0]instanceof HTMLCanvasElement?(m=arguments[0],i.shift()):arguments[0]instanceof l.default.Element?(m=arguments[0].elt,i.shift()):m=this._curElement&&this._curElement.elt,1<=i.length&&(y=i[0]),a=(a=2<=i.length?i[1]:a)||l.default.prototype._checkFileExtension(y,a)[1]||"png"){default:u="image/png";break;case"jpeg":case"jpg":u="image/jpeg"}m.toBlob(function(h){l.default.prototype.downloadFile(h,y,a)},u)},l.default.prototype.encodeAndDownloadGif=function(m,y){for(var a=m.gifProperties,u=a.loopLimit,i=(u===1?u=null:u===null&&(u=0),new Uint8Array(m.width*m.height*a.numFrames)),h=[],p={},g=0;g<a.numFrames;g++){for(var v=new Set,b=a.frames[g].image.data,w=b.length,x=new Uint32Array(m.width*m.height),k=0,E=0;k<w;k+=4,E++){var M=b[k+0]<<16|b[k+1]<<8|b[k+2]<<0;v.add(M),x[E]=M}var O=c(v).sort().toString();p[O]===void 0?p[O]={freq:1,frames:[g]}:(p[O].freq+=1,p[O].frames.push(g)),h.push(x)}for(var U=[],P=Object.keys(p).sort(function(R,j){return p[j].freq-p[R].freq}),D=P[0].split(",").map(function(R){return parseInt(R)}),U=U.concat(p[D].frames),z=new Set(D),V=1;V<P.length;V++){var K=P[V].split(",").map(function(R){return parseInt(R)}).filter(function(R){return!z.has(R)});if(D.length+K.length<=256){for(var re=0;re<K.length;re++)D.push(K[re]),z.add(K[re]);U=U.concat(p[P[V]].frames)}}U=new Set(U);for(var Q={},ue=0;ue<D.length;ue++)Q[D[ue]]||(Q[D[ue]]=ue);for(var te=1;te<D.length;)te<<=1;D.length=te;for(var u={loop:u,palette:new Uint32Array(D)},oe=new o.default.GifWriter(i,m.width,m.height,u),ce={},ne=0;ne<a.numFrames;ne++)(function(j){for(var N=!U.has(j),F=N?[]:D,ie=new Uint8Array(m.width*m.height),ae={},Te=new Set,ke=0;ke<h[j].length;ke++){var Me=h[j][ke];N?(ae[Me]===void 0&&(ae[Me]=F.length,F.push(Me)),ie[ke]=ae[Me]):ie[ke]=Q[Me],0<j&&h[j-1][ke]!==Me&&Te.add(Me)}var Se={},Xe=F.filter(function(ze){return!Te.has(ze)});if(0<Xe.length){var Xe=Xe[0],ve=(N?ae:Q)[Xe];if(0<j){for(var Ce=0;Ce<h[j].length;Ce++)h[j-1][Ce]===h[j][Ce]&&(ie[Ce]=ve);Se.transparent=ve,ce.frameOpts.disposal=1}}if(Se.delay=a.frames[j].delay/10,N){for(var Fe=1;Fe<F.length;)Fe<<=1;F.length=Fe,Se.palette=new Uint32Array(F)}0<j&&oe.addFrame(0,0,m.width,m.height,ce.pixelPaletteIndex,ce.frameOpts),ce={pixelPaletteIndex:ie,frameOpts:Se}})(ne);ce.frameOpts.disposal=1,oe.addFrame(0,0,m.width,m.height,ce.pixelPaletteIndex,ce.frameOpts),u=new Blob([i.slice(0,oe.end())],{type:"image/gif"}),l.default.prototype.downloadFile(u,y,"gif")},l.default.prototype.saveFrames=function(m,y,a,h,i){l.default._validateParameters("saveFrames",arguments),a=l.default.prototype.constrain(a=a||3,0,15),a*=1e3;var h=l.default.prototype.constrain(h||15,0,22),p=0,g=l.default.prototype._makeFrame,v=this._curElement.elt,b=[],w=setInterval(function(){b.push(g(m+p,y,v)),p++},1e3/h);setTimeout(function(){if(clearInterval(w),i)i(b);else{var x=!0,k=!1,E=void 0;try{for(var M,O=b[Symbol.iterator]();!(x=(M=O.next()).done);x=!0){var P=M.value;l.default.prototype.downloadFile(P.imageData,P.filename,P.ext)}}catch(D){k=!0,E=D}finally{try{x||O.return==null||O.return()}finally{if(k)throw E}}}b=[]},.01+a)},l.default.prototype._makeFrame=function(m,y,i){var u,i=this?this._curElement.elt:i;if(y)switch(y.toLowerCase()){case"png":u="image/png";break;case"jpeg":case"jpg":u="image/jpeg";break;default:u="image/png"}else y="png",u="image/png";var i=(i=i.toDataURL(u)).replace(u,"image/octet-stream"),h={};return h.imageData=i,h.filename=m,h.ext=y,h},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.set":183,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,omggif:240}],290:[function(e,d,f){function l(v){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(v)}function o(v){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(b){return l(b)}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":l(b)})(v)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.copy-within"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.uint8-clamped-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e("regenerator-runtime/runtime");var s=i(e("../core/main")),c=i(e("../core/helpers")),m=function(v){if(v&&v.__esModule)return v;if(v===null||o(v)!=="object"&&typeof v!="function")return{default:v};var b=u();if(b&&b.has(v))return b.get(v);var w,x={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in v){var E;Object.prototype.hasOwnProperty.call(v,w)&&((E=k?Object.getOwnPropertyDescriptor(v,w):null)&&(E.get||E.set)?Object.defineProperty(x,w,E):x[w]=v[w])}return x.default=v,b&&b.set(v,x),x}(e("../core/constants")),y=i(e("omggif")),a=e("gifenc");function u(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,u=function(){return v},v)}function i(v){return v&&v.__esModule?v:{default:v}}function h(v,b,w,x,k,E,M){try{var O=v[E](M),P=O.value}catch(D){return void w(D)}O.done?b(P):Promise.resolve(P).then(x,k)}function p(v,b,w,x,k,E,M,O,P,D,U){var z,V,K,re,Q,ue,te,oe,ce;return v===m.COVER&&(z=b,K=w,te=E,oe=M,ue=O,ce=P,V=D,re=U,Q=Math.max(te/V,oe/re),te/=Q,oe/=Q,Q=ue,ue=ce,z===m.CENTER?Q+=(V-te)/2:z===m.RIGHT&&(Q+=V-te),K===m.CENTER?ue+=(re-oe)/2:K===m.BOTTOM&&(ue+=re-oe),O=(ce={x:Q,y:ue,w:te,h:oe}).x,P=ce.y,D=ce.w,U=ce.h),v===m.CONTAIN&&(z=b,V=w,K=x,re=k,Q=E,ue=M,te=D,oe=U,ce=Math.max(te/Q,oe/ue),te/=ce,oe/=ce,ce=K,K=re,z===m.CENTER?ce+=(Q-te)/2:z===m.RIGHT&&(ce+=Q-te),V===m.CENTER?K+=(ue-oe)/2:V===m.BOTTOM&&(K+=ue-oe),x=(v={x:ce,y:K,w:te,h:oe}).x,k=v.y,E=v.w,M=v.h),{sx:O,sy:P,sw:D,sh:U,dx:x,dy:k,dw:E,dh:M}}function g(v,b){return 0<v&&v<b?v:b}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),s.default.prototype.loadImage=function(v,b,w){s.default._validateParameters("loadImage",arguments);var x=new s.default.Image(1,1,this),k=this,E=new Request(v,{method:"GET",mode:"cors"});return fetch(v,E).then(function(M){var O,P=M.headers.get("content-type");P===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),P&&P.includes("image/gif")?M.arrayBuffer().then(function(D){if(D){var D=new Uint8Array(D),U=x,z=b,V=w,K=function(N){k._decrementPreload()}.bind(k),re=new y.default.GifReader(D),Q=(U.width=U.canvas.width=re.width,U.height=U.canvas.height=re.height,[]),ue=re.numFrames(),te=new Uint8ClampedArray(U.width*U.height*4);if(1<ue){for(var oe=0;oe<ue;oe++){var ce=re.frameInfo(oe),ne=U.drawingContext.getImageData(0,0,U.width,U.height),R=(te=ne.data.slice(),function(N,F){try{F.decodeAndBlitFrameRGBA(N,te)}catch(ie){s.default._friendlyFileLoadError(8,U.src),typeof V=="function"?V(ie):console.error(ie)}}(oe,re),new ImageData(te,U.width,U.height)),R=(U.drawingContext.putImageData(R,0,0),ce.delay);R===0&&(R=10),Q.push({image:U.drawingContext.getImageData(0,0,U.width,U.height),delay:10*R}),ce.disposal===2?U.drawingContext.clearRect(ce.x,ce.y,ce.width,ce.height):ce.disposal===3&&U.drawingContext.putImageData(ne,0,0,ce.x,ce.y,ce.width,ce.height)}D=re.loopCount(),D===null?D=1:D===0&&(D=null),U.drawingContext.putImageData(Q[0].image,0,0),U.gifProperties={displayIndex:0,loopLimit:D,loopCount:0,frames:Q,numFrames:ue,playing:!0,timeDisplayed:0,lastChangeTime:0}}typeof z=="function"&&z(U),K()}},function(D){typeof w=="function"?w(D):console.error(D)}):((O=new Image).onload=function(){x.width=x.canvas.width=O.width,x.height=x.canvas.height=O.height,x.drawingContext.drawImage(O,0,0),x.modified=!0,typeof b=="function"&&b(x),k._decrementPreload()},O.onerror=function(D){s.default._friendlyFileLoadError(0,O.src),typeof w=="function"?w(D):console.error(D)},v.indexOf("data:image/")!==0&&(O.crossOrigin="Anonymous"),O.src=v),x.modified=!0}).catch(function(M){s.default._friendlyFileLoadError(0,v),typeof w=="function"?w(M):console.error(M)}),x},s.default.prototype.saveGif=function(){v=regeneratorRuntime.mark(function w(x,k){var E,M,O,P,D,U,z,V,K,re,Q,ue,te,oe,ce,ne,R,j,N,F,ie,ae,Te,ke,Me,Se=arguments;return regeneratorRuntime.wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:if(E=2<Se.length&&Se[2]!==void 0?Se[2]:{delay:0,units:"seconds"},typeof x!="string")throw TypeError("fileName parameter must be a string");Xe.next=3;break;case 3:if(typeof k!="number")throw TypeError("Duration parameter must be a number");Xe.next=5;break;case 5:if(typeof E.delay!="number")throw TypeError("Delay parameter must be a number");Xe.next=7;break;case 7:if(E.units!=="seconds"&&E.units!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');Xe.next=9;break;case 9:U=E.units,D=E.delay,P=this._targetFrameRate,M=(M=1/(P=P!==1/0&&P!==void 0&&P!==0?P:60)*1e3)<20?20:M,P=(O=U==="seconds"?k*P:k)+(U=U==="seconds"?D*P:D),D=U,this.frameCount=D,U=this._pixelDensity,this.pixelDensity(1),z=[],V="p5.gif.progressBar",document.getElementById(V)!==null&&document.getElementById(V).remove(),(V=this.createP("")).id("progressBar"),V.style("font-size","16px"),V.style("font-family","Montserrat"),V.style("background-color","#ffffffa0"),V.style("padding","8px"),V.style("border-radius","10px"),V.position(0,0),this.drawingContext instanceof WebGLRenderingContext&&(re=document.getElementById("defaultCanvas0").getContext("webgl"),K=new Uint8Array(re.drawingBufferWidth*re.drawingBufferHeight*4)),this.noLoop();case 35:if(D<P)return this.redraw(),ce=void 0,ce=this.drawingContext instanceof WebGLRenderingContext?(K=new Uint8Array(re.drawingBufferWidth*re.drawingBufferHeight*4),re.readPixels(0,0,re.drawingBufferWidth,re.drawingBufferHeight,re.RGBA,re.UNSIGNED_BYTE,K),function(ve){for(var Ce=parseInt(height/2),Fe=4*width,ze=new Uint8Array(4*width),Ve=0;Ve<Ce;++Ve){var ot=Ve*Fe,se=(height-Ve-1)*Fe;ze.set(ve.subarray(ot,ot+Fe)),ve.copyWithin(ot,se,se+Fe),ve.set(ze,se)}return ve}(K)):this.drawingContext.getImageData(0,0,this.width,this.height).data,z.push(ce),D++,V.html("Saved frame <b>"+z.length.toString()+"</b> out of "+O.toString()),Xe.next=44,new Promise(function(ve){return setTimeout(ve,0)});Xe.next=46;break;case 44:Xe.next=35;break;case 46:V.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(U),Q=(0,a.GIFEncoder)(),ue=function(ve){for(var Ce=new Uint8Array(ve.length*ve[0].length),Fe=0;Fe<ve.length;Fe++)Ce.set(ve[0],Fe*ve[0].length);var ze=(0,a.quantize)(Ce,256,{format:"rgba444",oneBitAlpha:!0});return ze.length===256?ze[ze.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:ze.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),ze}(z),te=ue.length-1,oe=0;case 53:if(oe<z.length){if(oe===0)return ce=(0,a.applyPalette)(z[oe],ue,{format:"rgba4444"}),Q.writeFrame(ce,this.width,this.height,{palette:ue,delay:M,dispose:1}),Xe.abrupt("continue",68);Xe.next=58}else Xe.next=71;break;case 58:for(ne=z[oe],R=z[oe-1],j=[],N=0;N<ne.length;N+=4)F=[ne[N],ne[N+1],ne[N+2],ne[N+3]],ie=[R[N],R[N+1],R[N+2],R[N+3]],!function(ve,Ce){return Array.isArray(ve)&&Array.isArray(Ce)&&ve.length===Ce.length&&ve.every(function(Fe,ze){return Fe===Ce[ze]})}(F,ie)||j.push(N/4);for(ae=(0,a.applyPalette)(ne,ue,{format:"rgba4444"}),Te=0;Te<j.length;Te++)ke=j[Te],ae[ke]=te;return Q.writeFrame(ae,this.width,this.height,{delay:M,transparent:!0,transparentIndex:te,dispose:1}),V.html("Rendered frame <b>"+oe.toString()+"</b> out of "+O.toString()),Xe.next=68,new Promise(function(ve){return setTimeout(ve,0)});case 68:oe++,Xe.next=53;break;case 71:Q.finish(),Me=Q.bytesView(),Me=new Blob([Me],{type:"image/gif"}),z=[],this.loop(),V.html("Done. Downloading your gif!\u{1F338}"),s.default.prototype.downloadFile(Me,x,"gif");case 79:case"end":return Xe.stop()}},w,this)});var v,b=function(){var w=this,x=arguments;return new Promise(function(k,E){var M=v.apply(w,x);function O(D){h(M,k,E,O,P,"next",D)}function P(D){h(M,k,E,O,P,"throw",D)}O(void 0)})};return function(w,x){return b.apply(this,arguments)}}(),s.default.prototype.image=function(v,b,w,x,re,Q,ue,te,ce,D,U,z){s.default._validateParameters("image",arguments);var oe=v.width,V=v.height,K=(z=z||m.CENTER,U=U||m.CENTER,v.elt&&v.elt.videoWidth&&!v.canvas&&(oe=v.elt.videoWidth,V=v.elt.videoHeight),x||oe),re=re||V,Q=Q||0,ue=ue||0,te=g(te||oe,oe),oe=g(ce||V,V),ce=1;v.elt&&!v.canvas&&v.elt.style.width&&(ce=v.elt.videoWidth&&!x?v.elt.videoWidth:v.elt.width,ce/=parseInt(v.elt.style.width,10)),Q*=ce,ue*=ce,oe*=ce,te*=ce,V=p(D,U,z,(V=c.default.modeAdjust(b,w,K,re,this._renderer._imageMode)).x,V.y,V.w,V.h,Q,ue,te,oe),this._renderer.image(v,V.sx,V.sy,V.sw,V.sh,V.dx,V.dy,V.dw,V.dh)},s.default.prototype.tint=function(){for(var v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];s.default._validateParameters("tint",b);var x=this.color.apply(this,b);this._renderer._tint=x.levels},s.default.prototype.noTint=function(){this._renderer._tint=null},s.default.prototype._getTintedImageCanvas=s.default.Renderer2D.prototype._getTintedImageCanvas,s.default.prototype.imageMode=function(v){s.default._validateParameters("imageMode",arguments),v!==m.CORNER&&v!==m.CORNERS&&v!==m.CENTER||(this._renderer._imageMode=v)},e=s.default,f.default=e},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/helpers":263,"../core/main":267,"core-js/modules/es.array.copy-within":150,"core-js/modules/es.array.every":151,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.typed-array.uint8-clamped-array":227,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,gifenc:237,omggif:240,"regenerator-runtime/runtime":244}],291:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=s(e("../core/main")),o=s(e("./filters"));function s(c){return c&&c.__esModule?c:{default:c}}l.default.Image=function(c,m){this.width=c,this.height=m,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]},l.default.Image.prototype._animateGif=function(a){var m,y=this.gifProperties,a=a._lastFrameTime;y.lastChangeTime===0&&(y.lastChangeTime=a),y.playing&&(y.timeDisplayed=a-y.lastChangeTime,m=y.frames[y.displayIndex].delay,y.timeDisplayed>=m&&(m=Math.floor(y.timeDisplayed/m),y.timeDisplayed=0,y.lastChangeTime=a,y.displayIndex+=m,y.loopCount=Math.floor(y.displayIndex/y.numFrames),y.loopLimit!==null&&y.loopCount>=y.loopLimit?y.playing=!1:(a=y.displayIndex%y.numFrames,this.drawingContext.putImageData(y.frames[a].image,0,0),y.displayIndex=a,this.setModified(!0))))},l.default.Image.prototype._setProperty=function(c,m){this[c]=m,this.setModified(!0)},l.default.Image.prototype.loadPixels=function(){l.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)},l.default.Image.prototype.updatePixels=function(c,m,y,a){l.default.Renderer2D.prototype.updatePixels.call(this,c,m,y,a),this.setModified(!0)},l.default.Image.prototype.get=function(c,m,y,a){return l.default._validateParameters("p5.Image.get",arguments),l.default.Renderer2D.prototype.get.apply(this,arguments)},l.default.Image.prototype._getPixel=l.default.Renderer2D.prototype._getPixel,l.default.Image.prototype.set=function(c,m,y){l.default.Renderer2D.prototype.set.call(this,c,m,y),this.setModified(!0)},l.default.Image.prototype.resize=function(c,m){c===0&&m===0?(c=this.canvas.width,m=this.canvas.height):c===0?c=this.canvas.width*m/this.canvas.height:m===0&&(m=this.canvas.height*c/this.canvas.width),c=Math.floor(c),m=Math.floor(m);var y=document.createElement("canvas");if(y.width=c,y.height=m,this.gifProperties)for(var a=this.gifProperties,u=0;u<a.numFrames;u++){for(var i=this.drawingContext.createImageData(c,m),h=(w=w=b=v=g=void 0,a.frames[u].image),p=i,g=0,v=0;v<p.height;v++)for(var b=0;b<p.width;b++){var w=Math.floor(b*h.width/p.width),w=4*(Math.floor(v*h.height/p.height)*h.width+w);p.data[g++]=h.data[w++],p.data[g++]=h.data[w++],p.data[g++]=h.data[w++],p.data[g++]=h.data[+w]}a.frames[u].image=i}y.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,y.width,y.height),this.canvas.width=this.width=c,this.canvas.height=this.height=m,this.drawingContext.drawImage(y,0,0,c,m,0,0,c,m),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)},l.default.Image.prototype.copy=function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];l.default.prototype.copy.apply(this,m)},l.default.Image.prototype.mask=function(c){var m=this.drawingContext.globalCompositeOperation,y=1,a=[c=c===void 0?this:c,0,0,(y=c instanceof l.default.Renderer?c._pInst._pixelDensity:y)*c.width,y*c.height,0,0,this.width,this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var u=0;u<this.gifProperties.frames.length;u++)this.drawingContext.putImageData(this.gifProperties.frames[u].image,0,0),l.default.Image.prototype.copy.apply(this,a),this.gifProperties.frames[u].image=this.drawingContext.getImageData(0,0,this.width,this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else l.default.Image.prototype.copy.apply(this,a);this.drawingContext.globalCompositeOperation=m,this.setModified(!0)},l.default.Image.prototype.filter=function(c,m){o.default.apply(this.canvas,o.default[c],m),this.setModified(!0)},l.default.Image.prototype.blend=function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];l.default._validateParameters("p5.Image.blend",arguments),l.default.prototype.blend.apply(this,m),this.setModified(!0)},l.default.Image.prototype.setModified=function(c){this._modified=c},l.default.Image.prototype.isModified=function(){return this._modified},l.default.Image.prototype.save=function(c,m){this.gifProperties?l.default.prototype.encodeAndDownloadGif(this,c):l.default.prototype.saveCanvas(this.canvas,c,m)},l.default.Image.prototype.reset=function(){var c;this.gifProperties&&((c=this.gifProperties).playing=!0,c.timeSinceStart=0,c.timeDisplayed=0,c.lastChangeTime=0,c.loopCount=0,c.displayIndex=0,this.drawingContext.putImageData(c.frames[0].image,0,0))},l.default.Image.prototype.getCurrentFrame=function(){var c;if(this.gifProperties)return(c=this.gifProperties).displayIndex%c.numFrames},l.default.Image.prototype.setFrame=function(c){var m;this.gifProperties&&(c<(m=this.gifProperties).numFrames&&0<=c?(m.timeDisplayed=0,m.lastChangeTime=0,m.displayIndex=c,this.drawingContext.putImageData(m.frames[c].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))},l.default.Image.prototype.numFrames=function(){if(this.gifProperties)return this.gifProperties.numFrames},l.default.Image.prototype.play=function(){this.gifProperties&&(this.gifProperties.playing=!0)},l.default.Image.prototype.pause=function(){this.gifProperties&&(this.gifProperties.playing=!1)},l.default.Image.prototype.delay=function(c,m){if(this.gifProperties){var y=this.gifProperties;if(m<y.numFrames&&0<=m)y.frames[m].delay=c;else{var a=!0,m=!1,u=void 0;try{for(var i,h=y.frames[Symbol.iterator]();!(a=(i=h.next()).done);a=!0)i.value.delay=c}catch(g){m=!0,u=g}finally{try{a||h.return==null||h.return()}finally{if(m)throw u}}}}},e=l.default.Image,f.default=e},{"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],292:[function(e,d,f){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.filter"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=s(e("../core/main")),o=s(e("./filters"));function s(c){return c&&c.__esModule?c:{default:c}}e("../color/p5.Color"),l.default.prototype.pixels=[],l.default.prototype.blend=function(){for(var c,m=arguments.length,y=new Array(m),a=0;a<m;a++)y[a]=arguments[a];l.default._validateParameters("blend",y),this._renderer?(c=this._renderer).blend.apply(c,y):l.default.Renderer2D.prototype.blend.apply(this,y)},l.default.prototype.copy=function(){for(var c,m,y,a,u,i,h,p,g,v=arguments.length,b=new Array(v),w=0;w<v;w++)b[w]=arguments[w];if(l.default._validateParameters("copy",b),b.length===9)c=b[0],m=b[1],y=b[2],a=b[3],u=b[4],i=b[5],h=b[6],p=b[7],g=b[8];else{if(b.length!==8)throw new Error("Signature not supported");c=this,m=b[0],y=b[1],a=b[2],u=b[3],i=b[4],h=b[5],p=b[6],g=b[7]}l.default.prototype._copyHelper(this,c,m,y,a,u,i,h,p,g)},l.default.prototype._copyHelper=function(c,m,y,a,u,i,h,p,g,v){m.loadPixels();var b=m.canvas.width/m.width,w=0,x=0;m._renderer&&m._renderer.isP3D&&(w=m.width/2,x=m.height/2),c._renderer&&c._renderer.isP3D?l.default.RendererGL.prototype.image.call(c._renderer,m,y+w,a+x,u,i,h,p,g,v):c.drawingContext.drawImage(m.canvas,b*(y+w),b*(a+x),b*u,b*i,h,p,g,v)},l.default.prototype.filter=function(c,m){l.default._validateParameters("filter",arguments),this.canvas!==void 0?o.default.apply(this.canvas,o.default[c],m):o.default.apply(this.elt,o.default[c],m)},l.default.prototype.get=function(c,m,y,a){var u;return l.default._validateParameters("get",arguments),(u=this._renderer).get.apply(u,arguments)},l.default.prototype.loadPixels=function(){for(var c=arguments.length,m=new Array(c),y=0;y<c;y++)m[y]=arguments[y];l.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},l.default.prototype.set=function(c,m,y){this._renderer.set(c,m,y)},l.default.prototype.updatePixels=function(c,m,y,a){l.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(c,m,y,a)},e=l.default,f.default=e},{"../color/p5.Color":254,"../core/main":267,"./filters":288,"core-js/modules/es.array.filter":153}],293:[function(e,d,f){function l(i){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.promise"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/web.url"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var o=m(e("../core/main")),s=(e("whatwg-fetch"),e("es6-promise/auto"),m(e("fetch-jsonp"))),c=m(e("file-saver"));function m(i){return i&&i.__esModule?i:{default:i}}function y(i){return(y=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(h){return l(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":l(h)})(i)}function a(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function u(i,h){h&&h!==!0&&h!=="true"||(h="");var p="";return(i=i||"untitled")&&i.includes(".")&&(p=i.split(".").pop()),h&&p!==h&&(p=h,i="".concat(i,".").concat(p)),[i,p]}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),o.default.prototype.loadJSON=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];o.default._validateParameters("loadJSON",h);for(var g,v,b,w=h[0],x={},k="json",E=1;E<h.length;E++){var M=h[E];typeof M=="string"?M!=="jsonp"&&M!=="json"||(k=M):typeof M=="function"?g?v=M:g=M:y(M)==="object"&&(M.hasOwnProperty("jsonpCallback")||M.hasOwnProperty("jsonpCallbackFunction"))&&(k="jsonp",b=M)}var O=this;return this.httpDo(w,"GET",b,k,function(P){for(var D in P)x[D]=P[D];g!==void 0&&g(P),O._decrementPreload()},function(P){if(o.default._friendlyFileLoadError(5,w),!v)throw P;v(P)}),x},o.default.prototype.loadStrings=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];o.default._validateParameters("loadStrings",h);for(var g,v,b=[],w=1;w<h.length;w++){var x=h[w];typeof x=="function"&&(g===void 0?g=x:v===void 0&&(v=x))}var k=this;return o.default.prototype.httpDo.call(this,h[0],"GET","text",function(E){for(var M=E.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),O=0,P=M.length;O<P;O+=32768)Array.prototype.push.apply(b,M.slice(O,Math.min(O+32768,P)));g!==void 0&&g(b),k._decrementPreload()},function(E){if(o.default._friendlyFileLoadError(3,E),!v)throw E;v(E)}),b},o.default.prototype.loadTable=function(i){var h,p,g,v=!1,b=i.substring(i.lastIndexOf(".")+1,i.length);b==="csv"?g=",":b==="ssv"?g=";":b==="tsv"&&(g="	");for(var w=1;w<arguments.length;w++)typeof arguments[w]=="function"?h===void 0?h=arguments[w]:p===void 0&&(p=arguments[w]):typeof arguments[w]=="string"&&(arguments[w]==="header"&&(v=!0),arguments[w]==="csv"?g=",":arguments[w]==="ssv"?g=";":arguments[w]==="tsv"&&(g="	"));var x=new o.default.Table,k=this;return this.httpDo(i,"GET","table",function(E){for(var M,O,P={},D=0,U=[],z=0,V=null,K=function(){P.currentState=D,P.token=""},re=function(){V.push(P.token),K()},Q=function(){P.currentState=4,U.push(V),V=null};;){if((M=E[z++])==null){if(P.escaped)throw new Error("Unclosed quote in file.");if(V){re(),Q();break}}if(V===null&&(P.escaped=!1,V=[],K()),P.currentState===D){if(M==='"'){P.escaped=!0,P.currentState=1;continue}P.currentState=1}if(P.currentState===1&&P.escaped)if(M==='"')E[z]==='"'?(P.token+='"',z++):(P.escaped=!1,P.currentState=2);else{if(M==="\r")continue;P.token+=M}else M==="\r"?(E[z]===`
`&&z++,re(),Q()):M===`
`?(re(),Q()):M===g?re():P.currentState===1&&(P.token+=M)}if(v)x.columns=U.shift();else for(var ue=0;ue<U[0].length;ue++)x.columns[ue]="null";for(var te=0;te<U.length;te++)(U[te].length!==1||U[te][0]!=="undefined"&&U[te][0]!=="")&&((O=new o.default.TableRow).arr=U[te],O.obj=function(oe,ce){var ne={};if((ce=ce||[])===void 0)for(var R=0;R<oe.length;R++)ce[R.toString()]=R;for(var j=0;j<ce.length;j++){var N=ce[j],F=oe[j];ne[N]=F}return ne}(U[te],x.columns),x.addRow(O));typeof h=="function"&&h(x),k._decrementPreload()},function(E){o.default._friendlyFileLoadError(2,i),p?p(E):console.error(E)}),x},o.default.prototype.loadXML=function(){for(var i=arguments.length,h=new Array(i),p=0;p<i;p++)h[p]=arguments[p];for(var g,v,b=new o.default.XML,w=1;w<h.length;w++){var x=h[w];typeof x=="function"&&(g===void 0?g=x:v===void 0&&(v=x))}var k=this;return this.httpDo(h[0],"GET","xml",function(E){for(var M in E)b[M]=E[M];g!==void 0&&g(b),k._decrementPreload()},function(E){if(o.default._friendlyFileLoadError(1,E),!v)throw E;v(E)}),b},o.default.prototype.loadBytes=function(i,h,p){var g={},v=this;return this.httpDo(i,"GET","arrayBuffer",function(b){g.bytes=new Uint8Array(b),typeof h=="function"&&h(g),v._decrementPreload()},function(b){if(o.default._friendlyFileLoadError(6,i),!p)throw b;p(b)}),g},o.default.prototype.httpGet=function(){o.default._validateParameters("httpGet",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"GET"),o.default.prototype.httpDo.apply(this,i)},o.default.prototype.httpPost=function(){o.default._validateParameters("httpPost",arguments);var i=Array.prototype.slice.call(arguments);return i.splice(1,0,"POST"),o.default.prototype.httpDo.apply(this,i)},o.default.prototype.httpDo=function(){for(var i,h,p,g={},v=0,b="text/plain",w=arguments.length-1;0<w&&typeof(w<0||arguments.length<=w?void 0:arguments[w])=="function";w--)v++;var x=arguments.length-v,k=arguments.length<=0?void 0:arguments[0];if(x==2&&typeof k=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")U=new Request(k,arguments.length<=1?void 0:arguments[1]),h=arguments.length<=2?void 0:arguments[2],p=arguments.length<=3?void 0:arguments[3];else{for(var E,M="GET",O=1;O<arguments.length;O++){var P=O<0||arguments.length<=O?void 0:arguments[O];if(typeof P=="string")P==="GET"||P==="POST"||P==="PUT"||P==="DELETE"?M=P:P==="json"||P==="jsonp"||P==="binary"||P==="arrayBuffer"||P==="xml"||P==="text"||P==="table"?i=P:E=P;else if(typeof P=="number")E=P.toString();else if(y(P)==="object")if(P.hasOwnProperty("jsonpCallback")||P.hasOwnProperty("jsonpCallbackFunction"))for(var D in P)g[D]=P[D];else b=P instanceof o.default.XML?(E=P.serialize(),"application/xml"):(E=JSON.stringify(P),"application/json");else typeof P=="function"&&(h?p=P:h=P)}var x=M==="GET"?new Headers:new Headers({"Content-Type":b}),U=new Request(k,{method:M,mode:"cors",body:E,headers:x})}return(x=(x=(i=i||(k.includes("json")?"json":k.includes("xml")?"xml":"text"))==="jsonp"?(0,s.default)(k,g):fetch(U)).then(function(z){if(!z.ok)throw(V=new Error(z.body)).status=z.status,V.ok=!1,V;var V=0;switch((V=i!=="jsonp"?z.headers.get("content-length"):V)&&64e6<V&&o.default._friendlyFileLoadError(7,k),i){case"json":case"jsonp":return z.json();case"binary":return z.blob();case"arrayBuffer":return z.arrayBuffer();case"xml":return z.text().then(function(K){return K=new DOMParser().parseFromString(K,"text/xml"),new o.default.XML(K.documentElement)});default:return z.text()}})).then(h||function(){}),x.catch(p||console.error),x},window.URL=window.URL||window.webkitURL,o.default.prototype._pWriters=[],o.default.prototype.createWriter=function(i,h){var p,g;for(g in o.default.prototype._pWriters)if(o.default.prototype._pWriters[g].name===i)return p=new o.default.PrintWriter(i+this.millis(),h),o.default.prototype._pWriters.push(p),p;return p=new o.default.PrintWriter(i,h),o.default.prototype._pWriters.push(p),p},o.default.PrintWriter=function(i,h){var p=this;this.name=i,this.content="",this.write=function(g){this.content+=g},this.print=function(g){this.content+="".concat(g,`
`)},this.clear=function(){this.content=""},this.close=function(){var g,v=[];for(g in v.push(this.content),o.default.prototype.writeFile(v,i,h),o.default.prototype._pWriters)o.default.prototype._pWriters[g].name===this.name&&o.default.prototype._pWriters.splice(g,1);p.clear(),p={}}},o.default.prototype.save=function(i,h,p){var g=arguments,v=(this._curElement||this).elt;if(g.length===0)o.default.prototype.saveCanvas(v);else if(g[0]instanceof o.default.Renderer||g[0]instanceof o.default.Graphics)o.default.prototype.saveCanvas(g[0].elt,g[1],g[2]);else if(g.length===1&&typeof g[0]=="string")o.default.prototype.saveCanvas(v,g[0]);else switch(u(g[1],g[2])[1]){case"json":return void o.default.prototype.saveJSON(g[0],g[1],g[2]);case"txt":return void o.default.prototype.saveStrings(g[0],g[1],g[2]);default:g[0]instanceof Array?o.default.prototype.saveStrings(g[0],g[1],g[2]):g[0]instanceof o.default.Table?o.default.prototype.saveTable(g[0],g[1],g[2]):g[0]instanceof o.default.Image?o.default.prototype.saveCanvas(g[0].canvas,g[1]):g[0]instanceof o.default.SoundFile&&o.default.prototype.saveSound(g[0],g[1],g[2],g[3])}},o.default.prototype.saveJSON=function(i,h,p){o.default._validateParameters("saveJSON",arguments),p=p?JSON.stringify(i):JSON.stringify(i,void 0,2),this.saveStrings(p.split(`
`),h,"json")},o.default.prototype.saveJSONObject=o.default.prototype.saveJSON,o.default.prototype.saveJSONArray=o.default.prototype.saveJSON,o.default.prototype.saveStrings=function(i,h,p,g){o.default._validateParameters("saveStrings",arguments);for(var v=this.createWriter(h,p||"txt"),b=0;b<i.length;b++)g?v.write(i[b]+`\r
`):v.write(i[b]+`
`);v.close(),v.clear()},o.default.prototype.saveTable=function(i,h,p){o.default._validateParameters("saveTable",arguments),g=p===void 0?h.substring(h.lastIndexOf(".")+1,h.length):p;var g,v=this.createWriter(h,g),b=i.columns,w=g==="tsv"?"	":",";if(g!=="html"){if(b[0]!=="0"){for(var x=0;x<b.length;x++)x<b.length-1?v.write(b[x]+w):v.write(b[x]);v.write(`
`)}for(var k=0;k<i.rows.length;k++){for(var E=void 0,E=0;E<i.rows[k].arr.length;E++)E<i.rows[k].arr.length-1?g==="csv"&&String(i.rows[k].arr[E]).includes(",")?v.write('"'+i.rows[k].arr[E]+'"'+w):v.write(i.rows[k].arr[E]+w):g==="csv"&&String(i.rows[k].arr[E]).includes(",")?v.write('"'+i.rows[k].arr[E]+'"'):v.write(i.rows[k].arr[E]);v.write(`
`)}}else{if(v.print("<html>"),v.print("<head>"),v.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),v.print("</head>"),v.print("<body>"),v.print("  <table>"),b[0]!=="0"){v.print("    <tr>");for(var M=0;M<b.length;M++){var O=a(b[M]);v.print("      <td>".concat(O)),v.print("      </td>")}v.print("    </tr>")}for(var P=0;P<i.rows.length;P++){v.print("    <tr>");for(var D=0;D<i.columns.length;D++){var U=a(i.rows[P].getString(D));v.print("      <td>".concat(U)),v.print("      </td>")}v.print("    </tr>")}v.print("  </table>"),v.print("</body>"),v.print("</html>")}v.close(),v.clear()},o.default.prototype.writeFile=function(v,h,p){var g="application/octet-stream",v=(o.default.prototype._isSafari()&&(g="text/plain"),new Blob(v,{type:g}));o.default.prototype.downloadFile(v,h,p)},o.default.prototype.downloadFile=function(i,v,b){var g,v=u(v,b),b=v[0];i instanceof Blob?c.default.saveAs(i,b):((g=document.createElement("a")).href=i,g.download=b,g.onclick=function(w){document.body.removeChild(w.target),w.stopPropagation()},g.style.display="none",document.body.appendChild(g),o.default.prototype._isSafari()&&(i=(i=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(v[1],'"'),alert(i)),g.click())},o.default.prototype._checkFileExtension=u,o.default.prototype._isSafari=function(){return 0<Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")},e=o.default,f.default=e},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.promise":178,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/web.dom-collections.iterator":230,"core-js/modules/web.url":232,"es6-promise/auto":233,"fetch-jsonp":235,"file-saver":236,"whatwg-fetch":245}],294:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.trim"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.Table=function(o){this.columns=[],this.rows=[]},l.default.Table.prototype.addRow=function(o){if(o=o||new l.default.TableRow,o.arr===void 0||o.obj===void 0)throw new Error("invalid TableRow: ".concat(o));return(o.table=this).rows.push(o),o},l.default.Table.prototype.removeRow=function(o){this.rows[o].table=null,o=this.rows.splice(o+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(o)},l.default.Table.prototype.getRow=function(o){return this.rows[o]},l.default.Table.prototype.getRows=function(){return this.rows},l.default.Table.prototype.findRow=function(o,s){if(typeof s=="string"){for(var c=0;c<this.rows.length;c++)if(this.rows[c].obj[s]===o)return this.rows[c]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].arr[s]===o)return this.rows[m];return null},l.default.Table.prototype.findRows=function(o,s){var c=[];if(typeof s=="string")for(var m=0;m<this.rows.length;m++)this.rows[m].obj[s]===o&&c.push(this.rows[m]);else for(var y=0;y<this.rows.length;y++)this.rows[y].arr[s]===o&&c.push(this.rows[y]);return c},l.default.Table.prototype.matchRow=function(o,s){if(typeof s=="number"){for(var c=0;c<this.rows.length;c++)if(this.rows[c].arr[s].match(o))return this.rows[c]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].obj[s].match(o))return this.rows[m];return null},l.default.Table.prototype.matchRows=function(o,s){var c=[];if(typeof s=="number")for(var m=0;m<this.rows.length;m++)this.rows[m].arr[s].match(o)&&c.push(this.rows[m]);else for(var y=0;y<this.rows.length;y++)this.rows[y].obj[s].match(o)&&c.push(this.rows[y]);return c},l.default.Table.prototype.getColumn=function(o){var s=[];if(typeof o=="string")for(var c=0;c<this.rows.length;c++)s.push(this.rows[c].obj[o]);else for(var m=0;m<this.rows.length;m++)s.push(this.rows[m].arr[o]);return s},l.default.Table.prototype.clearRows=function(){delete this.rows,this.rows=[]},l.default.Table.prototype.addColumn=function(o){this.columns.push(o||null)},l.default.Table.prototype.getColumnCount=function(){return this.columns.length},l.default.Table.prototype.getRowCount=function(){return this.rows.length},l.default.Table.prototype.removeTokens=function(o,s){for(var c=[],m=0;m<o.length;m++)c.push(o.charAt(m).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var y=new RegExp(c.join("|"),"g");if(s===void 0)for(var a=0;a<this.columns.length;a++)for(var u=0;u<this.rows.length;u++){var i=(i=this.rows[u].arr[a]).replace(y,"");this.rows[u].arr[a]=i,this.rows[u].obj[this.columns[a]]=i}else if(typeof s=="string")for(var h=0;h<this.rows.length;h++){var p=(p=this.rows[h].obj[s]).replace(y,""),g=(this.rows[h].obj[s]=p,this.columns.indexOf(s));this.rows[h].arr[g]=p}else for(var v=0;v<this.rows.length;v++){var b=(b=this.rows[v].arr[s]).replace(y,"");this.rows[v].arr[s]=b,this.rows[v].obj[this.columns[s]]=b}},l.default.Table.prototype.trim=function(o){var s=new RegExp(" ","g");if(o===void 0)for(var c=0;c<this.columns.length;c++)for(var m=0;m<this.rows.length;m++){var y=(y=this.rows[m].arr[c]).replace(s,"");this.rows[m].arr[c]=y,this.rows[m].obj[this.columns[c]]=y}else if(typeof o=="string")for(var a=0;a<this.rows.length;a++){var u=(u=this.rows[a].obj[o]).replace(s,""),i=(this.rows[a].obj[o]=u,this.columns.indexOf(o));this.rows[a].arr[i]=u}else for(var h=0;h<this.rows.length;h++){var p=(p=this.rows[h].arr[o]).replace(s,"");this.rows[h].arr[o]=p,this.rows[h].obj[this.columns[o]]=p}},l.default.Table.prototype.removeColumn=function(m){typeof m=="string"?c=this.columns.indexOf(s=m):s=this.columns[c=m];var s,c,m=this.columns.splice(c+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(m);for(var y=0;y<this.rows.length;y++){var a=this.rows[y].arr,u=a.splice(c+1,a.length);a.pop(),this.rows[y].arr=a.concat(u),delete this.rows[y].obj[s]}},l.default.Table.prototype.set=function(o,s,c){this.rows[o].set(s,c)},l.default.Table.prototype.setNum=function(o,s,c){this.rows[o].setNum(s,c)},l.default.Table.prototype.setString=function(o,s,c){this.rows[o].setString(s,c)},l.default.Table.prototype.get=function(o,s){return this.rows[o].get(s)},l.default.Table.prototype.getNum=function(o,s){return this.rows[o].getNum(s)},l.default.Table.prototype.getString=function(o,s){return this.rows[o].getString(s)},l.default.Table.prototype.getObject=function(o){for(var s,c={},m=0;m<this.rows.length;m++)if(s=this.rows[m].obj,typeof o=="string"){if(!(0<=this.columns.indexOf(o)))throw new Error('This table has no column named "'.concat(o,'"'));c[s[o]]=s}else c[m]=this.rows[m].obj;return c},l.default.Table.prototype.getArray=function(){for(var o=[],s=0;s<this.rows.length;s++)o.push(this.rows[s].arr);return o},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.splice":164,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.trim":193}],295:[function(e,d,f){e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.split"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.TableRow=function(l,o){var s=[],c={};l&&(s=l.split(o=o||","));for(var m=0;m<s.length;m++){var y=m,a=s[m];c[y]=a}this.arr=s,this.obj=c,this.table=null},e.default.TableRow.prototype.set=function(l,o){if(typeof l=="string"){var s=this.table.columns.indexOf(l);if(!(0<=s))throw new Error('This table has no column named "'.concat(l,'"'));this.obj[l]=o,this.arr[s]=o}else{if(!(l<this.table.columns.length))throw new Error("Column #".concat(l," is out of the range of this table"));this.arr[l]=o,s=this.table.columns[l],this.obj[s]=o}},e.default.TableRow.prototype.setNum=function(l,o){o=parseFloat(o),this.set(l,o)},e.default.TableRow.prototype.setString=function(l,o){o=o.toString(),this.set(l,o)},e.default.TableRow.prototype.get=function(l){return(typeof l=="string"?this.obj:this.arr)[l]},e.default.TableRow.prototype.getNum=function(l){var o=parseFloat(typeof l=="string"?this.obj[l]:this.arr[l]);if(o.toString()==="NaN")throw"Error: ".concat(this.obj[l]," is NaN (Not a Number)");return o},e.default.TableRow.prototype.getString=function(l){return(typeof l=="string"?this.obj:this.arr)[l].toString()},e=e.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.split":191}],296:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.replace"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(s){for(var c=[],m=0;m<s.length;m++)c.push(new l.default.XML(s[m]));return c}l.default.XML=function(s){s?this.DOM=s:(s=document.implementation.createDocument(null,"doc"),this.DOM=s.createElement("root"))},l.default.XML.prototype.getParent=function(){return new l.default.XML(this.DOM.parentElement)},l.default.XML.prototype.getName=function(){return this.DOM.tagName},l.default.XML.prototype.setName=function(s){var c=this.DOM.innerHTML,m=this.DOM.attributes,y=document.implementation.createDocument(null,"default").createElement(s);y.innerHTML=c;for(var a=0;a<m.length;a++)y.setAttribute(m[a].nodeName,m.nodeValue);this.DOM=y},l.default.XML.prototype.hasChildren=function(){return 0<this.DOM.children.length},l.default.XML.prototype.listChildren=function(){for(var s=[],c=0;c<this.DOM.childNodes.length;c++)s.push(this.DOM.childNodes[c].nodeName);return s},l.default.XML.prototype.getChildren=function(s){return o(s?this.DOM.getElementsByTagName(s):this.DOM.children)},l.default.XML.prototype.getChild=function(s){if(typeof s!="string")return new l.default.XML(this.DOM.children[s]);var c=!0,m=!1,y=void 0;try{for(var a,u=this.DOM.children[Symbol.iterator]();!(c=(a=u.next()).done);c=!0){var i=a.value;if(i.tagName===s)return new l.default.XML(i)}}catch(h){m=!0,y=h}finally{try{c||u.return==null||u.return()}finally{if(m)throw y}}},l.default.XML.prototype.addChild=function(s){s instanceof l.default.XML&&this.DOM.appendChild(s.DOM)},l.default.XML.prototype.removeChild=function(s){var c=-1;if(typeof s=="string"){for(var m=0;m<this.DOM.children.length;m++)if(this.DOM.children[m].tagName===s){c=m;break}}else c=s;c!==-1&&this.DOM.removeChild(this.DOM.children[c])},l.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length},l.default.XML.prototype.listAttributes=function(){var s=[],c=!0,m=!1,y=void 0;try{for(var a,u=this.DOM.attributes[Symbol.iterator]();!(c=(a=u.next()).done);c=!0){var i=a.value;s.push(i.nodeName)}}catch(h){m=!0,y=h}finally{try{c||u.return==null||u.return()}finally{if(m)throw y}}return s},l.default.XML.prototype.hasAttribute=function(s){var c={},m=!0,y=!1,a=void 0;try{for(var u,i=this.DOM.attributes[Symbol.iterator]();!(m=(u=i.next()).done);m=!0){var h=u.value;c[h.nodeName]=h.nodeValue}}catch(p){y=!0,a=p}finally{try{m||i.return==null||i.return()}finally{if(y)throw a}}return!!c[s]},l.default.XML.prototype.getNum=function(s,c){var m={},y=!0,a=!1,u=void 0;try{for(var i,h=this.DOM.attributes[Symbol.iterator]();!(y=(i=h.next()).done);y=!0){var p=i.value;m[p.nodeName]=p.nodeValue}}catch(g){a=!0,u=g}finally{try{y||h.return==null||h.return()}finally{if(a)throw u}}return Number(m[s])||c||0},l.default.XML.prototype.getString=function(s,c){var m={},y=!0,a=!1,u=void 0;try{for(var i,h=this.DOM.attributes[Symbol.iterator]();!(y=(i=h.next()).done);y=!0){var p=i.value;m[p.nodeName]=p.nodeValue}}catch(g){a=!0,u=g}finally{try{y||h.return==null||h.return()}finally{if(a)throw u}}return m[s]?String(m[s]):c||null},l.default.XML.prototype.setAttribute=function(s,c){this.DOM.setAttribute(s,c)},l.default.XML.prototype.getContent=function(s){var c=this.DOM.textContent;return(c=c.replace(/\s\s+/g,","))||s||null},l.default.XML.prototype.setContent=function(s){this.DOM.children.length||(this.DOM.textContent=s)},l.default.XML.prototype.serialize=function(){return new XMLSerializer().serializeToString(this.DOM)},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.replace":189,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],297:[function(e,d,f){e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.math.hypot"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.string.includes"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(){if(typeof Math.hypot=="function")return Math.hypot.apply(null,arguments);for(var s=arguments.length,c=[],m=0,y=0;y<s;y++){var a=arguments[y];if((a=+a)===1/0||a===-1/0)return 1/0;m<(a=Math.abs(a))&&(m=a),c[y]=a}m===0&&(m=1);for(var g=0,p=0,u=0;u<s;u++)var i=c[u]/m,i=i*i-p,h=g+i,p=h-g-i,g=h;return Math.sqrt(g)*m}l.default.prototype.abs=Math.abs,l.default.prototype.ceil=Math.ceil,l.default.prototype.constrain=function(s,c,m){return l.default._validateParameters("constrain",arguments),Math.max(Math.min(s,m),c)},l.default.prototype.dist=function(){for(var s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return l.default._validateParameters("dist",c),c.length===4?o(c[2]-c[0],c[3]-c[1]):c.length===6?o(c[3]-c[0],c[4]-c[1],c[5]-c[2]):void 0},l.default.prototype.exp=Math.exp,l.default.prototype.floor=Math.floor,l.default.prototype.lerp=function(s,c,m){return l.default._validateParameters("lerp",arguments),m*(c-s)+s},l.default.prototype.log=Math.log,l.default.prototype.mag=function(s,c){return l.default._validateParameters("mag",arguments),o(s,c)},l.default.prototype.map=function(s,c,m,y,a,u){return l.default._validateParameters("map",arguments),s=(s-c)/(m-c)*(a-y)+y,u?y<a?this.constrain(s,y,a):this.constrain(s,a,y):s},l.default.prototype.max=function(){for(var s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return c[0]instanceof Array?Math.max.apply(null,c[0]):Math.max.apply(null,c)},l.default.prototype.min=function(){for(var s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return c[0]instanceof Array?Math.min.apply(null,c[0]):Math.min.apply(null,c)},l.default.prototype.norm=function(s,c,m){return l.default._validateParameters("norm",arguments),this.map(s,c,m,0,1)},l.default.prototype.pow=Math.pow,l.default.prototype.round=function(s,c){return c?(c=Math.pow(10,c),Math.round(s*c)/c):Math.round(s)},l.default.prototype.sq=function(s){return s*s},l.default.prototype.sqrt=Math.sqrt,l.default.prototype.fract=function(y){l.default._validateParameters("fract",arguments);var c,m=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,m=1),String(y).includes(".")&&!String(y).includes("e")?(c=String(y),c=Number("0"+c.slice(c.indexOf("."))),Math.abs(m-c)):y<1?Math.abs(m-y):0)},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.math.hypot":167,"core-js/modules/es.number.constructor":169,"core-js/modules/es.string.includes":185}],298:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.reflect.construct"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};function o(c,m,y){return(o=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(a,u,i){var h=[null];return h.push.apply(h,u),u=new(Function.bind.apply(a,h)),i&&s(u,i.prototype),u}).apply(null,arguments)}function s(c,m){return(s=Object.setPrototypeOf||function(y,a){return y.__proto__=a,y})(c,m)}l.default.prototype.createVector=function(c,m,y){return this instanceof l.default?o(l.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new l.default.Vector(c,m,y)},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.reflect.construct":179,"core-js/modules/es.regexp.to-string":182}],299:[function(y,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function l(a){return .5*(1-Math.cos(a*Math.PI))}var o,s=4095,c=4,m=.5,y=(y.default.prototype.noise=function(a){var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(o==null){o=new Array(4096);for(var h=0;h<4096;h++)o[h]=Math.random()}a<0&&(a=-a),u<0&&(u=-u),i<0&&(i=-i);for(var p,g,v=Math.floor(a),b=Math.floor(u),w=Math.floor(i),x=a-v,k=u-b,E=i-w,M=0,O=.5,P=0;P<c;P++){var D=v+(b<<4)+(w<<8),U=l(x),z=l(k),V=o[D&s];V+=U*(o[D+1&s]-V),p=o[D+16&s],V+=z*((p+=U*(o[D+16+1&s]-p))-V),p=o[(D+=256)&s],p+=U*(o[D+1&s]-p),g=o[D+16&s],p+=z*((g+=U*(o[D+16+1&s]-g))-p),M+=(V+=l(E)*(p-V))*O,O*=m,v<<=1,b<<=1,w<<=1,1<=(x*=2)&&(v++,x--),1<=(k*=2)&&(b++,k--),1<=(E*=2)&&(w++,E--)}return M},y.default.prototype.noiseDetail=function(a,u){0<a&&(c=a),0<u&&(m=u)},y.default.prototype.noiseSeed=function(a){h=4294967296;var u,i,h,p={setSeed:function(v){i=u=(v==null?Math.random()*h:v)>>>0},getSeed:function(){return u},rand:function(){return(i=(1664525*i+1013904223)%h)/h}};p.setSeed(a),o=new Array(4096);for(var g=0;g<4096;g++)o[g]=p.rand()},y.default);f.default=y},{"../core/main":267}],300:[function(e,d,f){function l(i){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function o(i){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(h){return l(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":l(h)})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.every"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.some"),e("core-js/modules/es.math.sign"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.number.is-finite"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.sub"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(u=e("../core/main"))&&u.__esModule?u:{default:u},c=function(i){if(i&&i.__esModule)return i;if(i===null||o(i)!=="object"&&typeof i!="function")return{default:i};var h=m();if(h&&h.has(i))return h.get(i);var p,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var b;Object.prototype.hasOwnProperty.call(i,p)&&((b=v?Object.getOwnPropertyDescriptor(i,p):null)&&(b.get||b.set)?Object.defineProperty(g,p,b):g[p]=i[p])}return g.default=i,h&&h.set(i,g),g}(e("../core/constants"));function m(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,m=function(){return i},i)}s.default.Vector=function(){var i,h,p={}.toString.call(arguments[0])==="[object Function]"?(this.isPInst=!0,this._fromRadians=arguments[0],this._toRadians=arguments[1],i=arguments[2]||0,h=arguments[3]||0,arguments[4]||0):(i=arguments[0]||0,h=arguments[1]||0,arguments[2]||0);this.x=i,this.y=h,this.z=p},s.default.Vector.prototype.toString=function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")},s.default.Vector.prototype.set=function(i,h,p){return i instanceof s.default.Vector?(this.x=i.x||0,this.y=i.y||0,this.z=i.z||0):i instanceof Array?(this.x=i[0]||0,this.y=i[1]||0,this.z=i[2]||0):(this.x=i||0,this.y=h||0,this.z=p||0),this},s.default.Vector.prototype.copy=function(){return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new s.default.Vector(this.x,this.y,this.z)},s.default.Vector.prototype.add=function(i,h,p){return i instanceof s.default.Vector?(this.x+=i.x||0,this.y+=i.y||0,this.z+=i.z||0):i instanceof Array?(this.x+=i[0]||0,this.y+=i[1]||0,this.z+=i[2]||0):(this.x+=i||0,this.y+=h||0,this.z+=p||0),this};function y(i,h){return i!==0&&(this.x=this.x%i),h!==0&&(this.y=this.y%h),this}function a(i,h,p){return i!==0&&(this.x=this.x%i),h!==0&&(this.y=this.y%h),p!==0&&(this.z=this.z%p),this}s.default.Vector.prototype.rem=function(i,h,p){var g;if(i instanceof s.default.Vector){if(Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z))return v=parseFloat(i.x),b=parseFloat(i.y),g=parseFloat(i.z),a.call(this,v,b,g)}else if(i instanceof Array){if(i.every(function(w){return Number.isFinite(w)}))return i.length===2?y.call(this,i[0],i[1]):i.length===3?a.call(this,i[0],i[1],i[2]):void 0}else if(arguments.length===1){if(Number.isFinite(i)&&i!==0)return this.x=this.x%i,this.y=this.y%i,this.z=this.z%i,this}else if(arguments.length===2){var v=Array.prototype.slice.call(arguments);if(v.every(function(w){return Number.isFinite(w)})&&v.length===2)return y.call(this,v[0],v[1])}else if(arguments.length===3){var b=Array.prototype.slice.call(arguments);if(b.every(function(w){return Number.isFinite(w)})&&b.length===3)return a.call(this,b[0],b[1],b[2])}},s.default.Vector.prototype.sub=function(i,h,p){return i instanceof s.default.Vector?(this.x-=i.x||0,this.y-=i.y||0,this.z-=i.z||0):i instanceof Array?(this.x-=i[0]||0,this.y-=i[1]||0,this.z-=i[2]||0):(this.x-=i||0,this.y-=h||0,this.z-=p||0),this},s.default.Vector.prototype.mult=function(i,h,p){var g;return i instanceof s.default.Vector?Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z)&&typeof i.x=="number"&&typeof i.y=="number"&&typeof i.z=="number"?(this.x*=i.x,this.y*=i.y,this.z*=i.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):i instanceof Array?i.every(function(v){return Number.isFinite(v)})&&i.every(function(v){return typeof v=="number"})?i.length===1?(this.x*=i[0],this.y*=i[0],this.z*=i[0]):i.length===2?(this.x*=i[0],this.y*=i[1]):i.length===3&&(this.x*=i[0],this.y*=i[1],this.z*=i[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(g=Array.prototype.slice.call(arguments)).every(function(v){return Number.isFinite(v)})&&g.every(function(v){return typeof v=="number"})?(arguments.length===1&&(this.x*=i,this.y*=i,this.z*=i),arguments.length===2&&(this.x*=i,this.y*=h),arguments.length===3&&(this.x*=i,this.y*=h,this.z*=p)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this},s.default.Vector.prototype.div=function(i,h,p){if(i instanceof s.default.Vector)if(Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(i.z)&&typeof i.x=="number"&&typeof i.y=="number"&&typeof i.z=="number"){if(i.x===0||i.y===0||i.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=i.x,this.y/=i.y,this.z/=i.z}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(i instanceof Array)if(i.every(function(v){return Number.isFinite(v)})&&i.every(function(v){return typeof v=="number"})){if(i.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;i.length===1?(this.x/=i[0],this.y/=i[0],this.z/=i[0]):i.length===2?(this.x/=i[0],this.y/=i[1]):i.length===3&&(this.x/=i[0],this.y/=i[1],this.z/=i[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else{var g=Array.prototype.slice.call(arguments);if(g.every(function(v){return Number.isFinite(v)})&&g.every(function(v){return typeof v=="number"})){if(g.some(function(v){return v===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;arguments.length===1&&(this.x/=i,this.y/=i,this.z/=i),arguments.length===2&&(this.x/=i,this.y/=h),arguments.length===3&&(this.x/=i,this.y/=h,this.z/=p)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this},s.default.Vector.prototype.mag=function(){return Math.sqrt(this.magSq())},s.default.Vector.prototype.magSq=function(){var i=this.x,h=this.y,p=this.z;return i*i+h*h+p*p},s.default.Vector.prototype.dot=function(i,h,p){return i instanceof s.default.Vector?this.dot(i.x,i.y,i.z):this.x*(i||0)+this.y*(h||0)+this.z*(p||0)},s.default.Vector.prototype.cross=function(g){var h=this.y*g.z-this.z*g.y,p=this.z*g.x-this.x*g.z,g=this.x*g.y-this.y*g.x;return this.isPInst?new s.default.Vector(this._fromRadians,this._toRadians,h,p,g):new s.default.Vector(h,p,g)},s.default.Vector.prototype.dist=function(i){return i.copy().sub(this).mag()},s.default.Vector.prototype.normalize=function(){var i=this.mag();return i!==0&&this.mult(1/i),this},s.default.Vector.prototype.limit=function(i){var h=this.magSq();return i*i<h&&this.div(Math.sqrt(h)).mult(i),this},s.default.Vector.prototype.setMag=function(i){return this.normalize().mult(i)},s.default.Vector.prototype.heading=function(){var i=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(i):i},s.default.Vector.prototype.setHeading=function(i){this.isPInst&&(i=this._toRadians(i));var h=this.mag();return this.x=h*Math.cos(i),this.y=h*Math.sin(i),this},s.default.Vector.prototype.rotate=function(h){var h=this.heading()+h,p=(this.isPInst&&(h=this._toRadians(h)),this.mag());return this.x=Math.cos(h)*p,this.y=Math.sin(h)*p,this},s.default.Vector.prototype.angleBetween=function(i){var h=this.dot(i)/(this.mag()*i.mag()),h=Math.acos(Math.min(1,Math.max(-1,h)));return h*=Math.sign(this.cross(i).z||1),h=this.isPInst?this._fromRadians(h):h},s.default.Vector.prototype.lerp=function(i,h,p,g){return i instanceof s.default.Vector?this.lerp(i.x,i.y,i.z,h):(this.x+=(i-this.x)*g||0,this.y+=(h-this.y)*g||0,this.z+=(p-this.z)*g||0,this)},s.default.Vector.prototype.reflect=function(i){return i.normalize(),this.sub(i.mult(2*this.dot(i)))},s.default.Vector.prototype.array=function(){return[this.x||0,this.y||0,this.z||0]},s.default.Vector.prototype.equals=function(b,h,p){var g,v,b=b instanceof s.default.Vector?(g=b.x||0,v=b.y||0,b.z||0):b instanceof Array?(g=b[0]||0,v=b[1]||0,b[2]||0):(g=b||0,v=h||0,p||0);return this.x===g&&this.y===v&&this.z===b},s.default.Vector.fromAngle=function(i,h){return new s.default.Vector((h=h===void 0?1:h)*Math.cos(i),h*Math.sin(i),0)},s.default.Vector.fromAngles=function(w,v,p){p===void 0&&(p=1);var g=Math.cos(v),v=Math.sin(v),b=Math.cos(w),w=Math.sin(w);return new s.default.Vector(p*w*v,-p*b,p*w*g)},s.default.Vector.random2D=function(){return this.fromAngle(Math.random()*c.TWO_PI)},s.default.Vector.random3D=function(){var i=Math.random()*c.TWO_PI,h=2*Math.random()-1,g=Math.sqrt(1-h*h),p=g*Math.cos(i),g=g*Math.sin(i);return new s.default.Vector(p,g,h)},s.default.Vector.add=function(i,h,p){return p?p.set(i):(p=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),p.add(h),p},s.default.Vector.rem=function(i,h){if(i instanceof s.default.Vector&&h instanceof s.default.Vector)return(i=i.copy()).rem(h),i},s.default.Vector.sub=function(i,h,p){return p?p.set(i):(p=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),p.sub(h),p},s.default.Vector.mult=function(i,h,p){return p?p.set(i):(p=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),p.mult(h),p},s.default.Vector.rotate=function(i,h,p){return arguments.length===2?p=i.copy():(p instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),p.set(i)),p.rotate(h),p},s.default.Vector.div=function(i,h,p){return p?p.set(i):(p=i.copy(),arguments.length===3&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),p.div(h),p},s.default.Vector.dot=function(i,h){return i.dot(h)},s.default.Vector.cross=function(i,h){return i.cross(h)},s.default.Vector.dist=function(i,h){return i.dist(h)},s.default.Vector.lerp=function(i,h,p,g){return g?g.set(i):(g=i.copy(),arguments.length===4&&s.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),g.lerp(h,p),g},s.default.Vector.mag=function(g){var h=g.x,p=g.y,g=g.z;return Math.sqrt(h*h+p*p+g*g)},s.default.Vector.normalize=function(i,h){return arguments.length<2?h=i.copy():(h instanceof s.default.Vector||s.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),h.set(i)),h.normalize()};var u=s.default.Vector;f.default=u},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.every":151,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.some":163,"core-js/modules/es.math.sign":168,"core-js/modules/es.number.constructor":169,"core-js/modules/es.number.is-finite":170,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],301:[function(m,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(m=m("../core/main"))&&m.__esModule?m:{default:m},o="_lcg_random_state",s=4294967296,c=0,m=(l.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%s,this[y]/s},l.default.prototype._lcgSetSeed=function(y,a){this[y]=(a==null?Math.random()*s:a)>>>0},l.default.prototype.randomSeed=function(y){this._lcgSetSeed(o,y),this._gaussian_previous=!1},l.default.prototype.random=function(y,a){var u,i;return l.default._validateParameters("random",arguments),u=this[o]!=null?this._lcg(o):Math.random(),y===void 0?u:a===void 0?y instanceof Array?y[Math.floor(u*y.length)]:u*y:(a<y&&(i=y,y=a,a=i),u*(a-y)+y)},l.default.prototype.randomGaussian=function(y){var a,u,i,h,p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)a=c,this._gaussian_previous=!1;else{for(;1<=(h=(u=this.random(2)-1)*u+(i=this.random(2)-1)*i););a=u*(h=Math.sqrt(-2*Math.log(h)/h)),c=i*h,this._gaussian_previous=!0}return a*p+(y||0)},l.default);f.default=m},{"../core/main":267}],302:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../core/main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}s.default.prototype._angleMode=c.RADIANS,s.default.prototype.acos=function(a){return this._fromRadians(Math.acos(a))},s.default.prototype.asin=function(a){return this._fromRadians(Math.asin(a))},s.default.prototype.atan=function(a){return this._fromRadians(Math.atan(a))},s.default.prototype.atan2=function(a,u){return this._fromRadians(Math.atan2(a,u))},s.default.prototype.cos=function(a){return Math.cos(this._toRadians(a))},s.default.prototype.sin=function(a){return Math.sin(this._toRadians(a))},s.default.prototype.tan=function(a){return Math.tan(this._toRadians(a))},s.default.prototype.degrees=function(a){return a*c.RAD_TO_DEG},s.default.prototype.radians=function(a){return a*c.DEG_TO_RAD},s.default.prototype.angleMode=function(a){if(s.default._validateParameters("angleMode",arguments),a===void 0)return this._angleMode;a!==c.DEGREES&&a!==c.RADIANS||(this._angleMode=a)},s.default.prototype._toRadians=function(a){return this._angleMode===c.DEGREES?a*c.DEG_TO_RAD:a},s.default.prototype._toDegrees=function(a){return this._angleMode===c.RADIANS?a*c.RAD_TO_DEG:a},s.default.prototype._fromRadians=function(a){return this._angleMode===c.DEGREES?a*c.RAD_TO_DEG:a};var y=s.default;f.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],303:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.textAlign=function(o,s){var c;return l.default._validateParameters("textAlign",arguments),(c=this._renderer).textAlign.apply(c,arguments)},l.default.prototype.textLeading=function(o){var s;return l.default._validateParameters("textLeading",arguments),(s=this._renderer).textLeading.apply(s,arguments)},l.default.prototype.textSize=function(o){var s;return l.default._validateParameters("textSize",arguments),(s=this._renderer).textSize.apply(s,arguments)},l.default.prototype.textStyle=function(o){var s;return l.default._validateParameters("textStyle",arguments),(s=this._renderer).textStyle.apply(s,arguments)},l.default.prototype.textWidth=function(){for(var o,s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return c[0]+="",l.default._validateParameters("textWidth",c),c[0].length===0?0:(o=this._renderer).textWidth.apply(o,c)},l.default.prototype.textAscent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return l.default._validateParameters("textAscent",s),this._renderer.textAscent()},l.default.prototype.textDescent=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return l.default._validateParameters("textDescent",s),this._renderer.textDescent()},l.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},l.default.prototype.textWrap=function(o){if(o!=="WORD"&&o!=="CHAR")throw"Error: textWrap accepts only WORD or CHAR";return this._renderer.textWrap(o)},e=l.default,f.default=e},{"../core/main":267}],304:[function(e,d,f){function l(i){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function o(i){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(h){return l(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":l(h)})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.last-index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.split"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(u=e("../core/main"))&&u.__esModule?u:{default:u},c=a(e("../core/constants")),m=a(e("opentype.js"));function y(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,y=function(){return i},i)}function a(i){if(i&&i.__esModule)return i;if(i===null||o(i)!=="object"&&typeof i!="function")return{default:i};var h=y();if(h&&h.has(i))return h.get(i);var p,g,v={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i)Object.prototype.hasOwnProperty.call(i,p)&&((g=b?Object.getOwnPropertyDescriptor(i,p):null)&&(g.get||g.set)?Object.defineProperty(v,p,g):v[p]=i[p]);return v.default=i,h&&h.set(i,v),v}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),s.default.prototype.loadFont=function(i,h,p){s.default._validateParameters("loadFont",arguments);var g=new s.default.Font(this),v=this;return m.load(i,function(x,k){if(x)return s.default._friendlyFileLoadError(4,i),p!==void 0?p(x):void console.error(x,i);g.font=k,h!==void 0&&h(g),v._decrementPreload();var x=i.split("\\").pop().split("/").pop(),k=x.lastIndexOf("."),E=k<1?null:x.slice(k+1);["ttf","otf","woff","woff2"].includes(E)&&(E=x.slice(0,k!==-1?k:0),(x=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(E,`;
src: url(`).concat(i,`);
}
`))),document.head.appendChild(x))}),g},s.default.prototype.text=function(i,h,p,g,v){var b;return s.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(b=this._renderer).text.apply(b,arguments):this},s.default.prototype.textFont=function(i,h){if(s.default._validateParameters("textFont",arguments),arguments.length){if(i)return this._renderer._setProperty("_textFont",i),h&&(this._renderer._setProperty("_textSize",h),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",h*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var u=s.default;f.default=u},{"../core/constants":256,"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.last-index-of":160,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,"opentype.js":241}],305:[function(e,d,f){function l(E){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M})(E)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var o=(o=e("../core/main"))&&o.__esModule?o:{default:o},s=function(E){if(E&&E.__esModule)return E;if(E===null||m(E)!=="object"&&typeof E!="function")return{default:E};var M=c();if(M&&M.has(E))return M.get(E);var O,P={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(O in E){var U;Object.prototype.hasOwnProperty.call(E,O)&&((U=D?Object.getOwnPropertyDescriptor(E,O):null)&&(U.get||U.set)?Object.defineProperty(P,O,U):P[O]=E[O])}return P.default=E,M&&M.set(E,P),P}(e("../core/constants"));function c(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,c=function(){return E},E)}function m(E){return(m=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(M){return l(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":l(M)})(E)}function y(E,M){var O=E.length;return E[M<0?M%O+O:M%O]}function a(E,M,O,P){var D,U,z;return P?(a.tmpPoint1===void 0&&(a.tmpPoint1=[],a.tmpPoint2=[]),U=a.tmpPoint1,z=a.tmpPoint2,U.x=M.x-E.x,U.y=M.y-E.y,z.x=O.x-M.x,z.y=O.y-M.y,D=U.x*z.x+U.y*z.y,U=Math.sqrt(U.x*U.x+U.y*U.y),z=Math.sqrt(z.x*z.x+z.y*z.y),Math.acos(D/(U*z))<P):(M[0]-E[0])*(O[1]-E[1])-(O[0]-E[0])*(M[1]-E[1])==0}function u(R,N,j,F,ie,U,z,V,K){var re=1-K,ue=Math.pow(re,3),te=Math.pow(re,2),ne=K*K,oe=ne*K,Q=ue*R+3*te*K*j+3*re*K*K*ie+oe*z,ue=ue*N+3*te*K*F+3*re*K*K*U+oe*V,te=R+2*K*(j-R)+ne*(ie-2*j+R),oe=N+2*K*(F-N)+ne*(U-2*F+N),ce=j+2*K*(ie-j)+ne*(z-2*ie+j),ne=F+2*K*(U-F)+ne*(V-2*U+F),R=re*R+K*j,j=re*N+K*F,N=re*ie+K*z,F=re*U+K*V,ie=90-180*Math.atan2(te-ce,oe-ne)/Math.PI;return(ce<te||oe<ne)&&(ie+=180),{x:Q,y:ue,m:{x:te,y:oe},n:{x:ce,y:ne},start:{x:R,y:j},end:{x:N,y:F},alpha:ie}}function i(E,M,O,P,D,U,z,V,K){return K==null?x(E,M,O,P,D,U,z,V):u(E,M,O,P,D,U,z,V,function(re,Q,ue,te,oe,ce,ne,R,j){if(!(j<0||x(re,Q,ue,te,oe,ce,ne,R)<j)){var N,F=.5,ie=1-F;for(N=x(re,Q,ue,te,oe,ce,ne,R,ie);.01<Math.abs(N-j);)N=x(re,Q,ue,te,oe,ce,ne,R,ie+=(N<j?1:-1)*(F/=2));return ie}}(E,M,O,P,D,U,z,V,K))}function h(E,M,O){for(var P,D,U,z,V,K=0,re=0,Q=(E=function(ue,te){function oe(ze,Ve,ot){var se,Ne;if(!ze)return["C",Ve.x,Ve.y,Ve.x,Ve.y,Ve.x,Ve.y];switch(ze[0]in{T:1,Q:1}||(Ve.qx=Ve.qy=null),ze[0]){case"M":Ve.X=ze[1],Ve.Y=ze[2];break;case"A":ze=["C"].concat(g.apply(0,[Ve.x,Ve.y].concat(ze.slice(1))));break;case"S":Ne=ot==="C"||ot==="S"?(se=2*Ve.x-Ve.bx,2*Ve.y-Ve.by):(se=Ve.x,Ve.y),ze=["C",se,Ne].concat(ze.slice(1));break;case"T":ot==="Q"||ot==="T"?(Ve.qx=2*Ve.x-Ve.qx,Ve.qy=2*Ve.y-Ve.qy):(Ve.qx=Ve.x,Ve.qy=Ve.y),ze=["C"].concat(w(Ve.x,Ve.y,Ve.qx,Ve.qy,ze[1],ze[2]));break;case"Q":Ve.qx=ze[1],Ve.qy=ze[2],ze=["C"].concat(w(Ve.x,Ve.y,ze[1],ze[2],ze[3],ze[4]));break;case"L":ze=["C"].concat(b(Ve.x,Ve.y,ze[1],ze[2]));break;case"H":ze=["C"].concat(b(Ve.x,Ve.y,ze[1],Ve.y));break;case"V":ze=["C"].concat(b(Ve.x,Ve.y,Ve.x,ze[1]));break;case"Z":ze=["C"].concat(b(Ve.x,Ve.y,Ve.X,Ve.Y))}return ze}function ce(ze,Ve){if(7<ze[Ve].length){ze[Ve].shift();for(var ot=ze[Ve];ot.length;)ae[Ve]="A",N&&(Te[Ve]="A"),ze.splice(Ve++,0,["C"].concat(ot.splice(0,6)));ze.splice(Ve,1),R=Math.max(j.length,N&&N.length||0)}}function ne(ze,Ve,ot,se,Ne){ze&&Ve&&ze[Ne][0]==="M"&&Ve[Ne][0]!=="M"&&(Ve.splice(Ne,0,["M",se.x,se.y]),ot.bx=0,ot.by=0,ot.x=ze[Ne][1],ot.y=ze[Ne][2],R=Math.max(j.length,N&&N.length||0))}var R,j=p(ue),N=te&&p(te),F={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ae=[],Te=[],ke="",Me="";R=Math.max(j.length,N&&N.length||0);for(var Se=0;Se<R;Se++){(ke=j[Se]?j[Se][0]:ke)!=="C"&&(ae[Se]=ke,Se&&(Me=ae[Se-1])),j[Se]=oe(j[Se],F,Me),ae[Se]!=="A"&&ke==="C"&&(ae[Se]="C"),ce(j,Se),N&&((ke=N[Se]?N[Se][0]:ke)!=="C"&&(Te[Se]=ke,Se&&(Me=Te[Se-1])),N[Se]=oe(N[Se],ie,Me),Te[Se]!=="A"&&ke==="C"&&(Te[Se]="C"),ce(N,Se)),ne(j,N,F,ie,Se),ne(N,j,ie,F,Se);var Xe=j[Se],ve=N&&N[Se],Ce=Xe.length,Fe=N&&ve.length;F.x=Xe[Ce-2],F.y=Xe[Ce-1],F.bx=parseFloat(Xe[Ce-4])||F.x,F.by=parseFloat(Xe[Ce-3])||F.y,ie.bx=N&&(parseFloat(ve[Fe-4])||ie.x),ie.by=N&&(parseFloat(ve[Fe-3])||ie.y),ie.x=N&&ve[Fe-2],ie.y=N&&ve[Fe-1]}return N?[j,N]:j}(E)).length;re<Q;re++){if((U=E[re])[0]==="M")P=+U[1],D=+U[2];else{if(M<K+(z=i(P,D,U[1],U[2],U[3],U[4],U[5],U[6]))&&!O)return{x:(V=i(P,D,U[1],U[2],U[3],U[4],U[5],U[6],M-K)).x,y:V.y,alpha:V.alpha};K+=z,P=+U[5],D=+U[6]}U.shift()}return V=(V=O?K:u(P,D,U[0],U[1],U[2],U[3],U[4],U[5],1)).alpha?{x:V.x,y:V.y,alpha:V.alpha}:V}function p(E){var M=[],O=0,P=0,D=0,U=0,z=0;if(E){E[0][0]==="M"&&(D=O=+E[0][1],U=P=+E[0][2],z++,M[0]=["M",O,P]);for(var V,K,re=E.length===3&&E[0][0]==="M"&&E[1][0].toUpperCase()==="R"&&E[2][0].toUpperCase()==="Z",Q=z,ue=E.length;Q<ue;Q++){if(M.push(V=[]),(K=E[Q])[0]!==String.prototype.toUpperCase.call(K[0]))switch(V[0]=String.prototype.toUpperCase.call(K[0]),V[0]){case"A":V[1]=K[1],V[2]=K[2],V[3]=K[3],V[4]=K[4],V[5]=K[5],V[6]=+(K[6]+O),V[7]=+(K[7]+P);break;case"V":V[1]=+K[1]+P;break;case"H":V[1]=+K[1]+O;break;case"R":for(var te,oe=2,ce=(te=[O,P].concat(K.slice(1))).length;oe<ce;oe++)te[oe]=+te[oe]+O,te[++oe]=+te[oe]+P;M.pop(),M=M.concat(v(te,re));break;case"M":D=+K[1]+O,U=+K[2]+P;break;default:for(var ne=1,R=K.length;ne<R;ne++)V[ne]=+K[ne]+(ne%2?O:P)}else if(K[0]==="R")te=[O,P].concat(K.slice(1)),M.pop(),M=M.concat(v(te,re)),V=["R"].concat(K.slice(-2));else for(var j=0,N=K.length;j<N;j++)V[j]=K[j];switch(V[0]){case"Z":O=D,P=U;break;case"H":O=V[1];break;case"V":P=V[1];break;case"M":D=V[V.length-2],U=V[V.length-1];break;default:O=V[V.length-2],P=V[V.length-1]}}}return M}function g(E,M,O,P,N,ae,F,V,K,re){function Q(Fe,ze,Ve){return{x:Fe*Math.cos(Ve)-ze*Math.sin(Ve),y:Fe*Math.sin(Ve)+ze*Math.cos(Ve)}}var ue,R=Math.PI,j=120*R/180,te=R/180*(+N||0),oe=[],ce=(re?(Se=re[0],ue=re[1],ke=re[2],Me=re[3]):(E=(ie=Q(E,M,-te)).x,M=ie.y,1<(ce=(ne=(E-(V=(ie=Q(V,K,-te)).x))/2)*ne/(O*O)+(ie=(M-(K=ie.y))/2)*ie/(P*P))&&(O*=ce=Math.sqrt(ce),P*=ce),ce=O*O,Te=P*P,ke=(ae=(ae===F?-1:1)*Math.sqrt(Math.abs((ce*Te-ce*ie*ie-Te*ne*ne)/(ce*ie*ie+Te*ne*ne))))*O*ie/P+(E+V)/2,Me=ae*-P*ne/O+(M+K)/2,Se=Math.asin(((M-Me)/P).toFixed(9)),ue=Math.asin(((K-Me)/P).toFixed(9)),(Se=E<ke?R-Se:Se)<0&&(Se=2*R+Se),(ue=V<ke?R-ue:ue)<0&&(ue=2*R+ue),F&&ue<Se&&(Se-=2*R),!F&&Se<ue&&(ue-=2*R)),ue-Se),ne=(Math.abs(ce)>j&&(Te=ue,ie=V,ae=K,ue=Se+j*(F&&Se<ue?1:-1),oe=g(V=ke+O*Math.cos(ue),K=Me+P*Math.sin(ue),O,P,N,0,F,ie,ae,[ue,Te,ke,Me])),ce=ue-Se,Math.cos(Se)),R=Math.sin(Se),j=Math.cos(ue),N=Math.sin(ue),F=Math.tan(ce/4),ie=4/3*O*F,ae=4/3*P*F,Te=[E,M],ke=[E+ie*R,M-ae*ne],Me=[V+ie*N,K-ae*j],Se=[V,K];if(ke[0]=2*Te[0]-ke[0],ke[1]=2*Te[1]-ke[1],re)return[ke,Me,Se].concat(oe);for(var Xe=[],ve=0,Ce=(oe=[ke,Me,Se].concat(oe).join().split(",")).length;ve<Ce;ve++)Xe[ve]=ve%2?Q(oe[ve-1],oe[ve],te).y:Q(oe[ve],oe[ve+1],te).x;return Xe}function v(E,M){for(var O=[],P=0,D=E.length;P<D-2*!M;P+=2){var U=[{x:+E[P-2],y:+E[P-1]},{x:+E[P],y:+E[P+1]},{x:+E[P+2],y:+E[P+3]},{x:+E[P+4],y:+E[P+5]}];M?P?D-4===P?U[3]={x:+E[0],y:+E[1]}:D-2===P&&(U[2]={x:+E[0],y:+E[1]},U[3]={x:+E[2],y:+E[3]}):U[0]={x:+E[D-2],y:+E[D-1]}:D-4===P?U[3]=U[2]:P||(U[0]={x:+E[P],y:+E[P+1]}),O.push(["C",(-U[0].x+6*U[1].x+U[2].x)/6,(-U[0].y+6*U[1].y+U[2].y)/6,(U[1].x+6*U[2].x-U[3].x)/6,(U[1].y+6*U[2].y-U[3].y)/6,U[2].x,U[2].y])}return O}function b(E,M,O,P){return[E,M,O,P,O,P]}function w(E,M,O,P,D,U){return[1/3*E+2/3*O,1/3*M+2/3*P,1/3*D+2/3*O,1/3*U+2/3*P,D,U]}function x(E,M,O,P,D,U,z,V,K){for(var re=(K=1<(K=K==null?1:K)?1:K<0?0:K)/2,Q=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],ue=0,te=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],oe=0;oe<12;oe++){var ne=re*Q[oe]+re,ce=k(ne,E,O,D,z),ne=k(ne,M,P,U,V);ue+=te[oe]*Math.sqrt(ce*ce+ne*ne)}return re*ue}function k(E,M,O,P,D){return E*(E*(-3*M+9*O-9*P+3*D)+6*M-12*O+6*P)-3*M+3*O}o.default.Font=function(E){this.parent=E,this.cache={},this.font=void 0},o.default.Font.prototype.textBounds=function(E){var M=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,z=3<arguments.length?arguments[3]:void 0,P=4<arguments.length?arguments[4]:void 0,D=P&&P.renderer&&P.renderer._pInst||this.parent,U=D._renderer.drawingContext,z=(U.textAlign||s.LEFT,U.textBaseline||s.BASELINE,z||D._renderer._textSize);if(!j){for(var V=[],K=[],re=[],Q=(re[0]=[],[]),ue=this._scale(z),te=D._renderer.textLeading(),oe=0,ce=(this.font.forEachGlyph(E,M,O,z,P,function(ie,ae,Te,ke){var Me=ie.getMetrics();ie.index===0||ie.index===10?re[oe+=1]=[]:(re[oe].push(ae+Me.xMin*ue),re[oe].push(ae+Me.xMax*ue),Q.push(Te+oe*te+-Me.yMin*ue),Q.push(Te+oe*te+-Me.yMax*ue))}),0<re[oe].length&&(V[oe]=Math.min.apply(null,re[oe]),K[oe]=Math.max.apply(null,re[oe])),0),ne=0;ne<=oe;ne++){V[ne]=Math.min.apply(null,re[ne]),K[ne]=Math.max.apply(null,re[ne]);var R=K[ne]-V[ne];ce<R&&(ce=R)}var U=Math.min.apply(null,V),j={x:U,y:O=Math.min.apply(null,Q),h:Math.max.apply(null,Q)-O,w:ce,advance:U-M},z=this._handleAlignment(D._renderer,E,j.x,j.y,j.w+j.advance);j.x=z.x,j.y=z.y}return j},o.default.Font.prototype.textToPoints=function(E,M,O,P,D){var U=0,z=[],V=this._getGlyphs(E);P=P||this.parent._renderer._textSize;for(var K,re=0;re<V.length;re++){if(!(V[K=re].name&&V[K].name==="space"||E.length===V.length&&E[K]===" "))for(var Q=function(ce){for(var ne,R=[],j=0;j<ce.length;j++)ce[j].type==="M"&&(ne&&R.push(ne),ne=[]),ne.push(function(N){var F=[N.type];return N.type==="M"||N.type==="L"?F.push(N.x,N.y):N.type==="C"?F.push(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"&&F.push(N.x1,N.y1,N.x,N.y),F}(ce[j]));return R.push(ne),R}(V[re].getPath(M,O,P).commands),ue=0;ue<Q.length;ue++)for(var te=function(ce,ne){for(var ne=function(ae,Te){if(m(ae)!=="object")ae=Te;else for(var ke in Te)ae[ke]===void 0&&(ae[ke]=Te[ke]);return ae}(ne,{sampleFactor:.1,simplifyThreshold:0}),R=h(ce,0,1),j=R/(R*ne.sampleFactor),N=[],F=0;F<R;F+=j)N.push(h(ce,F));return ne.simplifyThreshold&&function(ie){for(var ae=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Te=0,ke=ie.length-1;3<ie.length&&0<=ke;--ke)a(y(ie,ke-1),y(ie,ke),y(ie,ke+1),ae)&&(ie.splice(ke%ie.length,1),Te++)}(N,ne.simplifyThreshold),N}(Q[ue],D),oe=0;oe<te.length;oe++)te[oe].x+=U,z.push(te[oe]);U+=V[re].advanceWidth*this._scale(P)}return z},o.default.Font.prototype._getGlyphs=function(E){return this.font.stringToGlyphs(E)},o.default.Font.prototype._getPath=function(E,U,O,P){var D=(P&&P.renderer&&P.renderer._pInst||this.parent)._renderer,U=this._handleAlignment(D,E,U,O);return this.font.getPath(E,U.x,U.y,D._textSize,P)},o.default.Font.prototype._getPathData=function(E,M,O,P){var D=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,M,O,P):m(M)==="object"&&(P=M),P&&typeof P.decimals=="number"&&(D=P.decimals),E.toPathData(D)},o.default.Font.prototype._getSVG=function(E,M,O,P){var D=3;return typeof E=="string"&&2<arguments.length?E=this._getPath(E,M,O,P):m(M)==="object"&&(P=M),P&&(typeof P.decimals=="number"&&(D=P.decimals),typeof P.strokeWidth=="number"&&(E.strokeWidth=P.strokeWidth),P.fill!==void 0&&(E.fill=P.fill),P.stroke!==void 0&&(E.stroke=P.stroke)),E.toSVG(D)},o.default.Font.prototype._renderPath=function(z,K,re,P){var D=P&&P.renderer||this.parent._renderer,U=D.drawingContext,z=(m(z)==="object"&&z.commands?z:this._getPath(z,K,re,P)).commands,V=(U.beginPath(),!0),K=!1,re=void 0;try{for(var Q,ue=z[Symbol.iterator]();!(V=(Q=ue.next()).done);V=!0){var te=Q.value;te.type==="M"?U.moveTo(te.x,te.y):te.type==="L"?U.lineTo(te.x,te.y):te.type==="C"?U.bezierCurveTo(te.x1,te.y1,te.x2,te.y2,te.x,te.y):te.type==="Q"?U.quadraticCurveTo(te.x1,te.y1,te.x,te.y):te.type==="Z"&&U.closePath()}}catch(oe){K=!0,re=oe}finally{try{V||ue.return==null||ue.return()}finally{if(K)throw re}}return D._doStroke&&D._strokeSet&&U.stroke(),D._doFill&&(D._fillSet||D._setFill(s._DEFAULT_TEXT_FILL),U.fill()),this},o.default.Font.prototype._textWidth=function(E,M){return this.font.getAdvanceWidth(E,M)},o.default.Font.prototype._textAscent=function(E){return this.font.ascender*this._scale(E)},o.default.Font.prototype._textDescent=function(E){return-this.font.descender*this._scale(E)},o.default.Font.prototype._scale=function(E){return 1/this.font.unitsPerEm*(E||this.parent._renderer._textSize)},o.default.Font.prototype._handleAlignment=function(E,M,O,P,D){var U=E._textSize;switch(D===void 0&&(D=this._textWidth(M,U)),E._textAlign){case s.CENTER:O-=D/2;break;case s.RIGHT:O-=D}switch(E._textBaseline){case s.TOP:P+=this._textAscent(U);break;case s.CENTER:P+=this._textAscent(U)/2;break;case s.BOTTOM:P-=this._textDescent(U)}return{x:O,y:P}},e=o.default,f.default=e},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.function.name":165,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],306:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.array-buffer.constructor"),e("core-js/modules/es.object.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype.append=function(l,o){return l.push(o),l},e.default.prototype.arrayCopy=function(l,o,s,c,m){var y,a;l=m!==void 0?(a=Math.min(m,l.length),y=c,l.slice(o,a+o)):(a=s!==void 0?(a=s,Math.min(a,l.length)):l.length,s=o,l.slice(y=0,a)),Array.prototype.splice.apply(s,[y,a].concat(l))},e.default.prototype.concat=function(l,o){return l.concat(o)},e.default.prototype.reverse=function(l){return l.reverse()},e.default.prototype.shorten=function(l){return l.pop(),l},e.default.prototype.shuffle=function(l,o){for(var s,c,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(l),y=(l=o||m?l:l.slice()).length;1<y;)s=this.random(0,1)*y|0,c=l[--y],l[y]=l[s],l[s]=c;return l},e.default.prototype.sort=function(l,c){var s=c?l.slice(0,Math.min(c,l.length)):l,c=c?l.slice(Math.min(c,l.length)):[];return(s=typeof s[0]=="string"?s.sort():s.sort(function(m,y){return m-y})).concat(c)},e.default.prototype.splice=function(l,o,s){return Array.prototype.splice.apply(l,[s,0].concat(o)),l},e.default.prototype.subset=function(l,o,s){return s!==void 0?l.slice(o,o+s):l.slice(o,l.length)},e=e.default,f.default=e},{"../core/main":267,"core-js/modules/es.array-buffer.constructor":148,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177}],307:[function(e,d,f){e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),e("core-js/modules/es.array.map"),e("core-js/modules/es.number.constructor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.repeat"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.float=function(o){return o instanceof Array?o.map(parseFloat):parseFloat(o)},l.default.prototype.int=function(o){var s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return o===1/0||o==="Infinity"?1/0:o===-1/0||o==="-Infinity"?-1/0:typeof o=="string"?parseInt(o,s):typeof o=="number"?0|o:typeof o=="boolean"?o?1:0:o instanceof Array?o.map(function(c){return l.default.prototype.int(c,s)}):void 0},l.default.prototype.str=function(o){return o instanceof Array?o.map(l.default.prototype.str):String(o)},l.default.prototype.boolean=function(o){return typeof o=="number"?o!==0:typeof o=="string"?o.toLowerCase()==="true":typeof o=="boolean"?o:o instanceof Array?o.map(l.default.prototype.boolean):void 0},l.default.prototype.byte=function(o){return o=l.default.prototype.int(o,10),typeof o=="number"?(o+128)%256-128:o instanceof Array?o.map(l.default.prototype.byte):void 0},l.default.prototype.char=function(o){return typeof o!="number"||isNaN(o)?o instanceof Array?o.map(l.default.prototype.char):typeof o=="string"?l.default.prototype.char(parseInt(o,10)):void 0:String.fromCharCode(o)},l.default.prototype.unchar=function(o){return typeof o=="string"&&o.length===1?o.charCodeAt(0):o instanceof Array?o.map(l.default.prototype.unchar):void 0},l.default.prototype.hex=function(o,s){if(s=s==null?8:s,o instanceof Array)return o.map(function(m){return l.default.prototype.hex(m,s)});if(o===1/0||o===-1/0)return(o===1/0?"F":"0").repeat(s);if(typeof o=="number"){o<0&&(o=4294967295+o+1);for(var c=Number(o).toString(16).toUpperCase();c.length<s;)c="0".concat(c);return c=c.length>=s?c.substring(c.length-s,c.length):c}},l.default.prototype.unhex=function(o){return o instanceof Array?o.map(l.default.prototype.unhex):parseInt("0x".concat(o),16)},e=l.default,f.default=e},{"../core/main":267,"core-js/modules/es.array.map":161,"core-js/modules/es.number.constructor":169,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.repeat":188}],308:[function(e,d,f){e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.filter"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.join"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.constructor"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.replace"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(y=e("../core/main"))&&y.__esModule?y:{default:y};function o(p,u,i){var h=p<0,p=h?p.toString().substring(1):p.toString(),g=p.indexOf("."),v=g!==-1?p.substring(0,g):p,b=g!==-1?p.substring(g+1):"",w=h?"-":"";if(i!==void 0){h="",(g!==-1||0<i-b.length)&&(h="."),b.length>i&&(b=b.substring(0,i));for(var x=0;x<u-v.length;x++)w+="0";for(var w=(w+=v)+h+b,k=0;k<i-b.length;k++)w+="0";return w}for(var E=0;E<Math.max(u-v.length,0);E++)w+="0";return w+=p}function s(p,u){var i=(p=p.toString()).indexOf("."),h=i!==-1?p.substring(i):"",p=(p=i!==-1?p.substring(0,i):p).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(u===0)h="";else if(u!==void 0)if(u>h.length)for(var g=u-(h+=i===-1?".":"").length+1,v=0;v<g;v++)h+="0";else h=h.substring(0,u+1);return p+h}function c(a){return 0<parseFloat(a)?"+".concat(a.toString()):a.toString()}function m(a){return 0<=parseFloat(a)?" ".concat(a.toString()):a.toString()}e("../core/friendly_errors/validate_params"),e("../core/friendly_errors/file_errors"),e("../core/friendly_errors/fes_core"),l.default.prototype.join=function(a,u){return l.default._validateParameters("join",arguments),a.join(u)},l.default.prototype.match=function(a,u){return l.default._validateParameters("match",arguments),a.match(u)},l.default.prototype.matchAll=function(a,u){l.default._validateParameters("matchAll",arguments);for(var i=new RegExp(u,"g"),h=i.exec(a),p=[];h!==null;)p.push(h),h=i.exec(a);return p},l.default.prototype.nf=function(a,u,i){return l.default._validateParameters("nf",arguments),a instanceof Array?a.map(function(h){return o(h,u,i)}):Object.prototype.toString.call(a)==="[object Arguments]"?a.length===3?this.nf(a[0],a[1],a[2]):a.length===2?this.nf(a[0],a[1]):this.nf(a[0]):o(a,u,i)},l.default.prototype.nfc=function(a,u){return l.default._validateParameters("nfc",arguments),a instanceof Array?a.map(function(i){return s(i,u)}):s(a,u)},l.default.prototype.nfp=function(){for(var a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];l.default._validateParameters("nfp",u);var h=l.default.prototype.nf.apply(this,u);return h instanceof Array?h.map(c):c(h)},l.default.prototype.nfs=function(){for(var a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];l.default._validateParameters("nfs",u);var h=l.default.prototype.nf.apply(this,u);return h instanceof Array?h.map(m):m(h)},l.default.prototype.split=function(a,u){return l.default._validateParameters("split",arguments),a.split(u)},l.default.prototype.splitTokens=function(a,u){var i,h;return l.default._validateParameters("splitTokens",arguments),h=u!==void 0?(h=/\]/g.exec(u=u),(i=/\[/g.exec(u))&&h?(u=u.slice(0,h.index)+u.slice(h.index+1),i=/\[/g.exec(u),u=u.slice(0,i.index)+u.slice(i.index+1),new RegExp("[\\[".concat(u,"\\]]"),"g")):h?(u=u.slice(0,h.index)+u.slice(h.index+1),new RegExp("[".concat(u,"\\]]"),"g")):i?(u=u.slice(0,i.index)+u.slice(i.index+1),new RegExp("[".concat(u,"\\[]"),"g")):new RegExp("[".concat(u,"]"),"g")):/\s/g,a.split(h).filter(function(p){return p})},l.default.prototype.trim=function(a){return l.default._validateParameters("trim",arguments),a instanceof Array?a.map(this.trim):a.trim()};var y=l.default;f.default=y},{"../core/friendly_errors/fes_core":258,"../core/friendly_errors/file_errors":259,"../core/friendly_errors/validate_params":262,"../core/main":267,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.join":159,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.constructor":180,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.match":187,"core-js/modules/es.string.replace":189,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],309:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.prototype.day=function(){return new Date().getDate()},e.default.prototype.hour=function(){return new Date().getHours()},e.default.prototype.minute=function(){return new Date().getMinutes()},e.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},e.default.prototype.month=function(){return new Date().getMonth()+1},e.default.prototype.second=function(){return new Date().getSeconds()},e.default.prototype.year=function(){return new Date().getFullYear()},e=e.default,f.default=e},{"../core/main":267}],310:[function(e,d,f){function l(u){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(u)}function o(u){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(i){return l(i)}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":l(i)})(u)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.number.to-fixed"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(a=e("../core/main"))&&a.__esModule?a:{default:a},c=(e("./p5.Geometry"),function(u){if(u&&u.__esModule)return u;if(u===null||o(u)!=="object"&&typeof u!="function")return{default:u};var i=m();if(i&&i.has(u))return i.get(u);var h,p={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in u){var v;Object.prototype.hasOwnProperty.call(u,h)&&((v=g?Object.getOwnPropertyDescriptor(u,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=u[h])}return p.default=u,i&&i.set(u,p),p}(e("../core/constants")));function m(){var u;return typeof WeakMap!="function"?null:(u=new WeakMap,m=function(){return u},u)}s.default.prototype.plane=function(u,i,h,p){this._assert3d("plane"),s.default._validateParameters("plane",arguments),u===void 0&&(u=50),i===void 0&&(i=u),p===void 0&&(p=1);var g,v="plane|".concat(h=h===void 0?1:h,"|").concat(p);return this._renderer.geometryInHash(v)||((g=new s.default.Geometry(h,p,function(){for(var b,w,x=0;x<=this.detailY;x++)for(var k=x/this.detailY,E=0;E<=this.detailX;E++)b=E/this.detailX,w=new s.default.Vector(b-.5,k-.5,0),this.vertices.push(w),this.uvs.push(b,k)})).computeFaces().computeNormals(),h<=1&&p<=1?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(v,g)),this._renderer.drawBuffersScaled(v,u,i,1),this},s.default.prototype.box=function(u,i,h,p,g){this._assert3d("box"),s.default._validateParameters("box",arguments),u===void 0&&(u=50),i===void 0&&(i=u),h===void 0&&(h=i);var v,b=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,b=(g===void 0&&(g=b?1:4),"box|".concat(p=p===void 0?b?1:4:p,"|").concat(g));return this._renderer.geometryInHash(b)||((v=new s.default.Geometry(p,g,function(){var w=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var x=0;x<w.length;x++){for(var k=w[x],E=4*x,M=0;M<4;M++){var O=k[M],O=new s.default.Vector((2*(1&O)-1)/2,((2&O)-1)/2,((4&O)/2-1)/2);this.vertices.push(O),this.uvs.push(1&M,(2&M)/2)}this.faces.push([E,1+E,2+E]),this.faces.push([2+E,1+E,3+E])}})).computeNormals(),p<=4&&g<=4?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(b,v)),this._renderer.drawBuffersScaled(b,u,i,h),this},s.default.prototype.sphere=function(u,i,h){return this._assert3d("sphere"),s.default._validateParameters("sphere",arguments),this.ellipsoid(u=u===void 0?50:u,u,u,i=i===void 0?24:i,h=h===void 0?16:h),this};function y(u,i,h,p,g,v,b){u=u<=0?1:u,i=i<0?0:i,h=h<=0?u:h,p=p<3?3:p;for(var w,x,k=(v=v===void 0||v)?-2:0,E=(g=g<1?1:g)+((b=b===void 0?i!==0:b)?2:0),M=Math.atan2(u-i,h),O=Math.sin(M),P=Math.cos(M),D=k;D<=E;++D){var U=D/g,z=h*U,V=void 0,V=D<0?(U=z=0,u):g<D?(z=h,U=1,i):u+(i-u)*U;for(D!==-2&&D!==g+2||(V=0),z-=h/2,w=0;w<p;++w){var K=w/(p-1),Q=2*Math.PI*K,re=Math.sin(Q),Q=Math.cos(Q),ue=(this.vertices.push(new s.default.Vector(re*V,z,Q*V)),void 0),ue=D<0?new s.default.Vector(0,-1,0):g<D&&i?new s.default.Vector(0,1,0):new s.default.Vector(re*P,O,Q*P);this.vertexNormals.push(ue),this.uvs.push(K,U)}}var te=0;if(v){for(x=0;x<p;++x)this.faces.push([te+x,te+p+(x+1)%p,te+p+x]);te+=2*p}for(D=0;D<g;++D){for(w=0;w<p;++w){var oe=(w+1)%p;this.faces.push([te+w,te+oe,te+p+oe]),this.faces.push([te+w,te+p+oe,te+p+w])}te+=p}if(b)for(te+=p,w=0;w<p;++w)this.faces.push([te+w,te+(w+1)%p,te+p])}s.default.prototype.cylinder=function(u,i,h,p,g,v){this._assert3d("cylinder"),s.default._validateParameters("cylinder",arguments),u===void 0&&(u=50),i===void 0&&(i=u),p===void 0&&(p=1),v===void 0&&(v=!0),g===void 0&&(g=!0);var b,w="cylinder|".concat(h=h===void 0?24:h,"|").concat(p,"|").concat(g,"|").concat(v);return this._renderer.geometryInHash(w)||(b=new s.default.Geometry(h,p),y.call(b,1,1,1,h,p,g,v),h<=24&&p<=16?b._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(w,b)),this._renderer.drawBuffersScaled(w,u,i,u),this},s.default.prototype.cone=function(u,i,h,p,g){this._assert3d("cone"),s.default._validateParameters("cone",arguments),u===void 0&&(u=50),i===void 0&&(i=u),p===void 0&&(p=1),g===void 0&&(g=!0);var v,b="cone|".concat(h=h===void 0?24:h,"|").concat(p,"|").concat(g);return this._renderer.geometryInHash(b)||(v=new s.default.Geometry(h,p),y.call(v,1,0,1,h,p,g,!1),h<=24&&p<=16?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,v)),this._renderer.drawBuffersScaled(b,u,i,u),this},s.default.prototype.ellipsoid=function(u,i,h,p,g){this._assert3d("ellipsoid"),s.default._validateParameters("ellipsoid",arguments),u===void 0&&(u=50),i===void 0&&(i=u),h===void 0&&(h=u),g===void 0&&(g=16);var v,b="ellipsoid|".concat(p=p===void 0?24:p,"|").concat(g);return this._renderer.geometryInHash(b)||((v=new s.default.Geometry(p,g,function(){for(var w=0;w<=this.detailY;w++)for(var x=w/this.detailY,k=Math.PI*x-Math.PI/2,E=Math.cos(k),M=Math.sin(k),O=0;O<=this.detailX;O++){var P=O/this.detailX,U=2*Math.PI*P,D=Math.cos(U),U=Math.sin(U),U=new s.default.Vector(E*U,M,E*D);this.vertices.push(U),this.vertexNormals.push(U),this.uvs.push(P,x)}})).computeFaces(),p<=24&&g<=24?v._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(b,v)),this._renderer.drawBuffersScaled(b,u,i,h),this},s.default.prototype.torus=function(u,b,h,p){if(this._assert3d("torus"),s.default._validateParameters("torus",arguments),u===void 0)u=50;else if(!u)return;if(b===void 0)b=10;else if(!b)return;h===void 0&&(h=24),p===void 0&&(p=16);var g,v=(b/u).toPrecision(4),b="torus|".concat(v,"|").concat(h,"|").concat(p);return this._renderer.geometryInHash(b)||((g=new s.default.Geometry(h,p,function(){for(var w=0;w<=this.detailY;w++)for(var x=w/this.detailY,k=2*Math.PI*x,E=Math.cos(k),M=Math.sin(k),O=1+v*E,P=0;P<=this.detailX;P++){var D=P/this.detailX,U=2*Math.PI*D,V=Math.cos(U),U=Math.sin(U),z=new s.default.Vector(O*V,O*U,v*M),V=new s.default.Vector(E*V,E*U,M);this.vertices.push(z),this.vertexNormals.push(V),this.uvs.push(D,x)}})).computeFaces(),h<=24&&p<=16?g._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(b,g)),this._renderer.drawBuffersScaled(b,u,u,u),this},s.default.RendererGL.prototype.point=function(u,i,h){var p=[];return p.push(new s.default.Vector(u,i,h=h===void 0?0:h)),this._drawPoints(p,this.immediateMode.buffers.point),this},s.default.RendererGL.prototype.triangle=function(b){var i=b[0],h=b[1],p=b[2],g=b[3],v=b[4],b=b[5],w=(this.geometryInHash("tri")||((w=new s.default.Geometry(1,1,function(){var k=[];k.push(new s.default.Vector(0,0,0)),k.push(new s.default.Vector(0,1,0)),k.push(new s.default.Vector(1,0,0)),this.strokeIndices=[[0,1],[1,2],[2,0]],this.vertices=k,this.faces=[[0,1,2]],this.uvs=[0,0,0,1,1,1]}))._makeTriangleEdges()._edgesToVertices(),w.computeNormals(),this.createBuffers("tri",w)),this.uMVMatrix.copy());try{var x=new s.default.Matrix([p-i,g-h,0,0,v-i,b-h,0,0,0,0,1,0,i,h,0,1]).mult(this.uMVMatrix);this.uMVMatrix=x,this.drawBuffers("tri")}finally{this.uMVMatrix=w}return this},s.default.RendererGL.prototype.ellipse=function(u){this.arc(u[0],u[1],u[2],u[3],0,c.TWO_PI,c.OPEN,u[4])},s.default.RendererGL.prototype.arc=function(u){var i,h=arguments[1],p=arguments[2],g=arguments[3],v=arguments[4],b=arguments[5],w=arguments[6],x=arguments[7]||25,k=(Math.abs(b-v)>=c.TWO_PI?"".concat(E="ellipse","|"):"".concat(E="arc","|").concat(v,"|").concat(b,"|").concat(w,"|")).concat(x,"|"),E=(this.geometryInHash(k)||((i=new s.default.Geometry(x,1,function(){if(this.strokeIndices=[],v.toFixed(10)!==b.toFixed(10)){w!==c.PIE&&w!==void 0||(this.vertices.push(new s.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var M=0;M<=x;M++){var P=(b-v)*(M/x)+v,O=.5+Math.cos(P)/2,P=.5+Math.sin(P)/2;this.vertices.push(new s.default.Vector(O,P,0)),this.uvs.push([O,P]),M<x-1&&(this.faces.push([0,M+1,M+2]),this.strokeIndices.push([M+1,M+2]))}switch(w){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case c.CHORD:this.strokeIndices.push([0,1]),this.strokeIndices.push([0,this.vertices.length-1]);break;case c.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),x<=50?i._makeTriangleEdges()._edgesToVertices(i):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(E," with more than 50 detail")),this.createBuffers(k,i)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([u,h,0]),this.uMVMatrix.scale(p,g,1),this.drawBuffers(k)}finally{this.uMVMatrix=E}return this},s.default.RendererGL.prototype.rect=function(u){var i=u[0],h=u[1],p=u[2],g=u[3];if(u[4]===void 0){var w=this._pInst._glAttributes.perPixelLighting,v=u[4]||(w?1:24),b=u[5]||(w?1:16),w="rect|".concat(v,"|").concat(b),x=(this.geometryInHash(w)||((x=new s.default.Geometry(v,b,function(){for(var ue=0;ue<=this.detailY;ue++)for(var te=ue/this.detailY,oe=0;oe<=this.detailX;oe++){var ce=oe/this.detailX,ne=new s.default.Vector(ce,te,0);this.vertices.push(ne),this.uvs.push(ce,te)}0<v&&0<b&&(this.strokeIndices=[[0,v],[v,(v+1)*(b+1)-1],[(v+1)*(b+1)-1,(v+1)*b],[(v+1)*b,0]])})).computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(w,x)),this.uMVMatrix.copy());try{this.uMVMatrix.translate([i,h,0]),this.uMVMatrix.scale(p,g,1),this.drawBuffers(w)}finally{this.uMVMatrix=x}}else{var w=u[4],x=u[5]===void 0?w:u[5],k=u[6]===void 0?x:u[6],u=u[7]===void 0?k:u[7],U=p,E=g,P=((U+=i)<i&&(P=i,i=U,U=P),(E+=h)<h&&(P=h,h=E,E=P),Math.min((U-i)/2,(E-h)/2)),M=(P<w&&(w=P),P<x&&(x=P),P<k&&(k=P),P<u&&(u=P),i),O=h,P=U,i=E,D=(this.beginShape(),x!==0?(this.vertex(P-x,O),this.quadraticVertex(P,O,P,O+x)):this.vertex(P,O),k!==0?(this.vertex(P,i-k),this.quadraticVertex(P,i,P-k,i)):this.vertex(P,i),u!==0?(this.vertex(M+u,i),this.quadraticVertex(M,i,M,i-u)):this.vertex(M,i),w!==0?(this.vertex(M,O+w),this.quadraticVertex(M,O,M+w,O)):this.vertex(M,O),!(this.immediateMode.geometry.uvs.length=0)),h=!1,U=void 0;try{for(var z,V=this.immediateMode.geometry.vertices[Symbol.iterator]();!(D=(z=V.next()).done);D=!0){var K=z.value,re=(K.x-M)/p,Q=(K.y-O)/g;this.immediateMode.geometry.uvs.push(re,Q)}}catch(R){h=!0,U=R}finally{try{D||V.return==null||V.return()}finally{if(h)throw U}}this.endShape(c.CLOSE)}return this},s.default.RendererGL.prototype.quad=function(u,i,h,p,g,v,b,w,x,k,E,M,O,P){O===void 0&&(O=2),P===void 0&&(P=2);var D="quad|".concat(u,"|").concat(i,"|").concat(h,"|").concat(p,"|").concat(g,"|").concat(v,"|").concat(b,"|").concat(w,"|").concat(x,"|").concat(k,"|").concat(E,"|").concat(M,"|").concat(O,"|").concat(P);if(!this.geometryInHash(D)){var U=new s.default.Geometry(O,P,function(){for(var ue=1/(this.detailX-1),te=1/(this.detailY-1),oe=0;oe<this.detailY;oe++)for(var ce=0;ce<this.detailX;ce++){var ne=ce*ue,R=oe*te;this.vertices.push(new s.default.Vector((1-ne)*((1-R)*u+R*k)+ne*((1-R)*p+R*b),(1-ne)*((1-R)*i+R*E)+ne*((1-R)*g+R*w),(1-ne)*((1-R)*h+R*M)+ne*((1-R)*v+R*x))),this.uvs.push([ne,R])}});U.faces=[];for(var z=0;z<P-1;z++)for(var V=0;V<O-1;V++){var K=V+z*O,re=V+1+(z+1)*O,Q=V+(z+1)*O;U.faces.push([K,V+1+z*O,re]),U.faces.push([K,re,Q])}U.computeNormals()._makeTriangleEdges()._edgesToVertices(),this.createBuffers(D,U)}return this.drawBuffers(D),this},s.default.RendererGL.prototype.bezier=function(u,i,h,p,g,v,b,w,x,k,E,M){arguments.length===8&&(E=w,k=b,w=v,b=g,g=p,p=h,h=v=x=M=0);var O=this._pInst._bezierDetail||20;this.beginShape();for(var P=0;P<=O;P++){var D=Math.pow(1-P/O,3),U=P/O*3*Math.pow(1-P/O,2),z=3*Math.pow(P/O,2)*(1-P/O),V=Math.pow(P/O,3);this.vertex(u*D+p*U+b*z+k*V,i*D+g*U+w*z+E*V,h*D+v*U+x*z+M*V)}return this.endShape(),this},s.default.RendererGL.prototype.curve=function(u,i,h,p,g,v,b,w,x,k,E,M){arguments.length===8&&(k=b,E=w,b=g,w=p,g=p=h,h=v=x=M=0);var O=this._pInst._curveDetail;this.beginShape();for(var P=0;P<=O;P++){var D=.5*Math.pow(P/O,3),U=.5*Math.pow(P/O,2),z=P/O*.5;this.vertex(D*(3*p-u-3*b+k)+U*(2*u-5*p+4*b-k)+z*(-u+b)+2*p*.5,D*(3*g-i-3*w+E)+U*(2*i-5*g+4*w-E)+z*(-i+w)+2*g*.5,D*(3*v-h-3*x+M)+U*(2*h-5*v+4*x-M)+z*(-h+x)+2*v*.5)}return this.endShape(),this},s.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},s.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var u,i,h,p,g,v,b=[],w=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var k=1/this._lutBezierDetail,E=0,M=1,O=0;E<1;){if(v=parseFloat(E.toFixed(6)),this._lookUpTableBezier[O]=this._bezierCoefficients(v),M.toFixed(6)===k.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(E.toFixed(6)),++O,this._lookUpTableBezier[O]=this._bezierCoefficients(v);break}E+=k,M-=k,++O}}var P=this._lookUpTableBezier.length;if(x===6){for(this.isBezier=!0,b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],g=0;g<P;g++)i=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],h=w[0]*this._lookUpTableBezier[g][0]+w[1]*this._lookUpTableBezier[g][1]+w[2]*this._lookUpTableBezier[g][2]+w[3]*this._lookUpTableBezier[g][3],this.vertex(i,h);this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(x===9){for(this.isBezier=!0,b=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],w=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]],u=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],g=0;g<P;g++)i=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],h=w[0]*this._lookUpTableBezier[g][0]+w[1]*this._lookUpTableBezier[g][1]+w[2]*this._lookUpTableBezier[g][2]+w[3]*this._lookUpTableBezier[g][3],p=u[0]*this._lookUpTableBezier[g][0]+u[1]*this._lookUpTableBezier[g][1]+u[2]*this._lookUpTableBezier[g][2]+u[3]*this._lookUpTableBezier[g][3],this.vertex(i,h,p);this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},s.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var u,i,h,p,g,v,b=[],w=[],x=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var k=1/this._lutQuadraticDetail,E=0,M=1,O=0;E<1;){if(v=parseFloat(E.toFixed(6)),this._lookUpTableQuadratic[O]=this._quadraticCoefficients(v),M.toFixed(6)===k.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(E.toFixed(6)),++O,this._lookUpTableQuadratic[O]=this._quadraticCoefficients(v);break}E+=k,M-=k,++O}}var P=this._lookUpTableQuadratic.length;if(x===4){for(this.isQuadratic=!0,b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],g=0;g<P;g++)i=b[0]*this._lookUpTableQuadratic[g][0]+b[1]*this._lookUpTableQuadratic[g][1]+b[2]*this._lookUpTableQuadratic[g][2],h=w[0]*this._lookUpTableQuadratic[g][0]+w[1]*this._lookUpTableQuadratic[g][1]+w[2]*this._lookUpTableQuadratic[g][2],this.vertex(i,h);this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(x===6){for(this.isQuadratic=!0,b=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],w=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]],u=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],g=0;g<P;g++)i=b[0]*this._lookUpTableQuadratic[g][0]+b[1]*this._lookUpTableQuadratic[g][1]+b[2]*this._lookUpTableQuadratic[g][2],h=w[0]*this._lookUpTableQuadratic[g][0]+w[1]*this._lookUpTableQuadratic[g][1]+w[2]*this._lookUpTableQuadratic[g][2],p=u[0]*this._lookUpTableQuadratic[g][0]+u[1]*this._lookUpTableQuadratic[g][1]+u[2]*this._lookUpTableQuadratic[g][2],this.vertex(i,h,p);this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},s.default.RendererGL.prototype.curveVertex=function(){var u,i,h,p,g,v,b=[],w=[],x=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var k=1/this._lutBezierDetail,E=0,M=1,O=0;E<1;){if(v=parseFloat(E.toFixed(6)),this._lookUpTableBezier[O]=this._bezierCoefficients(v),M.toFixed(6)===k.toFixed(6)){v=parseFloat(M.toFixed(6))+parseFloat(E.toFixed(6)),++O,this._lookUpTableBezier[O]=this._bezierCoefficients(v);break}E+=k,M-=k,++O}}var P=this._lookUpTableBezier.length;if(x===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),g=0;g<P;g++)i=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],h=w[0]*this._lookUpTableBezier[g][0]+w[1]*this._lookUpTableBezier[g][1]+w[2]*this._lookUpTableBezier[g][2]+w[3]*this._lookUpTableBezier[g][3],this.vertex(i,h);for(g=0;g<x;g++)this.immediateMode._curveVertex.shift()}}else if(x===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,b=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),w=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),u=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),g=0;g<P;g++)i=b[0]*this._lookUpTableBezier[g][0]+b[1]*this._lookUpTableBezier[g][1]+b[2]*this._lookUpTableBezier[g][2]+b[3]*this._lookUpTableBezier[g][3],h=w[0]*this._lookUpTableBezier[g][0]+w[1]*this._lookUpTableBezier[g][1]+w[2]*this._lookUpTableBezier[g][2]+w[3]*this._lookUpTableBezier[g][3],p=u[0]*this._lookUpTableBezier[g][0]+u[1]*this._lookUpTableBezier[g][1]+u[2]*this._lookUpTableBezier[g][2]+u[3]*this._lookUpTableBezier[g][3],this.vertex(i,h,p);for(g=0;g<x;g++)this.immediateMode._curveVertex.shift()}},s.default.RendererGL.prototype.image=function(u,M,h,O,g,v,b,w,x){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.texture(u),this._pInst.textureMode(c.NORMAL);var k=0,E=(M<=u.width&&(k=M/u.width),1),M=(M+O<=u.width&&(E=(M+O)/u.width),0),O=(h<=u.height&&(M=h/u.height),1);h+g<=u.height&&(O=(h+g)/u.height),this.beginShape(),this.vertex(v,b,0,k,M),this.vertex(v+w,b,0,E,M),this.vertex(v+w,b+x,0,E,O),this.vertex(v,b+x,0,k,O),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var a=s.default;f.default=a},{"../core/constants":256,"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.iterator":158,"core-js/modules/es.number.to-fixed":171,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],311:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../core/main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}s.default.prototype.orbitControl=function(a,u,i){var h,p;if(this._assert3d("orbitControl"),s.default._validateParameters("orbitControl",arguments),this.mouseX<this.width&&0<this.mouseX&&this.mouseY<this.height&&0<this.mouseY)return h=this._renderer._curCamera,a===void 0&&(a=1),u===void 0&&(u=a),i===void 0&&(i=.5),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0)),p=this.height<this.width?this.height:this.width,this._mouseWheelDeltaY!==this._pmouseWheelDeltaY&&(0<this._mouseWheelDeltaY?this._renderer._curCamera._orbit(0,0,i*p):this._renderer._curCamera._orbit(0,0,-i*p)),this.mouseIsPressed&&(this.mouseButton===this.LEFT?(i=-a*(this.mouseX-this.pmouseX)/p,p=u*(this.mouseY-this.pmouseY)/p,this._renderer._curCamera._orbit(i,p,0)):this.mouseButton===this.RIGHT&&(i=h._getLocalAxes(),(p=Math.sqrt(i.x[0]*i.x[0]+i.x[2]*i.x[2]))!==0&&(i.x[0]/=p,i.x[2]/=p),(p=Math.sqrt(i.y[0]*i.y[0]+i.y[2]*i.y[2]))!==0&&(i.y[0]/=p,i.y[2]/=p),p=-1*a*(this.mouseX-this.pmouseX),a=-1*u*(this.mouseY-this.pmouseY),h.setPosition(h.eyeX+p*i.x[0]+a*i.z[0],h.eyeY,h.eyeZ+p*i.x[2]+a*i.z[2]))),this},s.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];s.default._validateParameters("debugMode",u);for(var h=this._registeredMethods.post.length-1;0<=h;h--)this._registeredMethods.post[h].toString()!==this._grid().toString()&&this._registeredMethods.post[h].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(h,1);u[0]===c.GRID?this.registerMethod("post",this._grid.call(this,u[1],u[2],u[3],u[4],u[5])):u[0]===c.AXES?this.registerMethod("post",this._axesIcon.call(this,u[1],u[2],u[3],u[4])):(this.registerMethod("post",this._grid.call(this,u[0],u[1],u[2],u[3],u[4])),this.registerMethod("post",this._axesIcon.call(this,u[5],u[6],u[7],u[8])))},s.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1)},s.default.prototype._grid=function(a,u,i,h,p){a===void 0&&(a=this.width/2),u===void 0&&(u=Math.round(a/30)<4?4:Math.round(a/30)),i===void 0&&(i=0),h===void 0&&(h=0),p===void 0&&(p=0);var g=a/u,v=a/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var b=0;b<=u;b++)this.beginShape(this.LINES),this.vertex(-v+i,h,b*g-v+p),this.vertex(v+i,h,b*g-v+p),this.endShape();for(var w=0;w<=u;w++)this.beginShape(this.LINES),this.vertex(w*g-v+i,h,-v+p),this.vertex(w*g-v+i,h,v+p),this.endShape();this.pop()}},s.default.prototype._axesIcon=function(a,u,i,h){return a===void 0&&(a=40<this.width/20?this.width/20:40),u===void 0&&(u=-this.width/4),i===void 0&&(i=u),h===void 0&&(h=u),function(){this.push(),this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(u,i,h),this.vertex(u+a,i,h),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(u,i,h),this.vertex(u,i+a,h),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(u,i,h),this.vertex(u,i,h+a),this.endShape(),this.pop()}};var y=s.default;f.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],312:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../core/main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}s.default.prototype.ambientLight=function(a,u,i,h){this._assert3d("ambientLight"),s.default._validateParameters("ambientLight",arguments);var p=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(p._array[0],p._array[1],p._array[2]),this._renderer._enableLighting=!0,this},s.default.prototype.specularColor=function(a,u,i){this._assert3d("specularColor"),s.default._validateParameters("specularColor",arguments);var h=this.color.apply(this,arguments);return this._renderer.specularColors=[h._array[0],h._array[1],h._array[2]],this},s.default.prototype.directionalLight=function(a,x,w,h,p,g){this._assert3d("directionalLight"),s.default._validateParameters("directionalLight",arguments),a=a instanceof s.default.Color?a:this.color(a,x,w);var v,b,x=arguments[arguments.length-1],w=typeof x=="number"?(v=arguments[arguments.length-3],b=arguments[arguments.length-2],arguments[arguments.length-1]):(v=x.x,b=x.y,x.z),x=Math.sqrt(v*v+b*b+w*w);return this._renderer.directionalLightDirections.push(v/x,b/x,w/x),this._renderer.directionalLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.pointLight=function(a,w,x,h,p,g){this._assert3d("pointLight"),s.default._validateParameters("pointLight",arguments),a=a instanceof s.default.Color?a:this.color(a,w,x);var v,b,w=arguments[arguments.length-1],x=typeof w=="number"?(v=arguments[arguments.length-3],b=arguments[arguments.length-2],arguments[arguments.length-1]):(v=w.x,b=w.y,w.z);return this._renderer.pointLightPositions.push(v,b,x),this._renderer.pointLightDiffuseColors.push(a._array[0],a._array[1],a._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},s.default.prototype.lights=function(){var a;return this._assert3d("lights"),this._colorMode===c.RGB?(this.ambientLight(128,128,128),this.directionalLight(128,128,128,0,0,-1)):(a=this._colorMaxes[this._colorMode][2],this.ambientLight(0,0,a),this.directionalLight(0,0,a,0,0,-1)),this},s.default.prototype.lightFalloff=function(a,u,i){return this._assert3d("lightFalloff"),s.default._validateParameters("lightFalloff",arguments),a<0&&(a=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),u<0&&(u=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),i<0&&(i=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),a===0&&u===0&&i===0&&(a=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=a,this._renderer.linearAttenuation=u,this._renderer.quadraticAttenuation=i,this},s.default.prototype.spotLight=function(a,u,i,h,p,g,v,b,w,x,k){this._assert3d("spotLight"),s.default._validateParameters("spotLight",arguments);var E,M,O,P=arguments.length;switch(P){case 11:case 10:E=this.color(a,u,i),M=new s.default.Vector(h,p,g),O=new s.default.Vector(v,b,w);break;case 9:a instanceof s.default.Color?(E=a,M=new s.default.Vector(u,i,h),O=new s.default.Vector(p,g,v),x=b,k=w):h instanceof s.default.Vector?(E=this.color(a,u,i),M=h,O=new s.default.Vector(p,g,v),x=b,k=w):v instanceof s.default.Vector?(E=this.color(a,u,i),M=new s.default.Vector(h,p,g),O=v,x=b,k=w):(E=this.color(a,u,i),M=new s.default.Vector(h,p,g),O=new s.default.Vector(v,b,w));break;case 8:x=(O=a instanceof s.default.Color?(E=a,M=new s.default.Vector(u,i,h),new s.default.Vector(p,g,v)):h instanceof s.default.Vector?(E=this.color(a,u,i),M=h,new s.default.Vector(p,g,v)):(E=this.color(a,u,i),M=new s.default.Vector(h,p,g),v),b);break;case 7:a instanceof s.default.Color&&u instanceof s.default.Vector?(E=a,M=u,O=new s.default.Vector(i,h,p),x=g,k=v):a instanceof s.default.Color&&p instanceof s.default.Vector?(E=a,M=new s.default.Vector(u,i,h),O=p,x=g,k=v):h instanceof s.default.Vector&&p instanceof s.default.Vector?(E=this.color(a,u,i),M=h,O=p,x=g,k=v):O=a instanceof s.default.Color?(E=a,M=new s.default.Vector(u,i,h),new s.default.Vector(p,g,v)):h instanceof s.default.Vector?(E=this.color(a,u,i),M=h,new s.default.Vector(p,g,v)):(E=this.color(a,u,i),M=new s.default.Vector(h,p,g),v);break;case 6:h instanceof s.default.Vector&&p instanceof s.default.Vector?(E=this.color(a,u,i),M=h,O=p,x=g):a instanceof s.default.Color&&p instanceof s.default.Vector?(E=a,M=new s.default.Vector(u,i,h),O=p,x=g):a instanceof s.default.Color&&u instanceof s.default.Vector&&(E=a,M=u,O=new s.default.Vector(i,h,p),x=g);break;case 5:a instanceof s.default.Color&&u instanceof s.default.Vector&&i instanceof s.default.Vector?(E=a,M=u,O=i,x=h,k=p):h instanceof s.default.Vector&&p instanceof s.default.Vector?(E=this.color(a,u,i),M=h,O=p):a instanceof s.default.Color&&p instanceof s.default.Vector?(E=a,M=new s.default.Vector(u,i,h),O=p):a instanceof s.default.Color&&u instanceof s.default.Vector&&(E=a,M=u,O=new s.default.Vector(i,h,p));break;case 4:E=a,M=u,O=i,x=h;break;case 3:E=a,M=u,O=i;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(P<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(E._array[0],E._array[1],E._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(M.x,M.y,M.z),O.normalize(),this._renderer.spotLightDirections.push(O.x,O.y,O.z),x===void 0&&(x=Math.PI/3),k!==void 0&&k<1?(k=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):k===void 0&&(k=100),x=this._renderer._pInst._toRadians(x),this._renderer.spotLightAngle.push(Math.cos(x)),this._renderer.spotLightConc.push(k),this._renderer._enableLighting=!0,this},s.default.prototype.noLights=function(){return this._assert3d("noLights"),s.default._validateParameters("noLights",arguments),this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this};var y=s.default;f.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],313:[function(e,d,f){e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.array.splice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.match"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.trim"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(o=e("../core/main"))&&o.__esModule?o:{default:o};e("./p5.Geometry"),l.default.prototype.loadModel=function(s){l.default._validateParameters("loadModel",arguments);var c,m,y,a=s.slice(-4),u=(typeof arguments[1]=="boolean"?(c=arguments[1],m=arguments[2],y=arguments[3],arguments[4]!==void 0&&(a=arguments[4])):(c=!1,m=arguments[1],y=arguments[2],arguments[3]!==void 0&&(a=arguments[3])),new l.default.Geometry),i=(u.gid="".concat(s,"|").concat(c),this);return a.match(/\.stl$/i)?this.httpDo(s,"GET","arrayBuffer",function(h){(function(p,g){if(function(v){for(var b=new DataView(v),w=[115,111,108,105,100],x=0;x<5;x++)if(function(k,E,M){for(var O=0,P=k.length;O<P;O++)if(k[O]!==E.getUint8(M+O,!1))return;return 1}(w,b,x))return;return 1}(g))(function(v,b){for(var w,x,k,E,M,O,P,D=new DataView(b),U=D.getUint32(80,!0),z=!1,V=0;V<70;V++)D.getUint32(V,!1)===1129270351&&D.getUint8(V+4)===82&&D.getUint8(V+5)===61&&(z=!0,E=[],M=D.getUint8(V+6)/255,O=D.getUint8(V+7)/255,P=D.getUint8(V+8)/255);for(var K=0;K<U;K++){for(var re,Q=84+50*K,ue=D.getFloat32(Q,!0),te=D.getFloat32(4+Q,!0),oe=D.getFloat32(8+Q,!0),ce=(z&&(re=D.getUint16(48+Q,!0),k=(32768&re)==0?(w=(31&re)/31,x=(re>>5&31)/31,(re>>10&31)/31):(w=M,x=O,P)),new l.default.Vector(ue,te,oe)),ne=1;ne<=3;ne++){var R=Q+12*ne,R=new l.default.Vector(D.getFloat32(R,!0),D.getFloat32(4+R,!0),D.getFloat32(8+R,!0));v.vertices.push(R),v.vertexNormals.push(ce),z&&E.push(w,x,k)}v.faces.push([3*K,3*K+1,3*K+2]),v.uvs.push([0,0],[0,0],[0,0])}})(p,g);else{if(g=new DataView(g),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");g=new TextDecoder("utf-8").decode(g).split(`
`),function(v,b){for(var w,x,k="",E=[],M=0;M<b.length;++M){for(var O=b[M].trim(),P=O.split(" "),D=0;D<P.length;++D)P[D]===""&&P.splice(D,1);if(P.length!==0)switch(k){case"":if(P[0]!=="solid")return console.error(O),console.error('Invalid state "'.concat(P[0],'", should be "solid"'));k="solid";break;case"solid":if(P[0]!=="facet"||P[1]!=="normal")return console.error(O),console.error('Invalid state "'.concat(P[0],'", should be "facet normal"'));w=new l.default.Vector(parseFloat(P[2]),parseFloat(P[3]),parseFloat(P[4])),v.vertexNormals.push(w,w,w),k="facet normal";break;case"facet normal":if(P[0]!=="outer"||P[1]!=="loop")return console.error(O),console.error('Invalid state "'.concat(P[0],'", should be "outer loop"'));k="vertex";break;case"vertex":if(P[0]==="vertex")x=new l.default.Vector(parseFloat(P[1]),parseFloat(P[2]),parseFloat(P[3])),v.vertices.push(x),v.uvs.push([0,0]),E.push(v.vertices.indexOf(x));else{if(P[0]!=="endloop")return console.error(O),console.error('Invalid state "'.concat(P[0],'", should be "vertex" or "endloop"'));v.faces.push(E),E=[],k="endloop"}break;case"endloop":if(P[0]!=="endfacet")return console.error(O),console.error('Invalid state "'.concat(P[0],'", should be "endfacet"'));k="endfacet";break;case"endfacet":if(P[0]!=="endsolid"){if(P[0]!=="facet"||P[1]!=="normal")return console.error(O),console.error('Invalid state "'.concat(P[0],'", should be "endsolid" or "facet normal"'));w=new l.default.Vector(parseFloat(P[2]),parseFloat(P[3]),parseFloat(P[4])),v.vertexNormals.push(w,w,w),k="facet normal"}break;default:console.error('Invalid state "'.concat(k,'"'))}}}(p,g)}})(u,h),c&&u.normalize(),i._decrementPreload(),typeof m=="function"&&m(u)},y):a.match(/\.obj$/i)?this.loadStrings(s,function(h){for(var p=u,g=h,v={v:[],vt:[],vn:[]},b={},w=0;w<g.length;++w){var x=g[w].trim().split(/\b\s+/);if(0<x.length){if(x[0]==="v"||x[0]==="vn"){var k=new l.default.Vector(parseFloat(x[1]),parseFloat(x[2]),parseFloat(x[3]));v[x[0]].push(k)}else if(x[0]==="vt")k=[parseFloat(x[1]),1-parseFloat(x[2])],v[x[0]].push(k);else if(x[0]==="f")for(var E=3;E<x.length;++E){for(var M=[],O=[1,E-1,E],P=0;P<O.length;++P){var D=x[O[P]],U=0;if(b[D]!==void 0)U=b[D];else{for(var z=D.split("/"),V=0;V<z.length;V++)z[V]=parseInt(z[V])-1;U=b[D]=p.vertices.length,p.vertices.push(v.v[z[0]].copy()),v.vt[z[1]]?p.uvs.push(v.vt[z[1]].slice()):p.uvs.push([0,0]),v.vn[z[2]]&&p.vertexNormals.push(v.vn[z[2]].copy())}M.push(U)}M[0]!==M[1]&&M[0]!==M[2]&&M[1]!==M[2]&&p.faces.push(M)}}}p.vertexNormals.length===0&&p.computeNormals(),c&&u.normalize(),i._decrementPreload(),typeof m=="function"&&m(u)},y):(l.default._friendlyFileLoadError(3,s),y?y():console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),u},l.default.prototype.model=function(s){this._assert3d("model"),l.default._validateParameters("model",arguments),0<s.vertices.length&&(this._renderer.geometryInHash(s.gid)||(s._makeTriangleEdges()._edgesToVertices(),this._renderer.createBuffers(s.gid,s)),this._renderer.drawBuffers(s.gid))};var o=l.default;f.default=o},{"../core/main":267,"./p5.Geometry":316,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.slice":162,"core-js/modules/es.array.splice":164,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.match":187,"core-js/modules/es.string.split":191,"core-js/modules/es.string.trim":193}],314:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.join"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.join"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../core/main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}e("./p5.Texture"),s.default.prototype.loadShader=function(a,u,i,h){s.default._validateParameters("loadShader",arguments),h=h||console.error;function p(){v._decrementPreload(),i&&i(g)}var g=new s.default.Shader,v=this,b=!1,w=!1;return this.loadStrings(a,function(x){g._vertSrc=x.join(`
`),w=!0,b&&p()},h),this.loadStrings(u,function(x){g._fragSrc=x.join(`
`),b=!0,w&&p()},h),g},s.default.prototype.createShader=function(a,u){return this._assert3d("createShader"),s.default._validateParameters("createShader",arguments),new s.default.Shader(this._renderer,a,u)},s.default.prototype.shader=function(a){return this._assert3d("shader"),s.default._validateParameters("shader",arguments),a._renderer===void 0&&(a._renderer=this._renderer),a.init(),a.isStrokeShader()?this._renderer.userStrokeShader=a:(this._renderer.userFillShader=a,this._renderer._useNormalMaterial=!1),this},s.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},s.default.prototype.texture=function(a){return this._assert3d("texture"),s.default._validateParameters("texture",arguments),a.gifProperties&&a._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!1,this._renderer._tex=a,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.textureMode=function(a){a!==c.IMAGE&&a!==c.NORMAL?console.warn("You tried to set ".concat(a," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=a},s.default.prototype.textureWrap=function(a){for(var u=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,i=(this._renderer.textureWrapX=a,this._renderer.textureWrapY=u,this._renderer.textures),h=0;h<i.length;h++)i[h].setWrapMode(a,u)},s.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var a=arguments.length,u=new Array(a),i=0;i<a;i++)u[i]=arguments[i];return s.default._validateParameters("normalMaterial",u),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},s.default.prototype.ambientMaterial=function(a,u,i){this._assert3d("ambientMaterial"),s.default._validateParameters("ambientMaterial",arguments);var h=s.default.prototype.color.apply(this,arguments);return this._renderer.curAmbientColor=h._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this._renderer._setProperty("_doFill",!0),this},s.default.prototype.emissiveMaterial=function(a,u,i,h){this._assert3d("emissiveMaterial"),s.default._validateParameters("emissiveMaterial",arguments);var p=s.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=p._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.specularMaterial=function(a,u,i,h){this._assert3d("specularMaterial"),s.default._validateParameters("specularMaterial",arguments);var p=s.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=p._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._tex=null,this},s.default.prototype.shininess=function(a){return this._assert3d("shininess"),s.default._validateParameters("shininess",arguments),this._renderer._useShininess=a=a<1?1:a,this},s.default.RendererGL.prototype._applyColorBlend=function(a){var u=this.GL,i=this.drawMode===c.TEXTURE||this.curBlendMode!==c.BLEND||a[a.length-1]<1||this._isErasing;return i!==this._isBlending&&(i||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?u.enable(u.BLEND):u.disable(u.BLEND),u.depthMask(!0),this._isBlending=i),this._applyBlendMode(),a},s.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var a=this.GL;switch(this.curBlendMode){case c.BLEND:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA);break;case c.ADD:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE);break;case c.REMOVE:a.blendEquation(a.FUNC_REVERSE_SUBTRACT),a.blendFunc(a.SRC_ALPHA,a.DST_ALPHA);break;case c.MULTIPLY:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ONE,a.ONE);break;case c.SCREEN:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE,a.ONE,a.ONE);break;case c.EXCLUSION:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE);break;case c.REPLACE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO);break;case c.SUBTRACT:a.blendEquationSeparate(a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE,a.ONE,a.ONE);break;case c.DARKEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MIN_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MAX_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=s.default;f.default=y},{"../core/constants":256,"../core/main":267,"./p5.Texture":323,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.join":159,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],315:[function(e,d,f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.prototype.camera=function(){var o;this._assert3d("camera");for(var s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return l.default._validateParameters("camera",c),(o=this._renderer._curCamera).camera.apply(o,c),this},l.default.prototype.perspective=function(){var o;this._assert3d("perspective");for(var s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return l.default._validateParameters("perspective",c),(o=this._renderer._curCamera).perspective.apply(o,c),this},l.default.prototype.ortho=function(){var o;this._assert3d("ortho");for(var s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return l.default._validateParameters("ortho",c),(o=this._renderer._curCamera).ortho.apply(o,c),this},l.default.prototype.frustum=function(){var o;this._assert3d("frustum");for(var s=arguments.length,c=new Array(s),m=0;m<s;m++)c[m]=arguments[m];return l.default._validateParameters("frustum",c),(o=this._renderer._curCamera).frustum.apply(o,c),this},l.default.prototype.createCamera=function(){this._assert3d("createCamera");var o=new l.default.Camera(this._renderer);return o._computeCameraDefaultSettings(),o._setDefaultCamera(),this._renderer._curCamera=o},l.default.Camera=function(o){this._renderer=o,this.cameraType="default",this.cameraMatrix=new l.default.Matrix,this.projMatrix=new l.default.Matrix},l.default.Camera.prototype.perspective=function(y,s,c,m){this.cameraType=0<arguments.length?"custom":"default",y===void 0?(y=this.defaultCameraFOV,this.cameraFOV=y):this.cameraFOV=this._renderer._pInst._toRadians(y),s===void 0&&(s=this.defaultAspectRatio),c===void 0&&(c=this.defaultCameraNear),m===void 0&&(m=this.defaultCameraFar),c<=1e-4&&(c=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),m<c&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=s,this.cameraNear=c,this.cameraFar=m,this.projMatrix=l.default.Matrix.identity();var y=1/Math.tan(this.cameraFOV/2),a=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(y/s,0,0,0,0,-y,0,0,0,0,(m+c)*a,-1,0,0,2*m*c*a,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])},l.default.Camera.prototype.ortho=function(b,v,c,m,y,a){b===void 0&&(b=-this._renderer.width/2),v===void 0&&(v=+this._renderer.width/2),c===void 0&&(c=-this._renderer.height/2),y===void 0&&(y=0);var w=v-b,u=(m=m===void 0?+this._renderer.height/2:m)-c,i=(a=a===void 0?Math.max(this._renderer.width,this._renderer.height):a)-y,h=2/w,p=2/u,g=-2/i,v=-(v+b)/w,b=-(m+c)/u,w=-(a+y)/i;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-p,0,0,0,0,g,0,v,b,w,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},l.default.Camera.prototype.frustum=function(b,v,c,m,y,a){b===void 0&&(b=-this._renderer.width/2),v===void 0&&(v=+this._renderer.width/2),c===void 0&&(c=-this._renderer.height/2),y===void 0&&(y=0);var w=v-b,u=(m=m===void 0?+this._renderer.height/2:m)-c,i=(a=a===void 0?Math.max(this._renderer.width,this._renderer.height):a)-y,h=2*y/w,p=2*y/u,g=-2*a*y/i,v=(v+b)/w,b=(m+c)/u,w=-(a+y)/i;this.projMatrix=l.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,p,0,0,v,b,w,-1,0,0,g,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15]),this.cameraType="custom"},l.default.Camera.prototype._rotateView=function(h,s,c,m){var y=this.centerX,a=this.centerY,u=this.centerZ,i=(y-=this.eyeX,a-=this.eyeY,u-=this.eyeZ,l.default.Matrix.identity(this._renderer._pInst)),h=(i.rotate(this._renderer._pInst._toRadians(h),s,c,m),[y*i.mat4[0]+a*i.mat4[4]+u*i.mat4[8],y*i.mat4[1]+a*i.mat4[5]+u*i.mat4[9],y*i.mat4[2]+a*i.mat4[6]+u*i.mat4[10]]);h[0]+=this.eyeX,h[1]+=this.eyeY,h[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,h[0],h[1],h[2],this.upX,this.upY,this.upZ)},l.default.Camera.prototype.pan=function(o){var s=this._getLocalAxes();this._rotateView(o,s.y[0],s.y[1],s.y[2])},l.default.Camera.prototype.tilt=function(o){var s=this._getLocalAxes();this._rotateView(o,s.x[0],s.x[1],s.x[2])},l.default.Camera.prototype.lookAt=function(o,s,c){this.camera(this.eyeX,this.eyeY,this.eyeZ,o,s,c,this.upX,this.upY,this.upZ)},l.default.Camera.prototype.camera=function(o,s,c,m,y,a,u,i,h){return o===void 0&&(o=this.defaultEyeX,s=this.defaultEyeY,c=this.defaultEyeZ,m=o,y=s,i=1,h=u=a=0),this.eyeX=o,this.eyeY=s,this.eyeZ=c,m!==void 0&&(this.centerX=m,this.centerY=y,this.centerZ=a),u!==void 0&&(this.upX=u,this.upY=i,this.upZ=h),m=this._getLocalAxes(),this.cameraMatrix.set(m.x[0],m.y[0],m.z[0],0,m.x[1],m.y[1],m.z[1],0,m.x[2],m.y[2],m.z[2],0,0,0,0,1),y=-o,this.cameraMatrix.translate([y,-s,-c]),this._isActive()&&this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15]),this},l.default.Camera.prototype.move=function(m,y,c){var a=this._getLocalAxes(),m=[a.x[0]*m,a.x[1]*m,a.x[2]*m],y=[a.y[0]*y,a.y[1]*y,a.y[2]*y],a=[a.z[0]*c,a.z[1]*c,a.z[2]*c];this.camera(this.eyeX+m[0]+y[0]+a[0],this.eyeY+m[1]+y[1]+a[1],this.eyeZ+m[2]+y[2]+a[2],this.centerX+m[0]+y[0]+a[0],this.centerY+m[1]+y[1]+a[1],this.centerZ+m[2]+y[2]+a[2],0,1,0)},l.default.Camera.prototype.setPosition=function(o,s,c){var m=o-this.eyeX,y=s-this.eyeY,a=c-this.eyeZ;this.camera(o,s,c,this.centerX+m,this.centerY+y,this.centerZ+a,0,1,0)},l.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI,this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ},l.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"},l.default.Camera.prototype._resize=function(){this.cameraType==="default"?(this._computeCameraDefaultSettings(),this._setDefaultCamera()):this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)},l.default.Camera.prototype.copy=function(){var o=new l.default.Camera(this._renderer);return o.cameraFOV=this.cameraFOV,o.aspectRatio=this.aspectRatio,o.eyeX=this.eyeX,o.eyeY=this.eyeY,o.eyeZ=this.eyeZ,o.centerX=this.centerX,o.centerY=this.centerY,o.centerZ=this.centerZ,o.cameraNear=this.cameraNear,o.cameraFar=this.cameraFar,o.cameraType=this.cameraType,o.cameraMatrix=this.cameraMatrix.copy(),o.projMatrix=this.projMatrix.copy(),o},l.default.Camera.prototype._getLocalAxes=function(){var o=this.eyeX-this.centerX,s=this.eyeY-this.centerY,c=this.eyeZ-this.centerZ,u=Math.sqrt(o*o+s*s+c*c),u=(u!==0&&(o/=u,s/=u,c/=u),this.upX),m=(i=this.upY)*c-(h=this.upZ)*s,y=-u*c+h*o,a=u*s-i*o,u=s*a-c*y,i=-o*a+c*m,h=o*y-s*m,p=Math.sqrt(m*m+y*y+a*a),p=(p!==0&&(m/=p,y/=p,a/=p),Math.sqrt(u*u+i*i+h*h));return p!==0&&(u/=p,i/=p,h/=p),{x:[m,y,a],y:[u,i,h],z:[o,s,c]}},l.default.Camera.prototype._orbit=function(i,s,h){var y=this.eyeX-this.centerX,u=this.eyeY-this.centerY,a=this.eyeZ-this.centerZ,m=Math.sqrt(y*y+u*u+a*a),y=Math.atan2(y,a),a=Math.acos(Math.max(-1,Math.min(1,u/m))),u=(y+=i,(m+=h)<0&&(m=.1),(a+=s)>Math.PI?a=Math.PI:a<=0&&(a=.001),Math.sin(a)*m*Math.sin(y)),i=Math.cos(a)*m,h=Math.sin(a)*m*Math.cos(y);this.camera(u+this.centerX,i+this.centerY,h+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)},l.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera},l.default.prototype.setCamera=function(o){this._renderer._curCamera=o,this._renderer.uPMatrix.set(o.projMatrix.mat4[0],o.projMatrix.mat4[1],o.projMatrix.mat4[2],o.projMatrix.mat4[3],o.projMatrix.mat4[4],o.projMatrix.mat4[5],o.projMatrix.mat4[6],o.projMatrix.mat4[7],o.projMatrix.mat4[8],o.projMatrix.mat4[9],o.projMatrix.mat4[10],o.projMatrix.mat4[11],o.projMatrix.mat4[12],o.projMatrix.mat4[13],o.projMatrix.mat4[14],o.projMatrix.mat4[15])},e=l.default.Camera,f.default=e},{"../core/main":267}],316:[function(e,d,f){e("core-js/modules/es.string.sub"),e("core-js/modules/es.string.sub"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.Geometry=function(o,s,c){return this.vertices=[],this.lineVertices=[],this.lineNormals=[],this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.detailX=o!==void 0?o:1,this.detailY=s!==void 0?s:1,this.dirtyFlags={},c instanceof Function&&c.call(this),this},l.default.Geometry.prototype.reset=function(){this.lineVertices.length=0,this.lineNormals.length=0,this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}},l.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;for(var o,s,c,m=this.detailX+1,y=0;y<this.detailY;y++)for(var a=0;a<this.detailX;a++)s=(y+1)*m+a+1,this.faces.push([y*m+a,o=y*m+a+1,c=(y+1)*m+a]),this.faces.push([c,o,s]);return this},l.default.Geometry.prototype._getFaceNormal=function(s){var s=this.faces[s],c=this.vertices[s[0]],y=this.vertices[s[1]],s=this.vertices[s[2]],y=l.default.Vector.sub(y,c),s=l.default.Vector.sub(s,c),c=l.default.Vector.cross(y,s),m=l.default.Vector.mag(c),y=m/(l.default.Vector.mag(y)*l.default.Vector.mag(s));return y===0||isNaN(y)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),c):(1<y&&(y=1),c.mult(Math.asin(y)/m))},l.default.Geometry.prototype.computeNormals=function(){for(var o=this.vertexNormals,s=this.vertices,c=this.faces,m=o.length=0;m<s.length;++m)o.push(new l.default.Vector);for(var y=0;y<c.length;++y)for(var a=c[y],u=this._getFaceNormal(y),i=0;i<3;++i)o[a[i]].add(u);for(m=0;m<s.length;++m)o[m].normalize();return this},l.default.Geometry.prototype.averageNormals=function(){for(var o=0;o<=this.detailY;o++){var s=this.detailX+1,c=l.default.Vector.add(this.vertexNormals[o*s],this.vertexNormals[o*s+this.detailX]),c=l.default.Vector.div(c,2);this.vertexNormals[o*s]=c,this.vertexNormals[o*s+this.detailX]=c}return this},l.default.Geometry.prototype.averagePoleNormals=function(){for(var o=new l.default.Vector(0,0,0),s=0;s<this.detailX;s++)o.add(this.vertexNormals[s]);for(var o=l.default.Vector.div(o,this.detailX),c=0;c<this.detailX;c++)this.vertexNormals[c]=o;o=new l.default.Vector(0,0,0);for(var m=this.vertices.length-1;m>this.vertices.length-1-this.detailX;m--)o.add(this.vertexNormals[m]);o=l.default.Vector.div(o,this.detailX);for(var y=this.vertices.length-1;y>this.vertices.length-1-this.detailX;y--)this.vertexNormals[y]=o;return this},l.default.Geometry.prototype._makeTriangleEdges=function(){if(this.edges.length=0,Array.isArray(this.strokeIndices))for(var o=0,s=this.strokeIndices.length;o<s;o++)this.edges.push(this.strokeIndices[o]);else for(var c=0;c<this.faces.length;c++)this.edges.push([this.faces[c][0],this.faces[c][1]]),this.edges.push([this.faces[c][1],this.faces[c][2]]),this.edges.push([this.faces[c][2],this.faces[c][0]]);return this},l.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;for(var o=this.lineNormals.length=0;o<this.edges.length;o++){var c=this.vertices[this.edges[o][0]],y=this.vertices[this.edges[o][1]],u=y.copy().sub(c).normalize(),s=c.array(),c=c.array(),m=y.array(),y=y.array(),a=u.array(),u=u.array();a.push(1),u.push(-1),this.lineNormals.push(a,u,a,a,u,u),this.lineVertices.push(s,c,m,m,c,y)}return this},l.default.Geometry.prototype.normalize=function(){if(0<this.vertices.length){for(var o=this.vertices[0].copy(),s=this.vertices[0].copy(),c=0;c<this.vertices.length;c++)o.x=Math.max(o.x,this.vertices[c].x),s.x=Math.min(s.x,this.vertices[c].x),o.y=Math.max(o.y,this.vertices[c].y),s.y=Math.min(s.y,this.vertices[c].y),o.z=Math.max(o.z,this.vertices[c].z),s.z=Math.min(s.z,this.vertices[c].z);for(var m=l.default.Vector.lerp(o,s,.5),y=l.default.Vector.sub(o,s),a=200/Math.max(Math.max(y.x,y.y),y.z),u=0;u<this.vertices.length;u++)this.vertices[u].sub(m),this.vertices[u].mult(a)}return this},e=l.default.Geometry,f.default=e},{"../core/main":267,"core-js/modules/es.string.sub":192}],317:[function(c,d,f){c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),c("core-js/modules/es.array.iterator"),c("core-js/modules/es.object.to-string"),c("core-js/modules/es.typed-array.float32-array"),c("core-js/modules/es.typed-array.copy-within"),c("core-js/modules/es.typed-array.every"),c("core-js/modules/es.typed-array.fill"),c("core-js/modules/es.typed-array.filter"),c("core-js/modules/es.typed-array.find"),c("core-js/modules/es.typed-array.find-index"),c("core-js/modules/es.typed-array.for-each"),c("core-js/modules/es.typed-array.includes"),c("core-js/modules/es.typed-array.index-of"),c("core-js/modules/es.typed-array.iterator"),c("core-js/modules/es.typed-array.join"),c("core-js/modules/es.typed-array.last-index-of"),c("core-js/modules/es.typed-array.map"),c("core-js/modules/es.typed-array.reduce"),c("core-js/modules/es.typed-array.reduce-right"),c("core-js/modules/es.typed-array.reverse"),c("core-js/modules/es.typed-array.set"),c("core-js/modules/es.typed-array.slice"),c("core-js/modules/es.typed-array.some"),c("core-js/modules/es.typed-array.sort"),c("core-js/modules/es.typed-array.subarray"),c("core-js/modules/es.typed-array.to-locale-string"),c("core-js/modules/es.typed-array.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(c=c("../core/main"))&&c.__esModule?c:{default:c},o=Array,s=function(m){return m instanceof Array},c=(typeof Float32Array<"u"&&(o=Float32Array,s=function(m){return m instanceof Array||m instanceof Float32Array}),l.default.Matrix=function(){for(var m=new Array(arguments.length),y=0;y<m.length;++y)m[y]=arguments[y];return m.length&&m[m.length-1]instanceof l.default&&(this.p5=m[m.length-1]),m[0]==="mat3"?this.mat3=Array.isArray(m[1])?m[1]:new o([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(m[0])?m[0]:new o([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this},l.default.Matrix.prototype.set=function(m){return m instanceof l.default.Matrix?this.mat4=m.mat4:s(m)?this.mat4=m:arguments.length===16&&(this.mat4[0]=m,this.mat4[1]=arguments[1],this.mat4[2]=arguments[2],this.mat4[3]=arguments[3],this.mat4[4]=arguments[4],this.mat4[5]=arguments[5],this.mat4[6]=arguments[6],this.mat4[7]=arguments[7],this.mat4[8]=arguments[8],this.mat4[9]=arguments[9],this.mat4[10]=arguments[10],this.mat4[11]=arguments[11],this.mat4[12]=arguments[12],this.mat4[13]=arguments[13],this.mat4[14]=arguments[14],this.mat4[15]=arguments[15]),this},l.default.Matrix.prototype.get=function(){return new l.default.Matrix(this.mat4,this.p5)},l.default.Matrix.prototype.copy=function(){var m=new l.default.Matrix(this.p5);return m.mat4[0]=this.mat4[0],m.mat4[1]=this.mat4[1],m.mat4[2]=this.mat4[2],m.mat4[3]=this.mat4[3],m.mat4[4]=this.mat4[4],m.mat4[5]=this.mat4[5],m.mat4[6]=this.mat4[6],m.mat4[7]=this.mat4[7],m.mat4[8]=this.mat4[8],m.mat4[9]=this.mat4[9],m.mat4[10]=this.mat4[10],m.mat4[11]=this.mat4[11],m.mat4[12]=this.mat4[12],m.mat4[13]=this.mat4[13],m.mat4[14]=this.mat4[14],m.mat4[15]=this.mat4[15],m},l.default.Matrix.identity=function(m){return new l.default.Matrix(m)},l.default.Matrix.prototype.transpose=function(m){var y,a,u,i,h,p;return m instanceof l.default.Matrix?(y=m.mat4[1],a=m.mat4[2],u=m.mat4[3],i=m.mat4[6],h=m.mat4[7],p=m.mat4[11],this.mat4[0]=m.mat4[0],this.mat4[1]=m.mat4[4],this.mat4[2]=m.mat4[8],this.mat4[3]=m.mat4[12],this.mat4[4]=y,this.mat4[5]=m.mat4[5],this.mat4[6]=m.mat4[9],this.mat4[7]=m.mat4[13],this.mat4[8]=a,this.mat4[9]=i,this.mat4[10]=m.mat4[10],this.mat4[11]=m.mat4[14],this.mat4[12]=u,this.mat4[13]=h,this.mat4[14]=p,this.mat4[15]=m.mat4[15]):s(m)&&(y=m[1],a=m[2],u=m[3],i=m[6],h=m[7],p=m[11],this.mat4[0]=m[0],this.mat4[1]=m[4],this.mat4[2]=m[8],this.mat4[3]=m[12],this.mat4[4]=y,this.mat4[5]=m[5],this.mat4[6]=m[9],this.mat4[7]=m[13],this.mat4[8]=a,this.mat4[9]=i,this.mat4[10]=m[10],this.mat4[11]=m[14],this.mat4[12]=u,this.mat4[13]=h,this.mat4[14]=p,this.mat4[15]=m[15]),this},l.default.Matrix.prototype.invert=function(D){D instanceof l.default.Matrix?(y=D.mat4[0],a=D.mat4[1],u=D.mat4[2],i=D.mat4[3],h=D.mat4[4],p=D.mat4[5],g=D.mat4[6],v=D.mat4[7],b=D.mat4[8],w=D.mat4[9],x=D.mat4[10],k=D.mat4[11],E=D.mat4[12],M=D.mat4[13],O=D.mat4[14],P=D.mat4[15]):s(D)&&(y=D[0],a=D[1],u=D[2],i=D[3],h=D[4],p=D[5],g=D[6],v=D[7],b=D[8],w=D[9],x=D[10],k=D[11],E=D[12],M=D[13],O=D[14],P=D[15]);var y,a,u,i,h,p,g,v,b,w,x,k,E,M,O,P,D=y*p-a*h,U=y*g-u*h,z=y*v-i*h,V=a*g-u*p,K=a*v-i*p,re=u*v-i*g,Q=b*M-w*E,ue=b*O-x*E,te=b*P-k*E,oe=w*O-x*M,ce=w*P-k*M,ne=x*P-k*O,R=D*ne-U*ce+z*oe+V*te-K*ue+re*Q;return R?(this.mat4[0]=(p*ne-g*ce+v*oe)*(R=1/R),this.mat4[1]=(u*ce-a*ne-i*oe)*R,this.mat4[2]=(M*re-O*K+P*V)*R,this.mat4[3]=(x*K-w*re-k*V)*R,this.mat4[4]=(g*te-h*ne-v*ue)*R,this.mat4[5]=(y*ne-u*te+i*ue)*R,this.mat4[6]=(O*z-E*re-P*U)*R,this.mat4[7]=(b*re-x*z+k*U)*R,this.mat4[8]=(h*ce-p*te+v*Q)*R,this.mat4[9]=(a*te-y*ce-i*Q)*R,this.mat4[10]=(E*K-M*z+P*D)*R,this.mat4[11]=(w*z-b*K-k*D)*R,this.mat4[12]=(p*ue-h*oe-g*Q)*R,this.mat4[13]=(y*oe-a*ue+u*Q)*R,this.mat4[14]=(M*U-E*V-O*D)*R,this.mat4[15]=(b*V-w*U+x*D)*R,this):null},l.default.Matrix.prototype.invert3x3=function(){var m=this.mat3[0],y=this.mat3[1],a=this.mat3[2],u=this.mat3[3],i=this.mat3[4],h=this.mat3[5],p=this.mat3[6],g=this.mat3[7],v=this.mat3[8],b=v*i-h*g,w=-v*u+h*p,x=g*u-i*p,k=m*b+y*w+a*x;return k?(this.mat3[0]=b*(k=1/k),this.mat3[1]=(-v*y+a*g)*k,this.mat3[2]=(h*y-a*i)*k,this.mat3[3]=w*k,this.mat3[4]=(v*m-a*p)*k,this.mat3[5]=(-h*m+a*u)*k,this.mat3[6]=x*k,this.mat3[7]=(-g*m+y*p)*k,this.mat3[8]=(i*m-y*u)*k,this):null},l.default.Matrix.prototype.transpose3x3=function(m){var y=m[1],a=m[2],u=m[5];return this.mat3[1]=m[3],this.mat3[2]=m[6],this.mat3[3]=y,this.mat3[5]=m[7],this.mat3[6]=a,this.mat3[7]=u,this},l.default.Matrix.prototype.inverseTranspose=function(m){if(this.mat3===void 0?console.error("sorry, this function only works with mat3"):(this.mat3[0]=m.mat4[0],this.mat3[1]=m.mat4[1],this.mat3[2]=m.mat4[2],this.mat3[3]=m.mat4[4],this.mat3[4]=m.mat4[5],this.mat3[5]=m.mat4[6],this.mat3[6]=m.mat4[8],this.mat3[7]=m.mat4[9],this.mat3[8]=m.mat4[10]),m=this.invert3x3(),m)m.transpose3x3(this.mat3);else for(var y=0;y<9;y++)this.mat3[y]=0;return this},l.default.Matrix.prototype.determinant=function(){var m=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],y=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],a=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],u=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],i=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],h=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],p=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],g=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],v=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],b=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],w=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return m*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-y*w+a*b+u*v-i*g+h*p},l.default.Matrix.prototype.mult=function(a){var y;if(a===this||a===this.mat4)y=this.copy().mat4;else if(a instanceof l.default.Matrix)y=a.mat4;else if(s(a))y=a;else{if(arguments.length!==16)return;y=arguments}var a=this.mat4[0],u=this.mat4[1],i=this.mat4[2],h=this.mat4[3];return this.mat4[0]=a*y[0]+u*y[4]+i*y[8]+h*y[12],this.mat4[1]=a*y[1]+u*y[5]+i*y[9]+h*y[13],this.mat4[2]=a*y[2]+u*y[6]+i*y[10]+h*y[14],this.mat4[3]=a*y[3]+u*y[7]+i*y[11]+h*y[15],a=this.mat4[4],u=this.mat4[5],i=this.mat4[6],h=this.mat4[7],this.mat4[4]=a*y[0]+u*y[4]+i*y[8]+h*y[12],this.mat4[5]=a*y[1]+u*y[5]+i*y[9]+h*y[13],this.mat4[6]=a*y[2]+u*y[6]+i*y[10]+h*y[14],this.mat4[7]=a*y[3]+u*y[7]+i*y[11]+h*y[15],a=this.mat4[8],u=this.mat4[9],i=this.mat4[10],h=this.mat4[11],this.mat4[8]=a*y[0]+u*y[4]+i*y[8]+h*y[12],this.mat4[9]=a*y[1]+u*y[5]+i*y[9]+h*y[13],this.mat4[10]=a*y[2]+u*y[6]+i*y[10]+h*y[14],this.mat4[11]=a*y[3]+u*y[7]+i*y[11]+h*y[15],a=this.mat4[12],u=this.mat4[13],i=this.mat4[14],h=this.mat4[15],this.mat4[12]=a*y[0]+u*y[4]+i*y[8]+h*y[12],this.mat4[13]=a*y[1]+u*y[5]+i*y[9]+h*y[13],this.mat4[14]=a*y[2]+u*y[6]+i*y[10]+h*y[14],this.mat4[15]=a*y[3]+u*y[7]+i*y[11]+h*y[15],this},l.default.Matrix.prototype.apply=function(a){var y;if(a===this||a===this.mat4)y=this.copy().mat4;else if(a instanceof l.default.Matrix)y=a.mat4;else if(s(a))y=a;else{if(arguments.length!==16)return;y=arguments}var a=this.mat4,u=a[0],i=a[4],h=a[8],p=a[12],u=(a[0]=y[0]*u+y[1]*i+y[2]*h+y[3]*p,a[4]=y[4]*u+y[5]*i+y[6]*h+y[7]*p,a[8]=y[8]*u+y[9]*i+y[10]*h+y[11]*p,a[12]=y[12]*u+y[13]*i+y[14]*h+y[15]*p,a[1]),i=a[5],h=a[9],p=a[13],u=(a[1]=y[0]*u+y[1]*i+y[2]*h+y[3]*p,a[5]=y[4]*u+y[5]*i+y[6]*h+y[7]*p,a[9]=y[8]*u+y[9]*i+y[10]*h+y[11]*p,a[13]=y[12]*u+y[13]*i+y[14]*h+y[15]*p,a[2]),i=a[6],h=a[10],p=a[14],u=(a[2]=y[0]*u+y[1]*i+y[2]*h+y[3]*p,a[6]=y[4]*u+y[5]*i+y[6]*h+y[7]*p,a[10]=y[8]*u+y[9]*i+y[10]*h+y[11]*p,a[14]=y[12]*u+y[13]*i+y[14]*h+y[15]*p,a[3]),i=a[7],h=a[11],p=a[15];return a[3]=y[0]*u+y[1]*i+y[2]*h+y[3]*p,a[7]=y[4]*u+y[5]*i+y[6]*h+y[7]*p,a[11]=y[8]*u+y[9]*i+y[10]*h+y[11]*p,a[15]=y[12]*u+y[13]*i+y[14]*h+y[15]*p,this},l.default.Matrix.prototype.scale=function(m,y,a){return m instanceof l.default.Vector?(y=m.y,a=m.z,m=m.x):m instanceof Array&&(y=m[1],a=m[2],m=m[0]),this.mat4[0]*=m,this.mat4[1]*=m,this.mat4[2]*=m,this.mat4[3]*=m,this.mat4[4]*=y,this.mat4[5]*=y,this.mat4[6]*=y,this.mat4[7]*=y,this.mat4[8]*=a,this.mat4[9]*=a,this.mat4[10]*=a,this.mat4[11]*=a,this},l.default.Matrix.prototype.rotate=function(D,ce,oe,u){ce instanceof l.default.Vector?(oe=ce.y,u=ce.z,ce=ce.x):ce instanceof Array&&(oe=ce[1],u=ce[2],ce=ce[0]);var i=Math.sqrt(ce*ce+oe*oe+u*u),i=(ce*=1/i,oe*=1/i,u*=1/i,this.mat4[0]),h=this.mat4[1],p=this.mat4[2],g=this.mat4[3],v=this.mat4[4],b=this.mat4[5],w=this.mat4[6],x=this.mat4[7],k=this.mat4[8],E=this.mat4[9],M=this.mat4[10],O=this.mat4[11],P=Math.sin(D),D=Math.cos(D),U=1-D,z=ce*ce*U+D,V=oe*ce*U+u*P,K=u*ce*U-oe*P,re=ce*oe*U-u*P,Q=oe*oe*U+D,ue=u*oe*U+ce*P,te=ce*u*U+oe*P,oe=oe*u*U-ce*P,ce=u*u*U+D;return this.mat4[0]=i*z+v*V+k*K,this.mat4[1]=h*z+b*V+E*K,this.mat4[2]=p*z+w*V+M*K,this.mat4[3]=g*z+x*V+O*K,this.mat4[4]=i*re+v*Q+k*ue,this.mat4[5]=h*re+b*Q+E*ue,this.mat4[6]=p*re+w*Q+M*ue,this.mat4[7]=g*re+x*Q+O*ue,this.mat4[8]=i*te+v*oe+k*ce,this.mat4[9]=h*te+b*oe+E*ce,this.mat4[10]=p*te+w*oe+M*ce,this.mat4[11]=g*te+x*oe+O*ce,this},l.default.Matrix.prototype.translate=function(u){var y=u[0],a=u[1],u=u[2]||0;this.mat4[12]+=this.mat4[0]*y+this.mat4[4]*a+this.mat4[8]*u,this.mat4[13]+=this.mat4[1]*y+this.mat4[5]*a+this.mat4[9]*u,this.mat4[14]+=this.mat4[2]*y+this.mat4[6]*a+this.mat4[10]*u,this.mat4[15]+=this.mat4[3]*y+this.mat4[7]*a+this.mat4[11]*u},l.default.Matrix.prototype.rotateX=function(m){this.rotate(m,1,0,0)},l.default.Matrix.prototype.rotateY=function(m){this.rotate(m,0,1,0)},l.default.Matrix.prototype.rotateZ=function(m){this.rotate(m,0,0,1)},l.default.Matrix.prototype.perspective=function(i,y,a,u){var i=1/Math.tan(i/2),h=1/(a-u);return this.mat4[0]=i/y,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=i,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(u+a)*h,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*u*a*h,this.mat4[15]=0,this},l.default.Matrix.prototype.ortho=function(m,y,a,u,i,h){var p=1/(m-y),g=1/(a-u),v=1/(i-h);return this.mat4[0]=-2*p,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*g,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*v,this.mat4[11]=0,this.mat4[12]=(m+y)*p,this.mat4[13]=(u+a)*g,this.mat4[14]=(h+i)*v,this.mat4[15]=1,this},l.default.Matrix);f.default=c},{"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.to-string":177,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223}],318:[function(e,d,f){e("core-js/modules/es.array.map"),e("core-js/modules/es.array.map"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,e=(e=e("../core/main"))&&e.__esModule?e:{default:e},e.default.RenderBuffer=function(l,o,s,c,m,y){this.size=l,this.src=o,this.dst=s,this.attr=c,this._renderer=m,this.map=y},e.default.RenderBuffer.prototype._prepareBuffer=function(l,o){var s,c,m,u=o.attributes,y=this._renderer.GL,a=l.model||l,u=u[this.attr];u&&(s=l[this.dst],0<(c=a[this.src]).length&&((m=!s)&&(l[this.dst]=s=y.createBuffer()),y.bindBuffer(y.ARRAY_BUFFER,s),!m&&a.dirtyFlags[this.src]===!1||(m=(l=this.map)?l(c):c,this._renderer._bindBuffer(s,y.ARRAY_BUFFER,m),a.dirtyFlags[this.src]=!1),o.enableAttrib(u,this.size)))},e=e.default.RenderBuffer,f.default=e},{"../core/main":267,"core-js/modules/es.array.map":161}],319:[function(e,d,f){function l(i){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(i)}function o(i){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(h){return l(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":l(h)})(i)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.concat"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.from"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.map"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(u=e("../core/main"))&&u.__esModule?u:{default:u},c=function(i){if(i&&i.__esModule)return i;if(i===null||o(i)!=="object"&&typeof i!="function")return{default:i};var h=m();if(h&&h.has(i))return h.get(i);var p,g={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in i){var b;Object.prototype.hasOwnProperty.call(i,p)&&((b=v?Object.getOwnPropertyDescriptor(i,p):null)&&(b.get||b.set)?Object.defineProperty(g,p,b):g[p]=i[p])}return g.default=i,h&&h.set(i,g),g}(e("../core/constants"));function m(){var i;return typeof WeakMap!="function"?null:(i=new WeakMap,m=function(){return i},i)}function y(i){return function(h){if(Array.isArray(h)){for(var p=0,g=new Array(h.length);p<h.length;p++)g[p]=h[p];return g}}(i)||function(h){if(Symbol.iterator in Object(h)||Object.prototype.toString.call(h)==="[object Arguments]")return Array.from(h)}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e("./p5.RenderBuffer"),s.default.RendererGL.prototype.beginShape=function(i){return this.immediateMode.shapeMode=i!==void 0?i:c.TRIANGLE_FAN,this.immediateMode.geometry.reset(),this};var a={vertices:1,vertexNormals:1,vertexColors:4,uvs:2},u=(s.default.RendererGL.prototype.vertex=function(i,h){if(this.immediateMode.shapeMode===c.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var p in a){var g=a[p],p=this.immediateMode.geometry[p];p.push.apply(p,y(p.slice(p.length-3*g,p.length-2*g)).concat(y(p.slice(p.length-g,p.length))))}var v,b,w=v=b=0,x=(arguments.length===3?w=arguments[2]:arguments.length===4?(v=arguments[2],b=arguments[3]):arguments.length===5&&(w=arguments[2],v=arguments[3],b=arguments[4]),new s.default.Vector(i,h,w)),x=(this.immediateMode.geometry.vertices.push(x),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexColors.push(x[0],x[1],x[2],x[3]),this.textureMode===c.IMAGE&&(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(v/=this._tex.width,b/=this._tex.height):this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(v,b),this.immediateMode._bezierVertex[0]=i,this.immediateMode._bezierVertex[1]=h,this.immediateMode._bezierVertex[2]=w,this.immediateMode._quadraticVertex[0]=i,this.immediateMode._quadraticVertex[1]=h,this.immediateMode._quadraticVertex[2]=w,this},s.default.RendererGL.prototype.normal=function(i,h,p){return i instanceof s.default.Vector?this._currentNormal=i:this._currentNormal=new s.default.Vector(i,h,p),this},s.default.RendererGL.prototype.endShape=function(i,h,p,g,v,b){return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this._processVertices.apply(this,arguments),this._doFill&&1<this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(),this._doStroke&&1<this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},s.default.RendererGL.prototype._processVertices=function(i){var h;this.immediateMode.geometry.vertices.length!==0&&(h=this._doStroke&&this.drawMode!==c.TEXTURE,i=i===c.CLOSE,h&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,i),this.immediateMode.geometry._edgesToVertices()),h=this.immediateMode.shapeMode===c.TESS,(this.isBezier||this.isQuadratic||this.isCurve||h)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape())},s.default.RendererGL.prototype._calculateEdges=function(i,h,p){var g=[],v=0;switch(i){case c.TRIANGLE_STRIP:for(v=0;v<h.length-2;v++)g.push([v,v+1]),g.push([v,v+2]);g.push([v,v+1]);break;case c.TRIANGLES:for(v=0;v<h.length-2;v+=3)g.push([v,v+1]),g.push([v+1,v+2]),g.push([v+2,v]);break;case c.LINES:for(v=0;v<h.length-1;v+=2)g.push([v,v+1]);break;case c.QUADS:for(v=0;v<h.length-5;v+=6)g.push([v,v+1]),g.push([v+1,v+2]),g.push([v+3,v+5]),g.push([v+4,v+5]);break;case c.QUAD_STRIP:for(v=0;v<h.length-2;v+=2)g.push([v,v+1]),g.push([v,v+2]),g.push([v+1,v+3]);g.push([v,v+1]);break;default:for(v=0;v<h.length-1;v++)g.push([v,v+1])}return p&&g.push([h.length-1,0]),g},s.default.RendererGL.prototype._tesselateShape=function(){for(var i=this,h=(this.immediateMode.shapeMode=c.TRIANGLES,[this._flatten(this.immediateMode.geometry.vertices.map(function(w,x){return[w.x,w.y,w.z,i.immediateMode.geometry.uvs[2*x],i.immediateMode.geometry.uvs[2*x+1],i.immediateMode.geometry.vertexColors[4*x],i.immediateMode.geometry.vertexColors[4*x+1],i.immediateMode.geometry.vertexColors[4*x+2],i.immediateMode.geometry.vertexColors[4*x+3],i.immediateMode.geometry.vertexNormals[x].x,i.immediateMode.geometry.vertexNormals[x].y,i.immediateMode.geometry.vertexNormals[x].z]}))]),p=this._triangulate(h),g=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),v=0,b=p.length;v<b;v+=12)g.push.apply(g,y(p.slice(v+5,v+9))),this.normal.apply(this,y(p.slice(v+9,v+12))),this.vertex.apply(this,y(p.slice(v,v+5)));this.immediateMode.geometry.vertexColors=g},s.default.RendererGL.prototype._drawImmediateFill=function(){var i=this.GL,h=this._getImmediateFillShader(),p=(this._setFillUniforms(h),!0),g=!1,v=void 0;try{for(var b,w=this.immediateMode.buffers.fill[Symbol.iterator]();!(p=(b=w.next()).done);p=!0)b.value._prepareBuffer(this.immediateMode.geometry,h)}catch(x){g=!0,v=x}finally{try{p||w.return==null||w.return()}finally{if(g)throw v}}this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN),this.immediateMode.shapeMode===c.QUADS?this.immediateMode.shapeMode=c.TRIANGLES:this.immediateMode.shapeMode===c.QUAD_STRIP&&(this.immediateMode.shapeMode=c.TRIANGLE_STRIP),this._applyColorBlend(this.curFillColor),i.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length),h.unbindShader()},s.default.RendererGL.prototype._drawImmediateStroke=function(){var i=this.GL,h=this._getImmediateStrokeShader(),p=(this._setStrokeUniforms(h),!0),g=!1,v=void 0;try{for(var b,w=this.immediateMode.buffers.stroke[Symbol.iterator]();!(p=(b=w.next()).done);p=!0)b.value._prepareBuffer(this.immediateMode.geometry,h)}catch(x){g=!0,v=x}finally{try{p||w.return==null||w.return()}finally{if(g)throw v}}this._applyColorBlend(this.curStrokeColor),i.drawArrays(i.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length),h.unbindShader()},s.default.RendererGL);f.default=u},{"../core/constants":256,"../core/main":267,"./p5.RenderBuffer":318,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.from":155,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.map":161,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],320:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.fill"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.some"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.float32-array"),e("core-js/modules/es.typed-array.uint16-array"),e("core-js/modules/es.typed-array.uint32-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(s=e("../core/main"))&&s.__esModule?s:{default:s};e("./p5.RendererGL"),e("./p5.RenderBuffer");var o=0,s=(l.default.RendererGL.prototype._initBufferDefaults=function(c){var m;return this._freeBuffers(c),1e3<++o&&(m=Object.keys(this.retainedMode.geometry)[0],delete this.retainedMode.geometry[m],o--),this.retainedMode.geometry[c]={}},l.default.RendererGL.prototype._freeBuffers=function(c){var m,y=this.retainedMode.geometry[c];function a(u){var i=!0,h=!1,p=void 0;try{for(var g,v=u[Symbol.iterator]();!(i=(g=v.next()).done);i=!0){var b=g.value;y[b.dst]&&(m.deleteBuffer(y[b.dst]),y[b.dst]=null)}}catch(w){h=!0,p=w}finally{try{i||v.return==null||v.return()}finally{if(h)throw p}}}y&&(delete this.retainedMode.geometry[c],o--,m=this.GL,y.indexBuffer&&m.deleteBuffer(y.indexBuffer),a(this.retainedMode.buffers.stroke),a(this.retainedMode.buffers.fill))},l.default.RendererGL.prototype.createBuffers=function(h,m){var y,a,u,i=this.GL,h=this._initBufferDefaults(h),p=(h.model=m,h.indexBuffer);return m.faces.length?(p=p||(h.indexBuffer=i.createBuffer()),u=(a=(y=l.default.RendererGL.prototype._flatten(m.faces)).some(function(g){return 65535<g}))?Uint32Array:Uint16Array,this._bindBuffer(p,i.ELEMENT_ARRAY_BUFFER,y,u),h.indexBufferType=a?i.UNSIGNED_INT:i.UNSIGNED_SHORT,h.vertexCount=3*m.faces.length):(p&&(i.deleteBuffer(p),h.indexBuffer=null),h.vertexCount=m.vertices?m.vertices.length:0),h.lineVertexCount=m.lineVertices?m.lineVertices.length:0,h},l.default.RendererGL.prototype.drawBuffers=function(c){var m=this.GL,y=this.retainedMode.geometry[c];if(this._doStroke&&0<y.lineVertexCount){var a=this._getRetainedStrokeShader(),u=(this._setStrokeUniforms(a),!0),i=!1,h=void 0;try{for(var p,g=this.retainedMode.buffers.stroke[Symbol.iterator]();!(u=(p=g.next()).done);u=!0)p.value._prepareBuffer(y,a)}catch(k){i=!0,h=k}finally{try{u||g.return==null||g.return()}finally{if(i)throw h}}this._applyColorBlend(this.curStrokeColor),this._drawArrays(m.TRIANGLES,c),a.unbindShader()}if(this._doFill){var v=this._getRetainedFillShader(),b=(this._setFillUniforms(v),!0),i=!1,h=void 0;try{for(var w,x=this.retainedMode.buffers.fill[Symbol.iterator]();!(b=(w=x.next()).done);b=!0)w.value._prepareBuffer(y,v)}catch(M){i=!0,h=M}finally{try{b||x.return==null||x.return()}finally{if(i)throw h}}y.indexBuffer&&this._bindBuffer(y.indexBuffer,m.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor),this._drawElements(m.TRIANGLES,c),v.unbindShader()}return this},l.default.RendererGL.prototype.drawBuffersScaled=function(c,m,y,a){var u=this.uMVMatrix.copy();try{this.uMVMatrix.scale(m,y,a),this.drawBuffers(c)}finally{this.uMVMatrix=u}},l.default.RendererGL.prototype._drawArrays=function(c,m){return this.GL.drawArrays(c,0,this.retainedMode.geometry[m].lineVertexCount),this},l.default.RendererGL.prototype._drawElements=function(c,y){var y=this.retainedMode.geometry[y],a=this.GL;if(y.indexBuffer){if(y.indexBufferType===a.UNSIGNED_INT&&!a.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");a.drawElements(a.TRIANGLES,y.vertexCount,y.indexBufferType,0)}else a.drawArrays(c||a.TRIANGLES,0,y.vertexCount)},l.default.RendererGL.prototype._drawPoints=function(c,m){var y=this.GL,a=this._getImmediatePointShader();this._setPointUniforms(a),this._bindBuffer(m,y.ARRAY_BUFFER,this._vToNArray(c),Float32Array,y.STATIC_DRAW),a.enableAttrib(a.attributes.aPosition,3),y.drawArrays(y.Points,0,c.length),a.unbindShader()},l.default.RendererGL);f.default=s},{"../core/main":267,"./p5.RenderBuffer":318,"./p5.RendererGL":321,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.some":163,"core-js/modules/es.object.keys":176,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/web.dom-collections.iterator":230}],321:[function(h,d,f){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function o(p){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(g){return l(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":l(g)})(p)}h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.from"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.assign"),h("core-js/modules/es.object.get-own-property-descriptor"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.float64-array"),h("core-js/modules/es.typed-array.int16-array"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.uint16-array"),h("core-js/modules/es.typed-array.uint32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/es.weak-map"),h("core-js/modules/web.dom-collections.iterator"),h("core-js/modules/es.symbol"),h("core-js/modules/es.symbol.description"),h("core-js/modules/es.symbol.iterator"),h("core-js/modules/es.array.concat"),h("core-js/modules/es.array.fill"),h("core-js/modules/es.array.filter"),h("core-js/modules/es.array.from"),h("core-js/modules/es.array.includes"),h("core-js/modules/es.array.iterator"),h("core-js/modules/es.array.slice"),h("core-js/modules/es.object.assign"),h("core-js/modules/es.object.to-string"),h("core-js/modules/es.regexp.to-string"),h("core-js/modules/es.string.includes"),h("core-js/modules/es.string.iterator"),h("core-js/modules/es.typed-array.float32-array"),h("core-js/modules/es.typed-array.float64-array"),h("core-js/modules/es.typed-array.int16-array"),h("core-js/modules/es.typed-array.uint8-array"),h("core-js/modules/es.typed-array.uint16-array"),h("core-js/modules/es.typed-array.uint32-array"),h("core-js/modules/es.typed-array.copy-within"),h("core-js/modules/es.typed-array.every"),h("core-js/modules/es.typed-array.fill"),h("core-js/modules/es.typed-array.filter"),h("core-js/modules/es.typed-array.find"),h("core-js/modules/es.typed-array.find-index"),h("core-js/modules/es.typed-array.for-each"),h("core-js/modules/es.typed-array.includes"),h("core-js/modules/es.typed-array.index-of"),h("core-js/modules/es.typed-array.iterator"),h("core-js/modules/es.typed-array.join"),h("core-js/modules/es.typed-array.last-index-of"),h("core-js/modules/es.typed-array.map"),h("core-js/modules/es.typed-array.reduce"),h("core-js/modules/es.typed-array.reduce-right"),h("core-js/modules/es.typed-array.reverse"),h("core-js/modules/es.typed-array.set"),h("core-js/modules/es.typed-array.slice"),h("core-js/modules/es.typed-array.some"),h("core-js/modules/es.typed-array.sort"),h("core-js/modules/es.typed-array.subarray"),h("core-js/modules/es.typed-array.to-locale-string"),h("core-js/modules/es.typed-array.to-string"),h("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=a(h("../core/main")),c=function(p){if(p&&p.__esModule)return p;if(p===null||o(p)!=="object"&&typeof p!="function")return{default:p};var g=y();if(g&&g.has(p))return g.get(p);var v,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var x;Object.prototype.hasOwnProperty.call(p,v)&&((x=w?Object.getOwnPropertyDescriptor(p,v):null)&&(x.get||x.set)?Object.defineProperty(b,v,x):b[v]=p[v])}return b.default=p,g&&g.set(p,b),b}(h("../core/constants")),m=a(h("libtess"));h("./p5.Shader"),h("./p5.Camera"),h("../core/p5.Renderer"),h("./p5.Matrix"),h("path");function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}function a(p){return p&&p.__esModule?p:{default:p}}function u(p){return function(g){if(Array.isArray(g)){for(var v=0,b=new Array(g.length);v<g.length;v++)b[v]=g[v];return b}}(p)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(p)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=`precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];

uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  if (uSpecular)
    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);
  lr.diffuse = _lambertDiffuse(lightDir, normal);
  return lr;
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`,i={immediateVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

varying vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`attribute vec3 aPosition;
attribute vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

varying vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`precision mediump float;
varying vec4 vColor;
void main(void) {
  gl_FragColor = vColor;
}`,normalVert:`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying vec3 vVertexNormal;
varying highp vec2 vVertTexCoord;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
}
`,normalFrag:`precision mediump float;
varying vec3 vVertexNormal;
void main(void) {
  gl_FragColor = vec4(vVertexNormal, 1.0);
}`,basicFrag:`precision mediump float;
uniform vec4 uMaterialColor;
void main(void) {
  gl_FragColor = uMaterialColor;
}`,lightVert:h+`// include lighting.glgl

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
}
`,lightTextureFrag:`precision highp float;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

varying highp vec2 vVertTexCoord;
varying vec3 vDiffuseColor;
varying vec3 vSpecularColor;

void main(void) {
  if(uEmissive && !isTexture) {
    gl_FragColor = uMaterialColor;
  }
  else {
    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;
  }
}`,phongVert:`precision highp float;
precision highp int;

attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
}
`,phongFrag:h+`// include lighting.glsl
precision highp float;
precision highp int;

uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uMaterialColor;
uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

varying vec3 vNormal;
varying vec2 vTexCoord;
varying vec3 vViewPosition;
varying vec3 vAmbientColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;
  gl_FragColor.rgb = diffuse * gl_FragColor.rgb + 
                    vAmbientColor * uAmbientMatColor.rgb + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb;
}`,fontVert:`precision mediump float;

attribute vec3 aPosition;
attribute vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

varying vec2 vTexCoord;
varying float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord;
  w = gl_Position.w;
}
`,fontFrag:`#extension GL_OES_standard_derivatives : enable
precision mediump float;

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

varying vec2 vTexCoord;

// some helper functions
int round(float v) { return ifloor(v + 0.5); }
ivec2 round(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = round(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  gl_FragColor = uMaterialColor;
  gl_FragColor.a *= saturate(max(antialias, cover));
}`,lineVert:`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform vec4 uViewport;
uniform int uPerspective;

attribute vec4 aPosition;
attribute vec4 aDirection;
  
void main() {
  // using a scale <1 moves the lines towards the camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  vec3 scale = vec3(0.9995);

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  posp.xyz = posp.xyz * scale;
  posq.xyz = posq.xyz * scale;

  vec4 p = uProjectionMatrix * posp;
  vec4 q = uProjectionMatrix * posq;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);

  // flip tangent to normal (it's already normalized)
  vec2 normal = vec2(-tangent.y, tangent.x);

  float thickness = aDirection.w * uStrokeWeight;
  vec2 offset = normal * thickness / 2.0;

  vec2 curPerspScale;

  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)
    // invert Y, projections in Processing invert Y
    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
}
`,lineFrag:`precision mediump float;
precision mediump int;

uniform vec4 uMaterialColor;

void main() {
  gl_FragColor = uMaterialColor;
}`,pointVert:`attribute vec3 aPosition;
uniform float uPointSize;
varying float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}`,pointFrag:`precision mediump float;
precision mediump int;
uniform vec4 uMaterialColor;
varying float vStrokeWeight;

void main(){
	float mask = 0.0;

	// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

	mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

	// if strokeWeight is 1 or less lets just draw a square
	// this prevents weird artifacting from carving circles when our points are really small
	// if strokeWeight is larger than 1, we just use it as is

	mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

	// throw away the borders of the mask
    // otherwise we get weird alpha blending issues

	if(mask > 0.98){
      discard;
  	}

  	gl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;
}`},h=(s.default.RendererGL=function(p,g,v,b){return s.default.Renderer.call(this,p,g,v),this._setAttributeDefaults(g),this._initContext(),this.isP3D=!0,this.GL=this.drawingContext,this._pInst._setProperty("drawingContext",this.drawingContext),this._isErasing=!1,this._enableLighting=!1,this.ambientLightColors=[],this.specularColors=[1,1,1],this.directionalLightDirections=[],this.directionalLightDiffuseColors=[],this.directionalLightSpecularColors=[],this.pointLightPositions=[],this.pointLightDiffuseColors=[],this.pointLightSpecularColors=[],this.spotLightPositions=[],this.spotLightDirections=[],this.spotLightDiffuseColors=[],this.spotLightSpecularColors=[],this.spotLightAngle=[],this.spotLightConc=[],this.drawMode=c.FILL,this.curFillColor=this._cachedFillStyle=[1,1,1,1],this.curAmbientColor=this._cachedFillStyle=[0,0,0,0],this.curSpecularColor=this._cachedFillStyle=[0,0,0,0],this.curEmissiveColor=this._cachedFillStyle=[0,0,0,0],this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1],this.curBlendMode=c.BLEND,this._cachedBlendMode=void 0,this.blendExt=this.GL.getExtension("EXT_blend_minmax"),this._isBlending=!1,this._useSpecularMaterial=!1,this._useEmissiveMaterial=!1,this._useNormalMaterial=!1,this._useShininess=1,this._tint=[255,255,255,255],this.constantAttenuation=1,this.linearAttenuation=0,this.quadraticAttenuation=0,this.uMVMatrix=new s.default.Matrix,this.uPMatrix=new s.default.Matrix,this.uNMatrix=new s.default.Matrix("mat3"),this._currentNormal=new s.default.Vector(0,0,1),this._curCamera=new s.default.Camera(this),this._curCamera._computeCameraDefaultSettings(),this._curCamera._setDefaultCamera(),this._defaultLightShader=void 0,this._defaultImmediateModeShader=void 0,this._defaultNormalShader=void 0,this._defaultColorShader=void 0,this._defaultPointShader=void 0,this.userFillShader=void 0,this.userStrokeShader=void 0,this.userPointShader=void 0,this.retainedMode={geometry:{},buffers:{stroke:[new s.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}},this.immediateMode={geometry:new s.default.Geometry,shapeMode:c.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new s.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new s.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new s.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new s.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new s.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new s.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new s.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}},this.pointSize=5,this.curStrokeWeight=1,this.textures=[],this.textureMode=c.IMAGE,this.textureWrapX=c.CLAMP,this.textureWrapY=c.CLAMP,this._tex=null,this._curveTightness=6,this._lookUpTableBezier=[],this._lookUpTableQuadratic=[],this._lutBezierDetail=0,this._lutQuadraticDetail=0,this._tessy=this._initTessy(),this.fontInfos={},this._curShader=void 0,this},s.default.RendererGL.prototype=Object.create(s.default.Renderer.prototype),s.default.RendererGL.prototype._setAttributeDefaults=function(p){var g={alpha:!1,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!1,preserveDrawingBuffer:!0,perPixelLighting:!0};p._glAttributes===null?p._glAttributes=g:p._glAttributes=Object.assign(g,p._glAttributes)},s.default.RendererGL.prototype._initContext=function(){if(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes),this.drawingContext===null)throw new Error("Error creating webgl context");var p=this.drawingContext;p.enable(p.DEPTH_TEST),p.depthFunc(p.LEQUAL),p.viewport(0,0,p.drawingBufferWidth,p.drawingBufferHeight),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)},s.default.RendererGL.prototype._resetContext=function(p,g){var v,b=this.width,w=this.height,k=this.canvas.id,x=this._pInst instanceof s.default.Graphics,k=(x?((v=this._pInst).canvas.parentNode.removeChild(v.canvas),v.canvas=document.createElement("canvas"),(v._pInst._userNode||document.body).appendChild(v.canvas),s.default.Element.call(v,v.canvas,v._pInst),v.width=b,v.height=w):((v=this.canvas)&&v.parentNode.removeChild(v),(v=document.createElement("canvas")).id=k,(this._pInst._userNode||document.body).appendChild(v),this._pInst.canvas=v,this.canvas=v),new s.default.RendererGL(this._pInst.canvas,this._pInst,!x));this._pInst._setProperty("_renderer",k),k.resize(b,w),k._applyDefaults(),x||this._pInst._elements.push(k),typeof g=="function"&&setTimeout(function(){g.apply(window._renderer,p)},0)},s.default.prototype.setAttributes=function(p,g){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var v=!0;if(g!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[p]!==g&&(this._glAttributes[p]=g,v=!1)):p instanceof Object&&this._glAttributes!==p&&(this._glAttributes=p,v=!1),this._renderer.isP3D&&!v){if(!this._setupDone){for(var b in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(b))return void console.error("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},s.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clear(this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.background=function(){var b=(b=this._pInst).color.apply(b,arguments),p=b.levels[0]/255,g=b.levels[1]/255,v=b.levels[2]/255,b=b.levels[3]/255;this.GL.clearColor(p,g,v,b),this.GL.clear(this.GL.COLOR_BUFFER_BIT)},s.default.RendererGL.prototype.fill=function(p,g,v,b){var w=s.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=w._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null},s.default.RendererGL.prototype.stroke=function(p,g,v,b){arguments[3]=255;var w=s.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=w._array},s.default.RendererGL.prototype.strokeCap=function(p){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")},s.default.RendererGL.prototype.strokeJoin=function(p){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")},s.default.RendererGL.prototype.filter=function(p){console.error("filter() does not work in WEBGL mode")},s.default.RendererGL.prototype.blendMode=function(p){p===c.DARKEST||p===c.LIGHTEST||p===c.ADD||p===c.BLEND||p===c.SUBTRACT||p===c.SCREEN||p===c.EXCLUSION||p===c.REPLACE||p===c.MULTIPLY||p===c.REMOVE?this.curBlendMode=p:p!==c.BURN&&p!==c.OVERLAY&&p!==c.HARD_LIGHT&&p!==c.SOFT_LIGHT&&p!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")},s.default.RendererGL.prototype.erase=function(p,g){this._isErasing||(this._applyBlendMode(c.REMOVE),this._isErasing=!0,this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,p/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,g/255])},s.default.RendererGL.prototype.noErase=function(){this._isErasing&&(this._isErasing=!1,this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.blendMode(this._cachedBlendMode))},s.default.RendererGL.prototype.strokeWeight=function(p){this.curStrokeWeight!==p&&(this.pointSize=p,this.curStrokeWeight=p)},s.default.RendererGL.prototype._getPixel=function(p,g){var v=new Uint8Array(4);return this.drawingContext.readPixels(p,g,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,v),[v[0],v[1],v[2],v[3]]},s.default.RendererGL.prototype.loadPixels=function(){var p,g=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(g=g.pixels,p=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4,g instanceof Uint8Array&&g.length===p||(g=new Uint8Array(p),this._pixelsState._setProperty("pixels",g)),p=this._pInst._pixelDensity,this.GL.readPixels(0,0,this.width*p,this.height*p,this.GL.RGBA,this.GL.UNSIGNED_BYTE,g))},s.default.RendererGL.prototype.geometryInHash=function(p){return this.retainedMode.geometry[p]!==void 0},s.default.RendererGL.prototype.resize=function(p,g){s.default.Renderer.prototype.resize.call(this,p,g),this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight),this._viewport=this.GL.getParameter(this.GL.VIEWPORT),this._curCamera._resize(),p=this._pixelsState,p.pixels!==void 0&&p._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))},s.default.RendererGL.prototype.clear=function(){this.GL.clearColor((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)},s.default.RendererGL.prototype.applyMatrix=function(p,g,v,b,w,x){arguments.length===16?s.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments):this.uMVMatrix.apply([p,g,0,0,v,b,0,0,0,0,1,0,w,x,0,1])},s.default.RendererGL.prototype.translate=function(p,g,v){return p instanceof s.default.Vector&&(v=p.z,g=p.y,p=p.x),this.uMVMatrix.translate([p,g,v]),this},s.default.RendererGL.prototype.scale=function(p,g,v){return this.uMVMatrix.scale(p,g,v),this},s.default.RendererGL.prototype.rotate=function(p,g){return g===void 0?this.rotateZ(p):(s.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments),this)},s.default.RendererGL.prototype.rotateX=function(p){return this.rotate(p,1,0,0),this},s.default.RendererGL.prototype.rotateY=function(p){return this.rotate(p,0,1,0),this},s.default.RendererGL.prototype.rotateZ=function(p){return this.rotate(p,0,0,1),this},s.default.RendererGL.prototype.push=function(){var p=s.default.Renderer.prototype.push.apply(this),g=p.properties;return g.uMVMatrix=this.uMVMatrix.copy(),g.uPMatrix=this.uPMatrix.copy(),g._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),g.ambientLightColors=this.ambientLightColors.slice(),g.specularColors=this.specularColors.slice(),g.directionalLightDirections=this.directionalLightDirections.slice(),g.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),g.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),g.pointLightPositions=this.pointLightPositions.slice(),g.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),g.pointLightSpecularColors=this.pointLightSpecularColors.slice(),g.spotLightPositions=this.spotLightPositions.slice(),g.spotLightDirections=this.spotLightDirections.slice(),g.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),g.spotLightSpecularColors=this.spotLightSpecularColors.slice(),g.spotLightAngle=this.spotLightAngle.slice(),g.spotLightConc=this.spotLightConc.slice(),g.userFillShader=this.userFillShader,g.userStrokeShader=this.userStrokeShader,g.userPointShader=this.userPointShader,g.pointSize=this.pointSize,g.curStrokeWeight=this.curStrokeWeight,g.curStrokeColor=this.curStrokeColor,g.curFillColor=this.curFillColor,g.curAmbientColor=this.curAmbientColor,g.curSpecularColor=this.curSpecularColor,g.curEmissiveColor=this.curEmissiveColor,g._useSpecularMaterial=this._useSpecularMaterial,g._useEmissiveMaterial=this._useEmissiveMaterial,g._useShininess=this._useShininess,g.constantAttenuation=this.constantAttenuation,g.linearAttenuation=this.linearAttenuation,g.quadraticAttenuation=this.quadraticAttenuation,g._enableLighting=this._enableLighting,g._useNormalMaterial=this._useNormalMaterial,g._tex=this._tex,g.drawMode=this.drawMode,g._currentNormal=this._currentNormal,g.curBlendMode=this.curBlendMode,p},s.default.RendererGL.prototype.resetMatrix=function(){return this.uMVMatrix=s.default.Matrix.identity(this._pInst),this},s.default.RendererGL.prototype._getImmediateStrokeShader=function(){var p=this.userStrokeShader;return p&&p.isStrokeShader()?p:this._getLineShader()},s.default.RendererGL.prototype._getRetainedStrokeShader=s.default.RendererGL.prototype._getImmediateStrokeShader,s.default.RendererGL.prototype._getImmediateFillShader=function(){var p=this.userFillShader;if(this._useNormalMaterial&&(!p||!p.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!p||!p.isLightShader())return this._getLightShader()}else if(this._tex){if(!p||!p.isTextureShader())return this._getLightShader()}else if(!p)return this._getImmediateModeShader();return p},s.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial)return this._getNormalShader();var p=this.userFillShader;if(this._enableLighting){if(!p||!p.isLightShader())return this._getLightShader()}else if(this._tex){if(!p||!p.isTextureShader())return this._getLightShader()}else if(!p)return this._getColorShader();return p},s.default.RendererGL.prototype._getImmediatePointShader=function(){var p=this.userPointShader;return p&&p.isPointShader()?p:this._getPointShader()},s.default.RendererGL.prototype._getRetainedLineShader=s.default.RendererGL.prototype._getImmediateLineShader,s.default.RendererGL.prototype._getLightShader=function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new s.default.Shader(this,i.phongVert,i.phongFrag):this._defaultLightShader=new s.default.Shader(this,i.lightVert,i.lightTextureFrag)),this._defaultLightShader},s.default.RendererGL.prototype._getImmediateModeShader=function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new s.default.Shader(this,i.immediateVert,i.vertexColorFrag)),this._defaultImmediateModeShader},s.default.RendererGL.prototype._getNormalShader=function(){return this._defaultNormalShader||(this._defaultNormalShader=new s.default.Shader(this,i.normalVert,i.normalFrag)),this._defaultNormalShader},s.default.RendererGL.prototype._getColorShader=function(){return this._defaultColorShader||(this._defaultColorShader=new s.default.Shader(this,i.normalVert,i.basicFrag)),this._defaultColorShader},s.default.RendererGL.prototype._getPointShader=function(){return this._defaultPointShader||(this._defaultPointShader=new s.default.Shader(this,i.pointVert,i.pointFrag)),this._defaultPointShader},s.default.RendererGL.prototype._getLineShader=function(){return this._defaultLineShader||(this._defaultLineShader=new s.default.Shader(this,i.lineVert,i.lineFrag)),this._defaultLineShader},s.default.RendererGL.prototype._getFontShader=function(){return this._defaultFontShader||(this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new s.default.Shader(this,i.fontVert,i.fontFrag)),this._defaultFontShader},s.default.RendererGL.prototype._getEmptyTexture=function(){var p;return this._emptyTexture||((p=new s.default.Image(1,1)).set(0,0,255),this._emptyTexture=new s.default.Texture(this,p)),this._emptyTexture},s.default.RendererGL.prototype.getTexture=function(p){var g=this.textures,v=!0,b=!1,w=void 0;try{for(var x,k=g[Symbol.iterator]();!(v=(x=k.next()).done);v=!0){var E=x.value;if(E.src===p)return E}}catch(M){b=!0,w=M}finally{try{v||k.return==null||k.return()}finally{if(b)throw w}}return b=new s.default.Texture(this,p),g.push(b),b},s.default.RendererGL.prototype._setStrokeUniforms=function(p){p.bindShader(),p.setUniform("uMaterialColor",this.curStrokeColor),p.setUniform("uStrokeWeight",this.curStrokeWeight)},s.default.RendererGL.prototype._setFillUniforms=function(p){p.bindShader(),p.setUniform("uMaterialColor",this.curFillColor),p.setUniform("isTexture",!!this._tex),this._tex&&p.setUniform("uSampler",this._tex),p.setUniform("uTint",this._tint),p.setUniform("uAmbientMatColor",this.curAmbientColor),p.setUniform("uSpecularMatColor",this.curSpecularColor),p.setUniform("uEmissiveMatColor",this.curEmissiveColor),p.setUniform("uSpecular",this._useSpecularMaterial),p.setUniform("uEmissive",this._useEmissiveMaterial),p.setUniform("uShininess",this._useShininess),p.setUniform("uUseLighting",this._enableLighting);var g=this.pointLightDiffuseColors.length/3,g=(p.setUniform("uPointLightCount",g),p.setUniform("uPointLightLocation",this.pointLightPositions),p.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),p.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),g=(p.setUniform("uDirectionalLightCount",g),p.setUniform("uLightingDirection",this.directionalLightDirections),p.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),p.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),g=(p.setUniform("uAmbientLightCount",g),p.setUniform("uAmbientColor",this.ambientLightColors),this.spotLightDiffuseColors.length/3);p.setUniform("uSpotLightCount",g),p.setUniform("uSpotLightAngle",this.spotLightAngle),p.setUniform("uSpotLightConc",this.spotLightConc),p.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),p.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),p.setUniform("uSpotLightLocation",this.spotLightPositions),p.setUniform("uSpotLightDirection",this.spotLightDirections),p.setUniform("uConstantAttenuation",this.constantAttenuation),p.setUniform("uLinearAttenuation",this.linearAttenuation),p.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),p.bindTextures()},s.default.RendererGL.prototype._setPointUniforms=function(p){p.bindShader(),p.setUniform("uMaterialColor",this.curStrokeColor),p.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)},s.default.RendererGL.prototype._bindBuffer=function(p,g,v,b,w){g=g||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(g,p),v!==void 0&&(p=new(b||Float32Array)(v),this.GL.bufferData(g,p,w||this.GL.STATIC_DRAW))},s.default.RendererGL.prototype._arraysEqual=function(p,g){var v=p.length;if(v!==g.length)return!1;for(var b=0;b<v;b++)if(p[b]!==g[b])return!1;return!0},s.default.RendererGL.prototype._isTypedArray=function(p){return p instanceof Uint32Array},s.default.RendererGL.prototype._flatten=function(p){if(p.length===0)return[];var g;if(2e4<p.length){for(var v=Object.prototype.toString,b=[],w=p.slice(),x=w.pop();v.call(x)==="[object Array]"?w.push.apply(w,u(x)):b.push(x),w.length&&(x=w.pop())!==void 0;);return b.reverse(),b}return(g=[]).concat.apply(g,u(p))},s.default.RendererGL.prototype._vToNArray=function(p){var g=[],v=!0,b=!1,w=void 0;try{for(var x,k=p[Symbol.iterator]();!(v=(x=k.next()).done);v=!0){var E=x.value;g.push(E.x,E.y,E.z)}}catch(M){b=!0,w=M}finally{try{v||k.return==null||k.return()}finally{if(b)throw w}}return g},s.default.prototype._assert3d=function(p){if(!this._renderer.isP3D)throw new Error("".concat(p,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},s.default.RendererGL.prototype._initTessy=function(){var p=new m.default.GluTesselator;return p.gluTessCallback(m.default.gluEnum.GLU_TESS_VERTEX_DATA,function(g,v){for(var b=0;b<g.length;b++)v[v.length]=g[b]}),p.gluTessCallback(m.default.gluEnum.GLU_TESS_BEGIN,function(g){g!==m.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(g))}),p.gluTessCallback(m.default.gluEnum.GLU_TESS_ERROR,function(g){console.log("error callback"),console.log("error number: ".concat(g))}),p.gluTessCallback(m.default.gluEnum.GLU_TESS_COMBINE,function(g,v,b){for(var w=[0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<b.length;x++)for(var k=0;k<w.length;k++)b[x]!==0&&v[x]&&(w[k]+=v[x][k]*b[x]);return w}),p.gluTessCallback(m.default.gluEnum.GLU_TESS_EDGE_FLAG,function(g){}),p},s.default.RendererGL.prototype._triangulate=function(p){this._tessy.gluTessNormal(0,0,1);var g=[];this._tessy.gluTessBeginPolygon(g);for(var v=0;v<p.length;v++){this._tessy.gluTessBeginContour();for(var b=p[v],w=0;w<b.length;w+=12){var x=b.slice(w,w+12);this._tessy.gluTessVertex(x,x)}this._tessy.gluTessEndContour()}return this._tessy.gluTessEndPolygon(),g},s.default.RendererGL.prototype._bezierCoefficients=function(p){var g=p*p,v=1-p,b=v*v;return[b*v,3*b*p,3*v*g,g*p]},s.default.RendererGL.prototype._quadraticCoefficients=function(p){var g=1-p;return[g*g,2*g*p,p*p]},s.default.RendererGL.prototype._bezierToCatmull=function(p){return[p[1],p[1]+(p[2]-p[0])/this._curveTightness,p[2]-(p[3]-p[1])/this._curveTightness,p[2]]},s.default.RendererGL);f.default=h},{"../core/constants":256,"../core/main":267,"../core/p5.Renderer":270,"./p5.Camera":315,"./p5.Matrix":317,"./p5.Shader":322,"core-js/modules/es.array.concat":149,"core-js/modules/es.array.fill":152,"core-js/modules/es.array.filter":153,"core-js/modules/es.array.from":155,"core-js/modules/es.array.includes":156,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.object.assign":172,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.to-string":182,"core-js/modules/es.string.includes":185,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.float32-array":203,"core-js/modules/es.typed-array.float64-array":204,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.int16-array":208,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint16-array":224,"core-js/modules/es.typed-array.uint32-array":225,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230,libtess:239,path:242}],322:[function(e,d,f){e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.index-of"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.slice"),e("core-js/modules/es.function.name"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var l=(e=e("../core/main"))&&e.__esModule?e:{default:e};l.default.Shader=function(o,s,c){this._renderer=o,this._vertSrc=s,this._fragSrc=c,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]},l.default.Shader.prototype.init=function(){if(this._glProgram===0){var o=this._renderer.GL;if(this._vertShader=o.createShader(o.VERTEX_SHADER),o.shaderSource(this._vertShader,this._vertSrc),o.compileShader(this._vertShader),!o.getShaderParameter(this._vertShader,o.COMPILE_STATUS))return console.error("Yikes! An error occurred compiling the vertex shader:".concat(o.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=o.createShader(o.FRAGMENT_SHADER),o.shaderSource(this._fragShader,this._fragSrc),o.compileShader(this._fragShader),!o.getShaderParameter(this._fragShader,o.COMPILE_STATUS))return console.error("Darn! An error occurred compiling the fragment shader:".concat(o.getShaderInfoLog(this._fragShader))),null;this._glProgram=o.createProgram(),o.attachShader(this._glProgram,this._vertShader),o.attachShader(this._glProgram,this._fragShader),o.linkProgram(this._glProgram),o.getProgramParameter(this._glProgram,o.LINK_STATUS)||console.error("Snap! Error linking shader program: ".concat(o.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this},l.default.Shader.prototype._loadAttributes=function(){if(!this._loadedAttributes){this.attributes={};for(var o=this._renderer.GL,s=o.getProgramParameter(this._glProgram,o.ACTIVE_ATTRIBUTES),c=0;c<s;++c){var m=o.getActiveAttrib(this._glProgram,c),y=m.name,a=o.getAttribLocation(this._glProgram,y),u={};u.name=y,u.location=a,u.index=c,u.type=m.type,u.size=m.size,this.attributes[y]=u}this._loadedAttributes=!0}},l.default.Shader.prototype._loadUniforms=function(){if(!this._loadedUniforms){for(var o=this._renderer.GL,s=o.getProgramParameter(this._glProgram,o.ACTIVE_UNIFORMS),c=0,m=0;m<s;++m){var y=o.getActiveUniform(this._glProgram,m),a={},u=(a.location=o.getUniformLocation(this._glProgram,y.name),a.size=y.size,y.name);1<y.size&&(u=u.substring(0,u.indexOf("[0]"))),a.name=u,a.type=y.type,a._cachedData=void 0,a.type===o.SAMPLER_2D&&(a.samplerIndex=c,c++,this.samplers.push(a)),a.isArray=1<y.size||a.type===o.FLOAT_MAT3||a.type===o.FLOAT_MAT4||a.type===o.FLOAT_VEC2||a.type===o.FLOAT_VEC3||a.type===o.FLOAT_VEC4||a.type===o.INT_VEC2||a.type===o.INT_VEC4||a.type===o.INT_VEC3,this.uniforms[u]=a}this._loadedUniforms=!0}},l.default.Shader.prototype.compile=function(){},l.default.Shader.prototype.bindShader=function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))},l.default.Shader.prototype.unbindShader=function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this},l.default.Shader.prototype.bindTextures=function(){var o=this._renderer.GL,s=!0,c=!1,m=void 0;try{for(var y,a=this.samplers[Symbol.iterator]();!(s=(y=a.next()).done);s=!0){var u=y.value,i=u.texture;i===void 0&&(i=this._renderer._getEmptyTexture()),o.activeTexture(o.TEXTURE0+u.samplerIndex),i.bindTexture(),i.update(),o.uniform1i(u.location,u.samplerIndex)}}catch(h){c=!0,m=h}finally{try{s||a.return==null||a.return()}finally{if(c)throw m}}},l.default.Shader.prototype.updateTextures=function(){var o=!0,s=!1,c=void 0;try{for(var m,y=this.samplers[Symbol.iterator]();!(o=(m=y.next()).done);o=!0){var a=m.value.texture;a&&a.update()}}catch(u){s=!0,c=u}finally{try{o||y.return==null||y.return()}finally{if(s)throw c}}},l.default.Shader.prototype.unbindTextures=function(){},l.default.Shader.prototype._setMatrixUniforms=function(){var o=this._renderer._curCamera.cameraMatrix,s=this._renderer.uPMatrix,c=this._renderer.uMVMatrix,m=c.copy();m.mult(s),this.isStrokeShader()&&(this._renderer._curCamera.cameraType==="default"?this.setUniform("uPerspective",1):this.setUniform("uPerspective",0)),this.setUniform("uViewMatrix",o.mat4),this.setUniform("uProjectionMatrix",s.mat4),this.setUniform("uModelViewMatrix",c.mat4),this.setUniform("uModelViewProjectionMatrix",m.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3))},l.default.Shader.prototype.useProgram=function(){var o=this._renderer.GL;return this._renderer._curShader!==this&&(o.useProgram(this._glProgram),this._renderer._curShader=this),this},l.default.Shader.prototype.setUniform=function(o,s){var c=this.uniforms[o];if(c){var m=this._renderer.GL;if(c.isArray){if(c._cachedData&&this._renderer._arraysEqual(c._cachedData,s))return;c._cachedData=s.slice(0)}else{if(c._cachedData&&c._cachedData===s)return;Array.isArray(s)?c._cachedData=s.slice(0):c._cachedData=s}var y=c.location;switch(this.useProgram(),c.type){case m.BOOL:s===!0?m.uniform1i(y,1):m.uniform1i(y,0);break;case m.INT:1<c.size?s.length&&m.uniform1iv(y,s):m.uniform1i(y,s);break;case m.FLOAT:1<c.size?s.length&&m.uniform1fv(y,s):m.uniform1f(y,s);break;case m.FLOAT_MAT3:m.uniformMatrix3fv(y,!1,s);break;case m.FLOAT_MAT4:m.uniformMatrix4fv(y,!1,s);break;case m.FLOAT_VEC2:1<c.size?s.length&&m.uniform2fv(y,s):m.uniform2f(y,s[0],s[1]);break;case m.FLOAT_VEC3:1<c.size?s.length&&m.uniform3fv(y,s):m.uniform3f(y,s[0],s[1],s[2]);break;case m.FLOAT_VEC4:1<c.size?s.length&&m.uniform4fv(y,s):m.uniform4f(y,s[0],s[1],s[2],s[3]);break;case m.INT_VEC2:1<c.size?s.length&&m.uniform2iv(y,s):m.uniform2i(y,s[0],s[1]);break;case m.INT_VEC3:1<c.size?s.length&&m.uniform3iv(y,s):m.uniform3i(y,s[0],s[1],s[2]);break;case m.INT_VEC4:1<c.size?s.length&&m.uniform4iv(y,s):m.uniform4i(y,s[0],s[1],s[2],s[3]);break;case m.SAMPLER_2D:m.activeTexture(m.TEXTURE0+c.samplerIndex),c.texture=s instanceof l.default.Texture?s:this._renderer.getTexture(s),m.uniform1i(y,c.samplerIndex)}return this}},l.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==void 0||this.uniforms.uUseLighting!==void 0||this.uniforms.uAmbientLightCount!==void 0||this.uniforms.uDirectionalLightCount!==void 0||this.uniforms.uPointLightCount!==void 0||this.uniforms.uAmbientColor!==void 0||this.uniforms.uDirectionalDiffuseColors!==void 0||this.uniforms.uDirectionalSpecularColors!==void 0||this.uniforms.uPointLightLocation!==void 0||this.uniforms.uPointLightDiffuseColors!==void 0||this.uniforms.uPointLightSpecularColors!==void 0||this.uniforms.uLightingDirection!==void 0||this.uniforms.uSpecular!==void 0},l.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==void 0},l.default.Shader.prototype.isTextureShader=function(){return 0<this.samplers.length},l.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0},l.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()},l.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==void 0},l.default.Shader.prototype.enableAttrib=function(o,s,c,m,y,a){var u,i;return o&&(u=o.location)!==-1&&(i=this._renderer.GL,o.enabled||(i.enableVertexAttribArray(u),o.enabled=!0),this._renderer.GL.vertexAttribPointer(u,s,c||i.FLOAT,m||!1,y||0,a||0)),this},e=l.default.Shader,f.default=e},{"../core/main":267,"core-js/modules/es.array.index-of":157,"core-js/modules/es.array.iterator":158,"core-js/modules/es.array.slice":162,"core-js/modules/es.function.name":165,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/web.dom-collections.iterator":230}],323:[function(e,d,f){function l(a){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(a)}function o(a){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(u){return l(u)}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":l(u)})(a)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.typed-array.uint8-array"),e("core-js/modules/es.typed-array.copy-within"),e("core-js/modules/es.typed-array.every"),e("core-js/modules/es.typed-array.fill"),e("core-js/modules/es.typed-array.filter"),e("core-js/modules/es.typed-array.find"),e("core-js/modules/es.typed-array.find-index"),e("core-js/modules/es.typed-array.for-each"),e("core-js/modules/es.typed-array.includes"),e("core-js/modules/es.typed-array.index-of"),e("core-js/modules/es.typed-array.iterator"),e("core-js/modules/es.typed-array.join"),e("core-js/modules/es.typed-array.last-index-of"),e("core-js/modules/es.typed-array.map"),e("core-js/modules/es.typed-array.reduce"),e("core-js/modules/es.typed-array.reduce-right"),e("core-js/modules/es.typed-array.reverse"),e("core-js/modules/es.typed-array.set"),e("core-js/modules/es.typed-array.slice"),e("core-js/modules/es.typed-array.some"),e("core-js/modules/es.typed-array.sort"),e("core-js/modules/es.typed-array.subarray"),e("core-js/modules/es.typed-array.to-locale-string"),e("core-js/modules/es.typed-array.to-string"),Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var s=(y=e("../core/main"))&&y.__esModule?y:{default:y},c=function(a){if(a&&a.__esModule)return a;if(a===null||o(a)!=="object"&&typeof a!="function")return{default:a};var u=m();if(u&&u.has(a))return u.get(a);var i,h={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(i in a){var g;Object.prototype.hasOwnProperty.call(a,i)&&((g=p?Object.getOwnPropertyDescriptor(a,i):null)&&(g.get||g.set)?Object.defineProperty(h,i,g):h[i]=a[i])}return h.default=a,u&&u.set(a,h),h}(e("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}s.default.Texture=function(a,u,i){return this._renderer=a,a=this._renderer.GL,(i=i||{}).dataType===a.FLOAT&&(a.getExtension("OES_texture_float")||console.log("Oh no, your device doesn't support floating point textures!"),a.getExtension("OES_texture_float_linear")||console.log("Ack! Your device doesn't support linear filtering for floating point textures")),this.src=u,this.glTex=void 0,this.glTarget=a.TEXTURE_2D,this.glFormat=i.format||a.RGBA,this.mipmaps=!1,this.glMinFilter=i.minFilter||a.LINEAR,this.glMagFilter=i.magFilter||a.LINEAR,this.glWrapS=i.wrapS||a.CLAMP_TO_EDGE,this.glWrapT=i.wrapT||a.CLAMP_TO_EDGE,this.glDataType=i.dataType||a.UNSIGNED_BYTE,this.isSrcMediaElement=s.default.MediaElement!==void 0&&u instanceof s.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=s.default.Element!==void 0&&u instanceof s.default.Element&&!(u instanceof s.default.Graphics)&&!(u instanceof s.default.Renderer),this.isSrcP5Image=u instanceof s.default.Image,this.isSrcP5Graphics=u instanceof s.default.Graphics,this.isSrcP5Renderer=u instanceof s.default.Renderer,this.isImageData=typeof ImageData<"u"&&u instanceof ImageData,i=this._getTextureDataFromSource(),this.width=i.width,this.height=i.height,this.init(i),this},s.default.Texture.prototype._getTextureDataFromSource=function(){var a;return this.isSrcP5Image?a=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?a=this.src.elt:this.isImageData&&(a=this.src),a},s.default.Texture.prototype.init=function(a){var u,i=this._renderer.GL;this.glTex=i.createTexture(),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(u=new Uint8Array([1,1,1,1]),i.texImage2D(this.glTarget,0,i.RGBA,1,1,0,this.glFormat,this.glDataType,u)):i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,a)},s.default.Texture.prototype.update=function(){var a,u,i,h=this.src;return h.width!==0&&h.height!==0&&(a=this._getTextureDataFromSource(),u=!1,i=this._renderer.GL,a.width!==this.width||a.height!==this.height?(u=!0,this.width=a.width,this.height=a.height,this.isSrcP5Image?h.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&h.setModified(!0)):this.isSrcP5Image?h.isModified()&&h.setModified(!(u=!0)):this.isSrcMediaElement?h.isModified()?h.setModified(!(u=!0)):h.loadedmetadata&&this._videoPrevUpdateTime!==h.time()&&(this._videoPrevUpdateTime=h.time(),u=!0):this.isImageData?h._dirty&&(u=!(h._dirty=!1)):u=!0,u&&(this.bindTexture(),i.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,a)),u)},s.default.Texture.prototype.bindTexture=function(){return this._renderer.GL.bindTexture(this.glTarget,this.glTex),this},s.default.Texture.prototype.unbindTexture=function(){this._renderer.GL.bindTexture(this.glTarget,null)},s.default.Texture.prototype.setInterpolation=function(a,u){var i=this._renderer.GL;a===c.NEAREST?this.glMinFilter=i.NEAREST:this.glMinFilter=i.LINEAR,u===c.NEAREST?this.glMagFilter=i.NEAREST:this.glMagFilter=i.LINEAR,this.bindTexture(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,this.glMinFilter),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()},s.default.Texture.prototype.setWrapMode=function(a,u){function i(v){return(v&v-1)==0}var h=this._renderer.GL,p=i(this.width),g=i(this.height);a===c.REPEAT?p&&g?this.glWrapS=h.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=h.CLAMP_TO_EDGE):a===c.MIRROR?p&&g?this.glWrapS=h.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=h.CLAMP_TO_EDGE):this.glWrapS=h.CLAMP_TO_EDGE,u===c.REPEAT?p&&g?this.glWrapT=h.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=h.CLAMP_TO_EDGE):u===c.MIRROR?p&&g?this.glWrapT=h.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=h.CLAMP_TO_EDGE):this.glWrapT=h.CLAMP_TO_EDGE,this.bindTexture(),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,this.glWrapS),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()};var y=s.default.Texture;f.default=y},{"../core/constants":256,"../core/main":267,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.string.iterator":186,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.typed-array.copy-within":197,"core-js/modules/es.typed-array.every":198,"core-js/modules/es.typed-array.fill":199,"core-js/modules/es.typed-array.filter":200,"core-js/modules/es.typed-array.find":202,"core-js/modules/es.typed-array.find-index":201,"core-js/modules/es.typed-array.for-each":205,"core-js/modules/es.typed-array.includes":206,"core-js/modules/es.typed-array.index-of":207,"core-js/modules/es.typed-array.iterator":210,"core-js/modules/es.typed-array.join":211,"core-js/modules/es.typed-array.last-index-of":212,"core-js/modules/es.typed-array.map":213,"core-js/modules/es.typed-array.reduce":215,"core-js/modules/es.typed-array.reduce-right":214,"core-js/modules/es.typed-array.reverse":216,"core-js/modules/es.typed-array.set":217,"core-js/modules/es.typed-array.slice":218,"core-js/modules/es.typed-array.some":219,"core-js/modules/es.typed-array.sort":220,"core-js/modules/es.typed-array.subarray":221,"core-js/modules/es.typed-array.to-locale-string":222,"core-js/modules/es.typed-array.to-string":223,"core-js/modules/es.typed-array.uint8-array":226,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}],324:[function(e,d,f){function l(p){return(l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g})(p)}function o(p){return(o=typeof Symbol=="function"&&l(Symbol.iterator)==="symbol"?function(g){return l(g)}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":l(g)})(p)}e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.get-own-property-descriptor"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/es.weak-map"),e("core-js/modules/web.dom-collections.iterator"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.description"),e("core-js/modules/es.symbol.iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.object.to-string"),e("core-js/modules/es.regexp.exec"),e("core-js/modules/es.string.iterator"),e("core-js/modules/es.string.split"),e("core-js/modules/es.string.sub"),e("core-js/modules/web.dom-collections.iterator");var s,c=(s=e("../core/main"))&&s.__esModule?s:{default:s},m=function(p){if(p&&p.__esModule)return p;if(p===null||o(p)!=="object"&&typeof p!="function")return{default:p};var g=y();if(g&&g.has(p))return g.get(p);var v,b={},w=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var x;Object.prototype.hasOwnProperty.call(p,v)&&((x=w?Object.getOwnPropertyDescriptor(p,v):null)&&(x.get||x.set)?Object.defineProperty(b,v,x):b[v]=p[v])}return b.default=p,g&&g.set(p,b),b}(e("../core/constants"));function y(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,y=function(){return p},p)}e("./p5.Shader"),e("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function(p){return this._isOpenType()?this._textFont._textWidth(p,this._textSize):0};function a(p,g){this.width=p,this.height=g,this.infos=[],this.findImage=function(v){var b,w,x=this.width*this.height;if(x<v)throw new Error("font is too complex to render in 3D");for(var k=this.infos.length-1;0<=k;--k){var E=this.infos[k];if(E.index+v<x){w=(b=E).imageData;break}}if(!b){try{w=new ImageData(this.width,this.height)}catch{var M=document.getElementsByTagName("canvas")[0],O=!M,P=(M||((M=document.createElement("canvas")).style.display="none",document.body.appendChild(M)),M.getContext("2d"));P&&(w=P.createImageData(this.width,this.height)),O&&document.body.removeChild(M)}this.infos.push(b={index:0,imageData:w})}return P=b.index,b.index+=v,w._dirty=!0,{imageData:w,index:P}}}function u(k,g,v,b,w){var x=k.imageData.data,k=4*k.index++;x[k++]=g,x[k++]=v,x[k++]=b,x[+k]=w}function i(p){this.font=p,this.strokeImageInfos=new a(64,64),this.colDimImageInfos=new a(64,64),this.rowDimImageInfos=new a(64,64),this.colCellImageInfos=new a(64,64),this.rowCellImageInfos=new a(64,64),this.glyphInfos={},this.getGlyphInfo=function(g){var v=this.glyphInfos[g.index];if(!v){var b=g.getBoundingBox(),w=b.x1,x=b.y1,k=b.x2-w,E=b.y2-x,M=g.path.commands;if(k==0||E==0||!M.length)return this.glyphInfos[g.index]={};for(var O,P,D,U,z=[],V=[],K=[],re=8;0<=re;--re)K.push([]);for(re=8;0<=re;--re)V.push([]);var Q=!0,ue=!1,te=void 0;try{for(var oe,ce=M[Symbol.iterator]();!(Q=(oe=ce.next()).done);Q=!0){var ne=oe.value,R=(ne.x-w)/k,j=(ne.y-x)/E;if(!ot(O,P,R,j)){switch(ne.type){case"M":D=R,U=j;break;case"L":Ve(O,P,R,j);break;case"Q":var N=(ne.x1-w)/k,F=(ne.y1-x)/E;Ce([O,R,N],[P,j,F],{x:O,y:P,cx:N,cy:F});break;case"Z":ot(O,P,D,U)?z.push({x:O,y:P}):(Ve(O,P,D,U),z.push({x:D,y:U}));break;case"C":for(var ie=function(Ee,I,C,Ke,Ge,et,ut,Be){var Ee=new ze(new c.default.Vector(Ee,I),new c.default.Vector(C,Ke),new c.default.Vector(Ge,et),new c.default.Vector(ut,Be)).splitInflections(),we=[],B=30/h,G=!0,I=!1,C=void 0;try{for(var ye,ge=Ee[Symbol.iterator]();!(G=(ye=ge.next()).done);G=!0){for(var _e=ye.value,H=[],me=void 0;!(.125<=(me=B/_e.quadError()));){var je=Math.pow(me,.3333333333333333),fe=_e.split(je),Re=_e.split(1-je/(1-je));we.push(fe),H.push(_e),_e=Re}me<1&&we.push(_e.split(.5)),we.push(_e),Array.prototype.push.apply(we,H.reverse())}}catch(X){I=!0,C=X}finally{try{G||ge.return==null||ge.return()}finally{if(I)throw C}}return we}(O,P,(ne.x1-w)/k,(ne.y1-x)/E,(ne.x2-w)/k,(ne.y2-x)/E,R,j),ae=0;ae<ie.length;ae++){var Te=ie[ae].toQuadratic();Ce([Te.x,Te.x1,Te.cx],[Te.y,Te.y1,Te.cy],Te)}break;default:throw new Error("unknown command type: ".concat(ne.type))}O=R,P=j}}}catch(Ne){ue=!0,te=Ne}finally{try{Q||ce.return==null||ce.return()}finally{if(ue)throw te}}for(var ke=z.length,Me=this.strokeImageInfos.findImage(ke),Se=Me.index,Xe=0;Xe<ke;++Xe){var ve=z[Xe];u(Me,Fe(ve.x),Fe(ve.y),Fe(ve.cx),Fe(ve.cy))}(v=this.glyphInfos[g.index]={glyph:g,uGlyphRect:[b.x1,-b.y1,b.x2,-b.y2],strokeImageInfo:Me,strokes:z,colInfo:se(K,this.colDimImageInfos,this.colCellImageInfos),rowInfo:se(V,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[v.colInfo.dimOffset,v.rowInfo.dimOffset]}return v;function Ce(Ne,Oe,We){var Ke=z.length;function Ge(we,B,G){for(var I=we.length;0<I--;){var C=we[I];C<B&&(B=C),G<C&&(G=C)}return{min:B,max:G}}z.push(We);for(var We=Ge(Ne,1,0),Ne=Math.max(Math.floor(9*We.min),0),et=Math.min(Math.ceil(9*We.max),9),ut=Ne;ut<et;++ut)K[ut].push(Ke);for(var We=Ge(Oe,1,0),Ne=Math.max(Math.floor(9*We.min),0),Be=Math.min(Math.ceil(9*We.max),9),Ee=Ne;Ee<Be;++Ee)V[Ee].push(Ke)}function Fe(Ne){return(Ne=(We=255)*Ne)<(Oe=0)?Oe:We<Ne?We:Ne;var Oe,We}function ze(Ne,Oe,We,Ke){this.p0=Ne,this.c0=Oe,this.c1=We,this.p1=Ke,this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}},this.quadError=function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2},this.split=function(Ee){var et=c.default.Vector.lerp(this.p0,this.c0,Ee),Be=c.default.Vector.lerp(this.c0,this.c1,Ee),ut=c.default.Vector.lerp(et,Be,Ee),Be=(this.c1=c.default.Vector.lerp(this.c1,this.p1,Ee),this.c0=c.default.Vector.lerp(Be,this.c1,Ee),c.default.Vector.lerp(ut,this.c0,Ee)),Ee=new ze(this.p0,et,ut,Be);return this.p0=Be,Ee},this.splitInflections=function(){var Ge=c.default.Vector.sub(this.c0,this.p0),et=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),Ge),ut=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),Ge),c.default.Vector.mult(et,2)),Be=[],Ee=et.x*ut.y-et.y*ut.x;return Ee!==0&&0<=(Ge=(ut=Ge.x*ut.y-Ge.y*ut.x)*ut-4*Ee*(Ge.x*et.y-Ge.y*et.x))&&(Ee<0&&(Ee=-Ee,ut=-ut),Ge=(-ut+(et=Math.sqrt(Ge)))/(2*Ee),0<(ut=(-ut-et)/(2*Ee))&&ut<1&&(Be.push(this.split(ut)),Ge=1-(1-Ge)/(1-ut)),0<Ge&&Ge<1&&Be.push(this.split(Ge))),Be.push(this),Be}}function Ve(Ne,Oe,We,Ke){Ce([Ne,We],[Oe,Ke],{x:Ne,y:Oe,cx:(Ne+We)/2,cy:(Oe+Ke)/2})}function ot(Ne,Oe,We,Ke){return Math.abs(We-Ne)<1e-5&&Math.abs(Ke-Oe)<1e-5}function se(Ne,Oe,We){for(var Ke=Ne.length,Ge=Oe.findImage(Ke),Oe=Ge.index,et=0,ut=0;ut<Ke;++ut)et+=Ne[ut].length;for(var Be=We.findImage(et),Ee=0;Ee<Ke;++Ee){var we=Ne[Ee],B=we.length,G=Be.index;u(Ge,G>>7,127&G,B>>7,127&B);for(var I=0;I<B;++I){var C=we[I]+Se;u(Be,C>>7,127&C,0,0)}}return{cellImageInfo:Be,dimOffset:Oe,dimImageInfo:Ge}}}}var h=Math.sqrt(3);c.default.RendererGL.prototype._renderText=function(p,g,v,b,w){if(this._textFont&&typeof this._textFont!="string"){if(!(w<=b)&&this._doFill){if(this._isOpenType()){p.push();var w=this._doStroke,x=this.drawMode,k=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),E=(E=this._textFont._fontInfo)||(this._textFont._fontInfo=new i(k)),v=this._textFont._handleAlignment(this,g,v,b),b=this._textSize/k.unitsPerEm,M=(this.translate(v.x,v.y,0),this.scale(b,b,1),this.GL),v=!this._defaultFontShader,O=this._getFontShader(),P=(O.init(),O.bindShader(),v&&(O.setUniform("uGridImageSize",[64,64]),O.setUniform("uCellsImageSize",[64,64]),O.setUniform("uStrokeImageSize",[64,64]),O.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),D=(P||((b=this._textGeom=new c.default.Geometry(1,1,function(){for(var Te=0;Te<=1;Te++)for(var ke=0;ke<=1;ke++)this.vertices.push(new c.default.Vector(ke,Te,0)),this.uvs.push(ke,Te)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",b)),!0),v=!1,b=void 0;try{for(var U,z=this.retainedMode.buffers.text[Symbol.iterator]();!(D=(U=z.next()).done);D=!0)U.value._prepareBuffer(P,O)}catch(Te){v=!0,b=Te}finally{try{D||z.return==null||z.return()}finally{if(v)throw b}}this._bindBuffer(P.indexBuffer,M.ELEMENT_ARRAY_BUFFER),O.setUniform("uMaterialColor",this.curFillColor);try{var V=0,K=null,re=k.stringToGlyphs(g),Q=!0,ue=!1,te=void 0;try{for(var oe,ce=re[Symbol.iterator]();!(Q=(oe=ce.next()).done);Q=!0){var ne,R,j=oe.value,N=(K&&(V+=k.getKerningValue(K,j)),E.getGlyphInfo(j));N.uGlyphRect&&(ne=N.rowInfo,R=N.colInfo,O.setUniform("uSamplerStrokes",N.strokeImageInfo.imageData),O.setUniform("uSamplerRowStrokes",ne.cellImageInfo.imageData),O.setUniform("uSamplerRows",ne.dimImageInfo.imageData),O.setUniform("uSamplerColStrokes",R.cellImageInfo.imageData),O.setUniform("uSamplerCols",R.dimImageInfo.imageData),O.setUniform("uGridOffset",N.uGridOffset),O.setUniform("uGlyphRect",N.uGlyphRect),O.setUniform("uGlyphOffset",V),O.bindTextures(),M.drawElements(M.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),V+=j.advanceWidth,K=j}}catch(Te){ue=!0,te=Te}finally{try{Q||ce.return==null||ce.return()}finally{if(ue)throw te}}}finally{O.unbindShader(),this._doStroke=w,this.drawMode=x,p.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":256,"../core/main":267,"./p5.RendererGL.Retained":320,"./p5.Shader":322,"core-js/modules/es.array.iterator":158,"core-js/modules/es.object.get-own-property-descriptor":173,"core-js/modules/es.object.to-string":177,"core-js/modules/es.regexp.exec":181,"core-js/modules/es.string.iterator":186,"core-js/modules/es.string.split":191,"core-js/modules/es.string.sub":192,"core-js/modules/es.symbol":196,"core-js/modules/es.symbol.description":194,"core-js/modules/es.symbol.iterator":195,"core-js/modules/es.weak-map":228,"core-js/modules/web.dom-collections.iterator":230}]},{},[251])(251)})})(Hv);const Od=bf(Hv.exports),ST=Ht.span`
    position: relative;
    display: block;
`,jT=Ht.div`
    overflow-y: hidden;
    overflow-x: scroll;
    width: 92vw;
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    box-sizing: border-box;
    border-radius: 4px;
    background-color: ${Jt.AppSecondaryColor};
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    scrollbar-width: none;
    &::-webkit-scrollbar {
        display: none;
    }
    color: ${Jt.AppTextColor};
`,TT=Ht.div`
    display: flex;
    width: ${r=>r.length+ys}px;
    height: ${r=>r.height}px;
    background-image:
        linear-gradient(to right, ${Jt.TransportGridColor} 1px, transparent 1px),
        linear-gradient(to bottom, ${Jt.TransportGridColor} 1px, transparent 1px);
    background-size: 25px 25px;
`,ET=Ht.div`
    position: absolute;
    display: flex;
    flex-direction: column;
`,MT=Ht.div`
    position: relative;
    display: flex;
    flex-direction: column;
    width: 100%;
    margin-left: ${ys}px;
`,CT=Ht.div`
    position: relative;
    display: flex;
    height: ${r=>r.height}px;
`,AT=Ht.div`
    position: absolute;
    bottom: 0;
    display: flex;
    height: ${oa}px;
`,kT=Ht.div`
    position: sticky;
    display: flex;
    justify-content: center;
    align-items: center;
    left: 0;
    height: ${oa}px;
    width: ${ys}px;
    z-index: 2;
    background-color: ${Jt.AppSecondaryColor};
    border-radius: 0px 0px 0px 8px;
`,RT=Ht.div`
    position: relative;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    height: ${oa}px;
`,OT=Ht.button`
    background: url('images/plus.png') no-repeat;
    background-size: 30px;
    width: 30px;
    height: 30px;
    border: none;
    opacity: 0.8;
    :hover {
        cursor: pointer;
        opacity: 1;
    }
`,PT=Ht.div`
    position: absolute;
    right: 1%;
    top: -40px;
    width: 18%;
    height: 3vh;
    display: flex;
    justify-content: space-around;
    align-items: center;
`,IT=Ht.span`
    display: flex;
    align-items: center;
    width: 60%;
    height: 60%;
    margin-right: 10%;
    font-size: 1rem;
`,DT=Ht.label`
    margin-right: 10%;
`,LT=Ht.input`
    background-color: ${Jt.AppSecondaryColor};
    font-size: 0.9rem;
    text-indent: 0.3rem;
    color: ${Jt.AppTextColor};
    ::placeholder {
        color: ${Jt.AppTextColor};
    }
    :focus::placeholder {
        color: transparent;
    }
    border: none;
    border-radius: 4px;
    width: 35%;
    height: 2rem;
    margin-right: 5px;
`,NT=Ht.div`
    display: flex;
    justify-content: center;
    align-items: center;
    width: 40%;
    font-size: 1rem;
`,BT=Ht.button`
    width: 25px;
    height: 25px;
    background: url('images/power_white.png'); no-repeat;
    background-size: 25px;
    border: none;
    border-radius: 50%;
    margin-left: 10%;

    opacity: ${r=>r.snapState?"0.8":"0.2"};
    box-shadow: ${r=>r.snapState?"0 -2.5px 12px #185cab":"none"};

    :hover {
        cursor: pointer;
    }
`,FT=Ht.span``,UT=Ht.div`
	position: absolute;
	bottom: 0px;
	width: 1px;
	padding: 0px 2px;
	background-clip: content-box;

	height: ${r=>r.height+"px"};
	background-color: red;
	opacity: 0.5;
	z-index: 9;
	:hover {cursor: col-resize;}
`,ti=Lt.exports.createContext(null),Ri=Lt.exports.createContext(null),VT=Ht.div`
	position: sticky;
	left: 0;
	box-sizing: border-box;
	display: flex;
	justify-content: center;
	align-items: center;
	background-color: ${Jt.ChannelColor};
	border: ${r=>r.selected?`1px solid ${Jt.ChannelHighlight}`:`1px solid ${Jt.AppSecondaryColor}`};
	width: ${ys}px;
	height: ${ys}px;
	z-index: 3;
`,GT=Ht.h3`
	text-align: center;
	width: 75%;
	color: ${Jt.AppTextColor};
	font-size: 1rem;
`,zT=Ht.input`
	color: ${Jt.AppTextColor};
	font-size: 1rem;
	font-weight: bold;
	width: 75%;
	background-color: ${Jt.AppSecondaryColor};
	border: none;
	border-radius: 2px;

	::placeholder,
	::-webkit-input-placeholder {
		color: ${Jt.AppTextColor};
	}
	:-ms-input-placeholder {
		color:  ${Jt.AppTextColor};
	}
`,HT=Ht.div`
	position: absolute;
	width: ${ys}px;
	height: ${ys}px;
	padding: 5px 0px;
	box-sizing: border-box;
	background-color: ${r=>r.selected?Jt.SelectedRecordingColor:Jt.RecordingColor};
	background-clip: content-box;
	border: none;
	border-radius: 4px;
	:hover {cursor: pointer;}
	z-index: 3;
`;function WT(){const[r,t]=Lt.exports.useState(""),n=["Escape","Backspace"," "];function e({key:f}){let l=n.findIndex(o=>o==f);l!=-1&&t(n[l])}function d({key:f}){t("")}return Lt.exports.useEffect(()=>(window.addEventListener("keydown",e),window.addEventListener("keyup",d),()=>{window.removeEventListener("keydown",e),window.removeEventListener("keyup",d)}),[]),r}var n0={exports:{}},eu={};/** @license React v16.14.0
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qT=Lt.exports,Wv=60103;eu.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var $m=Symbol.for;Wv=$m("react.element"),eu.Fragment=$m("react.fragment")}var XT=qT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,YT=Object.prototype.hasOwnProperty,$T={key:!0,ref:!0,__self:!0,__source:!0};function qv(r,t,n){var e,d={},f=null,l=null;n!==void 0&&(f=""+n),t.key!==void 0&&(f=""+t.key),t.ref!==void 0&&(l=t.ref);for(e in t)YT.call(t,e)&&!$T.hasOwnProperty(e)&&(d[e]=t[e]);if(r&&r.defaultProps)for(e in t=r.defaultProps,t)d[e]===void 0&&(d[e]=t[e]);return{$$typeof:Wv,type:r,key:f,ref:l,props:d,_owner:XT.current}}eu.jsx=qv;eu.jsxs=qv;(function(r){r.exports=eu})(n0);const Ft=n0.exports.jsx,qr=n0.exports.jsxs;function ZT({channelName:r,channelData:t}){const[n,e]=Lt.exports.useState(!1),d=Lt.exports.useRef(),f=Lt.exports.useRef(""),l=WT(),o=Lt.exports.useRef(null);m(o);const s=Lt.exports.useContext(ti),c=Lt.exports.useContext(Ri);function m(v){Lt.exports.useEffect(()=>{function b(w){v.current&&!v.current.contains(w.target)&&e(!1)}return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[v])}const y=v=>{v.stopPropagation(),f.current=v.target.value},a=v=>{v.stopPropagation(),v.key==="Enter"&&f.current!=""?(c({type:"editChannelName",payload:{channelId:t.id,name:f.current}}),e(!1)):v.key==="Escape"&&e(!1)},u=()=>{e(!0);let v=document.getElementById("channelNameInput");v&&v.click()},i=v=>{clearTimeout(d.current),v.detail===1?d.current=setTimeout(h,50):v.detail===2&&v.target.id=="channelName"&&u()},h=()=>{c({type:"selectChannel",payload:t.id})},p=()=>{c({type:"deleteSelectedRecording",payload:s.selectedRecording})},g=()=>{c({type:"deleteSelectedChannel",payload:s.selectedChannel})};return Lt.exports.useEffect(()=>{switch(l){case"Escape":case"Backspace":Object.keys(s.selectedRecording).length!=0?p():s.selectedChannel&&s.channels.length>1&&g();default:return}},[l]),[Ft(VT,{onClick:i,selected:t.id==s.selectedChannel,children:n?Ft(zT,{type:"text",id:"channelNameInput",ref:o,onChange:y,onKeyDown:a,placeholder:r,autoFocus:!0}):Ft(GT,{id:"channelName",children:r})},t.toString())]}const Xv=Lt.exports.createContext(!1);var Qo={exports:{}},Yv={};function $v(r){var t,n,e="";if(typeof r=="string"||typeof r=="number")e+=r;else if(typeof r=="object")if(Array.isArray(r))for(t=0;t<r.length;t++)r[t]&&(n=$v(r[t]))&&(e&&(e+=" "),e+=n);else for(t in r)r[t]&&(e&&(e+=" "),e+=t);return e}function Zm(){for(var r,t,n=0,e="";n<arguments.length;)(r=arguments[n++])&&(t=$v(r))&&(e&&(e+=" "),e+=t);return e}const QT=Object.freeze(Object.defineProperty({__proto__:null,clsx:Zm,default:Zm},Symbol.toStringTag,{value:"Module"})),KT=v_(QT);var Yr={},Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.dontSetMe=n6;Zs.findInArray=JT;Zs.int=r6;Zs.isFunction=e6;Zs.isNum=t6;function JT(r,t){for(var n=0,e=r.length;n<e;n++)if(t.apply(t,[r[n],n,r]))return r[n]}function e6(r){return typeof r=="function"||Object.prototype.toString.call(r)==="[object Function]"}function t6(r){return typeof r=="number"&&!isNaN(r)}function r6(r){return parseInt(r,10)}function n6(r,t,n){if(r[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.browserPrefixToKey=Qv;Oi.browserPrefixToStyle=s6;Oi.default=void 0;Oi.getPrefix=Zv;var nh=["Moz","Webkit","O","ms"];function Zv(){var r,t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var e=(r=window.document)===null||r===void 0||(t=r.documentElement)===null||t===void 0?void 0:t.style;if(!e||n in e)return"";for(var d=0;d<nh.length;d++)if(Qv(n,nh[d])in e)return nh[d];return""}function Qv(r,t){return t?"".concat(t).concat(o6(r)):r}function s6(r,t){return t?"-".concat(t.toLowerCase(),"-").concat(r):r}function o6(r){for(var t="",n=!0,e=0;e<r.length;e++)n?(t+=r[e].toUpperCase(),n=!1):r[e]==="-"?n=!0:t+=r[e];return t}var i6=Zv();Oi.default=i6;function gf(r){return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gf(r)}Object.defineProperty(Yr,"__esModule",{value:!0});Yr.addClassName=r_;Yr.addEvent=u6;Yr.addUserSelectStyles=b6;Yr.createCSSTransform=y6;Yr.createSVGTransform=g6;Yr.getTouch=v6;Yr.getTouchIdentifier=_6;Yr.getTranslation=s0;Yr.innerHeight=f6;Yr.innerWidth=p6;Yr.matchesSelector=t_;Yr.matchesSelectorAndParentsTo=l6;Yr.offsetXYFromParent=m6;Yr.outerHeight=d6;Yr.outerWidth=h6;Yr.removeClassName=n_;Yr.removeEvent=c6;Yr.removeUserSelectStyles=x6;var ss=Zs,Qm=a6(Oi);function Kv(r){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(Kv=function(d){return d?n:t})(r)}function a6(r,t){if(!t&&r&&r.__esModule)return r;if(r===null||gf(r)!=="object"&&typeof r!="function")return{default:r};var n=Kv(t);if(n&&n.has(r))return n.get(r);var e={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in r)if(f!=="default"&&Object.prototype.hasOwnProperty.call(r,f)){var l=d?Object.getOwnPropertyDescriptor(r,f):null;l&&(l.get||l.set)?Object.defineProperty(e,f,l):e[f]=r[f]}return e.default=r,n&&n.set(r,e),e}function Km(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter(function(d){return Object.getOwnPropertyDescriptor(r,d).enumerable})),n.push.apply(n,e)}return n}function Jv(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Km(Object(n),!0).forEach(function(e){e_(r,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(n,e))})}return r}function e_(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}var xu="";function t_(r,t){return xu||(xu=(0,ss.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,ss.isFunction)(r[n])})),(0,ss.isFunction)(r[xu])?r[xu](t):!1}function l6(r,t,n){var e=r;do{if(t_(e,t))return!0;if(e===n)return!1;e=e.parentNode}while(e);return!1}function u6(r,t,n,e){if(!!r){var d=Jv({capture:!0},e);r.addEventListener?r.addEventListener(t,n,d):r.attachEvent?r.attachEvent("on"+t,n):r["on"+t]=n}}function c6(r,t,n,e){if(!!r){var d=Jv({capture:!0},e);r.removeEventListener?r.removeEventListener(t,n,d):r.detachEvent?r.detachEvent("on"+t,n):r["on"+t]=null}}function d6(r){var t=r.clientHeight,n=r.ownerDocument.defaultView.getComputedStyle(r);return t+=(0,ss.int)(n.borderTopWidth),t+=(0,ss.int)(n.borderBottomWidth),t}function h6(r){var t=r.clientWidth,n=r.ownerDocument.defaultView.getComputedStyle(r);return t+=(0,ss.int)(n.borderLeftWidth),t+=(0,ss.int)(n.borderRightWidth),t}function f6(r){var t=r.clientHeight,n=r.ownerDocument.defaultView.getComputedStyle(r);return t-=(0,ss.int)(n.paddingTop),t-=(0,ss.int)(n.paddingBottom),t}function p6(r){var t=r.clientWidth,n=r.ownerDocument.defaultView.getComputedStyle(r);return t-=(0,ss.int)(n.paddingLeft),t-=(0,ss.int)(n.paddingRight),t}function m6(r,t,n){var e=t===t.ownerDocument.body,d=e?{left:0,top:0}:t.getBoundingClientRect(),f=(r.clientX+t.scrollLeft-d.left)/n,l=(r.clientY+t.scrollTop-d.top)/n;return{x:f,y:l}}function y6(r,t){var n=s0(r,t,"px");return e_({},(0,Qm.browserPrefixToKey)("transform",Qm.default),n)}function g6(r,t){var n=s0(r,t,"");return n}function s0(r,t,n){var e=r.x,d=r.y,f="translate(".concat(e).concat(n,",").concat(d).concat(n,")");if(t){var l="".concat(typeof t.x=="string"?t.x:t.x+n),o="".concat(typeof t.y=="string"?t.y:t.y+n);f="translate(".concat(l,", ").concat(o,")")+f}return f}function v6(r,t){return r.targetTouches&&(0,ss.findInArray)(r.targetTouches,function(n){return t===n.identifier})||r.changedTouches&&(0,ss.findInArray)(r.changedTouches,function(n){return t===n.identifier})}function _6(r){if(r.targetTouches&&r.targetTouches[0])return r.targetTouches[0].identifier;if(r.changedTouches&&r.changedTouches[0])return r.changedTouches[0].identifier}function b6(r){if(!!r){var t=r.getElementById("react-draggable-style-el");t||(t=r.createElement("style"),t.type="text/css",t.id="react-draggable-style-el",t.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,t.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,r.getElementsByTagName("head")[0].appendChild(t)),r.body&&r_(r.body,"react-draggable-transparent-selection")}}function x6(r){if(!!r)try{if(r.body&&n_(r.body,"react-draggable-transparent-selection"),r.selection)r.selection.empty();else{var t=(r.defaultView||window).getSelection();t&&t.type!=="Caret"&&t.removeAllRanges()}}catch{}}function r_(r,t){r.classList?r.classList.add(t):r.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(r.className+=" ".concat(t))}function n_(r,t){r.classList?r.classList.remove(t):r.className=r.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.canDragX=j6;Qs.canDragY=T6;Qs.createCoreData=M6;Qs.createDraggableData=C6;Qs.getBoundPosition=w6;Qs.getControlPosition=E6;Qs.snapToGrid=S6;var Jn=Zs,Zi=Yr;function w6(r,t,n){if(!r.props.bounds)return[t,n];var e=r.props.bounds;e=typeof e=="string"?e:A6(e);var d=o0(r);if(typeof e=="string"){var f=d.ownerDocument,l=f.defaultView,o;if(e==="parent"?o=d.parentNode:o=f.querySelector(e),!(o instanceof l.HTMLElement))throw new Error('Bounds selector "'+e+'" could not find an element.');var s=o,c=l.getComputedStyle(d),m=l.getComputedStyle(s);e={left:-d.offsetLeft+(0,Jn.int)(m.paddingLeft)+(0,Jn.int)(c.marginLeft),top:-d.offsetTop+(0,Jn.int)(m.paddingTop)+(0,Jn.int)(c.marginTop),right:(0,Zi.innerWidth)(s)-(0,Zi.outerWidth)(d)-d.offsetLeft+(0,Jn.int)(m.paddingRight)-(0,Jn.int)(c.marginRight),bottom:(0,Zi.innerHeight)(s)-(0,Zi.outerHeight)(d)-d.offsetTop+(0,Jn.int)(m.paddingBottom)-(0,Jn.int)(c.marginBottom)}}return(0,Jn.isNum)(e.right)&&(t=Math.min(t,e.right)),(0,Jn.isNum)(e.bottom)&&(n=Math.min(n,e.bottom)),(0,Jn.isNum)(e.left)&&(t=Math.max(t,e.left)),(0,Jn.isNum)(e.top)&&(n=Math.max(n,e.top)),[t,n]}function S6(r,t,n){var e=Math.round(t/r[0])*r[0],d=Math.round(n/r[1])*r[1];return[e,d]}function j6(r){return r.props.axis==="both"||r.props.axis==="x"}function T6(r){return r.props.axis==="both"||r.props.axis==="y"}function E6(r,t,n){var e=typeof t=="number"?(0,Zi.getTouch)(r,t):null;if(typeof t=="number"&&!e)return null;var d=o0(n),f=n.props.offsetParent||d.offsetParent||d.ownerDocument.body;return(0,Zi.offsetXYFromParent)(e||r,f,n.props.scale)}function M6(r,t,n){var e=r.state,d=!(0,Jn.isNum)(e.lastX),f=o0(r);return d?{node:f,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:f,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}}function C6(r,t){var n=r.props.scale;return{node:t.node,x:r.state.x+t.deltaX/n,y:r.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:r.state.x,lastY:r.state.y}}function A6(r){return{left:r.left,top:r.top,right:r.right,bottom:r.bottom}}function o0(r){var t=r.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}var Pd={},Id={};Object.defineProperty(Id,"__esModule",{value:!0});Id.default=k6;function k6(){}function Lc(r){return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(r)}Object.defineProperty(Pd,"__esModule",{value:!0});Pd.default=void 0;var sh=O6(Lt.exports),Kn=i0(Ad.exports),R6=i0(Fc.exports),On=Yr,Eo=Qs,oh=Zs,Wa=i0(Id);function i0(r){return r&&r.__esModule?r:{default:r}}function s_(r){if(typeof WeakMap!="function")return null;var t=new WeakMap,n=new WeakMap;return(s_=function(d){return d?n:t})(r)}function O6(r,t){if(!t&&r&&r.__esModule)return r;if(r===null||Lc(r)!=="object"&&typeof r!="function")return{default:r};var n=s_(t);if(n&&n.has(r))return n.get(r);var e={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in r)if(f!=="default"&&Object.prototype.hasOwnProperty.call(r,f)){var l=d?Object.getOwnPropertyDescriptor(r,f):null;l&&(l.get||l.set)?Object.defineProperty(e,f,l):e[f]=r[f]}return e.default=r,n&&n.set(r,e),e}function Jm(r,t){return L6(r)||D6(r,t)||I6(r,t)||P6()}function P6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I6(r,t){if(!!r){if(typeof r=="string")return e1(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);if(n==="Object"&&r.constructor&&(n=r.constructor.name),n==="Map"||n==="Set")return Array.from(r);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e1(r,t)}}function e1(r,t){(t==null||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function D6(r,t){var n=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(n!=null){var e=[],d=!0,f=!1,l,o;try{for(n=n.call(r);!(d=(l=n.next()).done)&&(e.push(l.value),!(t&&e.length===t));d=!0);}catch(s){f=!0,o=s}finally{try{!d&&n.return!=null&&n.return()}finally{if(f)throw o}}return e}}function L6(r){if(Array.isArray(r))return r}function N6(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function t1(r,t){for(var n=0;n<t.length;n++){var e=t[n];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}function B6(r,t,n){return t&&t1(r.prototype,t),n&&t1(r,n),Object.defineProperty(r,"prototype",{writable:!1}),r}function F6(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&vf(r,t)}function vf(r,t){return vf=Object.setPrototypeOf||function(e,d){return e.__proto__=d,e},vf(r,t)}function U6(r){var t=G6();return function(){var e=Nc(r),d;if(t){var f=Nc(this).constructor;d=Reflect.construct(e,arguments,f)}else d=e.apply(this,arguments);return V6(this,d)}}function V6(r,t){if(t&&(Lc(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pn(r)}function Pn(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function G6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nc(r){return Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Nc(r)}function ds(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}var js={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},Mo=js.mouse,Dd=function(r){F6(n,r);var t=U6(n);function n(){var e;N6(this,n);for(var d=arguments.length,f=new Array(d),l=0;l<d;l++)f[l]=arguments[l];return e=t.call.apply(t,[this].concat(f)),ds(Pn(e),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),ds(Pn(e),"mounted",!1),ds(Pn(e),"handleDragStart",function(o){if(e.props.onMouseDown(o),!e.props.allowAnyClick&&typeof o.button=="number"&&o.button!==0)return!1;var s=e.findDOMNode();if(!s||!s.ownerDocument||!s.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var c=s.ownerDocument;if(!(e.props.disabled||!(o.target instanceof c.defaultView.Node)||e.props.handle&&!(0,On.matchesSelectorAndParentsTo)(o.target,e.props.handle,s)||e.props.cancel&&(0,On.matchesSelectorAndParentsTo)(o.target,e.props.cancel,s))){o.type==="touchstart"&&o.preventDefault();var m=(0,On.getTouchIdentifier)(o);e.setState({touchIdentifier:m});var y=(0,Eo.getControlPosition)(o,m,Pn(e));if(y!=null){var a=y.x,u=y.y,i=(0,Eo.createCoreData)(Pn(e),a,u);(0,Wa.default)("DraggableCore: handleDragStart: %j",i),(0,Wa.default)("calling",e.props.onStart);var h=e.props.onStart(o,i);h===!1||e.mounted===!1||(e.props.enableUserSelectHack&&(0,On.addUserSelectStyles)(c),e.setState({dragging:!0,lastX:a,lastY:u}),(0,On.addEvent)(c,Mo.move,e.handleDrag),(0,On.addEvent)(c,Mo.stop,e.handleDragStop))}}}),ds(Pn(e),"handleDrag",function(o){var s=(0,Eo.getControlPosition)(o,e.state.touchIdentifier,Pn(e));if(s!=null){var c=s.x,m=s.y;if(Array.isArray(e.props.grid)){var y=c-e.state.lastX,a=m-e.state.lastY,u=(0,Eo.snapToGrid)(e.props.grid,y,a),i=Jm(u,2);if(y=i[0],a=i[1],!y&&!a)return;c=e.state.lastX+y,m=e.state.lastY+a}var h=(0,Eo.createCoreData)(Pn(e),c,m);(0,Wa.default)("DraggableCore: handleDrag: %j",h);var p=e.props.onDrag(o,h);if(p===!1||e.mounted===!1){try{e.handleDragStop(new MouseEvent("mouseup"))}catch{var g=document.createEvent("MouseEvents");g.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(g)}return}e.setState({lastX:c,lastY:m})}}),ds(Pn(e),"handleDragStop",function(o){if(!!e.state.dragging){var s=(0,Eo.getControlPosition)(o,e.state.touchIdentifier,Pn(e));if(s!=null){var c=s.x,m=s.y;if(Array.isArray(e.props.grid)){var y=c-e.state.lastX||0,a=m-e.state.lastY||0,u=(0,Eo.snapToGrid)(e.props.grid,y,a),i=Jm(u,2);y=i[0],a=i[1],c=e.state.lastX+y,m=e.state.lastY+a}var h=(0,Eo.createCoreData)(Pn(e),c,m),p=e.props.onStop(o,h);if(p===!1||e.mounted===!1)return!1;var g=e.findDOMNode();g&&e.props.enableUserSelectHack&&(0,On.removeUserSelectStyles)(g.ownerDocument),(0,Wa.default)("DraggableCore: handleDragStop: %j",h),e.setState({dragging:!1,lastX:NaN,lastY:NaN}),g&&((0,Wa.default)("DraggableCore: Removing handlers"),(0,On.removeEvent)(g.ownerDocument,Mo.move,e.handleDrag),(0,On.removeEvent)(g.ownerDocument,Mo.stop,e.handleDragStop))}}}),ds(Pn(e),"onMouseDown",function(o){return Mo=js.mouse,e.handleDragStart(o)}),ds(Pn(e),"onMouseUp",function(o){return Mo=js.mouse,e.handleDragStop(o)}),ds(Pn(e),"onTouchStart",function(o){return Mo=js.touch,e.handleDragStart(o)}),ds(Pn(e),"onTouchEnd",function(o){return Mo=js.touch,e.handleDragStop(o)}),e}return B6(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var d=this.findDOMNode();d&&(0,On.addEvent)(d,js.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var d=this.findDOMNode();if(d){var f=d.ownerDocument;(0,On.removeEvent)(f,js.mouse.move,this.handleDrag),(0,On.removeEvent)(f,js.touch.move,this.handleDrag),(0,On.removeEvent)(f,js.mouse.stop,this.handleDragStop),(0,On.removeEvent)(f,js.touch.stop,this.handleDragStop),(0,On.removeEvent)(d,js.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,On.removeUserSelectStyles)(f)}}},{key:"findDOMNode",value:function(){var d,f,l;return(d=this.props)!==null&&d!==void 0&&d.nodeRef?(f=this.props)===null||f===void 0||(l=f.nodeRef)===null||l===void 0?void 0:l.current:R6.default.findDOMNode(this)}},{key:"render",value:function(){return sh.cloneElement(sh.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(sh.Component);Pd.default=Dd;ds(Dd,"displayName","DraggableCore");ds(Dd,"propTypes",{allowAnyClick:Kn.default.bool,disabled:Kn.default.bool,enableUserSelectHack:Kn.default.bool,offsetParent:function(t,n){if(t[n]&&t[n].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Kn.default.arrayOf(Kn.default.number),handle:Kn.default.string,cancel:Kn.default.string,nodeRef:Kn.default.object,onStart:Kn.default.func,onDrag:Kn.default.func,onStop:Kn.default.func,onMouseDown:Kn.default.func,scale:Kn.default.number,className:oh.dontSetMe,style:oh.dontSetMe,transform:oh.dontSetMe});ds(Dd,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(r){function t(ne){return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},t(ne)}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DraggableCore",{enumerable:!0,get:function(){return c.default}}),r.default=void 0;var n=i(Lt.exports),e=a(Ad.exports),d=a(Fc.exports),f=a(KT),l=Yr,o=Qs,s=Zs,c=a(Pd),m=a(Id),y=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function a(ne){return ne&&ne.__esModule?ne:{default:ne}}function u(ne){if(typeof WeakMap!="function")return null;var R=new WeakMap,j=new WeakMap;return(u=function(F){return F?j:R})(ne)}function i(ne,R){if(!R&&ne&&ne.__esModule)return ne;if(ne===null||t(ne)!=="object"&&typeof ne!="function")return{default:ne};var j=u(R);if(j&&j.has(ne))return j.get(ne);var N={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ie in ne)if(ie!=="default"&&Object.prototype.hasOwnProperty.call(ne,ie)){var ae=F?Object.getOwnPropertyDescriptor(ne,ie):null;ae&&(ae.get||ae.set)?Object.defineProperty(N,ie,ae):N[ie]=ne[ie]}return N.default=ne,j&&j.set(ne,N),N}function h(){return h=Object.assign||function(ne){for(var R=1;R<arguments.length;R++){var j=arguments[R];for(var N in j)Object.prototype.hasOwnProperty.call(j,N)&&(ne[N]=j[N])}return ne},h.apply(this,arguments)}function p(ne,R){if(ne==null)return{};var j=g(ne,R),N,F;if(Object.getOwnPropertySymbols){var ie=Object.getOwnPropertySymbols(ne);for(F=0;F<ie.length;F++)N=ie[F],!(R.indexOf(N)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ne,N)||(j[N]=ne[N]))}return j}function g(ne,R){if(ne==null)return{};var j={},N=Object.keys(ne),F,ie;for(ie=0;ie<N.length;ie++)F=N[ie],!(R.indexOf(F)>=0)&&(j[F]=ne[F]);return j}function v(ne,R){var j=Object.keys(ne);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(ne);R&&(N=N.filter(function(F){return Object.getOwnPropertyDescriptor(ne,F).enumerable})),j.push.apply(j,N)}return j}function b(ne){for(var R=1;R<arguments.length;R++){var j=arguments[R]!=null?arguments[R]:{};R%2?v(Object(j),!0).forEach(function(N){oe(ne,N,j[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ne,Object.getOwnPropertyDescriptors(j)):v(Object(j)).forEach(function(N){Object.defineProperty(ne,N,Object.getOwnPropertyDescriptor(j,N))})}return ne}function w(ne,R){return O(ne)||M(ne,R)||k(ne,R)||x()}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k(ne,R){if(!!ne){if(typeof ne=="string")return E(ne,R);var j=Object.prototype.toString.call(ne).slice(8,-1);if(j==="Object"&&ne.constructor&&(j=ne.constructor.name),j==="Map"||j==="Set")return Array.from(ne);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return E(ne,R)}}function E(ne,R){(R==null||R>ne.length)&&(R=ne.length);for(var j=0,N=new Array(R);j<R;j++)N[j]=ne[j];return N}function M(ne,R){var j=ne==null?null:typeof Symbol<"u"&&ne[Symbol.iterator]||ne["@@iterator"];if(j!=null){var N=[],F=!0,ie=!1,ae,Te;try{for(j=j.call(ne);!(F=(ae=j.next()).done)&&(N.push(ae.value),!(R&&N.length===R));F=!0);}catch(ke){ie=!0,Te=ke}finally{try{!F&&j.return!=null&&j.return()}finally{if(ie)throw Te}}return N}}function O(ne){if(Array.isArray(ne))return ne}function P(ne,R){if(!(ne instanceof R))throw new TypeError("Cannot call a class as a function")}function D(ne,R){for(var j=0;j<R.length;j++){var N=R[j];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(ne,N.key,N)}}function U(ne,R,j){return R&&D(ne.prototype,R),j&&D(ne,j),Object.defineProperty(ne,"prototype",{writable:!1}),ne}function z(ne,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(R&&R.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Object.defineProperty(ne,"prototype",{writable:!1}),R&&V(ne,R)}function V(ne,R){return V=Object.setPrototypeOf||function(N,F){return N.__proto__=F,N},V(ne,R)}function K(ne){var R=ue();return function(){var N=te(ne),F;if(R){var ie=te(this).constructor;F=Reflect.construct(N,arguments,ie)}else F=N.apply(this,arguments);return re(this,F)}}function re(ne,R){if(R&&(t(R)==="object"||typeof R=="function"))return R;if(R!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q(ne)}function Q(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function ue(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function te(ne){return te=Object.setPrototypeOf?Object.getPrototypeOf:function(j){return j.__proto__||Object.getPrototypeOf(j)},te(ne)}function oe(ne,R,j){return R in ne?Object.defineProperty(ne,R,{value:j,enumerable:!0,configurable:!0,writable:!0}):ne[R]=j,ne}var ce=function(ne){z(j,ne);var R=K(j);function j(N){var F;return P(this,j),F=R.call(this,N),oe(Q(F),"onDragStart",function(ie,ae){(0,m.default)("Draggable: onDragStart: %j",ae);var Te=F.props.onStart(ie,(0,o.createDraggableData)(Q(F),ae));if(Te===!1)return!1;F.setState({dragging:!0,dragged:!0})}),oe(Q(F),"onDrag",function(ie,ae){if(!F.state.dragging)return!1;(0,m.default)("Draggable: onDrag: %j",ae);var Te=(0,o.createDraggableData)(Q(F),ae),ke={x:Te.x,y:Te.y};if(F.props.bounds){var Me=ke.x,Se=ke.y;ke.x+=F.state.slackX,ke.y+=F.state.slackY;var Xe=(0,o.getBoundPosition)(Q(F),ke.x,ke.y),ve=w(Xe,2),Ce=ve[0],Fe=ve[1];ke.x=Ce,ke.y=Fe,ke.slackX=F.state.slackX+(Me-ke.x),ke.slackY=F.state.slackY+(Se-ke.y),Te.x=ke.x,Te.y=ke.y,Te.deltaX=ke.x-F.state.x,Te.deltaY=ke.y-F.state.y}var ze=F.props.onDrag(ie,Te);if(ze===!1)return!1;F.setState(ke)}),oe(Q(F),"onDragStop",function(ie,ae){if(!F.state.dragging)return!1;var Te=F.props.onStop(ie,(0,o.createDraggableData)(Q(F),ae));if(Te===!1)return!1;(0,m.default)("Draggable: onDragStop: %j",ae);var ke={dragging:!1,slackX:0,slackY:0},Me=Boolean(F.props.position);if(Me){var Se=F.props.position,Xe=Se.x,ve=Se.y;ke.x=Xe,ke.y=ve}F.setState(ke)}),F.state={dragging:!1,dragged:!1,x:N.position?N.position.x:N.defaultPosition.x,y:N.position?N.position.y:N.defaultPosition.y,prevPropsPosition:b({},N.position),slackX:0,slackY:0,isElementSVG:!1},N.position&&!(N.onDrag||N.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),F}return U(j,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var F,ie,ae;return(F=(ie=this.props)===null||ie===void 0||(ae=ie.nodeRef)===null||ae===void 0?void 0:ae.current)!==null&&F!==void 0?F:d.default.findDOMNode(this)}},{key:"render",value:function(){var F,ie=this.props;ie.axis,ie.bounds;var ae=ie.children,Te=ie.defaultPosition,ke=ie.defaultClassName,Me=ie.defaultClassNameDragging,Se=ie.defaultClassNameDragged,Xe=ie.position,ve=ie.positionOffset;ie.scale;var Ce=p(ie,y),Fe={},ze=null,Ve=Boolean(Xe),ot=!Ve||this.state.dragging,se=Xe||Te,Ne={x:(0,o.canDragX)(this)&&ot?this.state.x:se.x,y:(0,o.canDragY)(this)&&ot?this.state.y:se.y};this.state.isElementSVG?ze=(0,l.createSVGTransform)(Ne,ve):Fe=(0,l.createCSSTransform)(Ne,ve);var Oe=(0,f.default)(ae.props.className||"",ke,(F={},oe(F,Me,this.state.dragging),oe(F,Se,this.state.dragged),F));return n.createElement(c.default,h({},Ce,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(ae),{className:Oe,style:b(b({},ae.props.style),Fe),transform:ze}))}}],[{key:"getDerivedStateFromProps",value:function(F,ie){var ae=F.position,Te=ie.prevPropsPosition;return ae&&(!Te||ae.x!==Te.x||ae.y!==Te.y)?((0,m.default)("Draggable: getDerivedStateFromProps %j",{position:ae,prevPropsPosition:Te}),{x:ae.x,y:ae.y,prevPropsPosition:b({},ae)}):null}}]),j}(n.Component);r.default=ce,oe(ce,"displayName","Draggable"),oe(ce,"propTypes",b(b({},c.default.propTypes),{},{axis:e.default.oneOf(["both","x","y","none"]),bounds:e.default.oneOfType([e.default.shape({left:e.default.number,right:e.default.number,top:e.default.number,bottom:e.default.number}),e.default.string,e.default.oneOf([!1])]),defaultClassName:e.default.string,defaultClassNameDragging:e.default.string,defaultClassNameDragged:e.default.string,defaultPosition:e.default.shape({x:e.default.number,y:e.default.number}),positionOffset:e.default.shape({x:e.default.oneOfType([e.default.number,e.default.string]),y:e.default.oneOfType([e.default.number,e.default.string])}),position:e.default.shape({x:e.default.number,y:e.default.number}),className:s.dontSetMe,style:s.dontSetMe,transform:s.dontSetMe})),oe(ce,"defaultProps",b(b({},c.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))})(Yv);var o_=Yv,i_=o_.default,z6=o_.DraggableCore;Qo.exports=i_;Qo.exports.default=i_;Qo.exports.DraggableCore=z6;function H6({r,onDrag:t,onStop:n,selected:e,channelIndex:d}){const f=Lt.exports.useContext(Ri),l=Lt.exports.useContext(Xv),o=Lt.exports.useRef(null);s(o);function s(c){Lt.exports.useEffect(()=>{function m(y){if(c.current&&!c.current.contains(y.target)){if(y.target.id!="recordings_view")return;f({type:"deselectRecordings",payload:{}})}}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[c])}return Lt.exports.useEffect(()=>{let c=document.getElementById("recording_clip_"+r.id),m=r.duration-r.start;c.style.width=m*Sn+"px"},[r]),[Ft(Qo.exports,{onDrag:c=>t(c),onStop:(c,m)=>n(c,m,r),bounds:"parent",position:{x:r.start*Sn,y:d*ys},grid:l?[25,ys]:[-1,ys],scale:1,children:Ft(HT,{ref:o,selected:r.id==e.id,id:"recording_clip_"+r.id})},"drag_rec_clip_"+r.id)]}function W6({height:r}){const t=Lt.exports.useContext(ti),n=Lt.exports.useContext(Ri),e=Lt.exports.useRef(t.time),[d,f]=Lt.exports.useState(null),l=c=>{let m=c.x/Sn;m<.1&&(m=0),wn.seconds=m,o(m)},o=c=>{e.current=c,n({type:"updateTransportPosition",payload:c})},s=c=>c*Sn>t.transportLength;return Lt.exports.useEffect(()=>{if(s(t.time))return;const c=[{transform:`translateX(${t.time*Sn}px)`},{transform:`translateX(${t.transportLength}px)`}];let m=(t.transportLength-t.time*Sn)*10;const y={duration:m>=0?m:0,fill:"forwards",iterations:1};let a=document.getElementById("playline"),u=new KeyframeEffect(a,c,y),i=new Animation(u,document.timeline);i.oncancel=h=>{a.style.transform=`translate(${e.current*Sn}px, 0px)`},f(i)},[t.time]),Lt.exports.useEffect(()=>{!d||s(t.time)||(t.playing?d.play():(o(wn.seconds),d.cancel(),d.commitStyles()))},[t.time,t.playing]),[Ft(FT,{children:Ft(Qo.exports,{bounds:{left:0,top:0,bottom:0},onStop:(c,m)=>l(m),position:{x:t.time*Sn,y:0},children:Ft(UT,{id:"playline",height:r})})},"playline_elem")]}function q6({exporting:r}){const t=Lt.exports.useRef(),n=Lt.exports.useContext(ti),e=Lt.exports.useContext(Ri),[d,f]=Lt.exports.useState(!1),l=Lt.exports.useRef(!1),o=()=>oa+ys*n.channels.length,s=(p,g,v)=>{l.current?(l.current=!1,m({x:g.x,y:g.y},v,d)):e({type:"selectRecording",payload:v})},c=p=>{(p.type==="mousemove"||p.type==="touchmove")&&(l.current=!0)},m=(p,g,v)=>{e({type:"updateRecordingPosition",payload:{recording:g,newPosition:p.x,snapState:v}});let b=Ma(n.channels,g.channel),w=Math.floor(p.y/ys);w!=b&&(g.channel=n.channels[w].id,e({type:"switchRecordingChannel",payload:{recording:g,channelIndex:b,newChannelIndex:w}})),n.selectedRecording.id==g.id&&e({type:"selectRecording",payload:g})},y=p=>{const g=Lt.exports.useRef(null);v(g);function v(b){Lt.exports.useEffect(()=>{function w(x){if(b.current&&!b.current.contains(x.target)){if(x.target.id!="recordingsview")return;p(!r)}}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[b])}return qr(PT,{children:[qr(IT,{children:[Ft(DT,{children:"Length:"}),Ft(LT,{id:"transport_length_input",onKeyDown:h,placeholder:n.transportLength/Sn}),"s"]}),qr(NT,{children:[Ft("p",{children:"Snap"}),Ft(BT,{snapState:d,onClick:()=>f(!d)})]})]})},a=()=>n.channels.map((p,g)=>Ft(ZT,{channelName:p.name,channelData:{...p,index:g}},(p.id+g).toString())),u=()=>{let p=[];return n.channels.map(g=>{g.recordings.map(v=>{p.push(Ft(H6,{r:v,onDrag:c,onStop:s,selected:n.selectedRecording,channelIndex:g.index},v.id))})}),Ft(CT,{id:"recordings_view",height:o()-oa,children:p})},i=p=>{e({type:"updateTransportPosition",payload:p})},h=p=>{if(p.key=="Enter"){let g=document.getElementById("transport_length_input");e({type:"updateTransportLength",payload:g.value*Sn})}};return Lt.exports.useEffect(()=>{const p=v=>{let b=n.transportLength+20,w=oa;v.setup=()=>{v.createCanvas(b,w)},v.draw=()=>{v.background(Jt.AppSecondaryColor),v.fill(51),v.textSize(12),v.line(0,0,b,0);let x=0;for(;x<b;)v.fill(Jt.AppTextColor),Uj(x,50)==0?(x!=0&&v.text(x/Sn,x,w-20),v.line(x+.5,w-50,x+.5,w-40)):v.line(x+.5,w-50,x+.5,w-45),v.stroke(206,212,222,20),v.textAlign(v.CENTER),x+=25},v.mouseClicked=()=>{if(v.mouseY<0||v.mouseY>w||r)return;wn.pause();let x=(v.mouseX+1)/Sn;x<.1&&(x=0),wn.seconds=x,e({type:"togglePlay",payload:{playing:!1,time:x}}),i(x)}};let g=new Od(p,t.current);return()=>g.remove()},[n.transportLength]),Ft(ST,{children:qr(jT,{id:"transportview",children:[Ft(y,{}),qr(TT,{id:"transportgrid",length:n.transportLength,height:o(),children:[qr(ET,{children:[Ft(a,{}),Ft(kT,{id:"timeline_padding",children:Ft(OT,{onClick:()=>e({type:"addChannel",payload:{}})})})]}),qr(MT,{id:"grid_area",children:[Ft(Xv.Provider,{value:d,children:Ft(u,{})}),Ft(AT,{children:Ft(RT,{id:"timeline",ref:t,children:Ft(W6,{height:o()})})})]})]})]})})}Ht.div`
    height: 250px;
    width: 500px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    background-color: #1f324d;

    @media only screen and (max-width: 768px) {
        height: 200px;
        width: 300px;
    }
    border-radius: 10px;
`;const X6=Ht.button`
    width: 30px;
    height: 30px;
    background-color: transparent;
    border: none;
    background: ${r=>r.recording?"url('images/stop.png') no-repeat;":"url('images/record_muted.png') no-repeat;"};
    background-size: 30px;
    margin: 8px 0px;
    :hover {
            cursor: pointer;
            box-shadow: 0 0 8px red;
            border-radius: 50%;
    }
`;function Y6({receiveRecording:r,exporting:t}){const n=Lt.exports.useContext(ti),e=Lt.exports.useContext(Ri),d=Lt.exports.useRef(!1),f=Lt.exports.useRef(),[l,o]=Lt.exports.useState(!1),s=new il,c=async a=>{a.connect(s),await a.open()},m=a=>{a.disconnect(s),a.close()},y=async a=>{if(a.stopPropagation(),!!n.mic)if(Dv.resume(),d.current){m(n.mic);let u=await s.stop(),i=URL.createObjectURL(u),h={id:t0(),channel:null,position:wn.seconds,duration:0,start:wn.seconds,data:i,player:null,solo:!1,loaded:!1};r(h),d.current=!1,o(!1),e({type:"toggleRecordingState",payload:!1})}else await c(n.mic),s.start(),d.current=!0,o(!0),e({type:"toggleRecordingState",payload:!0})};return Lt.exports.useEffect(()=>{f.current=t},[t]),Lt.exports.useEffect(()=>{let a=document.getElementById("rec_btn");return a.disabled=!ci.supported,a.addEventListener("click",u=>y(u)),()=>{a.removeEventListener("click",u=>y(u))}},[n.mic]),Ft(X6,{type:"button",id:"rec_btn",recording:l})}const $6=Ht.div`
	position: relative;
	height: 25vh;
    width: 45%;
	display: flex;
	justify-content: flex-start;
	align-items: center;
	align-self: center;
	box-shadow: 0 0 3px ${Jt.EditorBoxHighlight};
	z-index: 3;
`,Z6=Ht.div`
	display: flex;
	flex-direction: column;
	justify-content: space-around;
	align-items: center;
    box-sizing: border-box;
	width: 6%;
	height: 100%;
	margin: 0px 5px;
	box-shadow: 0px 0 3px ${Jt.EditorBoxHighlight};
	clip-path: inset(0px 0px -3px 0px);
`,a0=Ht.button`
	background: ${r=>r.cropping?"url('images/checkmark.png') no-repeat":"url('images/crop.png') no-repeat"};
	width: 30px;
	height: 30px;
	box-sizing: content-box;
	padding: 2px;
	background-size: 30px;
	background-position: center;
	border: none;
	border-radius: 8px;
	background-color: ${r=>r.cropping?Jt.EditorButtonHighlight:"transparent"};
	:hover {
		cursor: pointer;
        box-shadow: 0 0 2px 1px grey;
	}
	-webkit-tap-highlight-color: transparent;
`,Q6=Ht(a0)`
	background: url('images/scissors.png') no-repeat;
	background-position: center;
	border-radius: 8px;
	background-color: ${r=>r.splitting?Jt.EditorButtonHighlight:"transparent"};
`,a_=Ht(a0)`
	background: ${r=>r.muted?"url('images/mute_white.png') no-repeat;":"url('images/unmute_white.png') no-repeat;"};
	background-position: center;
`,K6=Ht(a_)`
	background: none;
	font-size: 30px;
	border-radius: 8px;
	line-height: 30px;
	color: ${r=>r.solo?Jt.ContrastBlue:Jt.AppTextColor};
`,J6=Ht.div`
	position: relative;
	height: 100%;
    flex-grow: 1;
	box-shadow: 0px 0 2px #818a99;
`,eE=Ht.div`
	position: absolute;
	display: ${r=>r.cropping?"flex":"none"};
	width: 100%;
	height: 100%;
`,l_=Ht.div`
`,tE=Ht(l_)`
	
`,rE=Ht.div`
	flex-grow: 1;
	flex-shrink: 1;
	background-color: rgba(29, 75, 143, 0.4);
`,u_=Ht.div`
	width: 2px;
	height: 100%;
	background-color: rgba(69, 114, 181, 0.7);
	padding: 0px 1px;
	z-index: 100;
	:hover {cursor: col-resize;}
`,nE=Ht(u_)`
`;function sE({cropping:r,setPoints:t}){const n=Lt.exports.useRef(-1),e=Lt.exports.useRef(-1),d=Lt.exports.useRef(!1),f=c=>{let m=c.clientX-n.current;t("start",m)},l=c=>{let m=e.current-c.clientX;t("end",m)},o=c=>{if(n.current<0)n.current=c.clientX;else{let m=document.getElementById("range_left_padding"),y=c.clientX-n.current;m.style.width=`${y}px`}(c.type==="mousemove"||c.type==="touchmove")&&(d.current=!0)},s=c=>{if(e.current<0)e.current=c.clientX;else{let m=document.getElementById("range_right_padding"),y=e.current-c.clientX;m.style.width=`${y}px`}(c.type==="mousemove"||c.type==="touchmove")&&(d.current=!0)};return Lt.exports.useEffect(()=>{let c=document.getElementById("range_left_padding"),m=document.getElementById("range_right_padding");c.style.width="0px",m.style.width="0px"},[]),[qr(eE,{cropping:r,id:"drag_range_view",children:[Ft(Qo.exports,{bounds:"#drag_range_view",onStop:c=>f(c),onDrag:c=>o(c),children:Ft(u_,{id:"drag_handle_left"})}),Ft(l_,{id:"range_left_padding"}),Ft(rE,{id:"drag_highlight"}),Ft(Qo.exports,{axis:"none",bounds:"#drag_range_view",onStop:c=>l(c),onDrag:c=>s(c),children:Ft(nE,{id:"drag_handle_right"})}),Ft(tE,{id:"range_right_padding"})]},"cropElem")]}const oE=Ht.div`
	position: absolute;
	display: ${r=>r.splitting?"flex":"none"};
	width: 100%;
	height: 100%;
`,iE=Ht.span`
	height: 100%;
	border-left: 2px dotted rgba(75, 126, 201, 0.8);
	z-index: 9;
	:hover {cursor: col-resize;}
`;function aE({splitting:r,splitClip:t}){const n=Lt.exports.useContext(ti);return Lt.exports.useEffect(()=>{let e=document.getElementById("split_view"),d=document.getElementById("split_line");const f=o=>{let s=o.currentTarget.getBoundingClientRect(),c=o.clientX-s.left;d.style.transform=`translate(${c}px, 0px)`},l=o=>{o.stopPropagation();let s=e.getBoundingClientRect();t(o.clientX-s.left)};return e.addEventListener("mousemove",f),e.addEventListener("mouseup",l),()=>{e.removeEventListener("mousemove",f),e.removeEventListener("mouseup",l)}},[n.selectedRecording,r]),[Ft(oE,{id:"split_view",splitting:r,children:Ft(Qo.exports,{bounds:"#split_view",children:Ft(iE,{id:"split_line"})})},"split_elem")]}const lE=Ht.div`
	height: 100%;
    flex-grow: 1;
	box-shadow: 0px 0 3px ${Jt.EditorBoxHighlight};
`;function uE(){const r=Lt.exports.useContext(ti),t=Lt.exports.useRef(null);return Lt.exports.useEffect(()=>{if(!r.mic)return;const n=new Ic("waveform",8192);r.mic.connect(n);const e=f=>{let l=t.current.offsetWidth,o=t.current.offsetHeight;f.setup=()=>{f.createCanvas(l,o)},f.draw=()=>{f.noFill(),f.background("#1e2126");const s=n.getValue();f.beginShape();for(let c=0;c<s.length;c++){const m=s[c],y=f.map(c,0,s.length-1,0,l),a=o/2+m*o*3;f.vertex(y,a),f.stroke("#dbdbdb")}f.endShape()}};let d=new Od(e,"waveform");return()=>{d.remove(),r.mic.disconnect(n)}},[r.mic]),Ft(lE,{id:"waveform",ref:t})}function cE({solo:r,exporting:t}){const n=Lt.exports.useContext(ti),e=Lt.exports.useContext(Ri),d=Lt.exports.useRef(),[f,l]=Lt.exports.useState([]),[o,s]=Lt.exports.useState(!1),[c,m]=Lt.exports.useState(!1),[y,a]=Lt.exports.useState(0),[u,i]=Lt.exports.useState(0),[h,p]=Lt.exports.useState(!1),g=V=>{let K=d.current.offsetWidth,re=d.current.offsetHeight;V.setup=()=>{V.createCanvas(K,re)},V.draw=()=>{if(f.length===0)return;V.background("#2c3036"),V.beginShape(),V.stroke(Jt.AppTextOffColor);let Q=n.selectedRecording,ue=wn.seconds,te=Q.position+Q.player._buffer.duration,oe=V.map(ue,Q.start,Q.duration,0,K),ce=Math.round(V.map(Q.start,Q.position,te,0,f.length)),ne=Math.round(V.map(Q.duration,Q.position,te,0,f.length)),R=ce,j=R;for(;R<ne;){let N=0,F=100;for(let Te=j;Te<j+F;Te++)N+=f[Te]*500;let ie=V.map(R,ce,ne,0,K),ae=N*2/F;V.vertex(ie,re/2-ae),R+=F,j+=F}V.endShape(),V.stroke("#868e9c"),V.rect(oe,0,1,re,0)}},v=()=>Object.keys(n.selectedRecording).length&&!t,b=()=>{w(),m(!1)},w=()=>{l([])},x=()=>{let V=n.selectedRecording;!v()||(o?V.player.mute=!1:V.player.mute=!0,s(!o))},k=()=>{!v()||r(n.selectedRecording.solo)},E=()=>{m(!1),p(!1)},M=()=>{if(!!v()){if(c){let V=n.selectedRecording;e({type:"cropRecording",payload:{recording:V,leftDelta:y,rightDelta:u}})}else E();m(!c)}},O=(V,K)=>{let re=K.duration-K.start;return Vj(V,0,d.current.offsetWidth,0,re)},P=(V,K)=>{K=O(K,n.selectedRecording),V=="start"?a(K):V=="end"&&i(K)},D=()=>{!v()||(E(),p(!h))},U=V=>{z(V)},z=V=>{if(!v())return;let K=n.selectedRecording;V/Sn>K.start&&(p(!h),V=O(V,K),e({type:"addSplitRecording",payload:{recording:K,splitPoint:V}}),e({type:"updateSplitRecording",payload:{recording:K,splitPoint:V}}))};return Lt.exports.useEffect(()=>{let V=n.selectedRecording,K=new Od(g,d.current);if(Object.keys(V).length)try{l(V.player.buffer._buffer.getChannelData(0))}catch(re){console.log(re)}else f.length&&b();return()=>K.remove()},[n.selectedRecording,f]),qr($6,{id:"editor",children:[qr(Z6,{children:[Ft(a_,{onClick:x,muted:o}),Ft(K6,{onClick:k,solo:n.selectedRecording.solo,children:"S"}),Ft(a0,{cropping:c,onClick:M}),Ft(Q6,{splitting:h,onClick:D})]}),n.recordingState?Ft(uE,{}):qr(J6,{ref:d,children:[Ft(sE,{cropping:c,setPoints:P},"cropElem"),Ft(aE,{splitting:h,splitClip:V=>U(V)},"splitElem")]})]})}const dE=Ht.div`
    background-color: "#1e2126";
    height: 100%;
    width: 100%;
`,hE=r=>{let t=r.toFixed(2).toString();return t.split(".")[0]+"."+t.split(".")[1]};function fE(){const r=Lt.exports.useRef();return Lt.exports.useEffect(()=>{const t=e=>{let d=r.current.offsetWidth,f=r.current.offsetHeight,l;e.setup=()=>{l=e.createCanvas(d,f).drawingContext,e.textAlign(e.CENTER,e.CENTER)},e.draw=()=>{e.clear(),l.font="25px Avenir",e.select("#transportClock").elt.style.letterSpacing="1.5px",e.fill("white");let o=hE(wn.seconds);e.text(o,d/2,20)}};let n=new Od(t,r.current);return()=>n.remove()},[]),[Ft(dE,{id:"transportClock",ref:r},"clock")]}const pE=Mg`
    0% { opacity: 0; }
    100% { opacity: 1; }
`,mE=Mg`
    0% { opacity: 1; }
    100% { opacity: 0; }
`,yE=Ht.div`
    visibility: ${r=>r.displayState?"visible":"hidden"};
    position: absolute;
    right: 0;
    border-radius: 6px;
    background: linear-gradient(to bottom, ${Jt.AppSecondaryColor}, ${Jt.AppSecondaryGradient});
    animation: 0.05s ${r=>r.displayState?pE:mE} linear;
    transition: visibility 0.05s linear;
    border: none;
    box-shadow: 0 0 0 2px #424242;
    z-index: 4;
`,gE=Ht.span`
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    align-items: flex-start;
    width: 15vw;
    margin: 5% 10%;
`,wu=Ht(Jt.DefaultButton)`
    background-color: transparent;
    color: ${Jt.AppTextOffColor};
    font-size: 1rem;
    height: 8vh;
`,vE=Ht.div`
    margin: 5% 5%;
    width: 18vw;
`,_E=Ht.span`
    display: flex;
    align-items: center;
    height: 15%;
    margin: 4% 0;
`,bE=Ht.h3`
    color: ${Jt.AppTextOffColor};
    font-size: 1.2rem;
    margin: 0;
`,xE=Ht(Jt.DefaultButton)`
    width: 16%;
    height: 2.3rem;
    background: url('images/arrow_left.png') no-repeat;
`,wE=Ht.section`
    position: relative;
    height: 35vh;
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    color: ${Jt.AppTextColor};
    font-size: 0.7rem;
    font-weight: normal;
`,ih=Ht.div`
    display: flex;
    align-items: center;
    font-size: 0.7rem;
    width: 80%;
    margin-left: 5%;
`,r1=Ht(Jt.DefaultButton)`
    width: 25%;
    height: 30px;
    margin-left: 10%;
    background-color: ${r=>r.fileFormat?Jt.ContrastBlue:Jt.AppTextOffColor};
    color: ${r=>r.fileFormat?Jt.AppTextColor:"black"};
`,ah=Ht.h3`
    min-width: 20%;
`,n1=Ht.input`
    height: 25px;
    width: 20%;
    margin-left: 10%;
    margin-right: 2%;
    background-color: ${Jt.AppTextOffColor};
    border-radius: 4px;
    border: none;
    font-family: Avenir, Arial, sans-serif;
    text-indent: 0.3rem;
`,SE=Ht(Jt.DefaultButton)`
    height: 30px;
    width: 30%;
    font-size: 1rem;
    align-self: flex-start;
    color: black;
    background-color: ${Jt.AppTextColor};
`;function jE({channels:r}){const[t,n]=Lt.exports.useState(""),e=u=>{n(u)},d=()=>{if(!t)return;let u=Array.from(document.getElementsByClassName("export_range_input")),i=f(u);l(t,i)},f=u=>u.map(i=>parseInt(i.value)),l=(u,i)=>{u=="mp3"?c(i):o(i)},o=async u=>{let i=await a(u),h=Bj(i);m(h,Uu.wav)},s=u=>u.map(i=>i*Hj),c=async u=>{let i=[],h=await a(u),p=new window.lamejs.Mp3Encoder(1,44100,128),g=h.getChannelData(0);g=s(g);let v=576;for(let w=0;w<g.length;w+=v){let x=g.subarray(w,w+v),k=p.encodeBuffer(x);k.length>0&&i.push(k)}let b=p.flush();b.length>0&&i.push(b),m(i,Uu.mp3)},m=(u,i)=>{let h=u;i==Uu.wav&&(h=[new DataView(u)]);let p=new window.Blob(h,{type:i});y(p,i)},y=(u,i)=>{let h=document.createElement("a"),p=window.URL.createObjectURL(u);h.href=p,h.download=Wj(i),h.click(),window.URL.revokeObjectURL(p)},a=async u=>{const i=new OfflineAudioContext(2,Xm*u[1],Xm);return r.forEach(function(h){h.recordings.forEach(function(p){let g=i.createBufferSource(),v=r0(u[0],p),b=p.start-p.position+v;g.buffer=Fj(p.data),g.connect(i.destination),g.start(p.position+b,b)})}),await i.startRendering()};return qr(wE,{children:[qr(ih,{children:[Ft(ah,{children:"Format:"}),Ft(r1,{fileFormat:t=="wav",onClick:()=>e("wav"),children:"WAV"}),Ft(r1,{fileFormat:t=="mp3",onClick:()=>e("mp3"),children:"MP3"})]}),qr(ih,{children:[Ft(ah,{children:"Start:"}),Ft(n1,{className:"export_range_input"}),"s"]}),qr(ih,{children:[Ft(ah,{children:"End:"}),Ft(n1,{className:"export_range_input"}),"s"]}),Ft(SE,{onClick:d,children:"Bounce"})]})}function TE({displayState:r,channels:t}){const[n,e]=Lt.exports.useState(!1),[d,f]=Lt.exports.useState(!1),l=s=>{switch(e(!0),s){case"export":f(!0)}};return Ft(yE,{displayState:r,children:n?qr(vE,{children:[qr(_E,{children:[Ft(xE,{onClick:()=>{e(!1)}}),Ft(bE,{children:"Export"})]}),Ft(jE,{displayState:d,channels:t})]}):qr(gE,{children:[Ft(wu,{children:"Project"}),Ft(wu,{children:"Microphone"}),Ft(wu,{children:"Recordings"}),Ft(wu,{onClick:()=>l("export"),children:"Export"})]})})}const EE={recordingState:!1,mic:null,channels:[],selectedRecording:{},selectedChannel:0,endPosition:0,soloChannel:null,time:0,playing:!1,transportLength:3e3};function ME(){const[r,t]=Lt.exports.useState(!1),[n,e]=Lt.exports.useReducer(Zj,EE),[d,f]=Lt.exports.useState(!1),[l,o]=Lt.exports.useState(!1),s=Lt.exports.useRef(),c=new FileReader,m=Lt.exports.useRef(null);y(m);function y(E){Lt.exports.useEffect(()=>{function M(O){E.current&&!E.current.contains(O.target)&&o(!1)}return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[E])}const a=E=>{E.player=Uv(E.data),typeof E.data=="string"?(E.player.buffer.onload=M=>{E.data=M,E.duration=E.start+M.duration,e({type:"updateBuffer",payload:E}),wn.seconds=E.duration,e({type:"updateTransportPosition",payload:E.duration}),e({type:"selectRecording",payload:E})},e({type:"scheduleNewRecording",payload:E})):e({type:"scheduleNewRecording",payload:E})},u=()=>{wn.state==="started"?(wn.pause(),e({type:"togglePlay",payload:{playing:!1,time:wn.seconds}})):n.channels.length>0&&(Dv.resume(),wn.start(),e({type:"togglePlay",payload:{playing:!0,time:wn.seconds}}))},i=()=>{l||u()},h=()=>{l||(wn.stop(),e({type:"togglePlay",payload:{playing:!1,time:0}}),e({type:"updateTransportPosition",payload:0}))},p=()=>{l||(ts().destination.mute,t(!r))},g=E=>{e(E?{type:"unsoloClip",payload:n.selectedRecording}:{type:"soloClip",payload:n.selectedRecording})},v=()=>{o(!l)},b=E=>(E.type=="audio/mpeg"||E.type!=="audio/wav")&&E.size<Gj,w=E=>E.duration*Sn<=zj,x=(E,M)=>{M.preventDefault(),f(!1),E&&b(E[0])&&(c.readAsArrayBuffer(E[0]),c.onload=async()=>{let O=c.result;try{let P=await ts().rawContext.decodeAudioData(O);if(w(P))P.duration*Sn>n.transportLength&&e({type:"updateTransportLength",payload:P.duration*Sn}),k(P);else return}catch(P){console.log(P)}},c.onerror=()=>{console.log(c.error)})},k=E=>{let M=wn.seconds,O={position:M,start:M,duration:M+E.duration,data:E,player:null,channel:null,loaded:!0};a(O)};return Lt.exports.useEffect(()=>{const E=new ci;e({type:"initializeChannels",payload:{}}),e({type:"setMic",payload:E})},[]),Ft(ti.Provider,{value:n,children:Ft(Ri.Provider,{value:e,children:qr(Tx,{id:"Tone",ref:s.current,children:[qr(Ex,{children:[Ft(Ax,{children:"MIXIN"}),qr(Mx,{ref:m,children:[Ft(Cx,{onClick:v}),Ft(TE,{displayState:l,channels:n.channels})]})]}),Ft(cE,{solo:g,exporting:l}),Ft(kx,{dropping:d,children:Ft(Rj,{onDrop:(E,M)=>x(E,M),onFrameDragEnter:E=>f(!0),onFrameDragLeave:E=>f(!1),children:Ft(q6,{exporting:l})})}),qr(Rx,{children:[Ft(Y6,{receiveRecording:a,exporting:l}),Ft(Mp,{id:"play_btn",onClick:i,playState:n.playing}),Ft(Ox,{onClick:h}),Ft(Px,{onClick:p,mute:r}),Ft(Ix,{children:Ft(fE,{})})]})]})})})}Mb.render(Ft(ME,{}),document.getElementById("root"));function _f(){function r(se){return new Int8Array(se)}function t(se){return new Int16Array(se)}function n(se){return new Int32Array(se)}function e(se){return new Float32Array(se)}function d(se){return new Float64Array(se)}function f(se){if(se.length==1)return e(se[0]);var Ne=se[0];se=se.slice(1);for(var Oe=[],We=0;We<Ne;We++)Oe.push(f(se));return Oe}function l(se){if(se.length==1)return n(se[0]);var Ne=se[0];se=se.slice(1);for(var Oe=[],We=0;We<Ne;We++)Oe.push(l(se));return Oe}function o(se){if(se.length==1)return t(se[0]);var Ne=se[0];se=se.slice(1);for(var Oe=[],We=0;We<Ne;We++)Oe.push(o(se));return Oe}function s(se){if(se.length==1)return new Array(se[0]);var Ne=se[0];se=se.slice(1);for(var Oe=[],We=0;We<Ne;We++)Oe.push(s(se));return Oe}var c={};c.fill=function(se,Ne,Oe,We){if(arguments.length==2)for(var Ke=0;Ke<se.length;Ke++)se[Ke]=arguments[1];else for(var Ke=Ne;Ke<Oe;Ke++)se[Ke]=We};var m={};m.arraycopy=function(se,Ne,Oe,We,Ke){for(var Ge=Ne+Ke;Ne<Ge;)Oe[We++]=se[Ne++]};var y={};y.SQRT2=1.4142135623730951,y.FAST_LOG10=function(se){return Math.log10(se)},y.FAST_LOG10_X=function(se,Ne){return Math.log10(se)*Ne};function a(se){this.ordinal=se}a.short_block_allowed=new a(0),a.short_block_coupled=new a(1),a.short_block_dispensed=new a(2),a.short_block_forced=new a(3);var u={};u.MAX_VALUE=34028235e31;function i(se){this.ordinal=se}i.vbr_off=new i(0),i.vbr_mt=new i(1),i.vbr_rh=new i(2),i.vbr_abr=new i(3),i.vbr_mtrh=new i(4),i.vbr_default=i.vbr_mtrh;function h(se){var Ne=se;this.ordinal=function(){return Ne}}h.STEREO=new h(0),h.JOINT_STEREO=new h(1),h.DUAL_CHANNEL=new h(2),h.MONO=new h(3),h.NOT_SET=new h(4);function p(){var se="http://www.mp3dev.org/",Ne=3,Oe=98,We=4,Ke=0,Ge=93;this.getLameVersion=function(){return Ne+"."+Oe+"."+We},this.getLameShortVersion=function(){return Ne+"."+Oe+"."+We},this.getLameVeryShortVersion=function(){return"LAME"+Ne+"."+Oe+"r"},this.getPsyVersion=function(){return Ke+"."+Ge},this.getLameUrl=function(){return se},this.getLameOsBitness=function(){return"32bits"}}g.STEPS_per_dB=100,g.MAX_dB=120,g.GAIN_NOT_ENOUGH_SAMPLES=-24601,g.GAIN_ANALYSIS_ERROR=0,g.GAIN_ANALYSIS_OK=1,g.INIT_GAIN_ANALYSIS_ERROR=0,g.INIT_GAIN_ANALYSIS_OK=1,g.YULE_ORDER=10,g.MAX_ORDER=g.YULE_ORDER,g.MAX_SAMP_FREQ=48e3,g.RMS_WINDOW_TIME_NUMERATOR=1,g.RMS_WINDOW_TIME_DENOMINATOR=20,g.MAX_SAMPLES_PER_WINDOW=g.MAX_SAMP_FREQ*g.RMS_WINDOW_TIME_NUMERATOR/g.RMS_WINDOW_TIME_DENOMINATOR+1;function g(){var se=64.82,Ne=.95,Oe=g.RMS_WINDOW_TIME_NUMERATOR,We=g.RMS_WINDOW_TIME_DENOMINATOR,Ke=[[.038575994352,-3.84664617118067,-.02160367184185,7.81501653005538,-.00123395316851,-11.34170355132042,-9291677959e-14,13.05504219327545,-.01655260341619,-12.28759895145294,.02161526843274,9.4829380631979,-.02074045215285,-5.87257861775999,.00594298065125,2.75465861874613,.00306428023191,-.86984376593551,.00012025322027,.13919314567432,.00288463683916],[.0541865640643,-3.47845948550071,-.02911007808948,6.36317777566148,-.00848709379851,-8.54751527471874,-.00851165645469,9.4769360780128,-.00834990904936,-8.81498681370155,.02245293253339,6.85401540936998,-.02596338512915,-4.39470996079559,.01624864962975,2.19611684890774,-.00240879051584,-.75104302451432,.00674613682247,.13149317958808,-.00187763777362],[.15457299681924,-2.37898834973084,-.09331049056315,2.84868151156327,-.06247880153653,-2.64577170229825,.02163541888798,2.23697657451713,-.05588393329856,-1.67148153367602,.04781476674921,1.00595954808547,.00222312597743,-.45953458054983,.03174092540049,.16378164858596,-.01390589421898,-.05032077717131,.00651420667831,.0234789740702,-.00881362733839],[.30296907319327,-1.61273165137247,-.22613988682123,1.0797749225997,-.08587323730772,-.2565625775407,.03282930172664,-.1627671912044,-.00915702933434,-.22638893773906,-.02364141202522,.39120800788284,-.00584456039913,-.22138138954925,.06276101321749,.04500235387352,-828086748e-14,.02005851806501,.00205861885564,.00302439095741,-.02950134983287],[.33642304856132,-1.49858979367799,-.2557224142557,.87350271418188,-.11828570177555,.12205022308084,.11921148675203,-.80774944671438,-.07834489609479,.47854794562326,-.0046997791438,-.12453458140019,-.0058950022444,-.04067510197014,.05724228140351,.08333755284107,.00832043980773,-.04237348025746,-.0163538138454,.02977207319925,-.0176017656815],[.4491525660845,-.62820619233671,-.14351757464547,.29661783706366,-.22784394429749,-.372563729424,-.01419140100551,.00213767857124,.04078262797139,-.42029820170918,-.12398163381748,.22199650564824,.04097565135648,.00613424350682,.10478503600251,.06747620744683,-.01863887810927,.05784820375801,-.03193428438915,.03222754072173,.00541907748707],[.56619470757641,-1.04800335126349,-.75464456939302,.29156311971249,.1624213774223,-.26806001042947,.16744243493672,.00819999645858,-.18901604199609,.45054734505008,.3093178284183,-.33032403314006,-.27562961986224,.0673936833311,.00647310677246,-.04784254229033,.08647503780351,.01639907836189,-.0378898455484,.01807364323573,-.00588215443421],[.58100494960553,-.51035327095184,-.53174909058578,-.31863563325245,-.14289799034253,-.20256413484477,.17520704835522,.1472815413433,.02377945217615,.38952639978999,.15558449135573,-.23313271880868,-.25344790059353,-.05246019024463,.01628462406333,-.02505961724053,.06920467763959,.02442357316099,-.03721611395801,.01818801111503,-.00749618797172],[.53648789255105,-.2504987195602,-.42163034350696,-.43193942311114,-.00275953611929,-.03424681017675,.04267842219415,-.04678328784242,-.10214864179676,.26408300200955,.14590772289388,.15113130533216,-.02459864859345,-.17556493366449,-.11202315195388,-.18823009262115,-.04060034127,.05477720428674,.0478866554818,.0470440968812,-.02217936801134]],Ge=[[.98621192462708,-1.97223372919527,-1.97242384925416,.97261396931306,.98621192462708],[.98500175787242,-1.96977855582618,-1.97000351574484,.9702284756635,.98500175787242],[.97938932735214,-1.95835380975398,-1.95877865470428,.95920349965459,.97938932735214],[.97531843204928,-1.95002759149878,-1.95063686409857,.95124613669835,.97531843204928],[.97316523498161,-1.94561023566527,-1.94633046996323,.94705070426118,.97316523498161],[.96454515552826,-1.92783286977036,-1.92909031105652,.93034775234268,.96454515552826],[.96009142950541,-1.91858953033784,-1.92018285901082,.92177618768381,.96009142950541],[.95856916599601,-1.9154210807478,-1.91713833199203,.91885558323625,.95856916599601],[.94597685600279,-1.88903307939452,-1.89195371200558,.89487434461664,.94597685600279]];function et(B,G,I,C,ye,ge){for(;ye--!=0;)I[C]=1e-10+B[G+0]*ge[0]-I[C-1]*ge[1]+B[G-1]*ge[2]-I[C-2]*ge[3]+B[G-2]*ge[4]-I[C-3]*ge[5]+B[G-3]*ge[6]-I[C-4]*ge[7]+B[G-4]*ge[8]-I[C-5]*ge[9]+B[G-5]*ge[10]-I[C-6]*ge[11]+B[G-6]*ge[12]-I[C-7]*ge[13]+B[G-7]*ge[14]-I[C-8]*ge[15]+B[G-8]*ge[16]-I[C-9]*ge[17]+B[G-9]*ge[18]-I[C-10]*ge[19]+B[G-10]*ge[20],++C,++G}function ut(B,G,I,C,ye,ge){for(;ye--!=0;)I[C]=B[G+0]*ge[0]-I[C-1]*ge[1]+B[G-1]*ge[2]-I[C-2]*ge[3]+B[G-2]*ge[4],++C,++G}function Be(B,G){for(var I=0;I<MAX_ORDER;I++)B.linprebuf[I]=B.lstepbuf[I]=B.loutbuf[I]=B.rinprebuf[I]=B.rstepbuf[I]=B.routbuf[I]=0;switch(0|G){case 48e3:B.reqindex=0;break;case 44100:B.reqindex=1;break;case 32e3:B.reqindex=2;break;case 24e3:B.reqindex=3;break;case 22050:B.reqindex=4;break;case 16e3:B.reqindex=5;break;case 12e3:B.reqindex=6;break;case 11025:B.reqindex=7;break;case 8e3:B.reqindex=8;break;default:return INIT_GAIN_ANALYSIS_ERROR}return B.sampleWindow=0|(G*Oe+We-1)/We,B.lsum=0,B.rsum=0,B.totsamp=0,c.ill(B.A,0),INIT_GAIN_ANALYSIS_OK}this.InitGainAnalysis=function(B,G){return Be(B,G)!=INIT_GAIN_ANALYSIS_OK?INIT_GAIN_ANALYSIS_ERROR:(B.linpre=MAX_ORDER,B.rinpre=MAX_ORDER,B.lstep=MAX_ORDER,B.rstep=MAX_ORDER,B.lout=MAX_ORDER,B.rout=MAX_ORDER,c.fill(B.B,0),INIT_GAIN_ANALYSIS_OK)};function Ee(B){return B*B}this.AnalyzeSamples=function(B,G,I,C,ye,ge,_e){var H,me,je,fe,Re,X,pe;if(ge==0)return GAIN_ANALYSIS_OK;switch(pe=0,Re=ge,_e){case 1:C=G,ye=I;break;case 2:break;default:return GAIN_ANALYSIS_ERROR}for(ge<MAX_ORDER?(m.arraycopy(G,I,B.linprebuf,MAX_ORDER,ge),m.arraycopy(C,ye,B.rinprebuf,MAX_ORDER,ge)):(m.arraycopy(G,I,B.linprebuf,MAX_ORDER,MAX_ORDER),m.arraycopy(C,ye,B.rinprebuf,MAX_ORDER,MAX_ORDER));Re>0;){X=Re>B.sampleWindow-B.totsamp?B.sampleWindow-B.totsamp:Re,pe<MAX_ORDER?(H=B.linpre+pe,me=B.linprebuf,je=B.rinpre+pe,fe=B.rinprebuf,X>MAX_ORDER-pe&&(X=MAX_ORDER-pe)):(H=I+pe,me=G,je=ye+pe,fe=C),et(me,H,B.lstepbuf,B.lstep+B.totsamp,X,Ke[B.reqindex]),et(fe,je,B.rstepbuf,B.rstep+B.totsamp,X,Ke[B.reqindex]),ut(B.lstepbuf,B.lstep+B.totsamp,B.loutbuf,B.lout+B.totsamp,X,Ge[B.reqindex]),ut(B.rstepbuf,B.rstep+B.totsamp,B.routbuf,B.rout+B.totsamp,X,Ge[B.reqindex]),H=B.lout+B.totsamp,me=B.loutbuf,je=B.rout+B.totsamp,fe=B.routbuf;for(var Y=X%8;Y--!=0;)B.lsum+=Ee(me[H++]),B.rsum+=Ee(fe[je++]);for(Y=X/8;Y--!=0;)B.lsum+=Ee(me[H+0])+Ee(me[H+1])+Ee(me[H+2])+Ee(me[H+3])+Ee(me[H+4])+Ee(me[H+5])+Ee(me[H+6])+Ee(me[H+7]),H+=8,B.rsum+=Ee(fe[je+0])+Ee(fe[je+1])+Ee(fe[je+2])+Ee(fe[je+3])+Ee(fe[je+4])+Ee(fe[je+5])+Ee(fe[je+6])+Ee(fe[je+7]),je+=8;if(Re-=X,pe+=X,B.totsamp+=X,B.totsamp==B.sampleWindow){var q=g.STEPS_per_dB*10*Math.log10((B.lsum+B.rsum)/B.totsamp*.5+1e-37),J=q<=0?0:0|q;J>=B.A.length&&(J=B.A.length-1),B.A[J]++,B.lsum=B.rsum=0,m.arraycopy(B.loutbuf,B.totsamp,B.loutbuf,0,MAX_ORDER),m.arraycopy(B.routbuf,B.totsamp,B.routbuf,0,MAX_ORDER),m.arraycopy(B.lstepbuf,B.totsamp,B.lstepbuf,0,MAX_ORDER),m.arraycopy(B.rstepbuf,B.totsamp,B.rstepbuf,0,MAX_ORDER),B.totsamp=0}if(B.totsamp>B.sampleWindow)return GAIN_ANALYSIS_ERROR}return ge<MAX_ORDER?(m.arraycopy(B.linprebuf,ge,B.linprebuf,0,MAX_ORDER-ge),m.arraycopy(B.rinprebuf,ge,B.rinprebuf,0,MAX_ORDER-ge),m.arraycopy(G,I,B.linprebuf,MAX_ORDER-ge,ge),m.arraycopy(C,ye,B.rinprebuf,MAX_ORDER-ge,ge)):(m.arraycopy(G,I+ge-MAX_ORDER,B.linprebuf,0,MAX_ORDER),m.arraycopy(C,ye+ge-MAX_ORDER,B.rinprebuf,0,MAX_ORDER)),GAIN_ANALYSIS_OK};function we(B,G){var I,C=0;for(I=0;I<G;I++)C+=B[I];if(C==0)return GAIN_NOT_ENOUGH_SAMPLES;var ye=0|Math.ceil(C*(1-Ne));for(I=G;I-- >0&&!((ye-=B[I])<=0););return se-I/g.STEPS_per_dB}this.GetTitleGain=function(B){for(var G=we(B.A,B.A.length),I=0;I<B.A.length;I++)B.B[I]+=B.A[I],B.A[I]=0;for(var I=0;I<MAX_ORDER;I++)B.linprebuf[I]=B.lstepbuf[I]=B.loutbuf[I]=B.rinprebuf[I]=B.rstepbuf[I]=B.routbuf[I]=0;return B.totsamp=0,B.lsum=B.rsum=0,G}}function v(){function se(Ee,we,B,G,I,C,ye,ge,_e,H,me,je,fe,Re,X){this.vbr_q=Ee,this.quant_comp=we,this.quant_comp_s=B,this.expY=G,this.st_lrm=I,this.st_s=C,this.masking_adj=ye,this.masking_adj_short=ge,this.ath_lower=_e,this.ath_curve=H,this.ath_sensitivity=me,this.interch=je,this.safejoint=fe,this.sfb21mod=Re,this.msfix=X}function Ne(Ee,we,B,G,I,C,ye,ge,_e,H,me,je,fe,Re){this.quant_comp=we,this.quant_comp_s=B,this.safejoint=G,this.nsmsfix=I,this.st_lrm=C,this.st_s=ye,this.nsbass=ge,this.scale=_e,this.masking_adj=H,this.ath_lower=me,this.ath_curve=je,this.interch=fe,this.sfscale=Re}var Oe;this.setModules=function(Ee){Oe=Ee};var We=[new se(0,9,9,0,5.2,125,-4.2,-6.3,4.8,1,0,0,2,21,.97),new se(1,9,9,0,5.3,125,-3.6,-5.6,4.5,1.5,0,0,2,21,1.35),new se(2,9,9,0,5.6,125,-2.2,-3.5,2.8,2,0,0,2,21,1.49),new se(3,9,9,1,5.8,130,-1.8,-2.8,2.6,3,-4,0,2,20,1.64),new se(4,9,9,1,6,135,-.7,-1.1,1.1,3.5,-8,0,2,0,1.79),new se(5,9,9,1,6.4,140,.5,.4,-7.5,4,-12,2e-4,0,0,1.95),new se(6,9,9,1,6.6,145,.67,.65,-14.7,6.5,-19,4e-4,0,0,2.3),new se(7,9,9,1,6.6,145,.8,.75,-19.7,8,-22,6e-4,0,0,2.7),new se(8,9,9,1,6.6,145,1.2,1.15,-27.5,10,-23,7e-4,0,0,0),new se(9,9,9,1,6.6,145,1.6,1.6,-36,11,-25,8e-4,0,0,0),new se(10,9,9,1,6.6,145,2,2,-36,12,-25,8e-4,0,0,0)],Ke=[new se(0,9,9,0,4.2,25,-7,-4,7.5,1,0,0,2,26,.97),new se(1,9,9,0,4.2,25,-5.6,-3.6,4.5,1.5,0,0,2,21,1.35),new se(2,9,9,0,4.2,25,-4.4,-1.8,2,2,0,0,2,18,1.49),new se(3,9,9,1,4.2,25,-3.4,-1.25,1.1,3,-4,0,2,15,1.64),new se(4,9,9,1,4.2,25,-2.2,.1,0,3.5,-8,0,2,0,1.79),new se(5,9,9,1,4.2,25,-1,1.65,-7.7,4,-12,2e-4,0,0,1.95),new se(6,9,9,1,4.2,25,-0,2.47,-7.7,6.5,-19,4e-4,0,0,2),new se(7,9,9,1,4.2,25,.5,2,-14.5,8,-22,6e-4,0,0,2),new se(8,9,9,1,4.2,25,1,2.4,-22,10,-23,7e-4,0,0,2),new se(9,9,9,1,4.2,25,1.5,2.95,-30,11,-25,8e-4,0,0,2),new se(10,9,9,1,4.2,25,2,2.95,-36,12,-30,8e-4,0,0,2)];function Ge(Ee,we,B){var G=Ee.VBR==i.vbr_rh?We:Ke,I=Ee.VBR_q_frac,C=G[we],ye=G[we+1],ge=C;C.st_lrm=C.st_lrm+I*(ye.st_lrm-C.st_lrm),C.st_s=C.st_s+I*(ye.st_s-C.st_s),C.masking_adj=C.masking_adj+I*(ye.masking_adj-C.masking_adj),C.masking_adj_short=C.masking_adj_short+I*(ye.masking_adj_short-C.masking_adj_short),C.ath_lower=C.ath_lower+I*(ye.ath_lower-C.ath_lower),C.ath_curve=C.ath_curve+I*(ye.ath_curve-C.ath_curve),C.ath_sensitivity=C.ath_sensitivity+I*(ye.ath_sensitivity-C.ath_sensitivity),C.interch=C.interch+I*(ye.interch-C.interch),C.msfix=C.msfix+I*(ye.msfix-C.msfix),Be(Ee,ge.vbr_q),B!=0?Ee.quant_comp=ge.quant_comp:Math.abs(Ee.quant_comp- -1)>0||(Ee.quant_comp=ge.quant_comp),B!=0?Ee.quant_comp_short=ge.quant_comp_s:Math.abs(Ee.quant_comp_short- -1)>0||(Ee.quant_comp_short=ge.quant_comp_s),ge.expY!=0&&(Ee.experimentalY=ge.expY!=0),B!=0?Ee.internal_flags.nsPsy.attackthre=ge.st_lrm:Math.abs(Ee.internal_flags.nsPsy.attackthre- -1)>0||(Ee.internal_flags.nsPsy.attackthre=ge.st_lrm),B!=0?Ee.internal_flags.nsPsy.attackthre_s=ge.st_s:Math.abs(Ee.internal_flags.nsPsy.attackthre_s- -1)>0||(Ee.internal_flags.nsPsy.attackthre_s=ge.st_s),B!=0?Ee.maskingadjust=ge.masking_adj:Math.abs(Ee.maskingadjust-0)>0||(Ee.maskingadjust=ge.masking_adj),B!=0?Ee.maskingadjust_short=ge.masking_adj_short:Math.abs(Ee.maskingadjust_short-0)>0||(Ee.maskingadjust_short=ge.masking_adj_short),B!=0?Ee.ATHlower=-ge.ath_lower/10:Math.abs(-Ee.ATHlower*10-0)>0||(Ee.ATHlower=-ge.ath_lower/10),B!=0?Ee.ATHcurve=ge.ath_curve:Math.abs(Ee.ATHcurve- -1)>0||(Ee.ATHcurve=ge.ath_curve),B!=0?Ee.athaa_sensitivity=ge.ath_sensitivity:Math.abs(Ee.athaa_sensitivity- -1)>0||(Ee.athaa_sensitivity=ge.ath_sensitivity),ge.interch>0&&(B!=0?Ee.interChRatio=ge.interch:Math.abs(Ee.interChRatio- -1)>0||(Ee.interChRatio=ge.interch)),ge.safejoint>0&&(Ee.exp_nspsytune=Ee.exp_nspsytune|ge.safejoint),ge.sfb21mod>0&&(Ee.exp_nspsytune=Ee.exp_nspsytune|ge.sfb21mod<<20),B!=0?Ee.msfix=ge.msfix:Math.abs(Ee.msfix- -1)>0||(Ee.msfix=ge.msfix),B==0&&(Ee.VBR_q=we,Ee.VBR_q_frac=I)}var et=[new Ne(8,9,9,0,0,6.6,145,0,.95,0,-30,11,.0012,1),new Ne(16,9,9,0,0,6.6,145,0,.95,0,-25,11,.001,1),new Ne(24,9,9,0,0,6.6,145,0,.95,0,-20,11,.001,1),new Ne(32,9,9,0,0,6.6,145,0,.95,0,-15,11,.001,1),new Ne(40,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new Ne(48,9,9,0,0,6.6,145,0,.95,0,-10,11,9e-4,1),new Ne(56,9,9,0,0,6.6,145,0,.95,0,-6,11,8e-4,1),new Ne(64,9,9,0,0,6.6,145,0,.95,0,-2,11,8e-4,1),new Ne(80,9,9,0,0,6.6,145,0,.95,0,0,8,7e-4,1),new Ne(96,9,9,0,2.5,6.6,145,0,.95,0,1,5.5,6e-4,1),new Ne(112,9,9,0,2.25,6.6,145,0,.95,0,2,4.5,5e-4,1),new Ne(128,9,9,0,1.95,6.4,140,0,.95,0,3,4,2e-4,1),new Ne(160,9,9,1,1.79,6,135,0,.95,-2,5,3.5,0,1),new Ne(192,9,9,1,1.49,5.6,125,0,.97,-4,7,3,0,0),new Ne(224,9,9,1,1.25,5.2,125,0,.98,-6,9,2,0,0),new Ne(256,9,9,1,.97,5.2,125,0,1,-8,10,1,0,0),new Ne(320,9,9,1,.9,5.2,125,0,1,-10,12,0,0,0)];function ut(Ee,we,B){var G=we,I=Oe.nearestBitrateFullIndex(we);if(Ee.VBR=i.vbr_abr,Ee.VBR_mean_bitrate_kbps=G,Ee.VBR_mean_bitrate_kbps=Math.min(Ee.VBR_mean_bitrate_kbps,320),Ee.VBR_mean_bitrate_kbps=Math.max(Ee.VBR_mean_bitrate_kbps,8),Ee.brate=Ee.VBR_mean_bitrate_kbps,Ee.VBR_mean_bitrate_kbps>320&&(Ee.disable_reservoir=!0),et[I].safejoint>0&&(Ee.exp_nspsytune=Ee.exp_nspsytune|2),et[I].sfscale>0&&(Ee.internal_flags.noise_shaping=2),Math.abs(et[I].nsbass)>0){var C=int(et[I].nsbass*4);C<0&&(C+=64),Ee.exp_nspsytune=Ee.exp_nspsytune|C<<2}return B!=0?Ee.quant_comp=et[I].quant_comp:Math.abs(Ee.quant_comp- -1)>0||(Ee.quant_comp=et[I].quant_comp),B!=0?Ee.quant_comp_short=et[I].quant_comp_s:Math.abs(Ee.quant_comp_short- -1)>0||(Ee.quant_comp_short=et[I].quant_comp_s),B!=0?Ee.msfix=et[I].nsmsfix:Math.abs(Ee.msfix- -1)>0||(Ee.msfix=et[I].nsmsfix),B!=0?Ee.internal_flags.nsPsy.attackthre=et[I].st_lrm:Math.abs(Ee.internal_flags.nsPsy.attackthre- -1)>0||(Ee.internal_flags.nsPsy.attackthre=et[I].st_lrm),B!=0?Ee.internal_flags.nsPsy.attackthre_s=et[I].st_s:Math.abs(Ee.internal_flags.nsPsy.attackthre_s- -1)>0||(Ee.internal_flags.nsPsy.attackthre_s=et[I].st_s),B!=0?Ee.scale=et[I].scale:Math.abs(Ee.scale- -1)>0||(Ee.scale=et[I].scale),B!=0?Ee.maskingadjust=et[I].masking_adj:Math.abs(Ee.maskingadjust-0)>0||(Ee.maskingadjust=et[I].masking_adj),et[I].masking_adj>0?B!=0?Ee.maskingadjust_short=et[I].masking_adj*.9:Math.abs(Ee.maskingadjust_short-0)>0||(Ee.maskingadjust_short=et[I].masking_adj*.9):B!=0?Ee.maskingadjust_short=et[I].masking_adj*1.1:Math.abs(Ee.maskingadjust_short-0)>0||(Ee.maskingadjust_short=et[I].masking_adj*1.1),B!=0?Ee.ATHlower=-et[I].ath_lower/10:Math.abs(-Ee.ATHlower*10-0)>0||(Ee.ATHlower=-et[I].ath_lower/10),B!=0?Ee.ATHcurve=et[I].ath_curve:Math.abs(Ee.ATHcurve- -1)>0||(Ee.ATHcurve=et[I].ath_curve),B!=0?Ee.interChRatio=et[I].interch:Math.abs(Ee.interChRatio- -1)>0||(Ee.interChRatio=et[I].interch),we}this.apply_preset=function(Ee,we,B){switch(we){case Se.R3MIX:{we=Se.V3,Ee.VBR=i.vbr_mtrh;break}case Se.MEDIUM:{we=Se.V4,Ee.VBR=i.vbr_rh;break}case Se.MEDIUM_FAST:{we=Se.V4,Ee.VBR=i.vbr_mtrh;break}case Se.STANDARD:{we=Se.V2,Ee.VBR=i.vbr_rh;break}case Se.STANDARD_FAST:{we=Se.V2,Ee.VBR=i.vbr_mtrh;break}case Se.EXTREME:{we=Se.V0,Ee.VBR=i.vbr_rh;break}case Se.EXTREME_FAST:{we=Se.V0,Ee.VBR=i.vbr_mtrh;break}case Se.INSANE:return we=320,Ee.preset=we,ut(Ee,we,B),Ee.VBR=i.vbr_off,we}switch(Ee.preset=we,we){case Se.V9:return Ge(Ee,9,B),we;case Se.V8:return Ge(Ee,8,B),we;case Se.V7:return Ge(Ee,7,B),we;case Se.V6:return Ge(Ee,6,B),we;case Se.V5:return Ge(Ee,5,B),we;case Se.V4:return Ge(Ee,4,B),we;case Se.V3:return Ge(Ee,3,B),we;case Se.V2:return Ge(Ee,2,B),we;case Se.V1:return Ge(Ee,1,B),we;case Se.V0:return Ge(Ee,0,B),we}return 8<=we&&we<=320?ut(Ee,we,B):(Ee.preset=0,we)};function Be(Ee,we){var B=0;return 0>we&&(B=-1,we=0),9<we&&(B=-1,we=9),Ee.VBR_q=we,Ee.VBR_q_frac=0,B}}function b(){var se=null;this.qupvt=null,this.setModules=function(Y){this.qupvt=Y,se=Y};function Ne(Y){this.bits=0|Y}var Oe=[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,1],[1,1],[1,2],[2,2],[2,3],[2,3],[3,4],[3,4],[3,4],[4,5],[4,5],[4,6],[5,6],[5,6],[5,7],[6,7],[6,7]];function We(Y,q,J,de,ee,le){var be=.5946/q;for(Y=Y>>1;Y--!=0;)ee[le++]=be>J[de++]?0:1,ee[le++]=be>J[de++]?0:1}function Ke(Y,q,J,de,ee,le){Y=Y>>1;var be=Y%2;for(Y=Y>>1;Y--!=0;){var Ue,Je,Ye,rt,Z,he,pt,_t;Ue=J[de++]*q,Je=J[de++]*q,Z=0|Ue,Ye=J[de++]*q,he=0|Je,rt=J[de++]*q,pt=0|Ye,Ue+=se.adj43[Z],_t=0|rt,Je+=se.adj43[he],ee[le++]=0|Ue,Ye+=se.adj43[pt],ee[le++]=0|Je,rt+=se.adj43[_t],ee[le++]=0|Ye,ee[le++]=0|rt}if(be!=0){var Ue,Je,Z,he;Ue=J[de++]*q,Je=J[de++]*q,Z=0|Ue,he=0|Je,Ue+=se.adj43[Z],Je+=se.adj43[he],ee[le++]=0|Ue,ee[le++]=0|Je}}function Ge(Y,q,J,de,ee){var le,be,Ue=0,Je,Ye=0,rt=0,Z=0,he=q,pt=0,_t=he,kt=0,Dt=Y,Pt=0;for(Je=ee!=null&&de.global_gain==ee.global_gain,de.block_type==j.SHORT_TYPE?be=38:be=21,le=0;le<=be;le++){var Ae=-1;if((Je||de.block_type==j.NORM_TYPE)&&(Ae=de.global_gain-(de.scalefac[le]+(de.preflag!=0?se.pretab[le]:0)<<de.scalefac_scale+1)-de.subblock_gain[de.window[le]]*8),Je&&ee.step[le]==Ae)Ye!=0&&(Ke(Ye,J,Dt,Pt,_t,kt),Ye=0),rt!=0&&(We(rt,J,Dt,Pt,_t,kt),rt=0);else{var mt=de.width[le];if(Ue+de.width[le]>de.max_nonzero_coeff){var gt;gt=de.max_nonzero_coeff-Ue+1,c.fill(q,de.max_nonzero_coeff,576,0),mt=gt,mt<0&&(mt=0),le=be+1}if(Ye==0&&rt==0&&(_t=he,kt=pt,Dt=Y,Pt=Z),ee!=null&&ee.sfb_count1>0&&le>=ee.sfb_count1&&ee.step[le]>0&&Ae>=ee.step[le]?(Ye!=0&&(Ke(Ye,J,Dt,Pt,_t,kt),Ye=0,_t=he,kt=pt,Dt=Y,Pt=Z),rt+=mt):(rt!=0&&(We(rt,J,Dt,Pt,_t,kt),rt=0,_t=he,kt=pt,Dt=Y,Pt=Z),Ye+=mt),mt<=0){rt!=0&&(We(rt,J,Dt,Pt,_t,kt),rt=0),Ye!=0&&(Ke(Ye,J,Dt,Pt,_t,kt),Ye=0);break}}le<=be&&(pt+=de.width[le],Z+=de.width[le],Ue+=de.width[le])}Ye!=0&&(Ke(Ye,J,Dt,Pt,_t,kt),Ye=0),rt!=0&&(We(rt,J,Dt,Pt,_t,kt),rt=0)}function et(Y,q,J){var de=0,ee=0;do{var le=Y[q++],be=Y[q++];de<le&&(de=le),ee<be&&(ee=be)}while(q<J);return de<ee&&(de=ee),de}function ut(Y,q,J,de,ee,le){var be=M.ht[de].xlen*65536+M.ht[ee].xlen,Ue=0,Je;do{var Ye=Y[q++],rt=Y[q++];Ye!=0&&(Ye>14&&(Ye=15,Ue+=be),Ye*=16),rt!=0&&(rt>14&&(rt=15,Ue+=be),Ye+=rt),Ue+=M.largetbl[Ye]}while(q<J);return Je=Ue&65535,Ue>>=16,Ue>Je&&(Ue=Je,de=ee),le.bits+=Ue,de}function Be(Y,q,J,de){var ee=0,le=M.ht[1].hlen;do{var be=Y[q+0]*2+Y[q+1];q+=2,ee+=le[be]}while(q<J);return de.bits+=ee,1}function Ee(Y,q,J,de,ee){var le=0,be,Ue=M.ht[de].xlen,Je;de==2?Je=M.table23:Je=M.table56;do{var Ye=Y[q+0]*Ue+Y[q+1];q+=2,le+=Je[Ye]}while(q<J);return be=le&65535,le>>=16,le>be&&(le=be,de++),ee.bits+=le,de}function we(Y,q,J,de,ee){var le=0,be=0,Ue=0,Je=M.ht[de].xlen,Ye=M.ht[de].hlen,rt=M.ht[de+1].hlen,Z=M.ht[de+2].hlen;do{var he=Y[q+0]*Je+Y[q+1];q+=2,le+=Ye[he],be+=rt[he],Ue+=Z[he]}while(q<J);var pt=de;return le>be&&(le=be,pt++),le>Ue&&(le=Ue,pt=de+2),ee.bits+=le,pt}var B=[1,2,5,7,7,10,10,13,13,13,13,13,13,13,13];function G(Y,q,J,de){var ee=et(Y,q,J);switch(ee){case 0:return ee;case 1:return Be(Y,q,J,de);case 2:case 3:return Ee(Y,q,J,B[ee-1],de);case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:return we(Y,q,J,B[ee-1],de);default:if(ee>Q.IXMAX_VAL)return de.bits=Q.LARGE_BITS,-1;ee-=15;var le;for(le=24;le<32&&!(M.ht[le].linmax>=ee);le++);var be;for(be=le-8;be<24&&!(M.ht[be].linmax>=ee);be++);return ut(Y,q,J,be,le,de)}}this.noquant_count_bits=function(Y,q,J){var de=q.l3_enc,ee=Math.min(576,q.max_nonzero_coeff+2>>1<<1);for(J!=null&&(J.sfb_count1=0);ee>1&&(de[ee-1]|de[ee-2])==0;ee-=2);q.count1=ee;for(var le=0,be=0;ee>3;ee-=4){var Ue;if(((de[ee-1]|de[ee-2]|de[ee-3]|de[ee-4])&2147483647)>1)break;Ue=((de[ee-4]*2+de[ee-3])*2+de[ee-2])*2+de[ee-1],le+=M.t32l[Ue],be+=M.t33l[Ue]}var Je=le;if(q.count1table_select=0,le>be&&(Je=be,q.count1table_select=1),q.count1bits=Je,q.big_values=ee,ee==0)return Je;if(q.block_type==j.SHORT_TYPE)le=3*Y.scalefac_band.s[3],le>q.big_values&&(le=q.big_values),be=q.big_values;else if(q.block_type==j.NORM_TYPE){if(le=q.region0_count=Y.bv_scf[ee-2],be=q.region1_count=Y.bv_scf[ee-1],be=Y.scalefac_band.l[le+be+2],le=Y.scalefac_band.l[le+1],be<ee){var Ye=new Ne(Je);q.table_select[2]=G(de,be,ee,Ye),Je=Ye.bits}}else q.region0_count=7,q.region1_count=j.SBMAX_l-1-7-1,le=Y.scalefac_band.l[7+1],be=ee,le>be&&(le=be);if(le=Math.min(le,ee),be=Math.min(be,ee),0<le){var Ye=new Ne(Je);q.table_select[0]=G(de,0,le,Ye),Je=Ye.bits}if(le<be){var Ye=new Ne(Je);q.table_select[1]=G(de,le,be,Ye),Je=Ye.bits}if(Y.use_best_huffman==2&&(q.part2_3_length=Je,best_huffman_divide(Y,q),Je=q.part2_3_length),J!=null&&q.block_type==j.NORM_TYPE){for(var rt=0;Y.scalefac_band.l[rt]<q.big_values;)rt++;J.sfb_count1=rt}return Je},this.count_bits=function(Y,q,J,de){var ee=J.l3_enc,le=Q.IXMAX_VAL/se.IPOW20(J.global_gain);if(J.xrpow_max>le)return Q.LARGE_BITS;if(Ge(q,ee,se.IPOW20(J.global_gain),J,de),(Y.substep_shaping&2)!=0)for(var be=0,Ue=J.global_gain+J.scalefac_scale,Je=.634521682242439/se.IPOW20(Ue),Ye=0;Ye<J.sfbmax;Ye++){var rt=J.width[Ye];if(Y.pseudohalf[Ye]==0)be+=rt;else{var Z;for(Z=be,be+=rt;Z<be;++Z)ee[Z]=q[Z]>=Je?ee[Z]:0}}return this.noquant_count_bits(Y,J,de)};function I(Y,q,J,de,ee,le,be){for(var Ue=q.big_values,Je=0;Je<=7+15;Je++)de[Je]=Q.LARGE_BITS;for(var Je=0;Je<16;Je++){var Ye=Y.scalefac_band.l[Je+1];if(Ye>=Ue)break;var rt=0,Z=new Ne(rt),he=G(J,0,Ye,Z);rt=Z.bits;for(var pt=0;pt<8;pt++){var _t=Y.scalefac_band.l[Je+pt+2];if(_t>=Ue)break;var kt=rt;Z=new Ne(kt);var Dt=G(J,Ye,_t,Z);kt=Z.bits,de[Je+pt]>kt&&(de[Je+pt]=kt,ee[Je+pt]=Je,le[Je+pt]=he,be[Je+pt]=Dt)}}}function C(Y,q,J,de,ee,le,be,Ue){for(var Je=q.big_values,Ye=2;Ye<j.SBMAX_l+1;Ye++){var rt=Y.scalefac_band.l[Ye];if(rt>=Je)break;var Z=ee[Ye-2]+q.count1bits;if(J.part2_3_length<=Z)break;var he=new Ne(Z),pt=G(de,rt,Je,he);Z=he.bits,!(J.part2_3_length<=Z)&&(J.assign(q),J.part2_3_length=Z,J.region0_count=le[Ye-2],J.region1_count=Ye-2-le[Ye-2],J.table_select[0]=be[Ye-2],J.table_select[1]=Ue[Ye-2],J.table_select[2]=pt)}}this.best_huffman_divide=function(Y,q){var J=new te,de=q.l3_enc,ee=n(7+15+1),le=n(7+15+1),be=n(7+15+1),Ue=n(7+15+1);if(!(q.block_type==j.SHORT_TYPE&&Y.mode_gr==1)){J.assign(q),q.block_type==j.NORM_TYPE&&(I(Y,q,de,ee,le,be,Ue),C(Y,J,q,de,ee,le,be,Ue));var Je=J.big_values;if(!(Je==0||(de[Je-2]|de[Je-1])>1)&&(Je=q.count1+2,!(Je>576))){J.assign(q),J.count1=Je;for(var Ye=0,rt=0;Je>J.big_values;Je-=4){var Z=((de[Je-4]*2+de[Je-3])*2+de[Je-2])*2+de[Je-1];Ye+=M.t32l[Z],rt+=M.t33l[Z]}if(J.big_values=Je,J.count1table_select=0,Ye>rt&&(Ye=rt,J.count1table_select=1),J.count1bits=Ye,J.block_type==j.NORM_TYPE)C(Y,J,q,de,ee,le,be,Ue);else{if(J.part2_3_length=Ye,Ye=Y.scalefac_band.l[7+1],Ye>Je&&(Ye=Je),Ye>0){var he=new Ne(J.part2_3_length);J.table_select[0]=G(de,0,Ye,he),J.part2_3_length=he.bits}if(Je>Ye){var he=new Ne(J.part2_3_length);J.table_select[1]=G(de,Ye,Je,he),J.part2_3_length=he.bits}q.part2_3_length>J.part2_3_length&&q.assign(J)}}}};var ye=[1,1,1,1,8,2,2,2,4,4,4,8,8,8,16,16],ge=[1,2,4,8,1,2,4,8,2,4,8,2,4,8,4,8],_e=[0,0,0,0,3,1,1,1,2,2,2,3,3,3,4,4],H=[0,1,2,3,0,1,2,3,1,2,3,1,2,3,2,3];b.slen1_tab=_e,b.slen2_tab=H;function me(Y,q){for(var J,de=q.tt[1][Y],ee=q.tt[0][Y],le=0;le<M.scfsi_band.length-1;le++){for(J=M.scfsi_band[le];J<M.scfsi_band[le+1]&&!(ee.scalefac[J]!=de.scalefac[J]&&de.scalefac[J]>=0);J++);if(J==M.scfsi_band[le+1]){for(J=M.scfsi_band[le];J<M.scfsi_band[le+1];J++)de.scalefac[J]=-1;q.scfsi[Y][le]=1}}var be=0,Ue=0;for(J=0;J<11;J++)de.scalefac[J]!=-1&&(Ue++,be<de.scalefac[J]&&(be=de.scalefac[J]));for(var Je=0,Ye=0;J<j.SBPSY_l;J++)de.scalefac[J]!=-1&&(Ye++,Je<de.scalefac[J]&&(Je=de.scalefac[J]));for(var le=0;le<16;le++)if(be<ye[le]&&Je<ge[le]){var rt=_e[le]*Ue+H[le]*Ye;de.part2_length>rt&&(de.part2_length=rt,de.scalefac_compress=le)}}this.best_scalefac_store=function(Y,q,J,de){var ee=de.tt[q][J],le,be,Ue,Je,Ye=0;for(Ue=0,le=0;le<ee.sfbmax;le++){var rt=ee.width[le];for(Ue+=rt,Je=-rt;Je<0&&ee.l3_enc[Je+Ue]==0;Je++);Je==0&&(ee.scalefac[le]=Ye=-2)}if(ee.scalefac_scale==0&&ee.preflag==0){var Z=0;for(le=0;le<ee.sfbmax;le++)ee.scalefac[le]>0&&(Z|=ee.scalefac[le]);if((Z&1)==0&&Z!=0){for(le=0;le<ee.sfbmax;le++)ee.scalefac[le]>0&&(ee.scalefac[le]>>=1);ee.scalefac_scale=Ye=1}}if(ee.preflag==0&&ee.block_type!=j.SHORT_TYPE&&Y.mode_gr==2){for(le=11;le<j.SBPSY_l&&!(ee.scalefac[le]<se.pretab[le]&&ee.scalefac[le]!=-2);le++);if(le==j.SBPSY_l){for(le=11;le<j.SBPSY_l;le++)ee.scalefac[le]>0&&(ee.scalefac[le]-=se.pretab[le]);ee.preflag=Ye=1}}for(be=0;be<4;be++)de.scfsi[J][be]=0;for(Y.mode_gr==2&&q==1&&de.tt[0][J].block_type!=j.SHORT_TYPE&&de.tt[1][J].block_type!=j.SHORT_TYPE&&(me(J,de),Ye=0),le=0;le<ee.sfbmax;le++)ee.scalefac[le]==-2&&(ee.scalefac[le]=0);Ye!=0&&(Y.mode_gr==2?this.scale_bitcount(ee):this.scale_bitcount_lsf(Y,ee))};var je=[0,18,36,54,54,36,54,72,54,72,90,72,90,108,108,126],fe=[0,18,36,54,51,35,53,71,52,70,88,69,87,105,104,122],Re=[0,10,20,30,33,21,31,41,32,42,52,43,53,63,64,74];this.scale_bitcount=function(Y){var q,J,de=0,ee=0,le,be=Y.scalefac;if(Y.block_type==j.SHORT_TYPE)le=je,Y.mixed_block_flag!=0&&(le=fe);else if(le=Re,Y.preflag==0){for(J=11;J<j.SBPSY_l&&!(be[J]<se.pretab[J]);J++);if(J==j.SBPSY_l)for(Y.preflag=1,J=11;J<j.SBPSY_l;J++)be[J]-=se.pretab[J]}for(J=0;J<Y.sfbdivide;J++)de<be[J]&&(de=be[J]);for(;J<Y.sfbmax;J++)ee<be[J]&&(ee=be[J]);for(Y.part2_length=Q.LARGE_BITS,q=0;q<16;q++)de<ye[q]&&ee<ge[q]&&Y.part2_length>le[q]&&(Y.part2_length=le[q],Y.scalefac_compress=q);return Y.part2_length==Q.LARGE_BITS};var X=[[15,15,7,7],[15,15,7,0],[7,3,0,0],[15,31,31,0],[7,7,7,0],[3,3,0,0]];this.scale_bitcount_lsf=function(Y,q){var J,de,ee,le,be,Ue,Je,Ye,rt=n(4),Z=q.scalefac;for(q.preflag!=0?J=2:J=0,Je=0;Je<4;Je++)rt[Je]=0;if(q.block_type==j.SHORT_TYPE){de=1;var he=se.nr_of_sfb_block[J][de];for(Ye=0,ee=0;ee<4;ee++)for(le=he[ee]/3,Je=0;Je<le;Je++,Ye++)for(be=0;be<3;be++)Z[Ye*3+be]>rt[ee]&&(rt[ee]=Z[Ye*3+be])}else{de=0;var he=se.nr_of_sfb_block[J][de];for(Ye=0,ee=0;ee<4;ee++)for(le=he[ee],Je=0;Je<le;Je++,Ye++)Z[Ye]>rt[ee]&&(rt[ee]=Z[Ye])}for(Ue=!1,ee=0;ee<4;ee++)rt[ee]>X[J][ee]&&(Ue=!0);if(!Ue){var pt,_t,kt,Dt;for(q.sfb_partition_table=se.nr_of_sfb_block[J][de],ee=0;ee<4;ee++)q.slen[ee]=pe[rt[ee]];switch(pt=q.slen[0],_t=q.slen[1],kt=q.slen[2],Dt=q.slen[3],J){case 0:q.scalefac_compress=(pt*5+_t<<4)+(kt<<2)+Dt;break;case 1:q.scalefac_compress=400+(pt*5+_t<<2)+kt;break;case 2:q.scalefac_compress=500+pt*3+_t;break;default:m.err.printf(`intensity stereo not implemented yet
`);break}}if(!Ue)for(q.part2_length=0,ee=0;ee<4;ee++)q.part2_length+=q.slen[ee]*q.sfb_partition_table[ee];return Ue};var pe=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4];this.huffman_init=function(Y){for(var q=2;q<=576;q+=2){for(var J=0,de;Y.scalefac_band.l[++J]<q;);for(de=Oe[J][0];Y.scalefac_band.l[de+1]>q;)de--;for(de<0&&(de=Oe[J][0]),Y.bv_scf[q-2]=de,de=Oe[J][1];Y.scalefac_band.l[de+Y.bv_scf[q-2]+2]>q;)de--;de<0&&(de=Oe[J][1]),Y.bv_scf[q-1]=de}}}function w(){var se;this.setModules=function(Ne){se=Ne},this.ResvFrameBegin=function(Ne,Oe){var We=Ne.internal_flags,Ke,Ge=We.l3_side,et=se.getframebits(Ne);Oe.bits=(et-We.sideinfo_len*8)/We.mode_gr;var ut=8*256*We.mode_gr-8;Ne.brate>320?Ke=8*int(Ne.brate*1e3/(Ne.out_samplerate/1152)/8+.5):(Ke=8*1440,Ne.strict_ISO&&(Ke=8*int(32e4/(Ne.out_samplerate/1152)/8+.5))),We.ResvMax=Ke-et,We.ResvMax>ut&&(We.ResvMax=ut),(We.ResvMax<0||Ne.disable_reservoir)&&(We.ResvMax=0);var Be=Oe.bits*We.mode_gr+Math.min(We.ResvSize,We.ResvMax);return Be>Ke&&(Be=Ke),Ge.resvDrain_pre=0,We.pinfo!=null&&(We.pinfo.mean_bits=Oe.bits/2,We.pinfo.resvsize=We.ResvSize),Be},this.ResvMaxBits=function(Ne,Oe,We,Ke){var Ge=Ne.internal_flags,et,ut=Ge.ResvSize,Be=Ge.ResvMax;Ke!=0&&(ut+=Oe),(Ge.substep_shaping&1)!=0&&(Be*=.9),We.bits=Oe,ut*10>Be*9?(et=ut-Be*9/10,We.bits+=et,Ge.substep_shaping|=128):(et=0,Ge.substep_shaping&=127,!Ne.disable_reservoir&&(Ge.substep_shaping&1)==0&&(We.bits-=.1*Oe));var Ee=ut<Ge.ResvMax*6/10?ut:Ge.ResvMax*6/10;return Ee-=et,Ee<0&&(Ee=0),Ee},this.ResvAdjust=function(Ne,Oe){Ne.ResvSize-=Oe.part2_3_length+Oe.part2_length},this.ResvFrameEnd=function(Ne,Oe){var We,Ke=Ne.l3_side;Ne.ResvSize+=Oe*Ne.mode_gr;var Ge=0;Ke.resvDrain_post=0,Ke.resvDrain_pre=0,(We=Ne.ResvSize%8)!=0&&(Ge+=We),We=Ne.ResvSize-Ge-Ne.ResvMax,We>0&&(Ge+=We);{var et=Math.min(Ke.main_data_begin*8,Ge)/8;Ke.resvDrain_pre+=8*et,Ge-=8*et,Ne.ResvSize-=8*et,Ke.main_data_begin-=et}Ke.resvDrain_post+=Ge,Ne.ResvSize-=Ge}}x.EQ=function(se,Ne){return Math.abs(se)>Math.abs(Ne)?Math.abs(se-Ne)<=Math.abs(se)*1e-6:Math.abs(se-Ne)<=Math.abs(Ne)*1e-6},x.NEQ=function(se,Ne){return!x.EQ(se,Ne)};function x(){var se=this,Ne=32773,Oe=null,We=null,Ke=null,Ge=null;this.setModules=function(pe,Y,q,J){Oe=pe,We=Y,Ke=q,Ge=J};var et=null,ut=0,Be=0,Ee=0;this.getframebits=function(pe){var Y=pe.internal_flags,q;Y.bitrate_index!=0?q=M.bitrate_table[pe.version][Y.bitrate_index]:q=pe.brate;var J=0|(pe.version+1)*72e3*q/pe.out_samplerate+Y.padding;return 8*J};function we(pe){m.arraycopy(pe.header[pe.w_ptr].buf,0,et,Be,pe.sideinfo_len),Be+=pe.sideinfo_len,ut+=pe.sideinfo_len*8,pe.w_ptr=pe.w_ptr+1&Te.MAX_HEADER_BUF-1}function B(pe,Y,q){for(;q>0;){var J;Ee==0&&(Ee=8,Be++,pe.header[pe.w_ptr].write_timing==ut&&we(pe),et[Be]=0),J=Math.min(q,Ee),q-=J,Ee-=J,et[Be]|=Y>>q<<Ee,ut+=J}}function G(pe,Y,q){for(;q>0;){var J;Ee==0&&(Ee=8,Be++,et[Be]=0),J=Math.min(q,Ee),q-=J,Ee-=J,et[Be]|=Y>>q<<Ee,ut+=J}}function I(pe,Y){var q=pe.internal_flags,J;if(Y>=8&&(B(q,76,8),Y-=8),Y>=8&&(B(q,65,8),Y-=8),Y>=8&&(B(q,77,8),Y-=8),Y>=8&&(B(q,69,8),Y-=8),Y>=32){var de=Ke.getLameShortVersion();if(Y>=32)for(J=0;J<de.length&&Y>=8;++J)Y-=8,B(q,de.charAt(J),8)}for(;Y>=1;Y-=1)B(q,q.ancillary_flag,1),q.ancillary_flag^=pe.disable_reservoir?0:1}function C(pe,Y,q){for(var J=pe.header[pe.h_ptr].ptr;q>0;){var de=Math.min(q,8-(J&7));q-=de,pe.header[pe.h_ptr].buf[J>>3]|=Y>>q<<8-(J&7)-de,J+=de}pe.header[pe.h_ptr].ptr=J}function ye(pe,Y){pe<<=8;for(var q=0;q<8;q++)pe<<=1,Y<<=1,((Y^pe)&65536)!=0&&(Y^=Ne);return Y}this.CRC_writeheader=function(pe,Y){var q=65535;q=ye(Y[2]&255,q),q=ye(Y[3]&255,q);for(var J=6;J<pe.sideinfo_len;J++)q=ye(Y[J]&255,q);Y[4]=byte(q>>8),Y[5]=byte(q&255)};function ge(pe,Y){var q=pe.internal_flags,J,de,ee;if(J=q.l3_side,q.header[q.h_ptr].ptr=0,c.fill(q.header[q.h_ptr].buf,0,q.sideinfo_len,0),pe.out_samplerate<16e3?C(q,4094,12):C(q,4095,12),C(q,pe.version,1),C(q,4-3,2),C(q,pe.error_protection?0:1,1),C(q,q.bitrate_index,4),C(q,q.samplerate_index,2),C(q,q.padding,1),C(q,pe.extension,1),C(q,pe.mode.ordinal(),2),C(q,q.mode_ext,2),C(q,pe.copyright,1),C(q,pe.original,1),C(q,pe.emphasis,2),pe.error_protection&&C(q,0,16),pe.version==1){for(C(q,J.main_data_begin,9),q.channels_out==2?C(q,J.private_bits,3):C(q,J.private_bits,5),ee=0;ee<q.channels_out;ee++){var le;for(le=0;le<4;le++)C(q,J.scfsi[ee][le],1)}for(de=0;de<2;de++)for(ee=0;ee<q.channels_out;ee++){var be=J.tt[de][ee];C(q,be.part2_3_length+be.part2_length,12),C(q,be.big_values/2,9),C(q,be.global_gain,8),C(q,be.scalefac_compress,4),be.block_type!=j.NORM_TYPE?(C(q,1,1),C(q,be.block_type,2),C(q,be.mixed_block_flag,1),be.table_select[0]==14&&(be.table_select[0]=16),C(q,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),C(q,be.table_select[1],5),C(q,be.subblock_gain[0],3),C(q,be.subblock_gain[1],3),C(q,be.subblock_gain[2],3)):(C(q,0,1),be.table_select[0]==14&&(be.table_select[0]=16),C(q,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),C(q,be.table_select[1],5),be.table_select[2]==14&&(be.table_select[2]=16),C(q,be.table_select[2],5),C(q,be.region0_count,4),C(q,be.region1_count,3)),C(q,be.preflag,1),C(q,be.scalefac_scale,1),C(q,be.count1table_select,1)}}else for(C(q,J.main_data_begin,8),C(q,J.private_bits,q.channels_out),de=0,ee=0;ee<q.channels_out;ee++){var be=J.tt[de][ee];C(q,be.part2_3_length+be.part2_length,12),C(q,be.big_values/2,9),C(q,be.global_gain,8),C(q,be.scalefac_compress,9),be.block_type!=j.NORM_TYPE?(C(q,1,1),C(q,be.block_type,2),C(q,be.mixed_block_flag,1),be.table_select[0]==14&&(be.table_select[0]=16),C(q,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),C(q,be.table_select[1],5),C(q,be.subblock_gain[0],3),C(q,be.subblock_gain[1],3),C(q,be.subblock_gain[2],3)):(C(q,0,1),be.table_select[0]==14&&(be.table_select[0]=16),C(q,be.table_select[0],5),be.table_select[1]==14&&(be.table_select[1]=16),C(q,be.table_select[1],5),be.table_select[2]==14&&(be.table_select[2]=16),C(q,be.table_select[2],5),C(q,be.region0_count,4),C(q,be.region1_count,3)),C(q,be.scalefac_scale,1),C(q,be.count1table_select,1)}pe.error_protection&&CRC_writeheader(q,q.header[q.h_ptr].buf);{var Ue=q.h_ptr;q.h_ptr=Ue+1&Te.MAX_HEADER_BUF-1,q.header[q.h_ptr].write_timing=q.header[Ue].write_timing+Y,q.h_ptr==q.w_ptr&&m.err.println(`Error: MAX_HEADER_BUF too small in bitstream.c 
`)}}function _e(pe,Y){var q=M.ht[Y.count1table_select+32],J,de=0,ee=Y.big_values,le=Y.big_values;for(J=(Y.count1-Y.big_values)/4;J>0;--J){var be=0,Ue=0,Je;Je=Y.l3_enc[ee+0],Je!=0&&(Ue+=8,Y.xr[le+0]<0&&be++),Je=Y.l3_enc[ee+1],Je!=0&&(Ue+=4,be*=2,Y.xr[le+1]<0&&be++),Je=Y.l3_enc[ee+2],Je!=0&&(Ue+=2,be*=2,Y.xr[le+2]<0&&be++),Je=Y.l3_enc[ee+3],Je!=0&&(Ue++,be*=2,Y.xr[le+3]<0&&be++),ee+=4,le+=4,B(pe,be+q.table[Ue],q.hlen[Ue]),de+=q.hlen[Ue]}return de}function H(pe,Y,q,J,de){var ee=M.ht[Y],le=0;if(Y==0)return le;for(var be=q;be<J;be+=2){var Ue=0,Je=0,Ye=ee.xlen,rt=ee.xlen,Z=0,he=de.l3_enc[be],pt=de.l3_enc[be+1];if(he!=0&&(de.xr[be]<0&&Z++,Ue--),Y>15){if(he>14){var _t=he-15;Z|=_t<<1,Je=Ye,he=15}if(pt>14){var kt=pt-15;Z<<=Ye,Z|=kt,Je+=Ye,pt=15}rt=16}pt!=0&&(Z<<=1,de.xr[be+1]<0&&Z++,Ue--),he=he*rt+pt,Je-=Ue,Ue+=ee.hlen[he],B(pe,ee.table[he],Ue),B(pe,Z,Je),le+=Ue+Je}return le}function me(pe,Y){var q=3*pe.scalefac_band.s[3];q>Y.big_values&&(q=Y.big_values);var J=H(pe,Y.table_select[0],0,q,Y);return J+=H(pe,Y.table_select[1],q,Y.big_values,Y),J}function je(pe,Y){var q,J,de,ee;q=Y.big_values;var le=Y.region0_count+1;return de=pe.scalefac_band.l[le],le+=Y.region1_count+1,ee=pe.scalefac_band.l[le],de>q&&(de=q),ee>q&&(ee=q),J=H(pe,Y.table_select[0],0,de,Y),J+=H(pe,Y.table_select[1],de,ee,Y),J+=H(pe,Y.table_select[2],ee,q,Y),J}function fe(pe){var Y,q,J,de,ee=0,le=pe.internal_flags,be=le.l3_side;if(pe.version==1)for(Y=0;Y<2;Y++)for(q=0;q<le.channels_out;q++){var Ue=be.tt[Y][q],Je=b.slen1_tab[Ue.scalefac_compress],Ye=b.slen2_tab[Ue.scalefac_compress];for(de=0,J=0;J<Ue.sfbdivide;J++)Ue.scalefac[J]!=-1&&(B(le,Ue.scalefac[J],Je),de+=Je);for(;J<Ue.sfbmax;J++)Ue.scalefac[J]!=-1&&(B(le,Ue.scalefac[J],Ye),de+=Ye);Ue.block_type==j.SHORT_TYPE?de+=me(le,Ue):de+=je(le,Ue),de+=_e(le,Ue),ee+=de}else for(Y=0,q=0;q<le.channels_out;q++){var Ue=be.tt[Y][q],rt,Z,he=0;if(de=0,J=0,Z=0,Ue.block_type==j.SHORT_TYPE){for(;Z<4;Z++){var pt=Ue.sfb_partition_table[Z]/3,_t=Ue.slen[Z];for(rt=0;rt<pt;rt++,J++)B(le,Math.max(Ue.scalefac[J*3+0],0),_t),B(le,Math.max(Ue.scalefac[J*3+1],0),_t),B(le,Math.max(Ue.scalefac[J*3+2],0),_t),he+=3*_t}de+=me(le,Ue)}else{for(;Z<4;Z++){var pt=Ue.sfb_partition_table[Z],_t=Ue.slen[Z];for(rt=0;rt<pt;rt++,J++)B(le,Math.max(Ue.scalefac[J],0),_t),he+=_t}de+=je(le,Ue)}de+=_e(le,Ue),ee+=he+de}return ee}function Re(){this.total=0}function X(pe,Y){var q=pe.internal_flags,J,de,ee,le,be;return be=q.w_ptr,le=q.h_ptr-1,le==-1&&(le=Te.MAX_HEADER_BUF-1),J=q.header[le].write_timing-ut,Y.total=J,J>=0&&(de=1+le-be,le<be&&(de=1+le-be+Te.MAX_HEADER_BUF),J-=de*8*q.sideinfo_len),ee=se.getframebits(pe),J+=ee,Y.total+=ee,Y.total%8!=0?Y.total=1+Y.total/8:Y.total=Y.total/8,Y.total+=Be+1,J<0&&m.err.println(`strange error flushing buffer ... 
`),J}this.flush_bitstream=function(pe){var Y=pe.internal_flags,q,J;if(Y.h_ptr-1,q=Y.l3_side,!((J=X(pe,new Re))<0)){if(I(pe,J),Y.ResvSize=0,q.main_data_begin=0,Y.findReplayGain){var de=Oe.GetTitleGain(Y.rgdata);Y.RadioGain=Math.floor(de*10+.5)|0}Y.findPeakSample&&(Y.noclipGainChange=Math.ceil(Math.log10(Y.PeakSample/32767)*20*10)|0,Y.noclipGainChange>0&&(EQ(pe.scale,1)||EQ(pe.scale,0))?Y.noclipScale=Math.floor(32767/Y.PeakSample*100)/100:Y.noclipScale=-1)}},this.add_dummy_byte=function(pe,Y,q){for(var J=pe.internal_flags,de;q-- >0;)for(G(J,Y,8),de=0;de<Te.MAX_HEADER_BUF;++de)J.header[de].write_timing+=8},this.format_bitstream=function(pe){var Y=pe.internal_flags,q;q=Y.l3_side;var J=this.getframebits(pe);I(pe,q.resvDrain_pre),ge(pe,J);var de=8*Y.sideinfo_len;if(de+=fe(pe),I(pe,q.resvDrain_post),de+=q.resvDrain_post,q.main_data_begin+=(J-de)/8,X(pe,new Re)!=Y.ResvSize&&m.err.println("Internal buffer inconsistency. flushbits <> ResvSize"),q.main_data_begin*8!=Y.ResvSize&&(m.err.printf(`bit reservoir error: 
l3_side.main_data_begin: %d 
Resvoir size:             %d 
resv drain (post)         %d 
resv drain (pre)          %d 
header and sideinfo:      %d 
data bits:                %d 
total bits:               %d (remainder: %d) 
bitsperframe:             %d 
`,8*q.main_data_begin,Y.ResvSize,q.resvDrain_post,q.resvDrain_pre,8*Y.sideinfo_len,de-q.resvDrain_post-8*Y.sideinfo_len,de,de%8,J),m.err.println("This is a fatal error.  It has several possible causes:"),m.err.println("90%%  LAME compiled with buggy version of gcc using advanced optimizations"),m.err.println(" 9%%  Your system is overclocked"),m.err.println(" 1%%  bug in LAME encoding library"),Y.ResvSize=q.main_data_begin*8),ut>1e9){var ee;for(ee=0;ee<Te.MAX_HEADER_BUF;++ee)Y.header[ee].write_timing-=ut;ut=0}return 0},this.copy_buffer=function(pe,Y,q,J,de){var ee=Be+1;if(ee<=0)return 0;if(J!=0&&ee>J)return-1;if(m.arraycopy(et,0,Y,q,ee),Be=-1,Ee=0,de!=0){var le=n(1);if(le[0]=pe.nMusicCRC,Ge.updateMusicCRC(le,Y,q,ee),pe.nMusicCRC=le[0],ee>0&&(pe.VBR_seek_table.nBytesWritten+=ee),pe.decode_on_the_fly){for(var be=f([2,1152]),Ue=ee,Je=-1,Ye;Je!=0;)if(Je=We.hip_decode1_unclipped(pe.hip,Y,q,Ue,be[0],be[1]),Ue=0,Je==-1&&(Je=0),Je>0){if(pe.findPeakSample){for(Ye=0;Ye<Je;Ye++)be[0][Ye]>pe.PeakSample?pe.PeakSample=be[0][Ye]:-be[0][Ye]>pe.PeakSample&&(pe.PeakSample=-be[0][Ye]);if(pe.channels_out>1)for(Ye=0;Ye<Je;Ye++)be[1][Ye]>pe.PeakSample?pe.PeakSample=be[1][Ye]:-be[1][Ye]>pe.PeakSample&&(pe.PeakSample=-be[1][Ye])}if(pe.findReplayGain&&Oe.AnalyzeSamples(pe.rgdata,be[0],0,be[1],0,Je,pe.channels_out)==g.GAIN_ANALYSIS_ERROR)return-6}}}return ee},this.init_bit_stream_w=function(pe){et=r(Se.LAME_MAXMP3BUFFER),pe.h_ptr=pe.w_ptr=0,pe.header[pe.h_ptr].write_timing=0,Be=-1,Ee=0,ut=0}}k.NUMTOCENTRIES=100,k.MAXFRAMESIZE=2880;function k(){var se,Ne,Oe;this.setModules=function(ee,le,be){se=ee,Ne=le,Oe=be};var We=1,Ke=2,Ge=4,et=8,ut=k.NUMTOCENTRIES,Be=k.MAXFRAMESIZE,Ee=ut+4+4+4+4+4,we=Ee+9+1+1+8+1+1+3+1+1+2+4+2+2,B=128,G=64,I=32,C=null,ye="Xing",ge="Info",_e=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];function H(ee,le){if(ee.nVbrNumFrames++,ee.sum+=le,ee.seen++,!(ee.seen<ee.want)&&(ee.pos<ee.size&&(ee.bag[ee.pos]=ee.sum,ee.pos++,ee.seen=0),ee.pos==ee.size)){for(var be=1;be<ee.size;be+=2)ee.bag[be/2]=ee.bag[be];ee.want*=2,ee.pos/=2}}function me(ee,le){if(!(ee.pos<=0))for(var be=1;be<ut;++be){var Ue=be/ut,Je,Ye,rt=0|Math.floor(Ue*ee.pos);rt>ee.pos-1&&(rt=ee.pos-1),Je=ee.bag[rt],Ye=ee.sum;var Z=0|256*Je/Ye;Z>255&&(Z=255),le[be]=255&Z}}this.addVbrFrame=function(ee){var le=ee.internal_flags,be=M.bitrate_table[ee.version][le.bitrate_index];H(le.VBR_seek_table,be)};function je(ee,le){var be=ee[le+0]&255;return be<<=8,be|=ee[le+1]&255,be<<=8,be|=ee[le+2]&255,be<<=8,be|=ee[le+3]&255,be}function fe(ee,le,be){ee[le+0]=255&(be>>24&255),ee[le+1]=255&(be>>16&255),ee[le+2]=255&(be>>8&255),ee[le+3]=255&(be&255)}function Re(ee,le,be){ee[le+0]=255&(be>>8&255),ee[le+1]=255&(be&255)}function X(ee,le){return new String(ee,le,ye.length(),C).equals(ye)||new String(ee,le,ge.length(),C).equals(ge)}function pe(ee,le,be){return 255&(ee<<le|be&~(-1<<le))}function Y(ee,le){var be=ee.internal_flags;le[0]=pe(le[0],8,255),le[1]=pe(le[1],3,7),le[1]=pe(le[1],1,ee.out_samplerate<16e3?0:1),le[1]=pe(le[1],1,ee.version),le[1]=pe(le[1],2,4-3),le[1]=pe(le[1],1,ee.error_protection?0:1),le[2]=pe(le[2],4,be.bitrate_index),le[2]=pe(le[2],2,be.samplerate_index),le[2]=pe(le[2],1,0),le[2]=pe(le[2],1,ee.extension),le[3]=pe(le[3],2,ee.mode.ordinal()),le[3]=pe(le[3],2,be.mode_ext),le[3]=pe(le[3],1,ee.copyright),le[3]=pe(le[3],1,ee.original),le[3]=pe(le[3],2,ee.emphasis),le[0]=255;var Ue=255&(le[1]&241),Je;ee.version==1?Je=B:ee.out_samplerate<16e3?Je=I:Je=G,ee.VBR==i.vbr_off&&(Je=ee.brate);var Ye;ee.free_format?Ye=0:Ye=255&16*se.BitrateIndex(Je,ee.version,ee.out_samplerate),ee.version==1?(le[1]=255&(Ue|10),Ue=255&(le[2]&13),le[2]=255&(Ye|Ue)):(le[1]=255&(Ue|2),Ue=255&(le[2]&13),le[2]=255&(Ye|Ue))}this.getVbrTag=function(ee){var le=new VBRTagData,be=0;le.flags=0;var Ue=ee[be+1]>>3&1,Je=ee[be+2]>>2&3,Ye=ee[be+3]>>6&3,rt=ee[be+2]>>4&15;if(rt=M.bitrate_table[Ue][rt],ee[be+1]>>4==14?le.samprate=M.samplerate_table[2][Je]:le.samprate=M.samplerate_table[Ue][Je],Ue!=0?Ye!=3?be+=32+4:be+=17+4:Ye!=3?be+=17+4:be+=9+4,!X(ee,be))return null;be+=4,le.hId=Ue;var Z=le.flags=je(ee,be);if(be+=4,(Z&We)!=0&&(le.frames=je(ee,be),be+=4),(Z&Ke)!=0&&(le.bytes=je(ee,be),be+=4),(Z&Ge)!=0){if(le.toc!=null)for(var he=0;he<ut;he++)le.toc[he]=ee[be+he];be+=ut}le.vbrScale=-1,(Z&et)!=0&&(le.vbrScale=je(ee,be),be+=4),le.headersize=(Ue+1)*72e3*rt/le.samprate,be+=21;var pt=ee[be+0]<<4;pt+=ee[be+1]>>4;var _t=(ee[be+1]&15)<<8;return _t+=ee[be+2]&255,(pt<0||pt>3e3)&&(pt=-1),(_t<0||_t>3e3)&&(_t=-1),le.encDelay=pt,le.encPadding=_t,le},this.InitVbrTag=function(ee){var le=ee.internal_flags,be;ee.version==1?be=B:ee.out_samplerate<16e3?be=I:be=G,ee.VBR==i.vbr_off&&(be=ee.brate);var Ue=(ee.version+1)*72e3*be/ee.out_samplerate,Je=le.sideinfo_len+we;if(le.VBR_seek_table.TotalFrameSize=Ue,Ue<Je||Ue>Be){ee.bWriteVbrTag=!1;return}le.VBR_seek_table.nVbrNumFrames=0,le.VBR_seek_table.nBytesWritten=0,le.VBR_seek_table.sum=0,le.VBR_seek_table.seen=0,le.VBR_seek_table.want=1,le.VBR_seek_table.pos=0,le.VBR_seek_table.bag==null&&(le.VBR_seek_table.bag=new int[400],le.VBR_seek_table.size=400);var Ye=r(Be);Y(ee,Ye);for(var rt=le.VBR_seek_table.TotalFrameSize,Z=0;Z<rt;++Z)Ne.add_dummy_byte(ee,Ye[Z]&255,1)};function q(ee,le){var be=le^ee;return le=le>>8^_e[be&255],le}this.updateMusicCRC=function(ee,le,be,Ue){for(var Je=0;Je<Ue;++Je)ee[0]=q(le[be+Je],ee[0])};function J(ee,le,be,Ue,Je){var Ye=ee.internal_flags,rt=0,Z=ee.encoder_delay,he=ee.encoder_padding,pt=100-10*ee.VBR_q-ee.quality,_t=Oe.getLameVeryShortVersion(),kt,Dt=0,Pt,Ae=[1,5,3,2,4,0,3],mt=0|(ee.lowpassfreq/100+.5>255?255:ee.lowpassfreq/100+.5),gt=0,tt=0,zt=0,xt=ee.internal_flags.noise_shaping,Gt=0,Ct=0,$t=0,At=0,lr=0,mr=(ee.exp_nspsytune&1)!=0,dr=(ee.exp_nspsytune&2)!=0,hr=!1,zr=!1,$r=ee.internal_flags.nogap_total,un=ee.internal_flags.nogap_current,fr=ee.ATHtype,Ls=0,Zr;switch(ee.VBR){case vbr_abr:Zr=ee.VBR_mean_bitrate_kbps;break;case vbr_off:Zr=ee.brate;break;default:Zr=ee.VBR_min_bitrate_kbps}switch(ee.VBR.ordinal()<Ae.length?kt=Ae[ee.VBR.ordinal()]:kt=0,Pt=16*Dt+kt,Ye.findReplayGain&&(Ye.RadioGain>510&&(Ye.RadioGain=510),Ye.RadioGain<-510&&(Ye.RadioGain=-510),tt=8192,tt|=3072,Ye.RadioGain>=0?tt|=Ye.RadioGain:(tt|=512,tt|=-Ye.RadioGain)),Ye.findPeakSample&&(gt=Math.abs(0|Ye.PeakSample/32767*Math.pow(2,23)+.5)),$r!=-1&&(un>0&&(zr=!0),un<$r-1&&(hr=!0)),Ls=fr+((mr?1:0)<<4)+((dr?1:0)<<5)+((hr?1:0)<<6)+((zr?1:0)<<7),pt<0&&(pt=0),ee.mode){case MONO:Gt=0;break;case STEREO:Gt=1;break;case DUAL_CHANNEL:Gt=2;break;case JOINT_STEREO:ee.force_ms?Gt=4:Gt=3;break;case NOT_SET:default:Gt=7;break}ee.in_samplerate<=32e3?$t=0:ee.in_samplerate==48e3?$t=2:ee.in_samplerate>48e3?$t=3:$t=1,(ee.short_blocks==a.short_block_forced||ee.short_blocks==a.short_block_dispensed||ee.lowpassfreq==-1&&ee.highpassfreq==-1||ee.scale_left<ee.scale_right||ee.scale_left>ee.scale_right||ee.disable_reservoir&&ee.brate<320||ee.noATH||ee.ATHonly||fr==0||ee.in_samplerate<=32e3)&&(Ct=1),At=xt+(Gt<<2)+(Ct<<5)+($t<<6),lr=Ye.nMusicCRC,fe(be,Ue+rt,pt),rt+=4;for(var rn=0;rn<9;rn++)be[Ue+rt+rn]=255&_t.charAt(rn);rt+=9,be[Ue+rt]=255&Pt,rt++,be[Ue+rt]=255&mt,rt++,fe(be,Ue+rt,gt),rt+=4,Re(be,Ue+rt,tt),rt+=2,Re(be,Ue+rt,zt),rt+=2,be[Ue+rt]=255&Ls,rt++,Zr>=255?be[Ue+rt]=255:be[Ue+rt]=255&Zr,rt++,be[Ue+rt]=255&Z>>4,be[Ue+rt+1]=255&(Z<<4)+(he>>8),be[Ue+rt+2]=255&he,rt+=3,be[Ue+rt]=255&At,rt++,be[Ue+rt++]=0,Re(be,Ue+rt,ee.preset),rt+=2,fe(be,Ue+rt,le),rt+=4,Re(be,Ue+rt,lr),rt+=2;for(var bs=0;bs<rt;bs++)Je=q(be[Ue+bs],Je);return Re(be,Ue+rt,Je),rt+=2,rt}function de(ee){ee.seek(0);var le=r(10);ee.readFully(le);var be;return new String(le,"ISO-8859-1").startsWith("ID3")?be=0:be=((le[6]&127)<<21|(le[7]&127)<<14|(le[8]&127)<<7|le[9]&127)+le.length,be}this.getLameTagFrame=function(ee,le){var be=ee.internal_flags;if(!ee.bWriteVbrTag||be.Class_ID!=Se.LAME_ID||be.VBR_seek_table.pos<=0)return 0;if(le.length<be.VBR_seek_table.TotalFrameSize)return be.VBR_seek_table.TotalFrameSize;c.fill(le,0,be.VBR_seek_table.TotalFrameSize,0),Y(ee,le);var Ue=r(ut);if(ee.free_format)for(var Je=1;Je<ut;++Je)Ue[Je]=255&255*Je/100;else me(be.VBR_seek_table,Ue);var Ye=be.sideinfo_len;ee.error_protection&&(Ye-=2),ee.VBR==i.vbr_off?(le[Ye++]=255&ge.charAt(0),le[Ye++]=255&ge.charAt(1),le[Ye++]=255&ge.charAt(2),le[Ye++]=255&ge.charAt(3)):(le[Ye++]=255&ye.charAt(0),le[Ye++]=255&ye.charAt(1),le[Ye++]=255&ye.charAt(2),le[Ye++]=255&ye.charAt(3)),fe(le,Ye,We+Ke+Ge+et),Ye+=4,fe(le,Ye,be.VBR_seek_table.nVbrNumFrames),Ye+=4;var rt=be.VBR_seek_table.nBytesWritten+be.VBR_seek_table.TotalFrameSize;fe(le,Ye,0|rt),Ye+=4,m.arraycopy(Ue,0,le,Ye,Ue.length),Ye+=Ue.length,ee.error_protection&&Ne.CRC_writeheader(be,le);for(var Z=0,Je=0;Je<Ye;Je++)Z=q(le[Je],Z);return Ye+=J(ee,rt,le,Ye,Z),be.VBR_seek_table.TotalFrameSize},this.putVbrTag=function(ee,le){var be=ee.internal_flags;if(be.VBR_seek_table.pos<=0||(le.seek(le.length()),le.length()==0))return-1;var Ue=de(le);le.seek(Ue);var Je=r(Be),Ye=getLameTagFrame(ee,Je);return Ye>Je.length?-1:(Ye<1||le.write(Je,0,Ye),0)}}function E(se,Ne,Oe,We){this.xlen=se,this.linmax=Ne,this.table=Oe,this.hlen=We}var M={};M.t1HB=[1,1,1,0],M.t2HB=[1,2,1,3,1,1,3,2,0],M.t3HB=[3,2,1,1,1,1,3,2,0],M.t5HB=[1,2,6,5,3,1,4,4,7,5,7,1,6,1,1,0],M.t6HB=[7,3,5,1,6,2,3,2,5,4,4,1,3,3,2,0],M.t7HB=[1,2,10,19,16,10,3,3,7,10,5,3,11,4,13,17,8,4,12,11,18,15,11,2,7,6,9,14,3,1,6,4,5,3,2,0],M.t8HB=[3,4,6,18,12,5,5,1,2,16,9,3,7,3,5,14,7,3,19,17,15,13,10,4,13,5,8,11,5,1,12,4,4,1,1,0],M.t9HB=[7,5,9,14,15,7,6,4,5,5,6,7,7,6,8,8,8,5,15,6,9,10,5,1,11,7,9,6,4,1,14,4,6,2,6,0],M.t10HB=[1,2,10,23,35,30,12,17,3,3,8,12,18,21,12,7,11,9,15,21,32,40,19,6,14,13,22,34,46,23,18,7,20,19,33,47,27,22,9,3,31,22,41,26,21,20,5,3,14,13,10,11,16,6,5,1,9,8,7,8,4,4,2,0],M.t11HB=[3,4,10,24,34,33,21,15,5,3,4,10,32,17,11,10,11,7,13,18,30,31,20,5,25,11,19,59,27,18,12,5,35,33,31,58,30,16,7,5,28,26,32,19,17,15,8,14,14,12,9,13,14,9,4,1,11,4,6,6,6,3,2,0],M.t12HB=[9,6,16,33,41,39,38,26,7,5,6,9,23,16,26,11,17,7,11,14,21,30,10,7,17,10,15,12,18,28,14,5,32,13,22,19,18,16,9,5,40,17,31,29,17,13,4,2,27,12,11,15,10,7,4,1,27,12,8,12,6,3,1,0],M.t13HB=[1,5,14,21,34,51,46,71,42,52,68,52,67,44,43,19,3,4,12,19,31,26,44,33,31,24,32,24,31,35,22,14,15,13,23,36,59,49,77,65,29,40,30,40,27,33,42,16,22,20,37,61,56,79,73,64,43,76,56,37,26,31,25,14,35,16,60,57,97,75,114,91,54,73,55,41,48,53,23,24,58,27,50,96,76,70,93,84,77,58,79,29,74,49,41,17,47,45,78,74,115,94,90,79,69,83,71,50,59,38,36,15,72,34,56,95,92,85,91,90,86,73,77,65,51,44,43,42,43,20,30,44,55,78,72,87,78,61,46,54,37,30,20,16,53,25,41,37,44,59,54,81,66,76,57,54,37,18,39,11,35,33,31,57,42,82,72,80,47,58,55,21,22,26,38,22,53,25,23,38,70,60,51,36,55,26,34,23,27,14,9,7,34,32,28,39,49,75,30,52,48,40,52,28,18,17,9,5,45,21,34,64,56,50,49,45,31,19,12,15,10,7,6,3,48,23,20,39,36,35,53,21,16,23,13,10,6,1,4,2,16,15,17,27,25,20,29,11,17,12,16,8,1,1,0,1],M.t15HB=[7,12,18,53,47,76,124,108,89,123,108,119,107,81,122,63,13,5,16,27,46,36,61,51,42,70,52,83,65,41,59,36,19,17,15,24,41,34,59,48,40,64,50,78,62,80,56,33,29,28,25,43,39,63,55,93,76,59,93,72,54,75,50,29,52,22,42,40,67,57,95,79,72,57,89,69,49,66,46,27,77,37,35,66,58,52,91,74,62,48,79,63,90,62,40,38,125,32,60,56,50,92,78,65,55,87,71,51,73,51,70,30,109,53,49,94,88,75,66,122,91,73,56,42,64,44,21,25,90,43,41,77,73,63,56,92,77,66,47,67,48,53,36,20,71,34,67,60,58,49,88,76,67,106,71,54,38,39,23,15,109,53,51,47,90,82,58,57,48,72,57,41,23,27,62,9,86,42,40,37,70,64,52,43,70,55,42,25,29,18,11,11,118,68,30,55,50,46,74,65,49,39,24,16,22,13,14,7,91,44,39,38,34,63,52,45,31,52,28,19,14,8,9,3,123,60,58,53,47,43,32,22,37,24,17,12,15,10,2,1,71,37,34,30,28,20,17,26,21,16,10,6,8,6,2,0],M.t16HB=[1,5,14,44,74,63,110,93,172,149,138,242,225,195,376,17,3,4,12,20,35,62,53,47,83,75,68,119,201,107,207,9,15,13,23,38,67,58,103,90,161,72,127,117,110,209,206,16,45,21,39,69,64,114,99,87,158,140,252,212,199,387,365,26,75,36,68,65,115,101,179,164,155,264,246,226,395,382,362,9,66,30,59,56,102,185,173,265,142,253,232,400,388,378,445,16,111,54,52,100,184,178,160,133,257,244,228,217,385,366,715,10,98,48,91,88,165,157,148,261,248,407,397,372,380,889,884,8,85,84,81,159,156,143,260,249,427,401,392,383,727,713,708,7,154,76,73,141,131,256,245,426,406,394,384,735,359,710,352,11,139,129,67,125,247,233,229,219,393,743,737,720,885,882,439,4,243,120,118,115,227,223,396,746,742,736,721,712,706,223,436,6,202,224,222,218,216,389,386,381,364,888,443,707,440,437,1728,4,747,211,210,208,370,379,734,723,714,1735,883,877,876,3459,865,2,377,369,102,187,726,722,358,711,709,866,1734,871,3458,870,434,0,12,10,7,11,10,17,11,9,13,12,10,7,5,3,1,3],M.t24HB=[15,13,46,80,146,262,248,434,426,669,653,649,621,517,1032,88,14,12,21,38,71,130,122,216,209,198,327,345,319,297,279,42,47,22,41,74,68,128,120,221,207,194,182,340,315,295,541,18,81,39,75,70,134,125,116,220,204,190,178,325,311,293,271,16,147,72,69,135,127,118,112,210,200,188,352,323,306,285,540,14,263,66,129,126,119,114,214,202,192,180,341,317,301,281,262,12,249,123,121,117,113,215,206,195,185,347,330,308,291,272,520,10,435,115,111,109,211,203,196,187,353,332,313,298,283,531,381,17,427,212,208,205,201,193,186,177,169,320,303,286,268,514,377,16,335,199,197,191,189,181,174,333,321,305,289,275,521,379,371,11,668,184,183,179,175,344,331,314,304,290,277,530,383,373,366,10,652,346,171,168,164,318,309,299,287,276,263,513,375,368,362,6,648,322,316,312,307,302,292,284,269,261,512,376,370,364,359,4,620,300,296,294,288,282,273,266,515,380,374,369,365,361,357,2,1033,280,278,274,267,264,259,382,378,372,367,363,360,358,356,0,43,20,19,17,15,13,11,9,7,6,4,7,5,3,1,3],M.t32HB=[1<<0,5<<1,4<<1,5<<2,6<<1,5<<2,4<<2,4<<3,7<<1,3<<2,6<<2,0<<3,7<<2,2<<3,3<<3,1<<4],M.t33HB=[15<<0,14<<1,13<<1,12<<2,11<<1,10<<2,9<<2,8<<3,7<<1,6<<2,5<<2,4<<3,3<<2,2<<3,1<<3,0<<4],M.t1l=[1,4,3,5],M.t2l=[1,4,7,4,5,7,6,7,8],M.t3l=[2,3,7,4,4,7,6,7,8],M.t5l=[1,4,7,8,4,5,8,9,7,8,9,10,8,8,9,10],M.t6l=[3,4,6,8,4,4,6,7,5,6,7,8,7,7,8,9],M.t7l=[1,4,7,9,9,10,4,6,8,9,9,10,7,7,9,10,10,11,8,9,10,11,11,11,8,9,10,11,11,12,9,10,11,12,12,12],M.t8l=[2,4,7,9,9,10,4,4,6,10,10,10,7,6,8,10,10,11,9,10,10,11,11,12,9,9,10,11,12,12,10,10,11,11,13,13],M.t9l=[3,4,6,7,9,10,4,5,6,7,8,10,5,6,7,8,9,10,7,7,8,9,9,10,8,8,9,9,10,11,9,9,10,10,11,11],M.t10l=[1,4,7,9,10,10,10,11,4,6,8,9,10,11,10,10,7,8,9,10,11,12,11,11,8,9,10,11,12,12,11,12,9,10,11,12,12,12,12,12,10,11,12,12,13,13,12,13,9,10,11,12,12,12,13,13,10,10,11,12,12,13,13,13],M.t11l=[2,4,6,8,9,10,9,10,4,5,6,8,10,10,9,10,6,7,8,9,10,11,10,10,8,8,9,11,10,12,10,11,9,10,10,11,11,12,11,12,9,10,11,12,12,13,12,13,9,9,9,10,11,12,12,12,9,9,10,11,12,12,12,12],M.t12l=[4,4,6,8,9,10,10,10,4,5,6,7,9,9,10,10,6,6,7,8,9,10,9,10,7,7,8,8,9,10,10,10,8,8,9,9,10,10,10,11,9,9,10,10,10,11,10,11,9,9,9,10,10,11,11,12,10,10,10,11,11,11,11,12],M.t13l=[1,5,7,8,9,10,10,11,10,11,12,12,13,13,14,14,4,6,8,9,10,10,11,11,11,11,12,12,13,14,14,14,7,8,9,10,11,11,12,12,11,12,12,13,13,14,15,15,8,9,10,11,11,12,12,12,12,13,13,13,13,14,15,15,9,9,11,11,12,12,13,13,12,13,13,14,14,15,15,16,10,10,11,12,12,12,13,13,13,13,14,13,15,15,16,16,10,11,12,12,13,13,13,13,13,14,14,14,15,15,16,16,11,11,12,13,13,13,14,14,14,14,15,15,15,16,18,18,10,10,11,12,12,13,13,14,14,14,14,15,15,16,17,17,11,11,12,12,13,13,13,15,14,15,15,16,16,16,18,17,11,12,12,13,13,14,14,15,14,15,16,15,16,17,18,19,12,12,12,13,14,14,14,14,15,15,15,16,17,17,17,18,12,13,13,14,14,15,14,15,16,16,17,17,17,18,18,18,13,13,14,15,15,15,16,16,16,16,16,17,18,17,18,18,14,14,14,15,15,15,17,16,16,19,17,17,17,19,18,18,13,14,15,16,16,16,17,16,17,17,18,18,21,20,21,18],M.t15l=[3,5,6,8,8,9,10,10,10,11,11,12,12,12,13,14,5,5,7,8,9,9,10,10,10,11,11,12,12,12,13,13,6,7,7,8,9,9,10,10,10,11,11,12,12,13,13,13,7,8,8,9,9,10,10,11,11,11,12,12,12,13,13,13,8,8,9,9,10,10,11,11,11,11,12,12,12,13,13,13,9,9,9,10,10,10,11,11,11,11,12,12,13,13,13,14,10,9,10,10,10,11,11,11,11,12,12,12,13,13,14,14,10,10,10,11,11,11,11,12,12,12,12,12,13,13,13,14,10,10,10,11,11,11,11,12,12,12,12,13,13,14,14,14,10,10,11,11,11,11,12,12,12,13,13,13,13,14,14,14,11,11,11,11,12,12,12,12,12,13,13,13,13,14,15,14,11,11,11,11,12,12,12,12,13,13,13,13,14,14,14,15,12,12,11,12,12,12,13,13,13,13,13,13,14,14,15,15,12,12,12,12,12,13,13,13,13,14,14,14,14,14,15,15,13,13,13,13,13,13,13,13,14,14,14,14,15,15,14,15,13,13,13,13,13,13,13,14,14,14,14,14,15,15,15,15],M.t16_5l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,11,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,11,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,12,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,13,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,12,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,13,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,13,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,13,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,13,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,14,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,13,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,14,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,14,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,14,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,14,11,11,11,12,12,13,13,13,14,14,14,14,14,14,14,12],M.t16l=[1,5,7,9,10,10,11,11,12,12,12,13,13,13,14,10,4,6,8,9,10,11,11,11,12,12,12,13,14,13,14,10,7,8,9,10,11,11,12,12,13,12,13,13,13,14,14,11,9,9,10,11,11,12,12,12,13,13,14,14,14,15,15,12,10,10,11,11,12,12,13,13,13,14,14,14,15,15,15,11,10,10,11,11,12,13,13,14,13,14,14,15,15,15,16,12,11,11,11,12,13,13,13,13,14,14,14,14,15,15,16,12,11,11,12,12,13,13,13,14,14,15,15,15,15,17,17,12,11,12,12,13,13,13,14,14,15,15,15,15,16,16,16,12,12,12,12,13,13,14,14,15,15,15,15,16,15,16,15,13,12,13,12,13,14,14,14,14,15,16,16,16,17,17,16,12,13,13,13,13,14,14,15,16,16,16,16,16,16,15,16,13,13,14,14,14,14,15,15,15,15,17,16,16,16,16,18,13,15,14,14,14,15,15,16,16,16,18,17,17,17,19,17,13,14,15,13,14,16,16,15,16,16,17,18,17,19,17,16,13,10,10,10,11,11,12,12,12,13,13,13,13,13,13,13,10],M.t24l=[4,5,7,8,9,10,10,11,11,12,12,12,12,12,13,10,5,6,7,8,9,10,10,11,11,11,12,12,12,12,12,10,7,7,8,9,9,10,10,11,11,11,11,12,12,12,13,9,8,8,9,9,10,10,10,11,11,11,11,12,12,12,12,9,9,9,9,10,10,10,10,11,11,11,12,12,12,12,13,9,10,9,10,10,10,10,11,11,11,11,12,12,12,12,12,9,10,10,10,10,10,11,11,11,11,12,12,12,12,12,13,9,11,10,10,10,11,11,11,11,12,12,12,12,12,13,13,10,11,11,11,11,11,11,11,11,11,12,12,12,12,13,13,10,11,11,11,11,11,11,11,12,12,12,12,12,13,13,13,10,12,11,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,11,11,11,12,12,12,12,12,12,13,13,13,13,10,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,10,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,10,13,12,12,12,12,12,12,13,13,13,13,13,13,13,13,10,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,6],M.t32l=[1+0,4+1,4+1,5+2,4+1,6+2,5+2,6+3,4+1,5+2,5+2,6+3,5+2,6+3,6+3,6+4],M.t33l=[4+0,4+1,4+1,4+2,4+1,4+2,4+2,4+3,4+1,4+2,4+2,4+3,4+2,4+3,4+3,4+4],M.ht=[new E(0,0,null,null),new E(2,0,M.t1HB,M.t1l),new E(3,0,M.t2HB,M.t2l),new E(3,0,M.t3HB,M.t3l),new E(0,0,null,null),new E(4,0,M.t5HB,M.t5l),new E(4,0,M.t6HB,M.t6l),new E(6,0,M.t7HB,M.t7l),new E(6,0,M.t8HB,M.t8l),new E(6,0,M.t9HB,M.t9l),new E(8,0,M.t10HB,M.t10l),new E(8,0,M.t11HB,M.t11l),new E(8,0,M.t12HB,M.t12l),new E(16,0,M.t13HB,M.t13l),new E(0,0,null,M.t16_5l),new E(16,0,M.t15HB,M.t15l),new E(1,1,M.t16HB,M.t16l),new E(2,3,M.t16HB,M.t16l),new E(3,7,M.t16HB,M.t16l),new E(4,15,M.t16HB,M.t16l),new E(6,63,M.t16HB,M.t16l),new E(8,255,M.t16HB,M.t16l),new E(10,1023,M.t16HB,M.t16l),new E(13,8191,M.t16HB,M.t16l),new E(4,15,M.t24HB,M.t24l),new E(5,31,M.t24HB,M.t24l),new E(6,63,M.t24HB,M.t24l),new E(7,127,M.t24HB,M.t24l),new E(8,255,M.t24HB,M.t24l),new E(9,511,M.t24HB,M.t24l),new E(11,2047,M.t24HB,M.t24l),new E(13,8191,M.t24HB,M.t24l),new E(0,0,M.t32HB,M.t32l),new E(0,0,M.t33HB,M.t33l)],M.largetbl=[65540,327685,458759,589832,655369,655370,720906,720907,786443,786444,786444,851980,851980,851980,917517,655370,262149,393222,524295,589832,655369,720906,720906,720907,786443,786443,786444,851980,917516,851980,917516,655370,458759,524295,589832,655369,720905,720906,786442,786443,851979,786443,851979,851980,851980,917516,917517,720905,589832,589832,655369,720905,720906,786442,786442,786443,851979,851979,917515,917516,917516,983052,983052,786441,655369,655369,720905,720906,786442,786442,851978,851979,851979,917515,917516,917516,983052,983052,983053,720905,655370,655369,720906,720906,786442,851978,851979,917515,851979,917515,917516,983052,983052,983052,1048588,786441,720906,720906,720906,786442,851978,851979,851979,851979,917515,917516,917516,917516,983052,983052,1048589,786441,720907,720906,786442,786442,851979,851979,851979,917515,917516,983052,983052,983052,983052,1114125,1114125,786442,720907,786443,786443,851979,851979,851979,917515,917515,983051,983052,983052,983052,1048588,1048589,1048589,786442,786443,786443,786443,851979,851979,917515,917515,983052,983052,983052,983052,1048588,983053,1048589,983053,851978,786444,851979,786443,851979,917515,917516,917516,917516,983052,1048588,1048588,1048589,1114125,1114125,1048589,786442,851980,851980,851979,851979,917515,917516,983052,1048588,1048588,1048588,1048588,1048589,1048589,983053,1048589,851978,851980,917516,917516,917516,917516,983052,983052,983052,983052,1114124,1048589,1048589,1048589,1048589,1179661,851978,983052,917516,917516,917516,983052,983052,1048588,1048588,1048589,1179661,1114125,1114125,1114125,1245197,1114125,851978,917517,983052,851980,917516,1048588,1048588,983052,1048589,1048589,1114125,1179661,1114125,1245197,1114125,1048589,851978,655369,655369,655369,720905,720905,786441,786441,786441,851977,851977,851977,851978,851978,851978,851978,655366],M.table23=[65538,262147,458759,262148,327684,458759,393222,458759,524296],M.table56=[65539,262148,458758,524296,262148,327684,524294,589831,458757,524294,589831,655368,524295,524295,589832,655369],M.bitrate_table=[[0,8,16,24,32,40,48,56,64,80,96,112,128,144,160,-1],[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],[0,8,16,24,32,40,48,56,64,-1,-1,-1,-1,-1,-1,-1]],M.samplerate_table=[[22050,24e3,16e3,-1],[44100,48e3,32e3,-1],[11025,12e3,8e3,-1]],M.scfsi_band=[0,6,11,16,21];function O(se){this.bits=se}function P(){this.setModules=function(se,Ne){}}function D(){this.over_noise=0,this.tot_noise=0,this.max_noise=0,this.over_count=0,this.over_SSD=0,this.bits=0}function U(){this.class_id=0,this.num_samples=0,this.num_channels=0,this.in_samplerate=0,this.out_samplerate=0,this.scale=0,this.scale_left=0,this.scale_right=0,this.analysis=!1,this.bWriteVbrTag=!1,this.decode_only=!1,this.quality=0,this.mode=h.STEREO,this.force_ms=!1,this.free_format=!1,this.findReplayGain=!1,this.decode_on_the_fly=!1,this.write_id3tag_automatic=!1,this.brate=0,this.compression_ratio=0,this.copyright=0,this.original=0,this.extension=0,this.emphasis=0,this.error_protection=0,this.strict_ISO=!1,this.disable_reservoir=!1,this.quant_comp=0,this.quant_comp_short=0,this.experimentalY=!1,this.experimentalZ=0,this.exp_nspsytune=0,this.preset=0,this.VBR=null,this.VBR_q_frac=0,this.VBR_q=0,this.VBR_mean_bitrate_kbps=0,this.VBR_min_bitrate_kbps=0,this.VBR_max_bitrate_kbps=0,this.VBR_hard_min=0,this.lowpassfreq=0,this.highpassfreq=0,this.lowpasswidth=0,this.highpasswidth=0,this.maskingadjust=0,this.maskingadjust_short=0,this.ATHonly=!1,this.ATHshort=!1,this.noATH=!1,this.ATHtype=0,this.ATHcurve=0,this.ATHlower=0,this.athaa_type=0,this.athaa_loudapprox=0,this.athaa_sensitivity=0,this.short_blocks=null,this.useTemporal=!1,this.interChRatio=0,this.msfix=0,this.tune=!1,this.tune_value_a=0,this.version=0,this.encoder_delay=0,this.encoder_padding=0,this.framesize=0,this.frameNum=0,this.lame_allocated_gfp=0,this.internal_flags=null}function z(){this.linprebuf=e(g.MAX_ORDER*2),this.linpre=0,this.lstepbuf=e(g.MAX_SAMPLES_PER_WINDOW+g.MAX_ORDER),this.lstep=0,this.loutbuf=e(g.MAX_SAMPLES_PER_WINDOW+g.MAX_ORDER),this.lout=0,this.rinprebuf=e(g.MAX_ORDER*2),this.rinpre=0,this.rstepbuf=e(g.MAX_SAMPLES_PER_WINDOW+g.MAX_ORDER),this.rstep=0,this.routbuf=e(g.MAX_SAMPLES_PER_WINDOW+g.MAX_ORDER),this.rout=0,this.sampleWindow=0,this.totsamp=0,this.lsum=0,this.rsum=0,this.freqindex=0,this.first=0,this.A=n(0|g.STEPS_per_dB*g.MAX_dB),this.B=n(0|g.STEPS_per_dB*g.MAX_dB)}function V(se){var Ne=se;this.quantize=Ne,this.iteration_loop=function(Oe,We,Ke,Ge){var et=Oe.internal_flags,ut=e(oe.SFBMAX),Be=e(576),Ee=n(2),we=0,B,G=et.l3_side,I=new O(we);this.quantize.rv.ResvFrameBegin(Oe,I),we=I.bits;for(var C=0;C<et.mode_gr;C++){B=this.quantize.qupvt.on_pe(Oe,We,Ee,we,C,C),et.mode_ext==j.MPG_MD_MS_LR&&(this.quantize.ms_convert(et.l3_side,C),this.quantize.qupvt.reduce_side(Ee,Ke[C],we,B));for(var ye=0;ye<et.channels_out;ye++){var ge,_e,H=G.tt[C][ye];H.block_type!=j.SHORT_TYPE?(ge=0,_e=et.PSY.mask_adjust-ge):(ge=0,_e=et.PSY.mask_adjust_short-ge),et.masking_lower=Math.pow(10,_e*.1),this.quantize.init_outer_loop(et,H),this.quantize.init_xrpow(et,H,Be)&&(this.quantize.qupvt.calc_xmin(Oe,Ge[C][ye],H,ut),this.quantize.outer_loop(Oe,H,ut,Be,ye,Ee[ye])),this.quantize.iteration_finish_one(et,C,ye)}}this.quantize.rv.ResvFrameEnd(et,we)}}function K(){this.useAdjust=0,this.aaSensitivityP=0,this.adjust=0,this.adjustLimit=0,this.decay=0,this.floor=0,this.l=e(j.SBMAX_l),this.s=e(j.SBMAX_s),this.psfb21=e(j.PSFB21),this.psfb12=e(j.PSFB12),this.cb_l=e(j.CBANDS),this.cb_s=e(j.CBANDS),this.eql_w=e(j.BLKSIZE/2)}function re(se,Ne,Oe,We){this.l=n(1+j.SBMAX_l),this.s=n(1+j.SBMAX_s),this.psfb21=n(1+j.PSFB21),this.psfb12=n(1+j.PSFB12);var Ke=this.l,Ge=this.s;arguments.length==4&&(this.arrL=arguments[0],this.arrS=arguments[1],this.arr21=arguments[2],this.arr12=arguments[3],m.arraycopy(this.arrL,0,Ke,0,Math.min(this.arrL.length,this.l.length)),m.arraycopy(this.arrS,0,Ge,0,Math.min(this.arrS.length,this.s.length)),m.arraycopy(this.arr21,0,this.psfb21,0,Math.min(this.arr21.length,this.psfb21.length)),m.arraycopy(this.arr12,0,this.psfb12,0,Math.min(this.arr12.length,this.psfb12.length)))}Q.Q_MAX=256+1,Q.Q_MAX2=116,Q.LARGE_BITS=1e5,Q.IXMAX_VAL=8206;function Q(){var se=null,Ne=null,Oe=null;this.setModules=function(H,me,je){se=H,Ne=me,Oe=je};function We(H){return B[H+Q.Q_MAX2]}this.IPOW20=function(H){return G[H]};var Ke=2220446049250313e-31,Ge=Q.IXMAX_VAL,et=Ge+2,ut=Q.Q_MAX,Be=Q.Q_MAX2,Ee=100;this.nr_of_sfb_block=[[[6,5,5,5],[9,9,9,9],[6,9,9,9]],[[6,5,7,3],[9,9,12,6],[6,9,12,6]],[[11,10,0,0],[18,18,0,0],[15,18,0,0]],[[7,7,7,0],[12,12,12,0],[6,15,12,0]],[[6,6,6,3],[12,9,9,6],[6,12,9,6]],[[8,8,5,0],[15,12,9,0],[6,18,9,0]]];var we=[0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,2,2,3,3,3,2,0];this.pretab=we,this.sfBandIndex=[new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,24,32,42,56,74,100,132,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,114,136,162,194,232,278,332,394,464,540,576],[0,4,8,12,18,26,36,48,62,80,104,136,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0,4,8,12,18,26,36,48,62,80,104,134,174,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,4,8,12,16,20,24,30,36,44,52,62,74,90,110,134,162,196,238,288,342,418,576],[0,4,8,12,16,22,30,40,52,66,84,106,136,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,4,8,12,16,20,24,30,36,42,50,60,72,88,106,128,156,190,230,276,330,384,576],[0,4,8,12,16,22,28,38,50,64,80,100,126,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,4,8,12,16,20,24,30,36,44,54,66,82,102,126,156,194,240,296,364,448,550,576],[0,4,8,12,16,22,30,42,58,78,104,138,180,192],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,6,12,18,24,30,36,44,54,66,80,96,116,140,168,200,238,284,336,396,464,522,576],[0/3,12/3,24/3,36/3,54/3,78/3,108/3,144/3,186/3,240/3,312/3,402/3,522/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]),new re([0,12,24,36,48,60,72,88,108,132,160,192,232,280,336,400,476,566,568,570,572,574,576],[0/3,24/3,48/3,72/3,108/3,156/3,216/3,288/3,372/3,480/3,486/3,492/3,498/3,576/3],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0])];var B=e(ut+Be+1),G=e(ut),I=e(et),C=e(et);this.adj43=C;function ye(H,me){var je=Oe.ATHformula(me,H);return je-=Ee,je=Math.pow(10,je/10+H.ATHlower),je}function ge(H){for(var me=H.internal_flags.ATH.l,je=H.internal_flags.ATH.psfb21,fe=H.internal_flags.ATH.s,Re=H.internal_flags.ATH.psfb12,X=H.internal_flags,pe=H.out_samplerate,Y=0;Y<j.SBMAX_l;Y++){var q=X.scalefac_band.l[Y],J=X.scalefac_band.l[Y+1];me[Y]=u.MAX_VALUE;for(var de=q;de<J;de++){var ee=de*pe/1152,le=ye(H,ee);me[Y]=Math.min(me[Y],le)}}for(var Y=0;Y<j.PSFB21;Y++){var q=X.scalefac_band.psfb21[Y],J=X.scalefac_band.psfb21[Y+1];je[Y]=u.MAX_VALUE;for(var de=q;de<J;de++){var ee=de*pe/1152,le=ye(H,ee);je[Y]=Math.min(je[Y],le)}}for(var Y=0;Y<j.SBMAX_s;Y++){var q=X.scalefac_band.s[Y],J=X.scalefac_band.s[Y+1];fe[Y]=u.MAX_VALUE;for(var de=q;de<J;de++){var ee=de*pe/384,le=ye(H,ee);fe[Y]=Math.min(fe[Y],le)}fe[Y]*=X.scalefac_band.s[Y+1]-X.scalefac_band.s[Y]}for(var Y=0;Y<j.PSFB12;Y++){var q=X.scalefac_band.psfb12[Y],J=X.scalefac_band.psfb12[Y+1];Re[Y]=u.MAX_VALUE;for(var de=q;de<J;de++){var ee=de*pe/384,le=ye(H,ee);Re[Y]=Math.min(Re[Y],le)}Re[Y]*=X.scalefac_band.s[13]-X.scalefac_band.s[12]}if(H.noATH){for(var Y=0;Y<j.SBMAX_l;Y++)me[Y]=1e-20;for(var Y=0;Y<j.PSFB21;Y++)je[Y]=1e-20;for(var Y=0;Y<j.SBMAX_s;Y++)fe[Y]=1e-20;for(var Y=0;Y<j.PSFB12;Y++)Re[Y]=1e-20}X.ATH.floor=10*Math.log10(ye(H,-1))}this.iteration_init=function(H){var me=H.internal_flags,je=me.l3_side,fe;if(me.iteration_init_init==0){for(me.iteration_init_init=1,je.main_data_begin=0,ge(H),I[0]=0,fe=1;fe<et;fe++)I[fe]=Math.pow(fe,4/3);for(fe=0;fe<et-1;fe++)C[fe]=fe+1-Math.pow(.5*(I[fe]+I[fe+1]),.75);for(C[fe]=.5,fe=0;fe<ut;fe++)G[fe]=Math.pow(2,(fe-210)*-.1875);for(fe=0;fe<=ut+Be;fe++)B[fe]=Math.pow(2,(fe-210-Be)*.25);se.huffman_init(me);{var Re,X,pe,Y;for(fe=H.exp_nspsytune>>2&63,fe>=32&&(fe-=64),Re=Math.pow(10,fe/4/10),fe=H.exp_nspsytune>>8&63,fe>=32&&(fe-=64),X=Math.pow(10,fe/4/10),fe=H.exp_nspsytune>>14&63,fe>=32&&(fe-=64),pe=Math.pow(10,fe/4/10),fe=H.exp_nspsytune>>20&63,fe>=32&&(fe-=64),Y=pe*Math.pow(10,fe/4/10),fe=0;fe<j.SBMAX_l;fe++){var q;fe<=6?q=Re:fe<=13?q=X:fe<=20?q=pe:q=Y,me.nsPsy.longfact[fe]=q}for(fe=0;fe<j.SBMAX_s;fe++){var q;fe<=5?q=Re:fe<=10?q=X:fe<=11?q=pe:q=Y,me.nsPsy.shortfact[fe]=q}}}},this.on_pe=function(H,me,je,fe,Re,X){var pe=H.internal_flags,Y=0,q,J=n(2),de,ee=new O(Y),le=Ne.ResvMaxBits(H,fe,ee,X);Y=ee.bits;var be=Y+le;for(be>Te.MAX_BITS_PER_GRANULE&&(be=Te.MAX_BITS_PER_GRANULE),q=0,de=0;de<pe.channels_out;++de)je[de]=Math.min(Te.MAX_BITS_PER_CHANNEL,Y/pe.channels_out),J[de]=0|je[de]*me[Re][de]/700-je[de],J[de]>fe*3/4&&(J[de]=fe*3/4),J[de]<0&&(J[de]=0),J[de]+je[de]>Te.MAX_BITS_PER_CHANNEL&&(J[de]=Math.max(0,Te.MAX_BITS_PER_CHANNEL-je[de])),q+=J[de];if(q>le)for(de=0;de<pe.channels_out;++de)J[de]=le*J[de]/q;for(de=0;de<pe.channels_out;++de)je[de]+=J[de],le-=J[de];for(q=0,de=0;de<pe.channels_out;++de)q+=je[de];if(q>Te.MAX_BITS_PER_GRANULE){var Ue=0;for(de=0;de<pe.channels_out;++de)je[de]*=Te.MAX_BITS_PER_GRANULE,je[de]/=q,Ue+=je[de]}return be},this.reduce_side=function(H,me,je,fe){var Re=.33*(.5-me)/.5;Re<0&&(Re=0),Re>.5&&(Re=.5);var X=0|Re*.5*(H[0]+H[1]);X>Te.MAX_BITS_PER_CHANNEL-H[0]&&(X=Te.MAX_BITS_PER_CHANNEL-H[0]),X<0&&(X=0),H[1]>=125&&(H[1]-X>125?(H[0]<je&&(H[0]+=X),H[1]-=X):(H[0]+=H[1]-125,H[1]=125)),X=H[0]+H[1],X>fe&&(H[0]=fe*H[0]/X,H[1]=fe*H[1]/X)},this.athAdjust=function(H,me,je){var fe=90.30873362,Re=94.82444863,X=y.FAST_LOG10_X(me,10),pe=H*H,Y=0;return X-=je,pe>1e-20&&(Y=1+y.FAST_LOG10_X(pe,10/fe)),Y<0&&(Y=0),X*=Y,X+=je+fe-Re,Math.pow(10,.1*X)},this.calc_xmin=function(H,me,je,fe){var Re=0,X=H.internal_flags,pe,Y=0,q=0,J=X.ATH,de=je.xr,ee=H.VBR==i.vbr_mtrh?1:0,le=X.masking_lower;for((H.VBR==i.vbr_mtrh||H.VBR==i.vbr_mt)&&(le=1),pe=0;pe<je.psy_lmax;pe++){var be,Ue,Je,Ye,rt,Z;H.VBR==i.vbr_rh||H.VBR==i.vbr_mtrh?Ue=athAdjust(J.adjust,J.l[pe],J.floor):Ue=J.adjust*J.l[pe],rt=je.width[pe],Je=Ue/rt,Ye=Ke,Z=rt>>1,be=0;do{var he,pt;he=de[Y]*de[Y],be+=he,Ye+=he<Je?he:Je,Y++,pt=de[Y]*de[Y],be+=pt,Ye+=pt<Je?pt:Je,Y++}while(--Z>0);if(be>Ue&&q++,pe==j.SBPSY_l){var _t=Ue*X.nsPsy.longfact[pe];Ye<_t&&(Ye=_t)}if(ee!=0&&(Ue=Ye),!H.ATHonly){var kt=me.en.l[pe];if(kt>0){var _t;_t=be*me.thm.l[pe]*le/kt,ee!=0&&(_t*=X.nsPsy.longfact[pe]),Ue<_t&&(Ue=_t)}}ee!=0?fe[Re++]=Ue:fe[Re++]=Ue*X.nsPsy.longfact[pe]}var Dt=575;if(je.block_type!=j.SHORT_TYPE)for(var Pt=576;Pt--!=0&&x.EQ(de[Pt],0);)Dt=Pt;je.max_nonzero_coeff=Dt;for(var Ae=je.sfb_smin;pe<je.psymax;Ae++,pe+=3){var rt,mt,gt;for(H.VBR==i.vbr_rh||H.VBR==i.vbr_mtrh?gt=athAdjust(J.adjust,J.s[Ae],J.floor):gt=J.adjust*J.s[Ae],rt=je.width[pe],mt=0;mt<3;mt++){var be=0,Ue,Je,Ye,Z=rt>>1;Je=gt/rt,Ye=Ke;do{var he,pt;he=de[Y]*de[Y],be+=he,Ye+=he<Je?he:Je,Y++,pt=de[Y]*de[Y],be+=pt,Ye+=pt<Je?pt:Je,Y++}while(--Z>0);if(be>gt&&q++,Ae==j.SBPSY_s){var _t=gt*X.nsPsy.shortfact[Ae];Ye<_t&&(Ye=_t)}if(ee!=0?Ue=Ye:Ue=gt,!H.ATHonly&&!H.ATHshort){var kt=me.en.s[Ae][mt];if(kt>0){var _t;_t=be*me.thm.s[Ae][mt]*le/kt,ee!=0&&(_t*=X.nsPsy.shortfact[Ae]),Ue<_t&&(Ue=_t)}}ee!=0?fe[Re++]=Ue:fe[Re++]=Ue*X.nsPsy.shortfact[Ae]}H.useTemporal&&(fe[Re-3]>fe[Re-3+1]&&(fe[Re-3+1]+=(fe[Re-3]-fe[Re-3+1])*X.decay),fe[Re-3+1]>fe[Re-3+2]&&(fe[Re-3+2]+=(fe[Re-3+1]-fe[Re-3+2])*X.decay))}return q};function _e(H){this.s=H}this.calc_noise_core=function(H,me,je,fe){var Re=0,X=me.s,pe=H.l3_enc;if(X>H.count1)for(;je--!=0;){var Y;Y=H.xr[X],X++,Re+=Y*Y,Y=H.xr[X],X++,Re+=Y*Y}else if(X>H.big_values){var q=e(2);for(q[0]=0,q[1]=fe;je--!=0;){var Y;Y=Math.abs(H.xr[X])-q[pe[X]],X++,Re+=Y*Y,Y=Math.abs(H.xr[X])-q[pe[X]],X++,Re+=Y*Y}}else for(;je--!=0;){var Y;Y=Math.abs(H.xr[X])-I[pe[X]]*fe,X++,Re+=Y*Y,Y=Math.abs(H.xr[X])-I[pe[X]]*fe,X++,Re+=Y*Y}return me.s=X,Re},this.calc_noise=function(H,me,je,fe,Re){var X=0,pe=0,Y,q,J=0,de=0,ee=0,le=-20,be=0,Ue=H.scalefac,Je=0;for(fe.over_SSD=0,Y=0;Y<H.psymax;Y++){var Ye=H.global_gain-(Ue[Je++]+(H.preflag!=0?we[Y]:0)<<H.scalefac_scale+1)-H.subblock_gain[H.window[Y]]*8,rt=0;if(Re!=null&&Re.step[Y]==Ye)rt=Re.noise[Y],be+=H.width[Y],je[X++]=rt/me[pe++],rt=Re.noise_log[Y];else{var Z=We(Ye);if(q=H.width[Y]>>1,be+H.width[Y]>H.max_nonzero_coeff){var he;he=H.max_nonzero_coeff-be+1,he>0?q=he>>1:q=0}var pt=new _e(be);rt=this.calc_noise_core(H,pt,q,Z),be=pt.s,Re!=null&&(Re.step[Y]=Ye,Re.noise[Y]=rt),rt=je[X++]=rt/me[pe++],rt=y.FAST_LOG10(Math.max(rt,1e-20)),Re!=null&&(Re.noise_log[Y]=rt)}if(Re!=null&&(Re.global_gain=H.global_gain),ee+=rt,rt>0){var _t;_t=Math.max(0|rt*10+.5,1),fe.over_SSD+=_t*_t,J++,de+=rt}le=Math.max(le,rt)}return fe.over_count=J,fe.tot_noise=ee,fe.over_noise=de,fe.max_noise=le,J},this.set_pinfo=function(H,me,je,fe,Re){var X=H.internal_flags,pe,Y,q,J,de,ee=me.scalefac_scale==0?.5:1,le=me.scalefac,be=e(oe.SFBMAX),Ue=e(oe.SFBMAX),Je=new D;calc_xmin(H,je,me,be),calc_noise(me,be,Ue,Je,null);var Ye=0;for(Y=me.sfb_lmax,me.block_type!=j.SHORT_TYPE&&me.mixed_block_flag==0&&(Y=22),pe=0;pe<Y;pe++){var rt=X.scalefac_band.l[pe],Z=X.scalefac_band.l[pe+1],he=Z-rt;for(J=0;Ye<Z;Ye++)J+=me.xr[Ye]*me.xr[Ye];J/=he,de=1e15,X.pinfo.en[fe][Re][pe]=de*J,X.pinfo.xfsf[fe][Re][pe]=de*be[pe]*Ue[pe]/he,je.en.l[pe]>0&&!H.ATHonly?J=J/je.en.l[pe]:J=0,X.pinfo.thr[fe][Re][pe]=de*Math.max(J*je.thm.l[pe],X.ATH.l[pe]),X.pinfo.LAMEsfb[fe][Re][pe]=0,me.preflag!=0&&pe>=11&&(X.pinfo.LAMEsfb[fe][Re][pe]=-ee*we[pe]),pe<j.SBPSY_l&&(X.pinfo.LAMEsfb[fe][Re][pe]-=ee*le[pe])}if(me.block_type==j.SHORT_TYPE)for(Y=pe,pe=me.sfb_smin;pe<j.SBMAX_s;pe++)for(var rt=X.scalefac_band.s[pe],Z=X.scalefac_band.s[pe+1],he=Z-rt,pt=0;pt<3;pt++){for(J=0,q=rt;q<Z;q++)J+=me.xr[Ye]*me.xr[Ye],Ye++;J=Math.max(J/he,1e-20),de=1e15,X.pinfo.en_s[fe][Re][3*pe+pt]=de*J,X.pinfo.xfsf_s[fe][Re][3*pe+pt]=de*be[Y]*Ue[Y]/he,je.en.s[pe][pt]>0?J=J/je.en.s[pe][pt]:J=0,(H.ATHonly||H.ATHshort)&&(J=0),X.pinfo.thr_s[fe][Re][3*pe+pt]=de*Math.max(J*je.thm.s[pe][pt],X.ATH.s[pe]),X.pinfo.LAMEsfb_s[fe][Re][3*pe+pt]=-2*me.subblock_gain[pt],pe<j.SBPSY_s&&(X.pinfo.LAMEsfb_s[fe][Re][3*pe+pt]-=ee*le[Y]),Y++}X.pinfo.LAMEqss[fe][Re]=me.global_gain,X.pinfo.LAMEmainbits[fe][Re]=me.part2_3_length+me.part2_length,X.pinfo.LAMEsfbits[fe][Re]=me.part2_length,X.pinfo.over[fe][Re]=Je.over_count,X.pinfo.max_noise[fe][Re]=Je.max_noise*10,X.pinfo.over_noise[fe][Re]=Je.over_noise*10,X.pinfo.tot_noise[fe][Re]=Je.tot_noise*10,X.pinfo.over_SSD[fe][Re]=Je.over_SSD}}function ue(){this.global_gain=0,this.sfb_count1=0,this.step=n(39),this.noise=e(39),this.noise_log=e(39)}function te(){this.xr=e(576),this.l3_enc=n(576),this.scalefac=n(oe.SFBMAX),this.xrpow_max=0,this.part2_3_length=0,this.big_values=0,this.count1=0,this.global_gain=0,this.scalefac_compress=0,this.block_type=0,this.mixed_block_flag=0,this.table_select=n(3),this.subblock_gain=n(3+1),this.region0_count=0,this.region1_count=0,this.preflag=0,this.scalefac_scale=0,this.count1table_select=0,this.part2_length=0,this.sfb_lmax=0,this.sfb_smin=0,this.psy_lmax=0,this.sfbmax=0,this.psymax=0,this.sfbdivide=0,this.width=n(oe.SFBMAX),this.window=n(oe.SFBMAX),this.count1bits=0,this.sfb_partition_table=null,this.slen=n(4),this.max_nonzero_coeff=0;var se=this;function Ne(We){return new Int32Array(We)}function Oe(We){return new Float32Array(We)}this.assign=function(We){se.xr=Oe(We.xr),se.l3_enc=Ne(We.l3_enc),se.scalefac=Ne(We.scalefac),se.xrpow_max=We.xrpow_max,se.part2_3_length=We.part2_3_length,se.big_values=We.big_values,se.count1=We.count1,se.global_gain=We.global_gain,se.scalefac_compress=We.scalefac_compress,se.block_type=We.block_type,se.mixed_block_flag=We.mixed_block_flag,se.table_select=Ne(We.table_select),se.subblock_gain=Ne(We.subblock_gain),se.region0_count=We.region0_count,se.region1_count=We.region1_count,se.preflag=We.preflag,se.scalefac_scale=We.scalefac_scale,se.count1table_select=We.count1table_select,se.part2_length=We.part2_length,se.sfb_lmax=We.sfb_lmax,se.sfb_smin=We.sfb_smin,se.psy_lmax=We.psy_lmax,se.sfbmax=We.sfbmax,se.psymax=We.psymax,se.sfbdivide=We.sfbdivide,se.width=Ne(We.width),se.window=Ne(We.window),se.count1bits=We.count1bits,se.sfb_partition_table=We.sfb_partition_table.slice(0),se.slen=Ne(We.slen),se.max_nonzero_coeff=We.max_nonzero_coeff}}var oe={};oe.SFBMAX=j.SBMAX_s*3;function ce(){var se;this.rv=null;var Ne;this.qupvt=null;var Oe,We=new P,Ke;this.setModules=function(_e,H,me,je){se=_e,Ne=H,this.rv=H,Oe=me,this.qupvt=me,Ke=je,We.setModules(Oe,Ke)},this.ms_convert=function(_e,H){for(var me=0;me<576;++me){var je=_e.tt[H][0].xr[me],fe=_e.tt[H][1].xr[me];_e.tt[H][0].xr[me]=(je+fe)*(y.SQRT2*.5),_e.tt[H][1].xr[me]=(je-fe)*(y.SQRT2*.5)}};function Ge(_e,H,me,je){je=0;for(var fe=0;fe<=me;++fe){var Re=Math.abs(_e.xr[fe]);je+=Re,H[fe]=Math.sqrt(Re*Math.sqrt(Re)),H[fe]>_e.xrpow_max&&(_e.xrpow_max=H[fe])}return je}this.init_xrpow=function(_e,H,me){var je=0,fe=0|H.max_nonzero_coeff;if(H.xrpow_max=0,c.fill(me,fe,576,0),je=Ge(H,me,fe,je),je>1e-20){var Re=0;(_e.substep_shaping&2)!=0&&(Re=1);for(var X=0;X<H.psymax;X++)_e.pseudohalf[X]=Re;return!0}return c.fill(H.l3_enc,0,576,0),!1};function et(_e,H){var me=_e.ATH,je=H.xr;if(H.block_type!=j.SHORT_TYPE)for(var fe=!1,Re=j.PSFB21-1;Re>=0&&!fe;Re--){var X=_e.scalefac_band.psfb21[Re],pe=_e.scalefac_band.psfb21[Re+1],Y=Oe.athAdjust(me.adjust,me.psfb21[Re],me.floor);_e.nsPsy.longfact[21]>1e-12&&(Y*=_e.nsPsy.longfact[21]);for(var q=pe-1;q>=X;q--)if(Math.abs(je[q])<Y)je[q]=0;else{fe=!0;break}}else for(var J=0;J<3;J++)for(var fe=!1,Re=j.PSFB12-1;Re>=0&&!fe;Re--){var X=_e.scalefac_band.s[12]*3+(_e.scalefac_band.s[13]-_e.scalefac_band.s[12])*J+(_e.scalefac_band.psfb12[Re]-_e.scalefac_band.psfb12[0]),pe=X+(_e.scalefac_band.psfb12[Re+1]-_e.scalefac_band.psfb12[Re]),de=Oe.athAdjust(me.adjust,me.psfb12[Re],me.floor);_e.nsPsy.shortfact[12]>1e-12&&(de*=_e.nsPsy.shortfact[12]);for(var q=pe-1;q>=X;q--)if(Math.abs(je[q])<de)je[q]=0;else{fe=!0;break}}}this.init_outer_loop=function(_e,H){H.part2_3_length=0,H.big_values=0,H.count1=0,H.global_gain=210,H.scalefac_compress=0,H.table_select[0]=0,H.table_select[1]=0,H.table_select[2]=0,H.subblock_gain[0]=0,H.subblock_gain[1]=0,H.subblock_gain[2]=0,H.subblock_gain[3]=0,H.region0_count=0,H.region1_count=0,H.preflag=0,H.scalefac_scale=0,H.count1table_select=0,H.part2_length=0,H.sfb_lmax=j.SBPSY_l,H.sfb_smin=j.SBPSY_s,H.psy_lmax=_e.sfb21_extra?j.SBMAX_l:j.SBPSY_l,H.psymax=H.psy_lmax,H.sfbmax=H.sfb_lmax,H.sfbdivide=11;for(var me=0;me<j.SBMAX_l;me++)H.width[me]=_e.scalefac_band.l[me+1]-_e.scalefac_band.l[me],H.window[me]=3;if(H.block_type==j.SHORT_TYPE){var je=e(576);H.sfb_smin=0,H.sfb_lmax=0,H.mixed_block_flag!=0&&(H.sfb_smin=3,H.sfb_lmax=_e.mode_gr*2+4),H.psymax=H.sfb_lmax+3*((_e.sfb21_extra?j.SBMAX_s:j.SBPSY_s)-H.sfb_smin),H.sfbmax=H.sfb_lmax+3*(j.SBPSY_s-H.sfb_smin),H.sfbdivide=H.sfbmax-18,H.psy_lmax=H.sfb_lmax;var fe=_e.scalefac_band.l[H.sfb_lmax];m.arraycopy(H.xr,0,je,0,576);for(var me=H.sfb_smin;me<j.SBMAX_s;me++)for(var Re=_e.scalefac_band.s[me],X=_e.scalefac_band.s[me+1],pe=0;pe<3;pe++)for(var Y=Re;Y<X;Y++)H.xr[fe++]=je[3*Y+pe];for(var q=H.sfb_lmax,me=H.sfb_smin;me<j.SBMAX_s;me++)H.width[q]=H.width[q+1]=H.width[q+2]=_e.scalefac_band.s[me+1]-_e.scalefac_band.s[me],H.window[q]=0,H.window[q+1]=1,H.window[q+2]=2,q+=3}H.count1bits=0,H.sfb_partition_table=Oe.nr_of_sfb_block[0][0],H.slen[0]=0,H.slen[1]=0,H.slen[2]=0,H.slen[3]=0,H.max_nonzero_coeff=575,c.fill(H.scalefac,0),et(_e,H)};function ut(_e){this.ordinal=_e}ut.BINSEARCH_NONE=new ut(0),ut.BINSEARCH_UP=new ut(1),ut.BINSEARCH_DOWN=new ut(2);function Be(_e,H,me,je,fe){var Re,X=_e.CurrentStep[je],pe=!1,Y=_e.OldValue[je],q=ut.BINSEARCH_NONE;for(H.global_gain=Y,me-=H.part2_length;;){var J;if(Re=Ke.count_bits(_e,fe,H,null),X==1||Re==me)break;Re>me?(q==ut.BINSEARCH_DOWN&&(pe=!0),pe&&(X/=2),q=ut.BINSEARCH_UP,J=X):(q==ut.BINSEARCH_UP&&(pe=!0),pe&&(X/=2),q=ut.BINSEARCH_DOWN,J=-X),H.global_gain+=J,H.global_gain<0&&(H.global_gain=0,pe=!0),H.global_gain>255&&(H.global_gain=255,pe=!0)}for(;Re>me&&H.global_gain<255;)H.global_gain++,Re=Ke.count_bits(_e,fe,H,null);return _e.CurrentStep[je]=Y-H.global_gain>=4?4:2,_e.OldValue[je]=H.global_gain,H.part2_3_length=Re,Re}this.trancate_smallspectrums=function(_e,H,me,je){var fe=e(oe.SFBMAX);if(!((_e.substep_shaping&4)==0&&H.block_type==j.SHORT_TYPE||(_e.substep_shaping&128)!=0)){Oe.calc_noise(H,me,fe,new D,null);for(var X=0;X<576;X++){var Re=0;H.l3_enc[X]!=0&&(Re=Math.abs(H.xr[X])),je[X]=Re}var X=0,pe=8;H.block_type==j.SHORT_TYPE&&(pe=6);do{var Y,q,J,de,ee=H.width[pe];if(X+=ee,!(fe[pe]>=1)&&(c.sort(je,X-ee,ee),!x.EQ(je[X-1],0))){Y=(1-fe[pe])*me[pe],q=0,de=0;do{var le;for(J=1;de+J<ee&&!x.NEQ(je[de+X-ee],je[de+X+J-ee]);J++);if(le=je[de+X-ee]*je[de+X-ee]*J,Y<le){de!=0&&(q=je[de+X-ee-1]);break}Y-=le,de+=J}while(de<ee);if(!x.EQ(q,0))do Math.abs(H.xr[X-ee])<=q&&(H.l3_enc[X-ee]=0);while(--ee>0)}}while(++pe<H.psymax);H.part2_3_length=Ke.noquant_count_bits(_e,H,null)}};function Ee(_e){for(var H=0;H<_e.sfbmax;H++)if(_e.scalefac[H]+_e.subblock_gain[_e.window[H]]==0)return!1;return!0}function we(_e){return y.FAST_LOG10(.368+.632*_e*_e*_e)}function B(_e,H){for(var me=1e-37,je=0;je<H.psymax;je++)me+=we(_e[je]);return Math.max(1e-20,me)}function G(_e,H,me,je,fe){var Re;switch(_e){default:case 9:{H.over_count>0?(Re=me.over_SSD<=H.over_SSD,me.over_SSD==H.over_SSD&&(Re=me.bits<H.bits)):Re=me.max_noise<0&&me.max_noise*10+me.bits<=H.max_noise*10+H.bits;break}case 0:Re=me.over_count<H.over_count||me.over_count==H.over_count&&me.over_noise<H.over_noise||me.over_count==H.over_count&&x.EQ(me.over_noise,H.over_noise)&&me.tot_noise<H.tot_noise;break;case 8:me.max_noise=B(fe,je);case 1:Re=me.max_noise<H.max_noise;break;case 2:Re=me.tot_noise<H.tot_noise;break;case 3:Re=me.tot_noise<H.tot_noise&&me.max_noise<H.max_noise;break;case 4:Re=me.max_noise<=0&&H.max_noise>.2||me.max_noise<=0&&H.max_noise<0&&H.max_noise>me.max_noise-.2&&me.tot_noise<H.tot_noise||me.max_noise<=0&&H.max_noise>0&&H.max_noise>me.max_noise-.2&&me.tot_noise<H.tot_noise+H.over_noise||me.max_noise>0&&H.max_noise>-.05&&H.max_noise>me.max_noise-.1&&me.tot_noise+me.over_noise<H.tot_noise+H.over_noise||me.max_noise>0&&H.max_noise>-.1&&H.max_noise>me.max_noise-.15&&me.tot_noise+me.over_noise+me.over_noise<H.tot_noise+H.over_noise+H.over_noise;break;case 5:Re=me.over_noise<H.over_noise||x.EQ(me.over_noise,H.over_noise)&&me.tot_noise<H.tot_noise;break;case 6:Re=me.over_noise<H.over_noise||x.EQ(me.over_noise,H.over_noise)&&(me.max_noise<H.max_noise||x.EQ(me.max_noise,H.max_noise)&&me.tot_noise<=H.tot_noise);break;case 7:Re=me.over_count<H.over_count||me.over_noise<H.over_noise;break}return H.over_count==0&&(Re=Re&&me.bits<H.bits),Re}function I(_e,H,me,je,fe){var Re=_e.internal_flags,X;H.scalefac_scale==0?X=1.2968395546510096:X=1.6817928305074292;for(var pe=0,Y=0;Y<H.sfbmax;Y++)pe<me[Y]&&(pe=me[Y]);var q=Re.noise_shaping_amp;switch(q==3&&(fe?q=2:q=1),q){case 2:break;case 1:pe>1?pe=Math.pow(pe,.5):pe*=.95;break;case 0:default:pe>1?pe=1:pe*=.95;break}for(var J=0,Y=0;Y<H.sfbmax;Y++){var de=H.width[Y],ee;if(J+=de,!(me[Y]<pe)){if((Re.substep_shaping&2)!=0&&(Re.pseudohalf[Y]=Re.pseudohalf[Y]==0?1:0,Re.pseudohalf[Y]==0&&Re.noise_shaping_amp==2))return;for(H.scalefac[Y]++,ee=-de;ee<0;ee++)je[J+ee]*=X,je[J+ee]>H.xrpow_max&&(H.xrpow_max=je[J+ee]);if(Re.noise_shaping_amp==2)return}}}function C(_e,H){for(var me=1.2968395546510096,je=0,fe=0;fe<_e.sfbmax;fe++){var Re=_e.width[fe],X=_e.scalefac[fe];if(_e.preflag!=0&&(X+=Oe.pretab[fe]),je+=Re,(X&1)!=0){X++;for(var pe=-Re;pe<0;pe++)H[je+pe]*=me,H[je+pe]>_e.xrpow_max&&(_e.xrpow_max=H[je+pe])}_e.scalefac[fe]=X>>1}_e.preflag=0,_e.scalefac_scale=1}function ye(_e,H,me){var je,fe=H.scalefac;for(je=0;je<H.sfb_lmax;je++)if(fe[je]>=16)return!0;for(var Re=0;Re<3;Re++){var X=0,pe=0;for(je=H.sfb_lmax+Re;je<H.sfbdivide;je+=3)X<fe[je]&&(X=fe[je]);for(;je<H.sfbmax;je+=3)pe<fe[je]&&(pe=fe[je]);if(!(X<16&&pe<8)){if(H.subblock_gain[Re]>=7)return!0;H.subblock_gain[Re]++;var Y=_e.scalefac_band.l[H.sfb_lmax];for(je=H.sfb_lmax+Re;je<H.sfbmax;je+=3){var q,J=H.width[je],de=fe[je];if(de=de-(4>>H.scalefac_scale),de>=0){fe[je]=de,Y+=J*3;continue}fe[je]=0;{var ee=210+(de<<H.scalefac_scale+1);q=Oe.IPOW20(ee)}Y+=J*(Re+1);for(var le=-J;le<0;le++)me[Y+le]*=q,me[Y+le]>H.xrpow_max&&(H.xrpow_max=me[Y+le]);Y+=J*(3-Re-1)}{var q=Oe.IPOW20(202);Y+=H.width[je]*(Re+1);for(var le=-H.width[je];le<0;le++)me[Y+le]*=q,me[Y+le]>H.xrpow_max&&(H.xrpow_max=me[Y+le])}}}return!1}function ge(_e,H,me,je,fe){var Re=_e.internal_flags;I(_e,H,me,je,fe);var X=Ee(H);return X?!1:(Re.mode_gr==2?X=Ke.scale_bitcount(H):X=Ke.scale_bitcount_lsf(Re,H),X?(Re.noise_shaping>1&&(c.fill(Re.pseudohalf,0),H.scalefac_scale==0?(C(H,je),X=!1):H.block_type==j.SHORT_TYPE&&Re.subblock_gain>0&&(X=ye(Re,H,je)||Ee(H))),X||(Re.mode_gr==2?X=Ke.scale_bitcount(H):X=Ke.scale_bitcount_lsf(Re,H)),!X):!0)}this.outer_loop=function(_e,H,me,je,fe,Re){var X=_e.internal_flags,pe=new te,Y=e(576),q=e(oe.SFBMAX),J=new D,de,ee=new ue,le=9999999,be=!1,Ue=!1,Je=0;if(Be(X,H,Re,fe,je),X.noise_shaping==0)return 100;Oe.calc_noise(H,me,q,J,ee),J.bits=H.part2_3_length,pe.assign(H);var Ye=0;for(m.arraycopy(je,0,Y,0,576);!be;){do{var rt=new D,Z,he=255;if((X.substep_shaping&2)!=0?Z=20:Z=3,X.sfb21_extra&&(q[pe.sfbmax]>1||pe.block_type==j.SHORT_TYPE&&(q[pe.sfbmax+1]>1||q[pe.sfbmax+2]>1))||!ge(_e,pe,q,je,Ue))break;pe.scalefac_scale!=0&&(he=254);var pt=Re-pe.part2_length;if(pt<=0)break;for(;(pe.part2_3_length=Ke.count_bits(X,je,pe,ee))>pt&&pe.global_gain<=he;)pe.global_gain++;if(pe.global_gain>he)break;if(J.over_count==0){for(;(pe.part2_3_length=Ke.count_bits(X,je,pe,ee))>le&&pe.global_gain<=he;)pe.global_gain++;if(pe.global_gain>he)break}if(Oe.calc_noise(pe,me,q,rt,ee),rt.bits=pe.part2_3_length,H.block_type!=j.SHORT_TYPE?de=_e.quant_comp:de=_e.quant_comp_short,de=G(de,J,rt,pe,q)?1:0,de!=0)le=H.part2_3_length,J=rt,H.assign(pe),Ye=0,m.arraycopy(je,0,Y,0,576);else if(X.full_outer_loop==0&&(++Ye>Z&&J.over_count==0||X.noise_shaping_amp==3&&Ue&&Ye>30||X.noise_shaping_amp==3&&Ue&&pe.global_gain-Je>15))break}while(pe.global_gain+pe.scalefac_scale<255);X.noise_shaping_amp==3?Ue?be=!0:(pe.assign(H),m.arraycopy(Y,0,je,0,576),Ye=0,Je=pe.global_gain,Ue=!0):be=!0}return _e.VBR==i.vbr_rh||_e.VBR==i.vbr_mtrh?m.arraycopy(Y,0,je,0,576):(X.substep_shaping&1)!=0&&trancate_smallspectrums(X,H,me,je),J.over_count},this.iteration_finish_one=function(_e,H,me){var je=_e.l3_side,fe=je.tt[H][me];Ke.best_scalefac_store(_e,H,me,je),_e.use_best_huffman==1&&Ke.best_huffman_divide(_e,fe),Ne.ResvAdjust(_e,fe)},this.VBR_encode_granule=function(_e,H,me,je,fe,Re,X){var pe=_e.internal_flags,Y=new te,q=e(576),J=X,de=X+1,ee=(X+Re)/2,le,be,Ue=0,Je=pe.sfb21_extra;c.fill(Y.l3_enc,0);do ee>J-42?pe.sfb21_extra=!1:pe.sfb21_extra=Je,be=outer_loop(_e,H,me,je,fe,ee),be<=0?(Ue=1,de=H.part2_3_length,Y.assign(H),m.arraycopy(je,0,q,0,576),X=de-32,le=X-Re,ee=(X+Re)/2):(Re=ee+32,le=X-Re,ee=(X+Re)/2,Ue!=0&&(Ue=2,H.assign(Y),m.arraycopy(q,0,je,0,576)));while(le>12);pe.sfb21_extra=Je,Ue==2&&m.arraycopy(Y.l3_enc,0,H.l3_enc,0,576)},this.get_framebits=function(_e,H){var me=_e.internal_flags;me.bitrate_index=me.VBR_min_bitrate;var je=se.getframebits(_e);me.bitrate_index=1,je=se.getframebits(_e);for(var fe=1;fe<=me.VBR_max_bitrate;fe++){me.bitrate_index=fe;var Re=new O(je);H[fe]=Ne.ResvFrameBegin(_e,Re),je=Re.bits}},this.VBR_old_prepare=function(_e,H,me,je,fe,Re,X,pe,Y){var q=_e.internal_flags,J,de=0,ee=1,le=0;q.bitrate_index=q.VBR_max_bitrate;var be=Ne.ResvFrameBegin(_e,new O(0))/q.mode_gr;get_framebits(_e,Re);for(var Ue=0;Ue<q.mode_gr;Ue++){var Je=Oe.on_pe(_e,H,pe[Ue],be,Ue,0);q.mode_ext==j.MPG_MD_MS_LR&&(ms_convert(q.l3_side,Ue),Oe.reduce_side(pe[Ue],me[Ue],be,Je));for(var Ye=0;Ye<q.channels_out;++Ye){var rt=q.l3_side.tt[Ue][Ye];rt.block_type!=j.SHORT_TYPE?(de=1.28/(1+Math.exp(3.5-H[Ue][Ye]/300))-.05,J=q.PSY.mask_adjust-de):(de=2.56/(1+Math.exp(3.5-H[Ue][Ye]/300))-.14,J=q.PSY.mask_adjust_short-de),q.masking_lower=Math.pow(10,J*.1),init_outer_loop(q,rt),Y[Ue][Ye]=Oe.calc_xmin(_e,je[Ue][Ye],rt,fe[Ue][Ye]),Y[Ue][Ye]!=0&&(ee=0),X[Ue][Ye]=126,le+=pe[Ue][Ye]}}for(var Ue=0;Ue<q.mode_gr;Ue++)for(var Ye=0;Ye<q.channels_out;Ye++)le>Re[q.VBR_max_bitrate]&&(pe[Ue][Ye]*=Re[q.VBR_max_bitrate],pe[Ue][Ye]/=le),X[Ue][Ye]>pe[Ue][Ye]&&(X[Ue][Ye]=pe[Ue][Ye]);return ee},this.bitpressure_strategy=function(_e,H,me,je){for(var fe=0;fe<_e.mode_gr;fe++)for(var Re=0;Re<_e.channels_out;Re++){for(var X=_e.l3_side.tt[fe][Re],pe=H[fe][Re],Y=0,q=0;q<X.psy_lmax;q++)pe[Y++]*=1+.029*q*q/j.SBMAX_l/j.SBMAX_l;if(X.block_type==j.SHORT_TYPE)for(var q=X.sfb_smin;q<j.SBMAX_s;q++)pe[Y++]*=1+.029*q*q/j.SBMAX_s/j.SBMAX_s,pe[Y++]*=1+.029*q*q/j.SBMAX_s/j.SBMAX_s,pe[Y++]*=1+.029*q*q/j.SBMAX_s/j.SBMAX_s;je[fe][Re]=0|Math.max(me[fe][Re],.9*je[fe][Re])}},this.VBR_new_prepare=function(_e,H,me,je,fe,Re){var X=_e.internal_flags,pe=1,Y=0,q=0,J;if(_e.free_format){X.bitrate_index=0;var de=new O(Y);J=Ne.ResvFrameBegin(_e,de),Y=de.bits,fe[0]=J}else{X.bitrate_index=X.VBR_max_bitrate;var de=new O(Y);Ne.ResvFrameBegin(_e,de),Y=de.bits,get_framebits(_e,fe),J=fe[X.VBR_max_bitrate]}for(var ee=0;ee<X.mode_gr;ee++){Oe.on_pe(_e,H,Re[ee],Y,ee,0),X.mode_ext==j.MPG_MD_MS_LR&&ms_convert(X.l3_side,ee);for(var le=0;le<X.channels_out;++le){var be=X.l3_side.tt[ee][le];X.masking_lower=Math.pow(10,X.PSY.mask_adjust*.1),init_outer_loop(X,be),Oe.calc_xmin(_e,me[ee][le],be,je[ee][le])!=0&&(pe=0),q+=Re[ee][le]}}for(var ee=0;ee<X.mode_gr;ee++)for(var le=0;le<X.channels_out;le++)q>J&&(Re[ee][le]*=J,Re[ee][le]/=q);return pe},this.calc_target_bits=function(_e,H,me,je,fe,Re){var X=_e.internal_flags,pe=X.l3_side,Y,q,J,de,ee=0;X.bitrate_index=X.VBR_max_bitrate;var le=new O(ee);for(Re[0]=Ne.ResvFrameBegin(_e,le),ee=le.bits,X.bitrate_index=1,ee=se.getframebits(_e)-X.sideinfo_len*8,fe[0]=ee/(X.mode_gr*X.channels_out),ee=_e.VBR_mean_bitrate_kbps*_e.framesize*1e3,(X.substep_shaping&1)!=0&&(ee*=1.09),ee/=_e.out_samplerate,ee-=X.sideinfo_len*8,ee/=X.mode_gr*X.channels_out,Y=.93+.07*(11-_e.compression_ratio)/(11-5.5),Y<.9&&(Y=.9),Y>1&&(Y=1),q=0;q<X.mode_gr;q++){var be=0;for(J=0;J<X.channels_out;J++){if(je[q][J]=int(Y*ee),H[q][J]>700){var Ue=int((H[q][J]-700)/1.4),Je=pe.tt[q][J];je[q][J]=int(Y*ee),Je.block_type==j.SHORT_TYPE&&Ue<ee/2&&(Ue=ee/2),Ue>ee*3/2?Ue=ee*3/2:Ue<0&&(Ue=0),je[q][J]+=Ue}je[q][J]>Te.MAX_BITS_PER_CHANNEL&&(je[q][J]=Te.MAX_BITS_PER_CHANNEL),be+=je[q][J]}if(be>Te.MAX_BITS_PER_GRANULE)for(J=0;J<X.channels_out;++J)je[q][J]*=Te.MAX_BITS_PER_GRANULE,je[q][J]/=be}if(X.mode_ext==j.MPG_MD_MS_LR)for(q=0;q<X.mode_gr;q++)Oe.reduce_side(je[q],me[q],ee*X.channels_out,Te.MAX_BITS_PER_GRANULE);for(de=0,q=0;q<X.mode_gr;q++)for(J=0;J<X.channels_out;J++)je[q][J]>Te.MAX_BITS_PER_CHANNEL&&(je[q][J]=Te.MAX_BITS_PER_CHANNEL),de+=je[q][J];if(de>Re[0])for(q=0;q<X.mode_gr;q++)for(J=0;J<X.channels_out;J++)je[q][J]*=Re[0],je[q][J]/=de}}function ne(){var se=[-.1482523854003001,32.308141959636465,296.40344946382766,883.1344870032432,11113.947376231741,1057.2713659324597,305.7402417275812,30.825928907280012,3.8533188138216365,59.42900443849514,709.5899960123345,5281.91112291017,-5829.66483675846,-817.6293103748613,-76.91656988279972,-4.594269939176596,.9063471690191471,.1960342806591213,-.15466694054279598,34.324387823855965,301.8067566458425,817.599602898885,11573.795901679885,1181.2520595540152,321.59731579894424,31.232021761053772,3.7107095756221318,53.650946155329365,684.167428119626,5224.56624370173,-6366.391851890084,-908.9766368219582,-89.83068876699639,-5.411397422890401,.8206787908286602,.3901806440322567,-.16070888947830023,36.147034243915876,304.11815768187864,732.7429163887613,11989.60988270091,1300.012278487897,335.28490093152146,31.48816102859945,3.373875931311736,47.232241542899175,652.7371796173471,5132.414255594984,-6909.087078780055,-1001.9990371107289,-103.62185754286375,-6.104916304710272,.7416505462720353,.5805693545089249,-.16636367662261495,37.751650073343995,303.01103387567713,627.9747488785183,12358.763425278165,1412.2779918482834,346.7496836825721,31.598286663170416,3.1598635433980946,40.57878626349686,616.1671130880391,5007.833007176154,-7454.040671756168,-1095.7960341867115,-118.24411666465777,-6.818469345853504,.6681786379192989,.7653668647301797,-.1716176790982088,39.11551877123304,298.3413246578966,503.5259106886539,12679.589408408976,1516.5821921214542,355.9850766329023,31.395241710249053,2.9164211881972335,33.79716964664243,574.8943997801362,4853.234992253242,-7997.57021486075,-1189.7624067269965,-133.6444792601766,-7.7202770609839915,.5993769336819237,.9427934736519954,-.17645823955292173,40.21879108166477,289.9982036694474,359.3226160751053,12950.259102786438,1612.1013903507662,362.85067106591504,31.045922092242872,2.822222032597987,26.988862316190684,529.8996541764288,4671.371946949588,-8535.899136645805,-1282.5898586244496,-149.58553632943463,-8.643494270763135,.5345111359507916,1.111140466039205,-.36174739330527045,41.04429910497807,277.5463268268618,195.6386023135583,13169.43812144731,1697.6433561479398,367.40983966190305,30.557037410382826,2.531473372857427,20.070154905927314,481.50208566532336,4464.970341588308,-9065.36882077239,-1373.62841526722,-166.1660487028118,-9.58289321133207,.4729647758913199,1.268786568327291,-.36970682634889585,41.393213350082036,261.2935935556502,12.935476055240873,13336.131683328815,1772.508612059496,369.76534388639965,29.751323653701338,2.4023193045459172,13.304795348228817,430.5615775526625,4237.0568611071185,-9581.931701634761,-1461.6913552409758,-183.12733958476446,-10.718010163869403,.41421356237309503,1.414213562373095,-.37677560326535325,41.619486213528496,241.05423794991074,-187.94665032361226,13450.063605744153,1836.153896465782,369.4908799925761,29.001847876923147,2.0714759319987186,6.779591200894186,377.7767837205709,3990.386575512536,-10081.709459700915,-1545.947424837898,-200.3762958015653,-11.864482073055006,.3578057213145241,1.546020906725474,-.3829366947518991,41.1516456456653,216.47684307105183,-406.1569483347166,13511.136535077321,1887.8076599260432,367.3025214564151,28.136213436723654,1.913880671464418,.3829366947518991,323.85365704338597,3728.1472257487526,-10561.233882199509,-1625.2025997821418,-217.62525175416,-13.015432208941645,.3033466836073424,1.66293922460509,-.5822628872992417,40.35639251440489,188.20071124269245,-640.2706748618148,13519.21490106562,1927.6022433578062,362.8197642637487,26.968821921868447,1.7463817695935329,-5.62650678237171,269.3016715297017,3453.386536448852,-11016.145278780888,-1698.6569643425091,-234.7658734267683,-14.16351421663124,.2504869601913055,1.76384252869671,-.5887180101749253,39.23429103868072,155.76096234403798,-889.2492977967378,13475.470561874661,1955.0535223723712,356.4450994756727,25.894952980042156,1.5695032905781554,-11.181939564328772,214.80884394039484,3169.1640829158237,-11443.321309975563,-1765.1588461316153,-251.68908574481912,-15.49755935939164,.198912367379658,1.847759065022573,-.7912582233652842,37.39369355329111,119.699486012458,-1151.0956593239027,13380.446257078214,1970.3952110853447,348.01959814116185,24.731487364283044,1.3850130831637748,-16.421408865300393,161.05030052864092,2878.3322807850063,-11838.991423510031,-1823.985884688674,-268.2854986386903,-16.81724543849939,.1483359875383474,1.913880671464418,-.7960642926861912,35.2322109610459,80.01928065061526,-1424.0212633405113,13235.794061869668,1973.804052543835,337.9908651258184,23.289159354463873,1.3934255946442087,-21.099669467133474,108.48348407242611,2583.700758091299,-12199.726194855148,-1874.2780658979746,-284.2467154529415,-18.11369784385905,.09849140335716425,1.961570560806461,-.998795456205172,32.56307803611191,36.958364584370486,-1706.075448829146,13043.287458812016,1965.3831106103316,326.43182772364605,22.175018750622293,1.198638339011324,-25.371248002043963,57.53505923036915,2288.41886619975,-12522.674544337233,-1914.8400385312243,-299.26241273417224,-19.37805630698734,.04912684976946725,1.990369453344394,.035780907*y.SQRT2*.5/2384e-9,.017876148*y.SQRT2*.5/2384e-9,.003134727*y.SQRT2*.5/2384e-9,.002457142*y.SQRT2*.5/2384e-9,971317e-9*y.SQRT2*.5/2384e-9,218868e-9*y.SQRT2*.5/2384e-9,101566e-9*y.SQRT2*.5/2384e-9,13828e-9*y.SQRT2*.5/2384e-9,12804.797818791945,1945.5515939597317,313.4244966442953,20.801593959731544,1995.1556208053692,9.000838926174497,-29.20218120805369],Ne=12,Oe=36,We=[[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,940084909404969e-27,6423305872147839e-28,2382191739347918e-28,5456116108943412e-27,4878985199565852e-27,4240448995017367e-27,3559909094758252e-27,2858043359288075e-27,2156177623817898e-27,1475637723558783e-27,8371015190102974e-28,2599706096327376e-28,-5456116108943412e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758252e-27,-2858043359288076e-27,-2156177623817898e-27,-1475637723558783e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347923e-28,-6423305872147843e-28,-9400849094049696e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049694e-28,-642330587214784e-27,-2382191739347918e-28],[2382191739347913e-28,6423305872147834e-28,9400849094049688e-28,1122435026096556e-27,1183840321267481e-27,1122435026096556e-27,9400849094049688e-28,6423305872147841e-28,2382191739347918e-28,5456116108943413e-27,4878985199565852e-27,4240448995017367e-27,3559909094758253e-27,2858043359288075e-27,2156177623817898e-27,1475637723558782e-27,8371015190102975e-28,2599706096327376e-28,-5461314069809755e-27,-4921085770524055e-27,-4343405037091838e-27,-3732668368707687e-27,-3093523840190885e-27,-2430835727329465e-27,-1734679010007751e-27,-974825365660928e-27,-2797435120168326e-28,0,0,0,0,0,0,-2283748241799531e-28,-4037858874020686e-28,-2146547464825323e-28],[.1316524975873958,.414213562373095,.7673269879789602,1.091308501069271,1.303225372841206,1.56968557711749,1.920982126971166,2.414213562373094,3.171594802363212,4.510708503662055,7.595754112725146,22.90376554843115,.984807753012208,.6427876096865394,.3420201433256688,.9396926207859084,-.1736481776669303,-.7660444431189779,.8660254037844387,.5,-.5144957554275265,-.4717319685649723,-.3133774542039019,-.1819131996109812,-.09457419252642064,-.04096558288530405,-.01419856857247115,-.003699974673760037,.8574929257125442,.8817419973177052,.9496286491027329,.9833145924917901,.9955178160675857,.9991605581781475,.999899195244447,.9999931550702802],[0,0,0,0,0,0,2283748241799531e-28,4037858874020686e-28,2146547464825323e-28,5461314069809755e-27,4921085770524055e-27,4343405037091838e-27,3732668368707687e-27,3093523840190885e-27,2430835727329466e-27,1734679010007751e-27,974825365660928e-27,2797435120168326e-28,-5456116108943413e-27,-4878985199565852e-27,-4240448995017367e-27,-3559909094758253e-27,-2858043359288075e-27,-2156177623817898e-27,-1475637723558782e-27,-8371015190102975e-28,-2599706096327376e-28,-2382191739347913e-28,-6423305872147834e-28,-9400849094049688e-28,-1122435026096556e-27,-1183840321267481e-27,-1122435026096556e-27,-9400849094049688e-28,-6423305872147841e-28,-2382191739347918e-28]],Ke=We[j.SHORT_TYPE],Ge=We[j.SHORT_TYPE],et=We[j.SHORT_TYPE],ut=We[j.SHORT_TYPE],Be=[0,1,16,17,8,9,24,25,4,5,20,21,12,13,28,29,2,3,18,19,10,11,26,27,6,7,22,23,14,15,30,31];function Ee(G,I,C){for(var ye=10,ge=I+238-14-286,_e=-15;_e<0;_e++){var H,me,je;H=se[ye+-10],me=G[ge+-224]*H,je=G[I+224]*H,H=se[ye+-9],me+=G[ge+-160]*H,je+=G[I+160]*H,H=se[ye+-8],me+=G[ge+-96]*H,je+=G[I+96]*H,H=se[ye+-7],me+=G[ge+-32]*H,je+=G[I+32]*H,H=se[ye+-6],me+=G[ge+32]*H,je+=G[I+-32]*H,H=se[ye+-5],me+=G[ge+96]*H,je+=G[I+-96]*H,H=se[ye+-4],me+=G[ge+160]*H,je+=G[I+-160]*H,H=se[ye+-3],me+=G[ge+224]*H,je+=G[I+-224]*H,H=se[ye+-2],me+=G[I+-256]*H,je-=G[ge+256]*H,H=se[ye+-1],me+=G[I+-192]*H,je-=G[ge+192]*H,H=se[ye+0],me+=G[I+-128]*H,je-=G[ge+128]*H,H=se[ye+1],me+=G[I+-64]*H,je-=G[ge+64]*H,H=se[ye+2],me+=G[I+0]*H,je-=G[ge+0]*H,H=se[ye+3],me+=G[I+64]*H,je-=G[ge+-64]*H,H=se[ye+4],me+=G[I+128]*H,je-=G[ge+-128]*H,H=se[ye+5],me+=G[I+192]*H,je-=G[ge+-192]*H,me*=se[ye+6],H=je-me,C[30+_e*2]=je+me,C[31+_e*2]=se[ye+7]*H,ye+=18,I--,ge++}{var me,je,fe,Re;je=G[I+-16]*se[ye+-10],me=G[I+-32]*se[ye+-2],je+=(G[I+-48]-G[I+16])*se[ye+-9],me+=G[I+-96]*se[ye+-1],je+=(G[I+-80]+G[I+48])*se[ye+-8],me+=G[I+-160]*se[ye+0],je+=(G[I+-112]-G[I+80])*se[ye+-7],me+=G[I+-224]*se[ye+1],je+=(G[I+-144]+G[I+112])*se[ye+-6],me-=G[I+32]*se[ye+2],je+=(G[I+-176]-G[I+144])*se[ye+-5],me-=G[I+96]*se[ye+3],je+=(G[I+-208]+G[I+176])*se[ye+-4],me-=G[I+160]*se[ye+4],je+=(G[I+-240]-G[I+208])*se[ye+-3],me-=G[I+224],fe=me-je,Re=me+je,je=C[14],me=C[15]-je,C[31]=Re+je,C[30]=fe+me,C[15]=fe-me,C[14]=Re-je}{var X;X=C[28]-C[0],C[0]+=C[28],C[28]=X*se[ye+-2*18+7],X=C[29]-C[1],C[1]+=C[29],C[29]=X*se[ye+-2*18+7],X=C[26]-C[2],C[2]+=C[26],C[26]=X*se[ye+-4*18+7],X=C[27]-C[3],C[3]+=C[27],C[27]=X*se[ye+-4*18+7],X=C[24]-C[4],C[4]+=C[24],C[24]=X*se[ye+-6*18+7],X=C[25]-C[5],C[5]+=C[25],C[25]=X*se[ye+-6*18+7],X=C[22]-C[6],C[6]+=C[22],C[22]=X*y.SQRT2,X=C[23]-C[7],C[7]+=C[23],C[23]=X*y.SQRT2-C[7],C[7]-=C[6],C[22]-=C[7],C[23]-=C[22],X=C[6],C[6]=C[31]-X,C[31]=C[31]+X,X=C[7],C[7]=C[30]-X,C[30]=C[30]+X,X=C[22],C[22]=C[15]-X,C[15]=C[15]+X,X=C[23],C[23]=C[14]-X,C[14]=C[14]+X,X=C[20]-C[8],C[8]+=C[20],C[20]=X*se[ye+-10*18+7],X=C[21]-C[9],C[9]+=C[21],C[21]=X*se[ye+-10*18+7],X=C[18]-C[10],C[10]+=C[18],C[18]=X*se[ye+-12*18+7],X=C[19]-C[11],C[11]+=C[19],C[19]=X*se[ye+-12*18+7],X=C[16]-C[12],C[12]+=C[16],C[16]=X*se[ye+-14*18+7],X=C[17]-C[13],C[13]+=C[17],C[17]=X*se[ye+-14*18+7],X=-C[20]+C[24],C[20]+=C[24],C[24]=X*se[ye+-12*18+7],X=-C[21]+C[25],C[21]+=C[25],C[25]=X*se[ye+-12*18+7],X=C[4]-C[8],C[4]+=C[8],C[8]=X*se[ye+-12*18+7],X=C[5]-C[9],C[5]+=C[9],C[9]=X*se[ye+-12*18+7],X=C[0]-C[12],C[0]+=C[12],C[12]=X*se[ye+-4*18+7],X=C[1]-C[13],C[1]+=C[13],C[13]=X*se[ye+-4*18+7],X=C[16]-C[28],C[16]+=C[28],C[28]=X*se[ye+-4*18+7],X=-C[17]+C[29],C[17]+=C[29],C[29]=X*se[ye+-4*18+7],X=y.SQRT2*(C[2]-C[10]),C[2]+=C[10],C[10]=X,X=y.SQRT2*(C[3]-C[11]),C[3]+=C[11],C[11]=X,X=y.SQRT2*(-C[18]+C[26]),C[18]+=C[26],C[26]=X-C[18],X=y.SQRT2*(-C[19]+C[27]),C[19]+=C[27],C[27]=X-C[19],X=C[2],C[19]-=C[3],C[3]-=X,C[2]=C[31]-X,C[31]+=X,X=C[3],C[11]-=C[19],C[18]-=X,C[3]=C[30]-X,C[30]+=X,X=C[18],C[27]-=C[11],C[19]-=X,C[18]=C[15]-X,C[15]+=X,X=C[19],C[10]-=X,C[19]=C[14]-X,C[14]+=X,X=C[10],C[11]-=X,C[10]=C[23]-X,C[23]+=X,X=C[11],C[26]-=X,C[11]=C[22]-X,C[22]+=X,X=C[26],C[27]-=X,C[26]=C[7]-X,C[7]+=X,X=C[27],C[27]=C[6]-X,C[6]+=X,X=y.SQRT2*(C[0]-C[4]),C[0]+=C[4],C[4]=X,X=y.SQRT2*(C[1]-C[5]),C[1]+=C[5],C[5]=X,X=y.SQRT2*(C[16]-C[20]),C[16]+=C[20],C[20]=X,X=y.SQRT2*(C[17]-C[21]),C[17]+=C[21],C[21]=X,X=-y.SQRT2*(C[8]-C[12]),C[8]+=C[12],C[12]=X-C[8],X=-y.SQRT2*(C[9]-C[13]),C[9]+=C[13],C[13]=X-C[9],X=-y.SQRT2*(C[25]-C[29]),C[25]+=C[29],C[29]=X-C[25],X=-y.SQRT2*(C[24]+C[28]),C[24]-=C[28],C[28]=X-C[24],X=C[24]-C[16],C[24]=X,X=C[20]-X,C[20]=X,X=C[28]-X,C[28]=X,X=C[25]-C[17],C[25]=X,X=C[21]-X,C[21]=X,X=C[29]-X,C[29]=X,X=C[17]-C[1],C[17]=X,X=C[9]-X,C[9]=X,X=C[25]-X,C[25]=X,X=C[5]-X,C[5]=X,X=C[21]-X,C[21]=X,X=C[13]-X,C[13]=X,X=C[29]-X,C[29]=X,X=C[1]-C[0],C[1]=X,X=C[16]-X,C[16]=X,X=C[17]-X,C[17]=X,X=C[8]-X,C[8]=X,X=C[9]-X,C[9]=X,X=C[24]-X,C[24]=X,X=C[25]-X,C[25]=X,X=C[4]-X,C[4]=X,X=C[5]-X,C[5]=X,X=C[20]-X,C[20]=X,X=C[21]-X,C[21]=X,X=C[12]-X,C[12]=X,X=C[13]-X,C[13]=X,X=C[28]-X,C[28]=X,X=C[29]-X,C[29]=X,X=C[0],C[0]+=C[31],C[31]-=X,X=C[1],C[1]+=C[30],C[30]-=X,X=C[16],C[16]+=C[15],C[15]-=X,X=C[17],C[17]+=C[14],C[14]-=X,X=C[8],C[8]+=C[23],C[23]-=X,X=C[9],C[9]+=C[22],C[22]-=X,X=C[24],C[24]+=C[7],C[7]-=X,X=C[25],C[25]+=C[6],C[6]-=X,X=C[4],C[4]+=C[27],C[27]-=X,X=C[5],C[5]+=C[26],C[26]-=X,X=C[20],C[20]+=C[11],C[11]-=X,X=C[21],C[21]+=C[10],C[10]-=X,X=C[12],C[12]+=C[19],C[19]-=X,X=C[13],C[13]+=C[18],C[18]-=X,X=C[28],C[28]+=C[3],C[3]-=X,X=C[29],C[29]+=C[2],C[2]-=X}}function we(G,I){for(var C=0;C<3;C++){var ye,ge,_e,H,me,je;H=G[I+2*3]*We[j.SHORT_TYPE][0]-G[I+5*3],ye=G[I+0*3]*We[j.SHORT_TYPE][2]-G[I+3*3],ge=H+ye,_e=H-ye,H=G[I+5*3]*We[j.SHORT_TYPE][0]+G[I+2*3],ye=G[I+3*3]*We[j.SHORT_TYPE][2]+G[I+0*3],me=H+ye,je=-H+ye,ye=(G[I+1*3]*We[j.SHORT_TYPE][1]-G[I+4*3])*2069978111953089e-26,H=(G[I+4*3]*We[j.SHORT_TYPE][1]+G[I+1*3])*2069978111953089e-26,G[I+3*0]=ge*190752519173728e-25+ye,G[I+3*5]=-me*190752519173728e-25+H,_e=_e*.8660254037844387*1907525191737281e-26,me=me*.5*1907525191737281e-26+H,G[I+3*1]=_e-me,G[I+3*2]=_e+me,ge=ge*.5*1907525191737281e-26-ye,je=je*.8660254037844387*1907525191737281e-26,G[I+3*3]=ge+je,G[I+3*4]=ge-je,I++}}function B(G,I,C){var ye,ge;{var _e,H,me,je,fe,Re,X,pe;_e=C[17]-C[9],me=C[15]-C[11],je=C[14]-C[12],fe=C[0]+C[8],Re=C[1]+C[7],X=C[2]+C[6],pe=C[3]+C[5],G[I+17]=fe+X-pe-(Re-C[4]),ge=(fe+X-pe)*Ge[12+7]+(Re-C[4]),ye=(_e-me-je)*Ge[12+6],G[I+5]=ye+ge,G[I+6]=ye-ge,H=(C[16]-C[10])*Ge[12+6],Re=Re*Ge[12+7]+C[4],ye=_e*Ge[12+0]+H+me*Ge[12+1]+je*Ge[12+2],ge=-fe*Ge[12+4]+Re-X*Ge[12+5]+pe*Ge[12+3],G[I+1]=ye+ge,G[I+2]=ye-ge,ye=_e*Ge[12+1]-H-me*Ge[12+2]+je*Ge[12+0],ge=-fe*Ge[12+5]+Re-X*Ge[12+3]+pe*Ge[12+4],G[I+9]=ye+ge,G[I+10]=ye-ge,ye=_e*Ge[12+2]-H+me*Ge[12+0]-je*Ge[12+1],ge=fe*Ge[12+3]-Re+X*Ge[12+4]-pe*Ge[12+5],G[I+13]=ye+ge,G[I+14]=ye-ge}{var Y,q,J,de,ee,le,be,Ue;Y=C[8]-C[0],J=C[6]-C[2],de=C[5]-C[3],ee=C[17]+C[9],le=C[16]+C[10],be=C[15]+C[11],Ue=C[14]+C[12],G[I+0]=ee+be+Ue+(le+C[13]),ye=(ee+be+Ue)*Ge[12+7]-(le+C[13]),ge=(Y-J+de)*Ge[12+6],G[I+11]=ye+ge,G[I+12]=ye-ge,q=(C[7]-C[1])*Ge[12+6],le=C[13]-le*Ge[12+7],ye=ee*Ge[12+3]-le+be*Ge[12+4]+Ue*Ge[12+5],ge=Y*Ge[12+2]+q+J*Ge[12+0]+de*Ge[12+1],G[I+3]=ye+ge,G[I+4]=ye-ge,ye=-ee*Ge[12+5]+le-be*Ge[12+3]-Ue*Ge[12+4],ge=Y*Ge[12+1]+q-J*Ge[12+2]-de*Ge[12+0],G[I+7]=ye+ge,G[I+8]=ye-ge,ye=-ee*Ge[12+4]+le-be*Ge[12+5]-Ue*Ge[12+3],ge=Y*Ge[12+0]-q+J*Ge[12+1]-de*Ge[12+2],G[I+15]=ye+ge,G[I+16]=ye-ge}}this.mdct_sub48=function(G,I,C){for(var ye=I,ge=286,_e=0;_e<G.channels_out;_e++){for(var H=0;H<G.mode_gr;H++){for(var me,je=G.l3_side.tt[H][_e],fe=je.xr,Re=0,X=G.sb_sample[_e][1-H],pe=0,Y=0;Y<18/2;Y++)for(Ee(ye,ge,X[pe]),Ee(ye,ge+32,X[pe+1]),pe+=2,ge+=64,me=1;me<32;me+=2)X[pe-1][me]*=-1;for(me=0;me<32;me++,Re+=18){var q=je.block_type,J=G.sb_sample[_e][H],de=G.sb_sample[_e][1-H];if(je.mixed_block_flag!=0&&me<2&&(q=0),G.amp_filter[me]<1e-12)c.fill(fe,Re+0,Re+18,0);else{if(G.amp_filter[me]<1)for(var Y=0;Y<18;Y++)de[Y][Be[me]]*=G.amp_filter[me];if(q==j.SHORT_TYPE){for(var Y=-Ne/4;Y<0;Y++){var ee=We[j.SHORT_TYPE][Y+3];fe[Re+Y*3+9]=J[9+Y][Be[me]]*ee-J[8-Y][Be[me]],fe[Re+Y*3+18]=J[14-Y][Be[me]]*ee+J[15+Y][Be[me]],fe[Re+Y*3+10]=J[15+Y][Be[me]]*ee-J[14-Y][Be[me]],fe[Re+Y*3+19]=de[2-Y][Be[me]]*ee+de[3+Y][Be[me]],fe[Re+Y*3+11]=de[3+Y][Be[me]]*ee-de[2-Y][Be[me]],fe[Re+Y*3+20]=de[8-Y][Be[me]]*ee+de[9+Y][Be[me]]}we(fe,Re)}else{for(var le=e(18),Y=-Oe/4;Y<0;Y++){var be,Ue;be=We[q][Y+27]*de[Y+9][Be[me]]+We[q][Y+36]*de[8-Y][Be[me]],Ue=We[q][Y+9]*J[Y+9][Be[me]]-We[q][Y+18]*J[8-Y][Be[me]],le[Y+9]=be-Ue*Ke[3+Y+9],le[Y+18]=be*Ke[3+Y+9]+Ue}B(fe,Re,le)}}if(q!=j.SHORT_TYPE&&me!=0)for(var Y=7;Y>=0;--Y){var Je,Ye;Je=fe[Re+Y]*et[20+Y]+fe[Re+-1-Y]*ut[28+Y],Ye=fe[Re+Y]*ut[28+Y]-fe[Re+-1-Y]*et[20+Y],fe[Re+-1-Y]=Je,fe[Re+Y]=Ye}}}if(ye=C,ge=286,G.mode_gr==1)for(var rt=0;rt<18;rt++)m.arraycopy(G.sb_sample[_e][1][rt],0,G.sb_sample[_e][0][rt],0,32)}}}function R(){this.thm=new ae,this.en=new ae}j.ENCDELAY=576,j.POSTDELAY=1152,j.MDCTDELAY=48,j.FFTOFFSET=224+j.MDCTDELAY,j.DECDELAY=528,j.SBLIMIT=32,j.CBANDS=64,j.SBPSY_l=21,j.SBPSY_s=12,j.SBMAX_l=22,j.SBMAX_s=13,j.PSFB21=6,j.PSFB12=6,j.BLKSIZE=1024,j.HBLKSIZE=j.BLKSIZE/2+1,j.BLKSIZE_s=256,j.HBLKSIZE_s=j.BLKSIZE_s/2+1,j.NORM_TYPE=0,j.START_TYPE=1,j.SHORT_TYPE=2,j.STOP_TYPE=3,j.MPG_MD_LR_LR=0,j.MPG_MD_LR_I=1,j.MPG_MD_MS_LR=2,j.MPG_MD_MS_I=3,j.fircoef=[-.0207887*5,-.0378413*5,-.0432472*5,-.031183*5,779609e-23*5,.0467745*5,.10091*5,.151365*5,.187098*5];function j(){var se=j.FFTOFFSET,Ne=j.MPG_MD_MS_LR,Oe=null;this.psy=null;var We=null,Ke=null,Ge=null;this.setModules=function(we,B,G,I){Oe=we,this.psy=B,We=B,Ke=I,Ge=G};var et=new ne;function ut(we){var B,G;if(we.ATH.useAdjust==0){we.ATH.adjust=1;return}if(G=we.loudness_sq[0][0],B=we.loudness_sq[1][0],we.channels_out==2?(G+=we.loudness_sq[0][1],B+=we.loudness_sq[1][1]):(G+=G,B+=B),we.mode_gr==2&&(G=Math.max(G,B)),G*=.5,G*=we.ATH.aaSensitivityP,G>.03125)we.ATH.adjust>=1?we.ATH.adjust=1:we.ATH.adjust<we.ATH.adjustLimit&&(we.ATH.adjust=we.ATH.adjustLimit),we.ATH.adjustLimit=1;else{var I=31.98*G+625e-6;we.ATH.adjust>=I?(we.ATH.adjust*=I*.075+.925,we.ATH.adjust<I&&(we.ATH.adjust=I)):we.ATH.adjustLimit>=I?we.ATH.adjust=I:we.ATH.adjust<we.ATH.adjustLimit&&(we.ATH.adjust=we.ATH.adjustLimit),we.ATH.adjustLimit=I}}function Be(we){var B,G;for(we.bitrate_stereoMode_Hist[we.bitrate_index][4]++,we.bitrate_stereoMode_Hist[15][4]++,we.channels_out==2&&(we.bitrate_stereoMode_Hist[we.bitrate_index][we.mode_ext]++,we.bitrate_stereoMode_Hist[15][we.mode_ext]++),B=0;B<we.mode_gr;++B)for(G=0;G<we.channels_out;++G){var I=we.l3_side.tt[B][G].block_type|0;we.l3_side.tt[B][G].mixed_block_flag!=0&&(I=4),we.bitrate_blockType_Hist[we.bitrate_index][I]++,we.bitrate_blockType_Hist[we.bitrate_index][5]++,we.bitrate_blockType_Hist[15][I]++,we.bitrate_blockType_Hist[15][5]++}}function Ee(we,B){var G=we.internal_flags,I,C;if(G.lame_encode_frame_init==0){var ye,ge,_e=e(2014),H=e(286+1152+576);for(G.lame_encode_frame_init=1,ye=0,ge=0;ye<286+576*(1+G.mode_gr);++ye)ye<576*G.mode_gr?(_e[ye]=0,G.channels_out==2&&(H[ye]=0)):(_e[ye]=B[0][ge],G.channels_out==2&&(H[ye]=B[1][ge]),++ge);for(C=0;C<G.mode_gr;C++)for(I=0;I<G.channels_out;I++)G.l3_side.tt[C][I].block_type=j.SHORT_TYPE;et.mdct_sub48(G,_e,H)}}this.lame_encode_mp3_frame=function(we,B,G,I,C,ye){var ge,_e=s([2,2]);_e[0][0]=new R,_e[0][1]=new R,_e[1][0]=new R,_e[1][1]=new R;var H=s([2,2]);H[0][0]=new R,H[0][1]=new R,H[1][0]=new R,H[1][1]=new R;var me,je=[null,null],fe=we.internal_flags,Re=f([2,4]),X=[.5,.5],pe=[[0,0],[0,0]],Y=[[0,0],[0,0]],q,J,de;if(je[0]=B,je[1]=G,fe.lame_encode_frame_init==0&&Ee(we,je),fe.padding=0,(fe.slot_lag-=fe.frac_SpF)<0&&(fe.slot_lag+=we.out_samplerate,fe.padding=1),fe.psymodel!=0){var ee,le=[null,null],be=0,Ue=n(2);for(de=0;de<fe.mode_gr;de++){for(J=0;J<fe.channels_out;J++)le[J]=je[J],be=576+de*576-j.FFTOFFSET;if(we.VBR==i.vbr_mtrh||we.VBR==i.vbr_mt?ee=We.L3psycho_anal_vbr(we,le,be,de,_e,H,pe[de],Y[de],Re[de],Ue):ee=We.L3psycho_anal_ns(we,le,be,de,_e,H,pe[de],Y[de],Re[de],Ue),ee!=0)return-4;for(we.mode==h.JOINT_STEREO&&(X[de]=Re[de][2]+Re[de][3],X[de]>0&&(X[de]=Re[de][3]/X[de])),J=0;J<fe.channels_out;J++){var Je=fe.l3_side.tt[de][J];Je.block_type=Ue[J],Je.mixed_block_flag=0}}}else for(de=0;de<fe.mode_gr;de++)for(J=0;J<fe.channels_out;J++)fe.l3_side.tt[de][J].block_type=j.NORM_TYPE,fe.l3_side.tt[de][J].mixed_block_flag=0,Y[de][J]=pe[de][J]=700;if(ut(fe),et.mdct_sub48(fe,je[0],je[1]),fe.mode_ext=j.MPG_MD_LR_LR,we.force_ms)fe.mode_ext=j.MPG_MD_MS_LR;else if(we.mode==h.JOINT_STEREO){var Ye=0,rt=0;for(de=0;de<fe.mode_gr;de++)for(J=0;J<fe.channels_out;J++)Ye+=Y[de][J],rt+=pe[de][J];if(Ye<=1*rt){var Z=fe.l3_side.tt[0],he=fe.l3_side.tt[fe.mode_gr-1];Z[0].block_type==Z[1].block_type&&he[0].block_type==he[1].block_type&&(fe.mode_ext=j.MPG_MD_MS_LR)}}if(fe.mode_ext==Ne?(me=H,q=Y):(me=_e,q=pe),we.analysis&&fe.pinfo!=null)for(de=0;de<fe.mode_gr;de++)for(J=0;J<fe.channels_out;J++)fe.pinfo.ms_ratio[de]=fe.ms_ratio[de],fe.pinfo.ms_ener_ratio[de]=X[de],fe.pinfo.blocktype[de][J]=fe.l3_side.tt[de][J].block_type,fe.pinfo.pe[de][J]=q[de][J],m.arraycopy(fe.l3_side.tt[de][J].xr,0,fe.pinfo.xr[de][J],0,576),fe.mode_ext==Ne&&(fe.pinfo.ers[de][J]=fe.pinfo.ers[de][J+2],m.arraycopy(fe.pinfo.energy[de][J+2],0,fe.pinfo.energy[de][J],0,fe.pinfo.energy[de][J].length));if(we.VBR==i.vbr_off||we.VBR==i.vbr_abr){var pt,_t;for(pt=0;pt<18;pt++)fe.nsPsy.pefirbuf[pt]=fe.nsPsy.pefirbuf[pt+1];for(_t=0,de=0;de<fe.mode_gr;de++)for(J=0;J<fe.channels_out;J++)_t+=q[de][J];for(fe.nsPsy.pefirbuf[18]=_t,_t=fe.nsPsy.pefirbuf[9],pt=0;pt<9;pt++)_t+=(fe.nsPsy.pefirbuf[pt]+fe.nsPsy.pefirbuf[18-pt])*j.fircoef[pt];for(_t=670*5*fe.mode_gr*fe.channels_out/_t,de=0;de<fe.mode_gr;de++)for(J=0;J<fe.channels_out;J++)q[de][J]*=_t}if(fe.iteration_loop.iteration_loop(we,q,X,me),Oe.format_bitstream(we),ge=Oe.copy_buffer(fe,I,C,ye,1),we.bWriteVbrTag&&Ke.addVbrFrame(we),we.analysis&&fe.pinfo!=null){for(J=0;J<fe.channels_out;J++){var kt;for(kt=0;kt<se;kt++)fe.pinfo.pcmdata[J][kt]=fe.pinfo.pcmdata[J][kt+we.framesize];for(kt=se;kt<1600;kt++)fe.pinfo.pcmdata[J][kt]=je[J][kt-se]}Ge.set_frame_pinfo(we,me)}return Be(fe),ge}}function N(){this.sum=0,this.seen=0,this.want=0,this.pos=0,this.size=0,this.bag=null,this.nVbrNumFrames=0,this.nBytesWritten=0,this.TotalFrameSize=0}function F(){this.tt=[[null,null],[null,null]],this.main_data_begin=0,this.private_bits=0,this.resvDrain_pre=0,this.resvDrain_post=0,this.scfsi=[n(4),n(4)];for(var se=0;se<2;se++)for(var Ne=0;Ne<2;Ne++)this.tt[se][Ne]=new te}function ie(){this.last_en_subshort=f([4,9]),this.lastAttacks=n(4),this.pefirbuf=e(19),this.longfact=e(j.SBMAX_l),this.shortfact=e(j.SBMAX_s),this.attackthre=0,this.attackthre_s=0}function ae(){this.l=e(j.SBMAX_l),this.s=f([j.SBMAX_s,3]);var se=this;this.assign=function(Ne){m.arraycopy(Ne.l,0,se.l,0,j.SBMAX_l);for(var Oe=0;Oe<j.SBMAX_s;Oe++)for(var We=0;We<3;We++)se.s[Oe][We]=Ne.s[Oe][We]}}Te.MFSIZE=3*1152+j.ENCDELAY-j.MDCTDELAY,Te.MAX_HEADER_BUF=256,Te.MAX_BITS_PER_CHANNEL=4095,Te.MAX_BITS_PER_GRANULE=7680,Te.BPC=320;function Te(){var se=40;this.Class_ID=0,this.lame_encode_frame_init=0,this.iteration_init_init=0,this.fill_buffer_resample_init=0,this.mfbuf=f([2,Te.MFSIZE]),this.mode_gr=0,this.channels_in=0,this.channels_out=0,this.resample_ratio=0,this.mf_samples_to_encode=0,this.mf_size=0,this.VBR_min_bitrate=0,this.VBR_max_bitrate=0,this.bitrate_index=0,this.samplerate_index=0,this.mode_ext=0,this.lowpass1=0,this.lowpass2=0,this.highpass1=0,this.highpass2=0,this.noise_shaping=0,this.noise_shaping_amp=0,this.substep_shaping=0,this.psymodel=0,this.noise_shaping_stop=0,this.subblock_gain=0,this.use_best_huffman=0,this.full_outer_loop=0,this.l3_side=new F,this.ms_ratio=e(2),this.padding=0,this.frac_SpF=0,this.slot_lag=0,this.tag_spec=null,this.nMusicCRC=0,this.OldValue=n(2),this.CurrentStep=n(2),this.masking_lower=0,this.bv_scf=n(576),this.pseudohalf=n(oe.SFBMAX),this.sfb21_extra=!1,this.inbuf_old=new Array(2),this.blackfilt=new Array(2*Te.BPC+1),this.itime=d(2),this.sideinfo_len=0,this.sb_sample=f([2,2,18,j.SBLIMIT]),this.amp_filter=e(32);function Ne(){this.write_timing=0,this.ptr=0,this.buf=r(se)}this.header=new Array(Te.MAX_HEADER_BUF),this.h_ptr=0,this.w_ptr=0,this.ancillary_flag=0,this.ResvSize=0,this.ResvMax=0,this.scalefac_band=new re,this.minval_l=e(j.CBANDS),this.minval_s=e(j.CBANDS),this.nb_1=f([4,j.CBANDS]),this.nb_2=f([4,j.CBANDS]),this.nb_s1=f([4,j.CBANDS]),this.nb_s2=f([4,j.CBANDS]),this.s3_ss=null,this.s3_ll=null,this.decay=0,this.thm=new Array(4),this.en=new Array(4),this.tot_ener=e(4),this.loudness_sq=f([2,2]),this.loudness_sq_save=e(2),this.mld_l=e(j.SBMAX_l),this.mld_s=e(j.SBMAX_s),this.bm_l=n(j.SBMAX_l),this.bo_l=n(j.SBMAX_l),this.bm_s=n(j.SBMAX_s),this.bo_s=n(j.SBMAX_s),this.npart_l=0,this.npart_s=0,this.s3ind=l([j.CBANDS,2]),this.s3ind_s=l([j.CBANDS,2]),this.numlines_s=n(j.CBANDS),this.numlines_l=n(j.CBANDS),this.rnumlines_l=e(j.CBANDS),this.mld_cb_l=e(j.CBANDS),this.mld_cb_s=e(j.CBANDS),this.numlines_s_num1=0,this.numlines_l_num1=0,this.pe=e(4),this.ms_ratio_s_old=0,this.ms_ratio_l_old=0,this.ms_ener_ratio_old=0,this.blocktype_old=n(2),this.nsPsy=new ie,this.VBR_seek_table=new N,this.ATH=null,this.PSY=null,this.nogap_total=0,this.nogap_current=0,this.decode_on_the_fly=!0,this.findReplayGain=!0,this.findPeakSample=!0,this.PeakSample=0,this.RadioGain=0,this.AudiophileGain=0,this.rgdata=null,this.noclipGainChange=0,this.noclipScale=0,this.bitrate_stereoMode_Hist=l([16,4+1]),this.bitrate_blockType_Hist=l([16,4+1+1]),this.pinfo=null,this.hip=null,this.in_buffer_nsamples=0,this.in_buffer_0=null,this.in_buffer_1=null,this.iteration_loop=null;for(var Oe=0;Oe<this.en.length;Oe++)this.en[Oe]=new ae;for(var Oe=0;Oe<this.thm.length;Oe++)this.thm[Oe]=new ae;for(var Oe=0;Oe<this.header.length;Oe++)this.header[Oe]=new Ne}function ke(){var se=e(j.BLKSIZE),Ne=e(j.BLKSIZE_s/2),Oe=[.9238795325112867,.3826834323650898,.9951847266721969,.0980171403295606,.9996988186962042,.02454122852291229,.9999811752826011,.006135884649154475];function We(Ge,et,ut){var Be=0,Ee,we,B;ut<<=1;var G=et+ut;Ee=4;do{var I,C,ye,ge,_e,H,me;me=Ee>>1,ge=Ee,_e=Ee<<1,H=_e+ge,Ee=_e<<1,we=et,B=we+me;do{var je,fe,Re,X;fe=Ge[we+0]-Ge[we+ge],je=Ge[we+0]+Ge[we+ge],X=Ge[we+_e]-Ge[we+H],Re=Ge[we+_e]+Ge[we+H],Ge[we+_e]=je-Re,Ge[we+0]=je+Re,Ge[we+H]=fe-X,Ge[we+ge]=fe+X,fe=Ge[B+0]-Ge[B+ge],je=Ge[B+0]+Ge[B+ge],X=y.SQRT2*Ge[B+H],Re=y.SQRT2*Ge[B+_e],Ge[B+_e]=je-Re,Ge[B+0]=je+Re,Ge[B+H]=fe-X,Ge[B+ge]=fe+X,B+=Ee,we+=Ee}while(we<G);for(C=Oe[Be+0],I=Oe[Be+1],ye=1;ye<me;ye++){var pe,Y;pe=1-2*I*I,Y=2*I*C,we=et+ye,B=et+ge-ye;do{var q,J,de,je,fe,ee,Re,le,X,be;J=Y*Ge[we+ge]-pe*Ge[B+ge],q=pe*Ge[we+ge]+Y*Ge[B+ge],fe=Ge[we+0]-q,je=Ge[we+0]+q,ee=Ge[B+0]-J,de=Ge[B+0]+J,J=Y*Ge[we+H]-pe*Ge[B+H],q=pe*Ge[we+H]+Y*Ge[B+H],X=Ge[we+_e]-q,Re=Ge[we+_e]+q,be=Ge[B+_e]-J,le=Ge[B+_e]+J,J=I*Re-C*be,q=C*Re+I*be,Ge[we+_e]=je-q,Ge[we+0]=je+q,Ge[B+H]=ee-J,Ge[B+ge]=ee+J,J=C*le-I*X,q=I*le+C*X,Ge[B+_e]=de-q,Ge[B+0]=de+q,Ge[we+H]=fe-J,Ge[we+ge]=fe+J,B+=Ee,we+=Ee}while(we<G);pe=C,C=pe*Oe[Be+0]-I*Oe[Be+1],I=pe*Oe[Be+1]+I*Oe[Be+0]}Be+=2}while(Ee<ut)}var Ke=[0,128,64,192,32,160,96,224,16,144,80,208,48,176,112,240,8,136,72,200,40,168,104,232,24,152,88,216,56,184,120,248,4,132,68,196,36,164,100,228,20,148,84,212,52,180,116,244,12,140,76,204,44,172,108,236,28,156,92,220,60,188,124,252,2,130,66,194,34,162,98,226,18,146,82,210,50,178,114,242,10,138,74,202,42,170,106,234,26,154,90,218,58,186,122,250,6,134,70,198,38,166,102,230,22,150,86,214,54,182,118,246,14,142,78,206,46,174,110,238,30,158,94,222,62,190,126,254];this.fft_short=function(Ge,et,ut,Be,Ee){for(var we=0;we<3;we++){var B=j.BLKSIZE_s/2,G=65535&576/3*(we+1),I=j.BLKSIZE_s/8-1;do{var C,ye,ge,_e,H,me=Ke[I<<2]&255;C=Ne[me]*Be[ut][Ee+me+G],H=Ne[127-me]*Be[ut][Ee+me+G+128],ye=C-H,C=C+H,ge=Ne[me+64]*Be[ut][Ee+me+G+64],H=Ne[63-me]*Be[ut][Ee+me+G+192],_e=ge-H,ge=ge+H,B-=4,et[we][B+0]=C+ge,et[we][B+2]=C-ge,et[we][B+1]=ye+_e,et[we][B+3]=ye-_e,C=Ne[me+1]*Be[ut][Ee+me+G+1],H=Ne[126-me]*Be[ut][Ee+me+G+129],ye=C-H,C=C+H,ge=Ne[me+65]*Be[ut][Ee+me+G+65],H=Ne[62-me]*Be[ut][Ee+me+G+193],_e=ge-H,ge=ge+H,et[we][B+j.BLKSIZE_s/2+0]=C+ge,et[we][B+j.BLKSIZE_s/2+2]=C-ge,et[we][B+j.BLKSIZE_s/2+1]=ye+_e,et[we][B+j.BLKSIZE_s/2+3]=ye-_e}while(--I>=0);We(et[we],B,j.BLKSIZE_s/2)}},this.fft_long=function(Ge,et,ut,Be,Ee){var we=j.BLKSIZE/8-1,B=j.BLKSIZE/2;do{var G,I,C,ye,ge,_e=Ke[we]&255;G=se[_e]*Be[ut][Ee+_e],ge=se[_e+512]*Be[ut][Ee+_e+512],I=G-ge,G=G+ge,C=se[_e+256]*Be[ut][Ee+_e+256],ge=se[_e+768]*Be[ut][Ee+_e+768],ye=C-ge,C=C+ge,B-=4,et[B+0]=G+C,et[B+2]=G-C,et[B+1]=I+ye,et[B+3]=I-ye,G=se[_e+1]*Be[ut][Ee+_e+1],ge=se[_e+513]*Be[ut][Ee+_e+513],I=G-ge,G=G+ge,C=se[_e+257]*Be[ut][Ee+_e+257],ge=se[_e+769]*Be[ut][Ee+_e+769],ye=C-ge,C=C+ge,et[B+j.BLKSIZE/2+0]=G+C,et[B+j.BLKSIZE/2+2]=G-C,et[B+j.BLKSIZE/2+1]=I+ye,et[B+j.BLKSIZE/2+3]=I-ye}while(--we>=0);We(et,B,j.BLKSIZE/2)},this.init_fft=function(Ge){for(var et=0;et<j.BLKSIZE;et++)se[et]=.42-.5*Math.cos(2*Math.PI*(et+.5)/j.BLKSIZE)+.08*Math.cos(4*Math.PI*(et+.5)/j.BLKSIZE);for(var et=0;et<j.BLKSIZE_s/2;et++)Ne[et]=.5*(1-Math.cos(2*Math.PI*(et+.5)/j.BLKSIZE_s))}}function Me(){var se=new ke,Ne=2.302585092994046,Oe=2,We=16,Ke=2,Ge=16,et=.34,ut=1/(14752*14752)/(j.BLKSIZE/2),Be=.01,Ee=.8,we=.6,B=.3,G=3.5,I=21,C=.2302585093;function ye(Pe){return Pe}function ge(Pe,De){for(var $e=0,Ze=0;Ze<j.BLKSIZE/2;++Ze)$e+=Pe[Ze]*De.ATH.eql_w[Ze];return $e*=ut,$e}function _e(Pe,De,$e,Ze,it,qe,at,ft,st,bt,ct){var St=Pe.internal_flags;if(st<2)se.fft_long(St,Ze[it],st,bt,ct),se.fft_short(St,qe[at],st,bt,ct);else if(st==2){for(var Ot=j.BLKSIZE-1;Ot>=0;--Ot){var Wt=Ze[it+0][Ot],Tt=Ze[it+1][Ot];Ze[it+0][Ot]=(Wt+Tt)*y.SQRT2*.5,Ze[it+1][Ot]=(Wt-Tt)*y.SQRT2*.5}for(var qt=2;qt>=0;--qt)for(var Ot=j.BLKSIZE_s-1;Ot>=0;--Ot){var Wt=qe[at+0][qt][Ot],Tt=qe[at+1][qt][Ot];qe[at+0][qt][Ot]=(Wt+Tt)*y.SQRT2*.5,qe[at+1][qt][Ot]=(Wt-Tt)*y.SQRT2*.5}}De[0]=Ze[it+0][0],De[0]*=De[0];for(var Ot=j.BLKSIZE/2-1;Ot>=0;--Ot){var vt=Ze[it+0][j.BLKSIZE/2-Ot],Bt=Ze[it+0][j.BLKSIZE/2+Ot];De[j.BLKSIZE/2-Ot]=(vt*vt+Bt*Bt)*.5}for(var qt=2;qt>=0;--qt){$e[qt][0]=qe[at+0][qt][0],$e[qt][0]*=$e[qt][0];for(var Ot=j.BLKSIZE_s/2-1;Ot>=0;--Ot){var vt=qe[at+0][qt][j.BLKSIZE_s/2-Ot],Bt=qe[at+0][qt][j.BLKSIZE_s/2+Ot];$e[qt][j.BLKSIZE_s/2-Ot]=(vt*vt+Bt*Bt)*.5}}{for(var rr=0,Ot=11;Ot<j.HBLKSIZE;Ot++)rr+=De[Ot];St.tot_ener[st]=rr}if(Pe.analysis){for(var Ot=0;Ot<j.HBLKSIZE;Ot++)St.pinfo.energy[ft][st][Ot]=St.pinfo.energy_save[st][Ot],St.pinfo.energy_save[st][Ot]=De[Ot];St.pinfo.pe[ft][st]=St.pe[st]}Pe.athaa_loudapprox==2&&st<2&&(St.loudness_sq[ft][st]=St.loudness_sq_save[st],St.loudness_sq_save[st]=ge(De,St))}var H=8,me=23,je=15,fe,Re,X,pe=[1,.79433,.63096,.63096,.63096,.63096,.63096,.25119,.11749];function Y(){fe=Math.pow(10,(H+1)/16),Re=Math.pow(10,(me+1)/16),X=Math.pow(10,je/10)}var q=[3.3246*3.3246,3.23837*3.23837,3.15437*3.15437,3.00412*3.00412,2.86103*2.86103,2.65407*2.65407,2.46209*2.46209,2.284*2.284,2.11879*2.11879,1.96552*1.96552,1.82335*1.82335,1.69146*1.69146,1.56911*1.56911,1.46658*1.46658,1.37074*1.37074,1.31036*1.31036,1.25264*1.25264,1.20648*1.20648,1.16203*1.16203,1.12765*1.12765,1.09428*1.09428,1.0659*1.0659,1.03826*1.03826,1.01895*1.01895,1],J=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1],de=[2.35364*2.35364,2.29259*2.29259,2.23313*2.23313,2.12675*2.12675,2.02545*2.02545,1.87894*1.87894,1.74303*1.74303,1.61695*1.61695,1.49999*1.49999,1.39148*1.39148,1.29083*1.29083,1.19746*1.19746,1.11084*1.11084,1.03826*1.03826];function ee(Pe,De,$e,Ze,it,qe){var at;if(De>Pe)if(De<Pe*Re)at=De/Pe;else return Pe+De;else{if(Pe>=De*Re)return Pe+De;at=Pe/De}if(Pe+=De,Ze+3<=3+3){if(at>=fe)return Pe;var ft=0|y.FAST_LOG10_X(at,16);return Pe*J[ft]}var ft=0|y.FAST_LOG10_X(at,16);if(qe!=0?De=it.ATH.cb_s[$e]*it.ATH.adjust:De=it.ATH.cb_l[$e]*it.ATH.adjust,Pe<X*De){if(Pe>De){var st,bt;return st=1,ft<=13&&(st=de[ft]),bt=y.FAST_LOG10_X(Pe/De,10/15),Pe*((q[ft]-st)*bt+st)}return ft>13?Pe:Pe*de[ft]}return Pe*q[ft]}var le=[1.33352*1.33352,1.35879*1.35879,1.38454*1.38454,1.39497*1.39497,1.40548*1.40548,1.3537*1.3537,1.30382*1.30382,1.22321*1.22321,1.14758*1.14758,1];function be(Pe,De,$e){var Ze;if(Pe<0&&(Pe=0),De<0&&(De=0),Pe<=0)return De;if(De<=0)return Pe;if(De>Pe?Ze=De/Pe:Ze=Pe/De,-2<=$e&&$e<=2){if(Ze>=fe)return Pe+De;var it=0|y.FAST_LOG10_X(Ze,16);return(Pe+De)*le[it]}return Ze<Re?Pe+De:(Pe<De&&(Pe=De),Pe)}function Ue(Pe,De){var $e=Pe.internal_flags;if($e.channels_out>1){for(var Ze=0;Ze<j.SBMAX_l;Ze++){var it=$e.thm[0].l[Ze],qe=$e.thm[1].l[Ze];$e.thm[0].l[Ze]+=qe*De,$e.thm[1].l[Ze]+=it*De}for(var Ze=0;Ze<j.SBMAX_s;Ze++)for(var at=0;at<3;at++){var it=$e.thm[0].s[Ze][at],qe=$e.thm[1].s[Ze][at];$e.thm[0].s[Ze][at]+=qe*De,$e.thm[1].s[Ze][at]+=it*De}}}function Je(Pe){for(var De=0;De<j.SBMAX_l;De++)if(!(Pe.thm[0].l[De]>1.58*Pe.thm[1].l[De]||Pe.thm[1].l[De]>1.58*Pe.thm[0].l[De])){var $e=Pe.mld_l[De]*Pe.en[3].l[De],Ze=Math.max(Pe.thm[2].l[De],Math.min(Pe.thm[3].l[De],$e));$e=Pe.mld_l[De]*Pe.en[2].l[De];var it=Math.max(Pe.thm[3].l[De],Math.min(Pe.thm[2].l[De],$e));Pe.thm[2].l[De]=Ze,Pe.thm[3].l[De]=it}for(var De=0;De<j.SBMAX_s;De++)for(var qe=0;qe<3;qe++)if(!(Pe.thm[0].s[De][qe]>1.58*Pe.thm[1].s[De][qe]||Pe.thm[1].s[De][qe]>1.58*Pe.thm[0].s[De][qe])){var $e=Pe.mld_s[De]*Pe.en[3].s[De][qe],Ze=Math.max(Pe.thm[2].s[De][qe],Math.min(Pe.thm[3].s[De][qe],$e));$e=Pe.mld_s[De]*Pe.en[2].s[De][qe];var it=Math.max(Pe.thm[3].s[De][qe],Math.min(Pe.thm[2].s[De][qe],$e));Pe.thm[2].s[De][qe]=Ze,Pe.thm[3].s[De][qe]=it}}function Ye(Pe,De,$e){var Ze=De,it=Math.pow(10,$e);De*=2,Ze*=2;for(var qe=0;qe<j.SBMAX_l;qe++){var at,ft,st,bt;if(bt=Pe.ATH.cb_l[Pe.bm_l[qe]]*it,at=Math.min(Math.max(Pe.thm[0].l[qe],bt),Math.max(Pe.thm[1].l[qe],bt)),ft=Math.max(Pe.thm[2].l[qe],bt),st=Math.max(Pe.thm[3].l[qe],bt),at*De<ft+st){var ct=at*Ze/(ft+st);ft*=ct,st*=ct}Pe.thm[2].l[qe]=Math.min(ft,Pe.thm[2].l[qe]),Pe.thm[3].l[qe]=Math.min(st,Pe.thm[3].l[qe])}it*=j.BLKSIZE_s/j.BLKSIZE;for(var qe=0;qe<j.SBMAX_s;qe++)for(var St=0;St<3;St++){var at,ft,st,bt;if(bt=Pe.ATH.cb_s[Pe.bm_s[qe]]*it,at=Math.min(Math.max(Pe.thm[0].s[qe][St],bt),Math.max(Pe.thm[1].s[qe][St],bt)),ft=Math.max(Pe.thm[2].s[qe][St],bt),st=Math.max(Pe.thm[3].s[qe][St],bt),at*De<ft+st){var ct=at*De/(ft+st);ft*=ct,st*=ct}Pe.thm[2].s[qe][St]=Math.min(Pe.thm[2].s[qe][St],ft),Pe.thm[3].s[qe][St]=Math.min(Pe.thm[3].s[qe][St],st)}}function rt(Pe,De,$e,Ze,it){var qe,at,ft=0,st=0;for(qe=at=0;qe<j.SBMAX_s;++at,++qe){for(var bt=Pe.bo_s[qe],ct=Pe.npart_s,St=bt<ct?bt:ct;at<St;)ft+=De[at],st+=$e[at],at++;if(Pe.en[Ze].s[qe][it]=ft,Pe.thm[Ze].s[qe][it]=st,at>=ct){++qe;break}{var Ot=Pe.PSY.bo_s_weight[qe],Wt=1-Ot;ft=Ot*De[at],st=Ot*$e[at],Pe.en[Ze].s[qe][it]+=ft,Pe.thm[Ze].s[qe][it]+=st,ft=Wt*De[at],st=Wt*$e[at]}}for(;qe<j.SBMAX_s;++qe)Pe.en[Ze].s[qe][it]=0,Pe.thm[Ze].s[qe][it]=0}function Z(Pe,De,$e,Ze){var it,qe,at=0,ft=0;for(it=qe=0;it<j.SBMAX_l;++qe,++it){for(var st=Pe.bo_l[it],bt=Pe.npart_l,ct=st<bt?st:bt;qe<ct;)at+=De[qe],ft+=$e[qe],qe++;if(Pe.en[Ze].l[it]=at,Pe.thm[Ze].l[it]=ft,qe>=bt){++it;break}{var St=Pe.PSY.bo_l_weight[it],Ot=1-St;at=St*De[qe],ft=St*$e[qe],Pe.en[Ze].l[it]+=at,Pe.thm[Ze].l[it]+=ft,at=Ot*De[qe],ft=Ot*$e[qe]}}for(;it<j.SBMAX_l;++it)Pe.en[Ze].l[it]=0,Pe.thm[Ze].l[it]=0}function he(Pe,De,$e,Ze,it,qe){var at=Pe.internal_flags,ft,st;for(st=ft=0;st<at.npart_s;++st){for(var bt=0,ct=at.numlines_s[st],St=0;St<ct;++St,++ft){var Ot=De[qe][ft];bt+=Ot}$e[st]=bt}for(ft=st=0;st<at.npart_s;st++){var Wt=at.s3ind_s[st][0],Tt=at.s3_ss[ft++]*$e[Wt];for(++Wt;Wt<=at.s3ind_s[st][1];)Tt+=at.s3_ss[ft]*$e[Wt],++ft,++Wt;{var qt=Ke*at.nb_s1[it][st];Ze[st]=Math.min(Tt,qt)}if(at.blocktype_old[it&1]==j.SHORT_TYPE){var qt=Ge*at.nb_s2[it][st],vt=Ze[st];Ze[st]=Math.min(qt,vt)}at.nb_s2[it][st]=at.nb_s1[it][st],at.nb_s1[it][st]=Tt}for(;st<=j.CBANDS;++st)$e[st]=0,Ze[st]=0}function pt(Pe,De,$e,Ze){var it=Pe.internal_flags;Pe.short_blocks==a.short_block_coupled&&!(De[0]!=0&&De[1]!=0)&&(De[0]=De[1]=0);for(var qe=0;qe<it.channels_out;qe++)Ze[qe]=j.NORM_TYPE,Pe.short_blocks==a.short_block_dispensed&&(De[qe]=1),Pe.short_blocks==a.short_block_forced&&(De[qe]=0),De[qe]!=0?it.blocktype_old[qe]==j.SHORT_TYPE&&(Ze[qe]=j.STOP_TYPE):(Ze[qe]=j.SHORT_TYPE,it.blocktype_old[qe]==j.NORM_TYPE&&(it.blocktype_old[qe]=j.START_TYPE),it.blocktype_old[qe]==j.STOP_TYPE&&(it.blocktype_old[qe]=j.SHORT_TYPE)),$e[qe]=it.blocktype_old[qe],it.blocktype_old[qe]=Ze[qe]}function _t(Pe,De,$e){return $e>=1?Pe:$e<=0?De:De>0?Math.pow(Pe/De,$e)*De:0}var kt=[11.8,13.6,17.2,32,46.5,51.3,57.5,67.1,71.5,84.6,97.6,130];function Dt(Pe,De){for(var $e=309.07,Ze=0;Ze<j.SBMAX_s-1;Ze++)for(var it=0;it<3;it++){var qe=Pe.thm.s[Ze][it];if(qe>0){var at=qe*De,ft=Pe.en.s[Ze][it];ft>at&&(ft>at*1e10?$e+=kt[Ze]*(10*Ne):$e+=kt[Ze]*y.FAST_LOG10(ft/at))}}return $e}var Pt=[6.8,5.8,5.8,6.4,6.5,9.9,12.1,14.4,15,18.9,21.6,26.9,34.2,40.2,46.8,56.5,60.7,73.9,85.7,93.4,126.1];function Ae(Pe,De){for(var $e=281.0575,Ze=0;Ze<j.SBMAX_l-1;Ze++){var it=Pe.thm.l[Ze];if(it>0){var qe=it*De,at=Pe.en.l[Ze];at>qe&&(at>qe*1e10?$e+=Pt[Ze]*(10*Ne):$e+=Pt[Ze]*y.FAST_LOG10(at/qe))}}return $e}function mt(Pe,De,$e,Ze,it){var qe,at;for(qe=at=0;qe<Pe.npart_l;++qe){var ft=0,st=0,bt;for(bt=0;bt<Pe.numlines_l[qe];++bt,++at){var ct=De[at];ft+=ct,st<ct&&(st=ct)}$e[qe]=ft,Ze[qe]=st,it[qe]=ft*Pe.rnumlines_l[qe]}}function gt(Pe,De,$e,Ze){var it=pe.length-1,qe=0,at=$e[qe]+$e[qe+1];if(at>0){var ft=De[qe];ft<De[qe+1]&&(ft=De[qe+1]),at=20*(ft*2-at)/(at*(Pe.numlines_l[qe]+Pe.numlines_l[qe+1]-1));var st=0|at;st>it&&(st=it),Ze[qe]=st}else Ze[qe]=0;for(qe=1;qe<Pe.npart_l-1;qe++)if(at=$e[qe-1]+$e[qe]+$e[qe+1],at>0){var ft=De[qe-1];ft<De[qe]&&(ft=De[qe]),ft<De[qe+1]&&(ft=De[qe+1]),at=20*(ft*3-at)/(at*(Pe.numlines_l[qe-1]+Pe.numlines_l[qe]+Pe.numlines_l[qe+1]-1));var st=0|at;st>it&&(st=it),Ze[qe]=st}else Ze[qe]=0;if(at=$e[qe-1]+$e[qe],at>0){var ft=De[qe-1];ft<De[qe]&&(ft=De[qe]),at=20*(ft*2-at)/(at*(Pe.numlines_l[qe-1]+Pe.numlines_l[qe]-1));var st=0|at;st>it&&(st=it),Ze[qe]=st}else Ze[qe]=0}var tt=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];this.L3psycho_anal_ns=function(Pe,De,$e,Ze,it,qe,at,ft,st,bt){var ct=Pe.internal_flags,St=f([2,j.BLKSIZE]),Ot=f([2,3,j.BLKSIZE_s]),Wt=e(j.CBANDS+1),Tt=e(j.CBANDS+1),qt=e(j.CBANDS+2),vt=n(2),Bt=n(2),rr,Et,Ut,Mt,Xt,xr,It,er,ir=f([2,576]),jr,Ir=n(j.CBANDS+2),pr=n(j.CBANDS+2);for(c.fill(pr,0),rr=ct.channels_out,Pe.mode==h.JOINT_STEREO&&(rr=4),Pe.VBR==i.vbr_off?jr=ct.ResvMax==0?0:ct.ResvSize/ct.ResvMax*.5:Pe.VBR==i.vbr_rh||Pe.VBR==i.vbr_mtrh||Pe.VBR==i.vbr_mt?jr=.6:jr=1,Et=0;Et<ct.channels_out;Et++){var yr=De[Et],nn=$e+576-350-I+192;for(Mt=0;Mt<576;Mt++){var Fr,cn;for(Fr=yr[nn+Mt+10],cn=0,Xt=0;Xt<(I-1)/2-1;Xt+=2)Fr+=tt[Xt]*(yr[nn+Mt+Xt]+yr[nn+Mt+I-Xt]),cn+=tt[Xt+1]*(yr[nn+Mt+Xt+1]+yr[nn+Mt+I-Xt-1]);ir[Et][Mt]=Fr+cn}it[Ze][Et].en.assign(ct.en[Et]),it[Ze][Et].thm.assign(ct.thm[Et]),rr>2&&(qe[Ze][Et].en.assign(ct.en[Et+2]),qe[Ze][Et].thm.assign(ct.thm[Et+2]))}for(Et=0;Et<rr;Et++){var Zn,sn,on=e(12),xs=[0,0,0,0],Js=e(12),Pi=1,ka,Ra=e(j.CBANDS),Oa=e(j.CBANDS),wr=[0,0,0,0],Pa=e(j.HBLKSIZE),Ia=f([3,j.HBLKSIZE_s]);for(Mt=0;Mt<3;Mt++)on[Mt]=ct.nsPsy.last_en_subshort[Et][Mt+6],Js[Mt]=on[Mt]/ct.nsPsy.last_en_subshort[Et][Mt+4],xs[0]+=on[Mt];if(Et==2)for(Mt=0;Mt<576;Mt++){var Ii,Di;Ii=ir[0][Mt],Di=ir[1][Mt],ir[0][Mt]=Ii+Di,ir[1][Mt]=Ii-Di}{var Da=ir[Et&1],xo=0;for(Mt=0;Mt<9;Mt++){for(var tu=xo+64,Qr=1;xo<tu;xo++)Qr<Math.abs(Da[xo])&&(Qr=Math.abs(Da[xo]));ct.nsPsy.last_en_subshort[Et][Mt]=on[Mt+3]=Qr,xs[1+Mt/3]+=Qr,Qr>on[Mt+3-2]?Qr=Qr/on[Mt+3-2]:on[Mt+3-2]>Qr*10?Qr=on[Mt+3-2]/(Qr*10):Qr=0,Js[Mt+3]=Qr}}if(Pe.analysis){var Li=Js[0];for(Mt=1;Mt<12;Mt++)Li<Js[Mt]&&(Li=Js[Mt]);ct.pinfo.ers[Ze][Et]=ct.pinfo.ers_save[Et],ct.pinfo.ers_save[Et]=Li}for(ka=Et==3?ct.nsPsy.attackthre_s:ct.nsPsy.attackthre,Mt=0;Mt<12;Mt++)wr[Mt/3]==0&&Js[Mt]>ka&&(wr[Mt/3]=Mt%3+1);for(Mt=1;Mt<4;Mt++){var ri;xs[Mt-1]>xs[Mt]?ri=xs[Mt-1]/xs[Mt]:ri=xs[Mt]/xs[Mt-1],ri<1.7&&(wr[Mt]=0,Mt==1&&(wr[0]=0))}for(wr[0]!=0&&ct.nsPsy.lastAttacks[Et]!=0&&(wr[0]=0),(ct.nsPsy.lastAttacks[Et]==3||wr[0]+wr[1]+wr[2]+wr[3]!=0)&&(Pi=0,wr[1]!=0&&wr[0]!=0&&(wr[1]=0),wr[2]!=0&&wr[1]!=0&&(wr[2]=0),wr[3]!=0&&wr[2]!=0&&(wr[3]=0)),Et<2?Bt[Et]=Pi:Pi==0&&(Bt[0]=Bt[1]=0),st[Et]=ct.tot_ener[Et],sn=Ot,Zn=St,_e(Pe,Pa,Ia,Zn,Et&1,sn,Et&1,Ze,Et,De,$e),mt(ct,Pa,Wt,Ra,Oa),gt(ct,Ra,Oa,Ir),er=0;er<3;er++){var wo,pn;for(he(Pe,Ia,Tt,qt,Et,er),rt(ct,Tt,qt,Et,er),It=0;It<j.SBMAX_s;It++){if(pn=ct.thm[Et].s[It][er],pn*=Ee,wr[er]>=2||wr[er+1]==1){var So=er!=0?er-1:2,Qr=_t(ct.thm[Et].s[It][So],pn,we*jr);pn=Math.min(pn,Qr)}if(wr[er]==1){var So=er!=0?er-1:2,Qr=_t(ct.thm[Et].s[It][So],pn,B*jr);pn=Math.min(pn,Qr)}else if(er!=0&&wr[er-1]==3||er==0&&ct.nsPsy.lastAttacks[Et]==3){var So=er!=2?er+1:0,Qr=_t(ct.thm[Et].s[It][So],pn,B*jr);pn=Math.min(pn,Qr)}wo=on[er*3+3]+on[er*3+4]+on[er*3+5],on[er*3+5]*6<wo&&(pn*=.5,on[er*3+4]*6<wo&&(pn*=.5)),ct.thm[Et].s[It][er]=pn}}for(ct.nsPsy.lastAttacks[Et]=wr[2],xr=0,Ut=0;Ut<ct.npart_l;Ut++){for(var Cn=ct.s3ind[Ut][0],ls=Wt[Cn]*pe[Ir[Cn]],Vt=ct.s3_ll[xr++]*ls;++Cn<=ct.s3ind[Ut][1];)ls=Wt[Cn]*pe[Ir[Cn]],Vt=ee(Vt,ct.s3_ll[xr++]*ls,Cn,Cn-Ut,ct,0);Vt*=.158489319246111,ct.blocktype_old[Et&1]==j.SHORT_TYPE?qt[Ut]=Vt:qt[Ut]=_t(Math.min(Vt,Math.min(Oe*ct.nb_1[Et][Ut],We*ct.nb_2[Et][Ut])),Vt,jr),ct.nb_2[Et][Ut]=ct.nb_1[Et][Ut],ct.nb_1[Et][Ut]=Vt}for(;Ut<=j.CBANDS;++Ut)Wt[Ut]=0,qt[Ut]=0;Z(ct,Wt,qt,Et)}if((Pe.mode==h.STEREO||Pe.mode==h.JOINT_STEREO)&&Pe.interChRatio>0&&Ue(Pe,Pe.interChRatio),Pe.mode==h.JOINT_STEREO){var La;Je(ct),La=Pe.msfix,Math.abs(La)>0&&Ye(ct,La,Pe.ATHlower*ct.ATH.adjust)}for(pt(Pe,Bt,bt,vt),Et=0;Et<rr;Et++){var jo,us=0,Ni,Bi;Et>1?(jo=ft,us=-2,Ni=j.NORM_TYPE,(bt[0]==j.SHORT_TYPE||bt[1]==j.SHORT_TYPE)&&(Ni=j.SHORT_TYPE),Bi=qe[Ze][Et-2]):(jo=at,us=0,Ni=bt[Et],Bi=it[Ze][Et]),Ni==j.SHORT_TYPE?jo[us+Et]=Dt(Bi,ct.masking_lower):jo[us+Et]=Ae(Bi,ct.masking_lower),Pe.analysis&&(ct.pinfo.pe[Ze][Et]=jo[us+Et])}return 0};function zt(Pe,De,$e,Ze,it,qe,at,ft){var st=Pe.internal_flags;if(Ze<2)se.fft_long(st,at[ft],Ze,De,$e);else if(Ze==2)for(var bt=j.BLKSIZE-1;bt>=0;--bt){var ct=at[ft+0][bt],St=at[ft+1][bt];at[ft+0][bt]=(ct+St)*y.SQRT2*.5,at[ft+1][bt]=(ct-St)*y.SQRT2*.5}qe[0]=at[ft+0][0],qe[0]*=qe[0];for(var bt=j.BLKSIZE/2-1;bt>=0;--bt){var Ot=at[ft+0][j.BLKSIZE/2-bt],Wt=at[ft+0][j.BLKSIZE/2+bt];qe[j.BLKSIZE/2-bt]=(Ot*Ot+Wt*Wt)*.5}{for(var Tt=0,bt=11;bt<j.HBLKSIZE;bt++)Tt+=qe[bt];st.tot_ener[Ze]=Tt}if(Pe.analysis){for(var bt=0;bt<j.HBLKSIZE;bt++)st.pinfo.energy[it][Ze][bt]=st.pinfo.energy_save[Ze][bt],st.pinfo.energy_save[Ze][bt]=qe[bt];st.pinfo.pe[it][Ze]=st.pe[Ze]}}function xt(Pe,De,$e,Ze,it,qe,at,ft){var st=Pe.internal_flags;if(it==0&&Ze<2&&se.fft_short(st,at[ft],Ze,De,$e),Ze==2)for(var bt=j.BLKSIZE_s-1;bt>=0;--bt){var ct=at[ft+0][it][bt],St=at[ft+1][it][bt];at[ft+0][it][bt]=(ct+St)*y.SQRT2*.5,at[ft+1][it][bt]=(ct-St)*y.SQRT2*.5}qe[it][0]=at[ft+0][it][0],qe[it][0]*=qe[it][0];for(var bt=j.BLKSIZE_s/2-1;bt>=0;--bt){var Ot=at[ft+0][it][j.BLKSIZE_s/2-bt],Wt=at[ft+0][it][j.BLKSIZE_s/2+bt];qe[it][j.BLKSIZE_s/2-bt]=(Ot*Ot+Wt*Wt)*.5}}function Gt(Pe,De,$e,Ze){var it=Pe.internal_flags;Pe.athaa_loudapprox==2&&$e<2&&(it.loudness_sq[De][$e]=it.loudness_sq_save[$e],it.loudness_sq_save[$e]=ge(Ze,it))}var Ct=[-865163e-23*2,-.00851586*2,-674764e-23*2,.0209036*2,-336639e-22*2,-.0438162*2,-154175e-22*2,.0931738*2,-552212e-22*2,-.313819*2];function $t(Pe,De,$e,Ze,it,qe,at,ft,st,bt){for(var ct=f([2,576]),St=Pe.internal_flags,Ot=St.channels_out,Wt=Pe.mode==h.JOINT_STEREO?4:Ot,Tt=0;Tt<Ot;Tt++){firbuf=De[Tt];for(var qt=$e+576-350-I+192,vt=0;vt<576;vt++){var Bt,rr;Bt=firbuf[qt+vt+10],rr=0;for(var Et=0;Et<(I-1)/2-1;Et+=2)Bt+=Ct[Et]*(firbuf[qt+vt+Et]+firbuf[qt+vt+I-Et]),rr+=Ct[Et+1]*(firbuf[qt+vt+Et+1]+firbuf[qt+vt+I-Et-1]);ct[Tt][vt]=Bt+rr}it[Ze][Tt].en.assign(St.en[Tt]),it[Ze][Tt].thm.assign(St.thm[Tt]),Wt>2&&(qe[Ze][Tt].en.assign(St.en[Tt+2]),qe[Ze][Tt].thm.assign(St.thm[Tt+2]))}for(var Tt=0;Tt<Wt;Tt++){var Ut=e(12),Mt=e(12),Xt=[0,0,0,0],xr=ct[Tt&1],It=0,er=Tt==3?St.nsPsy.attackthre_s:St.nsPsy.attackthre,ir=1;if(Tt==2)for(var vt=0,Et=576;Et>0;++vt,--Et){var jr=ct[0][vt],Ir=ct[1][vt];ct[0][vt]=jr+Ir,ct[1][vt]=jr-Ir}for(var vt=0;vt<3;vt++)Mt[vt]=St.nsPsy.last_en_subshort[Tt][vt+6],Ut[vt]=Mt[vt]/St.nsPsy.last_en_subshort[Tt][vt+4],Xt[0]+=Mt[vt];for(var vt=0;vt<9;vt++){for(var pr=It+64,yr=1;It<pr;It++)yr<Math.abs(xr[It])&&(yr=Math.abs(xr[It]));St.nsPsy.last_en_subshort[Tt][vt]=Mt[vt+3]=yr,Xt[1+vt/3]+=yr,yr>Mt[vt+3-2]?yr=yr/Mt[vt+3-2]:Mt[vt+3-2]>yr*10?yr=Mt[vt+3-2]/(yr*10):yr=0,Ut[vt+3]=yr}for(var vt=0;vt<3;++vt){var nn=Mt[vt*3+3]+Mt[vt*3+4]+Mt[vt*3+5],Fr=1;Mt[vt*3+5]*6<nn&&(Fr*=.5,Mt[vt*3+4]*6<nn&&(Fr*=.5)),ft[Tt][vt]=Fr}if(Pe.analysis){for(var cn=Ut[0],vt=1;vt<12;vt++)cn<Ut[vt]&&(cn=Ut[vt]);St.pinfo.ers[Ze][Tt]=St.pinfo.ers_save[Tt],St.pinfo.ers_save[Tt]=cn}for(var vt=0;vt<12;vt++)st[Tt][vt/3]==0&&Ut[vt]>er&&(st[Tt][vt/3]=vt%3+1);for(var vt=1;vt<4;vt++){var Zn=Xt[vt-1],sn=Xt[vt],on=Math.max(Zn,sn);on<4e4&&Zn<1.7*sn&&sn<1.7*Zn&&(vt==1&&st[Tt][0]<=st[Tt][vt]&&(st[Tt][0]=0),st[Tt][vt]=0)}st[Tt][0]<=St.nsPsy.lastAttacks[Tt]&&(st[Tt][0]=0),(St.nsPsy.lastAttacks[Tt]==3||st[Tt][0]+st[Tt][1]+st[Tt][2]+st[Tt][3]!=0)&&(ir=0,st[Tt][1]!=0&&st[Tt][0]!=0&&(st[Tt][1]=0),st[Tt][2]!=0&&st[Tt][1]!=0&&(st[Tt][2]=0),st[Tt][3]!=0&&st[Tt][2]!=0&&(st[Tt][3]=0)),Tt<2?bt[Tt]=ir:ir==0&&(bt[0]=bt[1]=0),at[Tt]=St.tot_ener[Tt]}}function At(Pe,De,$e){if($e==0)for(var Ze=0;Ze<Pe.npart_s;Ze++)Pe.nb_s2[De][Ze]=Pe.nb_s1[De][Ze],Pe.nb_s1[De][Ze]=0}function lr(Pe,De){for(var $e=0;$e<Pe.npart_l;$e++)Pe.nb_2[De][$e]=Pe.nb_1[De][$e],Pe.nb_1[De][$e]=0}function mr(Pe,De,$e,Ze){var it=pe.length-1,qe=0,at=$e[qe]+$e[qe+1];if(at>0){var ft=De[qe];ft<De[qe+1]&&(ft=De[qe+1]),at=20*(ft*2-at)/(at*(Pe.numlines_s[qe]+Pe.numlines_s[qe+1]-1));var st=0|at;st>it&&(st=it),Ze[qe]=st}else Ze[qe]=0;for(qe=1;qe<Pe.npart_s-1;qe++)if(at=$e[qe-1]+$e[qe]+$e[qe+1],at>0){var ft=De[qe-1];ft<De[qe]&&(ft=De[qe]),ft<De[qe+1]&&(ft=De[qe+1]),at=20*(ft*3-at)/(at*(Pe.numlines_s[qe-1]+Pe.numlines_s[qe]+Pe.numlines_s[qe+1]-1));var st=0|at;st>it&&(st=it),Ze[qe]=st}else Ze[qe]=0;if(at=$e[qe-1]+$e[qe],at>0){var ft=De[qe-1];ft<De[qe]&&(ft=De[qe]),at=20*(ft*2-at)/(at*(Pe.numlines_s[qe-1]+Pe.numlines_s[qe]-1));var st=0|at;st>it&&(st=it),Ze[qe]=st}else Ze[qe]=0}function dr(Pe,De,$e,Ze,it,qe){var at=Pe.internal_flags,ft=new float[j.CBANDS],st=e(j.CBANDS),bt,ct,St,Ot=new int[j.CBANDS];for(St=ct=0;St<at.npart_s;++St){var Wt=0,Tt=0,qt=at.numlines_s[St];for(bt=0;bt<qt;++bt,++ct){var vt=De[qe][ct];Wt+=vt,Tt<vt&&(Tt=vt)}$e[St]=Wt,ft[St]=Tt,st[St]=Wt/qt}for(;St<j.CBANDS;++St)ft[St]=0,st[St]=0;for(mr(at,ft,st,Ot),ct=St=0;St<at.npart_s;St++){var Bt=at.s3ind_s[St][0],rr=at.s3ind_s[St][1],Et,Ut,Mt,Xt,xr;for(Et=Ot[Bt],Ut=1,Xt=at.s3_ss[ct]*$e[Bt]*pe[Ot[Bt]],++ct,++Bt;Bt<=rr;)Et+=Ot[Bt],Ut+=1,Mt=at.s3_ss[ct]*$e[Bt]*pe[Ot[Bt]],Xt=be(Xt,Mt,Bt-St),++ct,++Bt;Et=(1+2*Et)/(2*Ut),xr=pe[Et]*.5,Xt*=xr,Ze[St]=Xt,at.nb_s2[it][St]=at.nb_s1[it][St],at.nb_s1[it][St]=Xt,Mt=ft[St],Mt*=at.minval_s[St],Mt*=xr,Ze[St]>Mt&&(Ze[St]=Mt),at.masking_lower>1&&(Ze[St]*=at.masking_lower),Ze[St]>$e[St]&&(Ze[St]=$e[St]),at.masking_lower<1&&(Ze[St]*=at.masking_lower)}for(;St<j.CBANDS;++St)$e[St]=0,Ze[St]=0}function hr(Pe,De,$e,Ze,it){var qe=e(j.CBANDS),at=e(j.CBANDS),ft=n(j.CBANDS+2),st;mt(Pe,De,$e,qe,at),gt(Pe,qe,at,ft);var bt=0;for(st=0;st<Pe.npart_l;st++){var ct,St,Ot,Wt,Tt=Pe.s3ind[st][0],qt=Pe.s3ind[st][1],vt=0,Bt=0;for(vt=ft[Tt],Bt+=1,St=Pe.s3_ll[bt]*$e[Tt]*pe[ft[Tt]],++bt,++Tt;Tt<=qt;)vt+=ft[Tt],Bt+=1,ct=Pe.s3_ll[bt]*$e[Tt]*pe[ft[Tt]],Wt=be(St,ct,Tt-st),St=Wt,++bt,++Tt;if(vt=(1+2*vt)/(2*Bt),Ot=pe[vt]*.5,St*=Ot,Pe.blocktype_old[it&1]==j.SHORT_TYPE){var rr=Oe*Pe.nb_1[it][st];rr>0?Ze[st]=Math.min(St,rr):Ze[st]=Math.min(St,$e[st]*B)}else{var Et=We*Pe.nb_2[it][st],Ut=Oe*Pe.nb_1[it][st],rr;Et<=0&&(Et=St),Ut<=0&&(Ut=St),Pe.blocktype_old[it&1]==j.NORM_TYPE?rr=Math.min(Ut,Et):rr=Ut,Ze[st]=Math.min(St,rr)}Pe.nb_2[it][st]=Pe.nb_1[it][st],Pe.nb_1[it][st]=St,ct=qe[st],ct*=Pe.minval_l[st],ct*=Ot,Ze[st]>ct&&(Ze[st]=ct),Pe.masking_lower>1&&(Ze[st]*=Pe.masking_lower),Ze[st]>$e[st]&&(Ze[st]=$e[st]),Pe.masking_lower<1&&(Ze[st]*=Pe.masking_lower)}for(;st<j.CBANDS;++st)$e[st]=0,Ze[st]=0}function zr(Pe,De){var $e=Pe.internal_flags;Pe.short_blocks==a.short_block_coupled&&!(De[0]!=0&&De[1]!=0)&&(De[0]=De[1]=0);for(var Ze=0;Ze<$e.channels_out;Ze++)Pe.short_blocks==a.short_block_dispensed&&(De[Ze]=1),Pe.short_blocks==a.short_block_forced&&(De[Ze]=0)}function $r(Pe,De,$e){for(var Ze=Pe.internal_flags,it=0;it<Ze.channels_out;it++){var qe=j.NORM_TYPE;De[it]!=0?Ze.blocktype_old[it]==j.SHORT_TYPE&&(qe=j.STOP_TYPE):(qe=j.SHORT_TYPE,Ze.blocktype_old[it]==j.NORM_TYPE&&(Ze.blocktype_old[it]=j.START_TYPE),Ze.blocktype_old[it]==j.STOP_TYPE&&(Ze.blocktype_old[it]=j.SHORT_TYPE)),$e[it]=Ze.blocktype_old[it],Ze.blocktype_old[it]=qe}}function un(Pe,De,$e,Ze,it,qe,at){for(var ft=qe*2,st=qe>0?Math.pow(10,it):1,bt,ct,St=0;St<at;++St){var Ot=Pe[2][St],Wt=Pe[3][St],Tt=De[0][St],qt=De[1][St],vt=De[2][St],Bt=De[3][St];if(Tt<=1.58*qt&&qt<=1.58*Tt){var rr=$e[St]*Wt,Et=$e[St]*Ot;ct=Math.max(vt,Math.min(Bt,rr)),bt=Math.max(Bt,Math.min(vt,Et))}else ct=vt,bt=Bt;if(qe>0){var Ut,Mt,Xt=Ze[St]*st;if(Ut=Math.min(Math.max(Tt,Xt),Math.max(qt,Xt)),vt=Math.max(ct,Xt),Bt=Math.max(bt,Xt),Mt=vt+Bt,Mt>0&&Ut*ft<Mt){var xr=Ut*ft/Mt;vt*=xr,Bt*=xr}ct=Math.min(vt,ct),bt=Math.min(Bt,bt)}ct>Ot&&(ct=Ot),bt>Wt&&(bt=Wt),De[2][St]=ct,De[3][St]=bt}}this.L3psycho_anal_vbr=function(Pe,De,$e,Ze,it,qe,at,ft,st,bt){var ct=Pe.internal_flags,St,Ot,Wt=e(j.HBLKSIZE),Tt=f([3,j.HBLKSIZE_s]),qt=f([2,j.BLKSIZE]),vt=f([2,3,j.BLKSIZE_s]),Bt=f([4,j.CBANDS]),rr=f([4,j.CBANDS]),Et=f([4,3]),Ut=.6,Mt=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],Xt=n(2),xr=Pe.mode==h.JOINT_STEREO?4:ct.channels_out;$t(Pe,De,$e,Ze,it,qe,st,Et,Mt,Xt),zr(Pe,Xt);{for(var It=0;It<xr;It++){var er=It&1;St=qt,zt(Pe,De,$e,It,Ze,Wt,St,er),Gt(Pe,Ze,It,Wt),Xt[er]!=0?hr(ct,Wt,Bt[It],rr[It],It):lr(ct,It)}Xt[0]+Xt[1]==2&&Pe.mode==h.JOINT_STEREO&&un(Bt,rr,ct.mld_cb_l,ct.ATH.cb_l,Pe.ATHlower*ct.ATH.adjust,Pe.msfix,ct.npart_l);for(var It=0;It<xr;It++){var er=It&1;Xt[er]!=0&&Z(ct,Bt[It],rr[It],It)}}{for(var ir=0;ir<3;ir++){for(var It=0;It<xr;++It){var er=It&1;Xt[er]!=0?At(ct,It,ir):(Ot=vt,xt(Pe,De,$e,It,ir,Tt,Ot,er),dr(Pe,Tt,Bt[It],rr[It],It,ir))}Xt[0]+Xt[1]==0&&Pe.mode==h.JOINT_STEREO&&un(Bt,rr,ct.mld_cb_s,ct.ATH.cb_s,Pe.ATHlower*ct.ATH.adjust,Pe.msfix,ct.npart_s);for(var It=0;It<xr;++It){var er=It&1;Xt[er]==0&&rt(ct,Bt[It],rr[It],It,ir)}}for(var It=0;It<xr;It++){var er=It&1;if(Xt[er]==0)for(var jr=0;jr<j.SBMAX_s;jr++){for(var Ir=e(3),ir=0;ir<3;ir++){var pr=ct.thm[It].s[jr][ir];if(pr*=Ee,Mt[It][ir]>=2||Mt[It][ir+1]==1){var yr=ir!=0?ir-1:2,nn=_t(ct.thm[It].s[jr][yr],pr,we*Ut);pr=Math.min(pr,nn)}else if(Mt[It][ir]==1){var yr=ir!=0?ir-1:2,nn=_t(ct.thm[It].s[jr][yr],pr,B*Ut);pr=Math.min(pr,nn)}else if(ir!=0&&Mt[It][ir-1]==3||ir==0&&ct.nsPsy.lastAttacks[It]==3){var yr=ir!=2?ir+1:0,nn=_t(ct.thm[It].s[jr][yr],pr,B*Ut);pr=Math.min(pr,nn)}pr*=Et[It][ir],Ir[ir]=pr}for(var ir=0;ir<3;ir++)ct.thm[It].s[jr][ir]=Ir[ir]}}}for(var It=0;It<xr;It++)ct.nsPsy.lastAttacks[It]=Mt[It][2];$r(Pe,Xt,bt);for(var It=0;It<xr;It++){var Fr,cn,Zn,sn;It>1?(Fr=ft,cn=-2,Zn=j.NORM_TYPE,(bt[0]==j.SHORT_TYPE||bt[1]==j.SHORT_TYPE)&&(Zn=j.SHORT_TYPE),sn=qe[Ze][It-2]):(Fr=at,cn=0,Zn=bt[It],sn=it[Ze][It]),Zn==j.SHORT_TYPE?Fr[cn+It]=Dt(sn,ct.masking_lower):Fr[cn+It]=Ae(sn,ct.masking_lower),Pe.analysis&&(ct.pinfo.pe[Ze][It]=Fr[cn+It])}return 0};function fr(Pe,De){var $e=Pe,Ze;return $e>=0?Ze=-$e*27:Ze=$e*De,Ze<=-72?0:Math.exp(Ze*C)}function Ls(Pe){var De=0,$e=0;{var Ze=0,it,qe;for(Ze=0;fr(Ze,Pe)>1e-20;Ze-=1);for(it=Ze,qe=0;Math.abs(qe-it)>1e-12;)Ze=(qe+it)/2,fr(Ze,Pe)>0?qe=Ze:it=Ze;De=it}{var Ze=0,it,qe;for(Ze=0;fr(Ze,Pe)>1e-20;Ze+=1);for(it=0,qe=Ze;Math.abs(qe-it)>1e-12;)Ze=(qe+it)/2,fr(Ze,Pe)>0?it=Ze:qe=Ze;$e=qe}{var at=0,ft=1e3,st;for(st=0;st<=ft;++st){var Ze=De+st*($e-De)/ft,bt=fr(Ze,Pe);at+=bt}{var ct=(ft+1)/(at*($e-De));return ct}}}function Zr(Pe){var De,$e,Ze,it;return De=Pe,De>=0?De*=3:De*=1.5,De>=.5&&De<=2.5?(it=De-.5,$e=8*(it*it-2*it)):$e=0,De+=.474,Ze=15.811389+7.5*De-17.5*Math.sqrt(1+De*De),Ze<=-60?0:(De=Math.exp(($e+Ze)*C),De/=.6609193,De)}function rn(Pe){return Pe<0&&(Pe=0),Pe=Pe*.001,13*Math.atan(.76*Pe)+3.5*Math.atan(Pe*Pe/(7.5*7.5))}function bs(Pe,De,$e,Ze,it,qe,at,ft,st,bt,ct,St){var Ot=e(j.CBANDS+1),Wt=ft/(St>15?2*576:2*192),Tt=n(j.HBLKSIZE),qt;ft/=st;var vt=0,Bt=0;for(qt=0;qt<j.CBANDS;qt++){var rr,Et;for(rr=rn(ft*vt),Ot[qt]=ft*vt,Et=vt;rn(ft*Et)-rr<et&&Et<=st/2;Et++);for(Pe[qt]=Et-vt,Bt=qt+1;vt<Et;)Tt[vt++]=qt;if(vt>st/2){vt=st/2,++qt;break}}Ot[qt]=ft*vt;for(var Ut=0;Ut<St;Ut++){var Mt,Xt,xr,It,er;xr=bt[Ut],It=bt[Ut+1],Mt=0|Math.floor(.5+ct*(xr-.5)),Mt<0&&(Mt=0),Xt=0|Math.floor(.5+ct*(It-.5)),Xt>st/2&&(Xt=st/2),$e[Ut]=(Tt[Mt]+Tt[Xt])/2,De[Ut]=Tt[Xt];var ir=Wt*It;at[Ut]=(ir-Ot[De[Ut]])/(Ot[De[Ut]+1]-Ot[De[Ut]]),at[Ut]<0?at[Ut]=0:at[Ut]>1&&(at[Ut]=1),er=rn(ft*bt[Ut]*ct),er=Math.min(er,15.5)/15.5,qe[Ut]=Math.pow(10,1.25*(1-Math.cos(Math.PI*er))-2.5)}vt=0;for(var jr=0;jr<Bt;jr++){var Ir=Pe[jr],rr,pr;rr=rn(ft*vt),pr=rn(ft*(vt+Ir-1)),Ze[jr]=.5*(rr+pr),rr=rn(ft*(vt-.5)),pr=rn(ft*(vt+Ir-.5)),it[jr]=pr-rr,vt+=Ir}return Bt}function Ca(Pe,De,$e,Ze,it,qe){var at=f([j.CBANDS,j.CBANDS]),ft,st=0;if(qe)for(var bt=0;bt<De;bt++)for(ft=0;ft<De;ft++){var ct=Zr($e[bt]-$e[ft])*Ze[ft];at[bt][ft]=ct*it[bt]}else for(ft=0;ft<De;ft++)for(var St=15+Math.min(21/$e[ft],12),Ot=Ls(St),bt=0;bt<De;bt++){var ct=Ot*fr($e[bt]-$e[ft],St)*Ze[ft];at[bt][ft]=ct*it[bt]}for(var bt=0;bt<De;bt++){for(ft=0;ft<De&&!(at[bt][ft]>0);ft++);for(Pe[bt][0]=ft,ft=De-1;ft>0&&!(at[bt][ft]>0);ft--);Pe[bt][1]=ft,st+=Pe[bt][1]-Pe[bt][0]+1}for(var Wt=e(st),Tt=0,bt=0;bt<De;bt++)for(ft=Pe[bt][0];ft<=Pe[bt][1];ft++)Wt[Tt++]=at[bt][ft];return Wt}function Aa(Pe){var De=rn(Pe);return De=Math.min(De,15.5)/15.5,Math.pow(10,1.25*(1-Math.cos(Math.PI*De))-2.5)}this.psymodel_init=function(Pe){var De=Pe.internal_flags,$e,Ze=!0,it=13,qe=24,at=0,ft=0,st=-8.25,bt=-4.5,ct=e(j.CBANDS),St=e(j.CBANDS),Ot=e(j.CBANDS),Wt=Pe.out_samplerate;switch(Pe.experimentalZ){default:case 0:Ze=!0;break;case 1:Ze=!(Pe.VBR==i.vbr_mtrh||Pe.VBR==i.vbr_mt);break;case 2:Ze=!1;break;case 3:it=8,at=-1.75,ft=-.0125,st=-8.25,bt=-2.25;break}for(De.ms_ener_ratio_old=.25,De.blocktype_old[0]=De.blocktype_old[1]=j.NORM_TYPE,$e=0;$e<4;++$e){for(var vt=0;vt<j.CBANDS;++vt)De.nb_1[$e][vt]=1e20,De.nb_2[$e][vt]=1e20,De.nb_s1[$e][vt]=De.nb_s2[$e][vt]=1;for(var Tt=0;Tt<j.SBMAX_l;Tt++)De.en[$e].l[Tt]=1e20,De.thm[$e].l[Tt]=1e20;for(var vt=0;vt<3;++vt){for(var Tt=0;Tt<j.SBMAX_s;Tt++)De.en[$e].s[Tt][vt]=1e20,De.thm[$e].s[Tt][vt]=1e20;De.nsPsy.lastAttacks[$e]=0}for(var vt=0;vt<9;vt++)De.nsPsy.last_en_subshort[$e][vt]=10}for(De.loudness_sq_save[0]=De.loudness_sq_save[1]=0,De.npart_l=bs(De.numlines_l,De.bo_l,De.bm_l,ct,St,De.mld_l,De.PSY.bo_l_weight,Wt,j.BLKSIZE,De.scalefac_band.l,j.BLKSIZE/(2*576),j.SBMAX_l),$e=0;$e<De.npart_l;$e++){var qt=at;ct[$e]>=it&&(qt=ft*(ct[$e]-it)/(qe-it)+at*(qe-ct[$e])/(qe-it)),Ot[$e]=Math.pow(10,qt/10),De.numlines_l[$e]>0?De.rnumlines_l[$e]=1/De.numlines_l[$e]:De.rnumlines_l[$e]=0}De.s3_ll=Ca(De.s3ind,De.npart_l,ct,St,Ot,Ze);var vt=0;for($e=0;$e<De.npart_l;$e++){var Bt;Bt=u.MAX_VALUE;for(var rr=0;rr<De.numlines_l[$e];rr++,vt++){var Et=Wt*vt/(1e3*j.BLKSIZE),Ut;Ut=this.ATHformula(Et*1e3,Pe)-20,Ut=Math.pow(10,.1*Ut),Ut*=De.numlines_l[$e],Bt>Ut&&(Bt=Ut)}De.ATH.cb_l[$e]=Bt,Bt=-20+ct[$e]*20/10,Bt>6&&(Bt=100),Bt<-15&&(Bt=-15),Bt-=8,De.minval_l[$e]=Math.pow(10,Bt/10)*De.numlines_l[$e]}for(De.npart_s=bs(De.numlines_s,De.bo_s,De.bm_s,ct,St,De.mld_s,De.PSY.bo_s_weight,Wt,j.BLKSIZE_s,De.scalefac_band.s,j.BLKSIZE_s/(2*192),j.SBMAX_s),vt=0,$e=0;$e<De.npart_s;$e++){var Bt,qt=st;ct[$e]>=it&&(qt=bt*(ct[$e]-it)/(qe-it)+st*(qe-ct[$e])/(qe-it)),Ot[$e]=Math.pow(10,qt/10),Bt=u.MAX_VALUE;for(var rr=0;rr<De.numlines_s[$e];rr++,vt++){var Et=Wt*vt/(1e3*j.BLKSIZE_s),Ut;Ut=this.ATHformula(Et*1e3,Pe)-20,Ut=Math.pow(10,.1*Ut),Ut*=De.numlines_s[$e],Bt>Ut&&(Bt=Ut)}De.ATH.cb_s[$e]=Bt,Bt=-7+ct[$e]*7/12,ct[$e]>12&&(Bt*=1+Math.log(1+Bt)*3.1),ct[$e]<12&&(Bt*=1+Math.log(1-Bt)*2.3),Bt<-15&&(Bt=-15),Bt-=8,De.minval_s[$e]=Math.pow(10,Bt/10)*De.numlines_s[$e]}De.s3_ss=Ca(De.s3ind_s,De.npart_s,ct,St,Ot,Ze),Y(),se.init_fft(De),De.decay=Math.exp(-1*Ne/(Be*Wt/192));{var Mt;Mt=G,(Pe.exp_nspsytune&2)!=0&&(Mt=1),Math.abs(Pe.msfix)>0&&(Mt=Pe.msfix),Pe.msfix=Mt;for(var Xt=0;Xt<De.npart_l;Xt++)De.s3ind[Xt][1]>De.npart_l-1&&(De.s3ind[Xt][1]=De.npart_l-1)}var xr=576*De.mode_gr/Wt;if(De.ATH.decay=Math.pow(10,-12/10*xr),De.ATH.adjust=.01,De.ATH.adjustLimit=1,Pe.ATHtype!=-1){var Et,It=Pe.out_samplerate/j.BLKSIZE,er=0;for(Et=0,$e=0;$e<j.BLKSIZE/2;++$e)Et+=It,De.ATH.eql_w[$e]=1/Math.pow(10,this.ATHformula(Et,Pe)/10),er+=De.ATH.eql_w[$e];for(er=1/er,$e=j.BLKSIZE/2;--$e>=0;)De.ATH.eql_w[$e]*=er}{for(var Xt=vt=0;Xt<De.npart_s;++Xt)for($e=0;$e<De.numlines_s[Xt];++$e)++vt;for(var Xt=vt=0;Xt<De.npart_l;++Xt)for($e=0;$e<De.numlines_l[Xt];++$e)++vt}for(vt=0,$e=0;$e<De.npart_l;$e++){var Et=Wt*(vt+De.numlines_l[$e]/2)/(1*j.BLKSIZE);De.mld_cb_l[$e]=Aa(Et),vt+=De.numlines_l[$e]}for(;$e<j.CBANDS;++$e)De.mld_cb_l[$e]=1;for(vt=0,$e=0;$e<De.npart_s;$e++){var Et=Wt*(vt+De.numlines_s[$e]/2)/(1*j.BLKSIZE_s);De.mld_cb_s[$e]=Aa(Et),vt+=De.numlines_s[$e]}for(;$e<j.CBANDS;++$e)De.mld_cb_s[$e]=1;return 0};function Ks(Pe,De){Pe<-.3&&(Pe=3410),Pe/=1e3,Pe=Math.max(.1,Pe);var $e=3.64*Math.pow(Pe,-.8)-6.8*Math.exp(-.6*Math.pow(Pe-3.4,2))+6*Math.exp(-.15*Math.pow(Pe-8.7,2))+(.6+.04*De)*.001*Math.pow(Pe,4);return $e}this.ATHformula=function(Pe,De){var $e;switch(De.ATHtype){case 0:$e=Ks(Pe,9);break;case 1:$e=Ks(Pe,-1);break;case 2:$e=Ks(Pe,0);break;case 3:$e=Ks(Pe,1)+6;break;case 4:$e=Ks(Pe,De.ATHcurve);break;default:$e=Ks(Pe,0);break}return $e}}function Se(){var se=this,Ne=128*1024;Se.V9=410,Se.V8=420,Se.V7=430,Se.V6=440,Se.V5=450,Se.V4=460,Se.V3=470,Se.V2=480,Se.V1=490,Se.V0=500,Se.R3MIX=1e3,Se.STANDARD=1001,Se.EXTREME=1002,Se.INSANE=1003,Se.STANDARD_FAST=1004,Se.EXTREME_FAST=1005,Se.MEDIUM=1006,Se.MEDIUM_FAST=1007;var Oe=16384+Ne;Se.LAME_MAXMP3BUFFER=Oe;var We,Ke,Ge,et,ut,Be=new Me,Ee,we,B;this.enc=new j,this.setModules=function(Z,he,pt,_t,kt,Dt,Pt,Ae,mt){We=Z,Ke=he,Ge=pt,et=_t,ut=kt,Ee=Dt,we=Ae,B=mt,this.enc.setModules(Ke,Be,et,Ee)};function G(){this.mask_adjust=0,this.mask_adjust_short=0,this.bo_l_weight=e(j.SBMAX_l),this.bo_s_weight=e(j.SBMAX_s)}function I(){this.lowerlimit=0}function C(Z,he){this.lowpass=he}var ye=4294479419;function ge(Z){var he;return Z.class_id=ye,he=Z.internal_flags=new Te,Z.mode=h.NOT_SET,Z.original=1,Z.in_samplerate=44100,Z.num_channels=2,Z.num_samples=-1,Z.bWriteVbrTag=!0,Z.quality=-1,Z.short_blocks=null,he.subblock_gain=-1,Z.lowpassfreq=0,Z.highpassfreq=0,Z.lowpasswidth=-1,Z.highpasswidth=-1,Z.VBR=i.vbr_off,Z.VBR_q=4,Z.ATHcurve=-1,Z.VBR_mean_bitrate_kbps=128,Z.VBR_min_bitrate_kbps=0,Z.VBR_max_bitrate_kbps=0,Z.VBR_hard_min=0,he.VBR_min_bitrate=1,he.VBR_max_bitrate=13,Z.quant_comp=-1,Z.quant_comp_short=-1,Z.msfix=-1,he.resample_ratio=1,he.OldValue[0]=180,he.OldValue[1]=180,he.CurrentStep[0]=4,he.CurrentStep[1]=4,he.masking_lower=1,he.nsPsy.attackthre=-1,he.nsPsy.attackthre_s=-1,Z.scale=-1,Z.athaa_type=-1,Z.ATHtype=-1,Z.athaa_loudapprox=-1,Z.athaa_sensitivity=0,Z.useTemporal=null,Z.interChRatio=-1,he.mf_samples_to_encode=j.ENCDELAY+j.POSTDELAY,Z.encoder_padding=0,he.mf_size=j.ENCDELAY-j.MDCTDELAY,Z.findReplayGain=!1,Z.decode_on_the_fly=!1,he.decode_on_the_fly=!1,he.findReplayGain=!1,he.findPeakSample=!1,he.RadioGain=0,he.AudiophileGain=0,he.noclipGainChange=0,he.noclipScale=-1,Z.preset=0,Z.write_id3tag_automatic=!0,0}this.lame_init=function(){var Z=new U;return ge(Z),Z.lame_allocated_gfp=1,Z};function _e(Z){return Z>1?0:Z<=0?1:Math.cos(Math.PI/2*Z)}this.nearestBitrateFullIndex=function(Z){var he=[8,16,24,32,40,48,56,64,80,96,112,128,160,192,224,256,320],pt=0,_t=0,kt=0,Dt=0;Dt=he[16],kt=16,_t=he[16],pt=16;for(var Pt=0;Pt<16;Pt++)if(Math.max(Z,he[Pt+1])!=Z){Dt=he[Pt+1],kt=Pt+1,_t=he[Pt],pt=Pt;break}return Dt-Z>Z-_t?pt:kt};function H(Z,he){var pt=44100;return he>=48e3?pt=48e3:he>=44100?pt=44100:he>=32e3?pt=32e3:he>=24e3?pt=24e3:he>=22050?pt=22050:he>=16e3?pt=16e3:he>=12e3?pt=12e3:he>=11025?pt=11025:he>=8e3&&(pt=8e3),Z==-1?pt:(Z<=15960&&(pt=44100),Z<=15250&&(pt=32e3),Z<=11220&&(pt=24e3),Z<=9970&&(pt=22050),Z<=7230&&(pt=16e3),Z<=5420&&(pt=12e3),Z<=4510&&(pt=11025),Z<=3970&&(pt=8e3),he<pt?he>44100?48e3:he>32e3?44100:he>24e3?32e3:he>22050?24e3:he>16e3?22050:he>12e3?16e3:he>11025?12e3:he>8e3?11025:8e3:pt)}function me(Z,he){switch(Z){case 44100:return he.version=1,0;case 48e3:return he.version=1,1;case 32e3:return he.version=1,2;case 22050:return he.version=0,0;case 24e3:return he.version=0,1;case 16e3:return he.version=0,2;case 11025:return he.version=0,0;case 12e3:return he.version=0,1;case 8e3:return he.version=0,2;default:return he.version=0,-1}}function je(Z,he,pt){pt<16e3&&(he=2);for(var _t=M.bitrate_table[he][1],kt=2;kt<=14;kt++)M.bitrate_table[he][kt]>0&&Math.abs(M.bitrate_table[he][kt]-Z)<Math.abs(_t-Z)&&(_t=M.bitrate_table[he][kt]);return _t}function fe(Z,he,pt){pt<16e3&&(he=2);for(var _t=0;_t<=14;_t++)if(M.bitrate_table[he][_t]>0&&M.bitrate_table[he][_t]==Z)return _t;return-1}function Re(Z,he){var pt=[new C(8,2e3),new C(16,3700),new C(24,3900),new C(32,5500),new C(40,7e3),new C(48,7500),new C(56,1e4),new C(64,11e3),new C(80,13500),new C(96,15100),new C(112,15600),new C(128,17e3),new C(160,17500),new C(192,18600),new C(224,19400),new C(256,19700),new C(320,20500)],_t=se.nearestBitrateFullIndex(he);Z.lowerlimit=pt[_t].lowpass}function X(Z){var he=Z.internal_flags,pt=32,_t=-1;if(he.lowpass1>0){for(var kt=999,Dt=0;Dt<=31;Dt++){var Pt=Dt/31;Pt>=he.lowpass2&&(pt=Math.min(pt,Dt)),he.lowpass1<Pt&&Pt<he.lowpass2&&(kt=Math.min(kt,Dt))}kt==999?he.lowpass1=(pt-.75)/31:he.lowpass1=(kt-.75)/31,he.lowpass2=pt/31}if(he.highpass2>0&&he.highpass2<.9*(.75/31)&&(he.highpass1=0,he.highpass2=0,m.err.println(`Warning: highpass filter disabled.  highpass frequency too small
`)),he.highpass2>0){for(var Ae=-1,Dt=0;Dt<=31;Dt++){var Pt=Dt/31;Pt<=he.highpass1&&(_t=Math.max(_t,Dt)),he.highpass1<Pt&&Pt<he.highpass2&&(Ae=Math.max(Ae,Dt))}he.highpass1=_t/31,Ae==-1?he.highpass2=(_t+.75)/31:he.highpass2=(Ae+.75)/31}for(var Dt=0;Dt<32;Dt++){var mt,gt,Pt=Dt/31;he.highpass2>he.highpass1?mt=_e((he.highpass2-Pt)/(he.highpass2-he.highpass1+1e-20)):mt=1,he.lowpass2>he.lowpass1?gt=_e((Pt-he.lowpass1)/(he.lowpass2-he.lowpass1+1e-20)):gt=1,he.amp_filter[Dt]=mt*gt}}function pe(Z){var he=Z.internal_flags;switch(Z.quality){default:case 9:he.psymodel=0,he.noise_shaping=0,he.noise_shaping_amp=0,he.noise_shaping_stop=0,he.use_best_huffman=0,he.full_outer_loop=0;break;case 8:Z.quality=7;case 7:he.psymodel=1,he.noise_shaping=0,he.noise_shaping_amp=0,he.noise_shaping_stop=0,he.use_best_huffman=0,he.full_outer_loop=0;break;case 6:he.psymodel=1,he.noise_shaping==0&&(he.noise_shaping=1),he.noise_shaping_amp=0,he.noise_shaping_stop=0,he.subblock_gain==-1&&(he.subblock_gain=1),he.use_best_huffman=0,he.full_outer_loop=0;break;case 5:he.psymodel=1,he.noise_shaping==0&&(he.noise_shaping=1),he.noise_shaping_amp=0,he.noise_shaping_stop=0,he.subblock_gain==-1&&(he.subblock_gain=1),he.use_best_huffman=0,he.full_outer_loop=0;break;case 4:he.psymodel=1,he.noise_shaping==0&&(he.noise_shaping=1),he.noise_shaping_amp=0,he.noise_shaping_stop=0,he.subblock_gain==-1&&(he.subblock_gain=1),he.use_best_huffman=1,he.full_outer_loop=0;break;case 3:he.psymodel=1,he.noise_shaping==0&&(he.noise_shaping=1),he.noise_shaping_amp=1,he.noise_shaping_stop=1,he.subblock_gain==-1&&(he.subblock_gain=1),he.use_best_huffman=1,he.full_outer_loop=0;break;case 2:he.psymodel=1,he.noise_shaping==0&&(he.noise_shaping=1),he.substep_shaping==0&&(he.substep_shaping=2),he.noise_shaping_amp=1,he.noise_shaping_stop=1,he.subblock_gain==-1&&(he.subblock_gain=1),he.use_best_huffman=1,he.full_outer_loop=0;break;case 1:he.psymodel=1,he.noise_shaping==0&&(he.noise_shaping=1),he.substep_shaping==0&&(he.substep_shaping=2),he.noise_shaping_amp=2,he.noise_shaping_stop=1,he.subblock_gain==-1&&(he.subblock_gain=1),he.use_best_huffman=1,he.full_outer_loop=0;break;case 0:he.psymodel=1,he.noise_shaping==0&&(he.noise_shaping=1),he.substep_shaping==0&&(he.substep_shaping=2),he.noise_shaping_amp=2,he.noise_shaping_stop=1,he.subblock_gain==-1&&(he.subblock_gain=1),he.use_best_huffman=1,he.full_outer_loop=0;break}}function Y(Z){var he=Z.internal_flags;Z.frameNum=0,Z.write_id3tag_automatic&&we.id3tag_write_v2(Z),he.bitrate_stereoMode_Hist=l([16,4+1]),he.bitrate_blockType_Hist=l([16,4+1+1]),he.PeakSample=0,Z.bWriteVbrTag&&Ee.InitVbrTag(Z)}this.lame_init_params=function(Z){var he=Z.internal_flags;if(he.Class_ID=0,he.ATH==null&&(he.ATH=new K),he.PSY==null&&(he.PSY=new G),he.rgdata==null&&(he.rgdata=new z),he.channels_in=Z.num_channels,he.channels_in==1&&(Z.mode=h.MONO),he.channels_out=Z.mode==h.MONO?1:2,he.mode_ext=j.MPG_MD_MS_LR,Z.mode==h.MONO&&(Z.force_ms=!1),Z.VBR==i.vbr_off&&Z.VBR_mean_bitrate_kbps!=128&&Z.brate==0&&(Z.brate=Z.VBR_mean_bitrate_kbps),Z.VBR==i.vbr_off||Z.VBR==i.vbr_mtrh||Z.VBR==i.vbr_mt||(Z.free_format=!1),Z.VBR==i.vbr_off&&Z.brate==0&&x.EQ(Z.compression_ratio,0)&&(Z.compression_ratio=11.025),Z.VBR==i.vbr_off&&Z.compression_ratio>0&&(Z.out_samplerate==0&&(Z.out_samplerate=map2MP3Frequency(int(.97*Z.in_samplerate))),Z.brate=0|Z.out_samplerate*16*he.channels_out/(1e3*Z.compression_ratio),he.samplerate_index=me(Z.out_samplerate,Z),Z.free_format||(Z.brate=je(Z.brate,Z.version,Z.out_samplerate))),Z.out_samplerate!=0&&(Z.out_samplerate<16e3?(Z.VBR_mean_bitrate_kbps=Math.max(Z.VBR_mean_bitrate_kbps,8),Z.VBR_mean_bitrate_kbps=Math.min(Z.VBR_mean_bitrate_kbps,64)):Z.out_samplerate<32e3?(Z.VBR_mean_bitrate_kbps=Math.max(Z.VBR_mean_bitrate_kbps,8),Z.VBR_mean_bitrate_kbps=Math.min(Z.VBR_mean_bitrate_kbps,160)):(Z.VBR_mean_bitrate_kbps=Math.max(Z.VBR_mean_bitrate_kbps,32),Z.VBR_mean_bitrate_kbps=Math.min(Z.VBR_mean_bitrate_kbps,320))),Z.lowpassfreq==0){var pt=16e3;switch(Z.VBR){case i.vbr_off:{var _t=new I;Re(_t,Z.brate),pt=_t.lowerlimit;break}case i.vbr_abr:{var _t=new I;Re(_t,Z.VBR_mean_bitrate_kbps),pt=_t.lowerlimit;break}case i.vbr_rh:{var kt=[19500,19e3,18600,18e3,17500,16e3,15600,14900,12500,1e4,3950];if(0<=Z.VBR_q&&Z.VBR_q<=9){var Dt=kt[Z.VBR_q],Pt=kt[Z.VBR_q+1],Ae=Z.VBR_q_frac;pt=linear_int(Dt,Pt,Ae)}else pt=19500;break}default:{var kt=[19500,19e3,18500,18e3,17500,16500,15500,14500,12500,9500,3950];if(0<=Z.VBR_q&&Z.VBR_q<=9){var Dt=kt[Z.VBR_q],Pt=kt[Z.VBR_q+1],Ae=Z.VBR_q_frac;pt=linear_int(Dt,Pt,Ae)}else pt=19500}}Z.mode==h.MONO&&(Z.VBR==i.vbr_off||Z.VBR==i.vbr_abr)&&(pt*=1.5),Z.lowpassfreq=pt|0}if(Z.out_samplerate==0&&(2*Z.lowpassfreq>Z.in_samplerate&&(Z.lowpassfreq=Z.in_samplerate/2),Z.out_samplerate=H(Z.lowpassfreq|0,Z.in_samplerate)),Z.lowpassfreq=Math.min(20500,Z.lowpassfreq),Z.lowpassfreq=Math.min(Z.out_samplerate/2,Z.lowpassfreq),Z.VBR==i.vbr_off&&(Z.compression_ratio=Z.out_samplerate*16*he.channels_out/(1e3*Z.brate)),Z.VBR==i.vbr_abr&&(Z.compression_ratio=Z.out_samplerate*16*he.channels_out/(1e3*Z.VBR_mean_bitrate_kbps)),Z.bWriteVbrTag||(Z.findReplayGain=!1,Z.decode_on_the_fly=!1,he.findPeakSample=!1),he.findReplayGain=Z.findReplayGain,he.decode_on_the_fly=Z.decode_on_the_fly,he.decode_on_the_fly&&(he.findPeakSample=!0),he.findReplayGain&&We.InitGainAnalysis(he.rgdata,Z.out_samplerate)==g.INIT_GAIN_ANALYSIS_ERROR)return Z.internal_flags=null,-6;switch(he.decode_on_the_fly&&!Z.decode_only&&(he.hip!=null&&B.hip_decode_exit(he.hip),he.hip=B.hip_decode_init()),he.mode_gr=Z.out_samplerate<=24e3?1:2,Z.framesize=576*he.mode_gr,Z.encoder_delay=j.ENCDELAY,he.resample_ratio=Z.in_samplerate/Z.out_samplerate,Z.VBR){case i.vbr_mt:case i.vbr_rh:case i.vbr_mtrh:{var mt=[5.7,6.5,7.3,8.2,10,11.9,13,14,15,16.5];Z.compression_ratio=mt[Z.VBR_q]}break;case i.vbr_abr:Z.compression_ratio=Z.out_samplerate*16*he.channels_out/(1e3*Z.VBR_mean_bitrate_kbps);break;default:Z.compression_ratio=Z.out_samplerate*16*he.channels_out/(1e3*Z.brate);break}if(Z.mode==h.NOT_SET&&(Z.mode=h.JOINT_STEREO),Z.highpassfreq>0?(he.highpass1=2*Z.highpassfreq,Z.highpasswidth>=0?he.highpass2=2*(Z.highpassfreq+Z.highpasswidth):he.highpass2=(1+0)*2*Z.highpassfreq,he.highpass1/=Z.out_samplerate,he.highpass2/=Z.out_samplerate):(he.highpass1=0,he.highpass2=0),Z.lowpassfreq>0?(he.lowpass2=2*Z.lowpassfreq,Z.lowpasswidth>=0?(he.lowpass1=2*(Z.lowpassfreq-Z.lowpasswidth),he.lowpass1<0&&(he.lowpass1=0)):he.lowpass1=(1-0)*2*Z.lowpassfreq,he.lowpass1/=Z.out_samplerate,he.lowpass2/=Z.out_samplerate):(he.lowpass1=0,he.lowpass2=0),X(Z),he.samplerate_index=me(Z.out_samplerate,Z),he.samplerate_index<0)return Z.internal_flags=null,-1;if(Z.VBR==i.vbr_off){if(Z.free_format)he.bitrate_index=0;else if(Z.brate=je(Z.brate,Z.version,Z.out_samplerate),he.bitrate_index=fe(Z.brate,Z.version,Z.out_samplerate),he.bitrate_index<=0)return Z.internal_flags=null,-1}else he.bitrate_index=1;Z.analysis&&(Z.bWriteVbrTag=!1),he.pinfo!=null&&(Z.bWriteVbrTag=!1),Ke.init_bit_stream_w(he);for(var gt=he.samplerate_index+3*Z.version+6*(Z.out_samplerate<16e3?1:0),tt=0;tt<j.SBMAX_l+1;tt++)he.scalefac_band.l[tt]=et.sfBandIndex[gt].l[tt];for(var tt=0;tt<j.PSFB21+1;tt++){var zt=(he.scalefac_band.l[22]-he.scalefac_band.l[21])/j.PSFB21,xt=he.scalefac_band.l[21]+tt*zt;he.scalefac_band.psfb21[tt]=xt}he.scalefac_band.psfb21[j.PSFB21]=576;for(var tt=0;tt<j.SBMAX_s+1;tt++)he.scalefac_band.s[tt]=et.sfBandIndex[gt].s[tt];for(var tt=0;tt<j.PSFB12+1;tt++){var zt=(he.scalefac_band.s[13]-he.scalefac_band.s[12])/j.PSFB12,xt=he.scalefac_band.s[12]+tt*zt;he.scalefac_band.psfb12[tt]=xt}he.scalefac_band.psfb12[j.PSFB12]=192,Z.version==1?he.sideinfo_len=he.channels_out==1?4+17:4+32:he.sideinfo_len=he.channels_out==1?4+9:4+17,Z.error_protection&&(he.sideinfo_len+=2),Y(Z),he.Class_ID=ye;{var Gt;for(Gt=0;Gt<19;Gt++)he.nsPsy.pefirbuf[Gt]=700*he.mode_gr*he.channels_out;Z.ATHtype==-1&&(Z.ATHtype=4)}switch(Z.VBR){case i.vbr_mt:Z.VBR=i.vbr_mtrh;case i.vbr_mtrh:{Z.useTemporal==null&&(Z.useTemporal=!1),Ge.apply_preset(Z,500-Z.VBR_q*10,0),Z.quality<0&&(Z.quality=LAME_DEFAULT_QUALITY),Z.quality<5&&(Z.quality=0),Z.quality>5&&(Z.quality=5),he.PSY.mask_adjust=Z.maskingadjust,he.PSY.mask_adjust_short=Z.maskingadjust_short,Z.experimentalY?he.sfb21_extra=!1:he.sfb21_extra=Z.out_samplerate>44e3,he.iteration_loop=new VBRNewIterationLoop(ut);break}case i.vbr_rh:{Ge.apply_preset(Z,500-Z.VBR_q*10,0),he.PSY.mask_adjust=Z.maskingadjust,he.PSY.mask_adjust_short=Z.maskingadjust_short,Z.experimentalY?he.sfb21_extra=!1:he.sfb21_extra=Z.out_samplerate>44e3,Z.quality>6&&(Z.quality=6),Z.quality<0&&(Z.quality=LAME_DEFAULT_QUALITY),he.iteration_loop=new VBROldIterationLoop(ut);break}default:{var Ct;he.sfb21_extra=!1,Z.quality<0&&(Z.quality=LAME_DEFAULT_QUALITY),Ct=Z.VBR,Ct==i.vbr_off&&(Z.VBR_mean_bitrate_kbps=Z.brate),Ge.apply_preset(Z,Z.VBR_mean_bitrate_kbps,0),Z.VBR=Ct,he.PSY.mask_adjust=Z.maskingadjust,he.PSY.mask_adjust_short=Z.maskingadjust_short,Ct==i.vbr_off?he.iteration_loop=new V(ut):he.iteration_loop=new ABRIterationLoop(ut);break}}if(Z.VBR!=i.vbr_off){if(he.VBR_min_bitrate=1,he.VBR_max_bitrate=14,Z.out_samplerate<16e3&&(he.VBR_max_bitrate=8),Z.VBR_min_bitrate_kbps!=0&&(Z.VBR_min_bitrate_kbps=je(Z.VBR_min_bitrate_kbps,Z.version,Z.out_samplerate),he.VBR_min_bitrate=fe(Z.VBR_min_bitrate_kbps,Z.version,Z.out_samplerate),he.VBR_min_bitrate<0)||Z.VBR_max_bitrate_kbps!=0&&(Z.VBR_max_bitrate_kbps=je(Z.VBR_max_bitrate_kbps,Z.version,Z.out_samplerate),he.VBR_max_bitrate=fe(Z.VBR_max_bitrate_kbps,Z.version,Z.out_samplerate),he.VBR_max_bitrate<0))return-1;Z.VBR_min_bitrate_kbps=M.bitrate_table[Z.version][he.VBR_min_bitrate],Z.VBR_max_bitrate_kbps=M.bitrate_table[Z.version][he.VBR_max_bitrate],Z.VBR_mean_bitrate_kbps=Math.min(M.bitrate_table[Z.version][he.VBR_max_bitrate],Z.VBR_mean_bitrate_kbps),Z.VBR_mean_bitrate_kbps=Math.max(M.bitrate_table[Z.version][he.VBR_min_bitrate],Z.VBR_mean_bitrate_kbps)}return Z.tune&&(he.PSY.mask_adjust+=Z.tune_value_a,he.PSY.mask_adjust_short+=Z.tune_value_a),pe(Z),Z.athaa_type<0?he.ATH.useAdjust=3:he.ATH.useAdjust=Z.athaa_type,he.ATH.aaSensitivityP=Math.pow(10,Z.athaa_sensitivity/-10),Z.short_blocks==null&&(Z.short_blocks=a.short_block_allowed),Z.short_blocks==a.short_block_allowed&&(Z.mode==h.JOINT_STEREO||Z.mode==h.STEREO)&&(Z.short_blocks=a.short_block_coupled),Z.quant_comp<0&&(Z.quant_comp=1),Z.quant_comp_short<0&&(Z.quant_comp_short=0),Z.msfix<0&&(Z.msfix=0),Z.exp_nspsytune=Z.exp_nspsytune|1,Z.internal_flags.nsPsy.attackthre<0&&(Z.internal_flags.nsPsy.attackthre=Me.NSATTACKTHRE),Z.internal_flags.nsPsy.attackthre_s<0&&(Z.internal_flags.nsPsy.attackthre_s=Me.NSATTACKTHRE_S),Z.scale<0&&(Z.scale=1),Z.ATHtype<0&&(Z.ATHtype=4),Z.ATHcurve<0&&(Z.ATHcurve=4),Z.athaa_loudapprox<0&&(Z.athaa_loudapprox=2),Z.interChRatio<0&&(Z.interChRatio=0),Z.useTemporal==null&&(Z.useTemporal=!0),he.slot_lag=he.frac_SpF=0,Z.VBR==i.vbr_off&&(he.slot_lag=he.frac_SpF=(Z.version+1)*72e3*Z.brate%Z.out_samplerate|0),et.iteration_init(Z),Be.psymodel_init(Z),0};function q(Z,he){(Z.in_buffer_0==null||Z.in_buffer_nsamples<he)&&(Z.in_buffer_0=e(he),Z.in_buffer_1=e(he),Z.in_buffer_nsamples=he)}this.lame_encode_flush=function(Z,he,pt,_t){var kt=Z.internal_flags,Dt=o([2,1152]),Pt=0,Ae,mt,gt,tt,zt=kt.mf_samples_to_encode-j.POSTDELAY,xt=J(Z);if(kt.mf_samples_to_encode<1)return 0;for(Ae=0,Z.in_samplerate!=Z.out_samplerate&&(zt+=16*Z.out_samplerate/Z.in_samplerate),gt=Z.framesize-zt%Z.framesize,gt<576&&(gt+=Z.framesize),Z.encoder_padding=gt,tt=(zt+gt)/Z.framesize;tt>0&&Pt>=0;){var Gt=xt-kt.mf_size,Ct=Z.frameNum;Gt*=Z.in_samplerate,Gt/=Z.out_samplerate,Gt>1152&&(Gt=1152),Gt<1&&(Gt=1),mt=_t-Ae,_t==0&&(mt=0),Pt=this.lame_encode_buffer(Z,Dt[0],Dt[1],Gt,he,pt,mt),pt+=Pt,Ae+=Pt,tt-=Ct!=Z.frameNum?1:0}if(kt.mf_samples_to_encode=0,Pt<0||(mt=_t-Ae,_t==0&&(mt=0),Ke.flush_bitstream(Z),Pt=Ke.copy_buffer(kt,he,pt,mt,1),Pt<0))return Pt;if(pt+=Pt,Ae+=Pt,mt=_t-Ae,_t==0&&(mt=0),Z.write_id3tag_automatic){if(we.id3tag_write_v1(Z),Pt=Ke.copy_buffer(kt,he,pt,mt,0),Pt<0)return Pt;Ae+=Pt}return Ae},this.lame_encode_buffer=function(Z,he,pt,_t,kt,Dt,Pt){var Ae=Z.internal_flags,mt=[null,null];if(Ae.Class_ID!=ye)return-3;if(_t==0)return 0;q(Ae,_t),mt[0]=Ae.in_buffer_0,mt[1]=Ae.in_buffer_1;for(var gt=0;gt<_t;gt++)mt[0][gt]=he[gt],Ae.channels_in>1&&(mt[1][gt]=pt[gt]);return de(Z,mt[0],mt[1],_t,kt,Dt,Pt)};function J(Z){var he=j.BLKSIZE+Z.framesize-j.FFTOFFSET;return he=Math.max(he,512+Z.framesize-32),he}function de(Z,he,pt,_t,kt,Dt,Pt){var Ae=Z.internal_flags,mt=0,gt,tt,zt,xt,Gt,Ct=[null,null],$t=[null,null];if(Ae.Class_ID!=ye)return-3;if(_t==0)return 0;if(Gt=Ke.copy_buffer(Ae,kt,Dt,Pt,0),Gt<0)return Gt;if(Dt+=Gt,mt+=Gt,$t[0]=he,$t[1]=pt,x.NEQ(Z.scale,0)&&x.NEQ(Z.scale,1))for(tt=0;tt<_t;++tt)$t[0][tt]*=Z.scale,Ae.channels_out==2&&($t[1][tt]*=Z.scale);if(x.NEQ(Z.scale_left,0)&&x.NEQ(Z.scale_left,1))for(tt=0;tt<_t;++tt)$t[0][tt]*=Z.scale_left;if(x.NEQ(Z.scale_right,0)&&x.NEQ(Z.scale_right,1))for(tt=0;tt<_t;++tt)$t[1][tt]*=Z.scale_right;if(Z.num_channels==2&&Ae.channels_out==1)for(tt=0;tt<_t;++tt)$t[0][tt]=.5*($t[0][tt]+$t[1][tt]),$t[1][tt]=0;xt=J(Z),Ct[0]=Ae.mfbuf[0],Ct[1]=Ae.mfbuf[1];for(var At=0;_t>0;){var lr=[null,null],mr=0,dr=0;lr[0]=$t[0],lr[1]=$t[1];var hr=new le;if(rt(Z,Ct,lr,At,_t,hr),mr=hr.n_in,dr=hr.n_out,Ae.findReplayGain&&!Ae.decode_on_the_fly&&We.AnalyzeSamples(Ae.rgdata,Ct[0],Ae.mf_size,Ct[1],Ae.mf_size,dr,Ae.channels_out)==g.GAIN_ANALYSIS_ERROR)return-6;if(_t-=mr,At+=mr,Ae.channels_out==2,Ae.mf_size+=dr,Ae.mf_samples_to_encode<1&&(Ae.mf_samples_to_encode=j.ENCDELAY+j.POSTDELAY),Ae.mf_samples_to_encode+=dr,Ae.mf_size>=xt){var zr=Pt-mt;if(Pt==0&&(zr=0),gt=ee(Z,Ct[0],Ct[1],kt,Dt,zr),gt<0)return gt;for(Dt+=gt,mt+=gt,Ae.mf_size-=Z.framesize,Ae.mf_samples_to_encode-=Z.framesize,zt=0;zt<Ae.channels_out;zt++)for(tt=0;tt<Ae.mf_size;tt++)Ct[zt][tt]=Ct[zt][tt+Z.framesize]}}return mt}function ee(Z,he,pt,_t,kt,Dt){var Pt=se.enc.lame_encode_mp3_frame(Z,he,pt,_t,kt,Dt);return Z.frameNum++,Pt}function le(){this.n_in=0,this.n_out=0}function be(){this.num_used=0}function Ue(Z,he){return he!=0?Ue(he,Z%he):Z}function Je(Z,he,pt){var _t=Math.PI*he;Z/=pt,Z<0&&(Z=0),Z>1&&(Z=1);var kt=Z-.5,Dt=.42-.5*Math.cos(2*Z*Math.PI)+.08*Math.cos(4*Z*Math.PI);return Math.abs(kt)<1e-9?_t/Math.PI:Dt*Math.sin(pt*_t*kt)/(Math.PI*pt*kt)}function Ye(Z,he,pt,_t,kt,Dt,Pt,Ae,mt){var gt=Z.internal_flags,tt,zt=0,xt,Gt=Z.out_samplerate/Ue(Z.out_samplerate,Z.in_samplerate);Gt>Te.BPC&&(Gt=Te.BPC);var Ct=Math.abs(gt.resample_ratio-Math.floor(.5+gt.resample_ratio))<1e-4?1:0,$t=1/gt.resample_ratio;$t>1&&($t=1);var At=31;At%2==0&&--At,At+=Ct;var lr=At+1;if(gt.fill_buffer_resample_init==0){for(gt.inbuf_old[0]=e(lr),gt.inbuf_old[1]=e(lr),tt=0;tt<=2*Gt;++tt)gt.blackfilt[tt]=e(lr);for(gt.itime[0]=0,gt.itime[1]=0,zt=0;zt<=2*Gt;zt++){var mr=0,dr=(zt-Gt)/(2*Gt);for(tt=0;tt<=At;tt++)mr+=gt.blackfilt[zt][tt]=Je(tt-dr,$t,At);for(tt=0;tt<=At;tt++)gt.blackfilt[zt][tt]/=mr}gt.fill_buffer_resample_init=1}var hr=gt.inbuf_old[mt];for(xt=0;xt<_t;xt++){var zr,$r;if(zr=xt*gt.resample_ratio,zt=0|Math.floor(zr-gt.itime[mt]),At+zt-At/2>=Pt)break;var dr=zr-gt.itime[mt]-(zt+.5*(At%2));$r=0|Math.floor(dr*2*Gt+Gt+.5);var un=0;for(tt=0;tt<=At;++tt){var fr=0|tt+zt-At/2,Ls;Ls=fr<0?hr[lr+fr]:kt[Dt+fr],un+=Ls*gt.blackfilt[$r][tt]}he[pt+xt]=un}if(Ae.num_used=Math.min(Pt,At+zt-At/2),gt.itime[mt]+=Ae.num_used-xt*gt.resample_ratio,Ae.num_used>=lr)for(tt=0;tt<lr;tt++)hr[tt]=kt[Dt+Ae.num_used+tt-lr];else{var Zr=lr-Ae.num_used;for(tt=0;tt<Zr;++tt)hr[tt]=hr[tt+Ae.num_used];for(zt=0;tt<lr;++tt,++zt)hr[tt]=kt[Dt+zt]}return xt}function rt(Z,he,pt,_t,kt,Dt){var Pt=Z.internal_flags;if(Pt.resample_ratio<.9999||Pt.resample_ratio>1.0001)for(var Ae=0;Ae<Pt.channels_out;Ae++){var mt=new be;Dt.n_out=Ye(Z,he[Ae],Pt.mf_size,Z.framesize,pt[Ae],_t,kt,mt,Ae),Dt.n_in=mt.num_used}else{Dt.n_out=Math.min(Z.framesize,kt),Dt.n_in=Dt.n_out;for(var gt=0;gt<Dt.n_out;++gt)he[0][Pt.mf_size+gt]=pt[0][_t+gt],Pt.channels_out==2&&(he[1][Pt.mf_size+gt]=pt[1][_t+gt])}}}function Xe(){this.setModules=function(se,Ne){}}function ve(){this.setModules=function(se,Ne,Oe){}}function Ce(){}function Fe(){this.setModules=function(se,Ne){}}function ze(se,Ne,Oe){arguments.length!=3&&(console.error("WARN: Mp3Encoder(channels, samplerate, kbps) not specified"),se=1,Ne=44100,Oe=128);var We=new Se,Ke=new Xe,Ge=new g,et=new x,ut=new v,Be=new Q,Ee=new ce,we=new k,B=new p,G=new Fe,I=new w,C=new b,ye=new ve,ge=new Ce;We.setModules(Ge,et,ut,Be,Ee,we,B,G,ge),et.setModules(Ge,ge,B,we),G.setModules(et,B),ut.setModules(We),Ee.setModules(et,I,Be,C),Be.setModules(C,I,We.enc.psy),I.setModules(et),C.setModules(Be),we.setModules(We,et,B),Ke.setModules(ye,ge),ye.setModules(B,G,ut);var _e=We.lame_init();_e.num_channels=se,_e.in_samplerate=Ne,_e.brate=Oe,_e.mode=h.STEREO,_e.quality=3,_e.bWriteVbrTag=!1,_e.disable_reservoir=!0,_e.write_id3tag_automatic=!1,We.lame_init_params(_e);var H=1152,me=0|1.25*H+7200,je=r(me);this.encodeBuffer=function(fe,Re){se==1&&(Re=fe),fe.length>H&&(H=fe.length,me=0|1.25*H+7200,je=r(me));var X=We.lame_encode_buffer(_e,fe,Re,fe.length,je,0,me);return new Int8Array(je.subarray(0,X))},this.flush=function(){var fe=We.lame_encode_flush(_e,je,0,me);return new Int8Array(je.subarray(0,fe))}}function Ve(){this.dataOffset=0,this.dataLen=0,this.channels=0,this.sampleRate=0}function ot(se){return se.charCodeAt(0)<<24|se.charCodeAt(1)<<16|se.charCodeAt(2)<<8|se.charCodeAt(3)}Ve.RIFF=ot("RIFF"),Ve.WAVE=ot("WAVE"),Ve.fmt_=ot("fmt "),Ve.data=ot("data"),Ve.readHeader=function(se){var Ne=new Ve,Oe=se.getUint32(0,!1);if(Ve.RIFF==Oe&&(se.getUint32(4,!0),Ve.WAVE==se.getUint32(8,!1)&&Ve.fmt_==se.getUint32(12,!1))){var We=se.getUint32(16,!0),Ke=16+4;switch(We){case 16:case 18:Ne.channels=se.getUint16(Ke+2,!0),Ne.sampleRate=se.getUint32(Ke+4,!0);break;default:throw"extended fmt chunk not implemented"}Ke+=We;for(var Ge=Ve.data,et=0;Ge!=Oe&&(Oe=se.getUint32(Ke,!1),et=se.getUint32(Ke+4,!0),Ge!=Oe);)Ke+=et+8;return Ne.dataLen=et,Ne.dataOffset=Ke+8,Ne}},oe.SFBMAX=j.SBMAX_s*3,_f.Mp3Encoder=ze,_f.WavHeader=Ve}_f();
